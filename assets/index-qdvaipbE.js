import{r as de,a as So,e as Co,i as oi,b as ko,t as ec,n as Pn,c as tc,m as To,d as _t,w as Bn,g as nc,o as rc,f as Sn,h as ic,j as dt,k as $,l as K,R as Ar,p as Le,C as Mr,q as ln,s as Je,u as Ae,v as ac,x as mt,y as $t,z as oc,A as si,B as ji,D as et,E as Ge,F as sc,G as jt,H as Ue,I as fi,J as di,K as pi,L as lc,M as cc,N as uc,O as Lo,P as Tt,Q as Qt,S as fc,T as Ao,U as Mo,V as dc,W as Cn,X as pc,Y as hc,Z as xr,_ as mc,$ as Xi,a0 as Ji,a1 as Or,a2 as gc,a3 as yc,a4 as bc,a5 as wc,a6 as vc,a7 as _c,a8 as Ec,a9 as nr,aa as Rr,ab as ua,ac as xo,ad as Oo,ae as Ro,af as Do,ag as No,ah as Ho,ai as Po,aj as Sc,ak as Cc,al as kc,am as Tc,an as Lc,ao as Ac}from"./tdesign-vue-next-CjIbFbrx.js";import{e as Na}from"./monaco-editor-DCUKHC_e.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))c(p);new MutationObserver(p=>{for(const _ of p)if(_.type==="childList")for(const E of _.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&c(E)}).observe(document,{childList:!0,subtree:!0});function l(p){const _={};return p.integrity&&(_.integrity=p.integrity),p.referrerPolicy&&(_.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?_.credentials="include":p.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function c(p){if(p.ep)return;p.ep=!0;const _=l(p);fetch(p.href,_)}})();/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Io;const hi=r=>Io=r,jo=Symbol();function Zi(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var _r;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(_r||(_r={}));function Mc(){const r=Co(!0),o=r.run(()=>de({}));let l=[],c=[];const p=To({install(_){hi(p),p._a=_,_.provide(jo,p),_.config.globalProperties.$pinia=p,c.forEach(E=>l.push(E)),c=[]},use(_){return this._a?l.push(_):c.push(_),this},_p:l,_a:null,_e:r,_s:new Map,state:o});return p}const Bo=()=>{};function Ha(r,o,l,c=Bo){r.push(o);const p=()=>{const _=r.indexOf(o);_>-1&&(r.splice(_,1),c())};return!l&&nc()&&rc(p),p}function Zn(r,...o){r.slice().forEach(l=>{l(...o)})}const xc=r=>r(),Pa=Symbol(),Bi=Symbol();function Yi(r,o){r instanceof Map&&o instanceof Map?o.forEach((l,c)=>r.set(c,l)):r instanceof Set&&o instanceof Set&&o.forEach(r.add,r);for(const l in o){if(!o.hasOwnProperty(l))continue;const c=o[l],p=r[l];Zi(p)&&Zi(c)&&r.hasOwnProperty(l)&&!oi(c)&&!ko(c)?r[l]=Yi(p,c):r[l]=c}return r}const Oc=Symbol();function Rc(r){return!Zi(r)||!r.hasOwnProperty(Oc)}const{assign:vn}=Object;function Dc(r){return!!(oi(r)&&r.effect)}function Nc(r,o,l,c){const{state:p,actions:_,getters:E}=o,g=l.state.value[r];let v;function x(){g||(l.state.value[r]=p?p():{});const M=tc(l.state.value[r]);return vn(M,_,Object.keys(E||{}).reduce((f,u)=>(f[u]=To(_t(()=>{hi(l);const b=l._s.get(r);return E[u].call(b,b)})),f),{}))}return v=Uo(r,x,o,l,c,!0),v}function Uo(r,o,l={},c,p,_){let E;const g=vn({actions:{}},l),v={deep:!0};let x,M,f=[],u=[],b;const y=c.state.value[r];!_&&!y&&(c.state.value[r]={}),de({});let w;function m(I){let N;x=M=!1,typeof I=="function"?(I(c.state.value[r]),N={type:_r.patchFunction,storeId:r,events:b}):(Yi(c.state.value[r],I),N={type:_r.patchObject,payload:I,storeId:r,events:b});const V=w=Symbol();Pn().then(()=>{w===V&&(x=!0)}),M=!0,Zn(f,N,c.state.value[r])}const k=_?function(){const{state:N}=l,V=N?N():{};this.$patch(W=>{vn(W,V)})}:Bo;function L(){E.stop(),f=[],u=[],c._s.delete(r)}const S=(I,N="")=>{if(Pa in I)return I[Bi]=N,I;const V=function(){hi(c);const W=Array.from(arguments),te=[],pe=[];function Se(se){te.push(se)}function Me(se){pe.push(se)}Zn(u,{args:W,name:V[Bi],store:d,after:Se,onError:Me});let re;try{re=I.apply(this&&this.$id===r?this:d,W)}catch(se){throw Zn(pe,se),se}return re instanceof Promise?re.then(se=>(Zn(te,se),se)).catch(se=>(Zn(pe,se),Promise.reject(se))):(Zn(te,re),re)};return V[Pa]=!0,V[Bi]=N,V},A={_p:c,$id:r,$onAction:Ha.bind(null,u),$patch:m,$reset:k,$subscribe(I,N={}){const V=Ha(f,I,N.detached,()=>W()),W=E.run(()=>Bn(()=>c.state.value[r],te=>{(N.flush==="sync"?M:x)&&I({storeId:r,type:_r.direct,events:b},te)},vn({},v,N)));return V},$dispose:L},d=So(A);c._s.set(r,d);const D=(c._a&&c._a.runWithContext||xc)(()=>c._e.run(()=>(E=Co()).run(()=>o({action:S}))));for(const I in D){const N=D[I];if(oi(N)&&!Dc(N)||ko(N))_||(y&&Rc(N)&&(oi(N)?N.value=y[I]:Yi(N,y[I])),c.state.value[r][I]=N);else if(typeof N=="function"){const V=S(N,I);D[I]=V,g.actions[I]=N}}return vn(d,D),vn(ec(d),D),Object.defineProperty(d,"$state",{get:()=>c.state.value[r],set:I=>{m(N=>{vn(N,I)})}}),c._p.forEach(I=>{vn(d,E.run(()=>I({store:d,app:c._a,pinia:c,options:g})))}),y&&_&&l.hydrate&&l.hydrate(d.$state,y),x=!0,M=!0,d}/*! #__NO_SIDE_EFFECTS__ */function mi(r,o,l){let c,p;const _=typeof o=="function";typeof r=="string"?(c=r,p=_?l:o):(p=r,c=r.id);function E(g,v){const x=ic();return g=g||(x?Sn(jo,null):null),g&&hi(g),g=Io,g._s.has(c)||(_?Uo(c,o,p,g):Nc(c,p,g)),g._s.get(c)}return E.$id=c,E}const Hc=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Pc=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Ic=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jc(r,o){if(r==="__proto__"||r==="constructor"&&o&&typeof o=="object"&&"prototype"in o){Bc(r);return}return o}function Bc(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function Uc(r,o={}){if(typeof r!="string")return r;if(r[0]==='"'&&r[r.length-1]==='"'&&r.indexOf("\\")===-1)return r.slice(1,-1);const l=r.trim();if(l.length<=9)switch(l.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Ic.test(r)){if(o.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(Hc.test(r)||Pc.test(r)){if(o.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,jc)}return JSON.parse(r)}catch(c){if(o.strict)throw c;return r}}function $c(r,o){if(r==null)return;let l=r;for(let c=0;c<o.length;c++){if(l==null||l[o[c]]==null)return;l=l[o[c]]}return l}function fa(r,o,l){if(l.length===0)return o;const c=l[0];return l.length>1&&(o=fa(typeof r!="object"||r===null||!Object.prototype.hasOwnProperty.call(r,c)?Number.isInteger(Number(l[1]))?[]:{}:r[c],o,Array.prototype.slice.call(l,1))),Number.isInteger(Number(c))&&Array.isArray(r)?r.slice()[c]:Object.assign({},r,{[c]:o})}function $o(r,o){if(r==null||o.length===0)return r;if(o.length===1){if(r==null)return r;if(Number.isInteger(o[0])&&Array.isArray(r))return Array.prototype.slice.call(r,0).splice(o[0],1);const l={};for(const c in r)l[c]=r[c];return delete l[o[0]],l}if(r[o[0]]==null){if(Number.isInteger(o[0])&&Array.isArray(r))return Array.prototype.concat.call([],r);const l={};for(const c in r)l[c]=r[c];return l}return fa(r,$o(r[o[0]],Array.prototype.slice.call(o,1)),[o[0]])}function Vo(r,o){return o.map(l=>l.split(".")).map(l=>[l,$c(r,l)]).filter(l=>l[1]!==void 0).reduce((l,c)=>fa(l,c[1],c[0]),{})}function Fo(r,o){return o.map(l=>l.split(".")).reduce((l,c)=>$o(l,c),r)}function Ia(r,{storage:o,serializer:l,key:c,debug:p,pick:_,omit:E,beforeHydrate:g,afterHydrate:v},x,M=!0){try{M&&(g==null||g(x));const f=o.getItem(c);if(f){const u=l.deserialize(f),b=_?Vo(u,_):u,y=E?Fo(b,E):b;r.$patch(y)}M&&(v==null||v(x))}catch(f){p&&console.error("[pinia-plugin-persistedstate]",f)}}function ja(r,{storage:o,serializer:l,key:c,debug:p,pick:_,omit:E}){try{const g=_?Vo(r,_):r,v=E?Fo(g,E):g,x=l.serialize(v);o.setItem(c,x)}catch(g){p&&console.error("[pinia-plugin-persistedstate]",g)}}function Vc(r,o,l){const{pinia:c,store:p,options:{persist:_=l}}=r;if(!_)return;if(!(p.$id in c.state.value)){const v=c._s.get(p.$id.replace("__hot:",""));v&&Promise.resolve().then(()=>v.$persist());return}const g=(Array.isArray(_)?_:_===!0?[{}]:[_]).map(o);p.$hydrate=({runHooks:v=!0}={})=>{g.forEach(x=>{Ia(p,x,r,v)})},p.$persist=()=>{g.forEach(v=>{ja(p.$state,v)})},g.forEach(v=>{Ia(p,v,r),p.$subscribe((x,M)=>ja(M,v),{detached:!0})})}function Fc(r={}){return function(o){Vc(o,l=>({key:(r.key?r.key:c=>c)(l.key??o.store.$id),debug:l.debug??r.debug??!1,serializer:l.serializer??r.serializer??{serialize:c=>JSON.stringify(c),deserialize:c=>Uc(c)},storage:l.storage??r.storage??window.localStorage,beforeHydrate:l.beforeHydrate,afterHydrate:l.afterHydrate,pick:l.pick,omit:l.omit}),r.auto??!1)}}var qc=Fc();function qo(r,o){return function(){return r.apply(o,arguments)}}const{toString:zc}=Object.prototype,{getPrototypeOf:da}=Object,gi=(r=>o=>{const l=zc.call(o);return r[l]||(r[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Gt=r=>(r=r.toLowerCase(),o=>gi(o)===r),yi=r=>o=>typeof o===r,{isArray:rr}=Array,Cr=yi("undefined");function Kc(r){return r!==null&&!Cr(r)&&r.constructor!==null&&!Cr(r.constructor)&&It(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const zo=Gt("ArrayBuffer");function Wc(r){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(r):o=r&&r.buffer&&zo(r.buffer),o}const Gc=yi("string"),It=yi("function"),Ko=yi("number"),bi=r=>r!==null&&typeof r=="object",Xc=r=>r===!0||r===!1,ei=r=>{if(gi(r)!=="object")return!1;const o=da(r);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Jc=Gt("Date"),Zc=Gt("File"),Yc=Gt("Blob"),Qc=Gt("FileList"),eu=r=>bi(r)&&It(r.pipe),tu=r=>{let o;return r&&(typeof FormData=="function"&&r instanceof FormData||It(r.append)&&((o=gi(r))==="formdata"||o==="object"&&It(r.toString)&&r.toString()==="[object FormData]"))},nu=Gt("URLSearchParams"),[ru,iu,au,ou]=["ReadableStream","Request","Response","Headers"].map(Gt),su=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dr(r,o,{allOwnKeys:l=!1}={}){if(r===null||typeof r>"u")return;let c,p;if(typeof r!="object"&&(r=[r]),rr(r))for(c=0,p=r.length;c<p;c++)o.call(null,r[c],c,r);else{const _=l?Object.getOwnPropertyNames(r):Object.keys(r),E=_.length;let g;for(c=0;c<E;c++)g=_[c],o.call(null,r[g],g,r)}}function Wo(r,o){o=o.toLowerCase();const l=Object.keys(r);let c=l.length,p;for(;c-- >0;)if(p=l[c],o===p.toLowerCase())return p;return null}const Nn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Go=r=>!Cr(r)&&r!==Nn;function Qi(){const{caseless:r}=Go(this)&&this||{},o={},l=(c,p)=>{const _=r&&Wo(o,p)||p;ei(o[_])&&ei(c)?o[_]=Qi(o[_],c):ei(c)?o[_]=Qi({},c):rr(c)?o[_]=c.slice():o[_]=c};for(let c=0,p=arguments.length;c<p;c++)arguments[c]&&Dr(arguments[c],l);return o}const lu=(r,o,l,{allOwnKeys:c}={})=>(Dr(o,(p,_)=>{l&&It(p)?r[_]=qo(p,l):r[_]=p},{allOwnKeys:c}),r),cu=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),uu=(r,o,l,c)=>{r.prototype=Object.create(o.prototype,c),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:o.prototype}),l&&Object.assign(r.prototype,l)},fu=(r,o,l,c)=>{let p,_,E;const g={};if(o=o||{},r==null)return o;do{for(p=Object.getOwnPropertyNames(r),_=p.length;_-- >0;)E=p[_],(!c||c(E,r,o))&&!g[E]&&(o[E]=r[E],g[E]=!0);r=l!==!1&&da(r)}while(r&&(!l||l(r,o))&&r!==Object.prototype);return o},du=(r,o,l)=>{r=String(r),(l===void 0||l>r.length)&&(l=r.length),l-=o.length;const c=r.indexOf(o,l);return c!==-1&&c===l},pu=r=>{if(!r)return null;if(rr(r))return r;let o=r.length;if(!Ko(o))return null;const l=new Array(o);for(;o-- >0;)l[o]=r[o];return l},hu=(r=>o=>r&&o instanceof r)(typeof Uint8Array<"u"&&da(Uint8Array)),mu=(r,o)=>{const c=(r&&r[Symbol.iterator]).call(r);let p;for(;(p=c.next())&&!p.done;){const _=p.value;o.call(r,_[0],_[1])}},gu=(r,o)=>{let l;const c=[];for(;(l=r.exec(o))!==null;)c.push(l);return c},yu=Gt("HTMLFormElement"),bu=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,c,p){return c.toUpperCase()+p}),Ba=(({hasOwnProperty:r})=>(o,l)=>r.call(o,l))(Object.prototype),wu=Gt("RegExp"),Xo=(r,o)=>{const l=Object.getOwnPropertyDescriptors(r),c={};Dr(l,(p,_)=>{let E;(E=o(p,_,r))!==!1&&(c[_]=E||p)}),Object.defineProperties(r,c)},vu=r=>{Xo(r,(o,l)=>{if(It(r)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const c=r[l];if(It(c)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},_u=(r,o)=>{const l={},c=p=>{p.forEach(_=>{l[_]=!0})};return rr(r)?c(r):c(String(r).split(o)),l},Eu=()=>{},Su=(r,o)=>r!=null&&Number.isFinite(r=+r)?r:o;function Cu(r){return!!(r&&It(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const ku=r=>{const o=new Array(10),l=(c,p)=>{if(bi(c)){if(o.indexOf(c)>=0)return;if(!("toJSON"in c)){o[p]=c;const _=rr(c)?[]:{};return Dr(c,(E,g)=>{const v=l(E,p+1);!Cr(v)&&(_[g]=v)}),o[p]=void 0,_}}return c};return l(r,0)},Tu=Gt("AsyncFunction"),Lu=r=>r&&(bi(r)||It(r))&&It(r.then)&&It(r.catch),Jo=((r,o)=>r?setImmediate:o?((l,c)=>(Nn.addEventListener("message",({source:p,data:_})=>{p===Nn&&_===l&&c.length&&c.shift()()},!1),p=>{c.push(p),Nn.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",It(Nn.postMessage)),Au=typeof queueMicrotask<"u"?queueMicrotask.bind(Nn):typeof process<"u"&&process.nextTick||Jo,z={isArray:rr,isArrayBuffer:zo,isBuffer:Kc,isFormData:tu,isArrayBufferView:Wc,isString:Gc,isNumber:Ko,isBoolean:Xc,isObject:bi,isPlainObject:ei,isReadableStream:ru,isRequest:iu,isResponse:au,isHeaders:ou,isUndefined:Cr,isDate:Jc,isFile:Zc,isBlob:Yc,isRegExp:wu,isFunction:It,isStream:eu,isURLSearchParams:nu,isTypedArray:hu,isFileList:Qc,forEach:Dr,merge:Qi,extend:lu,trim:su,stripBOM:cu,inherits:uu,toFlatObject:fu,kindOf:gi,kindOfTest:Gt,endsWith:du,toArray:pu,forEachEntry:mu,matchAll:gu,isHTMLForm:yu,hasOwnProperty:Ba,hasOwnProp:Ba,reduceDescriptors:Xo,freezeMethods:vu,toObjectSet:_u,toCamelCase:bu,noop:Eu,toFiniteNumber:Su,findKey:Wo,global:Nn,isContextDefined:Go,isSpecCompliantForm:Cu,toJSONObject:ku,isAsyncFn:Tu,isThenable:Lu,setImmediate:Jo,asap:Au};function Re(r,o,l,c,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",o&&(this.code=o),l&&(this.config=l),c&&(this.request=c),p&&(this.response=p,this.status=p.status?p.status:null)}z.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const Zo=Re.prototype,Yo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Yo[r]={value:r}});Object.defineProperties(Re,Yo);Object.defineProperty(Zo,"isAxiosError",{value:!0});Re.from=(r,o,l,c,p,_)=>{const E=Object.create(Zo);return z.toFlatObject(r,E,function(v){return v!==Error.prototype},g=>g!=="isAxiosError"),Re.call(E,r.message,o,l,c,p),E.cause=r,E.name=r.name,_&&Object.assign(E,_),E};const Mu=null;function ea(r){return z.isPlainObject(r)||z.isArray(r)}function Qo(r){return z.endsWith(r,"[]")?r.slice(0,-2):r}function Ua(r,o,l){return r?r.concat(o).map(function(p,_){return p=Qo(p),!l&&_?"["+p+"]":p}).join(l?".":""):o}function xu(r){return z.isArray(r)&&!r.some(ea)}const Ou=z.toFlatObject(z,{},null,function(o){return/^is[A-Z]/.test(o)});function wi(r,o,l){if(!z.isObject(r))throw new TypeError("target must be an object");o=o||new FormData,l=z.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,m){return!z.isUndefined(m[w])});const c=l.metaTokens,p=l.visitor||M,_=l.dots,E=l.indexes,v=(l.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(o);if(!z.isFunction(p))throw new TypeError("visitor must be a function");function x(y){if(y===null)return"";if(z.isDate(y))return y.toISOString();if(!v&&z.isBlob(y))throw new Re("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(y)||z.isTypedArray(y)?v&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function M(y,w,m){let k=y;if(y&&!m&&typeof y=="object"){if(z.endsWith(w,"{}"))w=c?w:w.slice(0,-2),y=JSON.stringify(y);else if(z.isArray(y)&&xu(y)||(z.isFileList(y)||z.endsWith(w,"[]"))&&(k=z.toArray(y)))return w=Qo(w),k.forEach(function(S,A){!(z.isUndefined(S)||S===null)&&o.append(E===!0?Ua([w],A,_):E===null?w:w+"[]",x(S))}),!1}return ea(y)?!0:(o.append(Ua(m,w,_),x(y)),!1)}const f=[],u=Object.assign(Ou,{defaultVisitor:M,convertValue:x,isVisitable:ea});function b(y,w){if(!z.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(y),z.forEach(y,function(k,L){(!(z.isUndefined(k)||k===null)&&p.call(o,k,z.isString(L)?L.trim():L,w,u))===!0&&b(k,w?w.concat(L):[L])}),f.pop()}}if(!z.isObject(r))throw new TypeError("data must be an object");return b(r),o}function $a(r){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(c){return o[c]})}function pa(r,o){this._pairs=[],r&&wi(r,this,o)}const es=pa.prototype;es.append=function(o,l){this._pairs.push([o,l])};es.toString=function(o){const l=o?function(c){return o.call(this,c,$a)}:$a;return this._pairs.map(function(p){return l(p[0])+"="+l(p[1])},"").join("&")};function Ru(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ts(r,o,l){if(!o)return r;const c=l&&l.encode||Ru;z.isFunction(l)&&(l={serialize:l});const p=l&&l.serialize;let _;if(p?_=p(o,l):_=z.isURLSearchParams(o)?o.toString():new pa(o,l).toString(c),_){const E=r.indexOf("#");E!==-1&&(r=r.slice(0,E)),r+=(r.indexOf("?")===-1?"?":"&")+_}return r}class Va{constructor(){this.handlers=[]}use(o,l,c){return this.handlers.push({fulfilled:o,rejected:l,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){z.forEach(this.handlers,function(c){c!==null&&o(c)})}}const ns={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Du=typeof URLSearchParams<"u"?URLSearchParams:pa,Nu=typeof FormData<"u"?FormData:null,Hu=typeof Blob<"u"?Blob:null,Pu={isBrowser:!0,classes:{URLSearchParams:Du,FormData:Nu,Blob:Hu},protocols:["http","https","file","blob","url","data"]},ha=typeof window<"u"&&typeof document<"u",ta=typeof navigator=="object"&&navigator||void 0,Iu=ha&&(!ta||["ReactNative","NativeScript","NS"].indexOf(ta.product)<0),ju=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bu=ha&&window.location.href||"http://localhost",Uu=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ha,hasStandardBrowserEnv:Iu,hasStandardBrowserWebWorkerEnv:ju,navigator:ta,origin:Bu},Symbol.toStringTag,{value:"Module"})),Et={...Uu,...Pu};function $u(r,o){return wi(r,new Et.classes.URLSearchParams,Object.assign({visitor:function(l,c,p,_){return Et.isNode&&z.isBuffer(l)?(this.append(c,l.toString("base64")),!1):_.defaultVisitor.apply(this,arguments)}},o))}function Vu(r){return z.matchAll(/\w+|\[(\w*)]/g,r).map(o=>o[0]==="[]"?"":o[1]||o[0])}function Fu(r){const o={},l=Object.keys(r);let c;const p=l.length;let _;for(c=0;c<p;c++)_=l[c],o[_]=r[_];return o}function rs(r){function o(l,c,p,_){let E=l[_++];if(E==="__proto__")return!0;const g=Number.isFinite(+E),v=_>=l.length;return E=!E&&z.isArray(p)?p.length:E,v?(z.hasOwnProp(p,E)?p[E]=[p[E],c]:p[E]=c,!g):((!p[E]||!z.isObject(p[E]))&&(p[E]=[]),o(l,c,p[E],_)&&z.isArray(p[E])&&(p[E]=Fu(p[E])),!g)}if(z.isFormData(r)&&z.isFunction(r.entries)){const l={};return z.forEachEntry(r,(c,p)=>{o(Vu(c),p,l,0)}),l}return null}function qu(r,o,l){if(z.isString(r))try{return(o||JSON.parse)(r),z.trim(r)}catch(c){if(c.name!=="SyntaxError")throw c}return(l||JSON.stringify)(r)}const Nr={transitional:ns,adapter:["xhr","http","fetch"],transformRequest:[function(o,l){const c=l.getContentType()||"",p=c.indexOf("application/json")>-1,_=z.isObject(o);if(_&&z.isHTMLForm(o)&&(o=new FormData(o)),z.isFormData(o))return p?JSON.stringify(rs(o)):o;if(z.isArrayBuffer(o)||z.isBuffer(o)||z.isStream(o)||z.isFile(o)||z.isBlob(o)||z.isReadableStream(o))return o;if(z.isArrayBufferView(o))return o.buffer;if(z.isURLSearchParams(o))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let g;if(_){if(c.indexOf("application/x-www-form-urlencoded")>-1)return $u(o,this.formSerializer).toString();if((g=z.isFileList(o))||c.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return wi(g?{"files[]":o}:o,v&&new v,this.formSerializer)}}return _||p?(l.setContentType("application/json",!1),qu(o)):o}],transformResponse:[function(o){const l=this.transitional||Nr.transitional,c=l&&l.forcedJSONParsing,p=this.responseType==="json";if(z.isResponse(o)||z.isReadableStream(o))return o;if(o&&z.isString(o)&&(c&&!this.responseType||p)){const E=!(l&&l.silentJSONParsing)&&p;try{return JSON.parse(o)}catch(g){if(E)throw g.name==="SyntaxError"?Re.from(g,Re.ERR_BAD_RESPONSE,this,null,this.response):g}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],r=>{Nr.headers[r]={}});const zu=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ku=r=>{const o={};let l,c,p;return r&&r.split(`
`).forEach(function(E){p=E.indexOf(":"),l=E.substring(0,p).trim().toLowerCase(),c=E.substring(p+1).trim(),!(!l||o[l]&&zu[l])&&(l==="set-cookie"?o[l]?o[l].push(c):o[l]=[c]:o[l]=o[l]?o[l]+", "+c:c)}),o},Fa=Symbol("internals");function wr(r){return r&&String(r).trim().toLowerCase()}function ti(r){return r===!1||r==null?r:z.isArray(r)?r.map(ti):String(r)}function Wu(r){const o=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=l.exec(r);)o[c[1]]=c[2];return o}const Gu=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Ui(r,o,l,c,p){if(z.isFunction(c))return c.call(this,o,l);if(p&&(o=l),!!z.isString(o)){if(z.isString(c))return o.indexOf(c)!==-1;if(z.isRegExp(c))return c.test(o)}}function Xu(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,l,c)=>l.toUpperCase()+c)}function Ju(r,o){const l=z.toCamelCase(" "+o);["get","set","has"].forEach(c=>{Object.defineProperty(r,c+l,{value:function(p,_,E){return this[c].call(this,o,p,_,E)},configurable:!0})})}let Ot=class{constructor(o){o&&this.set(o)}set(o,l,c){const p=this;function _(g,v,x){const M=wr(v);if(!M)throw new Error("header name must be a non-empty string");const f=z.findKey(p,M);(!f||p[f]===void 0||x===!0||x===void 0&&p[f]!==!1)&&(p[f||v]=ti(g))}const E=(g,v)=>z.forEach(g,(x,M)=>_(x,M,v));if(z.isPlainObject(o)||o instanceof this.constructor)E(o,l);else if(z.isString(o)&&(o=o.trim())&&!Gu(o))E(Ku(o),l);else if(z.isHeaders(o))for(const[g,v]of o.entries())_(v,g,c);else o!=null&&_(l,o,c);return this}get(o,l){if(o=wr(o),o){const c=z.findKey(this,o);if(c){const p=this[c];if(!l)return p;if(l===!0)return Wu(p);if(z.isFunction(l))return l.call(this,p,c);if(z.isRegExp(l))return l.exec(p);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,l){if(o=wr(o),o){const c=z.findKey(this,o);return!!(c&&this[c]!==void 0&&(!l||Ui(this,this[c],c,l)))}return!1}delete(o,l){const c=this;let p=!1;function _(E){if(E=wr(E),E){const g=z.findKey(c,E);g&&(!l||Ui(c,c[g],g,l))&&(delete c[g],p=!0)}}return z.isArray(o)?o.forEach(_):_(o),p}clear(o){const l=Object.keys(this);let c=l.length,p=!1;for(;c--;){const _=l[c];(!o||Ui(this,this[_],_,o,!0))&&(delete this[_],p=!0)}return p}normalize(o){const l=this,c={};return z.forEach(this,(p,_)=>{const E=z.findKey(c,_);if(E){l[E]=ti(p),delete l[_];return}const g=o?Xu(_):String(_).trim();g!==_&&delete l[_],l[g]=ti(p),c[g]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const l=Object.create(null);return z.forEach(this,(c,p)=>{c!=null&&c!==!1&&(l[p]=o&&z.isArray(c)?c.join(", "):c)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,l])=>o+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...l){const c=new this(o);return l.forEach(p=>c.set(p)),c}static accessor(o){const c=(this[Fa]=this[Fa]={accessors:{}}).accessors,p=this.prototype;function _(E){const g=wr(E);c[g]||(Ju(p,E),c[g]=!0)}return z.isArray(o)?o.forEach(_):_(o),this}};Ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Ot.prototype,({value:r},o)=>{let l=o[0].toUpperCase()+o.slice(1);return{get:()=>r,set(c){this[l]=c}}});z.freezeMethods(Ot);function $i(r,o){const l=this||Nr,c=o||l,p=Ot.from(c.headers);let _=c.data;return z.forEach(r,function(g){_=g.call(l,_,p.normalize(),o?o.status:void 0)}),p.normalize(),_}function is(r){return!!(r&&r.__CANCEL__)}function ir(r,o,l){Re.call(this,r??"canceled",Re.ERR_CANCELED,o,l),this.name="CanceledError"}z.inherits(ir,Re,{__CANCEL__:!0});function as(r,o,l){const c=l.config.validateStatus;!l.status||!c||c(l.status)?r(l):o(new Re("Request failed with status code "+l.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function Zu(r){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return o&&o[1]||""}function Yu(r,o){r=r||10;const l=new Array(r),c=new Array(r);let p=0,_=0,E;return o=o!==void 0?o:1e3,function(v){const x=Date.now(),M=c[_];E||(E=x),l[p]=v,c[p]=x;let f=_,u=0;for(;f!==p;)u+=l[f++],f=f%r;if(p=(p+1)%r,p===_&&(_=(_+1)%r),x-E<o)return;const b=M&&x-M;return b?Math.round(u*1e3/b):void 0}}function Qu(r,o){let l=0,c=1e3/o,p,_;const E=(x,M=Date.now())=>{l=M,p=null,_&&(clearTimeout(_),_=null),r.apply(null,x)};return[(...x)=>{const M=Date.now(),f=M-l;f>=c?E(x,M):(p=x,_||(_=setTimeout(()=>{_=null,E(p)},c-f)))},()=>p&&E(p)]}const li=(r,o,l=3)=>{let c=0;const p=Yu(50,250);return Qu(_=>{const E=_.loaded,g=_.lengthComputable?_.total:void 0,v=E-c,x=p(v),M=E<=g;c=E;const f={loaded:E,total:g,progress:g?E/g:void 0,bytes:v,rate:x||void 0,estimated:x&&g&&M?(g-E)/x:void 0,event:_,lengthComputable:g!=null,[o?"download":"upload"]:!0};r(f)},l)},qa=(r,o)=>{const l=r!=null;return[c=>o[0]({lengthComputable:l,total:r,loaded:c}),o[1]]},za=r=>(...o)=>z.asap(()=>r(...o)),ef=Et.hasStandardBrowserEnv?((r,o)=>l=>(l=new URL(l,Et.origin),r.protocol===l.protocol&&r.host===l.host&&(o||r.port===l.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,tf=Et.hasStandardBrowserEnv?{write(r,o,l,c,p,_){const E=[r+"="+encodeURIComponent(o)];z.isNumber(l)&&E.push("expires="+new Date(l).toGMTString()),z.isString(c)&&E.push("path="+c),z.isString(p)&&E.push("domain="+p),_===!0&&E.push("secure"),document.cookie=E.join("; ")},read(r){const o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nf(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function rf(r,o){return o?r.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):r}function os(r,o,l){let c=!nf(o);return r&&c||l==!1?rf(r,o):o}const Ka=r=>r instanceof Ot?{...r}:r;function In(r,o){o=o||{};const l={};function c(x,M,f,u){return z.isPlainObject(x)&&z.isPlainObject(M)?z.merge.call({caseless:u},x,M):z.isPlainObject(M)?z.merge({},M):z.isArray(M)?M.slice():M}function p(x,M,f,u){if(z.isUndefined(M)){if(!z.isUndefined(x))return c(void 0,x,f,u)}else return c(x,M,f,u)}function _(x,M){if(!z.isUndefined(M))return c(void 0,M)}function E(x,M){if(z.isUndefined(M)){if(!z.isUndefined(x))return c(void 0,x)}else return c(void 0,M)}function g(x,M,f){if(f in o)return c(x,M);if(f in r)return c(void 0,x)}const v={url:_,method:_,data:_,baseURL:E,transformRequest:E,transformResponse:E,paramsSerializer:E,timeout:E,timeoutMessage:E,withCredentials:E,withXSRFToken:E,adapter:E,responseType:E,xsrfCookieName:E,xsrfHeaderName:E,onUploadProgress:E,onDownloadProgress:E,decompress:E,maxContentLength:E,maxBodyLength:E,beforeRedirect:E,transport:E,httpAgent:E,httpsAgent:E,cancelToken:E,socketPath:E,responseEncoding:E,validateStatus:g,headers:(x,M,f)=>p(Ka(x),Ka(M),f,!0)};return z.forEach(Object.keys(Object.assign({},r,o)),function(M){const f=v[M]||p,u=f(r[M],o[M],M);z.isUndefined(u)&&f!==g||(l[M]=u)}),l}const ss=r=>{const o=In({},r);let{data:l,withXSRFToken:c,xsrfHeaderName:p,xsrfCookieName:_,headers:E,auth:g}=o;o.headers=E=Ot.from(E),o.url=ts(os(o.baseURL,o.url),r.params,r.paramsSerializer),g&&E.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let v;if(z.isFormData(l)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)E.setContentType(void 0);else if((v=E.getContentType())!==!1){const[x,...M]=v?v.split(";").map(f=>f.trim()).filter(Boolean):[];E.setContentType([x||"multipart/form-data",...M].join("; "))}}if(Et.hasStandardBrowserEnv&&(c&&z.isFunction(c)&&(c=c(o)),c||c!==!1&&ef(o.url))){const x=p&&_&&tf.read(_);x&&E.set(p,x)}return o},af=typeof XMLHttpRequest<"u",of=af&&function(r){return new Promise(function(l,c){const p=ss(r);let _=p.data;const E=Ot.from(p.headers).normalize();let{responseType:g,onUploadProgress:v,onDownloadProgress:x}=p,M,f,u,b,y;function w(){b&&b(),y&&y(),p.cancelToken&&p.cancelToken.unsubscribe(M),p.signal&&p.signal.removeEventListener("abort",M)}let m=new XMLHttpRequest;m.open(p.method.toUpperCase(),p.url,!0),m.timeout=p.timeout;function k(){if(!m)return;const S=Ot.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),d={data:!g||g==="text"||g==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:S,config:r,request:m};as(function(D){l(D),w()},function(D){c(D),w()},d),m=null}"onloadend"in m?m.onloadend=k:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(k)},m.onabort=function(){m&&(c(new Re("Request aborted",Re.ECONNABORTED,r,m)),m=null)},m.onerror=function(){c(new Re("Network Error",Re.ERR_NETWORK,r,m)),m=null},m.ontimeout=function(){let A=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded";const d=p.transitional||ns;p.timeoutErrorMessage&&(A=p.timeoutErrorMessage),c(new Re(A,d.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,r,m)),m=null},_===void 0&&E.setContentType(null),"setRequestHeader"in m&&z.forEach(E.toJSON(),function(A,d){m.setRequestHeader(d,A)}),z.isUndefined(p.withCredentials)||(m.withCredentials=!!p.withCredentials),g&&g!=="json"&&(m.responseType=p.responseType),x&&([u,y]=li(x,!0),m.addEventListener("progress",u)),v&&m.upload&&([f,b]=li(v),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",b)),(p.cancelToken||p.signal)&&(M=S=>{m&&(c(!S||S.type?new ir(null,r,m):S),m.abort(),m=null)},p.cancelToken&&p.cancelToken.subscribe(M),p.signal&&(p.signal.aborted?M():p.signal.addEventListener("abort",M)));const L=Zu(p.url);if(L&&Et.protocols.indexOf(L)===-1){c(new Re("Unsupported protocol "+L+":",Re.ERR_BAD_REQUEST,r));return}m.send(_||null)})},sf=(r,o)=>{const{length:l}=r=r?r.filter(Boolean):[];if(o||l){let c=new AbortController,p;const _=function(x){if(!p){p=!0,g();const M=x instanceof Error?x:this.reason;c.abort(M instanceof Re?M:new ir(M instanceof Error?M.message:M))}};let E=o&&setTimeout(()=>{E=null,_(new Re(`timeout ${o} of ms exceeded`,Re.ETIMEDOUT))},o);const g=()=>{r&&(E&&clearTimeout(E),E=null,r.forEach(x=>{x.unsubscribe?x.unsubscribe(_):x.removeEventListener("abort",_)}),r=null)};r.forEach(x=>x.addEventListener("abort",_));const{signal:v}=c;return v.unsubscribe=()=>z.asap(g),v}},lf=function*(r,o){let l=r.byteLength;if(l<o){yield r;return}let c=0,p;for(;c<l;)p=c+o,yield r.slice(c,p),c=p},cf=async function*(r,o){for await(const l of uf(r))yield*lf(l,o)},uf=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const o=r.getReader();try{for(;;){const{done:l,value:c}=await o.read();if(l)break;yield c}}finally{await o.cancel()}},Wa=(r,o,l,c)=>{const p=cf(r,o);let _=0,E,g=v=>{E||(E=!0,c&&c(v))};return new ReadableStream({async pull(v){try{const{done:x,value:M}=await p.next();if(x){g(),v.close();return}let f=M.byteLength;if(l){let u=_+=f;l(u)}v.enqueue(new Uint8Array(M))}catch(x){throw g(x),x}},cancel(v){return g(v),p.return()}},{highWaterMark:2})},vi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ls=vi&&typeof ReadableStream=="function",ff=vi&&(typeof TextEncoder=="function"?(r=>o=>r.encode(o))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),cs=(r,...o)=>{try{return!!r(...o)}catch{return!1}},df=ls&&cs(()=>{let r=!1;const o=new Request(Et.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!o}),Ga=64*1024,na=ls&&cs(()=>z.isReadableStream(new Response("").body)),ci={stream:na&&(r=>r.body)};vi&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(o=>{!ci[o]&&(ci[o]=z.isFunction(r[o])?l=>l[o]():(l,c)=>{throw new Re(`Response type '${o}' is not supported`,Re.ERR_NOT_SUPPORT,c)})})})(new Response);const pf=async r=>{if(r==null)return 0;if(z.isBlob(r))return r.size;if(z.isSpecCompliantForm(r))return(await new Request(Et.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(z.isArrayBufferView(r)||z.isArrayBuffer(r))return r.byteLength;if(z.isURLSearchParams(r)&&(r=r+""),z.isString(r))return(await ff(r)).byteLength},hf=async(r,o)=>{const l=z.toFiniteNumber(r.getContentLength());return l??pf(o)},mf=vi&&(async r=>{let{url:o,method:l,data:c,signal:p,cancelToken:_,timeout:E,onDownloadProgress:g,onUploadProgress:v,responseType:x,headers:M,withCredentials:f="same-origin",fetchOptions:u}=ss(r);x=x?(x+"").toLowerCase():"text";let b=sf([p,_&&_.toAbortSignal()],E),y;const w=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let m;try{if(v&&df&&l!=="get"&&l!=="head"&&(m=await hf(M,c))!==0){let d=new Request(o,{method:"POST",body:c,duplex:"half"}),R;if(z.isFormData(c)&&(R=d.headers.get("content-type"))&&M.setContentType(R),d.body){const[D,I]=qa(m,li(za(v)));c=Wa(d.body,Ga,D,I)}}z.isString(f)||(f=f?"include":"omit");const k="credentials"in Request.prototype;y=new Request(o,{...u,signal:b,method:l.toUpperCase(),headers:M.normalize().toJSON(),body:c,duplex:"half",credentials:k?f:void 0});let L=await fetch(y);const S=na&&(x==="stream"||x==="response");if(na&&(g||S&&w)){const d={};["status","statusText","headers"].forEach(N=>{d[N]=L[N]});const R=z.toFiniteNumber(L.headers.get("content-length")),[D,I]=g&&qa(R,li(za(g),!0))||[];L=new Response(Wa(L.body,Ga,D,()=>{I&&I(),w&&w()}),d)}x=x||"text";let A=await ci[z.findKey(ci,x)||"text"](L,r);return!S&&w&&w(),await new Promise((d,R)=>{as(d,R,{data:A,headers:Ot.from(L.headers),status:L.status,statusText:L.statusText,config:r,request:y})})}catch(k){throw w&&w(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,r,y),{cause:k.cause||k}):Re.from(k,k&&k.code,r,y)}}),ra={http:Mu,xhr:of,fetch:mf};z.forEach(ra,(r,o)=>{if(r){try{Object.defineProperty(r,"name",{value:o})}catch{}Object.defineProperty(r,"adapterName",{value:o})}});const Xa=r=>`- ${r}`,gf=r=>z.isFunction(r)||r===null||r===!1,us={getAdapter:r=>{r=z.isArray(r)?r:[r];const{length:o}=r;let l,c;const p={};for(let _=0;_<o;_++){l=r[_];let E;if(c=l,!gf(l)&&(c=ra[(E=String(l)).toLowerCase()],c===void 0))throw new Re(`Unknown adapter '${E}'`);if(c)break;p[E||"#"+_]=c}if(!c){const _=Object.entries(p).map(([g,v])=>`adapter ${g} `+(v===!1?"is not supported by the environment":"is not available in the build"));let E=o?_.length>1?`since :
`+_.map(Xa).join(`
`):" "+Xa(_[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+E,"ERR_NOT_SUPPORT")}return c},adapters:ra};function Vi(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ir(null,r)}function Ja(r){return Vi(r),r.headers=Ot.from(r.headers),r.data=$i.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),us.getAdapter(r.adapter||Nr.adapter)(r).then(function(c){return Vi(r),c.data=$i.call(r,r.transformResponse,c),c.headers=Ot.from(c.headers),c},function(c){return is(c)||(Vi(r),c&&c.response&&(c.response.data=$i.call(r,r.transformResponse,c.response),c.response.headers=Ot.from(c.response.headers))),Promise.reject(c)})}const fs="1.8.2",_i={};["object","boolean","number","function","string","symbol"].forEach((r,o)=>{_i[r]=function(c){return typeof c===r||"a"+(o<1?"n ":" ")+r}});const Za={};_i.transitional=function(o,l,c){function p(_,E){return"[Axios v"+fs+"] Transitional option '"+_+"'"+E+(c?". "+c:"")}return(_,E,g)=>{if(o===!1)throw new Re(p(E," has been removed"+(l?" in "+l:"")),Re.ERR_DEPRECATED);return l&&!Za[E]&&(Za[E]=!0,console.warn(p(E," has been deprecated since v"+l+" and will be removed in the near future"))),o?o(_,E,g):!0}};_i.spelling=function(o){return(l,c)=>(console.warn(`${c} is likely a misspelling of ${o}`),!0)};function yf(r,o,l){if(typeof r!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const c=Object.keys(r);let p=c.length;for(;p-- >0;){const _=c[p],E=o[_];if(E){const g=r[_],v=g===void 0||E(g,_,r);if(v!==!0)throw new Re("option "+_+" must be "+v,Re.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Re("Unknown option "+_,Re.ERR_BAD_OPTION)}}const ni={assertOptions:yf,validators:_i},Yt=ni.validators;let Hn=class{constructor(o){this.defaults=o,this.interceptors={request:new Va,response:new Va}}async request(o,l){try{return await this._request(o,l)}catch(c){if(c instanceof Error){let p={};Error.captureStackTrace?Error.captureStackTrace(p):p=new Error;const _=p.stack?p.stack.replace(/^.+\n/,""):"";try{c.stack?_&&!String(c.stack).endsWith(_.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+_):c.stack=_}catch{}}throw c}}_request(o,l){typeof o=="string"?(l=l||{},l.url=o):l=o||{},l=In(this.defaults,l);const{transitional:c,paramsSerializer:p,headers:_}=l;c!==void 0&&ni.assertOptions(c,{silentJSONParsing:Yt.transitional(Yt.boolean),forcedJSONParsing:Yt.transitional(Yt.boolean),clarifyTimeoutError:Yt.transitional(Yt.boolean)},!1),p!=null&&(z.isFunction(p)?l.paramsSerializer={serialize:p}:ni.assertOptions(p,{encode:Yt.function,serialize:Yt.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),ni.assertOptions(l,{baseUrl:Yt.spelling("baseURL"),withXsrfToken:Yt.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let E=_&&z.merge(_.common,_[l.method]);_&&z.forEach(["delete","get","head","post","put","patch","common"],y=>{delete _[y]}),l.headers=Ot.concat(E,_);const g=[];let v=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(l)===!1||(v=v&&w.synchronous,g.unshift(w.fulfilled,w.rejected))});const x=[];this.interceptors.response.forEach(function(w){x.push(w.fulfilled,w.rejected)});let M,f=0,u;if(!v){const y=[Ja.bind(this),void 0];for(y.unshift.apply(y,g),y.push.apply(y,x),u=y.length,M=Promise.resolve(l);f<u;)M=M.then(y[f++],y[f++]);return M}u=g.length;let b=l;for(f=0;f<u;){const y=g[f++],w=g[f++];try{b=y(b)}catch(m){w.call(this,m);break}}try{M=Ja.call(this,b)}catch(y){return Promise.reject(y)}for(f=0,u=x.length;f<u;)M=M.then(x[f++],x[f++]);return M}getUri(o){o=In(this.defaults,o);const l=os(o.baseURL,o.url,o.allowAbsoluteUrls);return ts(l,o.params,o.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(o){Hn.prototype[o]=function(l,c){return this.request(In(c||{},{method:o,url:l,data:(c||{}).data}))}});z.forEach(["post","put","patch"],function(o){function l(c){return function(_,E,g){return this.request(In(g||{},{method:o,headers:c?{"Content-Type":"multipart/form-data"}:{},url:_,data:E}))}}Hn.prototype[o]=l(),Hn.prototype[o+"Form"]=l(!0)});let bf=class ds{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(_){l=_});const c=this;this.promise.then(p=>{if(!c._listeners)return;let _=c._listeners.length;for(;_-- >0;)c._listeners[_](p);c._listeners=null}),this.promise.then=p=>{let _;const E=new Promise(g=>{c.subscribe(g),_=g}).then(p);return E.cancel=function(){c.unsubscribe(_)},E},o(function(_,E,g){c.reason||(c.reason=new ir(_,E,g),l(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const l=this._listeners.indexOf(o);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const o=new AbortController,l=c=>{o.abort(c)};return this.subscribe(l),o.signal.unsubscribe=()=>this.unsubscribe(l),o.signal}static source(){let o;return{token:new ds(function(p){o=p}),cancel:o}}};function wf(r){return function(l){return r.apply(null,l)}}function vf(r){return z.isObject(r)&&r.isAxiosError===!0}const ia={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ia).forEach(([r,o])=>{ia[o]=r});function ps(r){const o=new Hn(r),l=qo(Hn.prototype.request,o);return z.extend(l,Hn.prototype,o,{allOwnKeys:!0}),z.extend(l,o,null,{allOwnKeys:!0}),l.create=function(p){return ps(In(r,p))},l}const at=ps(Nr);at.Axios=Hn;at.CanceledError=ir;at.CancelToken=bf;at.isCancel=is;at.VERSION=fs;at.toFormData=wi;at.AxiosError=Re;at.Cancel=at.CanceledError;at.all=function(o){return Promise.all(o)};at.spread=wf;at.isAxiosError=vf;at.mergeConfig=In;at.AxiosHeaders=Ot;at.formToJSON=r=>rs(z.isHTMLForm(r)?new FormData(r):r);at.getAdapter=us.getAdapter;at.HttpStatusCode=ia;at.default=at;const{Axios:bh,AxiosError:wh,CanceledError:vh,isCancel:_h,CancelToken:Eh,VERSION:Sh,all:Ch,Cancel:kh,isAxiosError:Th,spread:Lh,toFormData:Ah,AxiosHeaders:Mh,HttpStatusCode:xh,formToJSON:Oh,getAdapter:Rh,mergeConfig:Dh}=at,_f={"r-admin":["i-manage","i-manage-problem","i-manage-judge"]};function Ef(r){if(r==null)return[];const o=[];for(const l of r){const c=_f[l];c!=null&&o.push(...c)}return[...new Set(o)]}function Sf(r,o){if(r==null||o==null)return!1;const l=Ef(r);for(const c of o)if(!l.includes(c))return!1;return!0}const Qn=mi("user",{state:()=>({token:"",userId:-1,username:"",nickname:"",roles:[]}),getters:{getToken(){return this.token},getUserId(){return this.userId},getUsername(){return this.username},getNickname(){return this.nickname}},actions:{clear(){this.$patch({token:"",userId:-1,username:"",nickname:"",roles:[]})},loadResponse(r){this.$patch({token:r.token,userId:r.user_id,username:r.username,nickname:r.nickname,roles:r.roles})},isLogin(){return this.token!=null&&this.token!=""},hasAllAuths(r){return r?Sf(this.roles,r):!0}},persist:!0}),Cf="https://oj-api.didapipa.com/",Rt=at.create({baseURL:Cf,timeout:6e4,withCredentials:!0,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});Rt.interceptors.request.use(r=>{const l=Qn().getToken;return l&&(r.headers["X-Token"]=l),r},r=>Promise.reject(r));Rt.interceptors.response.use(function(r){return r.data},function(r){return Promise.reject(r)});function kf(r,o){return Rt({url:"/user/login",method:"post",data:{username:r,password:o}})}function Tf(){return Rt({url:"/user/login/refresh",method:"post"})}const hs=mi("login",{state:()=>({Loaded:!1}),getters:{isLoaded(){return this.Loaded}}}),ma=mi("webStyle",{state:()=>({title:""}),getters:{getTitle(){return this.title}},actions:{setTitle(r){this.title=r}}}),Ei=mi("sidebarStyle",{state:()=>({showSidebar:!1,forceHiddenSidebar:!1,menuActiveName:"",menuList:[]}),getters:{getMenuList(){return this.menuList}},actions:{setSidebarShow(r){this.showSidebar=r},setForceHiddenSidebar(r){this.forceHiddenSidebar=r},setMenuActiveName(r){this.menuActiveName=r},clearMenuList(){this.menuList=[]},setMenuList(r){this.menuList=r},addMenuList(r){this.menuList.push(r)}}}),pt=(r,o)=>{const l=r.__vccOpts||r;for(const[c,p]of o)l[c]=p;return l},Lf={},Af={class:"sh-main"};function Mf(r,o){const l=ln,c=Mr,p=Ar;return Le(),dt("div",Af,[$(p,null,{default:K(()=>[$(c,{span:6},{default:K(()=>[$(l,{title:"正在完善，欢迎提供意见建议"},{default:K(()=>o[0]||(o[0]=[Je("p",null,[Je("a",{href:"https://codeoj.cn/",target:"_blank"},"CodeOJ"),Ae("的迁移计划")],-1),Je("p",null,"正在开发中",-1)])),_:1})]),_:1})]),_:1})])}const xf=pt(Lf,[["render",Mf],["__scopeId","data-v-13691e65"]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Yn=typeof document<"u";function ms(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function Of(r){return r.__esModule||r[Symbol.toStringTag]==="Module"||r.default&&ms(r.default)}const $e=Object.assign;function Fi(r,o){const l={};for(const c in o){const p=o[c];l[c]=Wt(p)?p.map(r):r(p)}return l}const Er=()=>{},Wt=Array.isArray,gs=/#/g,Rf=/&/g,Df=/\//g,Nf=/=/g,Hf=/\?/g,ys=/\+/g,Pf=/%5B/g,If=/%5D/g,bs=/%5E/g,jf=/%60/g,ws=/%7B/g,Bf=/%7C/g,vs=/%7D/g,Uf=/%20/g;function ga(r){return encodeURI(""+r).replace(Bf,"|").replace(Pf,"[").replace(If,"]")}function $f(r){return ga(r).replace(ws,"{").replace(vs,"}").replace(bs,"^")}function aa(r){return ga(r).replace(ys,"%2B").replace(Uf,"+").replace(gs,"%23").replace(Rf,"%26").replace(jf,"`").replace(ws,"{").replace(vs,"}").replace(bs,"^")}function Vf(r){return aa(r).replace(Nf,"%3D")}function Ff(r){return ga(r).replace(gs,"%23").replace(Hf,"%3F")}function qf(r){return r==null?"":Ff(r).replace(Df,"%2F")}function kr(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const zf=/\/$/,Kf=r=>r.replace(zf,"");function qi(r,o,l="/"){let c,p={},_="",E="";const g=o.indexOf("#");let v=o.indexOf("?");return g<v&&g>=0&&(v=-1),v>-1&&(c=o.slice(0,v),_=o.slice(v+1,g>-1?g:o.length),p=r(_)),g>-1&&(c=c||o.slice(0,g),E=o.slice(g,o.length)),c=Jf(c??o,l),{fullPath:c+(_&&"?")+_+E,path:c,query:p,hash:kr(E)}}function Wf(r,o){const l=o.query?r(o.query):"";return o.path+(l&&"?")+l+(o.hash||"")}function Ya(r,o){return!o||!r.toLowerCase().startsWith(o.toLowerCase())?r:r.slice(o.length)||"/"}function Gf(r,o,l){const c=o.matched.length-1,p=l.matched.length-1;return c>-1&&c===p&&er(o.matched[c],l.matched[p])&&_s(o.params,l.params)&&r(o.query)===r(l.query)&&o.hash===l.hash}function er(r,o){return(r.aliasOf||r)===(o.aliasOf||o)}function _s(r,o){if(Object.keys(r).length!==Object.keys(o).length)return!1;for(const l in r)if(!Xf(r[l],o[l]))return!1;return!0}function Xf(r,o){return Wt(r)?Qa(r,o):Wt(o)?Qa(o,r):r===o}function Qa(r,o){return Wt(o)?r.length===o.length&&r.every((l,c)=>l===o[c]):r.length===1&&r[0]===o}function Jf(r,o){if(r.startsWith("/"))return r;if(!r)return o;const l=o.split("/"),c=r.split("/"),p=c[c.length-1];(p===".."||p===".")&&c.push("");let _=l.length-1,E,g;for(E=0;E<c.length;E++)if(g=c[E],g!==".")if(g==="..")_>1&&_--;else break;return l.slice(0,_).join("/")+"/"+c.slice(E).join("/")}const wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Tr;(function(r){r.pop="pop",r.push="push"})(Tr||(Tr={}));var Sr;(function(r){r.back="back",r.forward="forward",r.unknown=""})(Sr||(Sr={}));function Zf(r){if(!r)if(Yn){const o=document.querySelector("base");r=o&&o.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),Kf(r)}const Yf=/^[^#]+#/;function Qf(r,o){return r.replace(Yf,"#")+o}function ed(r,o){const l=document.documentElement.getBoundingClientRect(),c=r.getBoundingClientRect();return{behavior:o.behavior,left:c.left-l.left-(o.left||0),top:c.top-l.top-(o.top||0)}}const Si=()=>({left:window.scrollX,top:window.scrollY});function td(r){let o;if("el"in r){const l=r.el,c=typeof l=="string"&&l.startsWith("#"),p=typeof l=="string"?c?document.getElementById(l.slice(1)):document.querySelector(l):l;if(!p)return;o=ed(p,r)}else o=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(o):window.scrollTo(o.left!=null?o.left:window.scrollX,o.top!=null?o.top:window.scrollY)}function eo(r,o){return(history.state?history.state.position-o:-1)+r}const oa=new Map;function nd(r,o){oa.set(r,o)}function rd(r){const o=oa.get(r);return oa.delete(r),o}let id=()=>location.protocol+"//"+location.host;function Es(r,o){const{pathname:l,search:c,hash:p}=o,_=r.indexOf("#");if(_>-1){let g=p.includes(r.slice(_))?r.slice(_).length:1,v=p.slice(g);return v[0]!=="/"&&(v="/"+v),Ya(v,"")}return Ya(l,r)+c+p}function ad(r,o,l,c){let p=[],_=[],E=null;const g=({state:u})=>{const b=Es(r,location),y=l.value,w=o.value;let m=0;if(u){if(l.value=b,o.value=u,E&&E===y){E=null;return}m=w?u.position-w.position:0}else c(b);p.forEach(k=>{k(l.value,y,{delta:m,type:Tr.pop,direction:m?m>0?Sr.forward:Sr.back:Sr.unknown})})};function v(){E=l.value}function x(u){p.push(u);const b=()=>{const y=p.indexOf(u);y>-1&&p.splice(y,1)};return _.push(b),b}function M(){const{history:u}=window;u.state&&u.replaceState($e({},u.state,{scroll:Si()}),"")}function f(){for(const u of _)u();_=[],window.removeEventListener("popstate",g),window.removeEventListener("beforeunload",M)}return window.addEventListener("popstate",g),window.addEventListener("beforeunload",M,{passive:!0}),{pauseListeners:v,listen:x,destroy:f}}function to(r,o,l,c=!1,p=!1){return{back:r,current:o,forward:l,replaced:c,position:window.history.length,scroll:p?Si():null}}function od(r){const{history:o,location:l}=window,c={value:Es(r,l)},p={value:o.state};p.value||_(c.value,{back:null,current:c.value,forward:null,position:o.length-1,replaced:!0,scroll:null},!0);function _(v,x,M){const f=r.indexOf("#"),u=f>-1?(l.host&&document.querySelector("base")?r:r.slice(f))+v:id()+r+v;try{o[M?"replaceState":"pushState"](x,"",u),p.value=x}catch(b){console.error(b),l[M?"replace":"assign"](u)}}function E(v,x){const M=$e({},o.state,to(p.value.back,v,p.value.forward,!0),x,{position:p.value.position});_(v,M,!0),c.value=v}function g(v,x){const M=$e({},p.value,o.state,{forward:v,scroll:Si()});_(M.current,M,!0);const f=$e({},to(c.value,v,null),{position:M.position+1},x);_(v,f,!1),c.value=v}return{location:c,state:p,push:g,replace:E}}function sd(r){r=Zf(r);const o=od(r),l=ad(r,o.state,o.location,o.replace);function c(_,E=!0){E||l.pauseListeners(),history.go(_)}const p=$e({location:"",base:r,go:c,createHref:Qf.bind(null,r)},o,l);return Object.defineProperty(p,"location",{enumerable:!0,get:()=>o.location.value}),Object.defineProperty(p,"state",{enumerable:!0,get:()=>o.state.value}),p}function ld(r){return typeof r=="string"||r&&typeof r=="object"}function Ss(r){return typeof r=="string"||typeof r=="symbol"}const Cs=Symbol("");var no;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(no||(no={}));function tr(r,o){return $e(new Error,{type:r,[Cs]:!0},o)}function sn(r,o){return r instanceof Error&&Cs in r&&(o==null||!!(r.type&o))}const ro="[^/]+?",cd={sensitive:!1,strict:!1,start:!0,end:!0},ud=/[.+*?^${}()[\]/\\]/g;function fd(r,o){const l=$e({},cd,o),c=[];let p=l.start?"^":"";const _=[];for(const x of r){const M=x.length?[]:[90];l.strict&&!x.length&&(p+="/");for(let f=0;f<x.length;f++){const u=x[f];let b=40+(l.sensitive?.25:0);if(u.type===0)f||(p+="/"),p+=u.value.replace(ud,"\\$&"),b+=40;else if(u.type===1){const{value:y,repeatable:w,optional:m,regexp:k}=u;_.push({name:y,repeatable:w,optional:m});const L=k||ro;if(L!==ro){b+=10;try{new RegExp(`(${L})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${y}" (${L}): `+A.message)}}let S=w?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;f||(S=m&&x.length<2?`(?:/${S})`:"/"+S),m&&(S+="?"),p+=S,b+=20,m&&(b+=-8),w&&(b+=-20),L===".*"&&(b+=-50)}M.push(b)}c.push(M)}if(l.strict&&l.end){const x=c.length-1;c[x][c[x].length-1]+=.7000000000000001}l.strict||(p+="/?"),l.end?p+="$":l.strict&&!p.endsWith("/")&&(p+="(?:/|$)");const E=new RegExp(p,l.sensitive?"":"i");function g(x){const M=x.match(E),f={};if(!M)return null;for(let u=1;u<M.length;u++){const b=M[u]||"",y=_[u-1];f[y.name]=b&&y.repeatable?b.split("/"):b}return f}function v(x){let M="",f=!1;for(const u of r){(!f||!M.endsWith("/"))&&(M+="/"),f=!1;for(const b of u)if(b.type===0)M+=b.value;else if(b.type===1){const{value:y,repeatable:w,optional:m}=b,k=y in x?x[y]:"";if(Wt(k)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const L=Wt(k)?k.join("/"):k;if(!L)if(m)u.length<2&&(M.endsWith("/")?M=M.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);M+=L}}return M||"/"}return{re:E,score:c,keys:_,parse:g,stringify:v}}function dd(r,o){let l=0;for(;l<r.length&&l<o.length;){const c=o[l]-r[l];if(c)return c;l++}return r.length<o.length?r.length===1&&r[0]===80?-1:1:r.length>o.length?o.length===1&&o[0]===80?1:-1:0}function ks(r,o){let l=0;const c=r.score,p=o.score;for(;l<c.length&&l<p.length;){const _=dd(c[l],p[l]);if(_)return _;l++}if(Math.abs(p.length-c.length)===1){if(io(c))return 1;if(io(p))return-1}return p.length-c.length}function io(r){const o=r[r.length-1];return r.length>0&&o[o.length-1]<0}const pd={type:0,value:""},hd=/[a-zA-Z0-9_]/;function md(r){if(!r)return[[]];if(r==="/")return[[pd]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function o(b){throw new Error(`ERR (${l})/"${x}": ${b}`)}let l=0,c=l;const p=[];let _;function E(){_&&p.push(_),_=[]}let g=0,v,x="",M="";function f(){x&&(l===0?_.push({type:0,value:x}):l===1||l===2||l===3?(_.length>1&&(v==="*"||v==="+")&&o(`A repeatable param (${x}) must be alone in its segment. eg: '/:ids+.`),_.push({type:1,value:x,regexp:M,repeatable:v==="*"||v==="+",optional:v==="*"||v==="?"})):o("Invalid state to consume buffer"),x="")}function u(){x+=v}for(;g<r.length;){if(v=r[g++],v==="\\"&&l!==2){c=l,l=4;continue}switch(l){case 0:v==="/"?(x&&f(),E()):v===":"?(f(),l=1):u();break;case 4:u(),l=c;break;case 1:v==="("?l=2:hd.test(v)?u():(f(),l=0,v!=="*"&&v!=="?"&&v!=="+"&&g--);break;case 2:v===")"?M[M.length-1]=="\\"?M=M.slice(0,-1)+v:l=3:M+=v;break;case 3:f(),l=0,v!=="*"&&v!=="?"&&v!=="+"&&g--,M="";break;default:o("Unknown state");break}}return l===2&&o(`Unfinished custom RegExp for param "${x}"`),f(),E(),p}function gd(r,o,l){const c=fd(md(r.path),l),p=$e(c,{record:r,parent:o,children:[],alias:[]});return o&&!p.record.aliasOf==!o.record.aliasOf&&o.children.push(p),p}function yd(r,o){const l=[],c=new Map;o=lo({strict:!1,end:!0,sensitive:!1},o);function p(f){return c.get(f)}function _(f,u,b){const y=!b,w=oo(f);w.aliasOf=b&&b.record;const m=lo(o,f),k=[w];if("alias"in f){const A=typeof f.alias=="string"?[f.alias]:f.alias;for(const d of A)k.push(oo($e({},w,{components:b?b.record.components:w.components,path:d,aliasOf:b?b.record:w})))}let L,S;for(const A of k){const{path:d}=A;if(u&&d[0]!=="/"){const R=u.record.path,D=R[R.length-1]==="/"?"":"/";A.path=u.record.path+(d&&D+d)}if(L=gd(A,u,m),b?b.alias.push(L):(S=S||L,S!==L&&S.alias.push(L),y&&f.name&&!so(L)&&E(f.name)),Ts(L)&&v(L),w.children){const R=w.children;for(let D=0;D<R.length;D++)_(R[D],L,b&&b.children[D])}b=b||L}return S?()=>{E(S)}:Er}function E(f){if(Ss(f)){const u=c.get(f);u&&(c.delete(f),l.splice(l.indexOf(u),1),u.children.forEach(E),u.alias.forEach(E))}else{const u=l.indexOf(f);u>-1&&(l.splice(u,1),f.record.name&&c.delete(f.record.name),f.children.forEach(E),f.alias.forEach(E))}}function g(){return l}function v(f){const u=vd(f,l);l.splice(u,0,f),f.record.name&&!so(f)&&c.set(f.record.name,f)}function x(f,u){let b,y={},w,m;if("name"in f&&f.name){if(b=c.get(f.name),!b)throw tr(1,{location:f});m=b.record.name,y=$e(ao(u.params,b.keys.filter(S=>!S.optional).concat(b.parent?b.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&ao(f.params,b.keys.map(S=>S.name))),w=b.stringify(y)}else if(f.path!=null)w=f.path,b=l.find(S=>S.re.test(w)),b&&(y=b.parse(w),m=b.record.name);else{if(b=u.name?c.get(u.name):l.find(S=>S.re.test(u.path)),!b)throw tr(1,{location:f,currentLocation:u});m=b.record.name,y=$e({},u.params,f.params),w=b.stringify(y)}const k=[];let L=b;for(;L;)k.unshift(L.record),L=L.parent;return{name:m,path:w,params:y,matched:k,meta:wd(k)}}r.forEach(f=>_(f));function M(){l.length=0,c.clear()}return{addRoute:_,resolve:x,removeRoute:E,clearRoutes:M,getRoutes:g,getRecordMatcher:p}}function ao(r,o){const l={};for(const c of o)c in r&&(l[c]=r[c]);return l}function oo(r){const o={path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:r.aliasOf,beforeEnter:r.beforeEnter,props:bd(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}};return Object.defineProperty(o,"mods",{value:{}}),o}function bd(r){const o={},l=r.props||!1;if("component"in r)o.default=l;else for(const c in r.components)o[c]=typeof l=="object"?l[c]:l;return o}function so(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function wd(r){return r.reduce((o,l)=>$e(o,l.meta),{})}function lo(r,o){const l={};for(const c in r)l[c]=c in o?o[c]:r[c];return l}function vd(r,o){let l=0,c=o.length;for(;l!==c;){const _=l+c>>1;ks(r,o[_])<0?c=_:l=_+1}const p=_d(r);return p&&(c=o.lastIndexOf(p,c-1)),c}function _d(r){let o=r;for(;o=o.parent;)if(Ts(o)&&ks(r,o)===0)return o}function Ts({record:r}){return!!(r.name||r.components&&Object.keys(r.components).length||r.redirect)}function Ed(r){const o={};if(r===""||r==="?")return o;const c=(r[0]==="?"?r.slice(1):r).split("&");for(let p=0;p<c.length;++p){const _=c[p].replace(ys," "),E=_.indexOf("="),g=kr(E<0?_:_.slice(0,E)),v=E<0?null:kr(_.slice(E+1));if(g in o){let x=o[g];Wt(x)||(x=o[g]=[x]),x.push(v)}else o[g]=v}return o}function co(r){let o="";for(let l in r){const c=r[l];if(l=Vf(l),c==null){c!==void 0&&(o+=(o.length?"&":"")+l);continue}(Wt(c)?c.map(_=>_&&aa(_)):[c&&aa(c)]).forEach(_=>{_!==void 0&&(o+=(o.length?"&":"")+l,_!=null&&(o+="="+_))})}return o}function Sd(r){const o={};for(const l in r){const c=r[l];c!==void 0&&(o[l]=Wt(c)?c.map(p=>p==null?null:""+p):c==null?c:""+c)}return o}const Cd=Symbol(""),uo=Symbol(""),Ci=Symbol(""),ya=Symbol(""),sa=Symbol("");function vr(){let r=[];function o(c){return r.push(c),()=>{const p=r.indexOf(c);p>-1&&r.splice(p,1)}}function l(){r=[]}return{add:o,list:()=>r.slice(),reset:l}}function _n(r,o,l,c,p,_=E=>E()){const E=c&&(c.enterCallbacks[p]=c.enterCallbacks[p]||[]);return()=>new Promise((g,v)=>{const x=u=>{u===!1?v(tr(4,{from:l,to:o})):u instanceof Error?v(u):ld(u)?v(tr(2,{from:o,to:u})):(E&&c.enterCallbacks[p]===E&&typeof u=="function"&&E.push(u),g())},M=_(()=>r.call(c&&c.instances[p],o,l,x));let f=Promise.resolve(M);r.length<3&&(f=f.then(x)),f.catch(u=>v(u))})}function zi(r,o,l,c,p=_=>_()){const _=[];for(const E of r)for(const g in E.components){let v=E.components[g];if(!(o!=="beforeRouteEnter"&&!E.instances[g]))if(ms(v)){const M=(v.__vccOpts||v)[o];M&&_.push(_n(M,l,c,E,g,p))}else{let x=v();_.push(()=>x.then(M=>{if(!M)throw new Error(`Couldn't resolve component "${g}" at "${E.path}"`);const f=Of(M)?M.default:M;E.mods[g]=M,E.components[g]=f;const b=(f.__vccOpts||f)[o];return b&&_n(b,l,c,E,g,p)()}))}}return _}function fo(r){const o=Sn(Ci),l=Sn(ya),c=_t(()=>{const v=$t(r.to);return o.resolve(v)}),p=_t(()=>{const{matched:v}=c.value,{length:x}=v,M=v[x-1],f=l.matched;if(!M||!f.length)return-1;const u=f.findIndex(er.bind(null,M));if(u>-1)return u;const b=po(v[x-2]);return x>1&&po(M)===b&&f[f.length-1].path!==b?f.findIndex(er.bind(null,v[x-2])):u}),_=_t(()=>p.value>-1&&Md(l.params,c.value.params)),E=_t(()=>p.value>-1&&p.value===l.matched.length-1&&_s(l.params,c.value.params));function g(v={}){if(Ad(v)){const x=o[$t(r.replace)?"replace":"push"]($t(r.to)).catch(Er);return r.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>x),x}return Promise.resolve()}return{route:c,href:_t(()=>c.value.href),isActive:_,isExactActive:E,navigate:g}}function kd(r){return r.length===1?r[0]:r}const Td=mt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:fo,setup(r,{slots:o}){const l=So(fo(r)),{options:c}=Sn(Ci),p=_t(()=>({[ho(r.activeClass,c.linkActiveClass,"router-link-active")]:l.isActive,[ho(r.exactActiveClass,c.linkExactActiveClass,"router-link-exact-active")]:l.isExactActive}));return()=>{const _=o.default&&kd(o.default(l));return r.custom?_:si("a",{"aria-current":l.isExactActive?r.ariaCurrentValue:null,href:l.href,onClick:l.navigate,class:p.value},_)}}}),Ld=Td;function Ad(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const o=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(o))return}return r.preventDefault&&r.preventDefault(),!0}}function Md(r,o){for(const l in o){const c=o[l],p=r[l];if(typeof c=="string"){if(c!==p)return!1}else if(!Wt(p)||p.length!==c.length||c.some((_,E)=>_!==p[E]))return!1}return!0}function po(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const ho=(r,o,l)=>r??o??l,xd=mt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:o,slots:l}){const c=Sn(sa),p=_t(()=>r.route||c.value),_=Sn(uo,0),E=_t(()=>{let x=$t(_);const{matched:M}=p.value;let f;for(;(f=M[x])&&!f.components;)x++;return x}),g=_t(()=>p.value.matched[E.value]);ji(uo,_t(()=>E.value+1)),ji(Cd,g),ji(sa,p);const v=de();return Bn(()=>[v.value,g.value,r.name],([x,M,f],[u,b,y])=>{M&&(M.instances[f]=x,b&&b!==M&&x&&x===u&&(M.leaveGuards.size||(M.leaveGuards=b.leaveGuards),M.updateGuards.size||(M.updateGuards=b.updateGuards))),x&&M&&(!b||!er(M,b)||!u)&&(M.enterCallbacks[f]||[]).forEach(w=>w(x))},{flush:"post"}),()=>{const x=p.value,M=r.name,f=g.value,u=f&&f.components[M];if(!u)return mo(l.default,{Component:u,route:x});const b=f.props[M],y=b?b===!0?x.params:typeof b=="function"?b(x):b:null,m=si(u,$e({},y,o,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(f.instances[M]=null)},ref:v}));return mo(l.default,{Component:m,route:x})||m}}});function mo(r,o){if(!r)return null;const l=r(o);return l.length===1?l[0]:l}const Od=xd;function Rd(r){const o=yd(r.routes,r),l=r.parseQuery||Ed,c=r.stringifyQuery||co,p=r.history,_=vr(),E=vr(),g=vr(),v=ac(wn);let x=wn;Yn&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const M=Fi.bind(null,j=>""+j),f=Fi.bind(null,qf),u=Fi.bind(null,kr);function b(j,Z){let F,q;return Ss(j)?(F=o.getRecordMatcher(j),q=Z):q=j,o.addRoute(q,F)}function y(j){const Z=o.getRecordMatcher(j);Z&&o.removeRoute(Z)}function w(){return o.getRoutes().map(j=>j.record)}function m(j){return!!o.getRecordMatcher(j)}function k(j,Z){if(Z=$e({},Z||v.value),typeof j=="string"){const le=qi(l,j,Z.path),He=o.resolve({path:le.path},Z),we=p.createHref(le.fullPath);return $e(le,He,{params:u(He.params),hash:kr(le.hash),redirectedFrom:void 0,href:we})}let F;if(j.path!=null)F=$e({},j,{path:qi(l,j.path,Z.path).path});else{const le=$e({},j.params);for(const He in le)le[He]==null&&delete le[He];F=$e({},j,{params:f(le)}),Z.params=f(Z.params)}const q=o.resolve(F,Z),ke=j.hash||"";q.params=M(u(q.params));const ne=Wf(c,$e({},j,{hash:$f(ke),path:q.path})),be=p.createHref(ne);return $e({fullPath:ne,hash:ke,query:c===co?Sd(j.query):j.query||{}},q,{redirectedFrom:void 0,href:be})}function L(j){return typeof j=="string"?qi(l,j,v.value.path):$e({},j)}function S(j,Z){if(x!==j)return tr(8,{from:Z,to:j})}function A(j){return D(j)}function d(j){return A($e(L(j),{replace:!0}))}function R(j){const Z=j.matched[j.matched.length-1];if(Z&&Z.redirect){const{redirect:F}=Z;let q=typeof F=="function"?F(j):F;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=L(q):{path:q},q.params={}),$e({query:j.query,hash:j.hash,params:q.path!=null?{}:j.params},q)}}function D(j,Z){const F=x=k(j),q=v.value,ke=j.state,ne=j.force,be=j.replace===!0,le=R(F);if(le)return D($e(L(le),{state:typeof le=="object"?$e({},ke,le.state):ke,force:ne,replace:be}),Z||F);const He=F;He.redirectedFrom=Z;let we;return!ne&&Gf(c,q,F)&&(we=tr(16,{to:He,from:q}),Ye(q,q,!0,!1)),(we?Promise.resolve(we):V(He,q)).catch(De=>sn(De)?sn(De,2)?De:ot(De):je(De,He,q)).then(De=>{if(De){if(sn(De,2))return D($e({replace:be},L(De.to),{state:typeof De.to=="object"?$e({},ke,De.to.state):ke,force:ne}),Z||He)}else De=te(He,q,!0,be,ke);return W(He,q,De),De})}function I(j,Z){const F=S(j,Z);return F?Promise.reject(F):Promise.resolve()}function N(j){const Z=Vt.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(j):j()}function V(j,Z){let F;const[q,ke,ne]=Dd(j,Z);F=zi(q.reverse(),"beforeRouteLeave",j,Z);for(const le of q)le.leaveGuards.forEach(He=>{F.push(_n(He,j,Z))});const be=I.bind(null,j,Z);return F.push(be),gt(F).then(()=>{F=[];for(const le of _.list())F.push(_n(le,j,Z));return F.push(be),gt(F)}).then(()=>{F=zi(ke,"beforeRouteUpdate",j,Z);for(const le of ke)le.updateGuards.forEach(He=>{F.push(_n(He,j,Z))});return F.push(be),gt(F)}).then(()=>{F=[];for(const le of ne)if(le.beforeEnter)if(Wt(le.beforeEnter))for(const He of le.beforeEnter)F.push(_n(He,j,Z));else F.push(_n(le.beforeEnter,j,Z));return F.push(be),gt(F)}).then(()=>(j.matched.forEach(le=>le.enterCallbacks={}),F=zi(ne,"beforeRouteEnter",j,Z,N),F.push(be),gt(F))).then(()=>{F=[];for(const le of E.list())F.push(_n(le,j,Z));return F.push(be),gt(F)}).catch(le=>sn(le,8)?le:Promise.reject(le))}function W(j,Z,F){g.list().forEach(q=>N(()=>q(j,Z,F)))}function te(j,Z,F,q,ke){const ne=S(j,Z);if(ne)return ne;const be=Z===wn,le=Yn?history.state:{};F&&(q||be?p.replace(j.fullPath,$e({scroll:be&&le&&le.scroll},ke)):p.push(j.fullPath,ke)),v.value=j,Ye(j,Z,F,be),ot()}let pe;function Se(){pe||(pe=p.listen((j,Z,F)=>{if(!tn.listening)return;const q=k(j),ke=R(q);if(ke){D($e(ke,{replace:!0,force:!0}),q).catch(Er);return}x=q;const ne=v.value;Yn&&nd(eo(ne.fullPath,F.delta),Si()),V(q,ne).catch(be=>sn(be,12)?be:sn(be,2)?(D($e(L(be.to),{force:!0}),q).then(le=>{sn(le,20)&&!F.delta&&F.type===Tr.pop&&p.go(-1,!1)}).catch(Er),Promise.reject()):(F.delta&&p.go(-F.delta,!1),je(be,q,ne))).then(be=>{be=be||te(q,ne,!1),be&&(F.delta&&!sn(be,8)?p.go(-F.delta,!1):F.type===Tr.pop&&sn(be,20)&&p.go(-1,!1)),W(q,ne,be)}).catch(Er)}))}let Me=vr(),re=vr(),se;function je(j,Z,F){ot(j);const q=re.list();return q.length?q.forEach(ke=>ke(j,Z,F)):console.error(j),Promise.reject(j)}function tt(){return se&&v.value!==wn?Promise.resolve():new Promise((j,Z)=>{Me.add([j,Z])})}function ot(j){return se||(se=!j,Se(),Me.list().forEach(([Z,F])=>j?F(j):Z()),Me.reset()),j}function Ye(j,Z,F,q){const{scrollBehavior:ke}=r;if(!Yn||!ke)return Promise.resolve();const ne=!F&&rd(eo(j.fullPath,0))||(q||!F)&&history.state&&history.state.scroll||null;return Pn().then(()=>ke(j,Z,ne)).then(be=>be&&td(be)).catch(be=>je(be,j,Z))}const B=j=>p.go(j);let bt;const Vt=new Set,tn={currentRoute:v,listening:!0,addRoute:b,removeRoute:y,clearRoutes:o.clearRoutes,hasRoute:m,getRoutes:w,resolve:k,options:r,push:A,replace:d,go:B,back:()=>B(-1),forward:()=>B(1),beforeEach:_.add,beforeResolve:E.add,afterEach:g.add,onError:re.add,isReady:tt,install(j){const Z=this;j.component("RouterLink",Ld),j.component("RouterView",Od),j.config.globalProperties.$router=Z,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>$t(v)}),Yn&&!bt&&v.value===wn&&(bt=!0,A(p.location).catch(ke=>{}));const F={};for(const ke in wn)Object.defineProperty(F,ke,{get:()=>v.value[ke],enumerable:!0});j.provide(Ci,Z),j.provide(ya,oc(F)),j.provide(sa,v);const q=j.unmount;Vt.add(j),j.unmount=function(){Vt.delete(j),Vt.size<1&&(x=wn,pe&&pe(),pe=null,v.value=wn,bt=!1,se=!1),q()}}};function gt(j){return j.reduce((Z,F)=>Z.then(()=>N(F)),Promise.resolve())}return tn}function Dd(r,o){const l=[],c=[],p=[],_=Math.max(o.matched.length,r.matched.length);for(let E=0;E<_;E++){const g=o.matched[E];g&&(r.matched.find(x=>er(x,g))?c.push(g):l.push(g));const v=r.matched[E];v&&(o.matched.find(x=>er(x,v))||p.push(v))}return[l,c,p]}function ki(){return Sn(Ci)}function cn(r){return Sn(ya)}const Nd={class:"sh-main"},Hd=mt({__name:"View404",setup(r){let o=cn(),l=de(o.fullPath);return(c,p)=>{const _=Ge;return Le(),dt("div",Nd,[Je("p",null,et($t(l)),1),p[2]||(p[2]=Je("p",null,"该页面无效或已被迁移，请重新选择访问目标",-1)),$(_,{theme:"primary",onClick:p[0]||(p[0]=()=>c.$router.push("/"))},{default:K(()=>p[1]||(p[1]=[Ae("返回首页")])),_:1})])}}}),Ls=pt(Hd,[["__scopeId","data-v-d4218944"]]);let la=null;async function Pd(){la=await jd()}function Id(r,o="zh"){if(la==null)return[!1,r.toString()];const l=la[r.toString()];if(!l)return[!1,r.toString()];let c=l[o];return c||(o="zh",c=l[o]),c?[!0,c]:[!1,r.toString()]}async function jd(){return new Promise((r,o)=>{r({404:{zh:"接口未找到"},1e3:{zh:"系统错误"},10001:{zh:"权限异常，请重新登陆后再试"},10002:{zh:"参数不符合要求"},10003:{zh:"未找到目标数据"},100001:{zh:"用户名不存在或密码不匹配"}})})}function en(){const{appContext:r}=sc();return{globalProperties:r.config.globalProperties}}function Ti(){return 1e3}function jn(r,o,l=3e3){r.$message.info({duration:l,content:o})}function ri(r,o,l=3e3){r.$message.error({duration:l,content:o})}function Lt(r,o,l=3e3){const[c,p]=Id(o),_=c?p:`系统错误，错误提示[${p}]`;r.$message.error({duration:l,content:_})}const Bd={class:"dida-login-footer"},Ud=mt({__name:"LoginView",setup(r){const{globalProperties:o}=en(),l=Qn(),c=de(!1),p=de({account:"",password:""}),_=()=>{jn(o,"重置成功")},E=({validateResult:g,firstError:v})=>{c.value||kf(p.value.account,p.value.password).then(x=>{if(x.code===0){l.loadResponse(x.data),jn(o,"登录成功");let M=o.$route.query.redirect_uri;M||(M="/user/"+x.data.username),o.$router.push({path:M})}else Lt(o,x.code)}).catch(x=>{console.error("Login error",x),ri(o,"登录失败")})};return jt(()=>{if(l.isLogin()){o.$router.push({path:"/user"});return}}),(g,v)=>{const x=pi,M=di,f=Ge,u=fi,b=uc,y=ln;return Le(),Ue(y,{class:"yj-login-card",title:"欢迎使用DidaOJ~"},{default:K(()=>[$(u,{ref:"form",data:p.value,colon:!0,onReset:_,onSubmit:E,class:"yj-login-form","label-width":0},{default:K(()=>[$(M,{name:"account"},{default:K(()=>[$(x,{modelValue:p.value.account,"onUpdate:modelValue":v[0]||(v[0]=w=>p.value.account=w),clearable:"",placeholder:"请输入账户名"},{"prefix-icon":K(()=>[$($t(lc))]),_:1},8,["modelValue"])]),_:1}),$(M,{name:"password"},{default:K(()=>[$(x,{modelValue:p.value.password,"onUpdate:modelValue":v[1]||(v[1]=w=>p.value.password=w),type:"password",clearable:"",placeholder:"请输入密码"},{"prefix-icon":K(()=>[$($t(cc))]),_:1},8,["modelValue"])]),_:1}),$(M,null,{default:K(()=>[$(f,{theme:"primary",type:"submit",block:"",loading:c.value},{default:K(()=>v[2]||(v[2]=[Ae("登录")])),_:1},8,["loading"])]),_:1})]),_:1},8,["data"]),Je("div",Bd,[$(b,null,{default:K(()=>v[3]||(v[3]=[Ae("忘记密码")])),_:1}),$(b,null,{default:K(()=>v[4]||(v[4]=[Ae("注册账户")])),_:1})])]),_:1})}}}),$d=pt(Ud,[["__scopeId","data-v-b3cb57db"]]),Vd={};function Fd(r,o){return" TODO "}const qd=pt(Vd,[["render",Fd]]),ba=[{name:"home",path:"/",title:"首页",showSidebar:!1,disableGenerateTab:!0,component:xf},{name:"problem",path:"/problem",title:"题目",icon:"dashboard",showSidebar:!0,redirect:"problem-list"},{name:"judge",path:"/judge",title:"评测",icon:"dashboard",showSidebar:!0,redirect:"judge-list"},{name:"contest",path:"/contest",title:"比赛",icon:"dashboard",showSidebar:!0,redirect:"contest-list"},{name:"contest-detail",title:"比赛",path:"/contest",showSidebar:!0,disableGenerateTab:!0,redirect:"contest-list"},{name:"manage",path:"/manage",title:"管理",icon:"dashboard",showSidebar:!0,redirect:"manage-problem",auths:["i-manage"]},{name:"login",path:"/login",title:"登陆",showSidebar:!1,disableGenerateTab:!0,component:$d},{name:"user",path:"/user/:username+",title:"用户",showSidebar:!1,needLogin:!0,disableGenerateTab:!0,component:qd},{name:"404",path:"/404",title:"404",showSidebar:!1,disableGenerateTab:!0,component:Ls}],zd=r=>ba.find(o=>o.name==r),Kd=r=>{const o=[];return ba.forEach(l=>{!l.disableGenerateTab&&r.hasAllAuths(l.auths)&&o.push(l)}),o},Wd=r=>{ba.forEach(o=>{const l={name:o.name,path:o.path,meta:{title:o.title,tab:o.name,showSidebar:o.showSidebar,needLogin:o.needLogin,redirect:o.redirect,tabAuths:o.auths},component:o.component};r.push(l)})},Gd=mt({__name:"HeaderContent",setup(r){const o=hs(),l=Qn(),{globalProperties:c}=en(),p=de(o.isLoaded),_=de(!1),E=de(l.getUsername),g=de(l.getNickname),v=de(),x=()=>{v.value=Kd(l)};o.$subscribe((u,b)=>{p.value=b.Loaded}),l.$subscribe((u,b)=>{E.value=b.username,g.value=b.nickname,_.value=b.token!="",x()});const M=()=>{c.$router.currentRoute.value.name!=="login"&&c.$router.push({name:"login",query:{redirect_uri:c.$router.currentRoute.value.fullPath}})},f=()=>{l.clear(),c.$message.success({duration:3e3,content:"注销成功"}),c.$router.push({path:"/login",query:{redirect_uri:c.$router.currentRoute.value.fullPath}})};return jt(()=>{x()}),(u,b)=>{const y=Lo("router-link"),w=Mo,m=Ao,k=fc,L=dc;return Le(),Ue(L,{modelValue:u.$route.meta.tab,"onUpdate:modelValue":b[0]||(b[0]=S=>u.$route.meta.tab=S),class:"sh-menu","expand-type":"popup"},{logo:K(()=>[$(y,{to:"/",class:"sh-logo"},{default:K(()=>b[1]||(b[1]=[Ae("DidaOJ")])),_:1})]),operations:K(()=>[p.value&&_.value?(Le(),Ue(k,{key:0,title:g.value},{icon:K(()=>[$(w,{name:"user"})]),default:K(()=>[$(m,{value:"user",to:{path:"/user/"+E.value}},{default:K(()=>b[2]||(b[2]=[Ae("个人空间")])),_:1},8,["to"]),$(m,{value:"user_logout",onClick:f},{default:K(()=>b[3]||(b[3]=[Ae(" 注销")])),_:1})]),_:1},8,["title"])):p.value?(Le(),Ue(m,{key:2,value:"login",onClick:M},{icon:K(()=>[$(w,{name:"login"})]),default:K(()=>[b[5]||(b[5]=Ae(" 登录 "))]),_:1})):(Le(),Ue(m,{key:1,value:"login"},{icon:K(()=>[$(w,{name:"login"})]),default:K(()=>[b[4]||(b[4]=Ae(" ... "))]),_:1}))]),default:K(()=>[(Le(!0),dt(Tt,null,Qt(v.value,S=>(Le(),Ue(m,{key:S.name,value:S.name,to:{name:S.name}},{icon:K(()=>[S.icon?(Le(),Ue(w,{key:0,name:S.icon},null,8,["name"])):Cn("",!0)]),default:K(()=>[Ae(" "+et(S.title),1)]),_:2},1032,["value","to"]))),128))]),_:1},8,["modelValue"])}}}),Xd=pt(Gd,[["__scopeId","data-v-9fdb245f"]]);function As(r){return r.children!==void 0}function Jd(r){return r.children!==void 0}const Zd={id:"menu-container"},Yd=mt({__name:"SidebarContent",setup(r){const o=Ei(),l=de(!1),c=de(null),p=de(o.menuActiveName),_=de(o.menuList),E=de([]),g=de(!1),v=()=>{p.value=o.menuActiveName;const M=JSON.stringify(_.value),f=JSON.stringify(o.menuList);M!==f&&(E.value.push([...o.menuList]),x())},x=async()=>{if(E.value.length>0&&!g.value){for(g.value=!0;E.value.length>1;)E.value.shift();const M=E.value.shift();l.value=M.length<=0,_.value=[],await Pn(),c.value&&c.value.updateActiveName(),await new Promise(u=>setTimeout(u,300)),_.value=M,await Pn(),c.value&&c.value.updateActiveName();const f=300;await new Promise(u=>setTimeout(u,f)),g.value=!1,await x()}};return o.$subscribe((M,f)=>{v()}),jt(()=>{v()}),(M,f)=>{const u=Mo,b=Ao,y=mc,w=pc,m=xr;return Le(),dt(Tt,null,[Je("div",Zd,[$(w,{modelValue:p.value,"onUpdate:modelValue":f[0]||(f[0]=k=>p.value=k),theme:"light",class:"sh-menu-container"},{default:K(()=>[$(hc,{name:"move-left"},{default:K(()=>[(Le(!0),dt(Tt,null,Qt(_.value,(k,L)=>(Le(),dt(Tt,{key:L},[$t(Jd)(k)?(Le(),Ue(y,{key:0,title:k.title},{default:K(()=>[(Le(!0),dt(Tt,null,Qt(k.children,(S,A)=>(Le(),Ue(b,{key:S.name,value:S.name,to:S.to},Xi({default:K(()=>[Ae(" "+et(S.title),1)]),_:2},[S.icon?{name:"icon",fn:K(()=>[$(u,{name:S.icon,class:Ji(S.iconClass)},null,8,["name","class"])]),key:"0"}:void 0]),1032,["value","to"]))),128))]),_:2},1032,["title"])):(Le(),Ue(b,{key:k.name,value:k.name,to:k.to},Xi({default:K(()=>[Ae(" "+et(k.title),1)]),_:2},[k.icon?{name:"icon",fn:K(()=>[$(u,{name:k.icon,class:Ji(k.iconClass)},null,8,["name","class"])]),key:"0"}:void 0]),1032,["value","to"]))],64))),128))]),_:1})]),_:1},8,["modelValue"])]),$(m,{size:"small",loading:l.value,"show-overlay":!0,attach:"#menu-container",class:"sh-sidebar-loading",style:{"align-items":"flex-start","padding-top":"100px"}},null,8,["loading"])],64)}}}),Qd=pt(Yd,[["__scopeId","data-v-96e2d89f"]]),ep={};function tp(r,o){return null}const np=pt(ep,[["render",tp]]),rp={class:"footer"},ip={class:"footer-left"},ap={class:"foot-time"},op={class:"footer-center"},sp={href:"https://boiltask.com",target:"_blank"},lp={class:"footer-right"},cp={class:"foot-text"},up={href:"https://github.com/hpu-user/DiDaOJ-web",target:"_blank"},fp=mt({__name:"FooterContent",setup(r){const o=de("");function l(){o.value=new Date().toLocaleString()}return jt(()=>{l(),setInterval(()=>{l()},1e3)}),(c,p)=>{const _=Ge;return Le(),dt("div",rp,[Je("div",ip,[Je("p",ap,et(o.value),1)]),Je("div",op,[Je("a",sp,[$(_,{theme:"default",variant:"outline",ghost:!0},{default:K(()=>p[0]||(p[0]=[Ae("@BoilTask")])),_:1})])]),Je("div",lp,[Je("p",cp,[Je("a",up,[$(_,{theme:"default",variant:"outline",ghost:!0},{default:K(()=>p[1]||(p[1]=[Ae("@didaoj-web")])),_:1})])])])])}}}),dp=pt(fp,[["__scopeId","data-v-400ac98b"]]),Yr=20,Ki=100,Wi=50,pp=mt({__name:"ForceHiddenSidebarButton",setup(r){let o=Ei();const l=de({x:window.innerWidth-Ki-Yr,y:window.innerHeight-Wi-Yr}),c=de(window.innerWidth),p=de(window.innerHeight);let _=!1,E={x:0,y:0};const g=k=>{_=!0;const L=k.clientX??k.touches[0].clientX,S=k.clientY??k.touches[0].clientY;E={x:L-l.value.x,y:S-l.value.y},document.addEventListener("mousemove",v),document.addEventListener("touchmove",v),document.addEventListener("mouseup",x),document.addEventListener("touchend",x)},v=k=>{if(!_)return;const L=k.clientX??k.touches[0].clientX,S=k.clientY??k.touches[0].clientY;let A=L-E.x,d=S-E.y;A=Math.max(0,Math.min(A,c.value-Ki)),d=Math.max(0,Math.min(d,p.value-Wi)),l.value={x:A,y:d}},x=()=>{_=!1,document.removeEventListener("mousemove",v),document.removeEventListener("touchmove",v),document.removeEventListener("mouseup",x),document.removeEventListener("touchend",x)},M=()=>{c.value=window.innerWidth,p.value=window.innerHeight,l.value={x:Math.min(l.value.x,c.value-Ki-Yr),y:Math.min(l.value.y,p.value-Wi-Yr)}};let f=de(o.forceHiddenSidebar),u=de(o.forceHiddenSidebar);const b=()=>{f.value=!f.value,o.setForceHiddenSidebar(f.value)},y=()=>{u.value||(u.value=!0,o.setForceHiddenSidebar(f.value))},w=()=>{u.value&&(u.value=!1,o.setForceHiddenSidebar(!1))},m=k=>{k>=800?w():y()};return m(c.value),Bn(c,k=>{m(k)}),jt(()=>{window.addEventListener("resize",M)}),Or(()=>{window.removeEventListener("resize",M)}),(k,L)=>{const S=Ge;return $t(u)?(Le(),Ue(S,{key:0,class:"draggable-button",style:gc({top:`${l.value.y}px`,left:`${l.value.x}px`}),onMousedown:g,onTouchstart:g,variant:"dashed",theme:"primary",onClick:b},{default:K(()=>[Ae(et($t(f)?"显示":"隐藏"),1)]),_:1},8,["style"])):Cn("",!0)}}}),hp=pt(pp,[["__scopeId","data-v-1aee5506"]]),mp={class:"sh-main"},gp=mt({__name:"View403",setup(r){let o=cn();const l=de("");return jt(()=>{o.query.target?l.value=o.query.target:l.value=o.fullPath}),(c,p)=>{const _=Ge;return Le(),dt("div",mp,[Je("p",null,et(l.value),1),p[2]||(p[2]=Je("p",null,"该页面无访问权限，请更换访问目标或重新登陆后再试",-1)),$(_,{theme:"primary",onClick:p[0]||(p[0]=()=>c.$router.push("/"))},{default:K(()=>p[1]||(p[1]=[Ae("返回首页")])),_:1})])}}}),Ms=pt(gp,[["__scopeId","data-v-777362b3"]]),Qr="DidaOJ",yp=mt({__name:"App",setup(r){const{globalProperties:o}=en(),l=hs(),c=Qn(),p=ma(),_=Ei();l.$patch({Loaded:!1});const E=c.getToken,g=de(!1),v=de(!1);p.title&&p.title.length>0?document.title=p.title+" - "+Qr:document.title=Qr,p.$subscribe((u,b)=>{b.title&&b.title.length>0?document.title=b.title+" - "+Qr:document.title=Qr}),_.$subscribe((u,b)=>{g.value=b.showSidebar,v.value=g.value&&!b.forceHiddenSidebar});const x=cn(),M=_t(()=>{const u=x.meta.auths;return u?!c.hasAllAuths(u):!1});function f(){o.$message.warning({duration:3e3,content:"登陆状态失效"}),l.$patch({Loaded:!0}),c.clear()}return jt(()=>{if(E==""){l.$patch({Loaded:!0});return}Tf().then(u=>{u.code==0?(c.loadResponse(u.data),l.$patch({Loaded:!0})):(Lt(o,u.code),l.$patch({Loaded:!0}),c.clear())}).catch(u=>{console.log(u),f()})}),(u,b)=>{const y=yc,w=vc,m=Lo("RouterView"),k=_c,L=bc,S=Ec;return Le(),dt(Tt,null,[$(L,null,{default:K(()=>[$(y,{class:"sh-header"},{default:K(()=>[$(Xd)]),_:1}),$(L,null,{default:K(()=>[$(wc,{name:"slide"},{default:K(()=>[v.value?(Le(),Ue(w,{key:0,class:"sh-sidebar"},{default:K(()=>[$(Qd)]),_:1})):Cn("",!0)]),_:1}),$(L,{class:Ji(["sh-main-layout",{expanded:!v.value}])},{default:K(()=>[$(np),$(k,{class:"sh-main-content"},{default:K(()=>[M.value?(Le(),Ue(Ms,{key:0})):(Le(),Ue(m,{key:1}))]),_:1}),$(dp)]),_:1},8,["class"])]),_:1})]),_:1}),g.value?(Le(),Ue(hp,{key:0})):Cn("",!0),$(S,{container:"body",offset:["24px","80px"],size:"small"})],64)}}}),bp=pt(yp,[["__scopeId","data-v-044043ee"]]);var xs=(r=>(r[r.Unknown=-1]="Unknown",r[r.C=0]="C",r[r.Cpp=1]="Cpp",r[r.Java=2]="Java",r[r.Python=3]="Python",r[r.Pascal=4]="Pascal",r[r.Golang=5]="Golang",r[r.Max=6]="Max",r))(xs||{});function Os(){const r=[-1,4,5,6];return Object.values(xs).filter(o=>typeof o=="number"&&!r.includes(o)).map(o=>({value:o,label:Rs(o)}))}function wp(r){return r>-1&&r<6}function Rs(r){switch(r){case 0:return"C";case 1:return"C++";case 2:return"Java";case 3:return"Python";case 4:return"Pascal";case 5:return"Golang";default:return"Unknown"}}function Ds(r){switch(r){case 0:return"c";case 1:return"cpp";case 2:return"java";case 3:return"python";case 4:return"pascal";case 5:return"golang";default:return"text"}}var ct=(r=>(r[r.Init=0]="Init",r[r.Rejudge=1]="Rejudge",r[r.Submitting=2]="Submitting",r[r.Queuing=3]="Queuing",r[r.Compiling=4]="Compiling",r[r.Running=5]="Running",r[r.Accept=6]="Accept",r[r.PE=7]="PE",r[r.WA=8]="WA",r[r.TLE=9]="TLE",r[r.MLE=10]="MLE",r[r.OLE=11]="OLE",r[r.RE=12]="RE",r[r.CE=13]="CE",r[r.CLE=14]="CLE",r[r.JudgeFail=15]="JudgeFail",r[r.SubmitFail=16]="SubmitFail",r[r.Unknown=17]="Unknown",r))(ct||{});const vp=r=>{switch(r){case 0:return"普通评测";case 1:return"特殊评测";default:return"未知"}},ui=r=>{switch(r){case 0:return"等待处理";case 1:return"重新评测";case 2:return"提交中";case 3:return"队列中";case 4:return"编译中";case 5:return"运行中";case 6:return"通过";case 7:return"格式错误";case 8:return"答案错误";case 9:return"超时";case 10:return"内存超限";case 11:return"输出超限";case 12:return"运行错误";case 13:return"编译错误";case 14:return"编译超限";case 15:return"评测失败";case 16:return"提交失败";case 17:return"未知";default:return r}};function _p(){const r=[17];return Object.values(ct).filter(o=>typeof o=="number"&&!r.includes(o)).map(o=>({value:o,label:ui(o)}))}function Lr(r){switch(r){case 0:case 1:case 2:case 4:case 5:return!0;default:return!1}}function Ns(r){var l;const o={};if(o.id=r.id,o.problemId=r.problem_id,o.status=r.status,Lr(r.status)?o.score="-":o.score=r.score.toString(),r.time?o.time=Math.ceil(r.time/1e6)+"ms":o.time="-",r.memory?o.memory=(r.memory/1024/1024).toFixed(2)+"MB":o.memory="-",o.language=Rs(r.language),o.codeLength=r.code_length,r.approve_time?o.approveTime=new Date(r.approve_time).toLocaleString():o.approveTime="-",o.author=r.author,o.authorUsername=r.author_username,o.authorNickname=r.author_nickname,o.code=r.code,o.compileMessage=r.compile_message,o.task=[],r.task)for(let c=0;c<((l=r.task)==null?void 0:l.length);c++){const p=r.task[c],_={};_.taskId=p.task_id,_.status=p.status,p.time?_.time=Math.ceil(p.time/1e6)+"ms":_.time="-",p.memory?_.memory=(p.memory/1024/1024).toFixed(2)+"MB":_.memory="-",_.score=p.score,_.content=p.content,_.waHint=p.wa_hint,!_.content&&!_.waHint&&(_.content="无提示信息"),o.task.push(_)}return o}function Ep(r,o,l){return Rt({url:"/judge/approve",method:"post",data:{problem_id:r,language:o,code:l}})}function Sp(r){return Rt({url:"/judge?id="+r,method:"get"})}function Cp(r,o,l,c,p,_){const E=new URLSearchParams({problem_id:r,username:o,language:String(l),status:String(c),page:String(p),page_size:String(_)});return Rt({url:`/judge/list?${E.toString()}`,method:"get"})}function kp(){return Rt({url:"/judge/rejudge/recently",method:"post"})}var ca=(r=>(r[r.None=0]="None",r[r.Attempt=1]="Attempt",r[r.Accept=2]="Accept",r))(ca||{});function Hs(r,o){const l={};if(l.id=r.id,l.author=r.author,l.title=r.title,l.tags=[],r.tags)for(const c of r.tags){const p=o[c];p&&l.tags.push(p)}return l.accept=r.accept,l.attempt=r.attempt,r.description!=null&&(l.description=r.description),r.time_limit!=null&&(l.timeLimit=r.time_limit.toString()+" ms"),r.memory_limit!=null&&(l.memoryLimit=(r.memory_limit/1024).toFixed(2)+" MB"),r.judge_type!=null&&(l.judgeType=vp(r.judge_type)),r.insert_time!=null&&(l.insertTime=new Date(r.insert_time).toLocaleString()),r.update_time!=null&&(l.updateTime=new Date(r.update_time).toLocaleString()),r.creator_nickname!=null&&(l.creatorNickname=r.creator_nickname),r.source!=null&&(l.source=r.source),l}function Tp(r){return Rt({url:"/problem?id="+r,method:"get"})}function Lp(r){return Rt({url:"/problem/tag/list?max_count="+r,method:"get"})}function Ap(r,o,l,c){return Rt({url:"/problem/list?title="+r+"&tag="+o+"&page="+l+"&page_size="+c,method:"get"})}const Mp={style:{margin:"10px"}};function xp(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!ua(r)}const Op=mt({__name:"ProblemList",setup(r){const o=cn(),l=ki(),{globalProperties:c}=en();let p=null;const _=de(!1),E={};let g={};const v=de([{title:"ID",colKey:"id",cell:(R,D)=>{let I=k(D.row.id);return $(Ge,{variant:"dashed",theme:I,onClick:()=>m(D.row.id)},{default:()=>[D.row.id]})}},{title:"标题",colKey:"title",cell:(R,D)=>$(Ge,{variant:"text",onClick:()=>m(D.row.id)},{default:()=>[D.row.title]})},{title:"标签",colKey:"tags",cell:(R,D)=>{const I=D.row.tags;if(!I||I.length===0)return"";let N=[];for(let V=0;V<I.length;V++){const W=I[V];N.push($(Ge,{key:V,theme:"default",variant:"outline"},{default:()=>[W.name]}))}return $(nr,null,xp(N)?N:{default:()=>[N]})}},{title:"正确",colKey:"accept"},{title:"提交",colKey:"attempt"}]),x=de(!1);let M=1,f=50;const u=de({defaultPageSize:f,defaultCurrent:M,total:0,pageSizeOptions:[50,100]}),b=de(),y=de(),w=de({title:"",tag:""}),m=R=>{R&&l.push({path:"/problem/"+R})},k=R=>{if(!R||!g)return"default";const D=g[R];if(!D)return"default";switch(D){case ca.Accept:return"success";case ca.Attempt:return"warning";default:return"default"}},L=async()=>{await l.push({query:{...o.query,title:w.value.title,tag:w.value.tag,page:1,page_size:u.value.defaultPageSize}})},S=R=>{R&&l.push({query:{...o.query,title:"",tag:R.name,page:1,page_size:u.value.defaultPageSize}})},A=async(R,D)=>{x.value=!0;try{const{current:I,pageSize:N}=R,V=await Ap(w.value.title,w.value.tag,I,N);if(b.value=[],V.code===0){const W=V.data.list;if(!W||W.length<=0){u.value={...u.value,total:0},g=null,jn(c,"未找到记录");return}W.forEach(te=>{var Se;const pe=Hs(te,E);(Se=b.value)==null||Se.push(pe)}),u.value={...u.value,total:V.data.total_count},g=V.data.problem_attempt_status}else D&&Lt(c,V.code)}catch(I){console.error(I),Lt(c,Ti())}finally{x.value=!1}},d=async R=>{await l.push({query:{...o.query,page:R.current,page_size:R.pageSize}})};return jt(async()=>{y.value=[],Lp(-1).then(R=>{if(R.code===0){y.value=R.data.list,_.value=R.data.total_count>R.data.list.length;for(let D=0;D<R.data.list.length;D++){const I=R.data.list[D];E[I.id]=I}p=Bn(()=>o.query,D=>{w.value.title=D.title||"",w.value.tag=D.tag||"";const I=parseInt(D.page)||u.value.defaultCurrent,N=parseInt(D.page_size)||u.value.defaultPageSize;M=I,f=N,u.value={...u.value,defaultCurrent:M,defaultPageSize:f},A({current:M,pageSize:f},!0)},{immediate:!0})}else _.value=!0}).catch(R=>{console.error(R),_.value=!0})}),Or(()=>{p&&p()}),(R,D)=>{const I=Rr,N=ln,V=Mr,W=pi,te=di,pe=Ge,Se=fi,Me=Ar;return Le(),Ue(Me,null,{default:K(()=>[$(V,{span:9},{default:K(()=>[$(N,{style:{margin:"10px"}},{default:K(()=>[$(I,{data:b.value,columns:v.value,"row-key":"id","vertical-align":"top",hover:!0,pagination:u.value,loading:x.value,onPageChange:d},null,8,["data","columns","pagination","loading"])]),_:1})]),_:1}),$(V,{span:3},{default:K(()=>[Je("div",Mp,[$(N,{class:"sh-card"},{default:K(()=>[$(Se,{model:w.value},{default:K(()=>[$(te,{label:"标题"},{default:K(()=>[$(W,{modelValue:w.value.title,"onUpdate:modelValue":D[0]||(D[0]=re=>w.value.title=re),placeholder:"暂不支持模糊查询"},null,8,["modelValue"])]),_:1}),$(te,{label:"标签"},{default:K(()=>[$(W,{modelValue:w.value.tag,"onUpdate:modelValue":D[1]||(D[1]=re=>w.value.tag=re),placeholder:"暂不支持模糊查询"},null,8,["modelValue"])]),_:1}),$(te,null,{default:K(()=>[$(pe,{theme:"primary",onClick:L},{default:K(()=>D[3]||(D[3]=[Ae("搜索")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),$(N,{class:"sh-card sh-background-black"},{default:K(()=>[(Le(!0),dt(Tt,null,Qt(y.value,re=>(Le(),Ue(pe,{class:"sh-tag-button",theme:"default",variant:"outline",ghost:!0,onClick:()=>S(re)},{default:K(()=>[Ae(et(re.name),1)]),_:2},1032,["onClick"]))),256)),_.value?(Le(),Ue(pe,{key:0,class:"sh-tag-button",theme:"default",variant:"outline",ghost:!0,onClick:D[2]||(D[2]=()=>R.$router.push("/problem/tags"))},{default:K(()=>D[4]||(D[4]=[Ae(" ... ")])),_:1})):Cn("",!0)]),_:1})])]),_:1})]),_:1})}}}),go=pt(Op,[["__scopeId","data-v-e53dbd2f"]]);var ii={exports:{}};/*!
 * Vditor v3.11.0 - A markdown editor written in TypeScript.
 *
 * MIT License
 *
 * Copyright (c) 2018-present B3log 开源, b3log.org
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */var Rp=ii.exports,yo;function Dp(){return yo||(yo=1,function(r,o){(function(c,p){r.exports=p()})(Rp,function(){return(()=>{var l={173:E=>{var g=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},v=-1,x=1,M=0;g.Diff=function(f,u){return[f,u]},g.prototype.diff_main=function(f,u,b,y){typeof y>"u"&&(this.Diff_Timeout<=0?y=Number.MAX_VALUE:y=new Date().getTime()+this.Diff_Timeout*1e3);var w=y;if(f==null||u==null)throw new Error("Null input. (diff_main)");if(f==u)return f?[new g.Diff(M,f)]:[];typeof b>"u"&&(b=!0);var m=b,k=this.diff_commonPrefix(f,u),L=f.substring(0,k);f=f.substring(k),u=u.substring(k),k=this.diff_commonSuffix(f,u);var S=f.substring(f.length-k);f=f.substring(0,f.length-k),u=u.substring(0,u.length-k);var A=this.diff_compute_(f,u,m,w);return L&&A.unshift(new g.Diff(M,L)),S&&A.push(new g.Diff(M,S)),this.diff_cleanupMerge(A),A},g.prototype.diff_compute_=function(f,u,b,y){var w;if(!f)return[new g.Diff(x,u)];if(!u)return[new g.Diff(v,f)];var m=f.length>u.length?f:u,k=f.length>u.length?u:f,L=m.indexOf(k);if(L!=-1)return w=[new g.Diff(x,m.substring(0,L)),new g.Diff(M,k),new g.Diff(x,m.substring(L+k.length))],f.length>u.length&&(w[0][0]=w[2][0]=v),w;if(k.length==1)return[new g.Diff(v,f),new g.Diff(x,u)];var S=this.diff_halfMatch_(f,u);if(S){var A=S[0],d=S[1],R=S[2],D=S[3],I=S[4],N=this.diff_main(A,R,b,y),V=this.diff_main(d,D,b,y);return N.concat([new g.Diff(M,I)],V)}return b&&f.length>100&&u.length>100?this.diff_lineMode_(f,u,y):this.diff_bisect_(f,u,y)},g.prototype.diff_lineMode_=function(f,u,b){var y=this.diff_linesToChars_(f,u);f=y.chars1,u=y.chars2;var w=y.lineArray,m=this.diff_main(f,u,!1,b);this.diff_charsToLines_(m,w),this.diff_cleanupSemantic(m),m.push(new g.Diff(M,""));for(var k=0,L=0,S=0,A="",d="";k<m.length;){switch(m[k][0]){case x:S++,d+=m[k][1];break;case v:L++,A+=m[k][1];break;case M:if(L>=1&&S>=1){m.splice(k-L-S,L+S),k=k-L-S;for(var R=this.diff_main(A,d,!1,b),D=R.length-1;D>=0;D--)m.splice(k,0,R[D]);k=k+R.length}S=0,L=0,A="",d="";break}k++}return m.pop(),m},g.prototype.diff_bisect_=function(f,u,b){for(var y=f.length,w=u.length,m=Math.ceil((y+w)/2),k=m,L=2*m,S=new Array(L),A=new Array(L),d=0;d<L;d++)S[d]=-1,A[d]=-1;S[k+1]=0,A[k+1]=0;for(var R=y-w,D=R%2!=0,I=0,N=0,V=0,W=0,te=0;te<m&&!(new Date().getTime()>b);te++){for(var pe=-te+I;pe<=te-N;pe+=2){var Se=k+pe,Me;pe==-te||pe!=te&&S[Se-1]<S[Se+1]?Me=S[Se+1]:Me=S[Se-1]+1;for(var re=Me-pe;Me<y&&re<w&&f.charAt(Me)==u.charAt(re);)Me++,re++;if(S[Se]=Me,Me>y)N+=2;else if(re>w)I+=2;else if(D){var se=k+R-pe;if(se>=0&&se<L&&A[se]!=-1){var je=y-A[se];if(Me>=je)return this.diff_bisectSplit_(f,u,Me,re,b)}}}for(var tt=-te+V;tt<=te-W;tt+=2){var se=k+tt,je;tt==-te||tt!=te&&A[se-1]<A[se+1]?je=A[se+1]:je=A[se-1]+1;for(var ot=je-tt;je<y&&ot<w&&f.charAt(y-je-1)==u.charAt(w-ot-1);)je++,ot++;if(A[se]=je,je>y)W+=2;else if(ot>w)V+=2;else if(!D){var Se=k+R-tt;if(Se>=0&&Se<L&&S[Se]!=-1){var Me=S[Se],re=k+Me-Se;if(je=y-je,Me>=je)return this.diff_bisectSplit_(f,u,Me,re,b)}}}}return[new g.Diff(v,f),new g.Diff(x,u)]},g.prototype.diff_bisectSplit_=function(f,u,b,y,w){var m=f.substring(0,b),k=u.substring(0,y),L=f.substring(b),S=u.substring(y),A=this.diff_main(m,k,!1,w),d=this.diff_main(L,S,!1,w);return A.concat(d)},g.prototype.diff_linesToChars_=function(f,u){var b=[],y={};b[0]="";function w(S){for(var A="",d=0,R=-1,D=b.length;R<S.length-1;){R=S.indexOf(`
`,d),R==-1&&(R=S.length-1);var I=S.substring(d,R+1);(y.hasOwnProperty?y.hasOwnProperty(I):y[I]!==void 0)?A+=String.fromCharCode(y[I]):(D==m&&(I=S.substring(d),R=S.length),A+=String.fromCharCode(D),y[I]=D,b[D++]=I),d=R+1}return A}var m=4e4,k=w(f);m=65535;var L=w(u);return{chars1:k,chars2:L,lineArray:b}},g.prototype.diff_charsToLines_=function(f,u){for(var b=0;b<f.length;b++){for(var y=f[b][1],w=[],m=0;m<y.length;m++)w[m]=u[y.charCodeAt(m)];f[b][1]=w.join("")}},g.prototype.diff_commonPrefix=function(f,u){if(!f||!u||f.charAt(0)!=u.charAt(0))return 0;for(var b=0,y=Math.min(f.length,u.length),w=y,m=0;b<w;)f.substring(m,w)==u.substring(m,w)?(b=w,m=b):y=w,w=Math.floor((y-b)/2+b);return w},g.prototype.diff_commonSuffix=function(f,u){if(!f||!u||f.charAt(f.length-1)!=u.charAt(u.length-1))return 0;for(var b=0,y=Math.min(f.length,u.length),w=y,m=0;b<w;)f.substring(f.length-w,f.length-m)==u.substring(u.length-w,u.length-m)?(b=w,m=b):y=w,w=Math.floor((y-b)/2+b);return w},g.prototype.diff_commonOverlap_=function(f,u){var b=f.length,y=u.length;if(b==0||y==0)return 0;b>y?f=f.substring(b-y):b<y&&(u=u.substring(0,b));var w=Math.min(b,y);if(f==u)return w;for(var m=0,k=1;;){var L=f.substring(w-k),S=u.indexOf(L);if(S==-1)return m;k+=S,(S==0||f.substring(w-k)==u.substring(0,k))&&(m=k,k++)}},g.prototype.diff_halfMatch_=function(f,u){if(this.Diff_Timeout<=0)return null;var b=f.length>u.length?f:u,y=f.length>u.length?u:f;if(b.length<4||y.length*2<b.length)return null;var w=this;function m(N,V,W){for(var te=N.substring(W,W+Math.floor(N.length/4)),pe=-1,Se="",Me,re,se,je;(pe=V.indexOf(te,pe+1))!=-1;){var tt=w.diff_commonPrefix(N.substring(W),V.substring(pe)),ot=w.diff_commonSuffix(N.substring(0,W),V.substring(0,pe));Se.length<ot+tt&&(Se=V.substring(pe-ot,pe)+V.substring(pe,pe+tt),Me=N.substring(0,W-ot),re=N.substring(W+tt),se=V.substring(0,pe-ot),je=V.substring(pe+tt))}return Se.length*2>=N.length?[Me,re,se,je,Se]:null}var k=m(b,y,Math.ceil(b.length/4)),L=m(b,y,Math.ceil(b.length/2)),S;if(!k&&!L)return null;L?k?S=k[4].length>L[4].length?k:L:S=L:S=k;var A,d,R,D;f.length>u.length?(A=S[0],d=S[1],R=S[2],D=S[3]):(R=S[0],D=S[1],A=S[2],d=S[3]);var I=S[4];return[A,d,R,D,I]},g.prototype.diff_cleanupSemantic=function(f){for(var u=!1,b=[],y=0,w=null,m=0,k=0,L=0,S=0,A=0;m<f.length;)f[m][0]==M?(b[y++]=m,k=S,L=A,S=0,A=0,w=f[m][1]):(f[m][0]==x?S+=f[m][1].length:A+=f[m][1].length,w&&w.length<=Math.max(k,L)&&w.length<=Math.max(S,A)&&(f.splice(b[y-1],0,new g.Diff(v,w)),f[b[y-1]+1][0]=x,y--,y--,m=y>0?b[y-1]:-1,k=0,L=0,S=0,A=0,w=null,u=!0)),m++;for(u&&this.diff_cleanupMerge(f),this.diff_cleanupSemanticLossless(f),m=1;m<f.length;){if(f[m-1][0]==v&&f[m][0]==x){var d=f[m-1][1],R=f[m][1],D=this.diff_commonOverlap_(d,R),I=this.diff_commonOverlap_(R,d);D>=I?(D>=d.length/2||D>=R.length/2)&&(f.splice(m,0,new g.Diff(M,R.substring(0,D))),f[m-1][1]=d.substring(0,d.length-D),f[m+1][1]=R.substring(D),m++):(I>=d.length/2||I>=R.length/2)&&(f.splice(m,0,new g.Diff(M,d.substring(0,I))),f[m-1][0]=x,f[m-1][1]=R.substring(0,R.length-I),f[m+1][0]=v,f[m+1][1]=d.substring(I),m++),m++}m++}},g.prototype.diff_cleanupSemanticLossless=function(f){function u(I,N){if(!I||!N)return 6;var V=I.charAt(I.length-1),W=N.charAt(0),te=V.match(g.nonAlphaNumericRegex_),pe=W.match(g.nonAlphaNumericRegex_),Se=te&&V.match(g.whitespaceRegex_),Me=pe&&W.match(g.whitespaceRegex_),re=Se&&V.match(g.linebreakRegex_),se=Me&&W.match(g.linebreakRegex_),je=re&&I.match(g.blanklineEndRegex_),tt=se&&N.match(g.blanklineStartRegex_);return je||tt?5:re||se?4:te&&!Se&&Me?3:Se||Me?2:te||pe?1:0}for(var b=1;b<f.length-1;){if(f[b-1][0]==M&&f[b+1][0]==M){var y=f[b-1][1],w=f[b][1],m=f[b+1][1],k=this.diff_commonSuffix(y,w);if(k){var L=w.substring(w.length-k);y=y.substring(0,y.length-k),w=L+w.substring(0,w.length-k),m=L+m}for(var S=y,A=w,d=m,R=u(y,w)+u(w,m);w.charAt(0)===m.charAt(0);){y+=w.charAt(0),w=w.substring(1)+m.charAt(0),m=m.substring(1);var D=u(y,w)+u(w,m);D>=R&&(R=D,S=y,A=w,d=m)}f[b-1][1]!=S&&(S?f[b-1][1]=S:(f.splice(b-1,1),b--),f[b][1]=A,d?f[b+1][1]=d:(f.splice(b+1,1),b--))}b++}},g.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,g.whitespaceRegex_=/\s/,g.linebreakRegex_=/[\r\n]/,g.blanklineEndRegex_=/\n\r?\n$/,g.blanklineStartRegex_=/^\r?\n\r?\n/,g.prototype.diff_cleanupEfficiency=function(f){for(var u=!1,b=[],y=0,w=null,m=0,k=!1,L=!1,S=!1,A=!1;m<f.length;)f[m][0]==M?(f[m][1].length<this.Diff_EditCost&&(S||A)?(b[y++]=m,k=S,L=A,w=f[m][1]):(y=0,w=null),S=A=!1):(f[m][0]==v?A=!0:S=!0,w&&(k&&L&&S&&A||w.length<this.Diff_EditCost/2&&k+L+S+A==3)&&(f.splice(b[y-1],0,new g.Diff(v,w)),f[b[y-1]+1][0]=x,y--,w=null,k&&L?(S=A=!0,y=0):(y--,m=y>0?b[y-1]:-1,S=A=!1),u=!0)),m++;u&&this.diff_cleanupMerge(f)},g.prototype.diff_cleanupMerge=function(f){f.push(new g.Diff(M,""));for(var u=0,b=0,y=0,w="",m="",k;u<f.length;)switch(f[u][0]){case x:y++,m+=f[u][1],u++;break;case v:b++,w+=f[u][1],u++;break;case M:b+y>1?(b!==0&&y!==0&&(k=this.diff_commonPrefix(m,w),k!==0&&(u-b-y>0&&f[u-b-y-1][0]==M?f[u-b-y-1][1]+=m.substring(0,k):(f.splice(0,0,new g.Diff(M,m.substring(0,k))),u++),m=m.substring(k),w=w.substring(k)),k=this.diff_commonSuffix(m,w),k!==0&&(f[u][1]=m.substring(m.length-k)+f[u][1],m=m.substring(0,m.length-k),w=w.substring(0,w.length-k))),u-=b+y,f.splice(u,b+y),w.length&&(f.splice(u,0,new g.Diff(v,w)),u++),m.length&&(f.splice(u,0,new g.Diff(x,m)),u++),u++):u!==0&&f[u-1][0]==M?(f[u-1][1]+=f[u][1],f.splice(u,1)):u++,y=0,b=0,w="",m="";break}f[f.length-1][1]===""&&f.pop();var L=!1;for(u=1;u<f.length-1;)f[u-1][0]==M&&f[u+1][0]==M&&(f[u][1].substring(f[u][1].length-f[u-1][1].length)==f[u-1][1]?(f[u][1]=f[u-1][1]+f[u][1].substring(0,f[u][1].length-f[u-1][1].length),f[u+1][1]=f[u-1][1]+f[u+1][1],f.splice(u-1,1),L=!0):f[u][1].substring(0,f[u+1][1].length)==f[u+1][1]&&(f[u-1][1]+=f[u+1][1],f[u][1]=f[u][1].substring(f[u+1][1].length)+f[u+1][1],f.splice(u+1,1),L=!0)),u++;L&&this.diff_cleanupMerge(f)},g.prototype.diff_xIndex=function(f,u){var b=0,y=0,w=0,m=0,k;for(k=0;k<f.length&&(f[k][0]!==x&&(b+=f[k][1].length),f[k][0]!==v&&(y+=f[k][1].length),!(b>u));k++)w=b,m=y;return f.length!=k&&f[k][0]===v?m:m+(u-w)},g.prototype.diff_prettyHtml=function(f){for(var u=[],b=/&/g,y=/</g,w=/>/g,m=/\n/g,k=0;k<f.length;k++){var L=f[k][0],S=f[k][1],A=S.replace(b,"&amp;").replace(y,"&lt;").replace(w,"&gt;").replace(m,"&para;<br>");switch(L){case x:u[k]='<ins style="background:#e6ffe6;">'+A+"</ins>";break;case v:u[k]='<del style="background:#ffe6e6;">'+A+"</del>";break;case M:u[k]="<span>"+A+"</span>";break}}return u.join("")},g.prototype.diff_text1=function(f){for(var u=[],b=0;b<f.length;b++)f[b][0]!==x&&(u[b]=f[b][1]);return u.join("")},g.prototype.diff_text2=function(f){for(var u=[],b=0;b<f.length;b++)f[b][0]!==v&&(u[b]=f[b][1]);return u.join("")},g.prototype.diff_levenshtein=function(f){for(var u=0,b=0,y=0,w=0;w<f.length;w++){var m=f[w][0],k=f[w][1];switch(m){case x:b+=k.length;break;case v:y+=k.length;break;case M:u+=Math.max(b,y),b=0,y=0;break}}return u+=Math.max(b,y),u},g.prototype.diff_toDelta=function(f){for(var u=[],b=0;b<f.length;b++)switch(f[b][0]){case x:u[b]="+"+encodeURI(f[b][1]);break;case v:u[b]="-"+f[b][1].length;break;case M:u[b]="="+f[b][1].length;break}return u.join("	").replace(/%20/g," ")},g.prototype.diff_fromDelta=function(f,u){for(var b=[],y=0,w=0,m=u.split(/\t/g),k=0;k<m.length;k++){var L=m[k].substring(1);switch(m[k].charAt(0)){case"+":try{b[y++]=new g.Diff(x,decodeURI(L))}catch{throw new Error("Illegal escape in diff_fromDelta: "+L)}break;case"-":case"=":var S=parseInt(L,10);if(isNaN(S)||S<0)throw new Error("Invalid number in diff_fromDelta: "+L);var A=f.substring(w,w+=S);m[k].charAt(0)=="="?b[y++]=new g.Diff(M,A):b[y++]=new g.Diff(v,A);break;default:if(m[k])throw new Error("Invalid diff operation in diff_fromDelta: "+m[k])}}if(w!=f.length)throw new Error("Delta length ("+w+") does not equal source text length ("+f.length+").");return b},g.prototype.match_main=function(f,u,b){if(f==null||u==null||b==null)throw new Error("Null input. (match_main)");return b=Math.max(0,Math.min(b,f.length)),f==u?0:f.length?f.substring(b,b+u.length)==u?b:this.match_bitap_(f,u,b):-1},g.prototype.match_bitap_=function(f,u,b){if(u.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var y=this.match_alphabet_(u),w=this;function m(Me,re){var se=Me/u.length,je=Math.abs(b-re);return w.Match_Distance?se+je/w.Match_Distance:je?1:se}var k=this.Match_Threshold,L=f.indexOf(u,b);L!=-1&&(k=Math.min(m(0,L),k),L=f.lastIndexOf(u,b+u.length),L!=-1&&(k=Math.min(m(0,L),k)));var S=1<<u.length-1;L=-1;for(var A,d,R=u.length+f.length,D,I=0;I<u.length;I++){for(A=0,d=R;A<d;)m(I,b+d)<=k?A=d:R=d,d=Math.floor((R-A)/2+A);R=d;var N=Math.max(1,b-d+1),V=Math.min(b+d,f.length)+u.length,W=Array(V+2);W[V+1]=(1<<I)-1;for(var te=V;te>=N;te--){var pe=y[f.charAt(te-1)];if(I===0?W[te]=(W[te+1]<<1|1)&pe:W[te]=(W[te+1]<<1|1)&pe|((D[te+1]|D[te])<<1|1)|D[te+1],W[te]&S){var Se=m(I,te-1);if(Se<=k)if(k=Se,L=te-1,L>b)N=Math.max(1,2*b-L);else break}}if(m(I+1,b)>k)break;D=W}return L},g.prototype.match_alphabet_=function(f){for(var u={},b=0;b<f.length;b++)u[f.charAt(b)]=0;for(var b=0;b<f.length;b++)u[f.charAt(b)]|=1<<f.length-b-1;return u},g.prototype.patch_addContext_=function(f,u){if(u.length!=0){if(f.start2===null)throw Error("patch not initialized");for(var b=u.substring(f.start2,f.start2+f.length1),y=0;u.indexOf(b)!=u.lastIndexOf(b)&&b.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)y+=this.Patch_Margin,b=u.substring(f.start2-y,f.start2+f.length1+y);y+=this.Patch_Margin;var w=u.substring(f.start2-y,f.start2);w&&f.diffs.unshift(new g.Diff(M,w));var m=u.substring(f.start2+f.length1,f.start2+f.length1+y);m&&f.diffs.push(new g.Diff(M,m)),f.start1-=w.length,f.start2-=w.length,f.length1+=w.length+m.length,f.length2+=w.length+m.length}},g.prototype.patch_make=function(f,u,b){var y,w;if(typeof f=="string"&&typeof u=="string"&&typeof b>"u")y=f,w=this.diff_main(y,u,!0),w.length>2&&(this.diff_cleanupSemantic(w),this.diff_cleanupEfficiency(w));else if(f&&typeof f=="object"&&typeof u>"u"&&typeof b>"u")w=f,y=this.diff_text1(w);else if(typeof f=="string"&&u&&typeof u=="object"&&typeof b>"u")y=f,w=u;else if(typeof f=="string"&&typeof u=="string"&&b&&typeof b=="object")y=f,w=b;else throw new Error("Unknown call format to patch_make.");if(w.length===0)return[];for(var m=[],k=new g.patch_obj,L=0,S=0,A=0,d=y,R=y,D=0;D<w.length;D++){var I=w[D][0],N=w[D][1];switch(!L&&I!==M&&(k.start1=S,k.start2=A),I){case x:k.diffs[L++]=w[D],k.length2+=N.length,R=R.substring(0,A)+N+R.substring(A);break;case v:k.length1+=N.length,k.diffs[L++]=w[D],R=R.substring(0,A)+R.substring(A+N.length);break;case M:N.length<=2*this.Patch_Margin&&L&&w.length!=D+1?(k.diffs[L++]=w[D],k.length1+=N.length,k.length2+=N.length):N.length>=2*this.Patch_Margin&&L&&(this.patch_addContext_(k,d),m.push(k),k=new g.patch_obj,L=0,d=R,S=A);break}I!==x&&(S+=N.length),I!==v&&(A+=N.length)}return L&&(this.patch_addContext_(k,d),m.push(k)),m},g.prototype.patch_deepCopy=function(f){for(var u=[],b=0;b<f.length;b++){var y=f[b],w=new g.patch_obj;w.diffs=[];for(var m=0;m<y.diffs.length;m++)w.diffs[m]=new g.Diff(y.diffs[m][0],y.diffs[m][1]);w.start1=y.start1,w.start2=y.start2,w.length1=y.length1,w.length2=y.length2,u[b]=w}return u},g.prototype.patch_apply=function(f,u){if(f.length==0)return[u,[]];f=this.patch_deepCopy(f);var b=this.patch_addPadding(f);u=b+u+b,this.patch_splitMax(f);for(var y=0,w=[],m=0;m<f.length;m++){var k=f[m].start2+y,L=this.diff_text1(f[m].diffs),S,A=-1;if(L.length>this.Match_MaxBits?(S=this.match_main(u,L.substring(0,this.Match_MaxBits),k),S!=-1&&(A=this.match_main(u,L.substring(L.length-this.Match_MaxBits),k+L.length-this.Match_MaxBits),(A==-1||S>=A)&&(S=-1))):S=this.match_main(u,L,k),S==-1)w[m]=!1,y-=f[m].length2-f[m].length1;else{w[m]=!0,y=S-k;var d;if(A==-1?d=u.substring(S,S+L.length):d=u.substring(S,A+this.Match_MaxBits),L==d)u=u.substring(0,S)+this.diff_text2(f[m].diffs)+u.substring(S+L.length);else{var R=this.diff_main(L,d,!1);if(L.length>this.Match_MaxBits&&this.diff_levenshtein(R)/L.length>this.Patch_DeleteThreshold)w[m]=!1;else{this.diff_cleanupSemanticLossless(R);for(var D=0,I,N=0;N<f[m].diffs.length;N++){var V=f[m].diffs[N];V[0]!==M&&(I=this.diff_xIndex(R,D)),V[0]===x?u=u.substring(0,S+I)+V[1]+u.substring(S+I):V[0]===v&&(u=u.substring(0,S+I)+u.substring(S+this.diff_xIndex(R,D+V[1].length))),V[0]!==v&&(D+=V[1].length)}}}}}return u=u.substring(b.length,u.length-b.length),[u,w]},g.prototype.patch_addPadding=function(f){for(var u=this.Patch_Margin,b="",y=1;y<=u;y++)b+=String.fromCharCode(y);for(var y=0;y<f.length;y++)f[y].start1+=u,f[y].start2+=u;var w=f[0],m=w.diffs;if(m.length==0||m[0][0]!=M)m.unshift(new g.Diff(M,b)),w.start1-=u,w.start2-=u,w.length1+=u,w.length2+=u;else if(u>m[0][1].length){var k=u-m[0][1].length;m[0][1]=b.substring(m[0][1].length)+m[0][1],w.start1-=k,w.start2-=k,w.length1+=k,w.length2+=k}if(w=f[f.length-1],m=w.diffs,m.length==0||m[m.length-1][0]!=M)m.push(new g.Diff(M,b)),w.length1+=u,w.length2+=u;else if(u>m[m.length-1][1].length){var k=u-m[m.length-1][1].length;m[m.length-1][1]+=b.substring(0,k),w.length1+=k,w.length2+=k}return b},g.prototype.patch_splitMax=function(f){for(var u=this.Match_MaxBits,b=0;b<f.length;b++)if(!(f[b].length1<=u)){var y=f[b];f.splice(b--,1);for(var w=y.start1,m=y.start2,k="";y.diffs.length!==0;){var L=new g.patch_obj,S=!0;for(L.start1=w-k.length,L.start2=m-k.length,k!==""&&(L.length1=L.length2=k.length,L.diffs.push(new g.Diff(M,k)));y.diffs.length!==0&&L.length1<u-this.Patch_Margin;){var A=y.diffs[0][0],d=y.diffs[0][1];A===x?(L.length2+=d.length,m+=d.length,L.diffs.push(y.diffs.shift()),S=!1):A===v&&L.diffs.length==1&&L.diffs[0][0]==M&&d.length>2*u?(L.length1+=d.length,w+=d.length,S=!1,L.diffs.push(new g.Diff(A,d)),y.diffs.shift()):(d=d.substring(0,u-L.length1-this.Patch_Margin),L.length1+=d.length,w+=d.length,A===M?(L.length2+=d.length,m+=d.length):S=!1,L.diffs.push(new g.Diff(A,d)),d==y.diffs[0][1]?y.diffs.shift():y.diffs[0][1]=y.diffs[0][1].substring(d.length))}k=this.diff_text2(L.diffs),k=k.substring(k.length-this.Patch_Margin);var R=this.diff_text1(y.diffs).substring(0,this.Patch_Margin);R!==""&&(L.length1+=R.length,L.length2+=R.length,L.diffs.length!==0&&L.diffs[L.diffs.length-1][0]===M?L.diffs[L.diffs.length-1][1]+=R:L.diffs.push(new g.Diff(M,R))),S||f.splice(++b,0,L)}}},g.prototype.patch_toText=function(f){for(var u=[],b=0;b<f.length;b++)u[b]=f[b];return u.join("")},g.prototype.patch_fromText=function(f){var u=[];if(!f)return u;for(var b=f.split(`
`),y=0,w=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;y<b.length;){var m=b[y].match(w);if(!m)throw new Error("Invalid patch string: "+b[y]);var k=new g.patch_obj;for(u.push(k),k.start1=parseInt(m[1],10),m[2]===""?(k.start1--,k.length1=1):m[2]=="0"?k.length1=0:(k.start1--,k.length1=parseInt(m[2],10)),k.start2=parseInt(m[3],10),m[4]===""?(k.start2--,k.length2=1):m[4]=="0"?k.length2=0:(k.start2--,k.length2=parseInt(m[4],10)),y++;y<b.length;){var L=b[y].charAt(0);try{var S=decodeURI(b[y].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+S)}if(L=="-")k.diffs.push(new g.Diff(v,S));else if(L=="+")k.diffs.push(new g.Diff(x,S));else if(L==" ")k.diffs.push(new g.Diff(M,S));else{if(L=="@")break;if(L!=="")throw new Error('Invalid patch mode "'+L+'" in: '+S)}y++}}return u},g.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},g.patch_obj.prototype.toString=function(){var f,u;this.length1===0?f=this.start1+",0":this.length1==1?f=this.start1+1:f=this.start1+1+","+this.length1,this.length2===0?u=this.start2+",0":this.length2==1?u=this.start2+1:u=this.start2+1+","+this.length2;for(var b=["@@ -"+f+" +"+u+` @@
`],y,w=0;w<this.diffs.length;w++){switch(this.diffs[w][0]){case x:y="+";break;case v:y="-";break;case M:y=" ";break}b[w+1]=y+encodeURI(this.diffs[w][1])+`
`}return b.join("").replace(/%20/g," ")},E.exports=g,E.exports.diff_match_patch=g,E.exports.DIFF_DELETE=v,E.exports.DIFF_INSERT=x,E.exports.DIFF_EQUAL=M},408:(E,g,v)=>{v.d(g,{default:()=>gt});var x=v(135),M=v(840),f=v(775),u=v(428),b=v(325),y=v(483),w=v(999),m=function(j){j===void 0&&(j=document);var Z=function(F){var q=document.createElement("img");q.src=F.getAttribute("data-src"),q.addEventListener("load",function(){!F.getAttribute("style")&&!F.getAttribute("class")&&!F.getAttribute("width")&&!F.getAttribute("height")&&q.naturalHeight>q.naturalWidth&&q.naturalWidth/q.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&q.naturalHeight>window.innerHeight-40&&(F.style.height=window.innerHeight-40+"px"),F.src=q.src}),F.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return j.querySelectorAll("img").forEach(function(F){F.getAttribute("data-src")&&Z(F)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),j.querySelectorAll("img").forEach(function(F){window.vditorImageIntersectionObserver.observe(F)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(F){F.forEach(function(q){(typeof q.isIntersecting>"u"?q.intersectionRatio!==0:q.isIntersecting)&&q.target.getAttribute("data-src")&&Z(q.target)})}),j.querySelectorAll("img").forEach(function(F){window.vditorImageIntersectionObserver.observe(F)}))},k=v(472),L=v(280),S=v(637),A=v(825),d=v(11),R=v(194),D=v(436),I=v(229),N=v(145),V=v(538),W=v(413),te=v(106),pe=v(673),Se=function(j){document.querySelectorAll(".vditor-anchor").forEach(function(Z){j===1&&Z.classList.add("vditor-anchor--left"),Z.onclick=function(){var F=Z.getAttribute("href").substr(1),q=document.getElementById("vditorAnchor-"+F).offsetTop;document.querySelector("html").scrollTop=q}}),window.onhashchange=function(){var Z=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));Z&&(document.querySelector("html").scrollTop=Z.offsetTop)}},Me=v(214),re=v(810),se=function(j,Z){if(Z===void 0&&(Z="zh_CN"),!(typeof speechSynthesis>"u"||typeof SpeechSynthesisUtterance>"u")){var F=function(){var He=speechSynthesis.getVoices(),we,De;return He.forEach(function(St){St.lang===Z.replace("_","-")&&(we=St),St.default&&(De=St)}),we||(we=De),we},q='<svg><use xlink:href="#vditor-icon-play"></use></svg>',ke='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(q='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',ke='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var ne=document.querySelector(".vditor-speech");ne||(ne=document.createElement("button"),ne.className="vditor-speech",j.insertAdjacentElement("beforeend",ne),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=F));var be=F(),le=new SpeechSynthesisUtterance;le.voice=be,le.onend=le.onerror=function(){ne.style.display="none",speechSynthesis.cancel(),ne.classList.remove("vditor-speech--current"),ne.innerHTML=q},j.addEventListener(window.ontouchstart!==void 0?"touchend":"click",function(He){var we=He.target;if(we.classList.contains("vditor-speech")||we.parentElement.classList.contains("vditor-speech")){ne.classList.contains("vditor-speech--current")?speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),ne.innerHTML=ke):(speechSynthesis.pause(),ne.innerHTML=q)):(le.text=ne.getAttribute("data-text"),speechSynthesis.speak(le),ne.classList.add("vditor-speech--current"),ne.innerHTML=ke),(0,re.Hc)(window.vditorSpeechRange),j.focus();return}if(ne.style.display="none",speechSynthesis.cancel(),ne.classList.remove("vditor-speech--current"),ne.innerHTML=q,getSelection().rangeCount!==0){var De=getSelection().getRangeAt(0),St=De.toString().trim();if(St){window.vditorSpeechRange=De.cloneRange();var At=De.getBoundingClientRect();ne.innerHTML=q,ne.style.display="block",ne.style.top=At.top+At.height+document.querySelector("html").scrollTop-20+"px",window.ontouchstart!==void 0?ne.style.left=He.changedTouches[He.changedTouches.length-1].pageX+2+"px":ne.style.left=He.clientX+2+"px",ne.setAttribute("data-text",St)}}})}},je=function(j,Z,F,q){function ke(ne){return ne instanceof F?ne:new F(function(be){be(ne)})}return new(F||(F=Promise))(function(ne,be){function le(De){try{we(q.next(De))}catch(St){be(St)}}function He(De){try{we(q.throw(De))}catch(St){be(St)}}function we(De){De.done?ne(De.value):ke(De.value).then(le,He)}we((q=q.apply(j,Z||[])).next())})},tt=function(j,Z){var F={label:0,sent:function(){if(ne[0]&1)throw ne[1];return ne[1]},trys:[],ops:[]},q,ke,ne,be;return be={next:le(0),throw:le(1),return:le(2)},typeof Symbol=="function"&&(be[Symbol.iterator]=function(){return this}),be;function le(we){return function(De){return He([we,De])}}function He(we){if(q)throw new TypeError("Generator is already executing.");for(;be&&(be=0,we[0]&&(F=0)),F;)try{if(q=1,ke&&(ne=we[0]&2?ke.return:we[0]?ke.throw||((ne=ke.return)&&ne.call(ke),0):ke.next)&&!(ne=ne.call(ke,we[1])).done)return ne;switch(ke=0,ne&&(we=[we[0]&2,ne.value]),we[0]){case 0:case 1:ne=we;break;case 4:return F.label++,{value:we[1],done:!1};case 5:F.label++,ke=we[1],we=[0];continue;case 7:we=F.ops.pop(),F.trys.pop();continue;default:if(ne=F.trys,!(ne=ne.length>0&&ne[ne.length-1])&&(we[0]===6||we[0]===2)){F=0;continue}if(we[0]===3&&(!ne||we[1]>ne[0]&&we[1]<ne[3])){F.label=we[1];break}if(we[0]===6&&F.label<ne[1]){F.label=ne[1],ne=we;break}if(ne&&F.label<ne[2]){F.label=ne[2],F.ops.push(we);break}ne[2]&&F.ops.pop(),F.trys.pop();continue}we=Z.call(j,F)}catch(De){we=[6,De],ke=0}finally{q=ne=0}if(we[0]&5)throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}},ot=function(j){var Z,F={anchor:0,cdn:N.g.CDN,customEmoji:{},emojiPath:"".concat(N.g.CDN,"/dist/images/emoji"),hljs:N.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:N.g.MARKDOWN_OPTIONS,math:N.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},render:{media:{enable:!0}},theme:N.g.THEME_OPTIONS};return j.cdn&&(!((Z=j.theme)===null||Z===void 0)&&Z.path||(F.theme.path="".concat(j.cdn,"/dist/css/content-theme")),j.emojiPath||(F.emojiPath="".concat(j.cdn,"/dist/images/emoji"))),(0,pe.T)(F,j)},Ye=function(j,Z){var F=ot(Z);return(0,W.G)("".concat(F.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){var q=(0,Me.X)({autoSpace:F.markdown.autoSpace,gfmAutoLink:F.markdown.gfmAutoLink,codeBlockPreview:F.markdown.codeBlockPreview,emojiSite:F.emojiPath,emojis:F.customEmoji,fixTermTypo:F.markdown.fixTermTypo,footnotes:F.markdown.footnotes,headingAnchor:F.anchor!==0,inlineMathDigit:F.math.inlineDigit,lazyLoadImage:F.lazyLoadImage,linkBase:F.markdown.linkBase,linkPrefix:F.markdown.linkPrefix,listStyle:F.markdown.listStyle,mark:F.markdown.mark,mathBlockPreview:F.markdown.mathBlockPreview,paragraphBeginningSpace:F.markdown.paragraphBeginningSpace,sanitize:F.markdown.sanitize,toc:F.markdown.toc});return Z!=null&&Z.renderers&&q.SetJSRenderers({renderers:{Md2HTML:Z.renderers}}),q.SetHeadingID(!0),q.Md2HTML(j)})},B=function(j,Z,F){return je(void 0,void 0,void 0,function(){var q,ke,ne,be;return tt(this,function(le){switch(le.label){case 0:return q=ot(F),[4,Ye(Z,q)];case 1:if(ke=le.sent(),q.transform&&(ke=q.transform(ke)),j.innerHTML=ke,j.classList.add("vditor-reset"),q.i18n)return[3,5];if(["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(q.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return ne="vditorI18nScript",be=ne+q.lang,document.querySelectorAll('head script[id^="'.concat(ne,'"]')).forEach(function(He){He.id!==be&&document.head.removeChild(He)}),[4,(0,W.G)("".concat(q.cdn,"/dist/js/i18n/").concat(q.lang,".js"),be)];case 3:le.sent(),le.label=4;case 4:return[3,6];case 5:window.VditorI18n=q.i18n,le.label=6;case 6:return q.icon?[4,(0,W.G)("".concat(q.cdn,"/dist/js/icons/").concat(q.icon,".js"),"vditorIconScript")]:[3,8];case 7:le.sent(),le.label=8;case 8:return(0,V.Z)(q.theme.current,q.theme.path),q.anchor===1&&j.classList.add("vditor-reset--anchor"),(0,u.O)(j,q.hljs),(0,w.s)(q.hljs,j,q.cdn),(0,k.H)(j,{cdn:q.cdn,math:q.math}),(0,S.i)(j,q.cdn,q.mode),(0,A.J)(j,q.cdn,q.mode),(0,d.K)(j,q.cdn),(0,b.P)(j,q.cdn),(0,y.v)(j,q.cdn),(0,f.p)(j,q.cdn,q.mode),(0,R.P)(j,q.cdn,q.mode),(0,I.B)(j,q.cdn),(0,x.Q)(j,q.cdn),q.render.media.enable&&(0,L.Y)(j),q.speech.enable&&se(j),q.anchor!==0&&Se(q.anchor),q.after&&q.after(),q.lazyLoadImage&&m(j),j.addEventListener("click",function(He){var we=(0,te.lG)(He.target,"SPAN");if(we&&(0,te.fb)(we,"vditor-toc")){var De=j.querySelector("#"+we.getAttribute("data-target-id"));De&&window.scrollTo(window.scrollX,De.offsetTop);return}}),[2]}})})},bt=v(190),Vt=v(580),tn=function(){function j(){}return j.adapterRender=M,j.previewImage=bt.E,j.codeRender=u.O,j.graphvizRender=y.v,j.highlightRender=w.s,j.mathRender=k.H,j.mermaidRender=S.i,j.SMILESRender=A.J,j.markmapRender=d.K,j.flowchartRender=b.P,j.chartRender=f.p,j.abcRender=x.Q,j.mindmapRender=R.P,j.plantumlRender=I.B,j.outlineRender=D.k,j.mediaRender=L.Y,j.speechRender=se,j.lazyLoadImageRender=m,j.md2html=Ye,j.preview=B,j.setCodeTheme=Vt.Y,j.setContentTheme=V.Z,j}();const gt=tn},145:(E,g,v)=>{v.d(g,{H:()=>x,g:()=>M});var x="3.11.0",M=function(){function f(){}return f.ZWSP="​",f.DROP_EDITOR="application/editor",f.MOBILE_WIDTH=520,f.CLASS_MENU_DISABLED="vditor-menu--disabled",f.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],f.CODE_THEME=["a11y-dark","agate","an-old-hope","androidstudio","arta","atom-one-dark","atom-one-dark-reasonable","base16/3024","base16/apathy","base16/apprentice","base16/ashes","base16/atelier-cave","base16/atelier-dune","base16/atelier-estuary","base16/atelier-forest","base16/atelier-heath","base16/atelier-lakeside","base16/atelier-plateau","base16/atelier-savanna","base16/atelier-seaside","base16/atelier-sulphurpool","base16/atlas","base16/bespin","base16/black-metal","base16/black-metal-bathory","base16/black-metal-burzum","base16/black-metal-dark-funeral","base16/black-metal-gorgoroth","base16/black-metal-immortal","base16/black-metal-khold","base16/black-metal-marduk","base16/black-metal-mayhem","base16/black-metal-nile","base16/black-metal-venom","base16/brewer","base16/bright","base16/brogrammer","base16/brush-trees-dark","base16/chalk","base16/circus","base16/classic-dark","base16/codeschool","base16/colors","base16/danqing","base16/darcula","base16/dark-violet","base16/darkmoss","base16/darktooth","base16/decaf","base16/default-dark","base16/dracula","base16/edge-dark","base16/eighties","base16/embers","base16/equilibrium-dark","base16/equilibrium-gray-dark","base16/espresso","base16/eva","base16/eva-dim","base16/flat","base16/framer","base16/gigavolt","base16/google-dark","base16/grayscale-dark","base16/green-screen","base16/gruvbox-dark-hard","base16/gruvbox-dark-medium","base16/gruvbox-dark-pale","base16/gruvbox-dark-soft","base16/hardcore","base16/harmonic16-dark","base16/heetch-dark","base16/helios","base16/hopscotch","base16/horizon-dark","base16/humanoid-dark","base16/ia-dark","base16/icy-dark","base16/ir-black","base16/isotope","base16/kimber","base16/london-tube","base16/macintosh","base16/marrakesh","base16/materia","base16/material","base16/material-darker","base16/material-palenight","base16/material-vivid","base16/mellow-purple","base16/mocha","base16/monokai","base16/nebula","base16/nord","base16/nova","base16/ocean","base16/oceanicnext","base16/onedark","base16/outrun-dark","base16/papercolor-dark","base16/paraiso","base16/pasque","base16/phd","base16/pico","base16/pop","base16/porple","base16/qualia","base16/railscasts","base16/rebecca","base16/ros-pine","base16/ros-pine-moon","base16/sandcastle","base16/seti-ui","base16/silk-dark","base16/snazzy","base16/solar-flare","base16/solarized-dark","base16/spacemacs","base16/summercamp","base16/summerfruit-dark","base16/synth-midnight-terminal-dark","base16/tango","base16/tender","base16/tomorrow-night","base16/twilight","base16/unikitty-dark","base16/vulcan","base16/windows-10","base16/windows-95","base16/windows-high-contrast","base16/windows-nt","base16/woodland","base16/xcode-dusk","base16/zenburn","codepen-embed","dark","devibeans","far","felipec","github-dark","github-dark-dimmed","gml","gradient-dark","hybrid","ir-black","isbl-editor-dark","kimbie-dark","lioshi","monokai","monokai-sublime","night-owl","nnfx-dark","nord","obsidian","panda-syntax-dark","paraiso-dark","pojoaque","qtcreator-dark","rainbow","shades-of-purple","srcery","stackoverflow-dark","sunburst","tomorrow-night-blue","tomorrow-night-bright","tokyo-night-dark","vs2015","xt256","ant-design","a11y-light","arduino-light","ascetic","atom-one-light","base16/atelier-cave-light","base16/atelier-dune-light","base16/atelier-estuary-light","base16/atelier-forest-light","base16/atelier-heath-light","base16/atelier-lakeside-light","base16/atelier-plateau-light","base16/atelier-savanna-light","base16/atelier-seaside-light","base16/atelier-sulphurpool-light","base16/brush-trees","base16/classic-light","base16/cupcake","base16/cupertino","base16/default-light","base16/dirtysea","base16/edge-light","base16/equilibrium-gray-light","base16/equilibrium-light","base16/fruit-soda","base16/github","base16/google-light","base16/grayscale-light","base16/gruvbox-light-hard","base16/gruvbox-light-medium","base16/gruvbox-light-soft","base16/harmonic16-light","base16/heetch-light","base16/humanoid-light","base16/horizon-light","base16/ia-light","base16/material-lighter","base16/mexico-light","base16/one-light","base16/papercolor-light","base16/ros-pine-dawn","base16/sagelight","base16/shapeshifter","base16/silk-light","base16/solar-flare-light","base16/solarized-light","base16/summerfruit-light","base16/synth-midnight-terminal-light","base16/tomorrow","base16/unikitty-light","base16/windows-10-light","base16/windows-95-light","base16/windows-high-contrast-light","brown-paper","base16/windows-nt-light","color-brewer","docco","foundation","github","googlecode","gradient-light","grayscale","idea","intellij-light","isbl-editor-light","kimbie-light","lightfair","magula","mono-blue","nnfx-light","panda-syntax-light","paraiso-light","purebasic","qtcreator-light","routeros","school-book","stackoverflow-light","tokyo-night-light","vs","xcode","default"],f.ALIAS_CODE_LANGUAGES=["abc","plantuml","mermaid","flowchart","echarts","mindmap","graphviz","math","markmap","smiles","js","ts","html","toml","c#","bat"],f.CDN="https://unpkg.com/vditor@".concat("3.11.0"),f.MARKDOWN_OPTIONS={autoSpace:!1,gfmAutoLink:!0,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},f.HLJS_OPTIONS={enable:!0,lineNumber:!1,defaultLang:"",style:"github"},f.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},f.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:"".concat(f.CDN,"/dist/css/content-theme")},f}()},825:(E,g,v)=>{v.d(g,{J:()=>b});var x=v(145),M=v(413),f=v(840),u=v(494),b=function(y,w,m){y===void 0&&(y=document),w===void 0&&(w=x.g.CDN);var k=f.SMILESRenderAdapter.getElements(y);k.length>0&&(0,M.G)("".concat(w,"/dist/js/smiles-drawer/smiles-drawer.min.js?v=2.1.7"),"vditorAbcjsScript").then(function(){var L=new SmiDrawer({},{});k.forEach(function(S){var A=f.SMILESRenderAdapter.getCode(S).trim();if(!(S.getAttribute("data-processed")==="true"||A.trim()==="")){var d="smiles"+(0,u.Wb)();S.innerHTML='<svg id="'.concat(d,'"></svg>'),L.draw(A,"#"+d,m==="dark"?"dark":void 0),S.setAttribute("data-processed","true")}})})}},135:(E,g,v)=>{v.d(g,{Q:()=>u});var x=v(145),M=v(413),f=v(840),u=function(b,y){b===void 0&&(b=document),y===void 0&&(y=x.g.CDN);var w=f.abcRenderAdapter.getElements(b);w.length>0&&(0,M.G)("".concat(y,"/dist/js/abcjs/abcjs_basic.min.js"),"vditorAbcjsScript").then(function(){w.forEach(function(m){m.parentElement.classList.contains("vditor-wysiwyg__pre")||m.parentElement.classList.contains("vditor-ir__marker--pre")||m.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(m,f.abcRenderAdapter.getCode(m).trim()),m.style.overflowX="auto",m.setAttribute("data-processed","true"))})})}},840:(E,g,v)=>{v.r(g),v.d(g,{mathRenderAdapter:()=>x,SMILESRenderAdapter:()=>M,mermaidRenderAdapter:()=>f,markmapRenderAdapter:()=>u,mindmapRenderAdapter:()=>b,chartRenderAdapter:()=>y,abcRenderAdapter:()=>w,graphvizRenderAdapter:()=>m,flowchartRenderAdapter:()=>k,plantumlRenderAdapter:()=>L});var x={getCode:function(S){return S.textContent},getElements:function(S){return S.querySelectorAll(".language-math")}},M={getCode:function(S){return S.textContent},getElements:function(S){return S.querySelectorAll(".language-smiles")}},f={getCode:function(S){return S.textContent},getElements:function(S){return S.querySelectorAll(".language-mermaid")}},u={getCode:function(S){return S.textContent},getElements:function(S){return S.querySelectorAll(".language-markmap")}},b={getCode:function(S){return S.getAttribute("data-code")},getElements:function(S){return S.querySelectorAll(".language-mindmap")}},y={getCode:function(S){return S.innerText},getElements:function(S){return S.querySelectorAll(".language-echarts")}},w={getCode:function(S){return S.textContent},getElements:function(S){return S.querySelectorAll(".language-abc")}},m={getCode:function(S){return S.textContent},getElements:function(S){return S.querySelectorAll(".language-graphviz")}},k={getCode:function(S){return S.textContent},getElements:function(S){return S.querySelectorAll(".language-flowchart")}},L={getCode:function(S){return S.textContent},getElements:function(S){return S.querySelectorAll(".language-plantuml")}}},775:(E,g,v)=>{v.d(g,{p:()=>w});var x=v(145),M=v(413),f=v(840),u=v(494),b=function(m,k,L,S){function A(d){return d instanceof L?d:new L(function(R){R(d)})}return new(L||(L=Promise))(function(d,R){function D(V){try{N(S.next(V))}catch(W){R(W)}}function I(V){try{N(S.throw(V))}catch(W){R(W)}}function N(V){V.done?d(V.value):A(V.value).then(D,I)}N((S=S.apply(m,k||[])).next())})},y=function(m,k){var L={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},S,A,d,R;return R={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function D(N){return function(V){return I([N,V])}}function I(N){if(S)throw new TypeError("Generator is already executing.");for(;R&&(R=0,N[0]&&(L=0)),L;)try{if(S=1,A&&(d=N[0]&2?A.return:N[0]?A.throw||((d=A.return)&&d.call(A),0):A.next)&&!(d=d.call(A,N[1])).done)return d;switch(A=0,d&&(N=[N[0]&2,d.value]),N[0]){case 0:case 1:d=N;break;case 4:return L.label++,{value:N[1],done:!1};case 5:L.label++,A=N[1],N=[0];continue;case 7:N=L.ops.pop(),L.trys.pop();continue;default:if(d=L.trys,!(d=d.length>0&&d[d.length-1])&&(N[0]===6||N[0]===2)){L=0;continue}if(N[0]===3&&(!d||N[1]>d[0]&&N[1]<d[3])){L.label=N[1];break}if(N[0]===6&&L.label<d[1]){L.label=d[1],d=N;break}if(d&&L.label<d[2]){L.label=d[2],L.ops.push(N);break}d[2]&&L.ops.pop(),L.trys.pop();continue}N=k.call(m,L)}catch(V){N=[6,V],A=0}finally{S=d=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},w=function(m,k,L){m===void 0&&(m=document),k===void 0&&(k=x.g.CDN);var S=f.chartRenderAdapter.getElements(m);S.length>0&&(0,M.G)("".concat(k,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){S.forEach(function(A){return b(void 0,void 0,void 0,function(){var d,R,D;return y(this,function(I){switch(I.label){case 0:if(A.parentElement.classList.contains("vditor-wysiwyg__pre")||A.parentElement.classList.contains("vditor-ir__marker--pre"))return[2];if(d=f.chartRenderAdapter.getCode(A).trim(),!d)return[2];I.label=1;case 1:return I.trys.push([1,3,,4]),A.getAttribute("data-processed")==="true"?[2]:[4,(0,u.Qf)(d)];case 2:return R=I.sent(),echarts.init(A,L==="dark"?"dark":void 0).setOption(R),A.setAttribute("data-processed","true"),[3,4];case 3:return D=I.sent(),A.className="vditor-reset--error",A.innerHTML="echarts render error: <br>".concat(D),[3,4];case 4:return[2]}})})})})}},428:(E,g,v)=>{v.d(g,{O:()=>f});var x=v(105),M=v(145),f=function(u,b){Array.from(u.querySelectorAll("pre > code")).filter(function(y,w){return!(y.parentElement.classList.contains("vditor-wysiwyg__pre")||y.parentElement.classList.contains("vditor-ir__marker--pre")||y.classList.contains("language-mermaid")||y.classList.contains("language-flowchart")||y.classList.contains("language-echarts")||y.classList.contains("language-mindmap")||y.classList.contains("language-plantuml")||y.classList.contains("language-markmap")||y.classList.contains("language-abc")||y.classList.contains("language-graphviz")||y.classList.contains("language-math")||y.classList.contains("language-smiles")||y.style.maxHeight.indexOf("px")>-1||u.classList.contains("vditor-preview")&&w>5)}).forEach(function(y){var w,m,k,L=y.innerText;if(y.classList.contains("highlight-chroma")){var S=y.cloneNode(!0);S.querySelectorAll(".highlight-ln").forEach(function(D){D.remove()}),L=S.innerText}else L.endsWith(`
`)&&(L=L.substr(0,L.length-1));var A='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(A='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var d=document.createElement("div");d.className="vditor-copy",d.innerHTML='<span aria-label="'.concat(((w=window.VditorI18n)===null||w===void 0?void 0:w.copy)||"复制",`"
onmouseover="this.setAttribute('aria-label', '`).concat(((m=window.VditorI18n)===null||m===void 0?void 0:m.copy)||"复制",`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="event.stopPropagation();this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`).concat(((k=window.VditorI18n)===null||k===void 0?void 0:k.copied)||"已复制",`');this.previousElementSibling.blur()">`).concat(A,"</span>");var R=document.createElement("textarea");R.value=(0,x.X)(L),d.insertAdjacentElement("afterbegin",R),b&&b.renderMenu&&b.renderMenu(y,d),y.before(d),y.style.maxHeight=window.outerHeight-40+"px",y.insertAdjacentHTML("afterend",'<span style="position: absolute">'.concat(M.g.ZWSP,"</span>"))})}},325:(E,g,v)=>{v.d(g,{P:()=>u});var x=v(145),M=v(413),f=v(840),u=function(b,y){y===void 0&&(y=x.g.CDN);var w=f.flowchartRenderAdapter.getElements(b);w.length!==0&&(0,M.G)("".concat(y,"/dist/js/flowchart.js/flowchart.min.js"),"vditorFlowchartScript").then(function(){w.forEach(function(m){if(m.getAttribute("data-processed")!=="true"){var k=flowchart.parse(f.flowchartRenderAdapter.getCode(m));m.innerHTML="",k.drawSVG(m),m.setAttribute("data-processed","true")}})})}},483:(E,g,v)=>{v.d(g,{v:()=>u});var x=v(145),M=v(413),f=v(840),u=function(b,y){y===void 0&&(y=x.g.CDN);var w=f.graphvizRenderAdapter.getElements(b);w.length!==0&&(0,M.G)("".concat(y,"/dist/js/graphviz/viz.js"),"vditorGraphVizScript").then(function(){w.forEach(function(m){var k=f.graphvizRenderAdapter.getCode(m);if(!(m.parentElement.classList.contains("vditor-wysiwyg__pre")||m.parentElement.classList.contains("vditor-ir__marker--pre"))&&!(m.getAttribute("data-processed")==="true"||k.trim()==="")){try{var L=new Blob(["importScripts('".concat(document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js"),"');")],{type:"application/javascript"}),S=window.URL||window.webkitURL,A=S.createObjectURL(L),d=new Worker(A);new Viz({worker:d}).renderSVGElement(k).then(function(R){m.innerHTML=R.outerHTML}).catch(function(R){m.innerHTML="graphviz render error: <br>".concat(R),m.className="vditor-reset--error"})}catch(R){console.error("graphviz error",R)}m.setAttribute("data-processed","true")}})})}},999:(E,g,v)=>{v.d(g,{s:()=>u});var x=v(145),M=v(413),f=v(290),u=function(b,y,w){y===void 0&&(y=document),w===void 0&&(w=x.g.CDN);var m=b.style;x.g.CODE_THEME.includes(m)||(m="github");var k=document.getElementById("vditorHljsStyle"),L="".concat(w,"/dist/js/highlight.js/styles/").concat(m,".min.css");if(k&&k.getAttribute("href")!==L&&k.remove(),(0,f.c)("".concat(w,"/dist/js/highlight.js/styles/").concat(m,".min.css"),"vditorHljsStyle"),b.enable!==!1){var S=y.querySelectorAll("pre > code");S.length!==0&&(0,M.G)("".concat(w,"/dist/js/highlight.js/highlight.min.js?v=11.7.0"),"vditorHljsScript").then(function(){(0,M.G)("".concat(w,"/dist/js/highlight.js/third-languages.js?v=1.0.1"),"vditorHljsThirdScript").then(function(){y.querySelectorAll("pre > code").forEach(function(A){if(!(A.parentElement.classList.contains("vditor-ir__marker--pre")||A.parentElement.classList.contains("vditor-wysiwyg__pre"))&&!(A.classList.contains("language-mermaid")||A.classList.contains("language-flowchart")||A.classList.contains("language-echarts")||A.classList.contains("language-mindmap")||A.classList.contains("language-plantuml")||A.classList.contains("language-smiles")||A.classList.contains("language-abc")||A.classList.contains("language-graphviz")||A.classList.contains("language-math"))){b.defaultLang!==""&&A.className.indexOf("language-")===-1&&A.classList.add("language-"+b.defaultLang);var d=A.className.replace("language-","");if(window.hljs.getLanguage(d)||(d="plaintext"),A.innerHTML=window.hljs.highlight(A.textContent,{language:d,ignoreIllegals:!0}).value,A.classList.add("hljs"),!!b.lineNumber){A.classList.add("vditor-linenumber");var R=A.querySelector(".vditor-linenumber__temp");R||(R=document.createElement("div"),R.className="vditor-linenumber__temp",A.insertAdjacentElement("beforeend",R));var D=getComputedStyle(A).whiteSpace,I=!1;(D==="pre-wrap"||D==="pre-line")&&(I=!0);var N="",V=A.textContent.split(/\r\n|\r|\n/g);V.pop(),V.map(function(W){var te="";I&&(R.textContent=W||`
`,te=' style="height:'.concat(R.getBoundingClientRect().height,'px"')),N+="<span".concat(te,"></span>")}),R.style.display="none",N='<span class="vditor-linenumber__rows">'.concat(N,"</span>"),A.insertAdjacentHTML("beforeend",N)}}})})})}}},11:(E,g,v)=>{v.d(g,{K:()=>w});var x=v(145),M=v(413),f=v(840),u={},b=function(m,k){var L=m.transform(k),S=Object.keys(L.features).filter(function(I){return!u[I]});S.forEach(function(I){u[I]=!0});var A=m.getAssets(S),d=A.styles,R=A.scripts,D=window.markmap;return d&&D.loadCSS(d),R&&D.loadJS(R),L},y=function(m,k){var L=window.markmap,S=L.Transformer,A=L.Markmap,d=L.deriveOptions;L.globalCSS;var R=new S;m.innerHTML='<svg style="width:100%"></svg>';var D=m.firstChild,I=A.create(D,null),N=b(R,k),V=N.root,W=N.frontmatter,te=W==null?void 0:W.markmap,pe=d(te);I.setData(V,pe),I.fit()},w=function(m,k){m===void 0&&(m=document),k===void 0&&(k=x.g.CDN);var L=f.markmapRenderAdapter.getElements(m);L.length!==0&&(0,M.G)("".concat(k,"/dist/js/markmap/markmap.min.js"),"vditorMarkerScript").then(function(){L.forEach(function(S){var A=f.markmapRenderAdapter.getCode(S);if(!(S.getAttribute("data-processed")==="true"||A.trim()==="")){var d=document.createElement("div");d.className="language-markmap",S.parentNode.appendChild(d),y(d,A),S.parentNode.childNodes[0].nodeName=="CODE"&&S.parentNode.removeChild(S.parentNode.childNodes[0])}})})}},472:(E,g,v)=>{v.d(g,{H:()=>y});var x=v(145),M=v(413),f=v(290),u=v(105),b=v(840),y=function(w,m){w===void 0&&(w=document);var k=b.mathRenderAdapter.getElements(w);if(k.length!==0){var L={cdn:x.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(m&&m.math&&(m.math=Object.assign({},L.math,m.math)),m=Object.assign({},L,m),m.math.engine==="KaTeX")(0,f.c)("".concat(m.cdn,"/dist/js/katex/katex.min.css?v=0.16.9"),"vditorKatexStyle"),(0,M.G)("".concat(m.cdn,"/dist/js/katex/katex.min.js?v=0.16.9"),"vditorKatexScript").then(function(){(0,M.G)("".concat(m.cdn,"/dist/js/katex/mhchem.min.js?v=0.16.9"),"vditorKatexChemScript").then(function(){k.forEach(function(d){if(!(d.parentElement.classList.contains("vditor-wysiwyg__pre")||d.parentElement.classList.contains("vditor-ir__marker--pre"))&&!d.getAttribute("data-math")){var R=(0,u.X)(b.mathRenderAdapter.getCode(d));d.setAttribute("data-math",R);try{d.innerHTML=katex.renderToString(R,{displayMode:d.tagName==="DIV",output:"html",macros:m.math.macros})}catch(D){d.innerHTML=D.message,d.className="language-math vditor-reset--error"}d.addEventListener("copy",function(D){D.stopPropagation(),D.preventDefault();var I=D.currentTarget.closest(".language-math");D.clipboardData.setData("text/html",I.innerHTML),D.clipboardData.setData("text/plain",I.getAttribute("data-math"))})}})})});else if(m.math.engine==="MathJax"){var S=function(d){if(d.length!==0){var R=0,D=d[d.length-1],I=function(){var N=d[R++];N===D?N():N(I)};I()}};window.MathJax||(window.MathJax={loader:{paths:{mathjax:"".concat(m.cdn,"/dist/js/mathjax")}},startup:{typeset:!1},tex:{macros:m.math.macros}},Object.assign(window.MathJax,m.math.mathJaxOptions)),(0,M.J)("".concat(m.cdn,"/dist/js/mathjax/tex-svg-full.js"),"protyleMathJaxScript");var A=function(d,R){var D=(0,u.X)(d.textContent).trim(),I=window.MathJax.getMetricsFor(d);I.display=d.tagName==="DIV",window.MathJax.tex2svgPromise(D,I).then(function(N){d.innerHTML="",d.setAttribute("data-math",D),d.append(N),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var V=N.querySelector('[data-mml-node="merror"]');V&&V.textContent.trim()!==""&&(d.innerHTML=V.textContent.trim(),d.className="vditor-reset--error"),R&&R()})};window.MathJax.startup.promise.then(function(){for(var d=[],R=function(I){var N=k[I];!N.parentElement.classList.contains("vditor-wysiwyg__pre")&&!N.parentElement.classList.contains("vditor-ir__marker--pre")&&!N.getAttribute("data-math")&&(0,u.X)(N.textContent).trim()&&d.push(function(V){I===k.length-1?A(N):A(N,V)})},D=0;D<k.length;D++)R(D);S(d)})}}}},280:(E,g,v)=>{v.d(g,{Y:()=>b});var x=v(494),M=function(y,w){y.insertAdjacentHTML("afterend",'<video controls="controls" src="'.concat(w,'"></video>')),y.remove()},f=function(y,w){y.insertAdjacentHTML("afterend",'<audio controls="controls" src="'.concat(w,'"></audio>')),y.remove()},u=function(y,w){var m=w.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),k=w.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),L=w.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),S=w.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),A=w.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),d=w.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),R=w.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),D=w.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);if(m&&m[1].length===11)y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'.concat(m[1]+(m[2]?"?start="+m[2]:""),'"></iframe>')),y.remove();else if(k&&k[1])y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'.concat(k[1],'"></iframe>')),y.remove();else if(L&&L[1])y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='.concat(L[1],'"></iframe>')),y.remove();else if(S&&S[1])y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`.concat(S[1],'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>')),y.remove();else if(A&&A[0])y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`.concat(encodeURIComponent(A[0]),'"></iframe>')),y.remove();else if(d&&d[2])y.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`.concat(d[2],'"></iframe>')),y.remove();else if(w.indexOf("bilibili.com")>-1&&(w.indexOf("bvid=")>-1||R&&R[1])){var I={bvid:(0,x.on)("bvid",w)||R&&R[1],page:"1",high_quality:"1",as_wide:"1",allowfullscreen:"true",autoplay:"0"};new URL(w.startsWith("http")?w:"https:"+w).search.split("&").forEach(function(W,te){if(W){te===0&&(W=W.substr(1));var pe=W.split("=");I[pe[0]]=pe[1]}});var N="https://player.bilibili.com/player.html?",V=Object.keys(I);V.forEach(function(W,te){N+="".concat(W,"=").concat(I[W]),te<V.length-1&&(N+="&")}),y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="'.concat(N,'"></iframe>')),y.remove()}else D&&D[1]&&(y.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'.concat(D[1],'"></iframe>')),y.remove())},b=function(y){y&&y.querySelectorAll("a").forEach(function(w){var m=w.getAttribute("href");m&&(m.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?M(w,m):m.match(/^.+.(mp3|wav|flac)$/)?f(w,m):u(w,m))})}},637:(E,g,v)=>{v.d(g,{i:()=>w});var x=v(145),M=v(413),f=v(840),u=v(494),b=function(m,k,L,S){function A(d){return d instanceof L?d:new L(function(R){R(d)})}return new(L||(L=Promise))(function(d,R){function D(V){try{N(S.next(V))}catch(W){R(W)}}function I(V){try{N(S.throw(V))}catch(W){R(W)}}function N(V){V.done?d(V.value):A(V.value).then(D,I)}N((S=S.apply(m,k||[])).next())})},y=function(m,k){var L={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},S,A,d,R;return R={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function D(N){return function(V){return I([N,V])}}function I(N){if(S)throw new TypeError("Generator is already executing.");for(;R&&(R=0,N[0]&&(L=0)),L;)try{if(S=1,A&&(d=N[0]&2?A.return:N[0]?A.throw||((d=A.return)&&d.call(A),0):A.next)&&!(d=d.call(A,N[1])).done)return d;switch(A=0,d&&(N=[N[0]&2,d.value]),N[0]){case 0:case 1:d=N;break;case 4:return L.label++,{value:N[1],done:!1};case 5:L.label++,A=N[1],N=[0];continue;case 7:N=L.ops.pop(),L.trys.pop();continue;default:if(d=L.trys,!(d=d.length>0&&d[d.length-1])&&(N[0]===6||N[0]===2)){L=0;continue}if(N[0]===3&&(!d||N[1]>d[0]&&N[1]<d[3])){L.label=N[1];break}if(N[0]===6&&L.label<d[1]){L.label=d[1],d=N;break}if(d&&L.label<d[2]){L.label=d[2],L.ops.push(N);break}d[2]&&L.ops.pop(),L.trys.pop();continue}N=k.call(m,L)}catch(V){N=[6,V],A=0}finally{S=d=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},w=function(m,k,L){m===void 0&&(m=document),k===void 0&&(k=x.g.CDN);var S=f.mermaidRenderAdapter.getElements(m);S.length!==0&&(0,M.G)("".concat(k,"/dist/js/mermaid/mermaid.min.js?v=11.6.0"),"vditorMermaidScript").then(function(){var A={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8,showSequenceNumbers:!0},gantt:{leftPadding:75,rightPadding:20}};L==="dark"&&(A.theme="dark"),mermaid.initialize(A),S.forEach(function(d){return b(void 0,void 0,void 0,function(){var R,D,I,N,V;return y(this,function(W){switch(W.label){case 0:if(R=f.mermaidRenderAdapter.getCode(d),d.getAttribute("data-processed")==="true"||R.trim()==="")return[2];D="mermaid"+(0,u.Wb)(),W.label=1;case 1:return W.trys.push([1,3,,4]),[4,mermaid.render(D,d.textContent)];case 2:return I=W.sent(),d.innerHTML=I.svg,[3,4];case 3:return N=W.sent(),V=document.querySelector("#"+D),d.innerHTML="".concat(V.outerHTML,`<br>
<div style="text-align: left"><small>`).concat(N.message.replace(/\n/,"<br>"),"</small></div>"),V.parentElement.remove(),[3,4];case 4:return d.setAttribute("data-processed","true"),[2]}})})})})}},194:(E,g,v)=>{v.d(g,{P:()=>u});var x=v(145),M=v(413),f=v(840),u=function(b,y,w){b===void 0&&(b=document),y===void 0&&(y=x.g.CDN);var m=f.mindmapRenderAdapter.getElements(b);m.length>0&&(0,M.G)("".concat(y,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){m.forEach(function(k){if(!(k.parentElement.classList.contains("vditor-wysiwyg__pre")||k.parentElement.classList.contains("vditor-ir__marker--pre"))){var L=f.mindmapRenderAdapter.getCode(k);if(L)try{if(k.getAttribute("data-processed")==="true")return;echarts.init(k,w==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(L))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(S,A){var d;return!((d=A==null?void 0:A.data)===null||d===void 0)&&d.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),k.setAttribute("data-processed","true")}catch(S){k.className="vditor-reset--error",k.innerHTML="mindmap render error: <br>".concat(S)}}})})}},436:(E,g,v)=>{v.d(g,{k:()=>f});var x=v(771),M=v(472),f=function(u,b,y){var w="",m=[];if(Array.from(u.children).forEach(function(A,d){if((0,x.W)(A)){if(y){var R=A.id.lastIndexOf("_");A.id=A.id.substring(0,R===-1?void 0:R)+"_"+d}m.push(A.id),w+=A.outerHTML.replace("<wbr>","")}}),w==="")return b.innerHTML="","";var k=document.createElement("div");if(y)y.lute.SetToC(!0),y.currentMode==="wysiwyg"&&!y.preview.element.contains(u)?k.innerHTML=y.lute.SpinVditorDOM("<p>[ToC]</p>"+w):y.currentMode==="ir"&&!y.preview.element.contains(u)?k.innerHTML=y.lute.SpinVditorIRDOM("<p>[ToC]</p>"+w):k.innerHTML=y.lute.HTML2VditorDOM("<p>[ToC]</p>"+w),y.lute.SetToC(y.options.preview.markdown.toc);else{b.classList.add("vditor-outline");var L=Lute.New();L.SetToC(!0),k.innerHTML=L.HTML2VditorDOM("<p>[ToC]</p>"+w)}var S=k.firstElementChild.querySelectorAll("li > span[data-target-id]");return S.forEach(function(A,d){if(A.nextElementSibling&&A.nextElementSibling.tagName==="UL"){var R="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(R='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),A.innerHTML="".concat(R,"<span>").concat(A.innerHTML,"</span>")}else A.innerHTML="<svg></svg><span>".concat(A.innerHTML,"</span>");A.setAttribute("data-target-id",m[d])}),w=k.firstElementChild.innerHTML,S.length===0?(b.innerHTML="",w):(b.innerHTML=w,y&&(0,M.H)(b,{cdn:y.options.cdn,math:y.options.preview.math}),b.firstElementChild.addEventListener("click",function(A){for(var d=A.target;d&&!d.isEqualNode(b);){if(d.classList.contains("vditor-outline__action")){d.classList.contains("vditor-outline__action--close")?(d.classList.remove("vditor-outline__action--close"),d.parentElement.nextElementSibling.setAttribute("style","display:block")):(d.classList.add("vditor-outline__action--close"),d.parentElement.nextElementSibling.setAttribute("style","display:none")),A.preventDefault(),A.stopPropagation();break}else if(d.getAttribute("data-target-id")){A.preventDefault(),A.stopPropagation();var R=document.getElementById(d.getAttribute("data-target-id"));if(!R)return;if(y)if(y.options.height==="auto"){var D=R.offsetTop+y.element.offsetTop;y.options.toolbarConfig.pin||(D+=y.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,D)}else y.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,y.element.offsetTop),y.preview.element.contains(u)?u.parentElement.scrollTop=R.offsetTop:u.scrollTop=R.offsetTop;else window.scrollTo(window.scrollX,R.offsetTop);break}d=d.parentElement}}),w)}},229:(E,g,v)=>{v.d(g,{B:()=>u});var x=v(145),M=v(413),f=v(840),u=function(b,y){b===void 0&&(b=document),y===void 0&&(y=x.g.CDN);var w=f.plantumlRenderAdapter.getElements(b);w.length!==0&&(0,M.G)("".concat(y,"/dist/js/plantuml/plantuml-encoder.min.js"),"vditorPlantumlScript").then(function(){w.forEach(function(m){if(!(m.parentElement.classList.contains("vditor-wysiwyg__pre")||m.parentElement.classList.contains("vditor-ir__marker--pre"))){var k=f.plantumlRenderAdapter.getCode(m).trim();if(k)try{m.innerHTML='<object type="image/svg+xml" data="https://www.plantuml.com/plantuml/svg/~1'.concat(plantumlEncoder.encode(k),'"/>')}catch(L){m.className="vditor-reset--error",m.innerHTML="plantuml render error: <br>".concat(L)}}})})}},214:(E,g,v)=>{v.d(g,{X:()=>x});var x=function(M){var f=Lute.New();return f.PutEmojis(M.emojis),f.SetEmojiSite(M.emojiSite),f.SetHeadingAnchor(M.headingAnchor),f.SetInlineMathAllowDigitAfterOpenMarker(M.inlineMathDigit),f.SetAutoSpace(M.autoSpace),f.SetToC(M.toc),f.SetFootnotes(M.footnotes),f.SetFixTermTypo(M.fixTermTypo),f.SetVditorCodeBlockPreview(M.codeBlockPreview),f.SetVditorMathBlockPreview(M.mathBlockPreview),f.SetSanitize(M.sanitize),f.SetChineseParagraphBeginningSpace(M.paragraphBeginningSpace),f.SetRenderListStyle(M.listStyle),f.SetLinkBase(M.linkBase),f.SetLinkPrefix(M.linkPrefix),f.SetMark(M.mark),f.SetGFMAutoLink(M.gfmAutoLink),M.lazyLoadImage&&f.SetImageLazyLoading(M.lazyLoadImage),f}},190:(E,g,v)=>{v.d(g,{E:()=>x});var x=function(M,f,u){u===void 0&&(u="classic");var b=M.getBoundingClientRect(),y=36;document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'.concat(u==="dark"?" vditor--dark":"",`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `).concat(window.VditorI18n.spin,`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`).concat(window.VditorI18n.close,`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `).concat(M.width,"px;height:").concat(M.height,"px;transform: translate3d(").concat(b.left,"px, ").concat(b.top-y,'px, 0)" src="').concat(M.getAttribute("src"),`">
    </div>
</div>`)),document.body.style.overflow="hidden";var w=document.querySelector(".vditor-img img"),m="translate3d(".concat(Math.max(0,window.innerWidth-M.naturalWidth)/2,"px, ").concat(Math.max(0,window.innerHeight-y-M.naturalHeight)/2,"px, 0)");setTimeout(function(){w.setAttribute("style","transition: transform .3s ease-in-out;transform: ".concat(m)),setTimeout(function(){w.parentElement.scrollTo((w.parentElement.scrollWidth-w.parentElement.clientWidth)/2,(w.parentElement.scrollHeight-w.parentElement.clientHeight)/2)},400)});var k=document.querySelector(".vditor-img__btn");k.addEventListener("click",function(){var L=parseInt(k.getAttribute("data-deg"),10)+90;L/90%2===1&&M.naturalWidth>w.parentElement.clientHeight?w.style.transform="translate3d(".concat(Math.max(0,window.innerWidth-M.naturalWidth)/2,"px, ").concat(M.naturalWidth/2-M.naturalHeight/2,"px, 0) rotateZ(").concat(L,"deg)"):w.style.transform="".concat(m," rotateZ(").concat(L,"deg)"),k.setAttribute("data-deg",L.toString()),setTimeout(function(){w.parentElement.scrollTo((w.parentElement.scrollWidth-w.parentElement.clientWidth)/2,(w.parentElement.scrollHeight-w.parentElement.clientHeight)/2)},400)})}},580:(E,g,v)=>{v.d(g,{Y:()=>f});var x=v(145),M=v(290),f=function(u,b){b===void 0&&(b=x.g.CDN),x.g.CODE_THEME.includes(u)||(u="github");var y=document.getElementById("vditorHljsStyle"),w="".concat(b,"/dist/js/highlight.js/styles/").concat(u,".min.css");y?y.getAttribute("href")!==w&&(y.remove(),(0,M.c)(w,"vditorHljsStyle")):(0,M.c)(w,"vditorHljsStyle")}},538:(E,g,v)=>{v.d(g,{Z:()=>M});var x=v(290),M=function(f,u){if(!(!f||!u)){var b=document.getElementById("vditorContentTheme"),y="".concat(u,"/").concat(f,".css");b?b.getAttribute("href")!==y&&(b.remove(),(0,x.c)(y,"vditorContentTheme")):(0,x.c)(y,"vditorContentTheme")}}},413:(E,g,v)=>{v.d(g,{J:()=>x,G:()=>M});var x=function(f,u){if(document.getElementById(u))return!1;var b=new XMLHttpRequest;b.open("GET",f,!1),b.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),b.send("");var y=document.createElement("script");y.type="text/javascript",y.text=b.responseText,y.id=u,document.head.appendChild(y)},M=function(f,u){return new Promise(function(b,y){if(document.getElementById(u))return b(!0),!1;var w=document.createElement("script");w.src=f,w.async=!0,document.head.appendChild(w),w.onerror=function(m){y(m)},w.onload=function(){if(document.getElementById(u))return w.remove(),b(!0),!1;w.id=u,b(!0)}})}},290:(E,g,v)=>{v.d(g,{c:()=>x});var x=function(M,f){if(!document.getElementById(f)){var u=document.createElement("link");u.id=f,u.rel="stylesheet",u.type="text/css",u.href=M,document.getElementsByTagName("head")[0].appendChild(u)}}},105:(E,g,v)=>{v.d(g,{X:()=>x});var x=function(M){return M.replace(/\u00a0/g," ")}},410:(E,g,v)=>{v.d(g,{G6:()=>x,vU:()=>M,pK:()=>f,Le:()=>u,yl:()=>b,ns:()=>y,i7:()=>w});var x=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},M=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},f=function(){try{return typeof localStorage<"u"}catch{return!1}},u=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},b=function(m){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!!(m.metaKey&&!m.ctrlKey):!!(!m.metaKey&&m.ctrlKey)},y=function(m){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?m.indexOf("⇧")>-1&&M()&&(m=m.replace(";",":").replace("=","+").replace("-","_")):(m.startsWith("⌘")?m=m.replace("⌘","⌘+"):m.startsWith("⌥")&&m.substr(1,1)!=="⌘"?m=m.replace("⌥","⌥+"):m=m.replace("⇧⌘","⌘+⇧+").replace("⌥⌘","⌥+⌘+"),m=m.replace("⌘","Ctrl").replace("⇧","Shift").replace("⌥","Alt"),m.indexOf("Shift")>-1&&(m=m.replace(";",":").replace("=","+").replace("-","_"))),m},w=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},494:(E,g,v)=>{v.d(g,{Wb:()=>x,on:()=>M,Qf:()=>f});var x=function(){return([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(u){return(parseInt(u,10)^window.crypto.getRandomValues(new Uint32Array(1))[0]&15>>parseInt(u,10)/4).toString(16)})},M=function(u,b){b===void 0&&(b=window.location.search);var y=b.substring(b.indexOf("?")),w=y.indexOf("#"),m=new URLSearchParams(y.substring(0,w>=0?w:void 0));return m.get(u)},f=function(u){return Function('"use strict";return ('.concat(u,")"))()}},106:(E,g,v)=>{v.d(g,{JQ:()=>M,E2:()=>f,O9:()=>u,a1:()=>b,F9:()=>y,lG:()=>w,fb:()=>m,DX:()=>k});var x=v(771),M=function(L,S){for(var A=m(L,S),d=!1,R=!1;A&&!A.classList.contains("vditor-reset")&&!R;)d=m(A.parentElement,S),d?A=d:R=!0;return A||!1},f=function(L,S){for(var A=(0,x.S)(L,S),d=!1,R=!1;A&&!A.classList.contains("vditor-reset")&&!R;)d=(0,x.S)(A.parentElement,S),d?A=d:R=!0;return A||!1},u=function(L){var S=f(L,"UL"),A=f(L,"OL"),d=S;return A&&(!S||S&&A.contains(S))&&(d=A),d},b=function(L,S,A){if(!L)return!1;L.nodeType===3&&(L=L.parentElement);for(var d=L,R=!1;d&&!R&&!d.classList.contains("vditor-reset");)d.getAttribute(S)===A?R=!0:d=d.parentElement;return R&&d},y=function(L){if(!L)return!1;L.nodeType===3&&(L=L.parentElement);var S=L,A=!1,d=b(L,"data-block","0");if(d)return d;for(;S&&!A&&!S.classList.contains("vditor-reset");)S.tagName==="H1"||S.tagName==="H2"||S.tagName==="H3"||S.tagName==="H4"||S.tagName==="H5"||S.tagName==="H6"||S.tagName==="P"||S.tagName==="BLOCKQUOTE"||S.tagName==="OL"||S.tagName==="UL"?A=!0:S=S.parentElement;return A&&S},w=function(L,S){if(!L)return!1;L.nodeType===3&&(L=L.parentElement);for(var A=L,d=!1;A&&!d&&!A.classList.contains("vditor-reset");)A.nodeName===S?d=!0:A=A.parentElement;return d&&A},m=function(L,S){if(!L)return!1;L.nodeType===3&&(L=L.parentElement);for(var A=L,d=!1;A&&!d&&!A.classList.contains("vditor-reset");)A.classList.contains(S)?d=!0:A=A.parentElement;return d&&A},k=function(L){for(;L&&L.lastChild;)L=L.lastChild;return L}},771:(E,g,v)=>{v.d(g,{S:()=>x,W:()=>M});var x=function(f,u){if(!f)return!1;f.nodeType===3&&(f=f.parentElement);for(var b=f,y=!1;b&&!y&&!b.classList.contains("vditor-reset");)b.nodeName.indexOf(u)===0?y=!0:b=b.parentElement;return y&&b},M=function(f){var u=x(f,"H");return u&&u.tagName.length===2&&u.tagName!=="HR"?u:!1}},673:(E,g,v)=>{v.d(g,{T:()=>x});var x=function(){for(var M=[],f=0;f<arguments.length;f++)M[f]=arguments[f];for(var u={},b=function(w){for(var m in w)w.hasOwnProperty(m)&&(Object.prototype.toString.call(w[m])==="[object Object]"?u[m]=x(u[m],w[m]):u[m]=w[m])},y=0;y<M.length;y++)b(M[y]);return u}},810:(E,g,v)=>{v.d(g,{zh:()=>u,Ny:()=>b,Gb:()=>y,Hc:()=>w,im:()=>m,$j:()=>k,ib:()=>L,oC:()=>S});var x=v(145),M=v(410),f=v(106),u=function(A){var d,R=A[A.currentMode].element;return getSelection().rangeCount>0&&(d=getSelection().getRangeAt(0),R.isEqualNode(d.startContainer)||R.contains(d.startContainer))?d:A[A.currentMode].range?A[A.currentMode].range:(R.focus(),d=R.ownerDocument.createRange(),d.setStart(R,0),d.collapse(!0),d)},b=function(A){var d=window.getSelection().getRangeAt(0);if(!A.contains(d.startContainer)&&!(0,f.fb)(d.startContainer,"vditor-panel--none"))return{left:0,top:0};var R=A.parentElement.getBoundingClientRect(),D;if(d.getClientRects().length===0)if(d.startContainer.nodeType===3){var I=d.startContainer.parentElement;if(I&&I.getClientRects().length>0)D=I.getClientRects()[0];else return{left:0,top:0}}else{var N=d.startContainer.children;if(N[d.startOffset]&&N[d.startOffset].getClientRects().length>0)D=N[d.startOffset].getClientRects()[0];else if(d.startContainer.childNodes.length>0){var V=d.cloneRange();d.selectNode(d.startContainer.childNodes[Math.max(0,d.startOffset-1)]),D=d.getClientRects()[0],d.setEnd(V.endContainer,V.endOffset),d.setStart(V.startContainer,V.startOffset)}else D=d.startContainer.getClientRects()[0];if(!D){for(var W=d.startContainer.childNodes[d.startOffset];!W.getClientRects||W.getClientRects&&W.getClientRects().length===0;)W=W.parentElement;D=W.getClientRects()[0]}}else D=d.getClientRects()[0];return{left:D.left-R.left,top:D.top-R.top}},y=function(A,d){if(!d){if(getSelection().rangeCount===0)return!1;d=getSelection().getRangeAt(0)}var R=d.commonAncestorContainer;return A.isEqualNode(R)||A.contains(R)},w=function(A){var d=window.getSelection();d.removeAllRanges(),d.addRange(A)},m=function(A,d,R){var D={end:0,start:0};if(!R){if(getSelection().rangeCount===0)return D;R=window.getSelection().getRangeAt(0)}if(y(d,R)){var I=R.cloneRange();A.childNodes[0]&&A.childNodes[0].childNodes[0]?I.setStart(A.childNodes[0].childNodes[0],0):I.selectNodeContents(A),I.setEnd(R.startContainer,R.startOffset),D.start=I.toString().length,D.end=D.start+R.toString().length}return D},k=function(A,d,R){var D=0,I=0,N=R.childNodes[I],V=!1,W=!1;A=Math.max(0,A),d=Math.max(0,d);var te=R.ownerDocument.createRange();for(te.setStart(N||R,0),te.collapse(!0);!W&&N;){var pe=D+N.textContent.length;if(!V&&A>=D&&A<=pe&&(A===0?te.setStart(N,0):N.childNodes[0].nodeType===3?te.setStart(N.childNodes[0],A-D):N.nextSibling?te.setStartBefore(N.nextSibling):te.setStartAfter(N),V=!0,A===d)){W=!0;break}V&&d>=D&&d<=pe&&(d===0?te.setEnd(N,0):N.childNodes[0].nodeType===3?te.setEnd(N.childNodes[0],d-D):N.nextSibling?te.setEndBefore(N.nextSibling):te.setEndAfter(N),W=!0),D=pe,N=R.childNodes[++I]}return!W&&R.childNodes[I-1]&&te.setStartBefore(R.childNodes[I-1]),w(te),te},L=function(A,d){var R=A.querySelector("wbr");if(R){if(!R.previousElementSibling)R.previousSibling?d.setStart(R.previousSibling,R.previousSibling.textContent.length):R.nextSibling?R.nextSibling.nodeType===3?d.setStart(R.nextSibling,0):d.setStartBefore(R.nextSibling):d.setStart(R.parentElement,0);else if(R.previousElementSibling.isSameNode(R.previousSibling))if(R.previousElementSibling.lastChild){d.setStartBefore(R),d.collapse(!0),w(d),(0,M.i7)()&&(R.previousElementSibling.tagName==="EM"||R.previousElementSibling.tagName==="STRONG"||R.previousElementSibling.tagName==="S")&&(d.insertNode(document.createTextNode(x.g.ZWSP)),d.collapse(!1)),R.remove();return}else d.setStartAfter(R.previousElementSibling);else d.setStart(R.previousSibling,R.previousSibling.textContent.length);d.collapse(!0),R.remove(),w(d)}},S=function(A,d){var R=document.createElement("div");R.innerHTML=A;var D=R.querySelectorAll("p");D.length===1&&!D[0].previousSibling&&!D[0].nextSibling&&d[d.currentMode].element.children.length>0&&R.firstElementChild.tagName==="P"&&(A=D[0].innerHTML.trim());var I=document.createElement("div");I.innerHTML=A;var N=u(d);if(N.toString()!==""&&(d[d.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),I.firstElementChild&&I.firstElementChild.getAttribute("data-block")==="0"){I.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var V=(0,f.F9)(N.startContainer);V?V.insertAdjacentHTML("afterend",I.innerHTML):d[d.currentMode].element.insertAdjacentHTML("beforeend",I.innerHTML),L(d[d.currentMode].element,N)}else{var W=document.createElement("template");W.innerHTML=A,N.insertNode(W.content.cloneNode(!0)),N.collapse(!1),w(N)}}}},c={};function p(E){var g=c[E];if(g!==void 0)return g.exports;var v=c[E]={exports:{}};return l[E](v,v.exports,p),v.exports}p.d=(E,g)=>{for(var v in g)p.o(g,v)&&!p.o(E,v)&&Object.defineProperty(E,v,{enumerable:!0,get:g[v]})},p.o=(E,g)=>Object.prototype.hasOwnProperty.call(E,g),p.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var _={};return(()=>{p.d(_,{default:()=>Ql});var E=p(408),g=p(145),v=p(105),x=function(e){return e.currentMode==="sv"?(0,v.X)("".concat(e.sv.element.textContent,`
`).replace(/\n\n$/,`
`)):e.currentMode==="wysiwyg"?e.lute.VditorDOM2Md(e.wysiwyg.element.innerHTML):e.currentMode==="ir"?e.lute.VditorIRDOM2Md(e.ir.element.innerHTML):""},M=p(413),f=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return e.prototype.renderEchart=function(t){var n=this;t.devtools.element.style.display==="block"&&(0,M.G)("".concat(t.options.cdn,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){n.ASTChart||(n.ASTChart=echarts.init(t.devtools.element.lastElementChild));try{n.element.lastElementChild.style.display="block",n.element.firstElementChild.innerHTML="",n.ASTChart.setOption({series:[{data:JSON.parse(t.lute.RenderEChartsJSON(x(t))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),n.ASTChart.resize()}catch(i){n.element.lastElementChild.style.display="none",n.element.firstElementChild.innerHTML=i}})},e}(),u=p(410),b=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&i.classList.contains("vditor-menu--current")&&i.classList.remove("vditor-menu--current")}})},y=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&!i.classList.contains("vditor-menu--current")&&i.classList.add("vditor-menu--current")}})},w=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&i.classList.contains(g.g.CLASS_MENU_DISABLED)&&i.classList.remove(g.g.CLASS_MENU_DISABLED)}})},m=function(e,t){t.forEach(function(n){if(e[n]){var i=e[n].children[0];i&&!i.classList.contains(g.g.CLASS_MENU_DISABLED)&&i.classList.add(g.g.CLASS_MENU_DISABLED)}})},k=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="none")})},L=function(e,t){t.forEach(function(n){e[n]&&e[n]&&(e[n].style.display="block")})},S=function(e,t,n){t.includes("subToolbar")&&(e.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(i){n&&i.isEqualNode(n)||(i.style.display="none")}),e.toolbar.elements.emoji&&(e.toolbar.elements.emoji.lastElementChild.style.display="none")),t.includes("hint")&&(e.hint.element.style.display="none"),e.wysiwyg.popover&&t.includes("popover")&&(e.wysiwyg.popover.style.display="none")},A=function(e,t,n,i){n.addEventListener((0,u.Le)(),function(a){a.preventDefault(),a.stopPropagation(),!n.classList.contains(g.g.CLASS_MENU_DISABLED)&&(e.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(s){s.classList.remove("vditor-hint--current")}),t.style.display==="block"?t.style.display="none":(S(e,["subToolbar","hint","popover"],n.parentElement.parentElement),n.classList.contains("vditor-tooltipped")||n.classList.add("vditor-hint--current"),t.style.display="block",e.toolbar.element.getBoundingClientRect().right-n.getBoundingClientRect().right<250?t.classList.add("vditor-panel--left"):t.classList.remove("vditor-panel--left")))})},d=p(106),R=p(771),D=function(e,t,n,i){i&&console.log("".concat(e," - ").concat(n,": ").concat(t))},I=p(135),N=p(775),V=p(428),W=p(325),te=p(483),pe=p(999),Se=p(472),Me=p(637),re=p(11),se=p(194),je=p(229),tt=p(825),ot=function(e,t,n){n===void 0&&(n="sv");var i=document.createElement("div");i.innerHTML=e;var a=!1;i.childElementCount===1&&i.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(a=!0);var s=i.querySelectorAll("pre");if(i.childElementCount===1&&s.length===1&&s[0].className!=="vditor-wysiwyg"&&s[0].className!=="vditor-sv"&&(a=!0),e.indexOf(`
<p class="p1">`)===0&&(a=!0),i.childElementCount===1&&i.firstElementChild.tagName==="TABLE"&&i.querySelector(".line-number")&&i.querySelector(".line-content")&&(a=!0),a){var h=t||e;return/\n/.test(h)||s.length===1?n==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'.concat(h.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"<wbr></code></pre></div>"):"\n```\n"+h.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":n==="wysiwyg"?"<code>".concat(h.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"</code><wbr>"):"`".concat(h,"`")}return!1},Ye=function(e,t){if(e){if(e.parentElement.getAttribute("data-type")==="html-block"){e.setAttribute("data-render","1");return}var n=e.firstElementChild.className.replace("language-","");if(n==="abc")(0,I.Q)(e,t.options.cdn);else if(n==="mermaid")(0,Me.i)(e,t.options.cdn,t.options.theme);else if(n==="smiles")(0,tt.J)(e,t.options.cdn,t.options.theme);else if(n==="markmap")(0,re.K)(e,t.options.cdn);else if(n==="flowchart")(0,W.P)(e,t.options.cdn);else if(n==="echarts")(0,N.p)(e,t.options.cdn,t.options.theme);else if(n==="mindmap")(0,se.P)(e,t.options.cdn,t.options.theme);else if(n==="plantuml")(0,je.B)(e,t.options.cdn);else if(n==="graphviz")(0,te.v)(e,t.options.cdn);else if(n==="math")(0,Se.H)(e,{cdn:t.options.cdn,math:t.options.preview.math});else{var i=t.options.customRenders.find(function(a){if(a.language===n)return a.render(e,t),!0});i||((0,pe.s)(Object.assign({},t.options.preview.hljs),e,t.options.cdn),(0,V.O)(e,t.options.preview.hljs))}e.setAttribute("data-render","1")}},B=p(810),bt=function(e){if(e.currentMode!=="sv"){var t=e[e.currentMode].element,n=e.outline.render(e);n===""&&(n="[ToC]"),t.querySelectorAll('[data-type="toc-block"]').forEach(function(i){i.innerHTML=n,(0,Se.H)(i,{cdn:e.options.cdn,math:e.options.preview.math})})}},Vt=function(e,t){var n=(0,d.lG)(e.target,"SPAN");if(n&&(0,d.fb)(n,"vditor-toc")){var i=t[t.currentMode].element.querySelector("#"+n.getAttribute("data-target-id"));if(i)if(t.options.height==="auto"){var a=i.offsetTop+t.element.offsetTop;t.options.toolbarConfig.pin||(a+=t.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,a)}else t.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,t.element.offsetTop),t[t.currentMode].element.scrollTop=i.offsetTop;return}},tn=function(e,t,n,i){if(e.previousElementSibling&&e.previousElementSibling.classList.contains("vditor-toc")){if(n.key==="Backspace"&&(0,B.im)(e,t[t.currentMode].element,i).start===0)return e.previousElementSibling.remove(),Ee(t),!0;if(zt(t,n,i,e,e.previousElementSibling))return!0}if(e.nextElementSibling&&e.nextElementSibling.classList.contains("vditor-toc")){if(n.key==="Delete"&&(0,B.im)(e,t[t.currentMode].element,i).start>=e.textContent.trimRight().length)return e.nextElementSibling.remove(),Ee(t),!0;if(On(t,n,i,e,e.nextElementSibling))return!0}if(n.key==="Backspace"||n.key==="Delete"){var a=(0,d.fb)(i.startContainer,"vditor-toc");if(a)return a.remove(),Ee(t),!0}},gt=function(e,t,n,i){n===void 0&&(n=!1);var a=(0,d.F9)(t.startContainer);if(a&&!n&&a.getAttribute("data-type")!=="code-block"){if(xe(a.innerHTML)&&a.previousElementSibling||zn(a.innerHTML))return;for(var s=(0,B.im)(a,e.ir.element,t).start,h=!0,C=s-1;C>a.textContent.substr(0,s).lastIndexOf(`
`);C--)if(a.textContent.charAt(C)!==" "&&a.textContent.charAt(C)!=="	"){h=!1;break}s===0&&(h=!1);for(var O=!0,C=s-1;C<a.textContent.length;C++)if(a.textContent.charAt(C)!==" "&&a.textContent.charAt(C)!==`
`){O=!1;break}if(h){typeof e.options.input=="function"&&e.options.input(x(e));return}if(O&&/^#{1,6} $/.test(a.textContent)&&(O=!1),O){var T=(0,d.fb)(t.startContainer,"vditor-ir__marker");if(!T){var H=t.startContainer.previousSibling;H&&H.nodeType!==3&&H.classList.contains("vditor-ir__node--expand")&&H.classList.remove("vditor-ir__node--expand"),typeof e.options.input=="function"&&e.options.input(x(e));return}}}if(e.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(Ne){Ne.classList.remove("vditor-ir__node--expand")}),a||(a=e.ir.element),!a.querySelector("wbr")){var U=(0,d.fb)(t.startContainer,"vditor-ir__preview");U?U.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):t.insertNode(document.createElement("wbr"))}a.querySelectorAll("[style]").forEach(function(Ne){Ne.removeAttribute("style")}),a.getAttribute("data-type")==="link-ref-defs-block"&&(a=e.ir.element);var Y=a.isEqualNode(e.ir.element),Q=(0,d.a1)(a,"data-type","footnotes-block"),J="";if(Y)J=a.innerHTML;else{var me=(0,R.S)(t.startContainer,"BLOCKQUOTE"),ie=(0,d.O9)(t.startContainer);if(ie&&(a=ie),me&&(!ie||ie&&!me.contains(ie))&&(a=me),Q&&(a=Q),J=a.outerHTML,a.tagName==="UL"||a.tagName==="OL"){var X=a.previousElementSibling,ve=a.nextElementSibling;X&&(X.tagName==="UL"||X.tagName==="OL")&&(J=X.outerHTML+J,X.remove()),ve&&(ve.tagName==="UL"||ve.tagName==="OL")&&(J=J+ve.outerHTML,ve.remove()),J=J.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else a.previousElementSibling&&a.previousElementSibling.textContent.replace(g.g.ZWSP,"")!==""&&i&&i.inputType==="insertParagraph"&&(J=a.previousElementSibling.outerHTML+J,a.previousElementSibling.remove());a.innerText.startsWith("```")||(e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(Ne){Ne&&!a.isEqualNode(Ne)&&(J+=Ne.outerHTML,Ne.remove())}),e.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(Ne){Ne&&!a.isEqualNode(Ne)&&(J+=Ne.outerHTML,Ne.remove())}))}if(D("SpinVditorIRDOM",J,"argument",e.options.debugger),J=e.lute.SpinVditorIRDOM(J),D("SpinVditorIRDOM",J,"result",e.options.debugger),Y)a.innerHTML=J;else if(a.outerHTML=J,Q){var ue=(0,d.a1)(e.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(ue){var Te=ue.textContent,Xe=Te.substring(1,Te.indexOf("]:")),qe=e.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(Xe,'"]'));qe&&qe.setAttribute("aria-label",Te.substr(Xe.length+3).trim().substr(0,24))}}var Ze,Mt=e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");Mt.forEach(function(Ne,lt){lt===0?Ze=Ne:(Ze.insertAdjacentHTML("beforeend",Ne.innerHTML),Ne.remove())}),Mt.length>0&&e.ir.element.insertAdjacentElement("beforeend",Mt[0]);var yt,xt=e.ir.element.querySelectorAll("[data-type='footnotes-block']");xt.forEach(function(Ne,lt){lt===0?yt=Ne:(yt.insertAdjacentHTML("beforeend",Ne.innerHTML),Ne.remove())}),xt.length>0&&e.ir.element.insertAdjacentElement("beforeend",xt[0]),(0,B.ib)(e.ir.element,t),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(Ne){Ye(Ne,e)}),bt(e),an(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},j=function(e,t){if(e==="")return!1;if(e.indexOf("⇧")===-1&&e.indexOf("⌘")===-1&&e.indexOf("⌥")===-1)return!(0,u.yl)(t)&&!t.altKey&&!t.shiftKey&&t.code===e;if(e==="⇧Tab")return!!(!(0,u.yl)(t)&&!t.altKey&&t.shiftKey&&t.code==="Tab");var n=e.split("");if(e.startsWith("⌥")){var i=n.length===3?n[2]:n[1];return!!((n.length===3?(0,u.yl)(t):!(0,u.yl)(t))&&t.altKey&&!t.shiftKey&&t.code===(/^[0-9]$/.test(i)?"Digit":"Key")+i)}e==="⌘Enter"&&(n=["⌘","Enter"]);var a=n.length>2&&n[0]==="⇧",s=a?n[2]:n[1];return a&&((0,u.vU)()||!/Mac/.test(navigator.platform))&&(s==="-"?s="_":s==="="&&(s="+")),!!((0,u.yl)(t)&&t.key.toLowerCase()===s.toLowerCase()&&!t.altKey&&(!a&&!t.shiftKey||a&&t.shiftKey))},Z=function(e){var t=e.startContainer;if(t.nodeType===3&&t.nodeValue.length!==e.startOffset)return!1;for(var n=t.nextSibling;n&&n.textContent==="";)n=n.nextSibling;if(n){if(n&&n.nodeType!==3&&n.classList.contains("vditor-ir__node")&&!n.getAttribute("data-block"))return n}else{var i=(0,d.fb)(t,"vditor-ir__marker");if(i&&!i.nextSibling){var a=t.parentElement.parentElement.nextSibling;if(a&&a.nodeType!==3&&a.classList.contains("vditor-ir__node"))return a}return!1}return!1},F=function(e){var t=e.startContainer,n=t.previousSibling;return t.nodeType===3&&e.startOffset===0&&n&&n.nodeType!==3&&n.classList.contains("vditor-ir__node")&&!n.getAttribute("data-block")?n:!1},q=function(e,t){t.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(h){h.classList.remove("vditor-ir__node--expand")});var n=(0,d.JQ)(e.startContainer,"vditor-ir__node"),i=!e.collapsed&&(0,d.JQ)(e.endContainer,"vditor-ir__node");if(!(!e.collapsed&&(!n||n!==i))){n&&(n.classList.add("vditor-ir__node--expand"),n.classList.remove("vditor-ir__node--hidden"),(0,B.Hc)(e));var a=Z(e);if(a){a.classList.add("vditor-ir__node--expand"),a.classList.remove("vditor-ir__node--hidden");return}var s=F(e);if(s){s.classList.add("vditor-ir__node--expand"),s.classList.remove("vditor-ir__node--hidden");return}}},ke=function(e,t){if(e.ir.composingLock=t.isComposing,t.isComposing)return!1;t.key.indexOf("Arrow")===-1&&t.key!=="Meta"&&t.key!=="Control"&&t.key!=="Alt"&&t.key!=="Shift"&&t.key!=="CapsLock"&&t.key!=="Escape"&&!/^F\d{1,2}$/.test(t.key)&&e.undo.recordFirstPosition(e,t);var n=(0,B.zh)(e),i=n.startContainer;if(!Nt(t,e,i)||(pr(n,e,t),va(n),t.key!=="Enter"&&t.key!=="Tab"&&t.key!=="Backspace"&&t.key.indexOf("Arrow")===-1&&!(0,u.yl)(t)&&t.key!=="Escape"&&t.key!=="Delete"))return!1;var a=(0,d.a1)(i,"data-newline","1");if(!(0,u.yl)(t)&&!t.altKey&&!t.shiftKey&&t.key==="Enter"&&a&&n.startOffset<a.textContent.length){var s=a.previousElementSibling;s&&(n.insertNode(document.createTextNode(s.textContent)),n.collapse(!1));var h=a.nextSibling;h&&(n.insertNode(document.createTextNode(h.textContent)),n.collapse(!0))}var C=(0,d.lG)(i,"P");if(Jt(t,e,C,n)||Fe(n,e,C,t)||Bt(e,n,t,C))return!0;var O=(0,d.fb)(i,"vditor-ir__marker--pre");if(O&&O.tagName==="PRE"){var T=O.firstChild;if(ft(e,t,O,n)||(T.getAttribute("data-type")==="math-block"||T.getAttribute("data-type")==="html-block")&&zt(e,t,n,T,O.parentElement)||On(e,t,n,T,O.parentElement))return!0}var H=(0,d.a1)(i,"data-type","code-block-info");if(H){if(t.key==="Enter"||t.key==="Tab")return n.selectNodeContents(H.nextElementSibling.firstChild),n.collapse(!0),t.preventDefault(),S(e,["hint"]),!0;if(t.key==="Backspace"){var U=(0,B.im)(H,e.ir.element).start;U===1&&n.setStart(i,0),U===2&&(e.hint.recentLanguage="")}if(zt(e,t,n,H,H.parentElement))return S(e,["hint"]),!0}var Y=(0,d.lG)(i,"TD")||(0,d.lG)(i,"TH");if(t.key.indexOf("Arrow")>-1&&Y){var Q=Ri(Y);if(Q&&zt(e,t,n,Y,Q))return!0;var J=Di(Y);if(J&&On(e,t,n,Y,J))return!0}if(Be(e,t,n)||Kr(e,n,t)||mn(e,n,t))return!0;var me=(0,R.W)(i);if(me){if(j("⌘=",t)){var ie=me.querySelector(".vditor-ir__marker--heading");return ie&&ie.textContent.trim().length>1&&gr(e,ie.textContent.substr(1)),t.preventDefault(),!0}if(j("⌘-",t)){var ie=me.querySelector(".vditor-ir__marker--heading");return ie&&ie.textContent.trim().length<6&&gr(e,ie.textContent.trim()+"# "),t.preventDefault(),!0}}var X=(0,d.F9)(i);if(t.key==="Backspace"&&!(0,u.yl)(t)&&!t.shiftKey&&!t.altKey&&n.toString()===""){if(Wr(e,n,t,C))return!0;if(X&&X.previousElementSibling&&X.tagName!=="UL"&&X.tagName!=="OL"&&(X.previousElementSibling.getAttribute("data-type")==="code-block"||X.previousElementSibling.getAttribute("data-type")==="math-block")){var ve=(0,B.im)(X,e.ir.element,n).start;if(ve===0||ve===1&&X.innerText.startsWith(g.g.ZWSP))return n.selectNodeContents(X.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),n.collapse(!1),q(n,e),X.textContent.trim().replace(g.g.ZWSP,"")===""&&(X.remove(),an(e)),t.preventDefault(),!0}if(me){var ue=me.firstElementChild.textContent.length;(0,B.im)(me,e.ir.element).start===ue&&ue!==0&&(n.setStart(me.firstElementChild.firstChild,ue-1),n.collapse(!0),(0,B.Hc)(n))}}return(t.key==="ArrowUp"||t.key==="ArrowDown")&&X&&(X.querySelectorAll(".vditor-ir__node").forEach(function(Te){Te.contains(i)||Te.classList.add("vditor-ir__node--hidden")}),_a(t,X,n))?!0:(hr(n,t.key),X&&tn(X,e,t,n)?(t.preventDefault(),!0):!1)},ne=p(190),be=function(e,t){e.querySelectorAll("[data-type=footnotes-link]").forEach(function(n){for(var i=n.parentElement,a=i.nextSibling;a&&a.textContent.startsWith("    ");){var s=a;s.childNodes.forEach(function(h){i.append(h.cloneNode(!0))}),a=a.nextSibling,s.remove()}t&&t(i)})},le=function(e,t){var n,i=getSelection().getRangeAt(0).cloneRange(),a=i.startContainer;i.startContainer.nodeType!==3&&i.startContainer.tagName==="DIV"&&(a=i.startContainer.childNodes[i.startOffset-1]);var s=(0,d.a1)(a,"data-block","0");if(s&&t&&(t.inputType==="deleteContentBackward"||t.data===" ")){for(var h=(0,B.im)(s,e.sv.element,i).start,C=!0,O=h-1;O>s.textContent.substr(0,h).lastIndexOf(`
`);O--)if(s.textContent.charAt(O)!==" "&&s.textContent.charAt(O)!=="	"){C=!1;break}if(h===0&&(C=!1),C){it(e);return}if(t.inputType==="deleteContentBackward"){var T=(0,d.a1)(a,"data-type","code-block-open-marker")||(0,d.a1)(a,"data-type","code-block-close-marker");if(T){if(T.getAttribute("data-type")==="code-block-close-marker"){var H=Fn(a,"code-block-open-marker");if(H){H.textContent=T.textContent,it(e);return}}if(T.getAttribute("data-type")==="code-block-open-marker"){var H=Fn(a,"code-block-close-marker",!1);if(H){H.textContent=T.textContent,it(e);return}}}var U=(0,d.a1)(a,"data-type","math-block-open-marker");if(U){var Y=U.nextElementSibling.nextElementSibling;Y&&Y.getAttribute("data-type")==="math-block-close-marker"&&(Y.remove(),it(e));return}s.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(X){X.textContent.length===1&&X.remove()}),s.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(X){X.textContent.length===1&&X.remove()});var Q=(0,d.a1)(a,"data-type","heading-marker");if(Q&&Q.textContent.indexOf("#")===-1){it(e);return}}if((t.data===" "||t.inputType==="deleteContentBackward")&&((0,d.a1)(a,"data-type","padding")||(0,d.a1)(a,"data-type","li-marker")||(0,d.a1)(a,"data-type","task-marker")||(0,d.a1)(a,"data-type","blockquote-marker"))){it(e);return}}if(s&&s.textContent.trimRight()==="$$"){it(e);return}s||(s=e.sv.element),((n=s.firstElementChild)===null||n===void 0?void 0:n.getAttribute("data-type"))==="link-ref-defs-block"&&(s=e.sv.element),(0,d.a1)(a,"data-type","footnotes-link")&&(s=e.sv.element),s.textContent.indexOf(Lute.Caret)===-1&&i.insertNode(document.createTextNode(Lute.Caret)),s.querySelectorAll("[style]").forEach(function(X){X.removeAttribute("style")}),s.querySelectorAll("font").forEach(function(X){X.outerHTML=X.innerHTML});var J=s.textContent,me=s.isEqualNode(e.sv.element);if(me)J=s.textContent;else{s.previousElementSibling&&(J=s.previousElementSibling.textContent+J,s.previousElementSibling.remove()),s.previousElementSibling&&J.indexOf(`---
`)===0&&(J=s.previousElementSibling.textContent+J,s.previousElementSibling.remove());var ie="";e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(X,ve){X&&!s.isEqualNode(X.parentElement)&&(ie+=X.parentElement.textContent+`
`,X.parentElement.remove())}),e.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(X,ve){X&&!s.isEqualNode(X.parentElement)&&(ie+=X.parentElement.textContent+`
`,X.parentElement.remove())}),J=ie+J}J=qt(J,e),me?s.innerHTML=J:s.outerHTML=J,e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(X){e.sv.element.insertAdjacentElement("beforeend",X.parentElement)}),be(e.sv.element,function(X){e.sv.element.insertAdjacentElement("beforeend",X)}),(0,B.ib)(e.sv.element,i),nt(e),it(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},He=function(e,t){var n,i,a,s,h;if(e.sv.composingLock=t.isComposing,t.isComposing||(t.key.indexOf("Arrow")===-1&&t.key!=="Meta"&&t.key!=="Control"&&t.key!=="Alt"&&t.key!=="Shift"&&t.key!=="CapsLock"&&t.key!=="Escape"&&!/^F\d{1,2}$/.test(t.key)&&e.undo.recordFirstPosition(e,t),t.key!=="Enter"&&t.key!=="Tab"&&t.key!=="Backspace"&&t.key.indexOf("Arrow")===-1&&!(0,u.yl)(t)&&t.key!=="Escape"))return!1;var C=(0,B.zh)(e),O=C.startContainer;C.startContainer.nodeType!==3&&C.startContainer.tagName==="DIV"&&(O=C.startContainer.childNodes[C.startOffset-1]);var T=(0,d.a1)(O,"data-type","text"),H=(0,d.a1)(O,"data-type","blockquote-marker");if(!H&&C.startOffset===0&&T&&T.previousElementSibling&&T.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(H=T.previousElementSibling),H&&t.key==="Enter"&&!(0,u.yl)(t)&&!t.altKey&&H.nextElementSibling.textContent.trim()===""&&(0,B.im)(H,e.sv.element,C).start===H.textContent.length)return((n=H.previousElementSibling)===null||n===void 0?void 0:n.getAttribute("data-type"))==="padding"&&H.previousElementSibling.setAttribute("data-action","enter-remove"),H.remove(),it(e),t.preventDefault(),!0;var U=(0,d.a1)(O,"data-type","li-marker"),Y=(0,d.a1)(O,"data-type","task-marker"),Q=U;if(Q||Y&&Y.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(Q=Y),!Q&&C.startOffset===0&&T&&T.previousElementSibling&&(T.previousElementSibling.getAttribute("data-type")==="li-marker"||T.previousElementSibling.getAttribute("data-type")==="task-marker")&&(Q=T.previousElementSibling),Q){var J=(0,B.im)(Q,e.sv.element,C).start,me=Q.getAttribute("data-type")==="task-marker",ie=Q;if(me&&(ie=Q.previousElementSibling.previousElementSibling.previousElementSibling),J===Q.textContent.length){if(t.key==="Enter"&&!(0,u.yl)(t)&&!t.altKey&&!t.shiftKey&&Q.nextElementSibling.textContent.trim()==="")return((i=ie.previousElementSibling)===null||i===void 0?void 0:i.getAttribute("data-type"))==="padding"?(ie.previousElementSibling.remove(),le(e)):(me&&(ie.remove(),Q.previousElementSibling.previousElementSibling.remove(),Q.previousElementSibling.remove()),Q.nextElementSibling.remove(),Q.remove(),it(e)),t.preventDefault(),!0;if(t.key==="Tab")return t.shiftKey?ie.previousElementSibling.getAttribute("data-type")==="padding"&&ie.previousElementSibling.remove():ie.insertAdjacentHTML("beforebegin",'<span data-type="padding">'.concat(ie.textContent.replace(/\S/g," "),"</span>")),/^\d/.test(ie.textContent)&&(ie.textContent=ie.textContent.replace(/^\d{1,}/,"1"),C.selectNodeContents(Q.firstChild),C.collapse(!1)),le(e),t.preventDefault(),!0}}if(mn(e,C,t))return!0;var X=(0,d.a1)(O,"data-block","0"),ve=(0,R.S)(O,"SPAN");if(t.key==="Enter"&&!(0,u.yl)(t)&&!t.altKey&&!t.shiftKey&&X){var ue=!1,Te=X.textContent.match(/^\n+/);(0,B.im)(X,e.sv.element).start<=(Te?Te[0].length:0)&&(ue=!0);var Xe=`
`;if(ve){if(((a=ve.previousElementSibling)===null||a===void 0?void 0:a.getAttribute("data-action"))==="enter-remove")return ve.previousElementSibling.remove(),it(e),t.preventDefault(),!0;Xe+=Vr(ve)}return C.insertNode(document.createTextNode(Xe)),C.collapse(!1),X&&X.textContent.trim()!==""&&!ue?le(e):it(e),t.preventDefault(),!0}if(t.key==="Backspace"&&!(0,u.yl)(t)&&!t.altKey&&!t.shiftKey){if(ve&&((s=ve.previousElementSibling)===null||s===void 0?void 0:s.getAttribute("data-type"))==="newline"&&(0,B.im)(ve,e.sv.element,C).start===1&&ve.getAttribute("data-type").indexOf("code-block-")===-1)return C.setStart(ve,0),C.extractContents(),ve.textContent.trim()!==""?le(e):it(e),t.preventDefault(),!0;if(X&&(0,B.im)(X,e.sv.element,C).start===0&&X.previousElementSibling){C.extractContents();var qe=X.previousElementSibling.lastElementChild;return qe.getAttribute("data-type")==="newline"&&(qe.remove(),qe=X.previousElementSibling.lastElementChild),qe.getAttribute("data-type")!=="newline"&&(qe.insertAdjacentHTML("afterend",X.innerHTML),X.remove()),X.textContent.trim()!==""&&!(!((h=X.previousElementSibling)===null||h===void 0)&&h.querySelector('[data-type="code-block-open-marker"]'))?le(e):(qe.getAttribute("data-type")!=="newline"&&(C.selectNodeContents(qe.lastChild),C.collapse(!1)),it(e)),t.preventDefault(),!0}}return!1},we=p(538),De=function(e){e.options.theme==="dark"?e.element.classList.add("vditor--dark"):e.element.classList.remove("vditor--dark")},St=function(e){e.element.innerHTML="",e.element.classList.add("vditor"),e.options.rtl&&e.element.setAttribute("dir","rtl"),De(e),(0,we.Z)(e.options.preview.theme.current,e.options.preview.theme.path),typeof e.options.height=="number"?e.element.style.height=e.options.height+"px":e.element.style.height=e.options.height,typeof e.options.minHeight=="number"&&(e.element.style.minHeight=e.options.minHeight+"px"),typeof e.options.width=="number"?e.element.style.width=e.options.width+"px":e.element.style.width=e.options.width,e.element.appendChild(e.toolbar.element);var t=document.createElement("div");if(t.className="vditor-content",e.options.outline.position==="left"&&t.appendChild(e.outline.element),t.appendChild(e.wysiwyg.element.parentElement),t.appendChild(e.sv.element),t.appendChild(e.ir.element.parentElement),t.appendChild(e.preview.element),e.toolbar.elements.devtools&&t.appendChild(e.devtools.element),e.options.outline.position==="right"&&(e.outline.element.classList.add("vditor-outline--right"),t.appendChild(e.outline.element)),e.upload&&t.appendChild(e.upload.element),e.options.resize.enable&&t.appendChild(e.resize.element),t.appendChild(e.hint.element),t.appendChild(e.tip.element),e.element.appendChild(t),t.addEventListener("click",function(){S(e,["subToolbar"])}),e.toolbar.elements.export&&e.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),Ke(e,e.options.mode,Br(e)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&typeof window.visualViewport<"u"){var n=!1,i=function(a){n||(n=!0,requestAnimationFrame(function(){n=!1;var s=e.toolbar.element;s.style.transform="none",s.getBoundingClientRect().top<0&&(s.style.transform="translate(0, ".concat(-s.getBoundingClientRect().top,"px)"))}))};window.visualViewport.addEventListener("scroll",i),window.visualViewport.addEventListener("resize",i)}},At=function(e){var t=window.innerWidth<=g.g.MOBILE_WIDTH?10:35;if(e.wysiwyg.element.parentElement.style.display!=="none"){var n=(e.wysiwyg.element.parentElement.clientWidth-e.options.preview.maxWidth)/2;e.wysiwyg.element.style.padding="10px ".concat(Math.max(t,n),"px")}if(e.ir.element.parentElement.style.display!=="none"){var n=(e.ir.element.parentElement.clientWidth-e.options.preview.maxWidth)/2;e.ir.element.style.padding="10px ".concat(Math.max(t,n),"px")}e.preview.element.style.display!=="block"?e.toolbar.element.style.paddingLeft=Math.max(5,parseInt(e[e.currentMode].element.style.paddingLeft||"0",10)+(e.options.outline.position==="left"?e.outline.element.offsetWidth:0))+"px":e.toolbar.element.style.paddingLeft=5+(e.options.outline.position==="left"?e.outline.element.offsetWidth:0)+"px"},kn=function(e){if(e.options.typewriterMode){var t=window.innerHeight;typeof e.options.height=="number"?(t=e.options.height,typeof e.options.minHeight=="number"&&(t=Math.max(t,e.options.minHeight)),t=Math.min(window.innerHeight,t)):t=e.element.clientHeight,e.element.classList.contains("vditor--fullscreen")&&(t=window.innerHeight),e[e.currentMode].element.style.setProperty("--editor-bottom",(t-e.toolbar.element.offsetHeight)/2+"px")}},Ir;function jr(){window.removeEventListener("resize",Ir)}var Br=function(e){kn(e),jr(),window.addEventListener("resize",Ir=function(){At(e),kn(e)});var t=(0,u.pK)()&&localStorage.getItem(e.options.cache.id);return(!e.options.cache.enable||!t)&&(e.options.value?t=e.options.value:e.originalInnerHTML?t=e.lute.HTML2Md(e.originalInnerHTML):e.options.cache.enable||(t="")),t||""},Dt=function(e){clearTimeout(e[e.currentMode].hlToolbarTimeoutId),e[e.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(e[e.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,B.Gb)(e[e.currentMode].element)){b(e.toolbar.elements,g.g.EDIT_TOOLBARS),w(e.toolbar.elements,g.g.EDIT_TOOLBARS);var t=(0,B.zh)(e),n=t.startContainer;t.startContainer.nodeType===3&&(n=t.startContainer.parentElement),n.classList.contains("vditor-reset")&&(n=n.childNodes[t.startOffset]);var i=e.currentMode==="sv"?(0,d.a1)(n,"data-type","heading"):(0,R.W)(n);i&&y(e.toolbar.elements,["headings"]);var a=e.currentMode==="sv"?(0,d.a1)(n,"data-type","blockquote"):(0,d.lG)(n,"BLOCKQUOTE");a&&y(e.toolbar.elements,["quote"]);var s=(0,d.a1)(n,"data-type","strong");s&&y(e.toolbar.elements,["bold"]);var h=(0,d.a1)(n,"data-type","em");h&&y(e.toolbar.elements,["italic"]);var C=(0,d.a1)(n,"data-type","s");C&&y(e.toolbar.elements,["strike"]);var O=(0,d.a1)(n,"data-type","a");O&&y(e.toolbar.elements,["link"]);var T=(0,d.lG)(n,"LI");T?(T.classList.contains("vditor-task")?y(e.toolbar.elements,["check"]):T.parentElement.tagName==="OL"?y(e.toolbar.elements,["ordered-list"]):T.parentElement.tagName==="UL"&&y(e.toolbar.elements,["list"]),w(e.toolbar.elements,["outdent","indent"])):m(e.toolbar.elements,["outdent","indent"]);var H=(0,d.a1)(n,"data-type","code-block");H&&(m(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),y(e.toolbar.elements,["code"]));var U=(0,d.a1)(n,"data-type","code");U&&(m(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),y(e.toolbar.elements,["inline-code"]));var Y=(0,d.a1)(n,"data-type","table");Y&&m(e.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},Ve=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),clearTimeout(e.wysiwyg.afterRenderTimeoutId),e.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!e.wysiwyg.composingLock){var n=x(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,u.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},un=function(e){for(var t=e.previousSibling;t;){if(t.nodeType!==3&&t.tagName==="A"&&!t.previousSibling&&t.innerHTML.replace(g.g.ZWSP,"")===""&&t.nextSibling)return t;t=t.previousSibling}return!1},Un=function(e){for(var t=e.startContainer.nextSibling;t&&t.textContent==="";)t=t.nextSibling;return!!(t&&t.nodeType!==3&&(t.tagName==="CODE"||t.getAttribute("data-type")==="math-inline"||t.getAttribute("data-type")==="html-entity"||t.getAttribute("data-type")==="html-inline"))},ar=function(e){for(var t="",n=e.nextSibling;n;)n.nodeType===3?t+=n.textContent:t+=n.outerHTML,n=n.nextSibling;return t},Ur=function(e){for(var t="",n=e.previousSibling;n;)n.nodeType===3?t=n.textContent+t:t=n.outerHTML+t,n=n.previousSibling;return t},Li=function(e){for(var t=e;t&&!t.nextSibling;)t=t.parentElement;return t.nextSibling},Ai=function(e){var t=Ur(e.startContainer),n=ar(e.startContainer),i=e.startContainer.textContent,a=e.startOffset,s="",h="";return(i.substr(0,a)!==""&&i.substr(0,a)!==g.g.ZWSP||t)&&(s="".concat(t).concat(i.substr(0,a))),(i.substr(a)!==""&&i.substr(a)!==g.g.ZWSP||n)&&(h="".concat(i.substr(a)).concat(n)),{afterHTML:h,beforeHTML:s}},or=function(e,t){Array.from(e.wysiwyg.element.childNodes).find(function(n){if(n.nodeType===3){var i=document.createElement("p");i.setAttribute("data-block","0"),i.textContent=n.textContent;var a=t.startContainer.nodeType===3?t.startOffset:n.textContent.length;return n.parentNode.insertBefore(i,n),n.remove(),t.setStart(i.firstChild,Math.min(i.firstChild.textContent.length,a)),t.collapse(!0),(0,B.Hc)(t),!0}else if(!n.getAttribute("data-block"))return n.tagName==="P"?n.remove():(n.tagName==="DIV"?(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'.concat(n.innerHTML,"</p>")):n.tagName==="BR"?n.outerHTML='<p data-block="0">'.concat(n.outerHTML,"<wbr></p>"):(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'.concat(n.outerHTML,"</p>")),(0,B.ib)(e.wysiwyg.element,t),t=getSelection().getRangeAt(0)),!0})},$n=function(e,t){var n=(0,B.zh)(e),i=(0,d.F9)(n.startContainer);i||(i=n.startContainer.childNodes[n.startOffset]),!i&&e.wysiwyg.element.children.length===0&&(i=e.wysiwyg.element),i&&!i.classList.contains("vditor-wysiwyg__block")&&(n.insertNode(document.createElement("wbr")),i.innerHTML.trim()==="<wbr>"&&(i.innerHTML="<wbr><br>"),i.tagName==="BLOCKQUOTE"||i.classList.contains("vditor-reset")?i.innerHTML="<".concat(t,' data-block="0">').concat(i.innerHTML.trim(),"</").concat(t,">"):i.outerHTML="<".concat(t,' data-block="0">').concat(i.innerHTML.trim(),"</").concat(t,">"),(0,B.ib)(e.wysiwyg.element,n),bt(e))},Vn=function(e){var t=getSelection().getRangeAt(0),n=(0,d.F9)(t.startContainer);n||(n=t.startContainer.childNodes[t.startOffset]),n&&(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'.concat(n.innerHTML,"</p>"),(0,B.ib)(e.wysiwyg.element,t)),e.wysiwyg.popover.style.display="none"},Tn=function(e,t,n){n===void 0&&(n=!0);var i=e.previousElementSibling,a=i.ownerDocument.createRange();i.tagName==="CODE"?(i.style.display="inline-block",n?a.setStart(i.firstChild,1):a.selectNodeContents(i)):(i.style.display="block",i.firstChild.firstChild||i.firstChild.appendChild(document.createTextNode("")),a.selectNodeContents(i.firstChild)),n?a.collapse(!0):a.collapse(!1),(0,B.Hc)(a),!e.firstElementChild.classList.contains("language-mindmap")&&nt(t)},Mi=function(e,t){if(e.wysiwyg.composingLock=t.isComposing,t.isComposing)return!1;t.key.indexOf("Arrow")===-1&&t.key!=="Meta"&&t.key!=="Control"&&t.key!=="Alt"&&t.key!=="Shift"&&t.key!=="CapsLock"&&t.key!=="Escape"&&!/^F\d{1,2}$/.test(t.key)&&e.undo.recordFirstPosition(e,t);var n=(0,B.zh)(e),i=n.startContainer;if(!Nt(t,e,i)||(pr(n,e,t),va(n),t.key!=="Enter"&&t.key!=="Tab"&&t.key!=="Backspace"&&t.key.indexOf("Arrow")===-1&&!(0,u.yl)(t)&&t.key!=="Escape"&&t.key!=="Delete"))return!1;var a=(0,d.F9)(i),s=(0,d.lG)(i,"P");if(Jt(t,e,s,n)||Fe(n,e,s,t)||Be(e,t,n))return!0;var h=(0,d.fb)(i,"vditor-wysiwyg__block");if(h){if(t.key==="Escape"&&h.children.length===2)return e.wysiwyg.popover.style.display="none",h.firstElementChild.style.display="none",e.wysiwyg.element.blur(),t.preventDefault(),!0;if(!(0,u.yl)(t)&&!t.shiftKey&&t.altKey&&t.key==="Enter"&&h.getAttribute("data-type")==="code-block"){var C=e.wysiwyg.popover.querySelector(".vditor-input");return C.focus(),C.select(),t.preventDefault(),!0}if(h.getAttribute("data-block")==="0"&&(ft(e,t,h.firstElementChild,n)||On(e,t,n,h.firstElementChild,h)||h.getAttribute("data-type")!=="yaml-front-matter"&&zt(e,t,n,h.firstElementChild,h)))return!0}if(Bt(e,n,t,s))return!0;var O=(0,d.E2)(i,"BLOCKQUOTE");if(O&&!t.shiftKey&&t.altKey&&t.key==="Enter"){(0,u.yl)(t)?n.setStartBefore(O):n.setStartAfter(O),(0,B.Hc)(n);var T=document.createElement("p");return T.setAttribute("data-block","0"),T.innerHTML=`
`,n.insertNode(T),n.collapse(!0),(0,B.Hc)(n),Ve(e),nt(e),t.preventDefault(),!0}var H=(0,R.W)(i);if(H){if(H.tagName==="H6"&&i.textContent.length===n.startOffset&&!(0,u.yl)(t)&&!t.shiftKey&&!t.altKey&&t.key==="Enter"){var U=document.createElement("p");return U.textContent=`
`,U.setAttribute("data-block","0"),i.parentElement.insertAdjacentElement("afterend",U),n.setStart(U,0),(0,B.Hc)(n),Ve(e),nt(e),t.preventDefault(),!0}if(j("⌘=",t)){var Y=parseInt(H.tagName.substr(1),10)-1;return Y>0&&($n(e,"h".concat(Y)),Ve(e)),t.preventDefault(),!0}if(j("⌘-",t)){var Y=parseInt(H.tagName.substr(1),10)+1;return Y<7&&($n(e,"h".concat(Y)),Ve(e)),t.preventDefault(),!0}t.key==="Backspace"&&!(0,u.yl)(t)&&!t.shiftKey&&!t.altKey&&H.textContent.length===1&&Vn(e)}if(Kr(e,n,t))return!0;if(t.altKey&&t.key==="Enter"&&!(0,u.yl)(t)&&!t.shiftKey){var Q=(0,d.lG)(i,"A"),J=(0,d.a1)(i,"data-type","link-ref"),me=(0,d.a1)(i,"data-type","footnotes-ref");if(Q||J||me||H&&H.tagName.length===2){var ie=e.wysiwyg.popover.querySelector("input");ie.focus(),ie.select()}}if(wt(e,t))return!0;if(j("⇧⌘U",t)){var X=e.wysiwyg.popover.querySelector('[data-type="up"]');if(X)return X.click(),t.preventDefault(),!0}if(j("⇧⌘D",t)){var X=e.wysiwyg.popover.querySelector('[data-type="down"]');if(X)return X.click(),t.preventDefault(),!0}if(mn(e,n,t))return!0;if(!(0,u.yl)(t)&&t.shiftKey&&!t.altKey&&t.key==="Enter"&&i.parentElement.tagName!=="LI"&&i.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(i.parentElement.tagName)?n.insertNode(document.createTextNode(`
`+g.g.ZWSP)):n.insertNode(document.createTextNode(`
`)),n.collapse(!1),(0,B.Hc)(n),Ve(e),nt(e),t.preventDefault(),!0;if(t.key==="Backspace"&&!(0,u.yl)(t)&&!t.shiftKey&&!t.altKey&&n.toString()===""){if(Wr(e,n,t,s))return!0;if(a){if(a.previousElementSibling&&a.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&a.previousElementSibling.getAttribute("data-block")==="0"&&a.tagName!=="UL"&&a.tagName!=="OL"){var ve=(0,B.im)(a,e.wysiwyg.element,n).start;if(ve===0&&n.startOffset===0||ve===1&&a.innerText.startsWith(g.g.ZWSP))return Tn(a.previousElementSibling.lastElementChild,e,!1),a.innerHTML.trim().replace(g.g.ZWSP,"")===""&&(a.remove(),Ve(e)),t.preventDefault(),!0}var ue=n.startOffset;if(n.toString()===""&&i.nodeType===3&&i.textContent.charAt(ue-2)===`
`&&i.textContent.charAt(ue-1)!==g.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(i.parentElement.tagName))return i.textContent=i.textContent.substring(0,ue-1)+g.g.ZWSP,n.setStart(i,ue),n.collapse(!0),Ve(e),t.preventDefault(),!0;i.textContent===g.g.ZWSP&&n.startOffset===1&&!i.previousSibling&&Un(n)&&(i.textContent=""),a.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(Xe){Xe.firstElementChild.style.display="inline",Xe.lastElementChild.style.display="none"}),a.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(Xe){Xe.firstElementChild.style.display="inline",Xe.lastElementChild.style.display="none"})}}if((0,u.vU)()&&n.startOffset===1&&i.textContent.indexOf(g.g.ZWSP)>-1&&i.previousSibling&&i.previousSibling.nodeType!==3&&i.previousSibling.tagName==="CODE"&&(t.key==="Backspace"||t.key==="ArrowLeft"))return n.selectNodeContents(i.previousSibling),n.collapse(!1),t.preventDefault(),!0;if(_a(t,a,n))return t.preventDefault(),!0;if(hr(n,t.key),t.key==="ArrowDown"){var Te=i.nextSibling;Te&&Te.nodeType!==3&&Te.getAttribute("data-type")==="math-inline"&&n.setStartAfter(Te)}return a&&tn(a,e,t,n)?(t.preventDefault(),!0):!1},wt=function(e,t){if(j("⇧⌘X",t)){var n=e.wysiwyg.popover.querySelector('[data-type="remove"]');return n&&n.click(),t.preventDefault(),!0}},Ft=function(e){clearTimeout(e.wysiwyg.hlToolbarTimeoutId),e.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(e.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,B.Gb)(e.wysiwyg.element)){b(e.toolbar.elements,g.g.EDIT_TOOLBARS),w(e.toolbar.elements,g.g.EDIT_TOOLBARS);var t=getSelection().getRangeAt(0),n=t.startContainer;t.startContainer.nodeType===3?n=t.startContainer.parentElement:n=n.childNodes[t.startOffset>=n.childNodes.length?n.childNodes.length-1:t.startOffset];var i=(0,d.a1)(n,"data-type","footnotes-block");if(i){e.wysiwyg.popover.innerHTML="",ut(i,e),Ct(e,i);return}var a=(0,d.lG)(n,"LI");a?(a.classList.contains("vditor-task")?y(e.toolbar.elements,["check"]):a.parentElement.tagName==="OL"?y(e.toolbar.elements,["ordered-list"]):a.parentElement.tagName==="UL"&&y(e.toolbar.elements,["list"]),w(e.toolbar.elements,["outdent","indent"])):m(e.toolbar.elements,["outdent","indent"]),(0,d.lG)(n,"BLOCKQUOTE")&&y(e.toolbar.elements,["quote"]),((0,d.lG)(n,"B")||(0,d.lG)(n,"STRONG"))&&y(e.toolbar.elements,["bold"]),((0,d.lG)(n,"I")||(0,d.lG)(n,"EM"))&&y(e.toolbar.elements,["italic"]),((0,d.lG)(n,"STRIKE")||(0,d.lG)(n,"S"))&&y(e.toolbar.elements,["strike"]),e.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(fe){fe.classList.remove("vditor-comment--focus")});var s=(0,d.fb)(n,"vditor-comment");if(s){var h=s.getAttribute("data-cmtids").split(" ");if(h.length>1&&s.nextSibling.isSameNode(s.nextElementSibling)){var C=s.nextElementSibling.getAttribute("data-cmtids").split(" ");h.find(function(fe){if(C.includes(fe))return h=[fe],!0})}e.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(fe){fe.getAttribute("data-cmtids").indexOf(h[0])>-1&&fe.classList.add("vditor-comment--focus")})}var O=(0,d.lG)(n,"A");O&&y(e.toolbar.elements,["link"]);var T=(0,d.lG)(n,"TABLE"),H=(0,R.W)(n);(0,d.lG)(n,"CODE")?(0,d.lG)(n,"PRE")?(m(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),y(e.toolbar.elements,["code"])):(m(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),y(e.toolbar.elements,["inline-code"])):H?(m(e.toolbar.elements,["bold"]),y(e.toolbar.elements,["headings"])):T&&m(e.toolbar.elements,["table"]);var U=(0,d.fb)(n,"vditor-toc");if(U){e.wysiwyg.popover.innerHTML="",ut(U,e),Ct(e,U);return}var Y=(0,R.S)(n,"BLOCKQUOTE");if(Y&&(e.wysiwyg.popover.innerHTML="",fn(t,Y,e),nn(t,Y,e),ut(Y,e),Ct(e,Y)),a&&(e.wysiwyg.popover.innerHTML="",fn(t,a,e),nn(t,a,e),ut(a,e),Ct(e,a)),T){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="";var Q=function(){var fe=T.rows.length,Ie=T.rows[0].cells.length,yn=parseInt(lt.value,10)||fe,bn=parseInt(Pt.value,10)||Ie;if(!(yn===fe&&Ie===bn)){if(Ie!==bn)for(var br=bn-Ie,Zt=0;Zt<T.rows.length;Zt++)if(br>0)for(var Oa=0;Oa<br;Oa++)Zt===0?T.rows[Zt].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):T.rows[Zt].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var Pi=Ie-1;Pi>=bn;Pi--)T.rows[Zt].cells[Pi].remove();if(fe!==yn){var Ra=yn-fe;if(Ra>0){for(var Ii="<tr>",Jn=0;Jn<bn;Jn++)Ii+="<td> </td>";for(var Da=0;Da<Ra;Da++)T.querySelector("tbody")?T.querySelector("tbody").insertAdjacentHTML("beforeend",Ii):T.querySelector("thead").insertAdjacentHTML("afterend",Ii+"</tr>")}else for(var Jn=fe-1;Jn>=yn;Jn--)T.rows[Jn].remove(),T.rows.length===1&&T.querySelector("tbody").remove()}typeof e.options.input=="function"&&e.options.input(x(e))}},J=function(fe){hn(T,fe),fe==="right"?(ve.classList.remove("vditor-icon--current"),ue.classList.remove("vditor-icon--current"),Te.classList.add("vditor-icon--current")):fe==="center"?(ve.classList.remove("vditor-icon--current"),Te.classList.remove("vditor-icon--current"),ue.classList.add("vditor-icon--current")):(ue.classList.remove("vditor-icon--current"),Te.classList.remove("vditor-icon--current"),ve.classList.add("vditor-icon--current")),(0,B.Hc)(t),Ve(e)},me=(0,d.lG)(n,"TD"),ie=(0,d.lG)(n,"TH"),X="left";me?X=me.getAttribute("align")||"left":ie&&(X=ie.getAttribute("align")||"center");var ve=document.createElement("button");ve.setAttribute("type","button"),ve.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,u.ns)("⇧⌘L")+">"),ve.setAttribute("data-type","left"),ve.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',ve.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(X==="left"?" vditor-icon--current":""),ve.onclick=function(){J("left")};var ue=document.createElement("button");ue.setAttribute("type","button"),ue.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,u.ns)("⇧⌘C")+">"),ue.setAttribute("data-type","center"),ue.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',ue.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(X==="center"?" vditor-icon--current":""),ue.onclick=function(){J("center")};var Te=document.createElement("button");Te.setAttribute("type","button"),Te.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,u.ns)("⇧⌘R")+">"),Te.setAttribute("data-type","right"),Te.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',Te.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(X==="right"?" vditor-icon--current":""),Te.onclick=function(){J("right")};var Xe=document.createElement("button");Xe.setAttribute("type","button"),Xe.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,u.ns)("⌘=")+">"),Xe.setAttribute("data-type","insertRow"),Xe.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',Xe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Xe.onclick=function(){var fe=getSelection().getRangeAt(0).startContainer,Ie=(0,d.lG)(fe,"TD")||(0,d.lG)(fe,"TH");Ie&&Kn(e,t,Ie)};var qe=document.createElement("button");qe.setAttribute("type","button"),qe.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,u.ns)("⇧⌘F")+">"),qe.setAttribute("data-type","insertRow"),qe.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',qe.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",qe.onclick=function(){var fe=getSelection().getRangeAt(0).startContainer,Ie=(0,d.lG)(fe,"TD")||(0,d.lG)(fe,"TH");Ie&&Wn(e,t,Ie)};var Ze=document.createElement("button");Ze.setAttribute("type","button"),Ze.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,u.ns)("⇧⌘=")+">"),Ze.setAttribute("data-type","insertColumn"),Ze.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',Ze.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Ze.onclick=function(){var fe=getSelection().getRangeAt(0).startContainer,Ie=(0,d.lG)(fe,"TD")||(0,d.lG)(fe,"TH");Ie&&oe(e,T,Ie)};var Mt=document.createElement("button");Mt.setAttribute("type","button"),Mt.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,u.ns)("⇧⌘G")+">"),Mt.setAttribute("data-type","insertColumn"),Mt.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',Mt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Mt.onclick=function(){var fe=getSelection().getRangeAt(0).startContainer,Ie=(0,d.lG)(fe,"TD")||(0,d.lG)(fe,"TH");Ie&&oe(e,T,Ie,"beforebegin")};var yt=document.createElement("button");yt.setAttribute("type","button"),yt.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,u.ns)("⌘-")+">"),yt.setAttribute("data-type","deleteRow"),yt.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',yt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",yt.onclick=function(){var fe=getSelection().getRangeAt(0).startContainer,Ie=(0,d.lG)(fe,"TD")||(0,d.lG)(fe,"TH");Ie&&ye(e,t,Ie)};var xt=document.createElement("button");xt.setAttribute("type","button"),xt.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,u.ns)("⇧⌘-")+">"),xt.setAttribute("data-type","deleteColumn"),xt.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',xt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",xt.onclick=function(){var fe=getSelection().getRangeAt(0).startContainer,Ie=(0,d.lG)(fe,"TD")||(0,d.lG)(fe,"TH");Ie&&Oe(e,t,T,Ie)};var Ne=document.createElement("span");Ne.setAttribute("aria-label",window.VditorI18n.row),Ne.className="vditor-tooltipped vditor-tooltipped__n";var lt=document.createElement("input");Ne.appendChild(lt),lt.type="number",lt.min="1",lt.className="vditor-input",lt.style.width="42px",lt.style.textAlign="center",lt.setAttribute("placeholder",window.VditorI18n.row),lt.value=T.rows.length.toString(),lt.oninput=function(){Q()},lt.onkeydown=function(fe){if(!fe.isComposing){if(fe.key==="Tab"){Pt.focus(),Pt.select(),fe.preventDefault();return}wt(e,fe)||Ce(fe,t)}};var Jr=document.createElement("span");Jr.setAttribute("aria-label",window.VditorI18n.column),Jr.className="vditor-tooltipped vditor-tooltipped__n";var Pt=document.createElement("input");Jr.appendChild(Pt),Pt.type="number",Pt.min="1",Pt.className="vditor-input",Pt.style.width="42px",Pt.style.textAlign="center",Pt.setAttribute("placeholder",window.VditorI18n.column),Pt.value=T.rows[0].cells.length.toString(),Pt.oninput=function(){Q()},Pt.onkeydown=function(fe){if(!fe.isComposing){if(fe.key==="Tab"){lt.focus(),lt.select(),fe.preventDefault();return}wt(e,fe)||Ce(fe,t)}},fn(t,T,e),nn(t,T,e),ut(T,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",ve),e.wysiwyg.popover.insertAdjacentElement("beforeend",ue),e.wysiwyg.popover.insertAdjacentElement("beforeend",Te),e.wysiwyg.popover.insertAdjacentElement("beforeend",qe),e.wysiwyg.popover.insertAdjacentElement("beforeend",Xe),e.wysiwyg.popover.insertAdjacentElement("beforeend",Mt),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ze),e.wysiwyg.popover.insertAdjacentElement("beforeend",yt),e.wysiwyg.popover.insertAdjacentElement("beforeend",xt),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ne),e.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),e.wysiwyg.popover.insertAdjacentElement("beforeend",Jr),Ct(e,T)}var Hi=(0,d.a1)(n,"data-type","link-ref");Hi&&sr(e,Hi,t);var Gn=(0,d.a1)(n,"data-type","footnotes-ref");if(Gn){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="";var Ne=document.createElement("span");Ne.setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,u.ns)("⌥Enter")+">"),Ne.className="vditor-tooltipped vditor-tooltipped__n";var on=document.createElement("input");Ne.appendChild(on),on.className="vditor-input",on.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,u.ns)("⌥Enter")+">"),on.style.width="120px",on.value=Gn.getAttribute("data-footnotes-label"),on.oninput=function(){on.value.trim()!==""&&Gn.setAttribute("data-footnotes-label",on.value),typeof e.options.input=="function"&&e.options.input(x(e))},on.onkeydown=function(Ie){Ie.isComposing||wt(e,Ie)||Ce(Ie,t)},ut(Gn,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ne),Ct(e,Gn)}var ht=(0,d.fb)(n,"vditor-wysiwyg__block"),Ma=ht?ht.getAttribute("data-type").indexOf("block")>-1:!1;if(e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(fe){if(!ht||ht&&Ma&&!ht.contains(fe)){var Ie=fe.previousElementSibling;Ie.style.display="none"}}),ht&&Ma){if(e.wysiwyg.popover.innerHTML="",fn(t,ht,e),nn(t,ht,e),ut(ht,e),ht.getAttribute("data-type")==="code-block"){var Zr=document.createElement("span");Zr.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,u.ns)("⌥Enter")+">"),Zr.className="vditor-tooltipped vditor-tooltipped__n";var Kt=document.createElement("input");Zr.appendChild(Kt);var yr=ht.firstElementChild.firstElementChild;Kt.className="vditor-input",Kt.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,u.ns)("⌥Enter")+">"),Kt.value=yr.className.indexOf("language-")>-1?yr.className.split("-")[1].split(" ")[0]:"",Kt.oninput=function(fe){Kt.value.trim()!==""?yr.className="language-".concat(Kt.value):(yr.className="",e.hint.recentLanguage=""),ht.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(ht.lastElementChild.innerHTML=ht.firstElementChild.innerHTML,Ye(ht.lastElementChild,e)),Ve(e),fe.detail===1&&(t.setStart(yr.firstChild,0),t.collapse(!0),(0,B.Hc)(t))},Kt.onkeydown=function(fe){if(!fe.isComposing&&!wt(e,fe)){if(fe.key==="Escape"&&e.hint.element.style.display==="block"){e.hint.element.style.display="none",fe.preventDefault();return}e.hint.select(fe,e),Ce(fe,t)}},Kt.onkeyup=function(fe){var Ie,yn;if(!(fe.isComposing||fe.key==="Enter"||fe.key==="ArrowUp"||fe.key==="Escape"||fe.key==="ArrowDown")){var bn=[],br=Kt.value.substring(0,Kt.selectionStart);(e.options.preview.hljs.langs||g.g.ALIAS_CODE_LANGUAGES.concat(((yn=(Ie=window.hljs)===null||Ie===void 0?void 0:Ie.listLanguages())!==null&&yn!==void 0?yn:[]).sort())).forEach(function(Zt){Zt.indexOf(br.toLowerCase())>-1&&bn.push({html:Zt,value:Zt})}),e.hint.genHTML(bn,br,e),fe.preventDefault()}},e.wysiwyg.popover.insertAdjacentElement("beforeend",Zr)}Ct(e,ht)}else ht=void 0;if(H){e.wysiwyg.popover.innerHTML="";var Ne=document.createElement("span");Ne.setAttribute("aria-label","ID<"+(0,u.ns)("⌥Enter")+">"),Ne.className="vditor-tooltipped vditor-tooltipped__n";var gn=document.createElement("input");Ne.appendChild(gn),gn.className="vditor-input",gn.setAttribute("placeholder","ID<"+(0,u.ns)("⌥Enter")+">"),gn.style.width="120px",gn.value=H.getAttribute("data-id")||"",gn.oninput=function(){H.setAttribute("data-id",gn.value),typeof e.options.input=="function"&&e.options.input(x(e))},gn.onkeydown=function(Ie){Ie.isComposing||wt(e,Ie)||Ce(Ie,t)},fn(t,H,e),nn(t,H,e),ut(H,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",Ne),Ct(e,H)}if(O&&G(e,O,t),!Y&&!a&&!T&&!ht&&!O&&!Hi&&!Gn&&!H&&!U){var Xn=(0,d.a1)(n,"data-block","0");Xn&&Xn.parentElement.isEqualNode(e.wysiwyg.element)?(e.wysiwyg.popover.innerHTML="",fn(t,Xn,e),nn(t,Xn,e),ut(Xn,e),Ct(e,Xn)):e.wysiwyg.popover.style.display="none"}e.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(fe){fe.style.display="none"});var xa=(0,d.a1)(t.startContainer,"data-type","backslash");xa&&(xa.querySelector("span").style.display="inline")}},200)},Ct=function(e,t){var n=t,i=(0,d.lG)(t,"TABLE");i&&(n=i),e.wysiwyg.popover.style.left="0",e.wysiwyg.popover.style.display="block",e.wysiwyg.popover.style.top=Math.max(-8,n.offsetTop-21-e.wysiwyg.element.scrollTop)+"px",e.wysiwyg.popover.style.left=Math.min(n.offsetLeft,e.wysiwyg.element.clientWidth-e.wysiwyg.popover.clientWidth)+"px",e.wysiwyg.popover.setAttribute("data-top",(n.offsetTop-21).toString())},sr=function(e,t,n){n===void 0&&(n=getSelection().getRangeAt(0)),e.wysiwyg.popover.innerHTML="";var i=function(){s.value.trim()!==""&&(t.tagName==="IMG"?t.setAttribute("alt",s.value):t.textContent=s.value),C.value.trim()!==""&&t.setAttribute("data-link-label",C.value),typeof e.options.input=="function"&&e.options.input(x(e))},a=document.createElement("span");a.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),a.className="vditor-tooltipped vditor-tooltipped__n";var s=document.createElement("input");a.appendChild(s),s.className="vditor-input",s.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),s.style.width="120px",s.value=t.getAttribute("alt")||t.textContent,s.oninput=function(){i()},s.onkeydown=function(O){wt(e,O)||Ce(O,n)||P(e,t,O,C)};var h=document.createElement("span");h.setAttribute("aria-label",window.VditorI18n.linkRef),h.className="vditor-tooltipped vditor-tooltipped__n";var C=document.createElement("input");h.appendChild(C),C.className="vditor-input",C.setAttribute("placeholder",window.VditorI18n.linkRef),C.value=t.getAttribute("data-link-label"),C.oninput=function(){i()},C.onkeydown=function(O){wt(e,O)||Ce(O,n)||P(e,t,O,s)},ut(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",a),e.wysiwyg.popover.insertAdjacentElement("beforeend",h),Ct(e,t)},fn=function(e,t,n){var i=t.previousElementSibling;if(!(!i||!t.parentElement.isEqualNode(n.wysiwyg.element)&&t.tagName!=="LI")){var a=document.createElement("button");a.setAttribute("type","button"),a.setAttribute("data-type","up"),a.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,u.ns)("⇧⌘U")+">"),a.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',a.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",a.onclick=function(){e.insertNode(document.createElement("wbr")),i.insertAdjacentElement("beforebegin",t),(0,B.ib)(n.wysiwyg.element,e),Ve(n),Ft(n),nt(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",a)}},nn=function(e,t,n){var i=t.nextElementSibling;if(!(!i||!t.parentElement.isEqualNode(n.wysiwyg.element)&&t.tagName!=="LI")){var a=document.createElement("button");a.setAttribute("type","button"),a.setAttribute("data-type","down"),a.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,u.ns)("⇧⌘D")+">"),a.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',a.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",a.onclick=function(){e.insertNode(document.createElement("wbr")),i.insertAdjacentElement("afterend",t),(0,B.ib)(n.wysiwyg.element,e),Ve(n),Ft(n),nt(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",a)}},ut=function(e,t){var n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("data-type","remove"),n.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,u.ns)("⇧⌘X")+">"),n.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',n.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",n.onclick=function(){var i=(0,B.zh)(t);i.setStartAfter(e),(0,B.Hc)(i),e.remove(),Ve(t),Ft(t),["H1","H2","H3","H4","H5","H6"].includes(e.tagName)&&bt(t)},t.wysiwyg.popover.insertAdjacentElement("beforeend",n)},P=function(e,t,n,i){if(!n.isComposing){if(n.key==="Tab"){i.focus(),i.select(),n.preventDefault();return}if(!(0,u.yl)(n)&&!n.shiftKey&&n.altKey&&n.key==="Enter"){var a=(0,B.zh)(e);t.insertAdjacentHTML("afterend",g.g.ZWSP),a.setStartAfter(t.nextSibling),a.collapse(!0),(0,B.Hc)(a),n.preventDefault()}}},G=function(e,t,n){e.wysiwyg.popover.innerHTML="";var i=function(){s.value.trim()!==""&&(t.innerHTML=s.value),t.setAttribute("href",C.value),t.setAttribute("title",T.value),Ve(e)};t.querySelectorAll("[data-marker]").forEach(function(H){H.removeAttribute("data-marker")});var a=document.createElement("span");a.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),a.className="vditor-tooltipped vditor-tooltipped__n";var s=document.createElement("input");a.appendChild(s),s.className="vditor-input",s.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),s.style.width="120px",s.value=t.innerHTML||"",s.oninput=function(){i()},s.onkeydown=function(H){wt(e,H)||Ce(H,n)||P(e,t,H,C)};var h=document.createElement("span");h.setAttribute("aria-label",window.VditorI18n.link),h.className="vditor-tooltipped vditor-tooltipped__n";var C=document.createElement("input");h.appendChild(C),C.className="vditor-input",C.setAttribute("placeholder",window.VditorI18n.link),C.value=t.getAttribute("href")||"",C.oninput=function(){i()},C.onkeydown=function(H){wt(e,H)||Ce(H,n)||P(e,t,H,T)};var O=document.createElement("span");O.setAttribute("aria-label",window.VditorI18n.tooltipText),O.className="vditor-tooltipped vditor-tooltipped__n";var T=document.createElement("input");O.appendChild(T),T.className="vditor-input",T.setAttribute("placeholder",window.VditorI18n.tooltipText),T.style.width="60px",T.value=t.getAttribute("title")||"",T.oninput=function(){i()},T.onkeydown=function(H){wt(e,H)||Ce(H,n)||P(e,t,H,s)},ut(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",a),e.wysiwyg.popover.insertAdjacentElement("beforeend",h),e.wysiwyg.popover.insertAdjacentElement("beforeend",O),Ct(e,t)},ae=function(e,t){var n=e.target;t.wysiwyg.popover.innerHTML="";var i=function(){n.setAttribute("src",s.value),n.setAttribute("alt",C.value),n.setAttribute("title",T.value),typeof t.options.input=="function"&&t.options.input(x(t))},a=document.createElement("span");a.setAttribute("aria-label",window.VditorI18n.imageURL),a.className="vditor-tooltipped vditor-tooltipped__n";var s=document.createElement("input");a.appendChild(s),s.className="vditor-input",s.setAttribute("placeholder",window.VditorI18n.imageURL),s.value=n.getAttribute("src")||"",s.oninput=function(){i()},s.onkeydown=function(H){wt(t,H)};var h=document.createElement("span");h.setAttribute("aria-label",window.VditorI18n.alternateText),h.className="vditor-tooltipped vditor-tooltipped__n";var C=document.createElement("input");h.appendChild(C),C.className="vditor-input",C.setAttribute("placeholder",window.VditorI18n.alternateText),C.style.width="52px",C.value=n.getAttribute("alt")||"",C.oninput=function(){i()},C.onkeydown=function(H){wt(t,H)};var O=document.createElement("span");O.setAttribute("aria-label",window.VditorI18n.title),O.className="vditor-tooltipped vditor-tooltipped__n";var T=document.createElement("input");O.appendChild(T),T.className="vditor-input",T.setAttribute("placeholder",window.VditorI18n.title),T.value=n.getAttribute("title")||"",T.oninput=function(){i()},T.onkeydown=function(H){wt(t,H)},ut(n,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",a),t.wysiwyg.popover.insertAdjacentElement("beforeend",h),t.wysiwyg.popover.insertAdjacentElement("beforeend",O),Ct(t,n)},Ce=function(e,t){if(!(0,u.yl)(e)&&!e.shiftKey&&e.key==="Enter"||e.key==="Escape")return t&&(0,B.Hc)(t),e.preventDefault(),e.stopPropagation(),!0},ze=function(e){e.currentMode==="wysiwyg"?Ft(e):e.currentMode==="ir"&&Dt(e)},Qe=function(e,t,n){n===void 0&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var i=e.wysiwyg.element;i.innerHTML=e.lute.Md2VditorDOM(t),i.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(a){Ye(a,e),a.previousElementSibling.setAttribute("style","display:none")}),Ve(e,n)},ge=function(e,t,n){for(var i=e.startContainer.parentElement,a=!1,s="",h="",C=Ai(e),O=C.beforeHTML,T=C.afterHTML;i&&!a;){var H=i.tagName;if(H==="STRIKE"&&(H="S"),H==="I"&&(H="EM"),H==="B"&&(H="STRONG"),H==="S"||H==="STRONG"||H==="EM"){var U="",Y="",Q="";i.parentElement.getAttribute("data-block")!=="0"&&(Y=Ur(i),Q=ar(i)),(O||Y)&&(U="".concat(Y,"<").concat(H,">").concat(O,"</").concat(H,">"),O=U),(n==="bold"&&H==="STRONG"||n==="italic"&&H==="EM"||n==="strikeThrough"&&H==="S")&&(U+="".concat(s).concat(g.g.ZWSP,"<wbr>").concat(h),a=!0),(T||Q)&&(T="<".concat(H,">").concat(T,"</").concat(H,">").concat(Q),U+=T),i.parentElement.getAttribute("data-block")!=="0"?(i=i.parentElement,i.innerHTML=U):(i.outerHTML=U,i=i.parentElement),s="<".concat(H,">")+s,h="</".concat(H,">")+h}else a=!0}(0,B.ib)(t.wysiwyg.element,e)},he=function(e,t,n){if(!(e.wysiwyg.composingLock&&n instanceof CustomEvent)){var i=!0,a=!0;e.wysiwyg.element.querySelector("wbr")&&e.wysiwyg.element.querySelector("wbr").remove();var s=(0,B.zh)(e),h=t.getAttribute("data-type");if(t.classList.contains("vditor-menu--current"))if(h==="strike"&&(h="strikeThrough"),h==="quote"){var C=(0,d.lG)(s.startContainer,"BLOCKQUOTE");C||(C=s.startContainer.childNodes[s.startOffset]),C&&(i=!1,t.classList.remove("vditor-menu--current"),s.insertNode(document.createElement("wbr")),C.outerHTML=C.innerHTML.trim()===""?'<p data-block="0">'.concat(C.innerHTML,"</p>"):C.innerHTML,(0,B.ib)(e.wysiwyg.element,s))}else if(h==="inline-code"){var O=(0,d.lG)(s.startContainer,"CODE");O||(O=s.startContainer.childNodes[s.startOffset]),O&&(O.outerHTML=O.innerHTML.replace(g.g.ZWSP,"")+"<wbr>",(0,B.ib)(e.wysiwyg.element,s))}else h==="link"?(s.collapsed&&s.selectNode(s.startContainer.parentElement),document.execCommand("unlink",!1,"")):h==="check"||h==="list"||h==="ordered-list"?(Rn(e,s,h),(0,B.ib)(e.wysiwyg.element,s),i=!1,t.classList.remove("vditor-menu--current")):(i=!1,t.classList.remove("vditor-menu--current"),s.toString()===""?ge(s,e,h):document.execCommand(h,!1,""));else{e.wysiwyg.element.childNodes.length===0&&(e.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,B.ib)(e.wysiwyg.element,s));var T=(0,d.F9)(s.startContainer);if(h==="quote"){if(T||(T=s.startContainer.childNodes[s.startOffset]),T){i=!1,t.classList.add("vditor-menu--current"),s.insertNode(document.createElement("wbr"));var H=(0,d.lG)(s.startContainer,"LI");H&&T.contains(H)?H.innerHTML='<blockquote data-block="0">'.concat(H.innerHTML,"</blockquote>"):T.outerHTML='<blockquote data-block="0">'.concat(T.outerHTML,"</blockquote>"),(0,B.ib)(e.wysiwyg.element,s)}}else if(h==="check"||h==="list"||h==="ordered-list")Rn(e,s,h,!1),(0,B.ib)(e.wysiwyg.element,s),i=!1,b(e.toolbar.elements,["check","list","ordered-list"]),t.classList.add("vditor-menu--current");else if(h==="inline-code"){if(s.toString()===""){var U=document.createElement("code");U.textContent=g.g.ZWSP,s.insertNode(U),s.setStart(U.firstChild,1),s.collapse(!0),(0,B.Hc)(s)}else if(s.startContainer.nodeType===3){var U=document.createElement("code");s.surroundContents(U),s.insertNode(U),(0,B.Hc)(s)}t.classList.add("vditor-menu--current")}else if(h==="code"){var U=document.createElement("div");U.className="vditor-wysiwyg__block",U.setAttribute("data-type","code-block"),U.setAttribute("data-block","0"),U.setAttribute("data-marker","```"),s.toString()===""?U.innerHTML=`<pre><code><wbr>
</code></pre>`:(U.innerHTML="<pre><code>".concat(s.toString(),"<wbr></code></pre>"),s.deleteContents()),s.insertNode(U),T&&(T.outerHTML=e.lute.SpinVditorDOM(T.outerHTML)),(0,B.ib)(e.wysiwyg.element,s),e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(Xe){Ye(Xe,e)}),t.classList.add("vditor-menu--disabled")}else if(h==="link"){if(s.toString()===""){var Y=document.createElement("a");Y.innerText=g.g.ZWSP,s.insertNode(Y),s.setStart(Y.firstChild,1),s.collapse(!0),G(e,Y,s);var Q=e.wysiwyg.popover.querySelector("input");Q.value="",Q.focus(),a=!1}else{var U=document.createElement("a");U.setAttribute("href",""),U.innerHTML=s.toString(),s.surroundContents(U),s.insertNode(U),(0,B.Hc)(s),G(e,U,s);var J=e.wysiwyg.popover.querySelectorAll("input");J[0].value=U.innerText,J[1].focus()}i=!1,t.classList.add("vditor-menu--current")}else if(h==="table"){var me='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(s.toString().trim()==="")T&&T.innerHTML.trim().replace(g.g.ZWSP,"")===""?T.outerHTML=me:document.execCommand("insertHTML",!1,me),s.selectNode(e.wysiwyg.element.querySelector("wbr").previousSibling),e.wysiwyg.element.querySelector("wbr").remove(),(0,B.Hc)(s);else{me='<table data-block="0"><thead><tr>';var ie=s.toString().split(`
`),X=ie[0].split(",").length>ie[0].split("	").length?",":"	";ie.forEach(function(Te,Xe){Xe===0?(Te.split(X).forEach(function(qe,Ze){Ze===0?me+="<th>".concat(qe,"<wbr></th>"):me+="<th>".concat(qe,"</th>")}),me+="</tr></thead>"):(Xe===1?me+="<tbody><tr>":me+="<tr>",Te.split(X).forEach(function(qe){me+="<td>".concat(qe,"</td>")}),me+="</tr>")}),me+="</tbody></table>",document.execCommand("insertHTML",!1,me),(0,B.ib)(e.wysiwyg.element,s)}i=!1,t.classList.add("vditor-menu--disabled")}else if(h==="line"){if(T){var ve=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;T.innerHTML.trim()===""?T.outerHTML=ve:T.insertAdjacentHTML("afterend",ve),(0,B.ib)(e.wysiwyg.element,s)}}else if(i=!1,t.classList.add("vditor-menu--current"),h==="strike"&&(h="strikeThrough"),s.toString()===""&&(h==="bold"||h==="italic"||h==="strikeThrough")){var ue="strong";h==="italic"?ue="em":h==="strikeThrough"&&(ue="s");var U=document.createElement(ue);U.textContent=g.g.ZWSP,s.insertNode(U),U.previousSibling&&U.previousSibling.textContent===g.g.ZWSP&&(U.previousSibling.textContent=""),s.setStart(U.firstChild,1),s.collapse(!0),(0,B.Hc)(s)}else document.execCommand(h,!1,"")}i&&Ft(e),a&&Ve(e)}},ce=function(){function e(t,n){var i,a=this;this.element=document.createElement("div"),n.className&&(i=this.element.classList).add.apply(i,n.className.split(" "));var s=n.hotkey?" <".concat((0,u.ns)(n.hotkey),">"):"";n.level===2&&(s=n.hotkey?" &lt;".concat((0,u.ns)(n.hotkey),"&gt;"):"");var h=n.tip?n.tip+s:"".concat(window.VditorI18n[n.name]).concat(s),C=n.name==="upload"?"div":"button";if(n.level===2)this.element.innerHTML="<".concat(C,' data-type="').concat(n.name,'">').concat(h,"</").concat(C,">");else{this.element.classList.add("vditor-toolbar__item");var O=document.createElement(C);O.setAttribute("data-type",n.name),O.className="vditor-tooltipped vditor-tooltipped__".concat(n.tipPosition),O.setAttribute("aria-label",h),O.innerHTML=n.icon,this.element.appendChild(O)}n.prefix&&this.element.children[0].addEventListener((0,u.Le)(),function(T){T.preventDefault(),!a.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)&&(t.currentMode==="wysiwyg"?he(t,a.element.children[0],T):t.currentMode==="ir"?Bs(t,a.element.children[0],n.prefix||"",n.suffix||""):xi(t,a.element.children[0],n.prefix||"",n.suffix||""))})}return e}(),st=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ke=function(e,t,n){var i;if(typeof n!="string"?(S(e,["subToolbar","hint"]),n.preventDefault(),i=x(e)):i=n,!(e.currentMode===t&&typeof n!="string")){if(e.devtools&&e.devtools.renderEchart(e),e.options.preview.mode==="both"&&t==="sv"?e.preview.element.style.display="block":e.preview.element.style.display="none",w(e.toolbar.elements,g.g.EDIT_TOOLBARS),b(e.toolbar.elements,g.g.EDIT_TOOLBARS),m(e.toolbar.elements,["outdent","indent"]),t==="ir")k(e.toolbar.elements,["both"]),L(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="block",e.lute.SetVditorIR(!0),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!1),e.currentMode="ir",e.ir.element.innerHTML=e.lute.Md2VditorIRDOM(i),an(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),At(e),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(s){Ye(s,e)}),e.ir.element.querySelectorAll(".vditor-toc").forEach(function(s){(0,Se.H)(s,{cdn:e.options.cdn,math:e.options.preview.math})});else if(t==="wysiwyg")k(e.toolbar.elements,["both"]),L(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="block",e.ir.element.parentElement.style.display="none",e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!0),e.lute.SetVditorSV(!1),e.currentMode="wysiwyg",At(e),Qe(e,i,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),e.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(s){(0,Se.H)(s,{cdn:e.options.cdn,math:e.options.preview.math})}),e.wysiwyg.popover.style.display="none";else if(t==="sv"){L(e.toolbar.elements,["both"]),k(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="none",(e.options.preview.mode==="both"||e.options.preview.mode==="editor")&&(e.sv.element.style.display="block"),e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!0),e.currentMode="sv";var a=qt(i,e);a==="<div data-block='0'></div>"&&(a=""),e.sv.element.innerHTML=a,be(e.sv.element),it(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),At(e)}e.undo.resetIcon(e),typeof n!="string"&&(e[e.currentMode].element.focus(),ze(e)),bt(e),kn(e),e.toolbar.elements["edit-mode"]&&(e.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(s){s.classList.remove("vditor-menu--current")}),e.toolbar.elements["edit-mode"].querySelector('button[data-mode="'.concat(e.currentMode,'"]')).classList.add("vditor-menu--current")),e.outline.toggle(e,e.currentMode!=="sv"&&e.options.outline.enable,typeof n!="string")}},Ln=function(e){st(t,e);function t(n,i){var a=e.call(this,n,i)||this,s=document.createElement("div");return s.className="vditor-hint".concat(i.level===2?"":" vditor-panel--arrow"),s.innerHTML='<button data-mode="wysiwyg">'.concat(window.VditorI18n.wysiwyg," &lt;").concat((0,u.ns)("⌥⌘7"),`></button>
<button data-mode="ir">`).concat(window.VditorI18n.instantRendering," &lt;").concat((0,u.ns)("⌥⌘8"),`></button>
<button data-mode="sv">`).concat(window.VditorI18n.splitView," &lt;").concat((0,u.ns)("⌥⌘9"),"></button>"),a.element.appendChild(s),a._bindEvent(n,s,i),a}return t.prototype._bindEvent=function(n,i,a){var s=this.element.children[0];A(n,i,s,a.level),i.children.item(0).addEventListener((0,u.Le)(),function(h){Ke(n,"wysiwyg",h),h.preventDefault(),h.stopPropagation()}),i.children.item(1).addEventListener((0,u.Le)(),function(h){Ke(n,"ir",h),h.preventDefault(),h.stopPropagation()}),i.children.item(2).addEventListener((0,u.Le)(),function(h){Ke(n,"sv",h),h.preventDefault(),h.stopPropagation()})},t}(ce),rn=function(e,t){return(0,B.Gb)(e,t)?getSelection().toString():""},An=function(e,t){t.addEventListener("focus",function(){e.options.focus&&e.options.focus(x(e)),S(e,["subToolbar","hint"])})},$r=function(e,t){t.addEventListener("dblclick",function(n){n.target.tagName==="IMG"&&(e.options.image.preview?e.options.image.preview(n.target):e.options.image.isPreview&&(0,ne.E)(n.target,e.options.lang,e.options.theme))})},Mn=function(e,t){t.addEventListener("blur",function(n){if(e.currentMode==="ir"){var i=e.ir.element.querySelector(".vditor-ir__node--expand");i&&i.classList.remove("vditor-ir__node--expand")}else e.currentMode==="wysiwyg"&&!e.wysiwyg.selectPopover.contains(n.relatedTarget)&&e.wysiwyg.hideComment();e[e.currentMode].range=(0,B.zh)(e),e.options.blur&&e.options.blur(x(e))})},lr=function(e,t){t.addEventListener("dragstart",function(n){n.dataTransfer.setData(g.g.DROP_EDITOR,g.g.DROP_EDITOR)}),t.addEventListener("drop",function(n){n.dataTransfer.getData(g.g.DROP_EDITOR)?Ee(e):(n.dataTransfer.types.includes("Files")||n.dataTransfer.types.includes("text/html"))&&Gr(e,n,{pasteCode:function(i){document.execCommand("insertHTML",!1,i)}})})},cr=function(e,t,n){t.addEventListener("copy",function(i){return n(i,e)})},ur=function(e,t,n){t.addEventListener("cut",function(i){n(i,e),e.options.comment.enable&&e.currentMode==="wysiwyg"&&e.wysiwyg.getComments(e),document.execCommand("delete")})},nt=function(e){if(e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)),!!e.options.typewriterMode){var t=e[e.currentMode].element,n=(0,B.Ny)(t).top;e.options.height==="auto"&&!e.element.classList.contains("vditor--fullscreen")&&window.scrollTo(window.scrollX,n+e.element.offsetTop+e.toolbar.element.offsetHeight-window.innerHeight/2+10),(e.options.height!=="auto"||e.element.classList.contains("vditor--fullscreen"))&&(t.scrollTop=n+t.scrollTop-t.clientHeight/2+10)}},dn=function(e,t){t.addEventListener("keydown",function(n){if(!n.isComposing&&e.options.keydown&&e.options.keydown(n),!((e.options.hint.extend.length>1||e.toolbar.elements.emoji)&&e.hint.select(n,e))){if(e.options.comment.enable&&e.currentMode==="wysiwyg"&&(n.key==="Backspace"||j("⌘X",n))&&e.wysiwyg.getComments(e),e.currentMode==="sv"){if(He(e,n))return}else if(e.currentMode==="wysiwyg"){if(Mi(e,n))return}else if(e.currentMode==="ir"&&ke(e,n))return;if(e.options.ctrlEnter&&j("⌘Enter",n)){e.options.ctrlEnter(x(e)),n.preventDefault();return}if(j("⌘Z",n)&&!e.toolbar.elements.undo){e.undo.undo(e),n.preventDefault();return}if(j("⌘Y",n)&&!e.toolbar.elements.redo){e.undo.redo(e),n.preventDefault();return}if(n.key==="Escape"){e.hint.element.style.display==="block"?e.hint.element.style.display="none":e.options.esc&&!n.isComposing&&e.options.esc(x(e)),n.preventDefault();return}if((0,u.yl)(n)&&n.altKey&&!n.shiftKey&&/^Digit[1-6]$/.test(n.code)){if(e.currentMode==="wysiwyg"){var i=n.code.replace("Digit","H");(0,d.lG)(getSelection().getRangeAt(0).startContainer,i)?Vn(e):$n(e,i),Ve(e)}else e.currentMode==="sv"?Fr(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" "):e.currentMode==="ir"&&gr(e,"#".repeat(parseInt(n.code.replace("Digit",""),10))+" ");return n.preventDefault(),!0}if((0,u.yl)(n)&&n.altKey&&!n.shiftKey&&/^Digit[7-9]$/.test(n.code))return n.code==="Digit7"?Ke(e,"wysiwyg",n):n.code==="Digit8"?Ke(e,"ir",n):n.code==="Digit9"&&Ke(e,"sv",n),!0;e.options.toolbar.find(function(a){if(!a.hotkey||a.toolbar){if(a.toolbar){var s=a.toolbar.find(function(h){if(!h.hotkey)return!1;if(j(h.hotkey,n))return e.toolbar.elements[h.name].children[0].dispatchEvent(new CustomEvent((0,u.Le)())),n.preventDefault(),!0});return!!s}return!1}if(j(a.hotkey,n))return e.toolbar.elements[a.name].children[0].dispatchEvent(new CustomEvent((0,u.Le)())),n.preventDefault(),!0})}})},fr=function(e,t){t.addEventListener("selectstart",function(n){t.onmouseup=function(){setTimeout(function(){var i=rn(e[e.currentMode].element);i.trim()?(e.currentMode==="wysiwyg"&&e.options.comment.enable&&(!(0,d.a1)(n.target,"data-type","footnotes-block")&&!(0,d.a1)(n.target,"data-type","link-ref-defs-block")?e.wysiwyg.showComment():e.wysiwyg.hideComment()),e.options.select&&e.options.select(i)):(e.currentMode==="wysiwyg"&&e.options.comment.enable&&e.wysiwyg.hideComment(),typeof e.options.unSelect=="function"&&e.options.unSelect())})}})},dr=function(e,t){var n=(0,B.zh)(e);n.extractContents(),n.insertNode(document.createTextNode(Lute.Caret)),n.insertNode(document.createTextNode(t));var i=(0,d.a1)(n.startContainer,"data-block","0");i||(i=e.sv.element);var a=e.lute.SpinVditorSVDOM(i.textContent);a="<div data-block='0'>"+a.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",i.isEqualNode(e.sv.element)?i.innerHTML=a:i.outerHTML=a,be(e.sv.element),(0,B.ib)(e.sv.element,n),nt(e)},Fn=function(e,t,n){n===void 0&&(n=!0);var i=e;for(i.nodeType===3&&(i=i.parentElement);i;){if(i.getAttribute("data-type")===t)return i;n?i=i.previousElementSibling:i=i.nextElementSibling}return!1},qt=function(e,t){D("SpinVditorSVDOM",e,"argument",t.options.debugger);var n=t.lute.SpinVditorSVDOM(e);return e="<div data-block='0'>"+n.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",D("SpinVditorSVDOM",e,"result",t.options.debugger),e},Vr=function(e){var t=e.getAttribute("data-type"),n=e.previousElementSibling,i=t&&t!=="text"&&t!=="table"&&t!=="heading-marker"&&t!=="newline"&&t!=="yaml-front-matter-open-marker"&&t!=="yaml-front-matter-close-marker"&&t!=="code-block-info"&&t!=="code-block-close-marker"&&t!=="code-block-open-marker"?e.textContent:"",a=!1;for(t==="newline"&&(a=!0);n&&!a;){var s=n.getAttribute("data-type");if(s==="li-marker"||s==="blockquote-marker"||s==="task-marker"||s==="padding"){var h=n.textContent;if(s==="li-marker"&&(t==="code-block-open-marker"||t==="code-block-info"))i=h.replace(/\S/g," ")+i;else if(t==="code-block-close-marker"&&n.nextElementSibling.isSameNode(e)){var C=Fn(e,"code-block-open-marker");C&&C.previousElementSibling&&(n=C.previousElementSibling,i=h+i)}else i=h+i}else s==="newline"&&(a=!0);n=n.previousElementSibling}return i},it=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),e.preview.render(e);var n=x(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,u.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),clearTimeout(e.sv.processTimeoutId),e.sv.processTimeoutId=window.setTimeout(function(){t.enableAddUndoStack&&!e.sv.composingLock&&e.undo.addToUndoStack(e)},e.options.undoDelay)},Fr=function(e,t){var n=(0,B.zh)(e),i=(0,R.S)(n.startContainer,"SPAN");i&&i.textContent.trim()!==""&&(t=`
`+t),n.collapse(!0),document.execCommand("insertHTML",!1,t)},xi=function(e,t,n,i){var a=(0,B.zh)(e),s=t.getAttribute("data-type");e.sv.element.childNodes.length===0&&(e.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,B.ib)(e.sv.element,a));var h=(0,d.F9)(a.startContainer),C=(0,R.S)(a.startContainer,"SPAN");if(h){if(s==="link"){var O=void 0;a.toString()===""?O="".concat(n).concat(Lute.Caret).concat(i):O="".concat(n).concat(a.toString()).concat(i.replace(")",Lute.Caret+")")),document.execCommand("insertHTML",!1,O);return}else if(s==="italic"||s==="bold"||s==="strike"||s==="inline-code"||s==="code"||s==="table"||s==="line"){var O=void 0;a.toString()===""?O="".concat(n).concat(Lute.Caret).concat(s==="code"?"":i):O="".concat(n).concat(a.toString()).concat(Lute.Caret).concat(s==="code"?"":i),s==="table"||s==="code"&&C&&C.textContent!==""?O=`

`+O:s==="line"&&(O=`

`.concat(n,`
`).concat(Lute.Caret)),document.execCommand("insertHTML",!1,O);return}else if((s==="check"||s==="list"||s==="ordered-list"||s==="quote")&&C){var T="* ";s==="check"?T="* [ ] ":s==="ordered-list"?T="1. ":s==="quote"&&(T="> ");var H=Fn(C,"newline");H?H.insertAdjacentText("afterend",T):h.insertAdjacentText("afterbegin",T),le(e);return}(0,B.ib)(e.sv.element,a),it(e)}},qr=function(e){switch(e.currentMode){case"ir":return e.ir.element;case"wysiwyg":return e.wysiwyg.element;case"sv":return e.sv.element}},xn=function(e,t){e.options.upload.setHeaders&&(e.options.upload.headers=e.options.upload.setHeaders()),e.options.upload.headers&&Object.keys(e.options.upload.headers).forEach(function(n){t.setRequestHeader(n,e.options.upload.headers[n])})},Oi=function(e,t,n,i){function a(s){return s instanceof n?s:new n(function(h){h(s)})}return new(n||(n=Promise))(function(s,h){function C(H){try{T(i.next(H))}catch(U){h(U)}}function O(H){try{T(i.throw(H))}catch(U){h(U)}}function T(H){H.done?s(H.value):a(H.value).then(C,O)}T((i=i.apply(e,t||[])).next())})},ee=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,a,s,h;return h={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function C(T){return function(H){return O([T,H])}}function O(T){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,T[0]&&(n=0)),n;)try{if(i=1,a&&(s=T[0]&2?a.return:T[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,T[1])).done)return s;switch(a=0,s&&(T=[T[0]&2,s.value]),T[0]){case 0:case 1:s=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,a=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(T[0]===6||T[0]===2)){n=0;continue}if(T[0]===3&&(!s||T[1]>s[0]&&T[1]<s[3])){n.label=T[1];break}if(T[0]===6&&n.label<s[1]){n.label=s[1],s=T;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(T);break}s[2]&&n.ops.pop(),n.trys.pop();continue}T=t.call(e,n)}catch(H){T=[6,H],a=0}finally{i=s=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},_e=function(){function e(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"}return e}(),Pe=function(e,t){e.tip.hide();var n=[],i="",a="";e.options.lang,e.options;for(var s=function(T,H){var U=t[H],Y=!0;U.name||(i+="<li>".concat(window.VditorI18n.nameEmpty,"</li>"),Y=!1),U.size>e.options.upload.max&&(i+="<li>".concat(U.name," ").concat(window.VditorI18n.over," ").concat(e.options.upload.max/1024/1024,"M</li>"),Y=!1);var Q=U.name.lastIndexOf("."),J=U.name.substr(Q),me=e.options.upload.filename(U.name.substr(0,Q))+J;if(e.options.upload.accept){var ie=e.options.upload.accept.split(",").some(function(X){var ve=X.trim();if(ve.indexOf(".")===0){if(J.toLowerCase()===ve.toLowerCase())return!0}else if(U.type.split("/")[0]===ve.split("/")[0])return!0;return!1});ie||(i+="<li>".concat(U.name," ").concat(window.VditorI18n.fileTypeError,"</li>"),Y=!1)}Y&&(n.push(U),a+="<li>".concat(me," ").concat(window.VditorI18n.uploading,' <a class="vditorCancelUpload" href="javascript:void(0)">').concat(window.VditorI18n.cancelUpload,"</a></li>"))},h=t.length,C=0;C<h;C++)s(h,C);if(e.tip.show("<ul>".concat(i).concat(a,"</ul>")),e.options.upload.cancel){var O=e.tip.element.querySelector(".vditorCancelUpload");O&&O.addEventListener("click",function(){e.options.upload.cancel(n),e.tip.hide(),e.upload.isUploading=!1})}return n},We=function(e,t){var n=qr(t);n.focus();var i=JSON.parse(e),a="";i.code===1&&(a="".concat(i.msg)),i.data.errFiles&&i.data.errFiles.length>0&&(a="<ul><li>".concat(a,"</li>"),i.data.errFiles.forEach(function(h){var C=h.lastIndexOf("."),O=t.options.upload.filename(h.substr(0,C))+h.substr(C);a+="<li>".concat(O," ").concat(window.VditorI18n.uploadError,"</li>")}),a+="</ul>"),a?t.tip.show(a):t.tip.hide();var s="";Object.keys(i.data.succMap).forEach(function(h){var C=i.data.succMap[h],O=h.lastIndexOf("."),T=h.substr(O),H=t.options.upload.filename(h.substr(0,O))+T;T=T.toLowerCase(),T.indexOf(".wav")===0||T.indexOf(".mp3")===0||T.indexOf(".ogg")===0?t.currentMode==="wysiwyg"?s+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`.concat(C,'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="').concat(C,`"></audio></pre></div>
`):t.currentMode==="ir"?s+='<audio controls="controls" src="'.concat(C,`"></audio>
`):s+="[".concat(H,"](").concat(C,`)
`):T.indexOf(".apng")===0||T.indexOf(".bmp")===0||T.indexOf(".gif")===0||T.indexOf(".ico")===0||T.indexOf(".cur")===0||T.indexOf(".jpg")===0||T.indexOf(".jpeg")===0||T.indexOf(".jfif")===0||T.indexOf(".pjp")===0||T.indexOf(".pjpeg")===0||T.indexOf(".png")===0||T.indexOf(".svg")===0||T.indexOf(".webp")===0?t.currentMode==="wysiwyg"?s+='<img alt="'.concat(H,'" src="').concat(C,`">
`):s+="![".concat(H,"](").concat(C,`)
`):t.currentMode==="wysiwyg"?s+='<a href="'.concat(C,'">').concat(H,`</a>
`):s+="[".concat(H,"](").concat(C,`)
`)}),(0,B.Hc)(t.upload.range),document.execCommand("insertHTML",!1,s),t.upload.range=getSelection().getRangeAt(0).cloneRange()},rt=function(e,t,n){return Oi(void 0,void 0,void 0,function(){var i,a,J,s,h,h,C,O,T,H,U,Y,Q,J,me,ie;return ee(this,function(X){switch(X.label){case 0:for(i=[],a=e.options.upload.multiple===!0?t.length:1,J=0;J<a;J++)s=t[J],s instanceof DataTransferItem&&(s=s.getAsFile()),i.push(s);return e.options.upload.handler?[4,e.options.upload.handler(i)]:[3,2];case 1:return h=X.sent(),n&&(n.value=""),typeof h=="string"?(e.tip.show(h),[2]):[2];case 2:return!e.options.upload.url||!e.upload?(n&&(n.value=""),e.tip.show("please config: options.upload.url"),[2]):e.options.upload.file?[4,e.options.upload.file(i)]:[3,4];case 3:i=X.sent(),X.label=4;case 4:if(e.options.upload.validate&&(h=e.options.upload.validate(i),typeof h=="string"))return e.tip.show(h),[2];if(C=qr(e),e.upload.range=(0,B.zh)(e),O=Pe(e,i),O.length===0)return n&&(n.value=""),[2];for(T=new FormData,H=e.options.upload.extraData,U=0,Y=Object.keys(H);U<Y.length;U++)Q=Y[U],T.append(Q,H[Q]);for(J=0,me=O.length;J<me;J++)T.append(e.options.upload.fieldName,O[J]);return ie=new XMLHttpRequest,ie.open("POST",e.options.upload.url),e.options.upload.token&&ie.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(ie.withCredentials=!0),xn(e,ie),e.upload.isUploading=!0,C.setAttribute("contenteditable","false"),ie.onreadystatechange=function(){if(ie.readyState===XMLHttpRequest.DONE){if(e.upload.isUploading=!1,C.setAttribute("contenteditable","true"),ie.status>=200&&ie.status<300)if(e.options.upload.success)e.options.upload.success(C,ie.responseText);else{var ve=ie.responseText;e.options.upload.format&&(ve=e.options.upload.format(t,ie.responseText)),We(ve,e)}else e.options.upload.error?e.options.upload.error(ie.responseText):e.tip.show(ie.responseText);n&&(n.value=""),e.upload.element.style.display="none"}},ie.upload.onprogress=function(ve){if(ve.lengthComputable){var ue=ve.loaded/ve.total*100;e.upload.element.style.display="block";var Te=e.upload.element;Te.style.width=ue+"%"}},ie.send(T),[2]}})})},vt=function(e,t,n){var i,a=(0,d.F9)(t.startContainer);if(a||(a=e.wysiwyg.element),n&&n.inputType!=="formatItalic"&&n.inputType!=="deleteByDrag"&&n.inputType!=="insertFromDrop"&&n.inputType!=="formatBold"&&n.inputType!=="formatRemove"&&n.inputType!=="formatStrikeThrough"&&n.inputType!=="insertUnorderedList"&&n.inputType!=="insertOrderedList"&&n.inputType!=="formatOutdent"&&n.inputType!=="formatIndent"&&n.inputType!==""||!n){var s=un(t.startContainer);s&&s.remove(),e.wysiwyg.element.querySelectorAll("wbr").forEach(function(ue){ue.remove()}),t.insertNode(document.createElement("wbr")),a.querySelectorAll("[style]").forEach(function(ue){ue.removeAttribute("style")}),a.querySelectorAll(".vditor-comment").forEach(function(ue){ue.textContent.trim()===""&&(ue.classList.remove("vditor-comment","vditor-comment--focus"),ue.removeAttribute("data-cmtids"))}),(i=a.previousElementSibling)===null||i===void 0||i.querySelectorAll(".vditor-comment").forEach(function(ue){ue.textContent.trim()===""&&(ue.classList.remove("vditor-comment","vditor-comment--focus"),ue.removeAttribute("data-cmtids"))});var h="";a.getAttribute("data-type")==="link-ref-defs-block"&&(a=e.wysiwyg.element);var C=a.isEqualNode(e.wysiwyg.element),O=(0,d.a1)(a,"data-type","footnotes-block");if(C)h=a.innerHTML;else{var T=(0,d.O9)(t.startContainer);if(T&&!O){var H=(0,R.S)(t.startContainer,"BLOCKQUOTE");H?a=(0,d.F9)(t.startContainer)||a:a=T}if(O&&(a=O),h=a.outerHTML,a.tagName==="UL"||a.tagName==="OL"){var U=a.previousElementSibling,Y=a.nextElementSibling;U&&(U.tagName==="UL"||U.tagName==="OL")&&(h=U.outerHTML+h,U.remove()),Y&&(Y.tagName==="UL"||Y.tagName==="OL")&&(h=h+Y.outerHTML,Y.remove()),h=h.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}a.innerText.startsWith("```")||(e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(ue){ue&&!a.isEqualNode(ue)&&(h+=ue.outerHTML,ue.remove())}),e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(ue){ue&&!a.isEqualNode(ue)&&(h+=ue.outerHTML,ue.remove())}))}if(h=h.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""),h==='<p data-block="0">```<wbr></p>'&&e.hint.recentLanguage&&(h='<p data-block="0">```<wbr></p>'.replace("```","```"+e.hint.recentLanguage)),D("SpinVditorDOM",h,"argument",e.options.debugger),h=e.lute.SpinVditorDOM(h),D("SpinVditorDOM",h,"result",e.options.debugger),C)a.innerHTML=h;else if(a.outerHTML=h,O){var Q=(0,d.E2)(e.wysiwyg.element.querySelector("wbr"),"LI");if(Q){var J=e.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(Q.getAttribute("data-marker"),'"]'));J&&J.setAttribute("aria-label",Q.textContent.trim().substr(0,24))}}var me,ie=e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");ie.forEach(function(ue,Te){Te===0?me=ue:(me.insertAdjacentHTML("beforeend",ue.innerHTML),ue.remove())}),ie.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",ie[0]);var X,ve=e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");ve.forEach(function(ue,Te){Te===0?X=ue:(X.insertAdjacentHTML("beforeend",ue.innerHTML),ue.remove())}),ve.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",ve[0]),(0,B.ib)(e.wysiwyg.element,t),e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(ue){Ye(ue,e)}),n&&(n.inputType==="deleteContentBackward"||n.inputType==="deleteContentForward")&&e.options.comment.enable&&(e.wysiwyg.triggerRemoveComment(e),e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)))}bt(e),Ve(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},Xt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},qn=function(e,t,n,i){function a(s){return s instanceof n?s:new n(function(h){h(s)})}return new(n||(n=Promise))(function(s,h){function C(H){try{T(i.next(H))}catch(U){h(U)}}function O(H){try{T(i.throw(H))}catch(U){h(U)}}function T(H){H.done?s(H.value):a(H.value).then(C,O)}T((i=i.apply(e,t||[])).next())})},kt=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,a,s,h;return h={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function C(T){return function(H){return O([T,H])}}function O(T){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,T[0]&&(n=0)),n;)try{if(i=1,a&&(s=T[0]&2?a.return:T[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,T[1])).done)return s;switch(a=0,s&&(T=[T[0]&2,s.value]),T[0]){case 0:case 1:s=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,a=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(T[0]===6||T[0]===2)){n=0;continue}if(T[0]===3&&(!s||T[1]>s[0]&&T[1]<s[3])){n.label=T[1];break}if(T[0]===6&&n.label<s[1]){n.label=s[1],s=T;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(T);break}s[2]&&n.ops.pop(),n.trys.pop();continue}T=t.call(e,n)}catch(H){T=[6,H],a=0}finally{i=s=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Nt=function(e,t,n){if(e.keyCode===229&&e.code===""&&e.key==="Unidentified"&&t.currentMode!=="sv"){var i=(0,d.F9)(n);if(i&&i.textContent.trim()==="")return t[t.currentMode].composingLock=!0,!1}return!0},pr=function(e,t,n){if(!(n.key==="Enter"||n.key==="Tab"||n.key==="Backspace"||n.key.indexOf("Arrow")>-1||(0,u.yl)(n)||n.key==="Escape"||n.shiftKey||n.altKey)){var i=(0,d.lG)(e.startContainer,"P")||(0,d.lG)(e.startContainer,"LI");if(i&&(0,B.im)(i,t[t.currentMode].element,e).start===0){i.nodeValue&&(i.nodeValue=i.nodeValue.replace(/\u2006/g,""));var a=document.createTextNode(g.g.ZWSP);e.insertNode(a),e.setStartAfter(a)}}},hr=function(e,t){if(t==="ArrowDown"||t==="ArrowUp"){var n=(0,d.a1)(e.startContainer,"data-type","math-inline")||(0,d.a1)(e.startContainer,"data-type","html-entity")||(0,d.a1)(e.startContainer,"data-type","html-inline");n&&(t==="ArrowDown"&&e.setStartAfter(n.parentElement),t==="ArrowUp"&&e.setStartBefore(n.parentElement))}},pn=function(e,t){var n=(0,B.zh)(e),i=(0,d.F9)(n.startContainer);i&&(i.insertAdjacentHTML(t,'<p data-block="0">'.concat(g.g.ZWSP,`<wbr>
</p>`)),(0,B.ib)(e[e.currentMode].element,n),ze(e),Ee(e))},Ri=function(e){var t=(0,d.lG)(e,"TABLE");return t&&t.rows[0].cells[0].isSameNode(e)?t:!1},Di=function(e){var t=(0,d.lG)(e,"TABLE");return t&&t.lastElementChild.lastElementChild.lastElementChild.isSameNode(e)?t:!1},zr=function(e,t,n){n===void 0&&(n=!0);var i=e.previousElementSibling;return i||(e.parentElement.previousElementSibling?i=e.parentElement.previousElementSibling.lastElementChild:e.parentElement.parentElement.tagName==="TBODY"&&e.parentElement.parentElement.previousElementSibling?i=e.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:i=null),i&&(t.selectNodeContents(i),n||t.collapse(!1),(0,B.Hc)(t)),i},On=function(e,t,n,i,a){var s=(0,B.im)(i,e[e.currentMode].element,n);if(t.key==="ArrowDown"&&i.textContent.trimRight().substr(s.start).indexOf(`
`)===-1||t.key==="ArrowRight"&&s.start>=i.textContent.trimRight().length){var h=a.nextElementSibling;return!h||h&&(h.tagName==="TABLE"||h.getAttribute("data-type"))?(a.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(g.g.ZWSP,"<wbr></p>")),(0,B.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(h),n.collapse(!0),(0,B.Hc)(n)),t.preventDefault(),!0}return!1},zt=function(e,t,n,i,a){var s=(0,B.im)(i,e[e.currentMode].element,n);if(t.key==="ArrowUp"&&i.textContent.substr(0,s.start).indexOf(`
`)===-1||(t.key==="ArrowLeft"||t.key==="Backspace"&&n.toString()==="")&&s.start===0){var h=a.previousElementSibling;return!h||h&&(h.tagName==="TABLE"||h.getAttribute("data-type"))?(a.insertAdjacentHTML("beforebegin",'<p data-block="0">'.concat(g.g.ZWSP,"<wbr></p>")),(0,B.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(h),n.collapse(!1),(0,B.Hc)(n)),t.preventDefault(),!0}return!1},Rn=function(e,t,n,i){i===void 0&&(i=!0);var a=(0,d.lG)(t.startContainer,"LI");if(e[e.currentMode].element.querySelectorAll("wbr").forEach(function(H){H.remove()}),t.insertNode(document.createElement("wbr")),i&&a){for(var s="",h=0;h<a.parentElement.childElementCount;h++){var C=a.parentElement.children[h].querySelector("input");C&&C.remove(),s+='<p data-block="0">'.concat(a.parentElement.children[h].innerHTML.trimLeft(),"</p>")}a.parentElement.insertAdjacentHTML("beforebegin",s),a.parentElement.remove()}else if(a)if(n==="check")a.parentElement.querySelectorAll("li").forEach(function(H){H.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'.concat(H.textContent.indexOf(" ")===0?"":" ")),H.classList.add("vditor-task")});else{a.querySelector("input")&&a.parentElement.querySelectorAll("li").forEach(function(H){H.querySelector("input").remove(),H.classList.remove("vditor-task")});var T=void 0;n==="list"?(T=document.createElement("ul"),T.setAttribute("data-marker","*")):(T=document.createElement("ol"),T.setAttribute("data-marker","1.")),T.setAttribute("data-block","0"),T.setAttribute("data-tight",a.parentElement.getAttribute("data-tight")),T.innerHTML=a.parentElement.innerHTML,a.parentElement.parentNode.replaceChild(T,a.parentElement)}else{var O=(0,d.a1)(t.startContainer,"data-block","0");O||(e[e.currentMode].element.querySelector("wbr").remove(),O=e[e.currentMode].element.querySelector("p"),O.innerHTML="<wbr>"),n==="check"?(O.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '.concat(O.innerHTML,"</li></ul>")),O.remove()):n==="list"?(O.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'.concat(O.innerHTML,"</li></ul>")),O.remove()):n==="ordered-list"&&(O.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'.concat(O.innerHTML,"</li></ol>")),O.remove())}},Ht=function(e,t,n){var i=t.previousElementSibling;if(t&&i){var a=[t];Array.from(n.cloneContents().children).forEach(function(O,T){O.nodeType!==3&&t&&O.textContent.trim()!==""&&t.getAttribute("data-node-id")===O.getAttribute("data-node-id")&&(T!==0&&a.push(t),t=t.nextElementSibling)}),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(O){O.remove()}),n.insertNode(document.createElement("wbr"));var s=i.parentElement,h="";a.forEach(function(O){var T=O.getAttribute("data-marker");T.length!==1&&(T="1".concat(T.slice(-1))),h+='<li data-node-id="'.concat(O.getAttribute("data-node-id"),'" data-marker="').concat(T,'">').concat(O.innerHTML,"</li>"),O.remove()}),i.insertAdjacentHTML("beforeend","<".concat(s.tagName,' data-block="0">').concat(h,"</").concat(s.tagName,">")),e.currentMode==="wysiwyg"?s.outerHTML=e.lute.SpinVditorDOM(s.outerHTML):s.outerHTML=e.lute.SpinVditorIRDOM(s.outerHTML),(0,B.ib)(e[e.currentMode].element,n);var C=(0,d.O9)(n.startContainer);C&&C.querySelectorAll(".vditor-".concat(e.currentMode,"__preview[data-render='2']")).forEach(function(O){Ye(O,e),e.currentMode==="wysiwyg"&&O.previousElementSibling.setAttribute("style","display:none")}),Ee(e),ze(e)}else e[e.currentMode].element.focus()},mr=function(e,t,n,i){var a=(0,d.lG)(t.parentElement,"LI");if(a){e[e.currentMode].element.querySelectorAll("wbr").forEach(function(U){U.remove()}),n.insertNode(document.createElement("wbr"));var s=t.parentElement,h=s.cloneNode(),C=[t];Array.from(n.cloneContents().children).forEach(function(U,Y){U.nodeType!==3&&t&&U.textContent.trim()!==""&&t.getAttribute("data-node-id")===U.getAttribute("data-node-id")&&(Y!==0&&C.push(t),t=t.nextElementSibling)});var O=!1,T="";s.querySelectorAll("li").forEach(function(U){O&&(T+=U.outerHTML,!U.nextElementSibling&&!U.previousElementSibling?U.parentElement.remove():U.remove()),U.isSameNode(C[C.length-1])&&(O=!0)}),C.reverse().forEach(function(U){a.insertAdjacentElement("afterend",U)}),T&&(h.innerHTML=T,C[0].insertAdjacentElement("beforeend",h)),e.currentMode==="wysiwyg"?i.outerHTML=e.lute.SpinVditorDOM(i.outerHTML):i.outerHTML=e.lute.SpinVditorIRDOM(i.outerHTML),(0,B.ib)(e[e.currentMode].element,n);var H=(0,d.O9)(n.startContainer);H&&H.querySelectorAll(".vditor-".concat(e.currentMode,"__preview[data-render='2']")).forEach(function(U){Ye(U,e),e.currentMode==="wysiwyg"&&U.previousElementSibling.setAttribute("style","display:none")}),Ee(e),ze(e)}else e[e.currentMode].element.focus()},hn=function(e,t){for(var n=getSelection().getRangeAt(0).startContainer.parentElement,i=e.rows[0].cells.length,a=e.rows.length,s=0,h=0;h<a;h++)for(var C=0;C<i;C++)if(e.rows[h].cells[C].isSameNode(n)){s=C;break}for(var O=0;O<a;O++)e.rows[O].cells[s].setAttribute("align",t)},xe=function(e){var t=e.trimRight().split(`
`).pop();return t===""?!1:(t.replace(/ |-/g,"")===""||t.replace(/ |_/g,"")===""||t.replace(/ |\*/g,"")==="")&&t.replace(/ /g,"").length>2?!(t.indexOf("-")>-1&&t.trimLeft().indexOf(" ")===-1&&e.trimRight().split(`
`).length>1||t.indexOf("    ")===0||t.indexOf("	")===0):!1},zn=function(e){var t=e.trimRight().split(`
`);return e=t.pop(),e.indexOf("    ")===0||e.indexOf("	")===0||(e=e.trimLeft(),e===""||t.length===0)?!1:e.replace(/-/g,"")===""||e.replace(/=/g,"")===""},Ee=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),e.currentMode==="wysiwyg"?Ve(e,t):e.currentMode==="ir"?an(e,t):e.currentMode==="sv"&&it(e,t)},Fe=function(e,t,n,i){var a,s=e.startContainer,h=(0,d.lG)(s,"LI");if(h){if(!(0,u.yl)(i)&&!i.altKey&&i.key==="Enter"&&!i.shiftKey&&n&&h.contains(n)&&n.nextElementSibling)return h&&!h.textContent.endsWith(`
`)&&h.insertAdjacentText("beforeend",`
`),e.insertNode(document.createTextNode(`

`)),e.collapse(!1),Ee(t),i.preventDefault(),!0;if(!(0,u.yl)(i)&&!i.shiftKey&&!i.altKey&&i.key==="Backspace"&&!h.previousElementSibling&&e.toString()===""&&(0,B.im)(h,t[t.currentMode].element,e).start===0)return h.nextElementSibling?(h.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(h.innerHTML,"</p>")),h.remove()):h.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(h.innerHTML,"</p>"),(0,B.ib)(t[t.currentMode].element,e),Ee(t),i.preventDefault(),!0;if(!(0,u.yl)(i)&&!i.shiftKey&&!i.altKey&&i.key==="Backspace"&&h.textContent.trim().replace(g.g.ZWSP,"")===""&&e.toString()===""&&((a=h.previousElementSibling)===null||a===void 0?void 0:a.tagName)==="LI")return h.previousElementSibling.insertAdjacentText("beforeend",`

`),e.selectNodeContents(h.previousElementSibling),e.collapse(!1),h.remove(),(0,B.ib)(t[t.currentMode].element,e),Ee(t),i.preventDefault(),!0;if(!(0,u.yl)(i)&&!i.altKey&&i.key==="Tab"){var C=!1;if((e.startOffset===0&&(s.nodeType===3&&!s.previousSibling||s.nodeType!==3&&s.nodeName==="LI")||h.classList.contains("vditor-task")&&e.startOffset===1&&s.previousSibling.nodeType!==3&&s.previousSibling.tagName==="INPUT")&&(C=!0),C||e.toString()!=="")return i.shiftKey?mr(t,h,e,h.parentElement):Ht(t,h,e),i.preventDefault(),!0}}return!1},mn=function(e,t,n){if(e.options.tab&&n.key==="Tab")return n.shiftKey||(t.toString()===""?(t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1)):(t.extractContents(),t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1))),(0,B.Hc)(t),Ee(e),n.preventDefault(),!0},Jt=function(e,t,n,i){if(n){if(!(0,u.yl)(e)&&!e.altKey&&e.key==="Enter"){var a=String.raw(Ea||(Ea=Xt(["",""],["",""])),n.textContent).replace(/\\\|/g,"").trim(),s=a.split("|");if(a.startsWith("|")&&a.endsWith("|")&&s.length>3){var h=s.map(function(){return"---"}).join("|");return h=n.textContent+`
`+h.substring(3,h.length-3)+`
|<wbr>`,n.outerHTML=t.lute.SpinVditorDOM(h),(0,B.ib)(t[t.currentMode].element,i),Ee(t),nt(t),e.preventDefault(),!0}if(xe(n.innerHTML)&&n.previousElementSibling){var C="",O=n.innerHTML.trimRight().split(`
`);return O.length>1&&(O.pop(),C='<p data-block="0">'.concat(O.join(`
`),"</p>")),n.insertAdjacentHTML("afterend","".concat(C,`<hr data-block="0"><p data-block="0"><wbr>
</p>`)),n.remove(),(0,B.ib)(t[t.currentMode].element,i),Ee(t),nt(t),e.preventDefault(),!0}if(zn(n.innerHTML))return t.currentMode==="wysiwyg"?n.outerHTML=t.lute.SpinVditorDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`):n.outerHTML=t.lute.SpinVditorIRDOM(n.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,B.ib)(t[t.currentMode].element,i),Ee(t),nt(t),e.preventDefault(),!0}if(i.collapsed&&n.previousElementSibling&&e.key==="Backspace"&&!(0,u.yl)(e)&&!e.altKey&&!e.shiftKey&&n.textContent.trimRight().split(`
`).length>1&&(0,B.im)(n,t[t.currentMode].element,i).start===0){var T=(0,d.DX)(n.previousElementSibling);return T.textContent.endsWith(`
`)||(T.textContent=T.textContent+`
`),T.parentElement.insertAdjacentHTML("beforeend","<wbr>".concat(n.innerHTML)),n.remove(),(0,B.ib)(t[t.currentMode].element,i),!1}return!1}},Kn=function(e,t,n){for(var i="",a=0;a<n.parentElement.childElementCount;a++)i+='<td align="'.concat(n.parentElement.children[a].getAttribute("align"),'"> </td>');n.tagName==="TH"?n.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>".concat(i,"</tr></tbody>")):n.parentElement.insertAdjacentHTML("afterend","<tr>".concat(i,"</tr>")),Ee(e)},Wn=function(e,t,n){for(var i="",a=0;a<n.parentElement.childElementCount;a++)n.tagName==="TH"?i+='<th align="'.concat(n.parentElement.children[a].getAttribute("align"),'"> </th>'):i+='<td align="'.concat(n.parentElement.children[a].getAttribute("align"),'"> </td>');if(n.tagName==="TH"){n.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>".concat(i,"</tr></thead>")),t.insertNode(document.createElement("wbr"));var s=n.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");n.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",s),n.parentElement.parentElement.remove(),(0,B.ib)(e.ir.element,t)}else n.parentElement.insertAdjacentHTML("beforebegin","<tr>".concat(i,"</tr>"));Ee(e)},oe=function(e,t,n,i){i===void 0&&(i="afterend");for(var a=0,s=n.previousElementSibling;s;)a++,s=s.previousElementSibling;for(var h=0;h<t.rows.length;h++)h===0?t.rows[h].cells[a].insertAdjacentHTML(i,"<th> </th>"):t.rows[h].cells[a].insertAdjacentHTML(i,"<td> </td>");Ee(e)},ye=function(e,t,n){if(n.tagName==="TD"){var i=n.parentElement.parentElement;n.parentElement.previousElementSibling?t.selectNodeContents(n.parentElement.previousElementSibling.lastElementChild):t.selectNodeContents(i.previousElementSibling.lastElementChild.lastElementChild),i.childElementCount===1?i.remove():n.parentElement.remove(),t.collapse(!1),(0,B.Hc)(t),Ee(e)}},Oe=function(e,t,n,i){for(var a=0,s=i.previousElementSibling;s;)a++,s=s.previousElementSibling;(i.previousElementSibling||i.nextElementSibling)&&(t.selectNodeContents(i.previousElementSibling||i.nextElementSibling),t.collapse(!0));for(var h=0;h<n.rows.length;h++){var C=n.rows[h].cells;if(C.length===1){n.remove(),ze(e);break}C[a].remove()}(0,B.Hc)(t),Ee(e)},Be=function(e,t,n){var i=n.startContainer,a=(0,d.lG)(i,"TD")||(0,d.lG)(i,"TH");if(a){if(!(0,u.yl)(t)&&!t.altKey&&t.key==="Enter"){(!a.lastElementChild||a.lastElementChild&&(!a.lastElementChild.isSameNode(a.lastChild)||a.lastElementChild.tagName!=="BR"))&&a.insertAdjacentHTML("beforeend","<br>");var s=document.createElement("br");return n.insertNode(s),n.setStartAfter(s),Ee(e),nt(e),t.preventDefault(),!0}if(t.key==="Tab"){if(t.shiftKey)return zr(a,n),t.preventDefault(),!0;var h=a.nextElementSibling;return h||(a.parentElement.nextElementSibling?h=a.parentElement.nextElementSibling.firstElementChild:a.parentElement.parentElement.tagName==="THEAD"&&a.parentElement.parentElement.nextElementSibling?h=a.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:h=null),h&&(n.selectNodeContents(h),(0,B.Hc)(n)),t.preventDefault(),!0}var C=a.parentElement.parentElement.parentElement;if(t.key==="ArrowUp"){if(t.preventDefault(),a.tagName==="TH")return C.previousElementSibling?(n.selectNodeContents(C.previousElementSibling),n.collapse(!1),(0,B.Hc)(n)):pn(e,"beforebegin"),!0;for(var O=0,T=a.parentElement;O<T.cells.length&&!T.cells[O].isSameNode(a);O++);var H=T.previousElementSibling;return H||(H=T.parentElement.previousElementSibling.firstChild),n.selectNodeContents(H.cells[O]),n.collapse(!1),(0,B.Hc)(n),!0}if(t.key==="ArrowDown"){t.preventDefault();var T=a.parentElement;if(!T.nextElementSibling&&a.tagName==="TD")return C.nextElementSibling?(n.selectNodeContents(C.nextElementSibling),n.collapse(!0),(0,B.Hc)(n)):pn(e,"afterend"),!0;for(var O=0;O<T.cells.length&&!T.cells[O].isSameNode(a);O++);var h=T.nextElementSibling;return h||(h=T.parentElement.nextElementSibling.firstChild),n.selectNodeContents(h.cells[O]),n.collapse(!0),(0,B.Hc)(n),!0}if(e.currentMode==="wysiwyg"&&!(0,u.yl)(t)&&t.key==="Enter"&&!t.shiftKey&&t.altKey){var U=e.wysiwyg.popover.querySelector(".vditor-input");return U.focus(),U.select(),t.preventDefault(),!0}if(!(0,u.yl)(t)&&!t.shiftKey&&!t.altKey&&t.key==="Backspace"&&n.startOffset===0&&n.toString()===""){var Y=zr(a,n,!1);return!Y&&C&&(C.textContent.trim()===""?(C.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,B.ib)(e[e.currentMode].element,n)):(n.setStartBefore(C),n.collapse(!0)),Ee(e)),t.preventDefault(),!0}if(j("⇧⌘F",t))return Wn(e,n,a),t.preventDefault(),!0;if(j("⌘=",t))return Kn(e,n,a),t.preventDefault(),!0;if(j("⇧⌘G",t))return oe(e,C,a,"beforebegin"),t.preventDefault(),!0;if(j("⇧⌘=",t))return oe(e,C,a),t.preventDefault(),!0;if(j("⌘-",t))return ye(e,n,a),t.preventDefault(),!0;if(j("⇧⌘-",t))return Oe(e,n,C,a),t.preventDefault(),!0;if(j("⇧⌘L",t)){if(e.currentMode==="ir")return hn(C,"left"),Ee(e),t.preventDefault(),!0;var Q=e.wysiwyg.popover.querySelector('[data-type="left"]');if(Q)return Q.click(),t.preventDefault(),!0}if(j("⇧⌘C",t)){if(e.currentMode==="ir")return hn(C,"center"),Ee(e),t.preventDefault(),!0;var Q=e.wysiwyg.popover.querySelector('[data-type="center"]');if(Q)return Q.click(),t.preventDefault(),!0}if(j("⇧⌘R",t)){if(e.currentMode==="ir")return hn(C,"right"),Ee(e),t.preventDefault(),!0;var Q=e.wysiwyg.popover.querySelector('[data-type="right"]');if(Q)return Q.click(),t.preventDefault(),!0}}return!1},ft=function(e,t,n,i){if(n.tagName==="PRE"&&j("⌘A",t))return i.selectNodeContents(n.firstElementChild),t.preventDefault(),!0;if(e.options.tab&&t.key==="Tab"&&!t.shiftKey&&i.toString()==="")return i.insertNode(document.createTextNode(e.options.tab)),i.collapse(!1),Ee(e),t.preventDefault(),!0;if(t.key==="Backspace"&&!(0,u.yl)(t)&&!t.shiftKey&&!t.altKey){var a=(0,B.im)(n,e[e.currentMode].element,i);if((a.start===0||a.start===1&&n.innerText===`
`)&&i.toString()==="")return n.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(n.firstElementChild.innerHTML,"</p>"),(0,B.ib)(e[e.currentMode].element,i),Ee(e),t.preventDefault(),!0}return!(0,u.yl)(t)&&!t.altKey&&t.key==="Enter"?(n.firstElementChild.textContent.endsWith(`
`)||n.firstElementChild.insertAdjacentText("beforeend",`
`),i.extractContents(),i.insertNode(document.createTextNode(`
`)),i.collapse(!1),(0,B.Hc)(i),(0,u.vU)()||(e.currentMode==="wysiwyg"?vt(e,i):gt(e,i)),nt(e),t.preventDefault(),!0):!1},Bt=function(e,t,n,i){var a=t.startContainer,s=(0,d.lG)(a,"BLOCKQUOTE");if(s&&t.toString()===""){if(n.key==="Backspace"&&!(0,u.yl)(n)&&!n.shiftKey&&!n.altKey&&(0,B.im)(s,e[e.currentMode].element,t).start===0)return t.insertNode(document.createElement("wbr")),s.outerHTML=s.innerHTML,(0,B.ib)(e[e.currentMode].element,t),Ee(e),n.preventDefault(),!0;if(i&&n.key==="Enter"&&!(0,u.yl)(n)&&!n.shiftKey&&!n.altKey&&i.parentElement.tagName==="BLOCKQUOTE"){var h=!1;if(i.innerHTML.replace(g.g.ZWSP,"")===`
`||i.innerHTML.replace(g.g.ZWSP,"")===""?(h=!0,i.remove()):i.innerHTML.endsWith(`

`)&&(0,B.im)(i,e[e.currentMode].element,t).start===i.textContent.length-1&&(i.innerHTML=i.innerHTML.substr(0,i.innerHTML.length-2),h=!0),h)return s.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(g.g.ZWSP,`<wbr>
</p>`)),(0,B.ib)(e[e.currentMode].element,t),Ee(e),n.preventDefault(),!0}var C=(0,d.F9)(a);if(e.currentMode==="wysiwyg"&&C&&j("⇧⌘;",n))return t.insertNode(document.createElement("wbr")),C.outerHTML='<blockquote data-block="0">'.concat(C.outerHTML,"</blockquote>"),(0,B.ib)(e.wysiwyg.element,t),Ve(e),n.preventDefault(),!0;if(On(e,n,t,s,s)||zt(e,n,t,s,s))return!0}return!1},Kr=function(e,t,n){var i=t.startContainer,a=(0,d.lG)(i,"li");if(a&&a.classList.contains("vditor-task")){if(j("⇧⌘J",n)){var s=a.firstElementChild;return s.checked?s.removeAttribute("checked"):s.setAttribute("checked","checked"),Ee(e),n.preventDefault(),!0}if(n.key==="Backspace"&&!(0,u.yl)(n)&&!n.shiftKey&&!n.altKey&&t.toString()===""&&t.startOffset===1&&(i.nodeType===3&&i.previousSibling&&i.previousSibling.tagName==="INPUT"||i.nodeType!==3)){var h=a.previousElementSibling;if(a.querySelector("input").remove(),h){var C=(0,d.DX)(h);C.parentElement.insertAdjacentHTML("beforeend","<wbr>"+a.innerHTML.trim()),a.remove()}else a.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(a.innerHTML.trim()||`
`,"</p>")),a.nextElementSibling?a.remove():a.parentElement.remove();return(0,B.ib)(e[e.currentMode].element,t),Ee(e),n.preventDefault(),!0}if(n.key==="Enter"&&!(0,u.yl)(n)&&!n.shiftKey&&!n.altKey){if(a.textContent.trim()==="")if((0,d.fb)(a.parentElement,"vditor-task")){var O=(0,d.O9)(i);O&&mr(e,a,t,O)}else if(a.nextElementSibling){var T="",H="",U=!1;Array.from(a.parentElement.children).forEach(function(me){a.isSameNode(me)?U=!0:U?T+=me.outerHTML:H+=me.outerHTML});var Y=a.parentElement.tagName,Q=a.parentElement.tagName==="OL"?"":' data-marker="'.concat(a.parentElement.getAttribute("data-marker"),'"'),J="";H&&(J=a.parentElement.tagName==="UL"?"":' start="1"',H="<".concat(Y,' data-tight="true"').concat(Q,' data-block="0">').concat(H,"</").concat(Y,">")),a.parentElement.outerHTML="".concat(H,`<p data-block="0"><wbr>
</p><`).concat(Y,`
 data-tight="true"`).concat(Q,' data-block="0"').concat(J,">").concat(T,"</").concat(Y,">")}else a.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),a.parentElement.querySelectorAll("li").length===1?a.parentElement.remove():a.remove();else i.nodeType!==3&&t.startOffset===0&&i.firstChild.tagName==="INPUT"?t.setStart(i.childNodes[1],1):(t.setEndAfter(a.lastChild),a.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'.concat(a.getAttribute("data-marker"),'"><input type="checkbox"> <wbr></li>')),document.querySelector("wbr").after(t.extractContents()));return(0,B.ib)(e[e.currentMode].element,t),Ee(e),nt(e),n.preventDefault(),!0}}return!1},Wr=function(e,t,n,i){if(t.startContainer.nodeType!==3){var a=t.startContainer.children[t.startOffset];if(a&&a.tagName==="HR")return t.selectNodeContents(a.previousElementSibling),t.collapse(!1),n.preventDefault(),!0}if(i){var s=i.previousElementSibling;if(s&&(0,B.im)(i,e[e.currentMode].element,t).start===0&&((0,u.vU)()&&s.tagName==="HR"||s.tagName==="TABLE")){if(s.tagName==="TABLE"){var h=s.lastElementChild.lastElementChild.lastElementChild;h.innerHTML=h.innerHTML.trimLeft()+"<wbr>"+i.textContent.trim(),i.remove()}else s.remove();return(0,B.ib)(e[e.currentMode].element,t),Ee(e),n.preventDefault(),!0}}return!1},va=function(e){(0,u.vU)()&&e.startContainer.nodeType!==3&&e.startContainer.tagName==="HR"&&e.setStartBefore(e.startContainer)},_a=function(e,t,n){var i,a;if(!(0,u.vU)())return!1;if(e.key==="ArrowUp"&&t&&((i=t.previousElementSibling)===null||i===void 0?void 0:i.tagName)==="TABLE"){var s=t.previousElementSibling;return n.selectNodeContents(s.rows[s.rows.length-1].lastElementChild),n.collapse(!1),e.preventDefault(),!0}return e.key==="ArrowDown"&&t&&((a=t.nextElementSibling)===null||a===void 0?void 0:a.tagName)==="TABLE"?(n.selectNodeContents(t.nextElementSibling.rows[0].cells[0]),n.collapse(!0),e.preventDefault(),!0):!1},Gr=function(e,t,n){return qn(void 0,void 0,void 0,function(){var i,a,s,h,C,O,T,H,U,Y,Q,J,me,X,ie,X,ve;return kt(this,function(ue){switch(ue.label){case 0:return e[e.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(t.stopPropagation(),t.preventDefault(),"clipboardData"in t?(i=t.clipboardData.getData("text/html"),a=t.clipboardData.getData("text/plain"),s=t.clipboardData.files):(i=t.dataTransfer.getData("text/html"),a=t.dataTransfer.getData("text/plain"),t.dataTransfer.types.includes("Files")&&(s=t.dataTransfer.items)),h={},C=function(Te,Xe){if(!Xe)return["",Lute.WalkContinue];if(e.options.upload.renderLinkDest)return e.options.upload.renderLinkDest(e,Te,Xe);var qe=Te.TokensStr();if(Te.__internal_object__.Parent.Type===34&&qe&&qe.indexOf("file://")===-1&&e.options.upload.linkToImgUrl){var Ze=new XMLHttpRequest;Ze.open("POST",e.options.upload.linkToImgUrl),e.options.upload.token&&Ze.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(Ze.withCredentials=!0),xn(e,Ze),Ze.setRequestHeader("Content-Type","application/json; charset=utf-8"),Ze.onreadystatechange=function(){if(Ze.readyState===XMLHttpRequest.DONE){if(Ze.status===200){var Mt=Ze.responseText;e.options.upload.linkToImgFormat&&(Mt=e.options.upload.linkToImgFormat(Ze.responseText));var yt=JSON.parse(Mt);if(yt.code!==0){e.tip.show(yt.msg);return}var xt=yt.data.originalURL;if(e.currentMode==="sv")e.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(lt){lt.textContent===xt&&(lt.textContent=yt.data.url)});else{var Ne=e[e.currentMode].element.querySelector('img[src="'.concat(xt,'"]'));Ne.src=yt.data.url,e.currentMode==="ir"&&(Ne.previousElementSibling.previousElementSibling.innerHTML=yt.data.url)}Ee(e)}else e.tip.show(Ze.responseText);e.options.upload.linkToImgCallback&&e.options.upload.linkToImgCallback(Ze.responseText)}},Ze.send(JSON.stringify({url:qe}))}return e.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'.concat(Lute.EscapeHTMLStr(qe),"</span>"),Lute.WalkContinue]:e.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'.concat(Lute.EscapeHTMLStr(qe),"</span>"),Lute.WalkContinue]},(i.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<a href="'.concat(a,'">').concat(a,"</a>")||i.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<!--StartFragment--><a href="'.concat(a,'">').concat(a,"</a><!--EndFragment-->"))&&(i=""),O=new DOMParser().parseFromString(i,"text/html"),O.body&&(i=O.body.innerHTML),i=Lute.Sanitize(i),e.wysiwyg.getComments(e),T=e[e.currentMode].element.scrollHeight,H=ot(i,a,e.currentMode),U=e.currentMode==="sv"?(0,d.a1)(t.target,"data-type","code-block"):(0,d.lG)(t.target,"CODE"),U?(e.currentMode==="sv"?document.execCommand("insertHTML",!1,a.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(Y=(0,B.im)(t.target,e[e.currentMode].element),U.parentElement.tagName!=="PRE"&&(a+=g.g.ZWSP),U.textContent=U.textContent.substring(0,Y.start)+a+U.textContent.substring(Y.end),(0,B.$j)(Y.start+a.length,Y.start+a.length,U.parentElement),!((ve=U.parentElement)===null||ve===void 0)&&ve.nextElementSibling.classList.contains("vditor-".concat(e.currentMode,"__preview"))&&(U.parentElement.nextElementSibling.innerHTML=U.outerHTML,Ye(U.parentElement.nextElementSibling,e))),[3,8]):[3,1]);case 1:return H?(n.pasteCode(H),[3,8]):[3,2];case 2:return i.trim()===""?[3,3]:(Q=document.createElement("div"),Q.innerHTML=i,Q.querySelectorAll("[style]").forEach(function(Te){Te.removeAttribute("style")}),Q.querySelectorAll(".vditor-copy").forEach(function(Te){Te.remove()}),e.currentMode==="ir"?(h.HTML2VditorIRDOM={renderLinkDest:C},e.lute.SetJSRenderers({renderers:h}),(0,B.oC)(e.lute.HTML2VditorIRDOM(Q.innerHTML),e)):e.currentMode==="wysiwyg"?(h.HTML2VditorDOM={renderLinkDest:C},e.lute.SetJSRenderers({renderers:h}),(0,B.oC)(e.lute.HTML2VditorDOM(Q.innerHTML),e)):(h.Md2VditorSVDOM={renderLinkDest:C},e.lute.SetJSRenderers({renderers:h}),dr(e,e.lute.HTML2Md(Q.innerHTML).trimRight())),e.outline.render(e),[3,8]);case 3:return s.length>0?e.options.upload.url||e.options.upload.handler?[4,rt(e,s)]:[3,5]:[3,7];case 4:return ue.sent(),[3,6];case 5:J=new FileReader,"clipboardData"in t?(s=t.clipboardData.files,me=s[0]):t.dataTransfer.types.includes("Files")&&(s=t.dataTransfer.items,me=s[0].getAsFile()),me&&me.type.startsWith("image")&&(J.readAsDataURL(me),J.onload=function(){var Te="";e.currentMode==="wysiwyg"?Te+='<img alt="'.concat(me.name,'" src="').concat(J.result.toString(),`">
`):Te+="![".concat(me.name,"](").concat(J.result.toString(),`)
`),document.execCommand("insertHTML",!1,Te)}),ue.label=6;case 6:return[3,8];case 7:a.trim()!==""&&s.length===0&&(X=(0,B.zh)(e),X.toString()!==""&&e.lute.IsValidLinkDest(a)&&(a="[".concat(X.toString(),"](").concat(a,")")),e.currentMode==="ir"?(h.Md2VditorIRDOM={renderLinkDest:C},e.lute.SetJSRenderers({renderers:h}),(0,B.oC)(e.lute.Md2VditorIRDOM(a),e)):e.currentMode==="wysiwyg"?(h.Md2VditorDOM={renderLinkDest:C},e.lute.SetJSRenderers({renderers:h}),(0,B.oC)(e.lute.Md2VditorDOM(a),e)):(h.Md2VditorSVDOM={renderLinkDest:C},e.lute.SetJSRenderers({renderers:h}),dr(e,a)),e.outline.render(e)),ue.label=8;case 8:return e.currentMode!=="sv"&&(ie=(0,d.F9)((0,B.zh)(e).startContainer),ie&&(X=(0,B.zh)(e),e[e.currentMode].element.querySelectorAll("wbr").forEach(function(Te){Te.remove()}),X.insertNode(document.createElement("wbr")),e.currentMode==="wysiwyg"?ie.outerHTML=e.lute.SpinVditorDOM(ie.outerHTML):ie.outerHTML=e.lute.SpinVditorIRDOM(ie.outerHTML),(0,B.ib)(e[e.currentMode].element,X)),e[e.currentMode].element.querySelectorAll(".vditor-".concat(e.currentMode,"__preview[data-render='2']")).forEach(function(Te){Ye(Te,e)})),e.wysiwyg.triggerRemoveComment(e),Ee(e),e[e.currentMode].element.scrollHeight-T>Math.min(e[e.currentMode].element.clientHeight,window.innerHeight)/2&&nt(e),[2]}})})},Ea,Sa=function(e){var t,n;e.hint.render(e);var i=(0,B.zh)(e).startContainer,a=(0,d.a1)(i,"data-type","code-block-info");if(a)if(a.textContent.replace(g.g.ZWSP,"")===""&&e.hint.recentLanguage){a.textContent=g.g.ZWSP+e.hint.recentLanguage;var s=(0,B.zh)(e);s.selectNodeContents(a)}else{var h=[],C=a.textContent.substring(0,(0,B.im)(a,e.ir.element).start).replace(g.g.ZWSP,"");(e.options.preview.hljs.langs||g.g.ALIAS_CODE_LANGUAGES.concat(((n=(t=window.hljs)===null||t===void 0?void 0:t.listLanguages())!==null&&n!==void 0?n:[]).sort())).forEach(function(O){O.indexOf(C.toLowerCase())>-1&&h.push({html:O,value:O})}),e.hint.genHTML(h,C,e)}},an=function(e,t){t===void 0&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&Sa(e),clearTimeout(e.ir.processTimeoutId),e.ir.processTimeoutId=window.setTimeout(function(){if(!e.ir.composingLock){var n=x(e);typeof e.options.input=="function"&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,u.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}},e.options.undoDelay)},gr=function(e,t){var n=(0,B.zh)(e),i=(0,d.F9)(n.startContainer)||n.startContainer;if(i){var a=i.querySelector(".vditor-ir__marker--heading");a?a.innerHTML=t:(i.insertAdjacentText("afterbegin",t),n.selectNodeContents(i),n.collapse(!1)),gt(e,n.cloneRange()),Dt(e)}},Xr=function(e,t,n){var i=(0,d.a1)(e.startContainer,"data-type",n);if(i){i.firstElementChild.remove(),i.lastElementChild.remove(),e.insertNode(document.createElement("wbr"));var a=document.createElement("div");a.innerHTML=t.lute.SpinVditorIRDOM(i.outerHTML),i.outerHTML=a.firstElementChild.innerHTML.trim()}},Bs=function(e,t,n,i){var a=(0,B.zh)(e),s=t.getAttribute("data-type"),h=a.startContainer;h.nodeType===3&&(h=h.parentElement);var C=!0;if(t.classList.contains("vditor-menu--current"))if(s==="quote"){var O=(0,d.lG)(h,"BLOCKQUOTE");O&&(a.insertNode(document.createElement("wbr")),O.outerHTML=O.innerHTML.trim()===""?'<p data-block="0">'.concat(O.innerHTML,"</p>"):O.innerHTML)}else if(s==="link"){var T=(0,d.a1)(a.startContainer,"data-type","a");if(T){var H=(0,d.fb)(a.startContainer,"vditor-ir__link");H?(a.insertNode(document.createElement("wbr")),T.outerHTML=H.innerHTML):T.outerHTML=T.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else s==="italic"?Xr(a,e,"em"):s==="bold"?Xr(a,e,"strong"):s==="strike"?Xr(a,e,"s"):s==="inline-code"?Xr(a,e,"code"):(s==="check"||s==="list"||s==="ordered-list")&&(Rn(e,a,s),C=!1,t.classList.remove("vditor-menu--current"));else{e.ir.element.childNodes.length===0&&(e.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,B.ib)(e.ir.element,a));var U=(0,d.F9)(a.startContainer);if(s==="line"){if(U){var Y=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;U.innerHTML.trim()===""?U.outerHTML=Y:U.insertAdjacentHTML("afterend",Y)}}else if(s==="quote")U&&(a.insertNode(document.createElement("wbr")),U.outerHTML='<blockquote data-block="0">'.concat(U.outerHTML,"</blockquote>"),C=!1,t.classList.add("vditor-menu--current"));else if(s==="link"){var Q=void 0;a.toString()===""?Q="".concat(n,"<wbr>").concat(i):Q="".concat(n).concat(a.toString()).concat(i.replace(")","<wbr>)")),document.execCommand("insertHTML",!1,Q),C=!1,t.classList.add("vditor-menu--current")}else if(s==="italic"||s==="bold"||s==="strike"||s==="inline-code"||s==="code"||s==="table"){var Q=void 0;a.toString()===""?Q="".concat(n,"<wbr>").concat(i):(s==="code"?Q="".concat(n,`
`).concat(a.toString(),"<wbr>").concat(i):s==="table"?Q="".concat(n).concat(a.toString(),"<wbr>").concat(i):Q="".concat(n).concat(a.toString()).concat(i,"<wbr>"),a.deleteContents()),(s==="table"||s==="code")&&(Q=`
`+Q+`

`);var J=document.createElement("span");J.innerHTML=Q,a.insertNode(J),gt(e,a),s==="table"&&(a.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,B.Hc)(a))}else(s==="check"||s==="list"||s==="ordered-list")&&(Rn(e,a,s,!1),C=!1,b(e.toolbar.elements,["check","list","ordered-list"]),t.classList.add("vditor-menu--current"))}(0,B.ib)(e.ir.element,a),an(e),C&&Dt(e)},Us=function(e,t,n,i){function a(s){return s instanceof n?s:new n(function(h){h(s)})}return new(n||(n=Promise))(function(s,h){function C(H){try{T(i.next(H))}catch(U){h(U)}}function O(H){try{T(i.throw(H))}catch(U){h(U)}}function T(H){H.done?s(H.value):a(H.value).then(C,O)}T((i=i.apply(e,t||[])).next())})},$s=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,a,s,h;return h={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function C(T){return function(H){return O([T,H])}}function O(T){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,T[0]&&(n=0)),n;)try{if(i=1,a&&(s=T[0]&2?a.return:T[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,T[1])).done)return s;switch(a=0,s&&(T=[T[0]&2,s.value]),T[0]){case 0:case 1:s=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,a=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(T[0]===6||T[0]===2)){n=0;continue}if(T[0]===3&&(!s||T[1]>s[0]&&T[1]<s[3])){n.label=T[1];break}if(T[0]===6&&n.label<s[1]){n.label=s[1],s=T;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(T);break}s[2]&&n.ops.pop(),n.trys.pop();continue}T=t.call(e,n)}catch(H){T=[6,H],a=0}finally{i=s=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},Vs=function(){function e(t){var n=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(i,a){n.element.style.display="none";var s=decodeURIComponent(i.getAttribute("data-value")),h=window.getSelection().getRangeAt(0);if(a.currentMode==="ir"){var C=(0,d.a1)(h.startContainer,"data-type","code-block-info");if(C){C.textContent=g.g.ZWSP+s.trimRight(),h.selectNodeContents(C),h.collapse(!1),an(a),C.parentElement.querySelectorAll("code").forEach(function(U){U.className="language-"+s.trimRight()}),Ye(C.parentElement.querySelector(".vditor-ir__preview"),a),n.recentLanguage=s.trimRight();return}}if(a.currentMode==="wysiwyg"&&h.startContainer.nodeType!==3){var O=h.startContainer,T=void 0;if(O.classList.contains("vditor-input")?T=O:T=O.firstElementChild,T&&T.classList.contains("vditor-input")){T.value=s.trimRight(),h.selectNodeContents(T),h.collapse(!1),T.dispatchEvent(new CustomEvent("input",{detail:1})),n.recentLanguage=s.trimRight();return}}if(h.setStart(h.startContainer,n.lastIndex),h.deleteContents(),a.options.hint.parse?a.currentMode==="sv"?(0,B.oC)(a.lute.SpinVditorSVDOM(s),a):a.currentMode==="wysiwyg"?(0,B.oC)(a.lute.SpinVditorDOM(s),a):(0,B.oC)(a.lute.SpinVditorIRDOM(s),a):(0,B.oC)(s,a),n.splitChar===":"&&s.indexOf(":")>-1&&a.currentMode!=="sv"&&h.insertNode(document.createTextNode(" ")),h.collapse(!1),(0,B.Hc)(h),a.currentMode==="wysiwyg"){var H=(0,d.fb)(h.startContainer,"vditor-wysiwyg__block");H&&H.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(H.lastElementChild.innerHTML=H.firstElementChild.innerHTML,Ye(H.lastElementChild,a))}else if(a.currentMode==="ir"){var H=(0,d.fb)(h.startContainer,"vditor-ir__marker--pre");H&&H.nextElementSibling.classList.contains("vditor-ir__preview")&&(H.nextElementSibling.innerHTML=H.innerHTML,Ye(H.nextElementSibling,a))}Ee(a)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",t.push({key:":"})}return e.prototype.render=function(t){var n=this;if(window.getSelection().focusNode){var i,a=getSelection().getRangeAt(0);i=a.startContainer.textContent.substring(0,a.startOffset)||"";var s=this.getKey(i,t.options.hint.extend);if(typeof s>"u")this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var h=s===""?t.options.hint.emoji:t.lute.GetEmojis(),C=[];Object.keys(h).forEach(function(O){O.indexOf(s.toLowerCase())===0&&(h[O].indexOf(".")>-1?C.push({html:'<img src="'.concat(h[O],'" title=":').concat(O,':"/> :').concat(O,":"),value:":".concat(O,":")}):C.push({html:'<span class="vditor-hint__emoji">'.concat(h[O],"</span>").concat(O),value:h[O]}))}),this.genHTML(C,s,t)}else t.options.hint.extend.forEach(function(O){O.key===n.splitChar&&(clearTimeout(n.timeId),n.timeId=window.setTimeout(function(){return Us(n,void 0,void 0,function(){var T;return $s(this,function(H){switch(H.label){case 0:return T=this.genHTML,[4,O.hint(s)];case 1:return T.apply(this,[H.sent(),s,t]),[2]}})})},t.options.hint.delay))})}},e.prototype.genHTML=function(t,n,i){var a=this;if(t.length===0){this.element.style.display="none";return}var s=i[i.currentMode].element,h=(0,B.Ny)(s),C=h.left+(i.options.outline.position==="left"?i.outline.element.offsetWidth:0),O=h.top,T="";t.forEach(function(U,Y){if(!(Y>7)){var Q=U.html;if(n!==""){var J=Q.lastIndexOf(">")+1,me=Q.substr(J),ie=me.toLowerCase().indexOf(n.toLowerCase());ie>-1&&(me=me.substring(0,ie)+"<b>"+me.substring(ie,ie+n.length)+"</b>"+me.substring(ie+n.length),Q=Q.substr(0,J)+me)}T+='<button type="button" data-value="'.concat(encodeURIComponent(U.value),` "
`).concat(Y===0?"class='vditor-hint--current'":"","> ").concat(Q,"</button>")}}),this.element.innerHTML=T;var H=parseInt(document.defaultView.getComputedStyle(s,null).getPropertyValue("line-height"),10);this.element.style.top="".concat(O+(H||22),"px"),this.element.style.left="".concat(C,"px"),this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(U){U.addEventListener("click",function(Y){a.fillEmoji(U,i),Y.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top="".concat(O-this.element.offsetHeight,"px")),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")},e.prototype.select=function(t,n){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var i=this.element.querySelector(".vditor-hint--current");if(t.key==="ArrowDown")return t.preventDefault(),t.stopPropagation(),i.removeAttribute("class"),i.nextElementSibling?i.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(t.key==="ArrowUp"){if(t.preventDefault(),t.stopPropagation(),i.removeAttribute("class"),i.previousElementSibling)i.previousElementSibling.className="vditor-hint--current";else{var a=this.element.children.length;this.element.children[a-1].className="vditor-hint--current"}return!0}else if(!(0,u.yl)(t)&&!t.shiftKey&&!t.altKey&&t.key==="Enter"&&!t.isComposing)return t.preventDefault(),t.stopPropagation(),this.fillEmoji(i,n),!0;return!1},e.prototype.getKey=function(t,n){var i=this;this.lastIndex=-1,this.splitChar="",n.forEach(function(T){var H=t.lastIndexOf(T.key);i.lastIndex<H&&(i.splitChar=T.key,i.lastIndex=H)});var a;if(this.lastIndex===-1)return a;var s=t.split(this.splitChar),h=s[s.length-1],C=32;if(s.length>1&&h.trim()===h)if(s.length===2&&s[0]===""&&s[1].length<C)a=s[1];else{var O=s[s.length-2].slice(-1);(0,v.X)(O)===" "&&h.length<C&&(a=h)}return a},e}(),Fs=function(){function e(t){this.composingLock=!1;var n=document.createElement("div");n.className="vditor-ir",n.innerHTML='<pre class="vditor-reset" placeholder="'.concat(t.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>`),this.element=n.firstElementChild,this.bindEvent(t),An(t,this.element),$r(t,this.element),Mn(t,this.element),dn(t,this.element),fr(t,this.element),lr(t,this.element),cr(t,this.element,this.copy),ur(t,this.element,this.copy)}return e.prototype.copy=function(t,n){var i=getSelection().getRangeAt(0);if(i.toString()!==""){t.stopPropagation(),t.preventDefault();var a=document.createElement("div");a.appendChild(i.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorIRDOM2Md(a.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(i){Gr(t,i,{pasteCode:function(a){document.execCommand("insertHTML",!1,a)}})}),this.element.addEventListener("scroll",function(){S(t,["hint"])}),this.element.addEventListener("compositionstart",function(i){n.composingLock=!0}),this.element.addEventListener("compositionend",function(i){(0,u.vU)()||gt(t,getSelection().getRangeAt(0).cloneRange()),n.composingLock=!1}),this.element.addEventListener("input",function(i){if(!(i.inputType==="deleteByDrag"||i.inputType==="insertFromDrop")){if(n.preventInput){n.preventInput=!1,an(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}n.composingLock||i.data==="‘"||i.data==="“"||i.data==="《"||gt(t,getSelection().getRangeAt(0).cloneRange(),!1,i)}}),this.element.addEventListener("click",function(i){if(i.target.tagName==="INPUT"){i.target.checked?i.target.setAttribute("checked","checked"):i.target.removeAttribute("checked"),n.preventInput=!0,an(t);return}var a=(0,B.zh)(t),s=(0,d.fb)(i.target,"vditor-ir__preview");if(s||(s=(0,d.fb)(a.startContainer,"vditor-ir__preview")),s&&(s.previousElementSibling.firstElementChild?a.selectNodeContents(s.previousElementSibling.firstElementChild):a.selectNodeContents(s.previousElementSibling),a.collapse(!0),(0,B.Hc)(a),nt(t)),i.target.tagName==="IMG"){var h=i.target.parentElement.querySelector(".vditor-ir__marker--link");h&&(a.selectNode(h),(0,B.Hc)(a))}var C=(0,d.a1)(i.target,"data-type","a");if(C&&!C.classList.contains("vditor-ir__node--expand")){t.options.link.click?t.options.link.click(C.querySelector(":scope > .vditor-ir__marker--link")):t.options.link.isOpen&&window.open(C.querySelector(":scope > .vditor-ir__marker--link").textContent);return}if(i.target.isEqualNode(n.element)&&n.element.lastElementChild&&a.collapsed){var O=n.element.lastElementChild.getBoundingClientRect();i.y>O.top+O.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(g.g.ZWSP,"")===""?(a.selectNodeContents(n.element.lastElementChild),a.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(g.g.ZWSP,"<wbr></p>")),(0,B.ib)(n.element,a)))}a.toString()===""?q(a,t):setTimeout(function(){q((0,B.zh)(t),t)}),Vt(i,t),Dt(t)}),this.element.addEventListener("keyup",function(i){if(!(i.isComposing||(0,u.yl)(i))){if(i.key==="Enter"&&nt(t),Dt(t),(i.key==="Backspace"||i.key==="Delete")&&t.ir.element.innerHTML!==""&&t.ir.element.childNodes.length===1&&t.ir.element.firstElementChild&&t.ir.element.firstElementChild.tagName==="P"&&t.ir.element.firstElementChild.childElementCount===0&&(t.ir.element.textContent===""||t.ir.element.textContent===`
`)){t.ir.element.innerHTML="";return}var a=(0,B.zh)(t);i.key==="Backspace"?((0,u.vU)()&&a.startContainer.textContent===`
`&&a.startOffset===1&&(a.startContainer.textContent="",q(a,t)),n.element.querySelectorAll(".language-math").forEach(function(h){var C=h.querySelector("br");C&&C.remove()})):i.key.indexOf("Arrow")>-1?((i.key==="ArrowLeft"||i.key==="ArrowRight")&&Sa(t),q(a,t)):i.keyCode===229&&i.code===""&&i.key==="Unidentified"&&q(a,t);var s=(0,d.fb)(a.startContainer,"vditor-ir__preview");if(s){if(i.key==="ArrowUp"||i.key==="ArrowLeft")return s.previousElementSibling.firstElementChild?a.selectNodeContents(s.previousElementSibling.firstElementChild):a.selectNodeContents(s.previousElementSibling),a.collapse(!1),i.preventDefault(),!0;if(s.tagName==="SPAN"&&(i.key==="ArrowDown"||i.key==="ArrowRight"))return s.parentElement.getAttribute("data-type")==="html-entity"?(s.parentElement.insertAdjacentText("afterend",g.g.ZWSP),a.setStart(s.parentElement.nextSibling,1)):a.selectNodeContents(s.parentElement.lastElementChild),a.collapse(!1),i.preventDefault(),!0}}})},e}(),Ca=function(e){if(e.currentMode==="sv")return e.lute.Md2HTML(x(e));if(e.currentMode==="wysiwyg")return e.lute.VditorDOM2HTML(e.wysiwyg.element.innerHTML);if(e.currentMode==="ir")return e.lute.VditorIRDOM2HTML(e.ir.element.innerHTML)},qs=p(214),ka=p(436),zs=function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'.concat(t,`</div>
<div class="vditor-outline__content"></div>`)}return e.prototype.render=function(t){var n="";return t.preview.element.style.display==="block"?n=(0,ka.k)(t.preview.previewElement,this.element.lastElementChild,t):n=(0,ka.k)(t[t.currentMode].element,this.element.lastElementChild,t),n},e.prototype.toggle=function(t,n,i){var a;n===void 0&&(n=!0),i===void 0&&(i=!0);var s=(a=t.toolbar.elements.outline)===null||a===void 0?void 0:a.firstElementChild;if(n&&window.innerWidth>=g.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(t),s==null||s.classList.add("vditor-menu--current")):(this.element.style.display="none",s==null||s.classList.remove("vditor-menu--current")),i&&getSelection().rangeCount>0){var h=getSelection().getRangeAt(0);t[t.currentMode].element.contains(h.startContainer)&&(0,B.Hc)(h)}At(t)},e}(),Ks=p(280),Ws=function(){function e(t){var n=this;this.element=document.createElement("div"),this.element.className="vditor-preview",this.previewElement=document.createElement("div"),this.previewElement.className="vditor-reset",t.options.classes.preview&&this.previewElement.classList.add(t.options.classes.preview),this.previewElement.style.maxWidth=t.options.preview.maxWidth+"px",this.previewElement.addEventListener("copy",function(O){if(O.target.tagName!=="TEXTAREA"){var T=document.createElement("div");T.className="vditor-reset",T.appendChild(getSelection().getRangeAt(0).cloneContents()),n.copyToX(t,T,"default"),O.preventDefault()}}),this.previewElement.addEventListener("click",function(O){var T=(0,d.lG)(O.target,"SPAN");if(T&&(0,d.fb)(T,"vditor-toc")){var H=n.previewElement.querySelector("#"+T.getAttribute("data-target-id"));H&&(n.element.scrollTop=H.offsetTop);return}if(O.target.tagName==="A"){t.options.link.click?t.options.link.click(O.target):t.options.link.isOpen&&window.open(O.target.getAttribute("href")),O.preventDefault();return}O.target.tagName==="IMG"&&(t.options.image.preview?t.options.image.preview(O.target):t.options.image.isPreview&&(0,ne.E)(O.target,t.options.lang,t.options.theme))}),this.element.appendChild(this.previewElement);var i=t.options.preview.actions;if(i.length!==0){var a=document.createElement("div");a.className="vditor-preview__action";for(var s=[],h=0;h<i.length;h++){var C=i[h];if(typeof C=="object"){s.push('<button type="button" data-type="'.concat(C.key,'" class="').concat(C.className,'"').concat(C.tooltip?' aria-label="'.concat(C.tooltip,'"'):"",'">').concat(C.text,"</button>"));continue}switch(C){case"desktop":s.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":s.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":s.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":s.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到公众号"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":s.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到知乎"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>');break}}a.innerHTML=s.join(""),a.addEventListener((0,u.Le)(),function(O){var T=(0,R.S)(O.target,"BUTTON");if(T){var H=T.getAttribute("data-type"),U=i.find(function(Y){return(Y==null?void 0:Y.key)===H});if(U){U.click(H);return}if(H==="mp-wechat"||H==="zhihu"){n.copyToX(t,n.previewElement.cloneNode(!0),H);return}H==="desktop"?n.previewElement.style.width="auto":H==="tablet"?n.previewElement.style.width="780px":n.previewElement.style.width="360px",n.previewElement.scrollWidth>n.previewElement.parentElement.clientWidth&&(n.previewElement.style.width="auto"),n.render(t),a.querySelectorAll("button").forEach(function(Y){Y.classList.remove("vditor-preview__action--current")}),T.classList.add("vditor-preview__action--current")}}),this.element.insertBefore(a,this.previewElement)}}return e.prototype.render=function(t,n){var i=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display==="none"){this.element.getAttribute("data-type")==="renderPerformance"&&t.tip.hide();return}if(n){this.previewElement.innerHTML=n;return}if(x(t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")===""){this.previewElement.innerHTML="";return}var a=new Date().getTime(),s=x(t);this.mdTimeoutId=window.setTimeout(function(){if(t.options.preview.url){var h=new XMLHttpRequest;h.open("POST",t.options.preview.url),h.setRequestHeader("Content-Type","application/json;charset=UTF-8"),h.onreadystatechange=function(){if(h.readyState===XMLHttpRequest.DONE)if(h.status===200){var O=JSON.parse(h.responseText);if(O.code!==0){t.tip.show(O.msg);return}t.options.preview.transform&&(O.data=t.options.preview.transform(O.data)),i.previewElement.innerHTML=O.data,i.afterRender(t,a)}else{var T=t.lute.Md2HTML(s);t.options.preview.transform&&(T=t.options.preview.transform(T)),i.previewElement.innerHTML=T,i.afterRender(t,a)}},h.send(JSON.stringify({markdownText:s}))}else{var C=t.lute.Md2HTML(s);t.options.preview.transform&&(C=t.options.preview.transform(C)),i.previewElement.innerHTML=C,i.afterRender(t,a)}},t.options.preview.delay)},e.prototype.afterRender=function(t,n){t.options.preview.parse&&t.options.preview.parse(this.element);var i=new Date().getTime()-n;new Date().getTime()-n>2600?(t.tip.show(window.VditorI18n.performanceTip.replace("${x}",i.toString())),t.preview.element.setAttribute("data-type","renderPerformance")):t.preview.element.getAttribute("data-type")==="renderPerformance"&&(t.tip.hide(),t.preview.element.removeAttribute("data-type"));var a=t.preview.element.querySelector(".vditor-comment--focus");a&&a.classList.remove("vditor-comment--focus"),(0,V.O)(t.preview.previewElement,t.options.preview.hljs),(0,pe.s)(t.options.preview.hljs,t.preview.previewElement,t.options.cdn),(0,Me.i)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,re.K)(t.preview.previewElement,t.options.cdn),(0,tt.J)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,W.P)(t.preview.previewElement,t.options.cdn),(0,te.v)(t.preview.previewElement,t.options.cdn),(0,N.p)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,se.P)(t.preview.previewElement,t.options.cdn,t.options.theme),(0,je.B)(t.preview.previewElement,t.options.cdn),(0,I.Q)(t.preview.previewElement,t.options.cdn),t.options.preview.render.media.enable&&(0,Ks.Y)(t.preview.previewElement),t.options.customRenders.forEach(function(C){C.render(t.preview.previewElement,t)});var s=t.preview.element,h=t.outline.render(t);h===""&&(h="[ToC]"),s.querySelectorAll('[data-type="toc-block"]').forEach(function(C){C.innerHTML=h,(0,Se.H)(C,{cdn:t.options.cdn,math:t.options.preview.math})}),(0,Se.H)(t.preview.previewElement,{cdn:t.options.cdn,math:t.options.preview.math})},e.prototype.copyToX=function(t,n,i){i===void 0&&(i="mp-wechat"),i!=="zhihu"?n.querySelectorAll(".katex-html .base").forEach(function(s){s.style.display="initial"}):n.querySelectorAll(".language-math").forEach(function(s){s.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'.concat(s.getAttribute("data-math"),'\\" style="display: block; margin: 0 auto; max-width: 100%;">')}),n.style.backgroundColor="#fff",n.querySelectorAll("code").forEach(function(s){s.style.backgroundImage="none"}),this.element.append(n);var a=n.ownerDocument.createRange();a.selectNode(n),(0,B.Hc)(a),document.execCommand("copy"),n.remove(),t.tip.show(["zhihu","mp-wechat"].includes(i)?"已复制，可到".concat(i==="zhihu"?"知乎":"微信公众号平台","进行粘贴"):"已复制到剪切板")},e}(),Gs=function(){function e(t){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--".concat(t.options.resize.position),this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(t)}return e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("mousedown",function(i){var a=document,s=i.clientY,h=t.element.offsetHeight,C=63+t.element.querySelector(".vditor-toolbar").clientHeight;a.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),n.element.classList.add("vditor-resize--selected"),a.onmousemove=function(O){t.options.resize.position==="top"?t.element.style.height=Math.max(C,h+(s-O.clientY))+"px":t.element.style.height=Math.max(C,h+(O.clientY-s))+"px",t.options.typewriterMode&&(t.sv.element.style.paddingBottom=t.sv.element.parentElement.offsetHeight/2+"px")},a.onmouseup=function(){t.options.resize.after&&t.options.resize.after(t.element.offsetHeight-h),window.captureEvents&&window.captureEvents(),a.onmousemove=null,a.onmouseup=null,a.ondragstart=null,a.onselectstart=null,a.onselect=null,n.element.classList.remove("vditor-resize--selected")}})},e}(),Xs=function(){function e(t){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",t.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(t),An(t,this.element),Mn(t,this.element),dn(t,this.element),fr(t,this.element),lr(t,this.element),cr(t,this.element,this.copy),ur(t,this.element,this.copy)}return e.prototype.copy=function(t,n){t.stopPropagation(),t.preventDefault(),t.clipboardData.setData("text/plain",rn(n[n.currentMode].element))},e.prototype.bindEvent=function(t){var n=this;this.element.addEventListener("paste",function(i){Gr(t,i,{pasteCode:function(a){document.execCommand("insertHTML",!1,a)}})}),this.element.addEventListener("scroll",function(){if(t.preview.element.style.display==="block"){var i=n.element.scrollTop,a=n.element.clientHeight,s=n.element.scrollHeight-parseFloat(n.element.style.paddingBottom||"0"),h=t.preview.element;i/a>.5?h.scrollTop=(i+a)*h.scrollHeight/s-a:h.scrollTop=i*h.scrollHeight/s}}),this.element.addEventListener("compositionstart",function(i){n.composingLock=!0}),this.element.addEventListener("compositionend",function(i){(0,u.vU)()||le(t,i),n.composingLock=!1}),this.element.addEventListener("input",function(i){if(!(i.inputType==="deleteByDrag"||i.inputType==="insertFromDrop")&&!(n.composingLock||i.data==="‘"||i.data==="“"||i.data==="《")){if(n.preventInput){n.preventInput=!1,it(t,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}le(t,i)}}),this.element.addEventListener("keyup",function(i){if(!(i.isComposing||(0,u.yl)(i))){if((i.key==="Backspace"||i.key==="Delete")&&t.sv.element.innerHTML!==""&&t.sv.element.childNodes.length===1&&t.sv.element.firstElementChild&&t.sv.element.firstElementChild.tagName==="DIV"&&t.sv.element.firstElementChild.childElementCount===2&&(t.sv.element.firstElementChild.textContent===""||t.sv.element.textContent===`
`)){t.sv.element.innerHTML="";return}i.key==="Enter"&&nt(t)}})},e}(),Ta=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return e.prototype.show=function(t,n){var i=this;n===void 0&&(n=6e3),this.element.className="vditor-tip vditor-tip--show",n===0?(this.element.innerHTML='<div class="vditor-tip__content">'.concat(t,`
<div class="vditor-tip__close">X</div></div>`),this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){i.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'.concat(t,"</div>"),setTimeout(function(){i.hide()},n)),this.element.removeAttribute("style"),setTimeout(function(){var a=i.element.getBoundingClientRect();a.top<46&&(i.element.style.position="fixed",i.element.style.top="46px")},150)},e.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},e}(),Ni=function(e,t){if(t.options.preview.mode!==e){switch(t.options.preview.mode=e,e){case"both":t.sv.element.style.display="block",t.preview.element.style.display="block",t.preview.render(t),y(t.toolbar.elements,["both"]);break;case"editor":t.sv.element.style.display="block",t.preview.element.style.display="none",b(t.toolbar.elements,["both"]);break}t.devtools&&t.devtools.renderEchart(t)}},Js=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zs=function(e){Js(t,e);function t(n,i){var a=e.call(this,n,i)||this;return n.options.preview.mode==="both"&&a.element.children[0].classList.add("vditor-menu--current"),a.element.children[0].addEventListener((0,u.Le)(),function(s){var h=a.element.firstElementChild;h.classList.contains(g.g.CLASS_MENU_DISABLED)||(s.preventDefault(),n.currentMode==="sv"&&(n.options.preview.mode==="both"?Ni("editor",n):Ni("both",n)))}),a}return t}(ce),Ys=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"}return e}(),La=p(580),Qs=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),el=function(e){Qs(t,e);function t(n,i){var a=e.call(this,n,i)||this,s=a.element.children[0],h=document.createElement("div");h.className="vditor-hint".concat(i.level===2?"":" vditor-panel--arrow");var C="";return g.g.CODE_THEME.forEach(function(O){C+="<button>".concat(O,"</button>")}),h.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(C,"</div>"),h.addEventListener((0,u.Le)(),function(O){O.target.tagName==="BUTTON"&&(S(n,["subToolbar"]),n.options.preview.hljs.style=O.target.textContent,(0,La.Y)(O.target.textContent,n.options.cdn),O.preventDefault(),O.stopPropagation())}),a.element.appendChild(h),A(n,h,s,i.level),a}return t}(ce),tl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),nl=function(e){tl(t,e);function t(n,i){var a=e.call(this,n,i)||this,s=a.element.children[0],h=document.createElement("div");h.className="vditor-hint".concat(i.level===2?"":" vditor-panel--arrow");var C="";return Object.keys(n.options.preview.theme.list).forEach(function(O){C+='<button data-type="'.concat(O,'">').concat(n.options.preview.theme.list[O],"</button>")}),h.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(C,"</div>"),h.addEventListener((0,u.Le)(),function(O){O.target.tagName==="BUTTON"&&(S(n,["subToolbar"]),n.options.preview.theme.current=O.target.getAttribute("data-type"),(0,we.Z)(n.options.preview.theme.current,n.options.preview.theme.path),O.preventDefault(),O.stopPropagation())}),a.element.appendChild(h),A(n,h,s,i.level),a}return t}(ce),rl=function(){function e(t){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(t,"")}return e.prototype.render=function(t,n){var i=n.endsWith(`
`)?n.length-1:n.length;if(t.options.counter.type==="text"&&t[t.currentMode]){var a=t[t.currentMode].element.cloneNode(!0);a.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(s){s.remove()}),i=a.textContent.length}typeof t.options.counter.max=="number"?(i>t.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML="".concat(i,"/").concat(t.options.counter.max)):this.element.innerHTML="".concat(i),this.element.setAttribute("aria-label",t.options.counter.type),t.options.counter.after&&t.options.counter.after(i,{enable:t.options.counter.enable,max:t.options.counter.max,type:t.options.counter.type})},e}(),il=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),al=function(e){il(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].innerHTML=i.icon,a.element.children[0].addEventListener((0,u.Le)(),function(s){s.preventDefault(),!s.currentTarget.classList.contains(g.g.CLASS_MENU_DISABLED)&&i.click(s,n)}),a}return t}(ce),ol=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),sl=function(e){ol(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.firstElementChild.addEventListener((0,u.Le)(),function(s){var h=a.element.firstElementChild;h.classList.contains(g.g.CLASS_MENU_DISABLED)||(s.preventDefault(),h.classList.contains("vditor-menu--current")?(h.classList.remove("vditor-menu--current"),n.devtools.element.style.display="none",At(n)):(h.classList.add("vditor-menu--current"),n.devtools.element.style.display="block",At(n),n.devtools.renderEchart(n)))}),a}return t}(ce),ll=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"}return e}(),cl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ul=function(e){cl(t,e);function t(n,i){var a=e.call(this,n,i)||this,s=document.createElement("div");s.className="vditor-panel vditor-panel--arrow";var h="";return Object.keys(n.options.hint.emoji).forEach(function(C){var O=n.options.hint.emoji[C];O.indexOf(".")>-1?h+='<button data-value=":'.concat(C,': " data-key=":').concat(C,`:"><img
data-value=":`).concat(C,': " data-key=":').concat(C,':" class="vditor-emojis__icon" src="').concat(O,'"/></button>'):h+='<button data-value="'.concat(O,` "
 data-key="`).concat(C,'"><span class="vditor-emojis__icon">').concat(O,"</span></button>")}),s.innerHTML='<div class="vditor-emojis" style="max-height: '.concat(n.options.height==="auto"?"auto":n.options.height-80,'px">').concat(h,`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`).concat(n.options.hint.emojiTail||"",`</span>
</div>`),a.element.appendChild(s),A(n,s,a.element.firstElementChild,i.level),a.bindEvent(n),a}return t.prototype.bindEvent=function(n){var i=this;this.element.lastElementChild.addEventListener((0,u.Le)(),function(a){var s=(0,R.S)(a.target,"BUTTON");if(s){a.preventDefault();var h=s.getAttribute("data-value"),C=(0,B.zh)(n),O=h;if(n.currentMode==="wysiwyg"?O=n.lute.SpinVditorDOM(h):n.currentMode==="ir"&&(O=n.lute.SpinVditorIRDOM(h)),h.indexOf(":")>-1&&n.currentMode!=="sv"){var T=document.createElement("div");T.innerHTML=O,O=T.firstElementChild.firstElementChild.outerHTML+" ",(0,B.oC)(O,n)}else C.extractContents(),C.insertNode(document.createTextNode(h)),(0,d.F9)(C.startContainer)||or(n,C);C.collapse(!1),(0,B.Hc)(C),i.element.lastElementChild.style.display="none",Ee(n)}}),this.element.lastElementChild.addEventListener("mouseover",function(a){var s=(0,R.S)(a.target,"BUTTON");s&&(i.element.querySelector(".vditor-emojis__tip").innerHTML=s.getAttribute("data-key"))})},t}(ce),Aa=function(e,t,n){var i=document.createElement("a");"download"in i?(i.download=n,i.style.display="none",i.href=URL.createObjectURL(new Blob([t])),document.body.appendChild(i),i.click(),i.remove()):e.tip.show(window.VditorI18n.downloadTip,0)},fl=function(e){var t=x(e);Aa(e,t,t.substr(0,10)+".md")},dl=function(e){e.tip.show(window.VditorI18n.generate,3800);var t=document.querySelector("#vditorExportIframe");t.contentDocument.open(),t.contentDocument.write('<link rel="stylesheet" href="'.concat(e.options.cdn,`/dist/index.css"/>
<script src="`).concat(e.options.cdn,`/dist/method.min.js"><\/script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    cdn: "`).concat(e.options.cdn,`",
    markdown: {
      theme: `).concat(JSON.stringify(e.options.preview.theme),`
    },
    hljs: {
      style: "`).concat(e.options.preview.hljs.style,`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
<\/script>`)),t.contentDocument.close(),setTimeout(function(){t.contentWindow.postMessage(x(e),"*")},200)},pl=function(e){var t=Ca(e),n='<html><head><link rel="stylesheet" type="text/css" href="'.concat(e.options.cdn,`/dist/index.css"/>
<script src="`).concat(e.options.cdn,"/dist/js/i18n/").concat(e.options.lang,`.js"><\/script>
<script src="`).concat(e.options.cdn,`/dist/method.min.js"><\/script></head>
<body><div class="vditor-reset" id="preview">`).concat(t,`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`).concat(e.options.preview.theme.current,"', '").concat(e.options.preview.theme.path,`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`).concat(JSON.stringify(e.options.preview.hljs),", previewElement, '").concat(e.options.cdn,`');
    Vditor.mathRender(previewElement, {
        cdn: '`).concat(e.options.cdn,`',
        math: `).concat(JSON.stringify(e.options.preview.math),`,
    });
    Vditor.mermaidRender(previewElement, '`).concat(e.options.cdn,"', '").concat(e.options.theme,`');
    Vditor.SMILESRender(previewElement, '`).concat(e.options.cdn,"', '").concat(e.options.theme,`');
    Vditor.markmapRender(previewElement, '`).concat(e.options.cdn,`');
    Vditor.flowchartRender(previewElement, '`).concat(e.options.cdn,`');
    Vditor.graphvizRender(previewElement, '`).concat(e.options.cdn,`');
    Vditor.chartRender(previewElement, '`).concat(e.options.cdn,"', '").concat(e.options.theme,`');
    Vditor.mindmapRender(previewElement, '`).concat(e.options.cdn,"', '").concat(e.options.theme,`');
    Vditor.abcRender(previewElement, '`).concat(e.options.cdn,`');
    `).concat(e.options.preview.render.media.enable?"Vditor.mediaRender(previewElement);":"",`
    Vditor.speechRender(previewElement);
<\/script>
<script src="`).concat(e.options.cdn,"/dist/js/icons/").concat(e.options.icon,'.js"><\/script></body></html>');Aa(e,n,t.substr(0,10)+".html")},hl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ml=function(e){hl(t,e);function t(n,i){var a=e.call(this,n,i)||this,s=a.element.children[0],h=document.createElement("div");return h.className="vditor-hint".concat(i.level===2?"":" vditor-panel--arrow"),h.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,h.addEventListener((0,u.Le)(),function(C){var O=C.target;if(O.tagName==="BUTTON"){switch(O.getAttribute("data-type")){case"markdown":fl(n);break;case"pdf":dl(n);break;case"html":pl(n);break}S(n,["subToolbar"]),C.preventDefault(),C.stopPropagation()}}),a.element.appendChild(h),A(n,h,s,i.level),a}return t}(ce),gl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),yl=function(e){gl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a._bindEvent(n,i),a}return t.prototype._bindEvent=function(n,i){this.element.children[0].addEventListener((0,u.Le)(),function(a){a.preventDefault(),n.element.className.includes("vditor--fullscreen")?(i.level||(this.innerHTML=i.icon),n.element.style.zIndex="",document.body.style.overflow="",n.element.classList.remove("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(s){var h=n.toolbar.elements[s].firstChild;h&&(h.className=h.className.replace("__s","__n"),n.options.toolbar.forEach(function(C){typeof C!="string"&&C.tipPosition&&C.name===h.dataset.type&&(h.className="vditor-tooltipped vditor-tooltipped__".concat(C.tipPosition))}))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__s","__n"))):(i.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),n.element.style.zIndex=n.options.fullscreen.index.toString(),document.body.style.overflow="hidden",n.element.classList.add("vditor--fullscreen"),Object.keys(n.toolbar.elements).forEach(function(s){var h=n.toolbar.elements[s].firstChild;h&&(h.className=h.className.replace("__n","__s"))}),n.counter&&(n.counter.element.className=n.counter.element.className.replace("__n","__s"))),n.devtools&&n.devtools.renderEchart(n),i.click&&i.click(a,n),At(n),kn(n)})},t}(ce),bl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),wl=function(e){bl(t,e);function t(n,i){var a=e.call(this,n,i)||this,s=document.createElement("div");return s.className="vditor-hint vditor-panel--arrow",s.innerHTML='<button data-tag="h1" data-value="# ">'.concat(window.VditorI18n.heading1," ").concat((0,u.ns)("&lt;⌥⌘1>"),`</button>
<button data-tag="h2" data-value="## ">`).concat(window.VditorI18n.heading2," &lt;").concat((0,u.ns)("⌥⌘2"),`></button>
<button data-tag="h3" data-value="### ">`).concat(window.VditorI18n.heading3," &lt;").concat((0,u.ns)("⌥⌘3"),`></button>
<button data-tag="h4" data-value="#### ">`).concat(window.VditorI18n.heading4," &lt;").concat((0,u.ns)("⌥⌘4"),`></button>
<button data-tag="h5" data-value="##### ">`).concat(window.VditorI18n.heading5," &lt;").concat((0,u.ns)("⌥⌘5"),`></button>
<button data-tag="h6" data-value="###### ">`).concat(window.VditorI18n.heading6," &lt;").concat((0,u.ns)("⌥⌘6"),"></button>"),a.element.appendChild(s),a._bindEvent(n,s),a}return t.prototype._bindEvent=function(n,i){var a=this.element.children[0];a.addEventListener((0,u.Le)(),function(h){h.preventDefault(),clearTimeout(n.wysiwyg.afterRenderTimeoutId),clearTimeout(n.ir.processTimeoutId),clearTimeout(n.sv.processTimeoutId),!a.classList.contains(g.g.CLASS_MENU_DISABLED)&&(a.blur(),a.classList.contains("vditor-menu--current")?(n.currentMode==="wysiwyg"?(Vn(n),Ve(n)):n.currentMode==="ir"&&gr(n,""),a.classList.remove("vditor-menu--current")):(S(n,["subToolbar"]),i.style.display="block"))});for(var s=0;s<6;s++)i.children.item(s).addEventListener((0,u.Le)(),function(h){h.preventDefault(),n.currentMode==="wysiwyg"?($n(n,h.target.getAttribute("data-tag")),Ve(n),a.classList.add("vditor-menu--current")):n.currentMode==="ir"?(gr(n,h.target.getAttribute("data-value")),a.classList.add("vditor-menu--current")):Fr(n,h.target.getAttribute("data-value")),i.style.display="none"})},t}(ce),vl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),_l=function(e){vl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,u.Le)(),function(s){s.preventDefault(),n.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown 使用指南</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">语法速查手册</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">基础语法</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">扩展语法</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">键盘快捷键</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor 支持</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">官方讨论区</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">开发手册</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">演示地址</a></li>
    </ul>
</div></div>`,0)}),a}return t}(ce),El=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sl=function(e){El(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,u.Le)(),function(s){if(s.preventDefault(),!(a.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||n.currentMode==="sv")){var h=(0,B.zh)(n),C=(0,d.lG)(h.startContainer,"LI");C&&Ht(n,C,h)}}),a}return t}(ce),Cl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),kl=function(e){Cl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,u.Le)(),function(s){s.preventDefault(),n.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>下一代的 Markdown 编辑器，为未来而构建</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor 是一款浏览器端的 Markdown 编辑器，支持所见即所得、即时渲染（类似 Typora）和分屏预览模式。
        它使用 TypeScript 实现，支持原生 JavaScript 以及 Vue、React、Angular 和 Svelte 等框架。
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        项目地址：<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        开源协议：MIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        组件版本：Vditor v`.concat(g.H," / Lute v").concat(Lute.Version,`
        </li>
        <li>
        赞助捐赠：<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`),0)}),a}return t}(ce),Tl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ll=function(e){Tl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,u.Le)(),function(s){s.preventDefault(),!(a.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||n.currentMode==="sv")&&pn(n,"afterend")}),a}return t}(ce),Al=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ml=function(e){Al(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,u.Le)(),function(s){s.preventDefault(),!(a.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||n.currentMode==="sv")&&pn(n,"beforebegin")}),a}return t}(ce),xl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ol=function(e){xl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a.element.children[0].addEventListener((0,u.Le)(),function(s){if(s.preventDefault(),!(a.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)||n.currentMode==="sv")){var h=(0,B.zh)(n),C=(0,d.lG)(h.startContainer,"LI");C&&mr(n,C,h,C.parentElement)}}),a}return t}(ce),Rl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dl=function(e){Rl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return n.options.outline&&a.element.firstElementChild.classList.add("vditor-menu--current"),a.element.children[0].addEventListener((0,u.Le)(),function(s){s.preventDefault();var h=n.toolbar.elements.outline.firstElementChild;h.classList.contains(g.g.CLASS_MENU_DISABLED)||(n.options.outline.enable=!a.element.firstElementChild.classList.contains("vditor-menu--current"),n.outline.toggle(n,n.options.outline.enable))}),a}return t}(ce),Nl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hl=function(e){Nl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a._bindEvent(n),a}return t.prototype._bindEvent=function(n){var i=this;this.element.children[0].addEventListener((0,u.Le)(),function(a){a.preventDefault();var s=i.element.firstElementChild;if(!s.classList.contains(g.g.CLASS_MENU_DISABLED)){var h=g.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);s.classList.contains("vditor-menu--current")?(s.classList.remove("vditor-menu--current"),n.currentMode==="sv"?(n.sv.element.style.display="block",n.options.preview.mode==="both"?n.preview.element.style.display="block":n.preview.element.style.display="none"):(n[n.currentMode].element.parentElement.style.display="block",n.preview.element.style.display="none"),w(n.toolbar.elements,h),n.outline.render(n)):(m(n.toolbar.elements,h),n.preview.element.style.display="block",n.currentMode==="sv"?n.sv.element.style.display="none":n[n.currentMode].element.parentElement.style.display="none",n.preview.render(n),s.classList.add("vditor-menu--current"),S(n,["subToolbar","hint","popover"]),setTimeout(function(){n.outline.render(n)},n.options.preview.delay+10)),At(n)}})},t}(ce),Pl=function(){function e(t){this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0;var n;if(typeof AudioContext<"u")n=new AudioContext;else if(webkitAudioContext)n=new webkitAudioContext;else return;this.DEFAULT_SAMPLE_RATE=n.sampleRate;var i=n.createGain(),a=n.createMediaStreamSource(t);a.connect(i),this.recorder=n.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,i.connect(this.recorder),this.recorder.connect(n.destination),this.readyFlag=!0}return e.prototype.cloneChannelData=function(t,n){this.leftChannel.push(new Float32Array(t)),this.rightChannel.push(new Float32Array(n)),this.recordingLength+=2048},e.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},e.prototype.stopRecording=function(){this.isRecording=!1},e.prototype.buildWavFileBlob=function(){for(var t=this.mergeBuffers(this.leftChannel),n=this.mergeBuffers(this.rightChannel),i=new Float32Array(t.length),a=0;a<t.length;++a)i[a]=.5*(t[a]+n[a]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(i=this.downSampleBuffer(i,this.SAMPLE_RATE));var s=44+i.length*2,h=new ArrayBuffer(s),C=new DataView(h);this.writeUTFBytes(C,0,"RIFF"),C.setUint32(4,s,!0),this.writeUTFBytes(C,8,"WAVE"),this.writeUTFBytes(C,12,"fmt "),C.setUint32(16,16,!0),C.setUint16(20,1,!0),C.setUint16(22,1,!0),C.setUint32(24,this.SAMPLE_RATE,!0),C.setUint32(28,this.SAMPLE_RATE*2,!0),C.setUint16(32,2,!0),C.setUint16(34,16,!0);var O=i.length*2;this.writeUTFBytes(C,36,"data"),C.setUint32(40,O,!0);for(var T=i.length,H=44,U=1,Y=0;Y<T;Y++)C.setInt16(H,i[Y]*(32767*U),!0),H+=2;return new Blob([C],{type:"audio/wav"})},e.prototype.downSampleBuffer=function(t,n){if(n===this.DEFAULT_SAMPLE_RATE||n>this.DEFAULT_SAMPLE_RATE)return t;for(var i=this.DEFAULT_SAMPLE_RATE/n,a=Math.round(t.length/i),s=new Float32Array(a),h=0,C=0;h<s.length;){for(var O=Math.round((h+1)*i),T=0,H=0,U=C;U<O&&U<t.length;U++)T+=t[U],H++;s[h]=T/H,h++,C=O}return s},e.prototype.mergeBuffers=function(t){for(var n=new Float32Array(this.recordingLength),i=0,a=t.length,s=0;s<a;++s){var h=t[s];n.set(h,i),i+=h.length}return n},e.prototype.writeUTFBytes=function(t,n,i){for(var a=i.length,s=0;s<a;s++)t.setUint8(n+s,i.charCodeAt(s))},e}(),Il=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),jl=function(e){Il(t,e);function t(n,i){var a=e.call(this,n,i)||this;return a._bindEvent(n),a}return t.prototype._bindEvent=function(n){var i=this,a;this.element.children[0].addEventListener((0,u.Le)(),function(s){if(s.preventDefault(),!i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)){var h=n[n.currentMode].element;if(!a){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(O){a=new Pl(O),a.recorder.onaudioprocess=function(T){if(a.isRecording){var H=T.inputBuffer.getChannelData(0),U=T.inputBuffer.getChannelData(1);a.cloneChannelData(H,U)}},a.startRecordingNewWavFile(),n.tip.show(window.VditorI18n.recording),h.setAttribute("contenteditable","false"),i.element.children[0].classList.add("vditor-menu--current")}).catch(function(){n.tip.show(window.VditorI18n["record-tip"])});return}if(a.isRecording){a.stopRecording(),n.tip.hide();var C=new File([a.buildWavFileBlob()],"record".concat(new Date().getTime(),".wav"),{type:"video/webm"});rt(n,[C]),i.element.children[0].classList.remove("vditor-menu--current")}else n.tip.show(window.VditorI18n.recording),h.setAttribute("contenteditable","false"),a.startRecordingNewWavFile(),i.element.children[0].classList.add("vditor-menu--current")}})},t}(ce),Bl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ul=function(e){Bl(t,e);function t(n,i){var a=e.call(this,n,i)||this;return m({redo:a.element},["redo"]),a.element.children[0].addEventListener((0,u.Le)(),function(s){s.preventDefault(),!a.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)&&n.undo.redo(n)}),a}return t}(ce),$l=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vl=function(e){$l(t,e);function t(n,i){var a=e.call(this,n,i)||this;return m({undo:a.element},["undo"]),a.element.children[0].addEventListener((0,u.Le)(),function(s){s.preventDefault(),!a.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)&&n.undo.undo(n)}),a}return t}(ce),Fl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ql=function(e){Fl(t,e);function t(n,i){var a=e.call(this,n,i)||this,s='<input type="file"';return n.options.upload.multiple&&(s+=' multiple="multiple"'),n.options.upload.accept&&(s+=' accept="'.concat(n.options.upload.accept,'"')),a.element.children[0].innerHTML="".concat(i.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>').concat(s,">"),a._bindEvent(n),a}return t.prototype._bindEvent=function(n){var i=this;this.element.children[0].addEventListener((0,u.Le)(),function(a){if(i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)){a.stopPropagation(),a.preventDefault();return}}),this.element.querySelector("input").addEventListener("change",function(a){if(i.element.firstElementChild.classList.contains(g.g.CLASS_MENU_DISABLED)){a.stopPropagation(),a.preventDefault();return}a.target.files.length!==0&&rt(n,a.target.files,a.target)})},t}(ce),zl=function(){function e(t){var n=this,i=t.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",i.toolbar.forEach(function(a,s){var h=n.genItem(t,a,s);if(n.element.appendChild(h),a.toolbar){var C=document.createElement("div");C.className="vditor-hint vditor-panel--arrow",C.addEventListener((0,u.Le)(),function(O){C.style.display="none"}),a.toolbar.forEach(function(O,T){O.level=2,C.appendChild(n.genItem(t,O,s+T))}),h.appendChild(C),A(t,C,h.children[0])}}),t.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),t.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),t.options.counter.enable&&(t.counter=new rl(t),this.element.appendChild(t.counter.element))}return e.prototype.updateConfig=function(t,n){t.options.toolbarConfig=Object.assign({hide:!1,pin:!1},n),t.options.toolbarConfig.hide?this.element.classList.add("vditor-toolbar--hide"):this.element.classList.remove("vditor-toolbar--hide"),t.options.toolbarConfig.pin?this.element.classList.add("vditor-toolbar--pin"):this.element.classList.remove("vditor-toolbar--pin")},e.prototype.genItem=function(t,n,i){var a;switch(n.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":a=new ce(t,n);break;case"emoji":a=new ul(t,n);break;case"headings":a=new wl(t,n);break;case"|":a=new ll;break;case"br":a=new Ys;break;case"undo":a=new Vl(t,n);break;case"redo":a=new Ul(t,n);break;case"help":a=new _l(t,n);break;case"both":a=new Zs(t,n);break;case"preview":a=new Hl(t,n);break;case"fullscreen":a=new yl(t,n);break;case"upload":a=new ql(t,n);break;case"record":a=new jl(t,n);break;case"info":a=new kl(t,n);break;case"edit-mode":a=new Ln(t,n);break;case"devtools":a=new sl(t,n);break;case"outdent":a=new Ol(t,n);break;case"indent":a=new Sl(t,n);break;case"outline":a=new Dl(t,n);break;case"insert-after":a=new Ll(t,n);break;case"insert-before":a=new Ml(t,n);break;case"code-theme":a=new el(t,n);break;case"content-theme":a=new nl(t,n);break;case"export":a=new ml(t,n);break;default:a=new al(t,n);break}if(a){var s=n.name;return(s==="br"||s==="|")&&(s=s+i),this.elements[s]=a.element,a.element}},e}(),Kl=p(173),Wl=function(){function e(){this.stackSize=50,this.resetStack(),this.dmp=new Kl}return e.prototype.clearStack=function(t){this.resetStack(),this.resetIcon(t)},e.prototype.resetIcon=function(t){t.toolbar&&(this[t.currentMode].undoStack.length>1?w(t.toolbar.elements,["undo"]):m(t.toolbar.elements,["undo"]),this[t.currentMode].redoStack.length!==0?w(t.toolbar.elements,["redo"]):m(t.toolbar.elements,["redo"]))},e.prototype.undo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[t.currentMode].undoStack.length<2)){var n=this[t.currentMode].undoStack.pop();n&&(this[t.currentMode].redoStack.push(n),this.renderDiff(n,t),this[t.currentMode].hasUndo=!0,S(t,["hint"]))}},e.prototype.redo=function(t){if(t[t.currentMode].element.getAttribute("contenteditable")!=="false"){var n=this[t.currentMode].redoStack.pop();n&&(this[t.currentMode].undoStack.push(n),this.renderDiff(n,t,!0))}},e.prototype.recordFirstPosition=function(t,n){if(getSelection().rangeCount!==0&&!(this[t.currentMode].undoStack.length!==1||this[t.currentMode].undoStack[0].length===0||this[t.currentMode].redoStack.length>0)&&!((0,u.vU)()&&n.key==="Backspace")&&!(0,u.G6)()){var i=this.addCaret(t);i.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[t.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[t.currentMode].undoStack[0][0].diffs[0][1]=i,this[t.currentMode].lastText=i)}},e.prototype.addToUndoStack=function(t){var n=this.addCaret(t,!0),i=this.dmp.diff_main(n,this[t.currentMode].lastText,!0),a=this.dmp.patch_make(n,this[t.currentMode].lastText,i);a.length===0&&this[t.currentMode].undoStack.length>0||(this[t.currentMode].lastText=n,this[t.currentMode].undoStack.push(a),this[t.currentMode].undoStack.length>this.stackSize&&this[t.currentMode].undoStack.shift(),this[t.currentMode].hasUndo&&(this[t.currentMode].redoStack=[],this[t.currentMode].hasUndo=!1,m(t.toolbar.elements,["redo"])),this[t.currentMode].undoStack.length>1&&w(t.toolbar.elements,["undo"]))},e.prototype.renderDiff=function(t,n,i){i===void 0&&(i=!1);var a;if(i){var s=this.dmp.patch_deepCopy(t).reverse();s.forEach(function(C){C.diffs.forEach(function(O){O[0]=-O[0]})}),a=this.dmp.patch_apply(s,this[n.currentMode].lastText)[0]}else a=this.dmp.patch_apply(t,this[n.currentMode].lastText)[0];if(this[n.currentMode].lastText=a,n[n.currentMode].element.innerHTML=a,n.currentMode!=="sv"&&(n[n.currentMode].element.querySelectorAll(".vditor-".concat(n.currentMode,"__preview")).forEach(function(C){C.parentElement.querySelector(".language-echarts")&&(n.currentMode==="ir"?C.parentElement.outerHTML=n.lute.SpinVditorIRDOM(C.parentElement.outerHTML):C.parentElement.outerHTML=n.lute.SpinVditorDOM(C.parentElement.outerHTML))}),n[n.currentMode].element.querySelectorAll(".vditor-".concat(n.currentMode,"__preview[data-render='2']")).forEach(function(C){Ye(C,n)})),n[n.currentMode].element.querySelector("wbr"))(0,B.ib)(n[n.currentMode].element,n[n.currentMode].element.ownerDocument.createRange()),nt(n);else{var h=getSelection().getRangeAt(0);h.setEndBefore(n[n.currentMode].element),h.collapse(!1)}bt(n),Ee(n,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),ze(n),n[n.currentMode].element.querySelectorAll(".vditor-".concat(n.currentMode,"__preview[data-render='2']")).forEach(function(C){Ye(C,n)}),this[n.currentMode].undoStack.length>1?w(n.toolbar.elements,["undo"]):m(n.toolbar.elements,["undo"]),this[n.currentMode].redoStack.length!==0?w(n.toolbar.elements,["redo"]):m(n.toolbar.elements,["redo"])},e.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},e.prototype.addCaret=function(t,n){n===void 0&&(n=!1);var i;if(getSelection().rangeCount!==0&&!t[t.currentMode].element.querySelector("wbr")){var a=getSelection().getRangeAt(0);if(t[t.currentMode].element.contains(a.startContainer)){i=a.cloneRange();var s=document.createElement("span");s.className="vditor-wbr",a.insertNode(s)}}var h=t[t.currentMode].element.cloneNode(!0);h.querySelectorAll(".vditor-".concat(t.currentMode,"__preview[data-render='1']")).forEach(function(O){O.firstElementChild&&(O.firstElementChild.classList.contains("language-echarts")||O.firstElementChild.classList.contains("language-plantuml")||O.firstElementChild.classList.contains("language-mindmap")?(O.firstElementChild.removeAttribute("_echarts_instance_"),O.firstElementChild.removeAttribute("data-processed"),O.firstElementChild.innerHTML=O.previousElementSibling.firstElementChild.innerHTML,O.setAttribute("data-render","2")):O.firstElementChild.classList.contains("language-math")&&(O.setAttribute("data-render","2"),O.firstElementChild.textContent=O.firstElementChild.getAttribute("data-math"),O.firstElementChild.removeAttribute("data-math")))});var C=h.innerHTML;return t[t.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(O){O.remove()}),n&&i&&(0,B.Hc)(i),C.replace('<span class="vditor-wbr"></span>',"<wbr>")},e}(),Gl=p(673),Xl=function(){function e(t){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:g.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},customRenders:[],debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"👍","-1":"👎",confused:"😕",eyes:"👀️",heart:"❤️",rocket:"🚀️",smile:"😄",tada:"🎉️"},emojiPath:"".concat(g.g.CDN,"/dist/images/emoji"),extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:g.g.HLJS_OPTIONS,markdown:g.g.MARKDOWN_OPTIONS,math:g.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:g.g.THEME_OPTIONS,render:{media:{enable:!0}}},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(n){return n.replace(/\W/g,"")},linkToImgUrl:"",max:10*1024*1024,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=t}return e.prototype.merge=function(){var t,n,i,a,s,h,C,O,T;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((n=(t=this.options.preview)===null||t===void 0?void 0:t.theme)===null||n===void 0)&&n.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((s=(a=(i=this.options.preview)===null||i===void 0?void 0:i.render)===null||a===void 0?void 0:a.media)===null||s===void 0)&&s.enable&&(this.defaultOptions.preview.render.media.enable=this.options.preview.render.media.enable),!((h=this.options.hint)===null||h===void 0)&&h.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment),this.options.cdn&&(!((O=(C=this.options.preview)===null||C===void 0?void 0:C.theme)===null||O===void 0)&&O.path||(this.defaultOptions.preview.theme.path="".concat(this.options.cdn,"/dist/css/content-theme")),!((T=this.options.hint)===null||T===void 0)&&T.emojiPath||(this.defaultOptions.hint.emojiPath="".concat(this.options.cdn,"/dist/images/emoji"))));var H=(0,Gl.T)(this.defaultOptions,this.options);if(H.cache.enable&&!H.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return H},e.prototype.mergeToolbar=function(t){var n=this,i=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"⌘E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"⌘H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"⌘B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"⌘I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"⌘D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"⌘K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"⌘L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"⌘O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"⌘J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"⇧⌘I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"⇧⌘O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"⌘;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"⇧⌘H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"⌘U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"⌘G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"⇧⌘B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"⇧⌘E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"⌘M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"⌘Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"⌘Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"⌘'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"⌘P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],a=[];return t.forEach(function(s){var h=s;i.forEach(function(C){typeof s=="string"&&C.name===s&&(h=C),typeof s=="object"&&C.name===s.name&&(h=Object.assign({},C,s))}),s.toolbar&&(h.toolbar=n.mergeToolbar(s.toolbar)),a.push(h)}),a},e}(),Jl=function(){function e(t){var n=this;this.composingLock=!1,this.commentIds=[];var i=document.createElement("div");i.className="vditor-wysiwyg",i.innerHTML='<pre class="vditor-reset" placeholder="'.concat(t.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`).concat(window.VditorI18n.comment,`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`),this.element=i.firstElementChild,this.popover=i.firstElementChild.nextElementSibling,this.selectPopover=i.lastElementChild,this.bindEvent(t),An(t,this.element),$r(t,this.element),Mn(t,this.element),dn(t,this.element),fr(t,this.element),lr(t,this.element),cr(t,this.element,this.copy),ur(t,this.element,this.copy),t.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var a=Lute.NewNodeID(),s=getSelection().getRangeAt(0),h=s.cloneRange(),C=s.extractContents(),O,T,H=!1,U=!1;C.childNodes.forEach(function(J,me){var ie=!1;if(J.nodeType===3?ie=!0:J.classList.contains("vditor-comment")?J.classList.contains("vditor-comment")&&J.setAttribute("data-cmtids",J.getAttribute("data-cmtids")+" "+a):ie=!0,ie)if(J.nodeType!==3&&J.getAttribute("data-block")==="0"&&me===0&&h.startOffset>0)J.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(a,'">').concat(J.innerHTML,"</span>"),O=J;else if(J.nodeType!==3&&J.getAttribute("data-block")==="0"&&me===C.childNodes.length-1&&h.endOffset<h.endContainer.textContent.length)J.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(a,'">').concat(J.innerHTML,"</span>"),T=J;else if(J.nodeType!==3&&J.getAttribute("data-block")==="0")me===0?H=!0:me===C.childNodes.length-1&&(U=!0),J.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(a,'">').concat(J.innerHTML,"</span>");else{var X=document.createElement("span");X.classList.add("vditor-comment"),X.setAttribute("data-cmtids",a),J.parentNode.insertBefore(X,J),X.appendChild(J)}});var Y=(0,d.F9)(h.startContainer);Y&&(O?(Y.insertAdjacentHTML("beforeend",O.innerHTML),O.remove()):Y.textContent.trim().replace(g.g.ZWSP,"")===""&&H&&Y.remove());var Q=(0,d.F9)(h.endContainer);Q&&(T?(Q.insertAdjacentHTML("afterbegin",T.innerHTML),T.remove()):Q.textContent.trim().replace(g.g.ZWSP,"")===""&&U&&Q.remove()),s.insertNode(C),t.options.comment.add(a,s.toString(),n.getComments(t,!0)),Ve(t,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),n.hideComment()})}return e.prototype.getComments=function(t,n){var i=this;if(n===void 0&&(n=!1),t.currentMode==="wysiwyg"&&t.options.comment.enable){this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(s){i.commentIds=i.commentIds.concat(s.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var a=[];if(n)return this.commentIds.forEach(function(s){a.push({id:s,top:i.element.querySelector('.vditor-comment[data-cmtids="'.concat(s,'"]')).offsetTop})}),a}else return[]},e.prototype.triggerRemoveComment=function(t){var n=function(s,h){var C=new Set(h);return s.filter(function(O){return!C.has(O)})};if(t.currentMode==="wysiwyg"&&t.options.comment.enable&&t.wysiwyg.commentIds.length>0){var i=JSON.parse(JSON.stringify(this.commentIds));this.getComments(t);var a=n(i,this.commentIds);a.length>0&&t.options.comment.remove(a)}},e.prototype.showComment=function(){var t=(0,B.Ny)(this.element);this.selectPopover.setAttribute("style","left:".concat(t.left,"px;display:block;top:").concat(Math.max(-8,t.top-21),"px"))},e.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},e.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},e.prototype.copy=function(t,n){var i=getSelection().getRangeAt(0);if(i.toString()!==""){t.stopPropagation(),t.preventDefault();var a=(0,d.lG)(i.startContainer,"CODE"),s=(0,d.lG)(i.endContainer,"CODE");if(a&&s&&s.isSameNode(a)){var h="";a.parentElement.tagName==="PRE"?h=i.toString():h="`"+i.toString()+"`",t.clipboardData.setData("text/plain",h),t.clipboardData.setData("text/html","");return}var C=(0,d.lG)(i.startContainer,"A"),O=(0,d.lG)(i.endContainer,"A");if(C&&O&&O.isSameNode(C)){var T=C.getAttribute("title")||"";T&&(T=' "'.concat(T,'"')),t.clipboardData.setData("text/plain","[".concat(i.toString(),"](").concat(C.getAttribute("href")).concat(T,")")),t.clipboardData.setData("text/html","");return}var H=document.createElement("div");H.appendChild(i.cloneContents()),t.clipboardData.setData("text/plain",n.lute.VditorDOM2Md(H.innerHTML).trim()),t.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(t){var n=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(S(t,["hint"]),!(n.popover.style.display!=="block"||n.selectPopover.style.display!=="block")){var i=parseInt(n.popover.getAttribute("data-top"),10);if(t.options.height!=="auto"){if(t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0){var a=Math.max(window.scrollY-t.element.offsetTop-8,Math.min(i-t.wysiwyg.element.scrollTop,n.element.clientHeight-21))+"px";n.popover.style.display==="block"&&(n.popover.style.top=a),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=a)}return}else if(!t.options.toolbarConfig.pin)return;var s=Math.max(i,window.scrollY-t.element.offsetTop-8)+"px";n.popover.style.display==="block"&&(n.popover.style.top=s),n.selectPopover.style.display==="block"&&(n.selectPopover.style.top=s)}}),this.element.addEventListener("scroll",function(){if(S(t,["hint"]),t.options.comment&&t.options.comment.enable&&t.options.comment.scroll&&t.options.comment.scroll(t.wysiwyg.element.scrollTop),n.popover.style.display==="block"){var i=parseInt(n.popover.getAttribute("data-top"),10)-t.wysiwyg.element.scrollTop,a=-8;t.options.toolbarConfig.pin&&t.toolbar.element.getBoundingClientRect().top===0&&(a=window.scrollY-t.element.offsetTop+a);var s=Math.max(a,Math.min(i,n.element.clientHeight-21))+"px";n.popover.style.top=s,n.selectPopover.style.top=s}}),this.element.addEventListener("paste",function(i){Gr(t,i,{pasteCode:function(a){var s=(0,B.zh)(t),h=document.createElement("template");h.innerHTML=a,s.insertNode(h.content.cloneNode(!0));var C=(0,d.a1)(s.startContainer,"data-block","0");C?C.outerHTML=t.lute.SpinVditorDOM(C.outerHTML):t.wysiwyg.element.innerHTML=t.lute.SpinVditorDOM(t.wysiwyg.element.innerHTML),(0,B.ib)(t.wysiwyg.element,s)}})}),this.element.addEventListener("compositionstart",function(){n.composingLock=!0}),this.element.addEventListener("compositionend",function(i){var a=(0,R.W)(getSelection().getRangeAt(0).startContainer);if(a&&a.textContent===""){bt(t);return}(0,u.vU)()||vt(t,getSelection().getRangeAt(0).cloneRange(),i),n.composingLock=!1}),this.element.addEventListener("input",function(i){if(!(i.inputType==="deleteByDrag"||i.inputType==="insertFromDrop")){if(n.preventInput){n.preventInput=!1,Ve(t);return}if(n.composingLock||i.data==="‘"||i.data==="“"||i.data==="《"){Ve(t);return}var a=getSelection().getRangeAt(0),s=(0,d.F9)(a.startContainer);if(s||(or(t,a),s=(0,d.F9)(a.startContainer)),!!s){for(var h=(0,B.im)(s,t.wysiwyg.element,a).start,C=!0,O=h-1;O>s.textContent.substr(0,h).lastIndexOf(`
`);O--)if(s.textContent.charAt(O)!==" "&&s.textContent.charAt(O)!=="	"){C=!1;break}h===0&&(C=!1);for(var T=!0,O=h-1;O<s.textContent.length;O++)if(s.textContent.charAt(O)!==" "&&s.textContent.charAt(O)!==`
`){T=!1;break}T&&/^#{1,6} $/.test(s.textContent)&&(T=!1);var H=(0,R.W)(getSelection().getRangeAt(0).startContainer);if(H&&H.textContent===""&&(bt(t),H.remove()),C&&s.getAttribute("data-type")!=="code-block"||T||zn(s.innerHTML)||xe(s.innerHTML)&&s.previousElementSibling){typeof t.options.input=="function"&&t.options.input(x(t));return}i.inputType==="insertParagraph"&&n.element.innerHTML==="<p><br></p><p><br></p>"&&s.previousElementSibling.remove(),vt(t,a,i)}}}),this.element.addEventListener("click",function(i){if(i.target.tagName==="INPUT"){var a=i.target;a.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),n.preventInput=!0,getSelection().rangeCount>0&&(0,B.Hc)(getSelection().getRangeAt(0)),Ve(t);return}if(i.target.tagName==="IMG"&&!i.target.parentElement.classList.contains("vditor-wysiwyg__preview")){i.target.getAttribute("data-type")==="link-ref"?sr(t,i.target):ae(i,t);return}var s=(0,d.lG)(i.target,"A");if(s){t.options.link.click?t.options.link.click(s):t.options.link.isOpen&&window.open(s.getAttribute("href")),i.preventDefault();return}var h=(0,B.zh)(t);if(i.target.isEqualNode(n.element)&&n.element.lastElementChild&&h.collapsed){var C=n.element.lastElementChild.getBoundingClientRect();i.y>C.top+C.height&&(n.element.lastElementChild.tagName==="P"&&n.element.lastElementChild.textContent.trim().replace(g.g.ZWSP,"")===""?(h.selectNodeContents(n.element.lastElementChild),h.collapse(!1)):(n.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(g.g.ZWSP,"<wbr></p>")),(0,B.ib)(n.element,h)))}Ft(t);var O=(0,d.fb)(i.target,"vditor-wysiwyg__preview");O||(O=(0,d.fb)((0,B.zh)(t).startContainer,"vditor-wysiwyg__preview")),O&&Tn(O,t),Vt(i,t)}),this.element.addEventListener("keyup",function(i){if(!(i.isComposing||(0,u.yl)(i))){i.key==="Enter"&&nt(t),(i.key==="Backspace"||i.key==="Delete")&&t.wysiwyg.element.innerHTML!==""&&t.wysiwyg.element.childNodes.length===1&&t.wysiwyg.element.firstElementChild&&t.wysiwyg.element.firstElementChild.tagName==="P"&&t.wysiwyg.element.firstElementChild.childElementCount===0&&(t.wysiwyg.element.textContent===""||t.wysiwyg.element.textContent===`
`)&&(t.wysiwyg.element.innerHTML="");var a=(0,B.zh)(t);if(i.key==="Backspace"&&(0,u.vU)()&&a.startContainer.textContent===`
`&&a.startOffset===1&&(a.startContainer.textContent=""),or(t,a),Ft(t),!(i.key!=="ArrowDown"&&i.key!=="ArrowRight"&&i.key!=="Backspace"&&i.key!=="ArrowLeft"&&i.key!=="ArrowUp")){(i.key==="ArrowLeft"||i.key==="ArrowRight")&&t.hint.render(t);var s=(0,d.fb)(a.startContainer,"vditor-wysiwyg__preview");if(!s&&a.startContainer.nodeType!==3&&a.startOffset>0){var h=a.startContainer;h.classList.contains("vditor-wysiwyg__block")&&(s=h.lastElementChild)}if(s){var C=s.previousElementSibling;if(C.style.display==="none"){i.key==="ArrowDown"||i.key==="ArrowRight"?Tn(s,t):Tn(s,t,!1);return}var O=s.previousElementSibling;if(O.tagName==="PRE"&&(O=O.firstElementChild),i.key==="ArrowDown"||i.key==="ArrowRight"){var h=s.parentElement,T=Li(h);if(T&&T.nodeType!==3){var H=T.querySelector(".vditor-wysiwyg__preview");if(H){Tn(H,t);return}}if(T.nodeType===3){for(;T.textContent.length===0&&T.nextSibling;)T=T.nextSibling;a.setStart(T,1)}else a.setStart(T.firstChild,0)}else a.selectNodeContents(O),a.collapse(!1)}}}})},e}(),Zl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yl=function(e){Zl(t,e);function t(n,i){var a=e.call(this)||this;if(a.version=g.H,typeof n=="string"){if(i?i.cache?i.cache.id||(i.cache.id="vditor".concat(n)):i.cache={id:"vditor".concat(n)}:i={cache:{id:"vditor".concat(n)}},!document.getElementById(n))return a.showErrorTip("Failed to get element by id: ".concat(n)),a;n=document.getElementById(n)}var s=new Xl(i),h=s.merge();if(h.i18n)window.VditorI18n=h.i18n,a.init(n,h);else if(["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(h.lang)){var C="vditorI18nScript",O=C+h.lang;document.querySelectorAll('head script[id^="'.concat(C,'"]')).forEach(function(T){T.id!==O&&document.head.removeChild(T)}),(0,M.G)("".concat(h.cdn,"/dist/js/i18n/").concat(h.lang,".js"),O).then(function(){a.init(n,h)}).catch(function(T){a.showErrorTip("GET ".concat(h.cdn,"/dist/js/i18n/").concat(h.lang,".js net::ERR_ABORTED 404 (Not Found)"))})}else throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");return a}return t.prototype.showErrorTip=function(n){var i=new Ta;document.body.appendChild(i.element),i.show(n,0)},t.prototype.updateToolbarConfig=function(n){this.vditor.toolbar.updateConfig(this.vditor,n)},t.prototype.setTheme=function(n,i,a,s){this.vditor.options.theme=n,De(this.vditor),i&&(this.vditor.options.preview.theme.current=i,(0,we.Z)(i,s||this.vditor.options.preview.theme.path)),a&&(this.vditor.options.preview.hljs.style=a,(0,La.Y)(a,this.vditor.options.cdn))},t.prototype.getValue=function(){return x(this.vditor)},t.prototype.getCurrentMode=function(){return this.vditor.currentMode},t.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},t.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},t.prototype.disabled=function(){S(this.vditor,["subToolbar","hint","popover"]),m(this.vditor.toolbar.elements,g.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},t.prototype.enable=function(){w(this.vditor.toolbar.elements,g.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},t.prototype.getSelection=function(){if(this.vditor.currentMode==="wysiwyg")return rn(this.vditor.wysiwyg.element);if(this.vditor.currentMode==="sv")return rn(this.vditor.sv.element);if(this.vditor.currentMode==="ir")return rn(this.vditor.ir.element)},t.prototype.renderPreview=function(n){this.vditor.preview.render(this.vditor,n)},t.prototype.getCursorPosition=function(){return(0,B.Ny)(this.vditor[this.vditor.currentMode].element)},t.prototype.isUploading=function(){return this.vditor.upload.isUploading},t.prototype.clearCache=function(){this.vditor.options.cache.enable&&(0,u.pK)()&&localStorage.removeItem(this.vditor.options.cache.id)},t.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},t.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},t.prototype.html2md=function(n){return this.vditor.lute.HTML2Md(n)},t.prototype.exportJSON=function(n){return this.vditor.lute.RenderJSON(n)},t.prototype.getHTML=function(){return Ca(this.vditor)},t.prototype.tip=function(n,i){this.vditor.tip.show(n,i)},t.prototype.setPreviewMode=function(n){Ni(n,this.vditor)},t.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},t.prototype.updateValue=function(n){document.execCommand("insertHTML",!1,n)},t.prototype.insertValue=function(n,i){i===void 0&&(i=!0);var a=(0,B.zh)(this.vditor);a.collapse(!0);var s=document.createElement("template");s.innerHTML=n,a.insertNode(s.content.cloneNode(!0)),a.collapse(!1),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,i&&le(this.vditor)):this.vditor.currentMode==="wysiwyg"?i&&vt(this.vditor,getSelection().getRangeAt(0)):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,i&&gt(this.vditor,getSelection().getRangeAt(0),!0))},t.prototype.insertMD=function(n){this.vditor.currentMode==="ir"?(0,B.oC)(this.vditor.lute.Md2VditorIRDOM(n),this.vditor):this.vditor.currentMode==="wysiwyg"?(0,B.oC)(this.vditor.lute.Md2VditorDOM(n),this.vditor):dr(this.vditor,n),this.vditor.outline.render(this.vditor),Ee(this.vditor)},t.prototype.setValue=function(n,i){var a=this;i===void 0&&(i=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>".concat(this.vditor.lute.SpinVditorSVDOM(n),"</div>"),it(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?Qe(this.vditor,n,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(n),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(s){Ye(s,a.vditor)}),an(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),n||(S(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),i&&this.clearStack()},t.prototype.insertEmptyBlock=function(n){pn(this.vditor,n)},t.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},t.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var n=document.getElementById("vditorIconScript");n&&n.remove(),this.clearCache(),jr(),this.vditor.wysiwyg.unbindListener(),this.vditor.options.after=void 0},t.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},t.prototype.hlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var i=function(a){a.classList.remove("vditor-comment--hover"),n.forEach(function(s){a.getAttribute("data-cmtids").indexOf(s)>-1&&a.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(a){i(a)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(a){i(a)})}},t.prototype.unHlCommentIds=function(n){if(this.vditor.currentMode==="wysiwyg"){var i=function(a){n.forEach(function(s){a.getAttribute("data-cmtids").indexOf(s)>-1&&a.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(a){i(a)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(a){i(a)})}},t.prototype.removeCommentIds=function(n){var i=this;if(this.vditor.currentMode==="wysiwyg"){var a=function(s,h){var C=s.getAttribute("data-cmtids").split(" ");C.find(function(O,T){if(O===h)return C.splice(T,1),!0}),C.length===0?(s.outerHTML=s.innerHTML,(0,B.zh)(i.vditor).collapse(!0)):s.setAttribute("data-cmtids",C.join(" "))};n.forEach(function(s){i.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(h){a(h,s)}),i.vditor.preview.element.style.display!=="none"&&i.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(h){a(h,s)})}),Ve(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},t.prototype.init=function(n,i){var a=this;this.vditor={currentMode:i.mode,element:n,hint:new Vs(i.hint.extend),lute:void 0,options:i,originalInnerHTML:n.innerHTML,outline:new zs(window.VditorI18n.outline),tip:new Ta},this.vditor.sv=new Xs(this.vditor),this.vditor.undo=new Wl,this.vditor.wysiwyg=new Jl(this.vditor),this.vditor.ir=new Fs(this.vditor),this.vditor.toolbar=new zl(this.vditor),i.resize.enable&&(this.vditor.resize=new Gs(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new f),(i.upload.url||i.upload.handler)&&(this.vditor.upload=new _e),(0,M.G)(i._lutePath||"".concat(i.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){a.vditor.lute=(0,qs.X)({autoSpace:a.vditor.options.preview.markdown.autoSpace,gfmAutoLink:a.vditor.options.preview.markdown.gfmAutoLink,codeBlockPreview:a.vditor.options.preview.markdown.codeBlockPreview,emojiSite:a.vditor.options.hint.emojiPath,emojis:a.vditor.options.hint.emoji,fixTermTypo:a.vditor.options.preview.markdown.fixTermTypo,footnotes:a.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:a.vditor.options.preview.math.inlineDigit,linkBase:a.vditor.options.preview.markdown.linkBase,linkPrefix:a.vditor.options.preview.markdown.linkPrefix,listStyle:a.vditor.options.preview.markdown.listStyle,mark:a.vditor.options.preview.markdown.mark,mathBlockPreview:a.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:a.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:a.vditor.options.preview.markdown.sanitize,toc:a.vditor.options.preview.markdown.toc}),a.vditor.preview=new Ws(a.vditor),St(a.vditor),i.after&&i.after(),i.icon&&(0,M.J)("".concat(i.cdn,"/dist/js/icons/").concat(i.icon,".js"),"vditorIconScript")})},t}(E.default);const Ql=Yl})(),_=_.default,_})()})}(ii)),ii.exports}var Np=Dp();const En=xo(Np);function wa(r){r.querySelectorAll("pre > code:not([data-copy-attached])").forEach(l=>{l.setAttribute("data-copy-attached","true");const c=l.parentElement,p=document.createElement("div");p.className="copy-wrapper";const _=document.createElement("button");_.className="copy-btn",_.innerText="复制",_.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(l.innerText),_.innerText="已复制",setTimeout(()=>_.innerText="复制",1500)}catch{_.innerText="失败"}}),c.replaceWith(p),p.appendChild(_),p.appendChild(c)})}const Hp=["innerHTML"],Pp={style:{margin:"12px"}},Ip={class:"dida-operation-container"},jp={class:"dida-code-submit-div"},Bp=mt({__name:"ProblemDetail",setup(r){let o=cn();const{globalProperties:l}=en(),c=ma();let p=de("");const _=de(""),E=de(null),g=de(!1),v=de(null);let x=null;const M=de(null),f={},u=de(""),b=de([]);b.value=Os();const y=A=>{A&&Ut.push({name:"problem-list",query:{...o.query,title:"",tag:A.name}})},w=()=>{Ut.push({name:"judge-list",query:{problem_id:_.value}})},m=()=>{},k=()=>{Ut.push({name:"problem-recommend",params:{problemId:_.value}})},L=async()=>{if(!_.value){ri(l,"问题ID无效");return}const A=parseInt(u.value);if(!wp(A)){ri(l,"请选择所编写的语言");return}const d=x==null?void 0:x.getValue();if(!d){ri(l,"请输入所需提交的代码");return}const R=await Ep(_.value,A,d);if(R.code!==0){Lt(l,R.code);return}jn(l,"提交成功，正在跳转到详情页面");const D=R.data.id;await Ut.push({path:"/judge/"+D})},S=A=>{x&&Na.setModelLanguage(x.getModel(),Ds(A))};return jt(async()=>{if(o.params.problemId&&o.params.problemId.length===1)_.value=o.params.problemId[0];else{await Ut.push({name:"problem"});return}g.value=!0;const A=await Tp(_.value);if(A.code!==0){g.value=!1,Lt(l,A.code),await Ut.push({name:"problem"});return}A.data.tags&&A.data.tags.forEach(D=>{f[D.id]=D}),v.value=Hs(A.data.problem,f),c.setTitle(v.value.title+" - "+c.getTitle);let d=v.value.description;const R={math:{inlineDigit:!0,engine:"KaTeX"}};p.value=await En.md2html(d,R),await Pn(()=>{E.value&&(En.mathRender(E.value),En.highlightRender({lineNumber:!0,enable:!0},E.value),wa(E.value),M.value&&(x=Na.create(M.value,{value:"",language:"cpp",minimap:{enabled:!0},colorDecorators:!0,readOnly:!1,theme:"vs-dark"}))),g.value=!1})}),(A,d)=>{const R=ln,D=Mr,I=Ro,N=Ge,V=nr,W=Oo,te=No,pe=Do,Se=Ar,Me=xr;return Le(),Ue(Me,{loading:g.value},{default:K(()=>[$(Se,{class:"dida-main-content"},{default:K(()=>[$(D,{span:8},{default:K(()=>[$(R,{style:{margin:"10px"}},{default:K(()=>[Je("div",{innerHTML:$t(p),ref_key:"markdownRef",ref:E},null,8,Hp)]),_:1})]),_:1}),$(D,{span:4},{default:K(()=>[Je("div",Pp,[$(W,{layout:"vertical",bordered:!0},{default:K(()=>[$(I,{label:"标题"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.title),1)]}),_:1}),$(I,{label:"时间限制"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.timeLimit),1)]}),_:1}),$(I,{label:"内存限制"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.memoryLimit),1)]}),_:1}),$(I,{label:"判题方式"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.judgeType),1)]}),_:1}),$(I,{label:"正确提交"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.accept),1)]}),_:1}),$(I,{label:"提交总数"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.attempt),1)]}),_:1}),$(I,{label:"创建时间"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.insertTime),1)]}),_:1}),$(I,{label:"更新时间"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.updateTime),1)]}),_:1}),$(I,{label:"上传用户"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.creatorNickname),1)]}),_:1}),$(I,{label:"题目来源"},{default:K(()=>{var re;return[Ae(et((re=v.value)==null?void 0:re.source),1)]}),_:1}),$(I,{label:"标签"},{default:K(()=>[$(V,null,{default:K(()=>{var re;return[(Le(!0),dt(Tt,null,Qt((re=v.value)==null?void 0:re.tags,se=>(Le(),Ue(N,{key:se.id,variant:"dashed",onClick:()=>y(se)},{default:K(()=>[Ae(et(se.name),1)]),_:2},1032,["onClick"]))),128))]}),_:1})]),_:1})]),_:1}),Je("div",Ip,[$(V,null,{default:K(()=>[$(N,{onClick:w},{default:K(()=>d[1]||(d[1]=[Ae("提交记录")])),_:1}),$(N,{onClick:m},{default:K(()=>d[2]||(d[2]=[Ae("题目讨论")])),_:1}),$(N,{onClick:k},{default:K(()=>d[3]||(d[3]=[Ae("题目推荐")])),_:1})]),_:1})]),Je("div",jp,[$(V,null,{default:K(()=>[$(pe,{modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=re=>u.value=re),label:"语言：",placeholder:"请选择提交语言","auto-width":"",clearable:"",onChange:S},{default:K(()=>[(Le(!0),dt(Tt,null,Qt(b.value,re=>(Le(),Ue(te,{key:re.value,value:re.value,label:re.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),$(N,{onClick:L},{default:K(()=>d[4]||(d[4]=[Ae("提交")])),_:1})]),_:1}),Je("div",{ref_key:"codeEditRef",ref:M,class:"dida-code-editor"},null,512)])])]),_:1})]),_:1})]),_:1},8,["loading"])}}}),Up=pt(Bp,[["__scopeId","data-v-b531a672"]]),$p={};function Vp(r,o){return" TODO "}const Fp=pt($p,[["render",Vp]]);function qp(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!ua(r)}const zp=mt({__name:"JudgeJobList",setup(r){const o=cn(),l=ki(),{globalProperties:c}=en();let p=!1,_=null;const E=de({problemId:"",username:"",language:void 0,status:void 0}),g=de([{title:"ID",colKey:"id",cell:(R,D)=>$(Ge,{variant:"text",onClick:()=>m(D.row.id)},{default:()=>[D.row.id]})},{title:"问题",colKey:"problemId",cell:(R,D)=>$(Ge,{variant:"text",onClick:()=>w(D.row.problemId)},{default:()=>[D.row.problemId]})},{title:"状态",colKey:"status",align:"center",cell:(R,D)=>{const I=D.row.status,N=ui(I);let V;switch(I){case ct.Init:case ct.Rejudge:case ct.Compiling:case ct.Running:V="default";break;case ct.Accept:V="success";break;case ct.PE:V="warning";break;default:V="danger";break}let W=[];return Lr(I)&&W.push($(xr,{text:D.row.state,size:"small",class:"dida-status-loading"},null)),W.push($("span",null,[N])),$(Ge,{theme:V,variant:"outline",onClick:()=>m(D.row.id)},qp(W)?W:{default:()=>[W]})}},{title:"分数",colKey:"score"},{title:"时间",colKey:"time"},{title:"内存",colKey:"memory"},{title:"代码",colKey:"code",cell:(R,D)=>$(Ge,{theme:"default",onClick:()=>m(D.row.id)},{default:()=>[D.row.language+" / "+D.row.codeLength]})},{title:"作者",colKey:"author",width:200,cell:(R,D)=>$(Ge,{variant:"text",onClick:()=>k(D.row.authorUsername)},{default:()=>[D.row.authorNickname]})},{title:"提交时间",colKey:"approveTime",width:180}]),v=de(!1);let x=1,M=50;const f=de({defaultPageSize:M,defaultCurrent:x,total:0,pageSizeOptions:[50,100]}),u=de(),b=de([]);b.value=Os();const y=de([]);y.value=_p();const w=R=>{R&&l.push({path:"/problem/"+R})},m=R=>{R&&l.push({path:"/judge/"+R})},k=R=>{R&&l.push({path:"/user/"+R})},L=async()=>{await l.push({query:{...o.query,page:1,page_size:M,problem_id:E.value.problemId,username:E.value.username,language:E.value.language,status:E.value.status}})},S=async()=>{E.value.problemId="",E.value.username="",E.value.language=void 0,E.value.status=void 0,await l.push({query:{...o.query,page:1,page_size:M,problem_id:"",username:"",language:void 0,status:void 0}})},A=async(R,D)=>{D&&(v.value=!0);let I=!1;try{const{current:N,pageSize:V}=R,W=await Cp(E.value.problemId,E.value.username,E.value.language,E.value.status,N,V);u.value=[],W.code===0?W.data.list&&W.data.list.length>0?(W.data.list.forEach(pe=>{var Me;const Se=Ns(pe);(Me=u.value)==null||Me.push(Se),Lr(pe.status)&&(I=!0)}),f.value={...f.value,total:W.data.total_count}):(jn(c,"未找到记录"),f.value={...f.value,total:0}):D&&Lt(c,W.code)}catch(N){console.error(N),D&&Lt(c,Ti())}finally{D&&(v.value=!1),I&&p&&setTimeout(()=>{A({current:x,pageSize:M},!1)},5e3)}},d=async R=>{await l.push({query:{...o.query,page:R.current,page_size:R.pageSize}})};return jt(async()=>{p=!0,_=Bn(()=>o.query,R=>{E.value.problemId=R.problem_id||"",E.value.username=R.username||"",R.language!=null?E.value.language=Number(R.language):E.value.language=void 0,R.status!=null?E.value.status=Number(R.status):E.value.status=void 0;const D=parseInt(R.page)||f.value.defaultCurrent,I=parseInt(R.page_size)||f.value.defaultPageSize;x=D,M=I,f.value={...f.value,defaultCurrent:x,defaultPageSize:M},A({current:x,pageSize:M},!0)},{immediate:!0})}),Or(()=>{p=!1,_&&_()}),(R,D)=>{const I=pi,N=di,V=No,W=Do,te=Ge,pe=nr,Se=fi,Me=Rr,re=ln;return Le(),Ue(re,{style:{margin:"10px"}},{default:K(()=>[$(Se,{layout:"inline",onSubmit:L,onReset:S},{default:K(()=>[$(N,{label:"题号"},{default:K(()=>[$(I,{modelValue:E.value.problemId,"onUpdate:modelValue":D[0]||(D[0]=se=>E.value.problemId=se),placeholder:"请输入完整题号"},null,8,["modelValue"])]),_:1}),$(N,{label:"用户"},{default:K(()=>[$(I,{modelValue:E.value.username,"onUpdate:modelValue":D[1]||(D[1]=se=>E.value.username=se),placeholder:"仅支持输入完整用户名"},null,8,["modelValue"])]),_:1}),$(N,{label:"语言"},{default:K(()=>[$(W,{modelValue:E.value.language,"onUpdate:modelValue":D[2]||(D[2]=se=>E.value.language=se),placeholder:"请选择提交语言","auto-width":"",clearable:""},{default:K(()=>[(Le(!0),dt(Tt,null,Qt(b.value,se=>(Le(),Ue(V,{key:se.value,value:se.value,label:se.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),$(N,{label:"状态"},{default:K(()=>[$(W,{modelValue:E.value.status,"onUpdate:modelValue":D[3]||(D[3]=se=>E.value.status=se),placeholder:"请选择评测状态","auto-width":"",clearable:""},{default:K(()=>[(Le(!0),dt(Tt,null,Qt(y.value,se=>(Le(),Ue(V,{key:se.value,value:se.value,label:se.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),$(N,null,{default:K(()=>[$(pe,null,{default:K(()=>[$(te,{theme:"primary",type:"submit"},{default:K(()=>D[4]||(D[4]=[Ae("搜索")])),_:1}),$(te,{theme:"default",variant:"base",type:"reset"},{default:K(()=>D[5]||(D[5]=[Ae("重置")])),_:1})]),_:1})]),_:1})]),_:1}),$(Me,{data:u.value,columns:g.value,"row-key":"id","vertical-align":"top",hover:!0,pagination:f.value,loading:v.value,onPageChange:d},null,8,["data","columns","pagination","loading"])]),_:1})}}}),Kp=pt(zp,[["__scopeId","data-v-609b5c5b"]]),Wp=["innerHTML"];function bo(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!ua(r)}const Gp=mt({__name:"JudgeJobDetail",setup(r){const o=cn(),l=ki(),{globalProperties:c}=en();let p=!1,_=-1;const E=de(null),g=de(""),v=de(null),x=de([{title:"ID",colKey:"id"},{title:"问题",colKey:"problemId",cell:(m,k)=>$(Ge,{variant:"text",onClick:()=>u(k.row.problemId)},{default:()=>[k.row.problemId]})},{title:"状态",colKey:"status",align:"center",cell:(m,k)=>{const L=k.row.status,S=ui(L);let A;switch(L){case ct.Init:case ct.Rejudge:case ct.Compiling:case ct.Running:A="default";break;case ct.Accept:A="success";break;case ct.PE:A="warning";break;default:A="danger";break}let d=[];return Lr(L)&&d.push($(xr,{text:k.row.state,size:"small",class:"dida-status-loading"},null)),d.push($("span",null,[S])),$(Ge,{theme:A,variant:"outline"},bo(d)?d:{default:()=>[d]})}},{title:"分数",colKey:"score"},{title:"时间",colKey:"time"},{title:"内存",colKey:"memory"},{title:"代码",colKey:"language",cell:(m,k)=>$("span",null,[k.row.language+" / "+k.row.codeLength])},{title:"作者",colKey:"author",cell:(m,k)=>$(Ge,{variant:"text",onClick:()=>b(k.row.authorUsername)},{default:()=>[k.row.authorNickname]})},{title:"提交时间",colKey:"approveTime",width:180}]),M=de(!1),f=de(),u=m=>{m&&l.push({path:"/problem/"+m})},b=m=>{m&&l.push({path:"/user/"+m})},y=m=>{const k=m.status,L=ui(k);let S;switch(k){case ct.Init:case ct.Rejudge:case ct.Compiling:case ct.Running:S="default";break;case ct.Accept:S="success";break;case ct.PE:S="warning";break;default:S="danger";break}return $(nr,null,{default:()=>[$(Ge,{theme:"default",variant:"outline"},{default:()=>[m.taskId]}),$(Ge,{theme:S,variant:"outline"},bo(L)?L:{default:()=>[L]}),$("span",null,[Ae("分数："),m.score]),$("span",null,[Ae("用时："),m.time]),$("span",null,[Ae("内存："),m.memory])]})},w=async m=>{var L;m&&(M.value=!0);let k=!1;try{const S=await Sp(_);if(f.value=[],S.code===0){const A=S.data,d=Ns(A);(L=f.value)==null||L.push(d);const R={};if(A.code){const I=`\`\`\`${Ds(A.language)}
${A.code}
\`\`\``;g.value=await En.md2html(I,R),await Pn(()=>{v.value&&(En.highlightRender({lineNumber:!0,enable:!0},v.value),wa(v.value))})}E.value=d,Lr(A.status)&&(k=!0)}else m&&Lt(c,S.code)}catch(S){console.error(S),m&&Lt(c,Ti())}finally{m&&(M.value=!1),k&&p&&setTimeout(()=>{w(!1)},5e3)}};return jt(async()=>{if(p=!0,o.params.judgeId&&o.params.judgeId.length===1)_=parseInt(o.params.judgeId[0]);else{await l.push({name:"judge"});return}await w(!0)}),Or(()=>{p=!1}),(m,k)=>{var R,D;const L=Rr,S=ln,A=Po,d=Ho;return Le(),dt(Tt,null,[$(S,{style:{margin:"10px"}},{default:K(()=>[$(L,{data:f.value,columns:x.value,"row-key":"id","vertical-align":"top",hover:!0,loading:M.value},null,8,["data","columns","loading"])]),_:1}),Je("div",{innerHTML:g.value,ref_key:"markdownCodeRef",ref:v},null,8,Wp),(R=E.value)!=null&&R.compileMessage?(Le(),Ue(S,{key:0,class:"compile-message"},{default:K(()=>{var I;return[Ae(et((I=E.value)==null?void 0:I.compileMessage),1)]}),_:1})):Cn("",!0),((D=E.value)==null?void 0:D.task.length)>0?(Le(),Ue(d,{key:1,class:"task-panel"},{default:K(()=>{var I;return[(Le(!0),dt(Tt,null,Qt((I=E.value)==null?void 0:I.task,N=>(Le(),Ue(A,{key:N.taskId,header:()=>y(N)},{default:K(()=>[Ae(et(N.content)+" "+et(N.waHint),1)]),_:2},1032,["header"]))),128))]}),_:1})):Cn("",!0)],64)}}}),Xp=pt(Gp,[["__scopeId","data-v-dff28af3"]]);function Jp(r){let o="";for(r++;r>0;)r--,o=String.fromCharCode(65+r%26)+o,r=Math.floor(r/26);return o}async function Ps(r){const o={};if(o.id=r.id,o.ownerId=r.owner_id,o.ownerUsername=r.owner_username,o.ownerNickname=r.owner_nickname,o.title=r.title,o.startTime=new Date(r.start_time).toLocaleString(),o.endTime=new Date(r.end_time).toLocaleString(),r.descriptions){o.descriptions=[];const l={math:{inlineDigit:!0,engine:"KaTeX"}};for(let c=0;c<r.descriptions.length;c++){const p=r.descriptions[c],_={};_.title=p.title,_.content=await En.md2html(p.content,l),_.sort=p.sort,o.descriptions.push(_)}}if(o.notification=r.notification,r.problems){o.problems=[],r.problems.sort((l,c)=>l.sort-c.sort);for(let l=0;l<r.problems.length;l++){const c=r.problems[l];c.accept||(c.accept=0),c.attempt||(c.attempt=0),c.id=Jp(l),o.problems.push(c)}}return o}function Zp(r){return Rt({url:"/contest?id="+r,method:"get"})}function Yp(r,o){return Rt({url:"/contest/list?page="+r+"&page_size="+o,method:"get"})}function Qp(r){return Rt({url:"/contest/create",method:"post",data:r})}const eh={style:{margin:"10px"}},th=mt({__name:"ContestList",setup(r){const o=cn(),l=ki(),{globalProperties:c}=en();let p=null;const _=de(!1),E=de(!1),g=de([{title:"ID",colKey:"id",width:"100",cell:(A,d)=>$(Ge,{variant:"text",onClick:()=>w(d.row.id)},{default:()=>[d.row.id]})},{title:"标题",colKey:"title",cell:(A,d)=>$(Ge,{variant:"text",onClick:()=>w(d.row.id)},{default:()=>[d.row.title]})},{title:"负责人",colKey:"ownerNickname",width:"200"},{title:"开始时间",colKey:"startTime",width:"180"},{title:"结束时间",colKey:"endTime",width:"180"}]),v=de(!1);let x=1,M=50;const f=de({defaultPageSize:M,defaultCurrent:x,total:0,pageSizeOptions:[50,100]}),u=de(),b=de({title:""}),y=de({title:"",description:"",open_time:[]}),w=A=>{A&&l.push({path:"/contest/"+A})},m=async(A,d)=>{var R;v.value=!0;try{const{current:D,pageSize:I}=A,N=await Yp(D,I);if(u.value=[],N.code===0){const V=N.data.list;for(let W=0;W<V.length;W++){const te=V[W],pe=await Ps(te);(R=u.value)==null||R.push(pe)}f.value={...f.value,total:N.data.total_count}}else d&&Lt(c,N.code)}catch(D){console.error(D),Lt(c,Ti())}finally{v.value=!1}},k=async A=>{await l.push({query:{...o.query,page:A.current,page_size:A.pageSize}})},L=()=>{_.value=!0},S=async()=>{E.value=!0,console.log("contestCreateForm",y.value),Qp(y.value).then(A=>{A.code===0?(jn(c,"创建比赛成功"),_.value=!1,l.push({path:"/contest/"+A.data.id})):Lt(c,A.code)}).finally(()=>{E.value=!1})};return jt(async()=>{p=Bn(()=>o.query,A=>{const d=parseInt(A.page)||f.value.defaultCurrent,R=parseInt(A.page_size)||f.value.defaultPageSize;x=d,M=R,f.value={...f.value,defaultCurrent:x,defaultPageSize:M},m({current:x,pageSize:M},!0)},{immediate:!0})}),Or(()=>{p&&p()}),(A,d)=>{const R=Rr,D=ln,I=Mr,N=pi,V=di,W=Ge,te=fi,pe=nr,Se=Ar,Me=kc,re=Sc;return Le(),dt(Tt,null,[$(Se,null,{default:K(()=>[$(I,{span:9},{default:K(()=>[$(D,{style:{margin:"10px"}},{default:K(()=>[$(R,{data:u.value,columns:g.value,"row-key":"id","vertical-align":"top",hover:!0,pagination:f.value,loading:v.value,onPageChange:k},null,8,["data","columns","pagination","loading"])]),_:1})]),_:1}),$(I,{span:3},{default:K(()=>[Je("div",eh,[$(D,{class:"sh-card"},{default:K(()=>[$(te,{model:b.value},{default:K(()=>[$(V,{label:"标题"},{default:K(()=>[$(N,{modelValue:b.value.title,"onUpdate:modelValue":d[0]||(d[0]=se=>b.value.title=se),placeholder:"暂不支持模糊查询"},null,8,["modelValue"])]),_:1}),$(V,null,{default:K(()=>[$(W,{theme:"primary"},{default:K(()=>d[5]||(d[5]=[Ae("提交")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),$(D,{class:"sh-card"},{default:K(()=>[$(pe,null,{default:K(()=>[$(W,{onClick:L},{default:K(()=>d[6]||(d[6]=[Ae("创建")])),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),$(re,{visible:_.value,"onUpdate:visible":d[4]||(d[4]=se=>_.value=se),header:"创建比赛",onConfirm:S,"confirm-loading":E.value},{default:K(()=>[$(te,{"label-width":80,model:y.value,onSubmit:d[3]||(d[3]=Cc(()=>{},["prevent"]))},{default:K(()=>[$(V,{label:"标题"},{default:K(()=>[$(N,{modelValue:y.value.title,"onUpdate:modelValue":d[1]||(d[1]=se=>y.value.title=se),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),$(V,{label:"开启时间"},{default:K(()=>[$(Me,{"enable-time-picker":"","allow-input":"",clearable:"",modelValue:y.value.open_time,"onUpdate:modelValue":d[2]||(d[2]=se=>y.value.open_time=se)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","confirm-loading"])],64)}}}),Dn=pt(th,[["__scopeId","data-v-9fe1e17c"]]),nh=["innerHTML"],rh={style:{margin:"12px"}},ih=mt({__name:"ContestDetail",setup(r){let o=cn();const{globalProperties:l}=en(),c=de(""),p=de(!1),_=de(null),E=de([{title:"ID",colKey:"id",cell:(v,x)=>$(Ge,{variant:"text"},{default:()=>[x.row.id]})},{title:"标题",colKey:"title",cell:(v,x)=>$(Ge,{variant:"text"},{default:()=>[x.row.title]})},{title:"正确",colKey:"accept"},{title:"提交",colKey:"attempt"}]),g=de([]);return jt(async()=>{if(o.params.contestId&&o.params.contestId.length===1)c.value=o.params.contestId[0];else{await Ut.push({name:"contest"});return}p.value=!0;const v=await Zp(c.value);if(v.code!==0){p.value=!1,Lt(l,v.code),await Ut.push({name:"contest"});return}_.value=await Ps(v.data),g.value=_.value.problems,await Pn(()=>{const x=document.querySelectorAll(".contest-description");x&&x.length>0&&x.forEach(M=>{En.mathRender(M),En.highlightRender({lineNumber:!0,enable:!0},M),wa(M)}),p.value=!1})}),(v,x)=>{const M=Tc,f=Ge,u=nr,b=Po,y=Ho,w=Rr,m=ln,k=Mr,L=Ro,S=Oo,A=Ar,d=xr;return Le(),Ue(d,{loading:p.value},{default:K(()=>[$(A,{class:"dida-main-content"},{default:K(()=>[$(k,{span:8},{default:K(()=>{var R,D,I;return[Je("h1",null,et((R=_.value)==null?void 0:R.title),1),(D=_.value)!=null&&D.notification?(Le(),Ue(M,{key:0,theme:"info",message:(I=_.value)==null?void 0:I.notification},null,8,["message"])):Cn("",!0),$(y,{"default-value":[0],"expand-icon":!1,borderless:!0},{default:K(()=>{var N;return[(Le(!0),dt(Tt,null,Qt((N=_.value)==null?void 0:N.descriptions,(V,W)=>(Le(),Ue(b,{key:W,header:V.title},Xi({default:K(()=>[Je("div",{innerHTML:V.content,class:"dida-content-description"},null,8,nh)]),_:2},[W===0?{name:"headerRightContent",fn:K(()=>[$(u,{size:"small"},{default:K(()=>[$(f,{size:"small"},{default:K(()=>x[0]||(x[0]=[Ae("收起全部")])),_:1}),$(f,{size:"small"},{default:K(()=>x[1]||(x[1]=[Ae("展开全部")])),_:1})]),_:1})]),key:"0"}:void 0]),1032,["header"]))),128))]}),_:1}),$(m,{style:{margin:"10px"}},{default:K(()=>[$(w,{data:g.value,columns:E.value,"row-key":"id","vertical-align":"top",hover:!0},null,8,["data","columns"])]),_:1})]}),_:1}),$(k,{span:4},{default:K(()=>[Je("div",rh,[$(S,{layout:"vertical",bordered:!0},{default:K(()=>[$(L,{label:"开始时间"},{default:K(()=>{var R;return[Ae(et((R=_.value)==null?void 0:R.startTime),1)]}),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["loading"])}}}),ah=pt(ih,[["__scopeId","data-v-7aec72d2"]]),oh=mt({__name:"ManageJudge",setup(r){const{globalProperties:o}=en(),l=async()=>{const c=await kp();if(c.code!==0){Lt(o,c.code);return}jn(o,"重判成功")};return(c,p)=>{const _=Ge,E=ln;return Le(),Ue(E,{class:"yj-manage-card",title:"重判"},{default:K(()=>[$(_,{onClick:l},{default:K(()=>p[0]||(p[0]=[Ae("重判")])),_:1})]),_:1})}}}),sh=pt(oh,[["__scopeId","data-v-5ec0c045"]]),Is=[{name:"problem-list",tab:"problem",sidebar:"problem-list",path:"",title:"问题列表",icon:"cpu",component:go},{name:"problem-detail",tab:"problem",sidebar:"problem-list",path:":problemId+",title:"问题详情",icon:"cpu",component:Up},{name:"problem-recommend",tab:"problem",sidebar:"problem-recommend",path:"recommend/:problemId*",title:"问题推荐",icon:"cpu",component:Fp},{name:"judge-list",tab:"judge",sidebar:"judge-list",path:"",title:"评测列表",icon:"cpu",component:Kp},{name:"judge-detail",tab:"judge",sidebar:"judge-list",path:":judgeId+",title:"评测详情",icon:"cpu",component:Xp},{name:"contest-list",tab:"contest",sidebar:"contest-list",path:"",title:"比赛列表",icon:"cpu",component:Dn},{name:"contest-recent",tab:"contest",sidebar:"contest-recent",path:"recent",title:"近期比赛",icon:"cpu",component:Dn},{name:"contest-detail",tab:"contest-detail",sidebar:"contest-detail",path:":contestId+",title:"比赛详情",icon:"cpu",component:ah},{name:"contest-problem",tab:"contest-detail",sidebar:"contest-problem",path:":contestId+/problem",title:"问题列表",icon:"cpu",component:Dn},{name:"contest-judge",tab:"contest-detail",sidebar:"contest-judge",path:":contestId+/judge",title:"评测列表",icon:"cpu",component:Dn},{name:"contest-rank",tab:"contest-detail",sidebar:"contest-rank",path:":contestId+/rank",title:"比赛排名",icon:"cpu",component:Dn},{name:"contest-statistics",tab:"contest-detail",sidebar:"contest-statistics",path:":contestId+/statistics",title:"结果统计",icon:"cpu",component:Dn},{name:"contest-discuss",tab:"contest-detail",sidebar:"contest-discuss",path:":contestId+/discuss",title:"比赛讨论",icon:"cpu",component:Dn},{name:"manage-problem",tab:"manage",path:"problem",sidebar:"manage-problem",title:"问题管理",icon:"cpu",auths:["i-manage-problem"],component:go},{name:"manage-judge",tab:"manage",path:"judge",sidebar:"manage-judge",title:"评测管理",icon:"cpu",auths:["i-manage-judge"],component:sh}],wo=(r,o,l)=>{l.tab==o&&(l.disableSidebar||l.sidebar==null||l.sidebar!=l.name||r.push({name:l.name,title:l.title,icon:l.icon,to:{name:l.name}}))},lh=r=>{const o=[];return Is.forEach(l=>{if(As(l)){const c=[];l.children.forEach(p=>{wo(c,r,p)}),c.length>0&&o.push({title:l.title,children:c})}else wo(o,r,l)}),o},vo=(r,o)=>{const l=zd(o.tab),c={name:o.name,path:"/"+o.path,meta:{title:o.title+" - "+l.title,tab:o.tab,sidebar:o.sidebar,showSidebar:l.showSidebar,needLogin:l.needLogin||o.needLogin,tabAuths:l.auths,auths:o.auths},component:o.component};l.disablePath||(c.path=l.path+c.path),r.push(c)},ch=r=>{Is.forEach(o=>{As(o)?o.children.forEach(l=>{vo(r,l)}):vo(r,o)})},Hr=[];Wd(Hr);ch(Hr);Hr.push({path:"/403",name:"403",component:Ms});Hr.push({path:"/:pathMatch(.*)*",name:"404",component:Ls});const Ut=Rd({history:sd("/"),routes:Hr});Ut.beforeEach((r,o,l)=>{if(r.name==null||!Ut.hasRoute(r.name)){l({name:"home"});return}const c=r.matched[r.matched.length-1].meta;if(c.redirect){l({name:c.redirect});return}if(c.needLogin){const _=Qn();if(_.getToken==null||_.getToken==""){l({name:"login",query:{redirect_uri:r.fullPath}});return}}const p=c.tabAuths;if(p&&!Qn().hasAllAuths(p)){l({name:"403",query:{target:r.fullPath}});return}l()});Ut.afterEach((r,o)=>{if(r.name===o.name)return;const l=Ei(),c=ma();let p=null;if(r.matched.length>0&&(p=r.matched[r.matched.length-1].meta),p!=null&&p.title&&c.setTitle(p==null?void 0:p.title),p!=null&&p.showSidebar){l.setSidebarShow(!0);const _=lh(p==null?void 0:p.tab);l.setMenuList(_),l.setMenuActiveName(p==null?void 0:p.sidebar)}else l.setSidebarShow(!1)});var Gi,_o;function uh(){if(_o)return Gi;_o=1;function r(P){return P instanceof Map?P.clear=P.delete=P.set=function(){throw new Error("map is read-only")}:P instanceof Set&&(P.add=P.clear=P.delete=function(){throw new Error("set is read-only")}),Object.freeze(P),Object.getOwnPropertyNames(P).forEach(G=>{const ae=P[G],Ce=typeof ae;(Ce==="object"||Ce==="function")&&!Object.isFrozen(ae)&&r(ae)}),P}class o{constructor(G){G.data===void 0&&(G.data={}),this.data=G.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function l(P){return P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function c(P,...G){const ae=Object.create(null);for(const Ce in P)ae[Ce]=P[Ce];return G.forEach(function(Ce){for(const ze in Ce)ae[ze]=Ce[ze]}),ae}const p="</span>",_=P=>!!P.scope,E=(P,{prefix:G})=>{if(P.startsWith("language:"))return P.replace("language:","language-");if(P.includes(".")){const ae=P.split(".");return[`${G}${ae.shift()}`,...ae.map((Ce,ze)=>`${Ce}${"_".repeat(ze+1)}`)].join(" ")}return`${G}${P}`};class g{constructor(G,ae){this.buffer="",this.classPrefix=ae.classPrefix,G.walk(this)}addText(G){this.buffer+=l(G)}openNode(G){if(!_(G))return;const ae=E(G.scope,{prefix:this.classPrefix});this.span(ae)}closeNode(G){_(G)&&(this.buffer+=p)}value(){return this.buffer}span(G){this.buffer+=`<span class="${G}">`}}const v=(P={})=>{const G={children:[]};return Object.assign(G,P),G};class x{constructor(){this.rootNode=v(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(G){this.top.children.push(G)}openNode(G){const ae=v({scope:G});this.add(ae),this.stack.push(ae)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(G){return this.constructor._walk(G,this.rootNode)}static _walk(G,ae){return typeof ae=="string"?G.addText(ae):ae.children&&(G.openNode(ae),ae.children.forEach(Ce=>this._walk(G,Ce)),G.closeNode(ae)),G}static _collapse(G){typeof G!="string"&&G.children&&(G.children.every(ae=>typeof ae=="string")?G.children=[G.children.join("")]:G.children.forEach(ae=>{x._collapse(ae)}))}}class M extends x{constructor(G){super(),this.options=G}addText(G){G!==""&&this.add(G)}startScope(G){this.openNode(G)}endScope(){this.closeNode()}__addSublanguage(G,ae){const Ce=G.root;ae&&(Ce.scope=`language:${ae}`),this.add(Ce)}toHTML(){return new g(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function f(P){return P?typeof P=="string"?P:P.source:null}function u(P){return w("(?=",P,")")}function b(P){return w("(?:",P,")*")}function y(P){return w("(?:",P,")?")}function w(...P){return P.map(ae=>f(ae)).join("")}function m(P){const G=P[P.length-1];return typeof G=="object"&&G.constructor===Object?(P.splice(P.length-1,1),G):{}}function k(...P){return"("+(m(P).capture?"":"?:")+P.map(Ce=>f(Ce)).join("|")+")"}function L(P){return new RegExp(P.toString()+"|").exec("").length-1}function S(P,G){const ae=P&&P.exec(G);return ae&&ae.index===0}const A=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function d(P,{joinWith:G}){let ae=0;return P.map(Ce=>{ae+=1;const ze=ae;let Qe=f(Ce),ge="";for(;Qe.length>0;){const he=A.exec(Qe);if(!he){ge+=Qe;break}ge+=Qe.substring(0,he.index),Qe=Qe.substring(he.index+he[0].length),he[0][0]==="\\"&&he[1]?ge+="\\"+String(Number(he[1])+ze):(ge+=he[0],he[0]==="("&&ae++)}return ge}).map(Ce=>`(${Ce})`).join(G)}const R=/\b\B/,D="[a-zA-Z]\\w*",I="[a-zA-Z_]\\w*",N="\\b\\d+(\\.\\d+)?",V="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",W="\\b(0b[01]+)",te="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",pe=(P={})=>{const G=/^#![ ]*\//;return P.binary&&(P.begin=w(G,/.*\b/,P.binary,/\b.*/)),c({scope:"meta",begin:G,end:/$/,relevance:0,"on:begin":(ae,Ce)=>{ae.index!==0&&Ce.ignoreMatch()}},P)},Se={begin:"\\\\[\\s\\S]",relevance:0},Me={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Se]},re={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Se]},se={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},je=function(P,G,ae={}){const Ce=c({scope:"comment",begin:P,end:G,contains:[]},ae);Ce.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const ze=k("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Ce.contains.push({begin:w(/[ ]+/,"(",ze,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Ce},tt=je("//","$"),ot=je("/\\*","\\*/"),Ye=je("#","$"),B={scope:"number",begin:N,relevance:0},bt={scope:"number",begin:V,relevance:0},Vt={scope:"number",begin:W,relevance:0},tn={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Se,{begin:/\[/,end:/\]/,relevance:0,contains:[Se]}]},gt={scope:"title",begin:D,relevance:0},j={scope:"title",begin:I,relevance:0},Z={begin:"\\.\\s*"+I,relevance:0};var q=Object.freeze({__proto__:null,APOS_STRING_MODE:Me,BACKSLASH_ESCAPE:Se,BINARY_NUMBER_MODE:Vt,BINARY_NUMBER_RE:W,COMMENT:je,C_BLOCK_COMMENT_MODE:ot,C_LINE_COMMENT_MODE:tt,C_NUMBER_MODE:bt,C_NUMBER_RE:V,END_SAME_AS_BEGIN:function(P){return Object.assign(P,{"on:begin":(G,ae)=>{ae.data._beginMatch=G[1]},"on:end":(G,ae)=>{ae.data._beginMatch!==G[1]&&ae.ignoreMatch()}})},HASH_COMMENT_MODE:Ye,IDENT_RE:D,MATCH_NOTHING_RE:R,METHOD_GUARD:Z,NUMBER_MODE:B,NUMBER_RE:N,PHRASAL_WORDS_MODE:se,QUOTE_STRING_MODE:re,REGEXP_MODE:tn,RE_STARTERS_RE:te,SHEBANG:pe,TITLE_MODE:gt,UNDERSCORE_IDENT_RE:I,UNDERSCORE_TITLE_MODE:j});function ke(P,G){P.input[P.index-1]==="."&&G.ignoreMatch()}function ne(P,G){P.className!==void 0&&(P.scope=P.className,delete P.className)}function be(P,G){G&&P.beginKeywords&&(P.begin="\\b("+P.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",P.__beforeBegin=ke,P.keywords=P.keywords||P.beginKeywords,delete P.beginKeywords,P.relevance===void 0&&(P.relevance=0))}function le(P,G){Array.isArray(P.illegal)&&(P.illegal=k(...P.illegal))}function He(P,G){if(P.match){if(P.begin||P.end)throw new Error("begin & end are not supported with match");P.begin=P.match,delete P.match}}function we(P,G){P.relevance===void 0&&(P.relevance=1)}const De=(P,G)=>{if(!P.beforeMatch)return;if(P.starts)throw new Error("beforeMatch cannot be used with starts");const ae=Object.assign({},P);Object.keys(P).forEach(Ce=>{delete P[Ce]}),P.keywords=ae.keywords,P.begin=w(ae.beforeMatch,u(ae.begin)),P.starts={relevance:0,contains:[Object.assign(ae,{endsParent:!0})]},P.relevance=0,delete ae.beforeMatch},St=["of","and","for","in","not","or","if","then","parent","list","value"],At="keyword";function kn(P,G,ae=At){const Ce=Object.create(null);return typeof P=="string"?ze(ae,P.split(" ")):Array.isArray(P)?ze(ae,P):Object.keys(P).forEach(function(Qe){Object.assign(Ce,kn(P[Qe],G,Qe))}),Ce;function ze(Qe,ge){G&&(ge=ge.map(he=>he.toLowerCase())),ge.forEach(function(he){const ce=he.split("|");Ce[ce[0]]=[Qe,Ir(ce[0],ce[1])]})}}function Ir(P,G){return G?Number(G):jr(P)?0:1}function jr(P){return St.includes(P.toLowerCase())}const Br={},Dt=P=>{console.error(P)},Ve=(P,...G)=>{console.log(`WARN: ${P}`,...G)},un=(P,G)=>{Br[`${P}/${G}`]||(console.log(`Deprecated as of ${P}. ${G}`),Br[`${P}/${G}`]=!0)},Un=new Error;function ar(P,G,{key:ae}){let Ce=0;const ze=P[ae],Qe={},ge={};for(let he=1;he<=G.length;he++)ge[he+Ce]=ze[he],Qe[he+Ce]=!0,Ce+=L(G[he-1]);P[ae]=ge,P[ae]._emit=Qe,P[ae]._multi=!0}function Ur(P){if(Array.isArray(P.begin)){if(P.skip||P.excludeBegin||P.returnBegin)throw Dt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Un;if(typeof P.beginScope!="object"||P.beginScope===null)throw Dt("beginScope must be object"),Un;ar(P,P.begin,{key:"beginScope"}),P.begin=d(P.begin,{joinWith:""})}}function Li(P){if(Array.isArray(P.end)){if(P.skip||P.excludeEnd||P.returnEnd)throw Dt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Un;if(typeof P.endScope!="object"||P.endScope===null)throw Dt("endScope must be object"),Un;ar(P,P.end,{key:"endScope"}),P.end=d(P.end,{joinWith:""})}}function Ai(P){P.scope&&typeof P.scope=="object"&&P.scope!==null&&(P.beginScope=P.scope,delete P.scope)}function or(P){Ai(P),typeof P.beginScope=="string"&&(P.beginScope={_wrap:P.beginScope}),typeof P.endScope=="string"&&(P.endScope={_wrap:P.endScope}),Ur(P),Li(P)}function $n(P){function G(ge,he){return new RegExp(f(ge),"m"+(P.case_insensitive?"i":"")+(P.unicodeRegex?"u":"")+(he?"g":""))}class ae{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(he,ce){ce.position=this.position++,this.matchIndexes[this.matchAt]=ce,this.regexes.push([ce,he]),this.matchAt+=L(he)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const he=this.regexes.map(ce=>ce[1]);this.matcherRe=G(d(he,{joinWith:"|"}),!0),this.lastIndex=0}exec(he){this.matcherRe.lastIndex=this.lastIndex;const ce=this.matcherRe.exec(he);if(!ce)return null;const st=ce.findIndex((Ln,rn)=>rn>0&&Ln!==void 0),Ke=this.matchIndexes[st];return ce.splice(0,st),Object.assign(ce,Ke)}}class Ce{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(he){if(this.multiRegexes[he])return this.multiRegexes[he];const ce=new ae;return this.rules.slice(he).forEach(([st,Ke])=>ce.addRule(st,Ke)),ce.compile(),this.multiRegexes[he]=ce,ce}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(he,ce){this.rules.push([he,ce]),ce.type==="begin"&&this.count++}exec(he){const ce=this.getMatcher(this.regexIndex);ce.lastIndex=this.lastIndex;let st=ce.exec(he);if(this.resumingScanAtSamePosition()&&!(st&&st.index===this.lastIndex)){const Ke=this.getMatcher(0);Ke.lastIndex=this.lastIndex+1,st=Ke.exec(he)}return st&&(this.regexIndex+=st.position+1,this.regexIndex===this.count&&this.considerAll()),st}}function ze(ge){const he=new Ce;return ge.contains.forEach(ce=>he.addRule(ce.begin,{rule:ce,type:"begin"})),ge.terminatorEnd&&he.addRule(ge.terminatorEnd,{type:"end"}),ge.illegal&&he.addRule(ge.illegal,{type:"illegal"}),he}function Qe(ge,he){const ce=ge;if(ge.isCompiled)return ce;[ne,He,or,De].forEach(Ke=>Ke(ge,he)),P.compilerExtensions.forEach(Ke=>Ke(ge,he)),ge.__beforeBegin=null,[be,le,we].forEach(Ke=>Ke(ge,he)),ge.isCompiled=!0;let st=null;return typeof ge.keywords=="object"&&ge.keywords.$pattern&&(ge.keywords=Object.assign({},ge.keywords),st=ge.keywords.$pattern,delete ge.keywords.$pattern),st=st||/\w+/,ge.keywords&&(ge.keywords=kn(ge.keywords,P.case_insensitive)),ce.keywordPatternRe=G(st,!0),he&&(ge.begin||(ge.begin=/\B|\b/),ce.beginRe=G(ce.begin),!ge.end&&!ge.endsWithParent&&(ge.end=/\B|\b/),ge.end&&(ce.endRe=G(ce.end)),ce.terminatorEnd=f(ce.end)||"",ge.endsWithParent&&he.terminatorEnd&&(ce.terminatorEnd+=(ge.end?"|":"")+he.terminatorEnd)),ge.illegal&&(ce.illegalRe=G(ge.illegal)),ge.contains||(ge.contains=[]),ge.contains=[].concat(...ge.contains.map(function(Ke){return Tn(Ke==="self"?ge:Ke)})),ge.contains.forEach(function(Ke){Qe(Ke,ce)}),ge.starts&&Qe(ge.starts,he),ce.matcher=ze(ce),ce}if(P.compilerExtensions||(P.compilerExtensions=[]),P.contains&&P.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return P.classNameAliases=c(P.classNameAliases||{}),Qe(P)}function Vn(P){return P?P.endsWithParent||Vn(P.starts):!1}function Tn(P){return P.variants&&!P.cachedVariants&&(P.cachedVariants=P.variants.map(function(G){return c(P,{variants:null},G)})),P.cachedVariants?P.cachedVariants:Vn(P)?c(P,{starts:P.starts?c(P.starts):null}):Object.isFrozen(P)?c(P):P}var Mi="11.11.1";class wt extends Error{constructor(G,ae){super(G),this.name="HTMLInjectionError",this.html=ae}}const Ft=l,Ct=c,sr=Symbol("nomatch"),fn=7,nn=function(P){const G=Object.create(null),ae=Object.create(null),Ce=[];let ze=!0;const Qe="Could not find the language '{}', did you forget to load/include a language module?",ge={disableAutodetect:!0,name:"Plain text",contains:[]};let he={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:M};function ce(ee){return he.noHighlightRe.test(ee)}function st(ee){let _e=ee.className+" ";_e+=ee.parentNode?ee.parentNode.className:"";const Pe=he.languageDetectRe.exec(_e);if(Pe){const We=qt(Pe[1]);return We||(Ve(Qe.replace("{}",Pe[1])),Ve("Falling back to no-highlight mode for this block.",ee)),We?Pe[1]:"no-highlight"}return _e.split(/\s+/).find(We=>ce(We)||qt(We))}function Ke(ee,_e,Pe){let We="",rt="";typeof _e=="object"?(We=ee,Pe=_e.ignoreIllegals,rt=_e.language):(un("10.7.0","highlight(lang, code, ...args) has been deprecated."),un("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),rt=ee,We=_e),Pe===void 0&&(Pe=!0);const vt={code:We,language:rt};xn("before:highlight",vt);const Xt=vt.result?vt.result:Ln(vt.language,vt.code,Pe);return Xt.code=vt.code,xn("after:highlight",Xt),Xt}function Ln(ee,_e,Pe,We){const rt=Object.create(null);function vt(oe,ye){return oe.keywords[ye]}function Xt(){if(!xe.keywords){Ee.addText(Fe);return}let oe=0;xe.keywordPatternRe.lastIndex=0;let ye=xe.keywordPatternRe.exec(Fe),Oe="";for(;ye;){Oe+=Fe.substring(oe,ye.index);const Be=Ht.case_insensitive?ye[0].toLowerCase():ye[0],ft=vt(xe,Be);if(ft){const[Bt,Kr]=ft;if(Ee.addText(Oe),Oe="",rt[Be]=(rt[Be]||0)+1,rt[Be]<=fn&&(mn+=Kr),Bt.startsWith("_"))Oe+=ye[0];else{const Wr=Ht.classNameAliases[Bt]||Bt;Nt(ye[0],Wr)}}else Oe+=ye[0];oe=xe.keywordPatternRe.lastIndex,ye=xe.keywordPatternRe.exec(Fe)}Oe+=Fe.substring(oe),Ee.addText(Oe)}function qn(){if(Fe==="")return;let oe=null;if(typeof xe.subLanguage=="string"){if(!G[xe.subLanguage]){Ee.addText(Fe);return}oe=Ln(xe.subLanguage,Fe,!0,zn[xe.subLanguage]),zn[xe.subLanguage]=oe._top}else oe=An(Fe,xe.subLanguage.length?xe.subLanguage:null);xe.relevance>0&&(mn+=oe.relevance),Ee.__addSublanguage(oe._emitter,oe.language)}function kt(){xe.subLanguage!=null?qn():Xt(),Fe=""}function Nt(oe,ye){oe!==""&&(Ee.startScope(ye),Ee.addText(oe),Ee.endScope())}function pr(oe,ye){let Oe=1;const Be=ye.length-1;for(;Oe<=Be;){if(!oe._emit[Oe]){Oe++;continue}const ft=Ht.classNameAliases[oe[Oe]]||oe[Oe],Bt=ye[Oe];ft?Nt(Bt,ft):(Fe=Bt,Xt(),Fe=""),Oe++}}function hr(oe,ye){return oe.scope&&typeof oe.scope=="string"&&Ee.openNode(Ht.classNameAliases[oe.scope]||oe.scope),oe.beginScope&&(oe.beginScope._wrap?(Nt(Fe,Ht.classNameAliases[oe.beginScope._wrap]||oe.beginScope._wrap),Fe=""):oe.beginScope._multi&&(pr(oe.beginScope,ye),Fe="")),xe=Object.create(oe,{parent:{value:xe}}),xe}function pn(oe,ye,Oe){let Be=S(oe.endRe,Oe);if(Be){if(oe["on:end"]){const ft=new o(oe);oe["on:end"](ye,ft),ft.isMatchIgnored&&(Be=!1)}if(Be){for(;oe.endsParent&&oe.parent;)oe=oe.parent;return oe}}if(oe.endsWithParent)return pn(oe.parent,ye,Oe)}function Ri(oe){return xe.matcher.regexIndex===0?(Fe+=oe[0],1):(Wn=!0,0)}function Di(oe){const ye=oe[0],Oe=oe.rule,Be=new o(Oe),ft=[Oe.__beforeBegin,Oe["on:begin"]];for(const Bt of ft)if(Bt&&(Bt(oe,Be),Be.isMatchIgnored))return Ri(ye);return Oe.skip?Fe+=ye:(Oe.excludeBegin&&(Fe+=ye),kt(),!Oe.returnBegin&&!Oe.excludeBegin&&(Fe=ye)),hr(Oe,oe),Oe.returnBegin?0:ye.length}function zr(oe){const ye=oe[0],Oe=_e.substring(oe.index),Be=pn(xe,oe,Oe);if(!Be)return sr;const ft=xe;xe.endScope&&xe.endScope._wrap?(kt(),Nt(ye,xe.endScope._wrap)):xe.endScope&&xe.endScope._multi?(kt(),pr(xe.endScope,oe)):ft.skip?Fe+=ye:(ft.returnEnd||ft.excludeEnd||(Fe+=ye),kt(),ft.excludeEnd&&(Fe=ye));do xe.scope&&Ee.closeNode(),!xe.skip&&!xe.subLanguage&&(mn+=xe.relevance),xe=xe.parent;while(xe!==Be.parent);return Be.starts&&hr(Be.starts,oe),ft.returnEnd?0:ye.length}function On(){const oe=[];for(let ye=xe;ye!==Ht;ye=ye.parent)ye.scope&&oe.unshift(ye.scope);oe.forEach(ye=>Ee.openNode(ye))}let zt={};function Rn(oe,ye){const Oe=ye&&ye[0];if(Fe+=oe,Oe==null)return kt(),0;if(zt.type==="begin"&&ye.type==="end"&&zt.index===ye.index&&Oe===""){if(Fe+=_e.slice(ye.index,ye.index+1),!ze){const Be=new Error(`0 width match regex (${ee})`);throw Be.languageName=ee,Be.badRule=zt.rule,Be}return 1}if(zt=ye,ye.type==="begin")return Di(ye);if(ye.type==="illegal"&&!Pe){const Be=new Error('Illegal lexeme "'+Oe+'" for mode "'+(xe.scope||"<unnamed>")+'"');throw Be.mode=xe,Be}else if(ye.type==="end"){const Be=zr(ye);if(Be!==sr)return Be}if(ye.type==="illegal"&&Oe==="")return Fe+=`
`,1;if(Kn>1e5&&Kn>ye.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Fe+=Oe,Oe.length}const Ht=qt(ee);if(!Ht)throw Dt(Qe.replace("{}",ee)),new Error('Unknown language: "'+ee+'"');const mr=$n(Ht);let hn="",xe=We||mr;const zn={},Ee=new he.__emitter(he);On();let Fe="",mn=0,Jt=0,Kn=0,Wn=!1;try{if(Ht.__emitTokens)Ht.__emitTokens(_e,Ee);else{for(xe.matcher.considerAll();;){Kn++,Wn?Wn=!1:xe.matcher.considerAll(),xe.matcher.lastIndex=Jt;const oe=xe.matcher.exec(_e);if(!oe)break;const ye=_e.substring(Jt,oe.index),Oe=Rn(ye,oe);Jt=oe.index+Oe}Rn(_e.substring(Jt))}return Ee.finalize(),hn=Ee.toHTML(),{language:ee,value:hn,relevance:mn,illegal:!1,_emitter:Ee,_top:xe}}catch(oe){if(oe.message&&oe.message.includes("Illegal"))return{language:ee,value:Ft(_e),illegal:!0,relevance:0,_illegalBy:{message:oe.message,index:Jt,context:_e.slice(Jt-100,Jt+100),mode:oe.mode,resultSoFar:hn},_emitter:Ee};if(ze)return{language:ee,value:Ft(_e),illegal:!1,relevance:0,errorRaised:oe,_emitter:Ee,_top:xe};throw oe}}function rn(ee){const _e={value:Ft(ee),illegal:!1,relevance:0,_top:ge,_emitter:new he.__emitter(he)};return _e._emitter.addText(ee),_e}function An(ee,_e){_e=_e||he.languages||Object.keys(G);const Pe=rn(ee),We=_e.filter(qt).filter(it).map(kt=>Ln(kt,ee,!1));We.unshift(Pe);const rt=We.sort((kt,Nt)=>{if(kt.relevance!==Nt.relevance)return Nt.relevance-kt.relevance;if(kt.language&&Nt.language){if(qt(kt.language).supersetOf===Nt.language)return 1;if(qt(Nt.language).supersetOf===kt.language)return-1}return 0}),[vt,Xt]=rt,qn=vt;return qn.secondBest=Xt,qn}function $r(ee,_e,Pe){const We=_e&&ae[_e]||Pe;ee.classList.add("hljs"),ee.classList.add(`language-${We}`)}function Mn(ee){let _e=null;const Pe=st(ee);if(ce(Pe))return;if(xn("before:highlightElement",{el:ee,language:Pe}),ee.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",ee);return}if(ee.children.length>0&&(he.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(ee)),he.throwUnescapedHTML))throw new wt("One of your code blocks includes unescaped HTML.",ee.innerHTML);_e=ee;const We=_e.textContent,rt=Pe?Ke(We,{language:Pe,ignoreIllegals:!0}):An(We);ee.innerHTML=rt.value,ee.dataset.highlighted="yes",$r(ee,Pe,rt.language),ee.result={language:rt.language,re:rt.relevance,relevance:rt.relevance},rt.secondBest&&(ee.secondBest={language:rt.secondBest.language,relevance:rt.secondBest.relevance}),xn("after:highlightElement",{el:ee,result:rt,text:We})}function lr(ee){he=Ct(he,ee)}const cr=()=>{dn(),un("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function ur(){dn(),un("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let nt=!1;function dn(){function ee(){dn()}if(document.readyState==="loading"){nt||window.addEventListener("DOMContentLoaded",ee,!1),nt=!0;return}document.querySelectorAll(he.cssSelector).forEach(Mn)}function fr(ee,_e){let Pe=null;try{Pe=_e(P)}catch(We){if(Dt("Language definition for '{}' could not be registered.".replace("{}",ee)),ze)Dt(We);else throw We;Pe=ge}Pe.name||(Pe.name=ee),G[ee]=Pe,Pe.rawDefinition=_e.bind(null,P),Pe.aliases&&Vr(Pe.aliases,{languageName:ee})}function dr(ee){delete G[ee];for(const _e of Object.keys(ae))ae[_e]===ee&&delete ae[_e]}function Fn(){return Object.keys(G)}function qt(ee){return ee=(ee||"").toLowerCase(),G[ee]||G[ae[ee]]}function Vr(ee,{languageName:_e}){typeof ee=="string"&&(ee=[ee]),ee.forEach(Pe=>{ae[Pe.toLowerCase()]=_e})}function it(ee){const _e=qt(ee);return _e&&!_e.disableAutodetect}function Fr(ee){ee["before:highlightBlock"]&&!ee["before:highlightElement"]&&(ee["before:highlightElement"]=_e=>{ee["before:highlightBlock"](Object.assign({block:_e.el},_e))}),ee["after:highlightBlock"]&&!ee["after:highlightElement"]&&(ee["after:highlightElement"]=_e=>{ee["after:highlightBlock"](Object.assign({block:_e.el},_e))})}function xi(ee){Fr(ee),Ce.push(ee)}function qr(ee){const _e=Ce.indexOf(ee);_e!==-1&&Ce.splice(_e,1)}function xn(ee,_e){const Pe=ee;Ce.forEach(function(We){We[Pe]&&We[Pe](_e)})}function Oi(ee){return un("10.7.0","highlightBlock will be removed entirely in v12.0"),un("10.7.0","Please use highlightElement now."),Mn(ee)}Object.assign(P,{highlight:Ke,highlightAuto:An,highlightAll:dn,highlightElement:Mn,highlightBlock:Oi,configure:lr,initHighlighting:cr,initHighlightingOnLoad:ur,registerLanguage:fr,unregisterLanguage:dr,listLanguages:Fn,getLanguage:qt,registerAliases:Vr,autoDetection:it,inherit:Ct,addPlugin:xi,removePlugin:qr}),P.debugMode=function(){ze=!1},P.safeMode=function(){ze=!0},P.versionString=Mi,P.regex={concat:w,lookahead:u,either:k,optional:y,anyNumberOfTimes:b};for(const ee in q)typeof q[ee]=="object"&&r(q[ee]);return Object.assign(P,q),P},ut=nn({});return ut.newInstance=()=>nn({}),Gi=ut,ut.HighlightJS=ut,ut.default=ut,Gi}var fh=uh();const ai=xo(fh);function dh(r){const o=r.regex,l={$pattern:/\$?[\w]+(\$[\w]+)*/,keyword:["accept_on","alias","always","always_comb","always_ff","always_latch","and","assert","assign","assume","automatic","before","begin","bind","bins","binsof","bit","break","buf|0","bufif0","bufif1","byte","case","casex","casez","cell","chandle","checker","class","clocking","cmos","config","const","constraint","context","continue","cover","covergroup","coverpoint","cross","deassign","default","defparam","design","disable","dist","do","edge","else","end","endcase","endchecker","endclass","endclocking","endconfig","endfunction","endgenerate","endgroup","endinterface","endmodule","endpackage","endprimitive","endprogram","endproperty","endspecify","endsequence","endtable","endtask","enum","event","eventually","expect","export","extends","extern","final","first_match","for","force","foreach","forever","fork","forkjoin","function","generate|5","genvar","global","highz0","highz1","if","iff","ifnone","ignore_bins","illegal_bins","implements","implies","import","incdir","include","initial","inout","input","inside","instance","int","integer","interconnect","interface","intersect","join","join_any","join_none","large","let","liblist","library","local","localparam","logic","longint","macromodule","matches","medium","modport","module","nand","negedge","nettype","new","nexttime","nmos","nor","noshowcancelled","not","notif0","notif1","or","output","package","packed","parameter","pmos","posedge","primitive","priority","program","property","protected","pull0","pull1","pulldown","pullup","pulsestyle_ondetect","pulsestyle_onevent","pure","rand","randc","randcase","randsequence","rcmos","real","realtime","ref","reg","reject_on","release","repeat","restrict","return","rnmos","rpmos","rtran","rtranif0","rtranif1","s_always","s_eventually","s_nexttime","s_until","s_until_with","scalared","sequence","shortint","shortreal","showcancelled","signed","small","soft","solve","specify","specparam","static","string","strong","strong0","strong1","struct","super","supply0","supply1","sync_accept_on","sync_reject_on","table","tagged","task","this","throughout","time","timeprecision","timeunit","tran","tranif0","tranif1","tri","tri0","tri1","triand","trior","trireg","type","typedef","union","unique","unique0","unsigned","until","until_with","untyped","use","uwire","var","vectored","virtual","void","wait","wait_order","wand","weak","weak0","weak1","while","wildcard","wire","with","within","wor","xnor","xor"],literal:["null"],built_in:["$finish","$stop","$exit","$fatal","$error","$warning","$info","$realtime","$time","$printtimescale","$bitstoreal","$bitstoshortreal","$itor","$signed","$cast","$bits","$stime","$timeformat","$realtobits","$shortrealtobits","$rtoi","$unsigned","$asserton","$assertkill","$assertpasson","$assertfailon","$assertnonvacuouson","$assertoff","$assertcontrol","$assertpassoff","$assertfailoff","$assertvacuousoff","$isunbounded","$sampled","$fell","$changed","$past_gclk","$fell_gclk","$changed_gclk","$rising_gclk","$steady_gclk","$coverage_control","$coverage_get","$coverage_save","$set_coverage_db_name","$rose","$stable","$past","$rose_gclk","$stable_gclk","$future_gclk","$falling_gclk","$changing_gclk","$display","$coverage_get_max","$coverage_merge","$get_coverage","$load_coverage_db","$typename","$unpacked_dimensions","$left","$low","$increment","$clog2","$ln","$log10","$exp","$sqrt","$pow","$floor","$ceil","$sin","$cos","$tan","$countbits","$onehot","$isunknown","$fatal","$warning","$dimensions","$right","$high","$size","$asin","$acos","$atan","$atan2","$hypot","$sinh","$cosh","$tanh","$asinh","$acosh","$atanh","$countones","$onehot0","$error","$info","$random","$dist_chi_square","$dist_erlang","$dist_exponential","$dist_normal","$dist_poisson","$dist_t","$dist_uniform","$q_initialize","$q_remove","$q_exam","$async$and$array","$async$nand$array","$async$or$array","$async$nor$array","$sync$and$array","$sync$nand$array","$sync$or$array","$sync$nor$array","$q_add","$q_full","$psprintf","$async$and$plane","$async$nand$plane","$async$or$plane","$async$nor$plane","$sync$and$plane","$sync$nand$plane","$sync$or$plane","$sync$nor$plane","$system","$display","$displayb","$displayh","$displayo","$strobe","$strobeb","$strobeh","$strobeo","$write","$readmemb","$readmemh","$writememh","$value$plusargs","$dumpvars","$dumpon","$dumplimit","$dumpports","$dumpportson","$dumpportslimit","$writeb","$writeh","$writeo","$monitor","$monitorb","$monitorh","$monitoro","$writememb","$dumpfile","$dumpoff","$dumpall","$dumpflush","$dumpportsoff","$dumpportsall","$dumpportsflush","$fclose","$fdisplay","$fdisplayb","$fdisplayh","$fdisplayo","$fstrobe","$fstrobeb","$fstrobeh","$fstrobeo","$swrite","$swriteb","$swriteh","$swriteo","$fscanf","$fread","$fseek","$fflush","$feof","$fopen","$fwrite","$fwriteb","$fwriteh","$fwriteo","$fmonitor","$fmonitorb","$fmonitorh","$fmonitoro","$sformat","$sformatf","$fgetc","$ungetc","$fgets","$sscanf","$rewind","$ftell","$ferror"]},c=["__FILE__","__LINE__"],p=["begin_keywords","celldefine","default_nettype","default_decay_time","default_trireg_strength","define","delay_mode_distributed","delay_mode_path","delay_mode_unit","delay_mode_zero","else","elsif","end_keywords","endcelldefine","endif","ifdef","ifndef","include","line","nounconnected_drive","pragma","resetall","timescale","unconnected_drive","undef","undefineall"];return{name:"Verilog",aliases:["v","sv","svh"],case_insensitive:!1,keywords:l,contains:[r.C_BLOCK_COMMENT_MODE,r.C_LINE_COMMENT_MODE,r.QUOTE_STRING_MODE,{scope:"number",contains:[r.BACKSLASH_ESCAPE],variants:[{begin:/\b((\d+'([bhodBHOD]))[0-9xzXZa-fA-F_]+)/},{begin:/\B(('([bhodBHOD]))[0-9xzXZa-fA-F_]+)/},{begin:/\b[0-9][0-9_]*/,relevance:0}]},{scope:"variable",variants:[{begin:"#\\((?!parameter).+\\)"},{begin:"\\.\\w+",relevance:0}]},{scope:"variable.constant",match:o.concat(/`/,o.either(...c))},{scope:"meta",begin:o.concat(/`/,o.either(...p)),end:/$|\/\/|\/\*/,returnEnd:!0,keywords:p}]}}var Eo=mt({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(r){var o=de(r.language);Bn(function(){return r.language},function(p){o.value=p});var l=_t(function(){return r.autodetect||!o.value}),c=_t(function(){return!l.value&&!ai.getLanguage(o.value)});return{className:_t(function(){return c.value?"":"hljs "+o.value}),highlightedCode:_t(function(){var p;if(c.value)return console.warn('The language "'+o.value+'" you specified could not be found.'),r.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(l.value){var _=ai.highlightAuto(r.code);return o.value=(p=_.language)!==null&&p!==void 0?p:"",_.value}return(_=ai.highlight(r.code,{language:o.value,ignoreIllegals:r.ignoreIllegals})).value})}},render:function(){return si("pre",{},[si("code",{class:this.className,innerHTML:this.highlightedCode})])}}),ph={install:function(r){r.component("highlightjs",Eo)},component:Eo};ai.registerLanguage("verilog",dh);const js=Mc();js.use(qc);const Pr=Lc(bp);Pr.use(js);Pr.use(Ut);Pr.use(Ac);Pr.use(ph);Pr.mount("#app");Pd().then(()=>{console.log("Text cache reinitialized")}).catch(r=>{console.error("Text cache reinitialization failed",r)});
