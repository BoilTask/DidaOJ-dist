const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/monaco-editor-languages-DO1XL67I.js","assets/monaco-editor-core-CsCwga4z.js","assets/monaco-editor-core-DyX1CsEw.css"])))=>i.map(i=>d[i]);
var zX=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);import{e as oR,l as St,A as lo,C as Ne,I as vi,D as Oy,a as ir,g as n2,M as pt,b as Kt,E as Ms,c as ve,r as Vn,d as es,f as G,h as UX,i as ii,R as yn,S as Nt,j as $r,k as ts,n as Ln,o as gn,p as Le,q as Qe,K as Wi,s as _t,t as dt,u as Xi,v as be,w as mn,O as gu,x as Zi,P as Ot,y as px,z as xy,B as i2,F as pu,G as ap,H as hP,J as mr,U as Kn,L as bg,N as xt,Q as Ou,T as KX,V as io,W as vP,X as qX,Y as r2,$ as Ut,Z as Hn,_ as Rn,a0 as hi,a1 as ln,a2 as ns,a3 as bb,a4 as st,a5 as Vw,a6 as GX,a7 as YX,a8 as lr,a9 as ZX,aa as As,ab as uo,ac as Et,ad as o2,ae as bi,af as XX,ag as JX,ah as oo,ai as sp,aj as rr,ak as v1,al as co,am as xh,an as DI,ao as TI,ap as cr,aq as yg,ar as Er,as as II,at as g1,au as QX,av as Ey,aw as lp,ax as Py,ay as eJ,az as up,aA as tJ,aB as LI,aC as nJ,aD as iJ,aE as aR,aF as Fi,aG as mu,aH as Yr,aI as an,aJ as cu,aK as rJ,aL as Sl,aM as Wo,aN as yr,aO as Hu,aP as MI,aQ as Ji,aR as Ti,aS as IC,aT as on,aU as a2,aV as oJ,aW as AI,aX as p1,aY as RI,aZ as NI,a_ as rf,a$ as aJ,b0 as FI,b1 as sJ,b2 as jI,b3 as Bu,b4 as $u,b5 as _g,b6 as yb,b7 as ko,b8 as ky,b9 as LC,ba as mx,bb as Jn,bc as HI,bd as Dy,be as m1,bf as lJ,bg as s2,bh as MC,bi as _b,bj as wb,bk as Ty,bl as b1,bm as In,bn as cp,bo as y1,bp as uJ,bq as cJ,br as l2,bs as dJ,bt as gP,bu as xa,bv as BI,bw as wg,bx as Vu,by as dp,bz as _n,bA as Cg,bB as u2,bC as Iy,bD as fJ,bE as of,bF as yt,bG as sR,bH as Ww,bI as c2,bJ as ls,bK as Es,bL as ti,bM as Sg,bN as qa,bO as Og,bP as fi,bQ as Cb,bR as Eh,bS as pP,bT as d2,bU as f2,bV as h2,bW as $I,bX as _o,bY as Bn,bZ as Ly,b_ as v2,b$ as bu,c0 as _1,c1 as hJ,c2 as Iv,c3 as lR,c4 as My,c5 as g2,c6 as Lv,c7 as vJ,c8 as Va,c9 as w1,ca as gJ,cb as fo,cc as Ll,cd as Ay,ce as Sb,cf as p2,cg as pa,ch as Ry,ci as C1,cj as pJ,ck as mJ,cl as bJ,cm as fp,cn as Ol,co as or,cp as yJ,cq as VI,cr as _J,cs as uR,ct as wJ,cu as CJ,cv as Ny,cw as xu,cx as mP,cy as Qf,cz as Eu,cA as SJ,cB as gl,cC as Ga,cD as Ho,cE as cR,cF as zr,cG as Fy,cH as nd,cI as xl,cJ as OJ,cK as Rs,cL as Ob,cM as WI,cN as m2,cO as xJ,cP as EJ,cQ as zI,cR as PJ,cS as xb,cT as kJ,cU as Tc,cV as Eb,cW as dR,cX as DJ,cY as TJ,cZ as Ml,c_ as IJ,c$ as UI,d0 as b2,d1 as y2,d2 as _2,d3 as w2,d4 as LJ,d5 as MJ,d6 as C2,d7 as S2,d8 as AJ,d9 as KI,da as RJ,db as NJ,dc as Oi,dd as FJ,de as qI,df as jJ,dg as Mv,dh as fR,di as HJ,dj as BJ,dk as $J,dl as VJ,dm as WJ,dn as zJ,dp as xg,dq as UJ,dr as bP,ds as KJ,dt as qJ,du as hR,dv as vR,dw as GJ,dx as gR,dy as bx,dz as YJ,dA as O2,dB as ZJ,dC as x2,dD as yP,dE as XJ,dF as JJ,dG as QJ,dH as E2,dI as P2,dJ as eQ,dK as AC,dL as k2,dM as S1,dN as tQ,dO as nQ,dP as id,dQ as D2,dR as iQ,dS as pR,dT as mR,dU as rQ,dV as Av,dW as T2,dX as oQ,dY as aQ,dZ as sQ,d_ as lQ,d$ as I2,e0 as L2,e1 as uQ,e2 as M2,e3 as cQ,e4 as pl,e5 as bR,e6 as dQ,e7 as jy,e8 as fQ,e9 as gm,ea as A2,eb as yR,ec as Pb,ed as R2,ee as N2,ef as RC,eg as hQ,eh as F2,ei as vQ,ej as gQ,ek as pQ,el as j2,em as H2,en as Pu,eo as O1,ep as mQ,eq as B2,er as zo,es as af,et as $2,eu as bQ,ev as yQ,ew as V2,ex as W2,ey as z2,ez as _Q,eA as U2,eB as kb,eC as wQ,eD as CQ,eE as SQ,eF as OQ,eG as Kp,eH as _R,eI as xQ,eJ as EQ,eK as PQ,eL as NC,eM as Or,eN as kQ,eO as _P,eP as Ph,eQ as DQ,eR as su,eS as TQ,eT as IQ,eU as K2,eV as LQ,eW as Am,eX as MQ,eY as AQ,eZ as RQ,e_ as NQ,e$ as wR,f0 as CR,f1 as SR,f2 as hp,f3 as GI,f4 as q2,f5 as wP,f6 as zw,f7 as G2,f8 as FC,f9 as FQ,fa as jQ,fb as HQ,fc as BQ,fd as YI,fe as Y2,ff as $Q,fg as jC,fh as Z2,fi as VQ,fj as WQ,fk as zQ,fl as UQ,fm as KQ,fn as qQ,fo as GQ,fp as YQ,fq as ZQ,fr as X2,fs as XQ,ft as HC,fu as J2,fv as JQ,fw as Q2,fx as QQ,fy as e6,fz as t6,fA as eee,fB as OR,fC as n6,fD as xR,fE as tee,fF as yx,fG as ER,fH as nee,fI as iee,fJ as ree,fK as cl,fL as rd,fM as oee,fN as PR,fO as Uw,fP as aee,fQ as du,fR as ZI,fS as CP,fT as see,fU as i6,fV as r6,fW as Ur,fX as kR,fY as E_,fZ as XI,f_ as lee,f$ as uee,g0 as cee,g1 as dee,g2 as fee,g3 as hee,g4 as vee,g5 as gee,g6 as DR,g7 as pee,g8 as mee,g9 as bee,ga as Eg,gb as Rm,gc as o6,gd as yee,ge as JI,gf as Kw,gg as P_,gh as _x,gi as _ee,gj as wee,gk as a6,gl as Cee,gm as QI,gn as See,go as Oee,gp as s6,gq as x1,gr as xee,gs as BC,gt as eL,gu as tL,gv as nL,gw as l6,gx as u6,gy as c6,gz as d6,gA as f6,gB as h6,gC as v6,gD as TR,gE as g6,gF as Uh,gG as Eee,gH as Pee,gI as kee,gJ as Dee,gK as p6,gL as Tee,gM as Iee,gN as IR,gO as SP,gP as Rc,gQ as Lee,gR as Mee,gS as Aee,gT as Ree,gU as Nee,gV as Fee,gW as LR,gX as iL,gY as OP,gZ as jee,g_ as xP,g$ as Hee,h0 as Bee,h1 as $ee,h2 as Vee,h3 as rL,h4 as m6,h5 as MR,h6 as AR,h7 as Wee,h8 as zee,h9 as Uee,ha as RR,hb as wx,hc as Kee,hd as qee,he as Gee,hf as Cx,hg as b6,hh as y6,hi as _6,hj as w6,hk as ku,hl as C6,hm as Yee,hn as NR,ho as Zee,hp as Xee,hq as Jee,hr as Qee,hs as E1,ht as P1,hu as kh,hv as k1,hw as Hy,hx as ete,hy as D1,hz as tte,hA as nte,hB as ite,m as rte,hC as T1}from"./monaco-editor-core-CsCwga4z.js";var $$e=zX((_a,wa)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function oL(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const Di={},Zv=[],ml=()=>{},ote=()=>!1,I1=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),aL=n=>n.startsWith("onUpdate:"),Pr=Object.assign,sL=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},ate=Object.prototype.hasOwnProperty,mi=(n,e)=>ate.call(n,e),fn=Array.isArray,Xv=n=>L1(n)==="[object Map]",S6=n=>L1(n)==="[object Set]",Sn=n=>typeof n=="function",nr=n=>typeof n=="string",gd=n=>typeof n=="symbol",zi=n=>n!==null&&typeof n=="object",O6=n=>(zi(n)||Sn(n))&&Sn(n.then)&&Sn(n.catch),x6=Object.prototype.toString,L1=n=>x6.call(n),ste=n=>L1(n).slice(8,-1),E6=n=>L1(n)==="[object Object]",lL=n=>nr(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Nm=oL(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M1=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},lte=/-(\w)/g,is=M1(n=>n.replace(lte,(e,t)=>t?t.toUpperCase():"")),ute=/\B([A-Z])/g,Dh=M1(n=>n.replace(ute,"-$1").toLowerCase()),A1=M1(n=>n.charAt(0).toUpperCase()+n.slice(1)),Sx=M1(n=>n?`on${A1(n)}`:""),Nc=(n,e)=>!Object.is(n,e),Ox=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},P6=(n,e,t,i=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:i,value:t})},cte=n=>{const e=parseFloat(n);return isNaN(e)?n:e},dte=n=>{const e=nr(n)?Number(n):NaN;return isNaN(e)?n:e};let FR;const R1=()=>FR||(FR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function N1(n){if(fn(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=nr(i)?gte(i):N1(i);if(r)for(const o in r)e[o]=r[o]}return e}else if(nr(n)||zi(n))return n}const fte=/;(?![^(]*\))/g,hte=/:([^]+)/,vte=/\/\*[^]*?\*\//g;function gte(n){const e={};return n.replace(vte,"").split(fte).forEach(t=>{if(t){const i=t.split(hte);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Pg(n){let e="";if(nr(n))e=n;else if(fn(n))for(let t=0;t<n.length;t++){const i=Pg(n[t]);i&&(e+=i+" ")}else if(zi(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const pte="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mte=oL(pte);function k6(n){return!!n||n===""}const D6=n=>!!(n&&n.__v_isRef===!0),$i=n=>nr(n)?n:n==null?"":fn(n)||zi(n)&&(n.toString===x6||!Sn(n.toString))?D6(n)?$i(n.value):JSON.stringify(n,T6,2):String(n),T6=(n,e)=>D6(e)?T6(n,e.value):Xv(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r],o)=>(t[xx(i,o)+" =>"]=r,t),{})}:S6(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>xx(t))}:gd(e)?xx(e):zi(e)&&!fn(e)&&!E6(e)?String(e):e,xx=(n,e="")=>{var t;return gd(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let yo;class I6{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=yo,!e&&yo&&(this.index=(yo.scopes||(yo.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=yo;try{return yo=this,e()}finally{yo=t}}}on(){yo=this}off(){yo=this.parent}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function L6(n){return new I6(n)}function uL(){return yo}function M6(n,e=!1){yo&&yo.cleanups.push(n)}let Ni;const Ex=new WeakSet;class A6{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,yo&&yo.active&&yo.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ex.has(this)&&(Ex.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||N6(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jR(this),F6(this);const e=Ni,t=Ds;Ni=this,Ds=!0;try{return this.fn()}finally{j6(this),Ni=e,Ds=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)fL(e);this.deps=this.depsTail=void 0,jR(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ex.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){EP(this)&&this.run()}get dirty(){return EP(this)}}let R6=0,Fm,jm;function N6(n,e=!1){if(n.flags|=8,e){n.next=jm,jm=n;return}n.next=Fm,Fm=n}function cL(){R6++}function dL(){if(--R6>0)return;if(jm){let e=jm;for(jm=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Fm;){let e=Fm;for(Fm=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){n||(n=i)}e=t}}if(n)throw n}function F6(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function j6(n){let e,t=n.depsTail,i=t;for(;i;){const r=i.prevDep;i.version===-1?(i===t&&(t=r),fL(i),bte(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}n.deps=e,n.depsTail=t}function EP(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(H6(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function H6(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Db))return;n.globalVersion=Db;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!EP(n)){n.flags&=-3;return}const t=Ni,i=Ds;Ni=n,Ds=!0;try{F6(n);const r=n.fn(n._value);(e.version===0||Nc(r,n._value))&&(n._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ni=t,Ds=i,j6(n),n.flags&=-3}}function fL(n,e=!1){const{dep:t,prevSub:i,nextSub:r}=n;if(i&&(i.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=i,n.nextSub=void 0),t.subs===n&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let o=t.computed.deps;o;o=o.nextDep)fL(o,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function bte(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let Ds=!0;const B6=[];function pd(){B6.push(Ds),Ds=!1}function md(){const n=B6.pop();Ds=n===void 0?!0:n}function jR(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=Ni;Ni=void 0;try{e()}finally{Ni=t}}}let Db=0,yte=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class hL{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ni||!Ds||Ni===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Ni)t=this.activeLink=new yte(Ni,this),Ni.deps?(t.prevDep=Ni.depsTail,Ni.depsTail.nextDep=t,Ni.depsTail=t):Ni.deps=Ni.depsTail=t,$6(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=Ni.depsTail,t.nextDep=void 0,Ni.depsTail.nextDep=t,Ni.depsTail=t,Ni.deps===t&&(Ni.deps=i)}return t}trigger(e){this.version++,Db++,this.notify(e)}notify(e){cL();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{dL()}}}function $6(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)$6(i)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const $C=new WeakMap,sf=Symbol(""),PP=Symbol(""),Tb=Symbol("");function to(n,e,t){if(Ds&&Ni){let i=$C.get(n);i||$C.set(n,i=new Map);let r=i.get(t);r||(i.set(t,r=new hL),r.map=i,r.key=t),r.track()}}function lu(n,e,t,i,r,o){const a=$C.get(n);if(!a){Db++;return}const s=l=>{l&&l.trigger()};if(cL(),e==="clear")a.forEach(s);else{const l=fn(n),u=l&&lL(t);if(l&&t==="length"){const c=Number(i);a.forEach((d,f)=>{(f==="length"||f===Tb||!gd(f)&&f>=c)&&s(d)})}else switch((t!==void 0||a.has(void 0))&&s(a.get(t)),u&&s(a.get(Tb)),e){case"add":l?u&&s(a.get("length")):(s(a.get(sf)),Xv(n)&&s(a.get(PP)));break;case"delete":l||(s(a.get(sf)),Xv(n)&&s(a.get(PP)));break;case"set":Xv(n)&&s(a.get(sf));break}}dL()}function _te(n,e){const t=$C.get(n);return t&&t.get(e)}function Kh(n){const e=ei(n);return e===n?e:(to(e,"iterate",Tb),Xa(n)?e:e.map(no))}function F1(n){return to(n=ei(n),"iterate",Tb),n}const wte={__proto__:null,[Symbol.iterator](){return Px(this,Symbol.iterator,no)},concat(...n){return Kh(this).concat(...n.map(e=>fn(e)?Kh(e):e))},entries(){return Px(this,"entries",n=>(n[1]=no(n[1]),n))},every(n,e){return Vl(this,"every",n,e,void 0,arguments)},filter(n,e){return Vl(this,"filter",n,e,t=>t.map(no),arguments)},find(n,e){return Vl(this,"find",n,e,no,arguments)},findIndex(n,e){return Vl(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Vl(this,"findLast",n,e,no,arguments)},findLastIndex(n,e){return Vl(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Vl(this,"forEach",n,e,void 0,arguments)},includes(...n){return kx(this,"includes",n)},indexOf(...n){return kx(this,"indexOf",n)},join(n){return Kh(this).join(n)},lastIndexOf(...n){return kx(this,"lastIndexOf",n)},map(n,e){return Vl(this,"map",n,e,void 0,arguments)},pop(){return qp(this,"pop")},push(...n){return qp(this,"push",n)},reduce(n,...e){return HR(this,"reduce",n,e)},reduceRight(n,...e){return HR(this,"reduceRight",n,e)},shift(){return qp(this,"shift")},some(n,e){return Vl(this,"some",n,e,void 0,arguments)},splice(...n){return qp(this,"splice",n)},toReversed(){return Kh(this).toReversed()},toSorted(n){return Kh(this).toSorted(n)},toSpliced(...n){return Kh(this).toSpliced(...n)},unshift(...n){return qp(this,"unshift",n)},values(){return Px(this,"values",no)}};function Px(n,e,t){const i=F1(n),r=i[e]();return i!==n&&!Xa(n)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=t(o.value)),o}),r}const Cte=Array.prototype;function Vl(n,e,t,i,r,o){const a=F1(n),s=a!==n&&!Xa(n),l=a[e];if(l!==Cte[e]){const d=l.apply(n,o);return s?no(d):d}let u=t;a!==n&&(s?u=function(d,f){return t.call(this,no(d),f,n)}:t.length>2&&(u=function(d,f){return t.call(this,d,f,n)}));const c=l.call(a,u,i);return s&&r?r(c):c}function HR(n,e,t,i){const r=F1(n);let o=t;return r!==n&&(Xa(n)?t.length>3&&(o=function(a,s,l){return t.call(this,a,s,l,n)}):o=function(a,s,l){return t.call(this,a,no(s),l,n)}),r[e](o,...i)}function kx(n,e,t){const i=ei(n);to(i,"iterate",Tb);const r=i[e](...t);return(r===-1||r===!1)&&mL(t[0])?(t[0]=ei(t[0]),i[e](...t)):r}function qp(n,e,t=[]){pd(),cL();const i=ei(n)[e].apply(n,t);return dL(),md(),i}const Ste=oL("__proto__,__v_isRef,__isVue"),V6=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(gd));function Ote(n){gd(n)||(n=String(n));const e=ei(this);return to(e,"has",n),e.hasOwnProperty(n)}class W6{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return o;if(t==="__v_raw")return i===(r?o?Ate:q6:o?K6:U6).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=fn(e);if(!r){let l;if(a&&(l=wte[t]))return l;if(t==="hasOwnProperty")return Ote}const s=Reflect.get(e,t,dr(e)?e:i);return(gd(t)?V6.has(t):Ste(t))||(r||to(e,"get",t),o)?s:dr(s)?a&&lL(t)?s:s.value:zi(s)?r?gL(s):$n(s):s}}class z6 extends W6{constructor(e=!1){super(!1,e)}set(e,t,i,r){let o=e[t];if(!this._isShallow){const l=eh(o);if(!Xa(i)&&!eh(i)&&(o=ei(o),i=ei(i)),!fn(e)&&dr(o)&&!dr(i))return l?!1:(o.value=i,!0)}const a=fn(e)&&lL(t)?Number(t)<e.length:mi(e,t),s=Reflect.set(e,t,i,dr(e)?e:r);return e===ei(r)&&(a?Nc(i,o)&&lu(e,"set",t,i):lu(e,"add",t,i)),s}deleteProperty(e,t){const i=mi(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&lu(e,"delete",t,void 0),r}has(e,t){const i=Reflect.has(e,t);return(!gd(t)||!V6.has(t))&&to(e,"has",t),i}ownKeys(e){return to(e,"iterate",fn(e)?"length":sf),Reflect.ownKeys(e)}}class xte extends W6{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Ete=new z6,Pte=new xte,kte=new z6(!0),kP=n=>n,k_=n=>Reflect.getPrototypeOf(n);function Dte(n,e,t){return function(...i){const r=this.__v_raw,o=ei(r),a=Xv(o),s=n==="entries"||n===Symbol.iterator&&a,l=n==="keys"&&a,u=r[n](...i),c=t?kP:e?DP:no;return!e&&to(o,"iterate",l?PP:sf),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:s?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function D_(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Tte(n,e){const t={get(r){const o=this.__v_raw,a=ei(o),s=ei(r);n||(Nc(r,s)&&to(a,"get",r),to(a,"get",s));const{has:l}=k_(a),u=e?kP:n?DP:no;if(l.call(a,r))return u(o.get(r));if(l.call(a,s))return u(o.get(s));o!==a&&o.get(r)},get size(){const r=this.__v_raw;return!n&&to(ei(r),"iterate",sf),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,a=ei(o),s=ei(r);return n||(Nc(r,s)&&to(a,"has",r),to(a,"has",s)),r===s?o.has(r):o.has(r)||o.has(s)},forEach(r,o){const a=this,s=a.__v_raw,l=ei(s),u=e?kP:n?DP:no;return!n&&to(l,"iterate",sf),s.forEach((c,d)=>r.call(o,u(c),u(d),a))}};return Pr(t,n?{add:D_("add"),set:D_("set"),delete:D_("delete"),clear:D_("clear")}:{add(r){!e&&!Xa(r)&&!eh(r)&&(r=ei(r));const o=ei(this);return k_(o).has.call(o,r)||(o.add(r),lu(o,"add",r,r)),this},set(r,o){!e&&!Xa(o)&&!eh(o)&&(o=ei(o));const a=ei(this),{has:s,get:l}=k_(a);let u=s.call(a,r);u||(r=ei(r),u=s.call(a,r));const c=l.call(a,r);return a.set(r,o),u?Nc(o,c)&&lu(a,"set",r,o):lu(a,"add",r,o),this},delete(r){const o=ei(this),{has:a,get:s}=k_(o);let l=a.call(o,r);l||(r=ei(r),l=a.call(o,r)),s&&s.call(o,r);const u=o.delete(r);return l&&lu(o,"delete",r,void 0),u},clear(){const r=ei(this),o=r.size!==0,a=r.clear();return o&&lu(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Dte(r,n,e)}),t}function vL(n,e){const t=Tte(n,e);return(i,r,o)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(mi(t,r)&&r in i?t:i,r,o)}const Ite={get:vL(!1,!1)},Lte={get:vL(!1,!0)},Mte={get:vL(!0,!1)},U6=new WeakMap,K6=new WeakMap,q6=new WeakMap,Ate=new WeakMap;function Rte(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Nte(n){return n.__v_skip||!Object.isExtensible(n)?0:Rte(ste(n))}function $n(n){return eh(n)?n:pL(n,!1,Ete,Ite,U6)}function G6(n){return pL(n,!1,kte,Lte,K6)}function gL(n){return pL(n,!0,Pte,Mte,q6)}function pL(n,e,t,i,r){if(!zi(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const o=r.get(n);if(o)return o;const a=Nte(n);if(a===0)return n;const s=new Proxy(n,a===2?i:t);return r.set(n,s),s}function Fc(n){return eh(n)?Fc(n.__v_raw):!!(n&&n.__v_isReactive)}function eh(n){return!!(n&&n.__v_isReadonly)}function Xa(n){return!!(n&&n.__v_isShallow)}function mL(n){return n?!!n.__v_raw:!1}function ei(n){const e=n&&n.__v_raw;return e?ei(e):n}function bL(n){return!mi(n,"__v_skip")&&Object.isExtensible(n)&&P6(n,"__v_skip",!0),n}const no=n=>zi(n)?$n(n):n,DP=n=>zi(n)?gL(n):n;function dr(n){return n?n.__v_isRef===!0:!1}function oe(n){return Y6(n,!1)}function VC(n){return Y6(n,!0)}function Y6(n,e){return dr(n)?n:new Fte(n,e)}class Fte{constructor(e,t){this.dep=new hL,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:ei(e),this._value=t?e:no(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||Xa(e)||eh(e);e=i?e:ei(e),Nc(e,t)&&(this._rawValue=e,this._value=i?e:no(e),this.dep.trigger())}}function Uo(n){return dr(n)?n.value:n}const jte={get:(n,e,t)=>e==="__v_raw"?n:Uo(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return dr(r)&&!dr(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function Z6(n){return Fc(n)?n:new Proxy(n,jte)}function rt(n){const e=fn(n)?new Array(n.length):{};for(const t in n)e[t]=Bte(n,t);return e}class Hte{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return _te(ei(this._object),this._key)}}function Bte(n,e,t){const i=n[e];return dr(i)?i:new Hte(n,e,t)}class $te{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new hL(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Db-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ni!==this)return N6(this,!0),!0}get value(){const e=this.dep.track();return H6(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Vte(n,e,t=!1){let i,r;return Sn(n)?i=n:(i=n.get,r=n.set),new $te(i,r,t)}const T_={},WC=new WeakMap;let Wd;function Wte(n,e=!1,t=Wd){if(t){let i=WC.get(t);i||WC.set(t,i=[]),i.push(n)}}function zte(n,e,t=Di){const{immediate:i,deep:r,once:o,scheduler:a,augmentJob:s,call:l}=t,u=O=>r?O:Xa(O)||r===!1||r===0?uu(O,1):uu(O);let c,d,f,h,v=!1,g=!1;if(dr(n)?(d=()=>n.value,v=Xa(n)):Fc(n)?(d=()=>u(n),v=!0):fn(n)?(g=!0,v=n.some(O=>Fc(O)||Xa(O)),d=()=>n.map(O=>{if(dr(O))return O.value;if(Fc(O))return u(O);if(Sn(O))return l?l(O,2):O()})):Sn(n)?e?d=l?()=>l(n,2):n:d=()=>{if(f){pd();try{f()}finally{md()}}const O=Wd;Wd=c;try{return l?l(n,3,[h]):n(h)}finally{Wd=O}}:d=ml,e&&r){const O=d,w=r===!0?1/0:r;d=()=>uu(O(),w)}const p=uL(),m=()=>{c.stop(),p&&p.active&&sL(p.effects,c)};if(o&&e){const O=e;e=(...w)=>{O(...w),m()}}let b=g?new Array(n.length).fill(T_):T_;const C=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(e){const w=c.run();if(r||v||(g?w.some((E,P)=>Nc(E,b[P])):Nc(w,b))){f&&f();const E=Wd;Wd=c;try{const P=[w,b===T_?void 0:g&&b[0]===T_?[]:b,h];l?l(e,3,P):e(...P),b=w}finally{Wd=E}}}else c.run()};return s&&s(C),c=new A6(d),c.scheduler=a?()=>a(C,!1):C,h=O=>Wte(O,!1,c),f=c.onStop=()=>{const O=WC.get(c);if(O){if(l)l(O,4);else for(const w of O)w();WC.delete(c)}},e?i?C(!0):b=c.run():a?a(C.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function uu(n,e=1/0,t){if(e<=0||!zi(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,dr(n))uu(n.value,e,t);else if(fn(n))for(let i=0;i<n.length;i++)uu(n[i],e,t);else if(S6(n)||Xv(n))n.forEach(i=>{uu(i,e,t)});else if(E6(n)){for(const i in n)uu(n[i],e,t);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&uu(n[i],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function By(n,e,t,i){try{return i?n(...i):n()}catch(r){j1(r,e,t)}}function Is(n,e,t,i){if(Sn(n)){const r=By(n,e,t,i);return r&&O6(r)&&r.catch(o=>{j1(o,e,t)}),r}if(fn(n)){const r=[];for(let o=0;o<n.length;o++)r.push(Is(n[o],e,t,i));return r}}function j1(n,e,t,i=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Di;if(e){let s=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](n,l,u)===!1)return}s=s.parent}if(o){pd(),By(o,null,10,[n,l,u]),md();return}}Ute(n,t,r,i,a)}function Ute(n,e,t,i=!0,r=!1){if(r)throw n;console.error(n)}const wo=[];let nl=-1;const Jv=[];let mc=null,yv=0;const X6=Promise.resolve();let zC=null;function tn(n){const e=zC||X6;return n?e.then(this?n.bind(this):n):e}function Kte(n){let e=nl+1,t=wo.length;for(;e<t;){const i=e+t>>>1,r=wo[i],o=Ib(r);o<n||o===n&&r.flags&2?e=i+1:t=i}return e}function yL(n){if(!(n.flags&1)){const e=Ib(n),t=wo[wo.length-1];!t||!(n.flags&2)&&e>=Ib(t)?wo.push(n):wo.splice(Kte(e),0,n),n.flags|=1,J6()}}function J6(){zC||(zC=X6.then(ez))}function qte(n){fn(n)?Jv.push(...n):mc&&n.id===-1?mc.splice(yv+1,0,n):n.flags&1||(Jv.push(n),n.flags|=1),J6()}function BR(n,e,t=nl+1){for(;t<wo.length;t++){const i=wo[t];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;wo.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Q6(n){if(Jv.length){const e=[...new Set(Jv)].sort((t,i)=>Ib(t)-Ib(i));if(Jv.length=0,mc){mc.push(...e);return}for(mc=e,yv=0;yv<mc.length;yv++){const t=mc[yv];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}mc=null,yv=0}}const Ib=n=>n.id==null?n.flags&2?-1:1/0:n.id;function ez(n){try{for(nl=0;nl<wo.length;nl++){const e=wo[nl];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),By(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;nl<wo.length;nl++){const e=wo[nl];e&&(e.flags&=-2)}nl=-1,wo.length=0,Q6(),zC=null,(wo.length||Jv.length)&&ez()}}let Co=null,tz=null;function UC(n){const e=Co;return Co=n,tz=n&&n.type.__scopeId||null,e}function ze(n,e=Co,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&eN(-1);const o=UC(e);let a;try{a=n(...r)}finally{UC(o),i._d&&eN(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Du(n,e){if(Co===null)return n;const t=W1(Co),i=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,s,l=Di]=e[r];o&&(Sn(o)&&(o={mounted:o,updated:o}),o.deep&&uu(a),i.push({dir:o,instance:t,value:a,oldValue:void 0,arg:s,modifiers:l}))}return n}function Pd(n,e,t,i){const r=n.dirs,o=e&&e.dirs;for(let a=0;a<r.length;a++){const s=r[a];o&&(s.oldValue=o[a].value);let l=s.dir[i];l&&(pd(),Is(l,t,8,[n.el,s,n,e]),md())}}const nz=Symbol("_vte"),iz=n=>n.__isTeleport,Hm=n=>n&&(n.disabled||n.disabled===""),$R=n=>n&&(n.defer||n.defer===""),VR=n=>typeof SVGElement<"u"&&n instanceof SVGElement,WR=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,TP=(n,e)=>{const t=n&&n.to;return nr(t)?e?e(t):null:t},rz={name:"Teleport",__isTeleport:!0,process(n,e,t,i,r,o,a,s,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:v,createText:g,createComment:p}}=u,m=Hm(e.props);let{shapeFlag:b,children:C,dynamicChildren:O}=e;if(n==null){const w=e.el=g(""),E=e.anchor=g("");h(w,t,i),h(E,t,i);const P=(k,L)=>{b&16&&(r&&r.isCE&&(r.ce._teleportTarget=k),c(C,k,L,r,o,a,s,l))},D=()=>{const k=e.target=TP(e.props,v),L=oz(k,e,g,h);k&&(a!=="svg"&&VR(k)?a="svg":a!=="mathml"&&WR(k)&&(a="mathml"),m||(P(k,L),qw(e,!1)))};m&&(P(t,E),qw(e,!0)),$R(e.props)?mo(()=>{D(),e.el.__isMounted=!0},o):D()}else{if($R(e.props)&&!n.el.__isMounted){mo(()=>{rz.process(n,e,t,i,r,o,a,s,l,u),delete n.el.__isMounted},o);return}e.el=n.el,e.targetStart=n.targetStart;const w=e.anchor=n.anchor,E=e.target=n.target,P=e.targetAnchor=n.targetAnchor,D=Hm(n.props),k=D?t:E,L=D?w:P;if(a==="svg"||VR(E)?a="svg":(a==="mathml"||WR(E))&&(a="mathml"),O?(f(n.dynamicChildren,O,k,r,o,a,s),CL(n,e,!0)):l||d(n,e,k,L,r,o,a,s,!1),m)D?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):I_(e,t,w,u,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const M=e.target=TP(e.props,v);M&&I_(e,M,null,u,0)}else D&&I_(e,E,P,u,1);qw(e,m)}},remove(n,e,t,{um:i,o:{remove:r}},o){const{shapeFlag:a,children:s,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=n;if(d&&(r(u),r(c)),o&&r(l),a&16){const h=o||!Hm(f);for(let v=0;v<s.length;v++){const g=s[v];i(g,e,t,h,!!g.dynamicChildren)}}},move:I_,hydrate:Gte};function I_(n,e,t,{o:{insert:i},m:r},o=2){o===0&&i(n.targetAnchor,e,t);const{el:a,anchor:s,shapeFlag:l,children:u,props:c}=n,d=o===2;if(d&&i(a,e,t),(!d||Hm(c))&&l&16)for(let f=0;f<u.length;f++)r(u[f],e,t,2);d&&i(s,e,t)}function Gte(n,e,t,i,r,o,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:u,createText:c}},d){const f=e.target=TP(e.props,l);if(f){const h=Hm(e.props),v=f._lpa||f.firstChild;if(e.shapeFlag&16)if(h)e.anchor=d(a(n),e,s(n),t,i,r,o),e.targetStart=v,e.targetAnchor=v&&a(v);else{e.anchor=a(n);let g=v;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}}g=a(g)}e.targetAnchor||oz(f,e,c,u),d(v&&a(v),e,f,t,i,r,o)}qw(e,h)}return e.anchor&&a(e.anchor)}const th=rz;function qw(n,e){const t=n.ctx;if(t&&t.ut){let i,r;for(e?(i=n.el,r=n.anchor):(i=n.targetStart,r=n.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}function oz(n,e,t,i){const r=e.targetStart=t(""),o=e.targetAnchor=t("");return r[nz]=o,n&&(i(r,n),i(o,n)),o}const bc=Symbol("_leaveCb"),L_=Symbol("_enterCb");function az(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mt(()=>{n.isMounted=!0}),yi(()=>{n.isUnmounting=!0}),n}const La=[Function,Array],sz={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:La,onEnter:La,onAfterEnter:La,onEnterCancelled:La,onBeforeLeave:La,onLeave:La,onAfterLeave:La,onLeaveCancelled:La,onBeforeAppear:La,onAppear:La,onAfterAppear:La,onAppearCancelled:La},lz=n=>{const e=n.subTree;return e.component?lz(e.component):e},Yte={name:"BaseTransition",props:sz,setup(n,{slots:e}){const t=Ui(),i=az();return()=>{const r=e.default&&_L(e.default(),!0);if(!r||!r.length)return;const o=uz(r),a=ei(n),{mode:s}=a;if(i.isLeaving)return Dx(o);const l=zR(o);if(!l)return Dx(o);let u=Lb(l,a,i,t,d=>u=d);l.type!==Kr&&nh(l,u);let c=t.subTree&&zR(t.subTree);if(c&&c.type!==Kr&&!Yd(l,c)&&lz(t).type!==Kr){let d=Lb(c,a,i,t);if(nh(c,d),s==="out-in"&&l.type!==Kr)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,t.job.flags&8||t.update(),delete d.afterLeave,c=void 0},Dx(o);s==="in-out"&&l.type!==Kr?d.delayLeave=(f,h,v)=>{const g=cz(i,c);g[String(c.key)]=c,f[bc]=()=>{h(),f[bc]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function uz(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==Kr){e=t;break}}return e}const Zte=Yte;function cz(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function Lb(n,e,t,i,r){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:v,onLeaveCancelled:g,onBeforeAppear:p,onAppear:m,onAfterAppear:b,onAppearCancelled:C}=e,O=String(n.key),w=cz(t,n),E=(k,L)=>{k&&Is(k,i,9,L)},P=(k,L)=>{const M=L[1];E(k,L),fn(k)?k.every(A=>A.length<=1)&&M():k.length<=1&&M()},D={mode:a,persisted:s,beforeEnter(k){let L=l;if(!t.isMounted)if(o)L=p||l;else return;k[bc]&&k[bc](!0);const M=w[O];M&&Yd(n,M)&&M.el[bc]&&M.el[bc](),E(L,[k])},enter(k){let L=u,M=c,A=d;if(!t.isMounted)if(o)L=m||u,M=b||c,A=C||d;else return;let j=!1;const V=k[L_]=H=>{j||(j=!0,H?E(A,[k]):E(M,[k]),D.delayedLeave&&D.delayedLeave(),k[L_]=void 0)};L?P(L,[k,V]):V()},leave(k,L){const M=String(n.key);if(k[L_]&&k[L_](!0),t.isUnmounting)return L();E(f,[k]);let A=!1;const j=k[bc]=V=>{A||(A=!0,L(),V?E(g,[k]):E(v,[k]),k[bc]=void 0,w[M]===n&&delete w[M])};w[M]=n,h?P(h,[k,j]):j()},clone(k){const L=Lb(k,e,t,i,r);return r&&r(L),L}};return D}function Dx(n){if(H1(n))return n=Pl(n),n.children=null,n}function zR(n){if(!H1(n))return iz(n.type)&&n.children?uz(n.children):n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&Sn(t.default))return t.default()}}function nh(n,e){n.shapeFlag&6&&n.component?(n.transition=e,nh(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function _L(n,e=!1,t){let i=[],r=0;for(let o=0;o<n.length;o++){let a=n[o];const s=t==null?a.key:String(t)+String(a.key!=null?a.key:o);a.type===Ft?(a.patchFlag&128&&r++,i=i.concat(_L(a.children,e,s))):(e||a.type!==Kr)&&i.push(s!=null?Pl(a,{key:s}):a)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function pe(n,e){return Sn(n)?Pr({name:n.name},e,{setup:n}):n}function dz(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function KC(n,e,t,i,r=!1){if(fn(n)){n.forEach((v,g)=>KC(v,e&&(fn(e)?e[g]:e),t,i,r));return}if(Bm(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&KC(n,e,t,i.component.subTree);return}const o=i.shapeFlag&4?W1(i.component):i.el,a=r?null:o,{i:s,r:l}=n,u=e&&e.r,c=s.refs===Di?s.refs={}:s.refs,d=s.setupState,f=ei(d),h=d===Di?()=>!1:v=>mi(f,v);if(u!=null&&u!==l&&(nr(u)?(c[u]=null,h(u)&&(d[u]=null)):dr(u)&&(u.value=null)),Sn(l))By(l,s,12,[a,c]);else{const v=nr(l),g=dr(l);if(v||g){const p=()=>{if(n.f){const m=v?h(l)?d[l]:c[l]:l.value;r?fn(m)&&sL(m,o):fn(m)?m.includes(o)||m.push(o):v?(c[l]=[o],h(l)&&(d[l]=c[l])):(l.value=[o],n.k&&(c[n.k]=l.value))}else v?(c[l]=a,h(l)&&(d[l]=a)):g&&(l.value=a,n.k&&(c[n.k]=a))};a?(p.id=-1,mo(p,t)):p()}}}R1().requestIdleCallback;R1().cancelIdleCallback;const Bm=n=>!!n.type.__asyncLoader,H1=n=>n.type.__isKeepAlive;function fz(n,e){vz(n,"a",e)}function hz(n,e){vz(n,"da",e)}function vz(n,e,t=Rr){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(B1(e,i,t),t){let r=t.parent;for(;r&&r.parent;)H1(r.parent.vnode)&&Xte(i,e,t,r),r=r.parent}}function Xte(n,e,t,i){const r=B1(e,n,i,!0);Ea(()=>{sL(i[e],r)},t)}function B1(n,e,t=Rr,i=!1){if(t){const r=t[n]||(t[n]=[]),o=e.__weh||(e.__weh=(...a)=>{pd();const s=$y(t),l=Is(e,t,n,a);return s(),md(),l});return i?r.unshift(o):r.push(o),o}}const Wu=n=>(e,t=Rr)=>{(!Ab||n==="sp")&&B1(n,(...i)=>e(...i),t)},$1=Wu("bm"),mt=Wu("m"),gz=Wu("bu"),zu=Wu("u"),yi=Wu("bum"),Ea=Wu("um"),Jte=Wu("sp"),Qte=Wu("rtg"),ene=Wu("rtc");function tne(n,e=Rr){B1("ec",n,e)}const pz="components",nne="directives";function mz(n,e){return bz(pz,n,!0,e)||n}const ine=Symbol.for("v-ndc");function rne(n){return bz(nne,n)}function bz(n,e,t=!0,i=!1){const r=Co||Rr;if(r){const o=r.type;if(n===pz){const s=zne(o,!1);if(s&&(s===e||s===is(e)||s===A1(is(e))))return o}const a=UR(r[n]||o[n],e)||UR(r.appContext[n],e);return!a&&i?o:a}}function UR(n,e){return n&&(n[e]||n[is(e)]||n[A1(is(e))])}function El(n,e,t,i){let r;const o=t,a=fn(n);if(a||nr(n)){const s=a&&Fc(n);let l=!1;s&&(l=!Xa(n),n=F1(n)),r=new Array(n.length);for(let u=0,c=n.length;u<c;u++)r[u]=e(l?no(n[u]):n[u],u,void 0,o)}else if(typeof n=="number"){r=new Array(n);for(let s=0;s<n;s++)r[s]=e(s+1,s,void 0,o)}else if(zi(n))if(n[Symbol.iterator])r=Array.from(n,(s,l)=>e(s,l,void 0,o));else{const s=Object.keys(n);r=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];r[l]=e(n[c],c,l,o)}}else r=[];return r}function IP(n,e){for(let t=0;t<e.length;t++){const i=e[t];if(fn(i))for(let r=0;r<i.length;r++)n[i[r].name]=i[r].fn;else i&&(n[i.name]=i.key?(...r)=>{const o=i.fn(...r);return o&&(o.key=i.key),o}:i.fn)}return n}const LP=n=>n?Fz(n)?W1(n):LP(n.parent):null,$m=Pr(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>LP(n.parent),$root:n=>LP(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>_z(n),$forceUpdate:n=>n.f||(n.f=()=>{yL(n.update)}),$nextTick:n=>n.n||(n.n=tn.bind(n.proxy)),$watch:n=>Ene.bind(n)}),Tx=(n,e)=>n!==Di&&!n.__isScriptSetup&&mi(n,e),one={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:r,props:o,accessCache:a,type:s,appContext:l}=n;let u;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return o[e]}else{if(Tx(i,e))return a[e]=1,i[e];if(r!==Di&&mi(r,e))return a[e]=2,r[e];if((u=n.propsOptions[0])&&mi(u,e))return a[e]=3,o[e];if(t!==Di&&mi(t,e))return a[e]=4,t[e];MP&&(a[e]=0)}}const c=$m[e];let d,f;if(c)return e==="$attrs"&&to(n.attrs,"get",""),c(n);if((d=s.__cssModules)&&(d=d[e]))return d;if(t!==Di&&mi(t,e))return a[e]=4,t[e];if(f=l.config.globalProperties,mi(f,e))return f[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:o}=n;return Tx(r,e)?(r[e]=t,!0):i!==Di&&mi(i,e)?(i[e]=t,!0):mi(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(o[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:o}},a){let s;return!!t[a]||n!==Di&&mi(n,a)||Tx(e,a)||(s=o[0])&&mi(s,a)||mi(i,a)||mi($m,a)||mi(r.config.globalProperties,a)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:mi(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function KR(n){return fn(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let MP=!0;function ane(n){const e=_z(n),t=n.proxy,i=n.ctx;MP=!1,e.beforeCreate&&qR(e.beforeCreate,n,"bc");const{data:r,computed:o,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:v,activated:g,deactivated:p,beforeDestroy:m,beforeUnmount:b,destroyed:C,unmounted:O,render:w,renderTracked:E,renderTriggered:P,errorCaptured:D,serverPrefetch:k,expose:L,inheritAttrs:M,components:A,directives:j,filters:V}=e;if(u&&sne(u,i,null),a)for(const F in a){const W=a[F];Sn(W)&&(i[F]=W.bind(t))}if(r){const F=r.call(t,t);zi(F)&&(n.data=$n(F))}if(MP=!0,o)for(const F in o){const W=o[F],U=Sn(W)?W.bind(t,t):Sn(W.get)?W.get.bind(t,t):ml,q=!Sn(W)&&Sn(W.set)?W.set.bind(t):ml,Z=R({get:U,set:q});Object.defineProperty(i,F,{enumerable:!0,configurable:!0,get:()=>Z.value,set:z=>Z.value=z})}if(s)for(const F in s)yz(s[F],i,t,F);if(l){const F=Sn(l)?l.call(t):l;Reflect.ownKeys(F).forEach(W=>{Xn(W,F[W])})}c&&qR(c,n,"c");function N(F,W){fn(W)?W.forEach(U=>F(U.bind(t))):W&&F(W.bind(t))}if(N($1,d),N(mt,f),N(gz,h),N(zu,v),N(fz,g),N(hz,p),N(tne,D),N(ene,E),N(Qte,P),N(yi,b),N(Ea,O),N(Jte,k),fn(L))if(L.length){const F=n.exposed||(n.exposed={});L.forEach(W=>{Object.defineProperty(F,W,{get:()=>t[W],set:U=>t[W]=U})})}else n.exposed||(n.exposed={});w&&n.render===ml&&(n.render=w),M!=null&&(n.inheritAttrs=M),A&&(n.components=A),j&&(n.directives=j),k&&dz(n)}function sne(n,e,t=ml){fn(n)&&(n=AP(n));for(const i in n){const r=n[i];let o;zi(r)?"default"in r?o=bn(r.from||i,r.default,!0):o=bn(r.from||i):o=bn(r),dr(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function qR(n,e,t){Is(fn(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function yz(n,e,t,i){let r=i.includes(".")?Lz(t,i):()=>t[i];if(nr(n)){const o=e[n];Sn(o)&&Pe(r,o)}else if(Sn(n))Pe(r,n.bind(t));else if(zi(n))if(fn(n))n.forEach(o=>yz(o,e,t,i));else{const o=Sn(n.handler)?n.handler.bind(t):e[n.handler];Sn(o)&&Pe(r,o,n)}}function _z(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=n.appContext,s=o.get(e);let l;return s?l=s:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(u=>qC(l,u,a,!0)),qC(l,e,a)),zi(e)&&o.set(e,l),l}function qC(n,e,t,i=!1){const{mixins:r,extends:o}=e;o&&qC(n,o,t,!0),r&&r.forEach(a=>qC(n,a,t,!0));for(const a in e)if(!(i&&a==="expose")){const s=lne[a]||t&&t[a];n[a]=s?s(n[a],e[a]):e[a]}return n}const lne={data:GR,props:YR,emits:YR,methods:pm,computed:pm,beforeCreate:vo,created:vo,beforeMount:vo,mounted:vo,beforeUpdate:vo,updated:vo,beforeDestroy:vo,beforeUnmount:vo,destroyed:vo,unmounted:vo,activated:vo,deactivated:vo,errorCaptured:vo,serverPrefetch:vo,components:pm,directives:pm,watch:cne,provide:GR,inject:une};function GR(n,e){return e?n?function(){return Pr(Sn(n)?n.call(this,this):n,Sn(e)?e.call(this,this):e)}:e:n}function une(n,e){return pm(AP(n),AP(e))}function AP(n){if(fn(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function vo(n,e){return n?[...new Set([].concat(n,e))]:e}function pm(n,e){return n?Pr(Object.create(null),n,e):e}function YR(n,e){return n?fn(n)&&fn(e)?[...new Set([...n,...e])]:Pr(Object.create(null),KR(n),KR(e??{})):e}function cne(n,e){if(!n)return e;if(!e)return n;const t=Pr(Object.create(null),n);for(const i in e)t[i]=vo(n[i],e[i]);return t}function wz(){return{app:null,config:{isNativeTag:ote,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dne=0;function fne(n,e){return function(i,r=null){Sn(i)||(i=Pr({},i)),r!=null&&!zi(r)&&(r=null);const o=wz(),a=new WeakSet,s=[];let l=!1;const u=o.app={_uid:dne++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:Kne,get config(){return o.config},set config(c){},use(c,...d){return a.has(c)||(c&&Sn(c.install)?(a.add(c),c.install(u,...d)):Sn(c)&&(a.add(c),c(u,...d))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,d){return d?(o.components[c]=d,u):o.components[c]},directive(c,d){return d?(o.directives[c]=d,u):o.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||x(i,r);return h.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),n(h,c,f),l=!0,u._container=c,c.__vue_app__=u,W1(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(Is(s,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(c,d){return o.provides[c]=d,u},runWithContext(c){const d=lf;lf=u;try{return c()}finally{lf=d}}};return u}}let lf=null;function Xn(n,e){if(Rr){let t=Rr.provides;const i=Rr.parent&&Rr.parent.provides;i===t&&(t=Rr.provides=Object.create(i)),t[n]=e}}function bn(n,e,t=!1){const i=Rr||Co;if(i||lf){const r=lf?lf._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&n in r)return r[n];if(arguments.length>1)return t&&Sn(e)?e.call(i&&i.proxy):e}}function hne(){return!!(Rr||Co||lf)}const Cz={},Sz=()=>Object.create(Cz),Oz=n=>Object.getPrototypeOf(n)===Cz;function vne(n,e,t,i=!1){const r={},o=Sz();n.propsDefaults=Object.create(null),xz(n,e,r,o);for(const a in n.propsOptions[0])a in r||(r[a]=void 0);t?n.props=i?r:G6(r):n.type.props?n.props=r:n.props=o,n.attrs=o}function gne(n,e,t,i){const{props:r,attrs:o,vnode:{patchFlag:a}}=n,s=ei(r),[l]=n.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=n.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(V1(n.emitsOptions,f))continue;const h=e[f];if(l)if(mi(o,f))h!==o[f]&&(o[f]=h,u=!0);else{const v=is(f);r[v]=RP(l,s,v,h,n,!1)}else h!==o[f]&&(o[f]=h,u=!0)}}}else{xz(n,e,r,o)&&(u=!0);let c;for(const d in s)(!e||!mi(e,d)&&((c=Dh(d))===d||!mi(e,c)))&&(l?t&&(t[d]!==void 0||t[c]!==void 0)&&(r[d]=RP(l,s,d,void 0,n,!0)):delete r[d]);if(o!==s)for(const d in o)(!e||!mi(e,d))&&(delete o[d],u=!0)}u&&lu(n.attrs,"set","")}function xz(n,e,t,i){const[r,o]=n.propsOptions;let a=!1,s;if(e)for(let l in e){if(Nm(l))continue;const u=e[l];let c;r&&mi(r,c=is(l))?!o||!o.includes(c)?t[c]=u:(s||(s={}))[c]=u:V1(n.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(o){const l=ei(t),u=s||Di;for(let c=0;c<o.length;c++){const d=o[c];t[d]=RP(r,l,d,u[d],n,!mi(u,d))}}return a}function RP(n,e,t,i,r,o){const a=n[t];if(a!=null){const s=mi(a,"default");if(s&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Sn(l)){const{propsDefaults:u}=r;if(t in u)i=u[t];else{const c=$y(r);i=u[t]=l.call(null,e),c()}}else i=l;r.ce&&r.ce._setProp(t,i)}a[0]&&(o&&!s?i=!1:a[1]&&(i===""||i===Dh(t))&&(i=!0))}return i}const pne=new WeakMap;function Ez(n,e,t=!1){const i=t?pne:e.propsCache,r=i.get(n);if(r)return r;const o=n.props,a={},s=[];let l=!1;if(!Sn(n)){const c=d=>{l=!0;const[f,h]=Ez(d,e,!0);Pr(a,f),h&&s.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!o&&!l)return zi(n)&&i.set(n,Zv),Zv;if(fn(o))for(let c=0;c<o.length;c++){const d=is(o[c]);ZR(d)&&(a[d]=Di)}else if(o)for(const c in o){const d=is(c);if(ZR(d)){const f=o[c],h=a[d]=fn(f)||Sn(f)?{type:f}:Pr({},f),v=h.type;let g=!1,p=!0;if(fn(v))for(let m=0;m<v.length;++m){const b=v[m],C=Sn(b)&&b.name;if(C==="Boolean"){g=!0;break}else C==="String"&&(p=!1)}else g=Sn(v)&&v.name==="Boolean";h[0]=g,h[1]=p,(g||mi(h,"default"))&&s.push(d)}}const u=[a,s];return zi(n)&&i.set(n,u),u}function ZR(n){return n[0]!=="$"&&!Nm(n)}const Pz=n=>n[0]==="_"||n==="$stable",wL=n=>fn(n)?n.map(sl):[sl(n)],mne=(n,e,t)=>{if(e._n)return e;const i=ze((...r)=>wL(e(...r)),t);return i._c=!1,i},kz=(n,e,t)=>{const i=n._ctx;for(const r in n){if(Pz(r))continue;const o=n[r];if(Sn(o))e[r]=mne(r,o,i);else if(o!=null){const a=wL(o);e[r]=()=>a}}},Dz=(n,e)=>{const t=wL(e);n.slots.default=()=>t},Tz=(n,e,t)=>{for(const i in e)(t||i!=="_")&&(n[i]=e[i])},bne=(n,e,t)=>{const i=n.slots=Sz();if(n.vnode.shapeFlag&32){const r=e._;r?(Tz(i,e,t),t&&P6(i,"_",r,!0)):kz(e,i)}else e&&Dz(n,e)},yne=(n,e,t)=>{const{vnode:i,slots:r}=n;let o=!0,a=Di;if(i.shapeFlag&32){const s=e._;s?t&&s===1?o=!1:Tz(r,e,t):(o=!e.$stable,kz(e,r)),a=e}else e&&(Dz(n,e),a={default:1});if(o)for(const s in r)!Pz(s)&&a[s]==null&&delete r[s]},mo=Mne;function _ne(n){return wne(n)}function wne(n,e){const t=R1();t.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:a,createText:s,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=ml,insertStaticContent:v}=n,g=(Q,ne,se,de=null,he=null,ge=null,Se=void 0,Te=null,Ce=!!ne.dynamicChildren)=>{if(Q===ne)return;Q&&!Yd(Q,ne)&&(de=$(Q),z(Q,he,ge,!0),Q=null),ne.patchFlag===-2&&(Ce=!1,ne.dynamicChildren=null);const{type:xe,ref:Me,shapeFlag:Re}=ne;switch(xe){case vp:p(Q,ne,se,de);break;case Kr:m(Q,ne,se,de);break;case Lx:Q==null&&b(ne,se,de,Se);break;case Ft:A(Q,ne,se,de,he,ge,Se,Te,Ce);break;default:Re&1?w(Q,ne,se,de,he,ge,Se,Te,Ce):Re&6?j(Q,ne,se,de,he,ge,Se,Te,Ce):(Re&64||Re&128)&&xe.process(Q,ne,se,de,he,ge,Se,Te,Ce,ae)}Me!=null&&he&&KC(Me,Q&&Q.ref,ge,ne||Q,!ne)},p=(Q,ne,se,de)=>{if(Q==null)i(ne.el=s(ne.children),se,de);else{const he=ne.el=Q.el;ne.children!==Q.children&&u(he,ne.children)}},m=(Q,ne,se,de)=>{Q==null?i(ne.el=l(ne.children||""),se,de):ne.el=Q.el},b=(Q,ne,se,de)=>{[Q.el,Q.anchor]=v(Q.children,ne,se,de,Q.el,Q.anchor)},C=({el:Q,anchor:ne},se,de)=>{let he;for(;Q&&Q!==ne;)he=f(Q),i(Q,se,de),Q=he;i(ne,se,de)},O=({el:Q,anchor:ne})=>{let se;for(;Q&&Q!==ne;)se=f(Q),r(Q),Q=se;r(ne)},w=(Q,ne,se,de,he,ge,Se,Te,Ce)=>{ne.type==="svg"?Se="svg":ne.type==="math"&&(Se="mathml"),Q==null?E(ne,se,de,he,ge,Se,Te,Ce):k(Q,ne,he,ge,Se,Te,Ce)},E=(Q,ne,se,de,he,ge,Se,Te)=>{let Ce,xe;const{props:Me,shapeFlag:Re,transition:Ae,dirs:De}=Q;if(Ce=Q.el=a(Q.type,ge,Me&&Me.is,Me),Re&8?c(Ce,Q.children):Re&16&&D(Q.children,Ce,null,de,he,Ix(Q,ge),Se,Te),De&&Pd(Q,null,de,"created"),P(Ce,Q,Q.scopeId,Se,de),Me){for(const me in Me)me!=="value"&&!Nm(me)&&o(Ce,me,null,Me[me],ge,de);"value"in Me&&o(Ce,"value",null,Me.value,ge),(xe=Me.onVnodeBeforeMount)&&Ks(xe,de,Q)}De&&Pd(Q,null,de,"beforeMount");const Ee=Cne(he,Ae);Ee&&Ae.beforeEnter(Ce),i(Ce,ne,se),((xe=Me&&Me.onVnodeMounted)||Ee||De)&&mo(()=>{xe&&Ks(xe,de,Q),Ee&&Ae.enter(Ce),De&&Pd(Q,null,de,"mounted")},he)},P=(Q,ne,se,de,he)=>{if(se&&h(Q,se),de)for(let ge=0;ge<de.length;ge++)h(Q,de[ge]);if(he){let ge=he.subTree;if(ne===ge||Az(ge.type)&&(ge.ssContent===ne||ge.ssFallback===ne)){const Se=he.vnode;P(Q,Se,Se.scopeId,Se.slotScopeIds,he.parent)}}},D=(Q,ne,se,de,he,ge,Se,Te,Ce=0)=>{for(let xe=Ce;xe<Q.length;xe++){const Me=Q[xe]=Te?yc(Q[xe]):sl(Q[xe]);g(null,Me,ne,se,de,he,ge,Se,Te)}},k=(Q,ne,se,de,he,ge,Se)=>{const Te=ne.el=Q.el;let{patchFlag:Ce,dynamicChildren:xe,dirs:Me}=ne;Ce|=Q.patchFlag&16;const Re=Q.props||Di,Ae=ne.props||Di;let De;if(se&&kd(se,!1),(De=Ae.onVnodeBeforeUpdate)&&Ks(De,se,ne,Q),Me&&Pd(ne,Q,se,"beforeUpdate"),se&&kd(se,!0),(Re.innerHTML&&Ae.innerHTML==null||Re.textContent&&Ae.textContent==null)&&c(Te,""),xe?L(Q.dynamicChildren,xe,Te,se,de,Ix(ne,he),ge):Se||W(Q,ne,Te,null,se,de,Ix(ne,he),ge,!1),Ce>0){if(Ce&16)M(Te,Re,Ae,se,he);else if(Ce&2&&Re.class!==Ae.class&&o(Te,"class",null,Ae.class,he),Ce&4&&o(Te,"style",Re.style,Ae.style,he),Ce&8){const Ee=ne.dynamicProps;for(let me=0;me<Ee.length;me++){const Oe=Ee[me],ke=Re[Oe],Ve=Ae[Oe];(Ve!==ke||Oe==="value")&&o(Te,Oe,ke,Ve,he,se)}}Ce&1&&Q.children!==ne.children&&c(Te,ne.children)}else!Se&&xe==null&&M(Te,Re,Ae,se,he);((De=Ae.onVnodeUpdated)||Me)&&mo(()=>{De&&Ks(De,se,ne,Q),Me&&Pd(ne,Q,se,"updated")},de)},L=(Q,ne,se,de,he,ge,Se)=>{for(let Te=0;Te<ne.length;Te++){const Ce=Q[Te],xe=ne[Te],Me=Ce.el&&(Ce.type===Ft||!Yd(Ce,xe)||Ce.shapeFlag&70)?d(Ce.el):se;g(Ce,xe,Me,null,de,he,ge,Se,!0)}},M=(Q,ne,se,de,he)=>{if(ne!==se){if(ne!==Di)for(const ge in ne)!Nm(ge)&&!(ge in se)&&o(Q,ge,ne[ge],null,he,de);for(const ge in se){if(Nm(ge))continue;const Se=se[ge],Te=ne[ge];Se!==Te&&ge!=="value"&&o(Q,ge,Te,Se,he,de)}"value"in se&&o(Q,"value",ne.value,se.value,he)}},A=(Q,ne,se,de,he,ge,Se,Te,Ce)=>{const xe=ne.el=Q?Q.el:s(""),Me=ne.anchor=Q?Q.anchor:s("");let{patchFlag:Re,dynamicChildren:Ae,slotScopeIds:De}=ne;De&&(Te=Te?Te.concat(De):De),Q==null?(i(xe,se,de),i(Me,se,de),D(ne.children||[],se,Me,he,ge,Se,Te,Ce)):Re>0&&Re&64&&Ae&&Q.dynamicChildren?(L(Q.dynamicChildren,Ae,se,he,ge,Se,Te),(ne.key!=null||he&&ne===he.subTree)&&CL(Q,ne,!0)):W(Q,ne,se,Me,he,ge,Se,Te,Ce)},j=(Q,ne,se,de,he,ge,Se,Te,Ce)=>{ne.slotScopeIds=Te,Q==null?ne.shapeFlag&512?he.ctx.activate(ne,se,de,Se,Ce):V(ne,se,de,he,ge,Se,Ce):H(Q,ne,Ce)},V=(Q,ne,se,de,he,ge,Se)=>{const Te=Q.component=Hne(Q,de,he);if(H1(Q)&&(Te.ctx.renderer=ae),Bne(Te,!1,Se),Te.asyncDep){if(he&&he.registerDep(Te,N,Se),!Q.el){const Ce=Te.subTree=x(Kr);m(null,Ce,ne,se)}}else N(Te,Q,ne,se,he,ge,Se)},H=(Q,ne,se)=>{const de=ne.component=Q.component;if(Ine(Q,ne,se))if(de.asyncDep&&!de.asyncResolved){F(de,ne,se);return}else de.next=ne,de.update();else ne.el=Q.el,de.vnode=ne},N=(Q,ne,se,de,he,ge,Se)=>{const Te=()=>{if(Q.isMounted){let{next:Re,bu:Ae,u:De,parent:Ee,vnode:me}=Q;{const Ge=Iz(Q);if(Ge){Re&&(Re.el=me.el,F(Q,Re,Se)),Ge.asyncDep.then(()=>{Q.isUnmounted||Te()});return}}let Oe=Re,ke;kd(Q,!1),Re?(Re.el=me.el,F(Q,Re,Se)):Re=me,Ae&&Ox(Ae),(ke=Re.props&&Re.props.onVnodeBeforeUpdate)&&Ks(ke,Ee,Re,me),kd(Q,!0);const Ve=JR(Q),lt=Q.subTree;Q.subTree=Ve,g(lt,Ve,d(lt.el),$(lt),Q,he,ge),Re.el=Ve.el,Oe===null&&Lne(Q,Ve.el),De&&mo(De,he),(ke=Re.props&&Re.props.onVnodeUpdated)&&mo(()=>Ks(ke,Ee,Re,me),he)}else{let Re;const{el:Ae,props:De}=ne,{bm:Ee,m:me,parent:Oe,root:ke,type:Ve}=Q,lt=Bm(ne);kd(Q,!1),Ee&&Ox(Ee),!lt&&(Re=De&&De.onVnodeBeforeMount)&&Ks(Re,Oe,ne),kd(Q,!0);{ke.ce&&ke.ce._injectChildStyle(Ve);const Ge=Q.subTree=JR(Q);g(null,Ge,se,de,Q,he,ge),ne.el=Ge.el}if(me&&mo(me,he),!lt&&(Re=De&&De.onVnodeMounted)){const Ge=ne;mo(()=>Ks(Re,Oe,Ge),he)}(ne.shapeFlag&256||Oe&&Bm(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&Q.a&&mo(Q.a,he),Q.isMounted=!0,ne=se=de=null}};Q.scope.on();const Ce=Q.effect=new A6(Te);Q.scope.off();const xe=Q.update=Ce.run.bind(Ce),Me=Q.job=Ce.runIfDirty.bind(Ce);Me.i=Q,Me.id=Q.uid,Ce.scheduler=()=>yL(Me),kd(Q,!0),xe()},F=(Q,ne,se)=>{ne.component=Q;const de=Q.vnode.props;Q.vnode=ne,Q.next=null,gne(Q,ne.props,de,se),yne(Q,ne.children,se),pd(),BR(Q),md()},W=(Q,ne,se,de,he,ge,Se,Te,Ce=!1)=>{const xe=Q&&Q.children,Me=Q?Q.shapeFlag:0,Re=ne.children,{patchFlag:Ae,shapeFlag:De}=ne;if(Ae>0){if(Ae&128){q(xe,Re,se,de,he,ge,Se,Te,Ce);return}else if(Ae&256){U(xe,Re,se,de,he,ge,Se,Te,Ce);return}}De&8?(Me&16&&J(xe,he,ge),Re!==xe&&c(se,Re)):Me&16?De&16?q(xe,Re,se,de,he,ge,Se,Te,Ce):J(xe,he,ge,!0):(Me&8&&c(se,""),De&16&&D(Re,se,de,he,ge,Se,Te,Ce))},U=(Q,ne,se,de,he,ge,Se,Te,Ce)=>{Q=Q||Zv,ne=ne||Zv;const xe=Q.length,Me=ne.length,Re=Math.min(xe,Me);let Ae;for(Ae=0;Ae<Re;Ae++){const De=ne[Ae]=Ce?yc(ne[Ae]):sl(ne[Ae]);g(Q[Ae],De,se,null,he,ge,Se,Te,Ce)}xe>Me?J(Q,he,ge,!0,!1,Re):D(ne,se,de,he,ge,Se,Te,Ce,Re)},q=(Q,ne,se,de,he,ge,Se,Te,Ce)=>{let xe=0;const Me=ne.length;let Re=Q.length-1,Ae=Me-1;for(;xe<=Re&&xe<=Ae;){const De=Q[xe],Ee=ne[xe]=Ce?yc(ne[xe]):sl(ne[xe]);if(Yd(De,Ee))g(De,Ee,se,null,he,ge,Se,Te,Ce);else break;xe++}for(;xe<=Re&&xe<=Ae;){const De=Q[Re],Ee=ne[Ae]=Ce?yc(ne[Ae]):sl(ne[Ae]);if(Yd(De,Ee))g(De,Ee,se,null,he,ge,Se,Te,Ce);else break;Re--,Ae--}if(xe>Re){if(xe<=Ae){const De=Ae+1,Ee=De<Me?ne[De].el:de;for(;xe<=Ae;)g(null,ne[xe]=Ce?yc(ne[xe]):sl(ne[xe]),se,Ee,he,ge,Se,Te,Ce),xe++}}else if(xe>Ae)for(;xe<=Re;)z(Q[xe],he,ge,!0),xe++;else{const De=xe,Ee=xe,me=new Map;for(xe=Ee;xe<=Ae;xe++){const Ke=ne[xe]=Ce?yc(ne[xe]):sl(ne[xe]);Ke.key!=null&&me.set(Ke.key,xe)}let Oe,ke=0;const Ve=Ae-Ee+1;let lt=!1,Ge=0;const $e=new Array(Ve);for(xe=0;xe<Ve;xe++)$e[xe]=0;for(xe=De;xe<=Re;xe++){const Ke=Q[xe];if(ke>=Ve){z(Ke,he,ge,!0);continue}let et;if(Ke.key!=null)et=me.get(Ke.key);else for(Oe=Ee;Oe<=Ae;Oe++)if($e[Oe-Ee]===0&&Yd(Ke,ne[Oe])){et=Oe;break}et===void 0?z(Ke,he,ge,!0):($e[et-Ee]=xe+1,et>=Ge?Ge=et:lt=!0,g(Ke,ne[et],se,null,he,ge,Se,Te,Ce),ke++)}const Fe=lt?Sne($e):Zv;for(Oe=Fe.length-1,xe=Ve-1;xe>=0;xe--){const Ke=Ee+xe,et=ne[Ke],ot=Ke+1<Me?ne[Ke+1].el:de;$e[xe]===0?g(null,et,se,ot,he,ge,Se,Te,Ce):lt&&(Oe<0||xe!==Fe[Oe]?Z(et,se,ot,2):Oe--)}}},Z=(Q,ne,se,de,he=null)=>{const{el:ge,type:Se,transition:Te,children:Ce,shapeFlag:xe}=Q;if(xe&6){Z(Q.component.subTree,ne,se,de);return}if(xe&128){Q.suspense.move(ne,se,de);return}if(xe&64){Se.move(Q,ne,se,ae);return}if(Se===Ft){i(ge,ne,se);for(let Re=0;Re<Ce.length;Re++)Z(Ce[Re],ne,se,de);i(Q.anchor,ne,se);return}if(Se===Lx){C(Q,ne,se);return}if(de!==2&&xe&1&&Te)if(de===0)Te.beforeEnter(ge),i(ge,ne,se),mo(()=>Te.enter(ge),he);else{const{leave:Re,delayLeave:Ae,afterLeave:De}=Te,Ee=()=>i(ge,ne,se),me=()=>{Re(ge,()=>{Ee(),De&&De()})};Ae?Ae(ge,Ee,me):me()}else i(ge,ne,se)},z=(Q,ne,se,de=!1,he=!1)=>{const{type:ge,props:Se,ref:Te,children:Ce,dynamicChildren:xe,shapeFlag:Me,patchFlag:Re,dirs:Ae,cacheIndex:De}=Q;if(Re===-2&&(he=!1),Te!=null&&KC(Te,null,se,Q,!0),De!=null&&(ne.renderCache[De]=void 0),Me&256){ne.ctx.deactivate(Q);return}const Ee=Me&1&&Ae,me=!Bm(Q);let Oe;if(me&&(Oe=Se&&Se.onVnodeBeforeUnmount)&&Ks(Oe,ne,Q),Me&6)K(Q.component,se,de);else{if(Me&128){Q.suspense.unmount(se,de);return}Ee&&Pd(Q,null,ne,"beforeUnmount"),Me&64?Q.type.remove(Q,ne,se,ae,de):xe&&!xe.hasOnce&&(ge!==Ft||Re>0&&Re&64)?J(xe,ne,se,!1,!0):(ge===Ft&&Re&384||!he&&Me&16)&&J(Ce,ne,se),de&&ie(Q)}(me&&(Oe=Se&&Se.onVnodeUnmounted)||Ee)&&mo(()=>{Oe&&Ks(Oe,ne,Q),Ee&&Pd(Q,null,ne,"unmounted")},se)},ie=Q=>{const{type:ne,el:se,anchor:de,transition:he}=Q;if(ne===Ft){ee(se,de);return}if(ne===Lx){O(Q);return}const ge=()=>{r(se),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(Q.shapeFlag&1&&he&&!he.persisted){const{leave:Se,delayLeave:Te}=he,Ce=()=>Se(se,ge);Te?Te(Q.el,ge,Ce):Ce()}else ge()},ee=(Q,ne)=>{let se;for(;Q!==ne;)se=f(Q),r(Q),Q=se;r(ne)},K=(Q,ne,se)=>{const{bum:de,scope:he,job:ge,subTree:Se,um:Te,m:Ce,a:xe}=Q;XR(Ce),XR(xe),de&&Ox(de),he.stop(),ge&&(ge.flags|=8,z(Se,Q,ne,se)),Te&&mo(Te,ne),mo(()=>{Q.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&Q.asyncDep&&!Q.asyncResolved&&Q.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},J=(Q,ne,se,de=!1,he=!1,ge=0)=>{for(let Se=ge;Se<Q.length;Se++)z(Q[Se],ne,se,de,he)},$=Q=>{if(Q.shapeFlag&6)return $(Q.component.subTree);if(Q.shapeFlag&128)return Q.suspense.next();const ne=f(Q.anchor||Q.el),se=ne&&ne[nz];return se?f(se):ne};let Y=!1;const te=(Q,ne,se)=>{Q==null?ne._vnode&&z(ne._vnode,null,null,!0):g(ne._vnode||null,Q,ne,null,null,null,se),ne._vnode=Q,Y||(Y=!0,BR(),Q6(),Y=!1)},ae={p:g,um:z,m:Z,r:ie,mt:V,mc:D,pc:W,pbc:L,n:$,o:n};return{render:te,hydrate:void 0,createApp:fne(te)}}function Ix({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function kd({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function Cne(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function CL(n,e,t=!1){const i=n.children,r=e.children;if(fn(i)&&fn(r))for(let o=0;o<i.length;o++){const a=i[o];let s=r[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[o]=yc(r[o]),s.el=a.el),!t&&s.patchFlag!==-2&&CL(a,s)),s.type===vp&&(s.el=a.el)}}function Sne(n){const e=n.slice(),t=[0];let i,r,o,a,s;const l=n.length;for(i=0;i<l;i++){const u=n[i];if(u!==0){if(r=t[t.length-1],n[r]<u){e[i]=r,t.push(i);continue}for(o=0,a=t.length-1;o<a;)s=o+a>>1,n[t[s]]<u?o=s+1:a=s;u<n[t[o]]&&(o>0&&(e[i]=t[o-1]),t[o]=i)}}for(o=t.length,a=t[o-1];o-- >0;)t[o]=a,a=e[a];return t}function Iz(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Iz(e)}function XR(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const One=Symbol.for("v-scx"),xne=()=>bn(One);function od(n,e){return SL(n,null,e)}function Pe(n,e,t){return SL(n,e,t)}function SL(n,e,t=Di){const{immediate:i,deep:r,flush:o,once:a}=t,s=Pr({},t),l=e&&i||!e&&o!=="post";let u;if(Ab){if(o==="sync"){const h=xne();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=ml,h.resume=ml,h.pause=ml,h}}const c=Rr;s.call=(h,v,g)=>Is(h,c,v,g);let d=!1;o==="post"?s.scheduler=h=>{mo(h,c&&c.suspense)}:o!=="sync"&&(d=!0,s.scheduler=(h,v)=>{v?h():yL(h)}),s.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=zte(n,e,s);return Ab&&(u?u.push(f):l&&f()),f}function Ene(n,e,t){const i=this.proxy,r=nr(n)?n.includes(".")?Lz(i,n):()=>i[n]:n.bind(i,i);let o;Sn(e)?o=e:(o=e.handler,t=e);const a=$y(this),s=SL(r,o.bind(i),t);return a(),s}function Lz(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}const Pne=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${is(e)}Modifiers`]||n[`${Dh(e)}Modifiers`];function kne(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||Di;let r=t;const o=e.startsWith("update:"),a=o&&Pne(i,e.slice(7));a&&(a.trim&&(r=t.map(c=>nr(c)?c.trim():c)),a.number&&(r=t.map(cte)));let s,l=i[s=Sx(e)]||i[s=Sx(is(e))];!l&&o&&(l=i[s=Sx(Dh(e))]),l&&Is(l,n,6,r);const u=i[s+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[s])return;n.emitted[s]=!0,Is(u,n,6,r)}}function Mz(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const o=n.emits;let a={},s=!1;if(!Sn(n)){const l=u=>{const c=Mz(u,e,!0);c&&(s=!0,Pr(a,c))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!o&&!s?(zi(n)&&i.set(n,null),null):(fn(o)?o.forEach(l=>a[l]=null):Pr(a,o),zi(n)&&i.set(n,a),a)}function V1(n,e){return!n||!I1(e)?!1:(e=e.slice(2).replace(/Once$/,""),mi(n,e[0].toLowerCase()+e.slice(1))||mi(n,Dh(e))||mi(n,e))}function JR(n){const{type:e,vnode:t,proxy:i,withProxy:r,propsOptions:[o],slots:a,attrs:s,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:v,inheritAttrs:g}=n,p=UC(n);let m,b;try{if(t.shapeFlag&4){const O=r||i,w=O;m=sl(u.call(w,O,c,d,h,f,v)),b=s}else{const O=e;m=sl(O.length>1?O(d,{attrs:s,slots:a,emit:l}):O(d,null)),b=e.props?s:Dne(s)}}catch(O){Vm.length=0,j1(O,n,1),m=x(Kr)}let C=m;if(b&&g!==!1){const O=Object.keys(b),{shapeFlag:w}=C;O.length&&w&7&&(o&&O.some(aL)&&(b=Tne(b,o)),C=Pl(C,b,!1,!0))}return t.dirs&&(C=Pl(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&nh(C,t.transition),m=C,UC(p),m}const Dne=n=>{let e;for(const t in n)(t==="class"||t==="style"||I1(t))&&((e||(e={}))[t]=n[t]);return e},Tne=(n,e)=>{const t={};for(const i in n)(!aL(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function Ine(n,e,t){const{props:i,children:r,component:o}=n,{props:a,children:s,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?QR(i,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(a[f]!==i[f]&&!V1(u,f))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===a?!1:i?a?QR(i,a,u):!0:!!a;return!1}function QR(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==n[o]&&!V1(t,o))return!0}return!1}function Lne({vnode:n,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=e.vnode).el=t,e=e.parent;else break}}const Az=n=>n.__isSuspense;function Mne(n,e){e&&e.pendingBranch?fn(n)?e.effects.push(...n):e.effects.push(n):qte(n)}const Ft=Symbol.for("v-fgt"),vp=Symbol.for("v-txt"),Kr=Symbol.for("v-cmt"),Lx=Symbol.for("v-stc"),Vm=[];let ya=null;function sn(n=!1){Vm.push(ya=n?null:[])}function Ane(){Vm.pop(),ya=Vm[Vm.length-1]||null}let Mb=1;function eN(n,e=!1){Mb+=n,n<0&&ya&&e&&(ya.hasOnce=!0)}function Rz(n){return n.dynamicChildren=Mb>0?ya||Zv:null,Ane(),Mb>0&&ya&&ya.push(n),n}function xr(n,e,t,i,r,o){return Rz(Si(n,e,t,i,r,o,!0))}function di(n,e,t,i,r){return Rz(x(n,e,t,i,r,!0))}function Qt(n){return n?n.__v_isVNode===!0:!1}function Yd(n,e){return n.type===e.type&&n.key===e.key}const Nz=({key:n})=>n??null,Gw=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?nr(n)||dr(n)||Sn(n)?{i:Co,r:n,k:e,f:!!t}:n:null);function Si(n,e=null,t=null,i=0,r=null,o=n===Ft?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Nz(e),ref:e&&Gw(e),scopeId:tz,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Co};return s?(OL(l,t),o&128&&n.normalize(l)):t&&(l.shapeFlag|=nr(t)?8:16),Mb>0&&!a&&ya&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ya.push(l),l}const x=Rne;function Rne(n,e=null,t=null,i=0,r=null,o=!1){if((!n||n===ine)&&(n=Kr),Qt(n)){const s=Pl(n,e,!0);return t&&OL(s,t),Mb>0&&!o&&ya&&(s.shapeFlag&6?ya[ya.indexOf(n)]=s:ya.push(s)),s.patchFlag=-2,s}if(Une(n)&&(n=n.__vccOpts),e){e=Nne(e);let{class:s,style:l}=e;s&&!nr(s)&&(e.class=Pg(s)),zi(l)&&(mL(l)&&!fn(l)&&(l=Pr({},l)),e.style=N1(l))}const a=nr(n)?1:Az(n)?128:iz(n)?64:zi(n)?4:Sn(n)?2:0;return Si(n,e,t,i,r,a,o,!0)}function Nne(n){return n?mL(n)||Oz(n)?Pr({},n):n:null}function Pl(n,e,t=!1,i=!1){const{props:r,ref:o,patchFlag:a,children:s,transition:l}=n,u=e?He(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&Nz(u),ref:e&&e.ref?t&&o?fn(o)?o.concat(Gw(e)):[o,Gw(e)]:Gw(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ft?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Pl(n.ssContent),ssFallback:n.ssFallback&&Pl(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&i&&nh(c,l.clone(c)),c}function rn(n=" ",e=0){return x(vp,null,n,e)}function ad(n="",e=!1){return e?(sn(),di(Kr,null,n)):x(Kr,null,n)}function sl(n){return n==null||typeof n=="boolean"?x(Kr):fn(n)?x(Ft,null,n.slice()):Qt(n)?yc(n):x(vp,null,String(n))}function yc(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Pl(n)}function OL(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(fn(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),OL(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!Oz(e)?e._ctx=Co:r===3&&Co&&(Co.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Sn(e)?(e={default:e,_ctx:Co},t=32):(e=String(e),i&64?(t=16,e=[rn(e)]):t=8);n.children=e,n.shapeFlag|=t}function He(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Pg([e.class,i.class]));else if(r==="style")e.style=N1([e.style,i.style]);else if(I1(r)){const o=e[r],a=i[r];a&&o!==a&&!(fn(o)&&o.includes(a))&&(e[r]=o?[].concat(o,a):a)}else r!==""&&(e[r]=i[r])}return e}function Ks(n,e,t,i=null){Is(n,e,7,[t,i])}const Fne=wz();let jne=0;function Hne(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||Fne,o={uid:jne++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new I6(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ez(i,r),emitsOptions:Mz(i,r),emit:null,emitted:null,propsDefaults:Di,inheritAttrs:i.inheritAttrs,ctx:Di,data:Di,props:Di,attrs:Di,slots:Di,refs:Di,setupState:Di,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=kne.bind(null,o),n.ce&&n.ce(o),o}let Rr=null;const Ui=()=>Rr||Co;let GC,NP;{const n=R1(),e=(t,i)=>{let r;return(r=n[t])||(r=n[t]=[]),r.push(i),o=>{r.length>1?r.forEach(a=>a(o)):r[0](o)}};GC=e("__VUE_INSTANCE_SETTERS__",t=>Rr=t),NP=e("__VUE_SSR_SETTERS__",t=>Ab=t)}const $y=n=>{const e=Rr;return GC(n),n.scope.on(),()=>{n.scope.off(),GC(e)}},tN=()=>{Rr&&Rr.scope.off(),GC(null)};function Fz(n){return n.vnode.shapeFlag&4}let Ab=!1;function Bne(n,e=!1,t=!1){e&&NP(e);const{props:i,children:r}=n.vnode,o=Fz(n);vne(n,i,o,e),bne(n,r,t);const a=o?$ne(n,e):void 0;return e&&NP(!1),a}function $ne(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,one);const{setup:i}=t;if(i){pd();const r=n.setupContext=i.length>1?Wne(n):null,o=$y(n),a=By(i,n,0,[n.props,r]),s=O6(a);if(md(),o(),(s||n.sp)&&!Bm(n)&&dz(n),s){if(a.then(tN,tN),e)return a.then(l=>{nN(n,l)}).catch(l=>{j1(l,n,0)});n.asyncDep=a}else nN(n,a)}else jz(n)}function nN(n,e,t){Sn(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:zi(e)&&(n.setupState=Z6(e)),jz(n)}function jz(n,e,t){const i=n.type;n.render||(n.render=i.render||ml);{const r=$y(n);pd();try{ane(n)}finally{md(),r()}}}const Vne={get(n,e){return to(n,"get",""),n[e]}};function Wne(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,Vne),slots:n.slots,emit:n.emit,expose:e}}function W1(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Z6(bL(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in $m)return $m[t](n)},has(e,t){return t in e||t in $m}})):n.proxy}function zne(n,e=!0){return Sn(n)?n.displayName||n.name:n.name||e&&n.__name}function Une(n){return Sn(n)&&"__vccOpts"in n}const R=(n,e)=>Vte(n,e,Ab);function At(n,e,t){const i=arguments.length;return i===2?zi(e)&&!fn(e)?Qt(e)?x(n,null,[e]):x(n,e):x(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&Qt(t)&&(t=[t]),x(n,e,t))}const Kne="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let FP;const iN=typeof window<"u"&&window.trustedTypes;if(iN)try{FP=iN.createPolicy("vue",{createHTML:n=>n})}catch{}const Hz=FP?n=>FP.createHTML(n):n=>n,qne="http://www.w3.org/2000/svg",Gne="http://www.w3.org/1998/Math/MathML",Jl=typeof document<"u"?document:null,rN=Jl&&Jl.createElement("template"),Yne={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e==="svg"?Jl.createElementNS(qne,n):e==="mathml"?Jl.createElementNS(Gne,n):t?Jl.createElement(n,{is:t}):Jl.createElement(n);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>Jl.createTextNode(n),createComment:n=>Jl.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Jl.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,r,o){const a=t?t.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===o||!(r=r.nextSibling)););else{rN.innerHTML=Hz(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const s=rN.content;if(i==="svg"||i==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},uc="transition",Gp="animation",kg=Symbol("_vtc"),Bz={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$z=Pr({},sz,Bz),Zne=n=>(n.displayName="Transition",n.props=$z,n),sd=Zne((n,{slots:e})=>At(Zte,Vz(n),e)),Dd=(n,e=[])=>{fn(n)?n.forEach(t=>t(...e)):n&&n(...e)},oN=n=>n?fn(n)?n.some(e=>e.length>1):n.length>1:!1;function Vz(n){const e={};for(const A in n)A in Bz||(e[A]=n[A]);if(n.css===!1)return e;const{name:t="v",type:i,duration:r,enterFromClass:o=`${t}-enter-from`,enterActiveClass:a=`${t}-enter-active`,enterToClass:s=`${t}-enter-to`,appearFromClass:l=o,appearActiveClass:u=a,appearToClass:c=s,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,v=Xne(r),g=v&&v[0],p=v&&v[1],{onBeforeEnter:m,onEnter:b,onEnterCancelled:C,onLeave:O,onLeaveCancelled:w,onBeforeAppear:E=m,onAppear:P=b,onAppearCancelled:D=C}=e,k=(A,j,V,H)=>{A._enterCancelled=H,vc(A,j?c:s),vc(A,j?u:a),V&&V()},L=(A,j)=>{A._isLeaving=!1,vc(A,d),vc(A,h),vc(A,f),j&&j()},M=A=>(j,V)=>{const H=A?P:b,N=()=>k(j,A,V);Dd(H,[j,N]),aN(()=>{vc(j,A?l:o),Qs(j,A?c:s),oN(H)||sN(j,i,g,N)})};return Pr(e,{onBeforeEnter(A){Dd(m,[A]),Qs(A,o),Qs(A,a)},onBeforeAppear(A){Dd(E,[A]),Qs(A,l),Qs(A,u)},onEnter:M(!1),onAppear:M(!0),onLeave(A,j){A._isLeaving=!0;const V=()=>L(A,j);Qs(A,d),A._enterCancelled?(Qs(A,f),jP()):(jP(),Qs(A,f)),aN(()=>{A._isLeaving&&(vc(A,d),Qs(A,h),oN(O)||sN(A,i,p,V))}),Dd(O,[A,V])},onEnterCancelled(A){k(A,!1,void 0,!0),Dd(C,[A])},onAppearCancelled(A){k(A,!0,void 0,!0),Dd(D,[A])},onLeaveCancelled(A){L(A),Dd(w,[A])}})}function Xne(n){if(n==null)return null;if(zi(n))return[Mx(n.enter),Mx(n.leave)];{const e=Mx(n);return[e,e]}}function Mx(n){return dte(n)}function Qs(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[kg]||(n[kg]=new Set)).add(e)}function vc(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const t=n[kg];t&&(t.delete(e),t.size||(n[kg]=void 0))}function aN(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let Jne=0;function sN(n,e,t,i){const r=n._endId=++Jne,o=()=>{r===n._endId&&i()};if(t!=null)return setTimeout(o,t);const{type:a,timeout:s,propCount:l}=Wz(n,e);if(!a)return i();const u=a+"end";let c=0;const d=()=>{n.removeEventListener(u,f),o()},f=h=>{h.target===n&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},s+1),n.addEventListener(u,f)}function Wz(n,e){const t=window.getComputedStyle(n),i=v=>(t[v]||"").split(", "),r=i(`${uc}Delay`),o=i(`${uc}Duration`),a=lN(r,o),s=i(`${Gp}Delay`),l=i(`${Gp}Duration`),u=lN(s,l);let c=null,d=0,f=0;e===uc?a>0&&(c=uc,d=a,f=o.length):e===Gp?u>0&&(c=Gp,d=u,f=l.length):(d=Math.max(a,u),c=d>0?a>u?uc:Gp:null,f=c?c===uc?o.length:l.length:0);const h=c===uc&&/\b(transform|all)(,|$)/.test(i(`${uc}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function lN(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>uN(t)+uN(n[i])))}function uN(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function jP(){return document.body.offsetHeight}function Qne(n,e,t){const i=n[kg];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const YC=Symbol("_vod"),zz=Symbol("_vsh"),ld={beforeMount(n,{value:e},{transition:t}){n[YC]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Yp(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),Yp(n,!0),i.enter(n)):i.leave(n,()=>{Yp(n,!1)}):Yp(n,e))},beforeUnmount(n,{value:e}){Yp(n,e)}};function Yp(n,e){n.style.display=e?n[YC]:"none",n[zz]=!e}const eie=Symbol(""),tie=/(^|;)\s*display\s*:/;function nie(n,e,t){const i=n.style,r=nr(t);let o=!1;if(t&&!r){if(e)if(nr(e))for(const a of e.split(";")){const s=a.slice(0,a.indexOf(":")).trim();t[s]==null&&Yw(i,s,"")}else for(const a in e)t[a]==null&&Yw(i,a,"");for(const a in t)a==="display"&&(o=!0),Yw(i,a,t[a])}else if(r){if(e!==t){const a=i[eie];a&&(t+=";"+a),i.cssText=t,o=tie.test(t)}}else e&&n.removeAttribute("style");YC in n&&(n[YC]=o?i.display:"",n[zz]&&(i.display="none"))}const cN=/\s*!important$/;function Yw(n,e,t){if(fn(t))t.forEach(i=>Yw(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=iie(n,e);cN.test(t)?n.setProperty(Dh(i),t.replace(cN,""),"important"):n[i]=t}}const dN=["Webkit","Moz","ms"],Ax={};function iie(n,e){const t=Ax[e];if(t)return t;let i=is(e);if(i!=="filter"&&i in n)return Ax[e]=i;i=A1(i);for(let r=0;r<dN.length;r++){const o=dN[r]+i;if(o in n)return Ax[e]=o}return e}const fN="http://www.w3.org/1999/xlink";function hN(n,e,t,i,r,o=mte(e)){i&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(fN,e.slice(6,e.length)):n.setAttributeNS(fN,e,t):t==null||o&&!k6(t)?n.removeAttribute(e):n.setAttribute(e,o?"":gd(t)?String(t):t)}function vN(n,e,t,i,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?Hz(t):t);return}const o=n.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?n.getAttribute("value")||"":n.value,l=t==null?n.type==="checkbox"?"on":"":String(t);(s!==l||!("_value"in n))&&(n.value=l),t==null&&n.removeAttribute(e),n._value=t;return}let a=!1;if(t===""||t==null){const s=typeof n[e];s==="boolean"?t=k6(t):t==null&&s==="string"?(t="",a=!0):s==="number"&&(t=0,a=!0)}try{n[e]=t}catch{}a&&n.removeAttribute(r||e)}function rie(n,e,t,i){n.addEventListener(e,t,i)}function oie(n,e,t,i){n.removeEventListener(e,t,i)}const gN=Symbol("_vei");function aie(n,e,t,i,r=null){const o=n[gN]||(n[gN]={}),a=o[e];if(i&&a)a.value=i;else{const[s,l]=sie(e);if(i){const u=o[e]=cie(i,r);rie(n,s,u,l)}else a&&(oie(n,s,a,l),o[e]=void 0)}}const pN=/(?:Once|Passive|Capture)$/;function sie(n){let e;if(pN.test(n)){e={};let i;for(;i=n.match(pN);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Dh(n.slice(2)),e]}let Rx=0;const lie=Promise.resolve(),uie=()=>Rx||(lie.then(()=>Rx=0),Rx=Date.now());function cie(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Is(die(i,t.value),e,5,[i])};return t.value=n,t.attached=uie(),t}function die(n,e){if(fn(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const mN=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,fie=(n,e,t,i,r,o)=>{const a=r==="svg";e==="class"?Qne(n,i,a):e==="style"?nie(n,t,i):I1(e)?aL(e)||aie(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hie(n,e,i,a))?(vN(n,e,i),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&hN(n,e,i,a,o,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!nr(i))?vN(n,is(e),i,o,e):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),hN(n,e,i,a))};function hie(n,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in n&&mN(e)&&Sn(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return mN(e)&&nr(t)?!1:e in n}const Uz=new WeakMap,Kz=new WeakMap,ZC=Symbol("_moveCb"),bN=Symbol("_enterCb"),vie=n=>(delete n.props.mode,n),gie=vie({name:"TransitionGroup",props:Pr({},$z,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=Ui(),i=az();let r,o;return zu(()=>{if(!r.length)return;const a=n.moveClass||`${n.name||"v"}-move`;if(!yie(r[0].el,t.vnode.el,a))return;r.forEach(pie),r.forEach(mie);const s=r.filter(bie);jP(),s.forEach(l=>{const u=l.el,c=u.style;Qs(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[ZC]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[ZC]=null,vc(u,a))};u.addEventListener("transitionend",d)})}),()=>{const a=ei(n),s=Vz(a);let l=a.tag||Ft;if(r=[],o)for(let u=0;u<o.length;u++){const c=o[u];c.el&&c.el instanceof Element&&(r.push(c),nh(c,Lb(c,s,i,t)),Uz.set(c,c.el.getBoundingClientRect()))}o=e.default?_L(e.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&nh(c,Lb(c,s,i,t))}return x(l,null,o)}}}),qz=gie;function pie(n){const e=n.el;e[ZC]&&e[ZC](),e[bN]&&e[bN]()}function mie(n){Kz.set(n,n.el.getBoundingClientRect())}function bie(n){const e=Uz.get(n),t=Kz.get(n),i=e.left-t.left,r=e.top-t.top;if(i||r){const o=n.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${r}px)`,o.transitionDuration="0s",n}}function yie(n,e,t){const i=n.cloneNode(),r=n[kg];r&&r.forEach(s=>{s.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),t.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(i);const{hasTransform:a}=Wz(i);return o.removeChild(i),a}const _ie=["ctrl","shift","alt","meta"],wie={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>_ie.some(t=>n[`${t}Key`]&&!e.includes(t))},Cie=(n,e)=>{const t=n._withMods||(n._withMods={}),i=e.join(".");return t[i]||(t[i]=(r,...o)=>{for(let a=0;a<e.length;a++){const s=wie[e[a]];if(s&&s(r,e))return}return n(r,...o)})},Sie=Pr({patchProp:fie},Yne);let yN;function Oie(){return yN||(yN=_ne(Sie))}const gp=(...n)=>{const e=Oie().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=Eie(i);if(!r)return;const o=e._component;!Sn(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=t(r,!1,xie(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function xie(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Eie(n){return nr(n)?document.querySelector(n):n}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Gz;const z1=n=>Gz=n,Yz=Symbol();function HP(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Wm;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Wm||(Wm={}));function Pie(){const n=L6(!0),e=n.run(()=>oe({}));let t=[],i=[];const r=bL({install(o){z1(r),r._a=o,o.provide(Yz,r),o.config.globalProperties.$pinia=r,i.forEach(a=>t.push(a)),i=[]},use(o){return this._a?t.push(o):i.push(o),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return r}const Zz=()=>{};function _N(n,e,t,i=Zz){n.push(e);const r=()=>{const o=n.indexOf(e);o>-1&&(n.splice(o,1),i())};return!t&&uL()&&M6(r),r}function qh(n,...e){n.slice().forEach(t=>{t(...e)})}const kie=n=>n(),wN=Symbol(),Nx=Symbol();function BP(n,e){n instanceof Map&&e instanceof Map?e.forEach((t,i)=>n.set(i,t)):n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],r=n[t];HP(r)&&HP(i)&&n.hasOwnProperty(t)&&!dr(i)&&!Fc(i)?n[t]=BP(r,i):n[t]=i}return n}const Die=Symbol();function Tie(n){return!HP(n)||!n.hasOwnProperty(Die)}const{assign:gc}=Object;function Iie(n){return!!(dr(n)&&n.effect)}function Lie(n,e,t,i){const{state:r,actions:o,getters:a}=e,s=t.state.value[n];let l;function u(){s||(t.state.value[n]=r?r():{});const c=rt(t.state.value[n]);return gc(c,o,Object.keys(a||{}).reduce((d,f)=>(d[f]=bL(R(()=>{z1(t);const h=t._s.get(n);return a[f].call(h,h)})),d),{}))}return l=Xz(n,u,e,t,i,!0),l}function Xz(n,e,t={},i,r,o){let a;const s=gc({actions:{}},t),l={deep:!0};let u,c,d=[],f=[],h;const v=i.state.value[n];!o&&!v&&(i.state.value[n]={}),oe({});let g;function p(D){let k;u=c=!1,typeof D=="function"?(D(i.state.value[n]),k={type:Wm.patchFunction,storeId:n,events:h}):(BP(i.state.value[n],D),k={type:Wm.patchObject,payload:D,storeId:n,events:h});const L=g=Symbol();tn().then(()=>{g===L&&(u=!0)}),c=!0,qh(d,k,i.state.value[n])}const m=o?function(){const{state:k}=t,L=k?k():{};this.$patch(M=>{gc(M,L)})}:Zz;function b(){a.stop(),d=[],f=[],i._s.delete(n)}const C=(D,k="")=>{if(wN in D)return D[Nx]=k,D;const L=function(){z1(i);const M=Array.from(arguments),A=[],j=[];function V(F){A.push(F)}function H(F){j.push(F)}qh(f,{args:M,name:L[Nx],store:w,after:V,onError:H});let N;try{N=D.apply(this&&this.$id===n?this:w,M)}catch(F){throw qh(j,F),F}return N instanceof Promise?N.then(F=>(qh(A,F),F)).catch(F=>(qh(j,F),Promise.reject(F))):(qh(A,N),N)};return L[wN]=!0,L[Nx]=k,L},O={_p:i,$id:n,$onAction:_N.bind(null,f),$patch:p,$reset:m,$subscribe(D,k={}){const L=_N(d,D,k.detached,()=>M()),M=a.run(()=>Pe(()=>i.state.value[n],A=>{(k.flush==="sync"?c:u)&&D({storeId:n,type:Wm.direct,events:h},A)},gc({},l,k)));return L},$dispose:b},w=$n(O);i._s.set(n,w);const P=(i._a&&i._a.runWithContext||kie)(()=>i._e.run(()=>(a=L6()).run(()=>e({action:C}))));for(const D in P){const k=P[D];if(dr(k)&&!Iie(k)||Fc(k))o||(v&&Tie(k)&&(dr(k)?k.value=v[D]:BP(k,v[D])),i.state.value[n][D]=k);else if(typeof k=="function"){const L=C(k,D);P[D]=L,s.actions[D]=k}}return gc(w,P),gc(ei(w),P),Object.defineProperty(w,"$state",{get:()=>i.state.value[n],set:D=>{p(k=>{gc(k,D)})}}),i._p.forEach(D=>{gc(w,a.run(()=>D({store:w,app:i._a,pinia:i,options:s})))}),v&&o&&t.hydrate&&t.hydrate(w.$state,v),u=!0,c=!0,w}/*! #__NO_SIDE_EFFECTS__ */function U1(n,e,t){let i,r;const o=typeof e=="function";typeof n=="string"?(i=n,r=o?t:e):(r=n,i=n.id);function a(s,l){const u=hne();return s=s||(u?bn(Yz,null):null),s&&z1(s),s=Gz,s._s.has(i)||(o?Xz(i,e,r,s):Lie(i,r,s)),s._s.get(i)}return a.$id=i,a}const Mie=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Aie=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Rie=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Nie(n,e){if(n==="__proto__"||n==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Fie(n);return}return e}function Fie(n){console.warn(`[destr] Dropping "${n}" key to prevent prototype pollution.`)}function jie(n,e={}){if(typeof n!="string")return n;if(n[0]==='"'&&n[n.length-1]==='"'&&n.indexOf("\\")===-1)return n.slice(1,-1);const t=n.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Rie.test(n)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return n}try{if(Mie.test(n)||Aie.test(n)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(n,Nie)}return JSON.parse(n)}catch(i){if(e.strict)throw i;return n}}function Hie(n,e){if(n==null)return;let t=n;for(let i=0;i<e.length;i++){if(t==null||t[e[i]]==null)return;t=t[e[i]]}return t}function xL(n,e,t){if(t.length===0)return e;const i=t[0];return t.length>1&&(e=xL(typeof n!="object"||n===null||!Object.prototype.hasOwnProperty.call(n,i)?Number.isInteger(Number(t[1]))?[]:{}:n[i],e,Array.prototype.slice.call(t,1))),Number.isInteger(Number(i))&&Array.isArray(n)?n.slice()[i]:Object.assign({},n,{[i]:e})}function Jz(n,e){if(n==null||e.length===0)return n;if(e.length===1){if(n==null)return n;if(Number.isInteger(e[0])&&Array.isArray(n))return Array.prototype.slice.call(n,0).splice(e[0],1);const t={};for(const i in n)t[i]=n[i];return delete t[e[0]],t}if(n[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(n))return Array.prototype.concat.call([],n);const t={};for(const i in n)t[i]=n[i];return t}return xL(n,Jz(n[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function Qz(n,e){return e.map(t=>t.split(".")).map(t=>[t,Hie(n,t)]).filter(t=>t[1]!==void 0).reduce((t,i)=>xL(t,i[1],i[0]),{})}function e8(n,e){return e.map(t=>t.split(".")).reduce((t,i)=>Jz(t,i),n)}function CN(n,{storage:e,serializer:t,key:i,debug:r,pick:o,omit:a,beforeHydrate:s,afterHydrate:l},u,c=!0){try{c&&(s==null||s(u));const d=e.getItem(i);if(d){const f=t.deserialize(d),h=o?Qz(f,o):f,v=a?e8(h,a):h;n.$patch(v)}c&&(l==null||l(u))}catch(d){r&&console.error("[pinia-plugin-persistedstate]",d)}}function SN(n,{storage:e,serializer:t,key:i,debug:r,pick:o,omit:a}){try{const s=o?Qz(n,o):n,l=a?e8(s,a):s,u=t.serialize(l);e.setItem(i,u)}catch(s){r&&console.error("[pinia-plugin-persistedstate]",s)}}function Bie(n,e,t){const{pinia:i,store:r,options:{persist:o=t}}=n;if(!o)return;if(!(r.$id in i.state.value)){const l=i._s.get(r.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const s=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(e);r.$hydrate=({runHooks:l=!0}={})=>{s.forEach(u=>{CN(r,u,n,l)})},r.$persist=()=>{s.forEach(l=>{SN(r.$state,l)})},s.forEach(l=>{CN(r,l,n),r.$subscribe((u,c)=>SN(c,l),{detached:!0})})}function $ie(n={}){return function(e){Bie(e,t=>({key:(n.key?n.key:i=>i)(t.key??e.store.$id),debug:t.debug??n.debug??!1,serializer:t.serializer??n.serializer??{serialize:i=>JSON.stringify(i),deserialize:i=>jie(i)},storage:t.storage??n.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit}),n.auto??!1)}}var Vie=$ie();/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function $P(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function EL(n,e){if(n){if(typeof n=="string")return $P(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $P(n,e)}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Wie(n){if(Array.isArray(n))return $P(n)}function t8(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function zie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Be(n){return Wie(n)||t8(n)||EL(n)||zie()}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function kn(n){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(n)}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Uie(n,e){if(kn(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(kn(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function n8(n){var e=Uie(n,"string");return kn(e)==="symbol"?e:String(e)}function X(n,e,t){return e=n8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var i8=typeof global=="object"&&global&&global.Object===Object&&global,Kie=typeof self=="object"&&self&&self.Object===Object&&self,Ns=i8||Kie||Function("return this")(),rs=Ns.Symbol,r8=Object.prototype,qie=r8.hasOwnProperty,Gie=r8.toString,Zp=rs?rs.toStringTag:void 0;function Yie(n){var e=qie.call(n,Zp),t=n[Zp];try{n[Zp]=void 0;var i=!0}catch{}var r=Gie.call(n);return i&&(e?n[Zp]=t:delete n[Zp]),r}var Zie=Object.prototype,Xie=Zie.toString;function Jie(n){return Xie.call(n)}var Qie="[object Null]",ere="[object Undefined]",ON=rs?rs.toStringTag:void 0;function Fs(n){return n==null?n===void 0?ere:Qie:ON&&ON in Object(n)?Yie(n):Jie(n)}function Yo(n){return n!=null&&typeof n=="object"}var tre="[object Symbol]";function Vy(n){return typeof n=="symbol"||Yo(n)&&Fs(n)==tre}function K1(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var ut=Array.isArray,xN=rs?rs.prototype:void 0,EN=xN?xN.toString:void 0;function PL(n){if(typeof n=="string")return n;if(ut(n))return K1(n,PL)+"";if(Vy(n))return EN?EN.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var nre=/\s/;function ire(n){for(var e=n.length;e--&&nre.test(n.charAt(e)););return e}var rre=/^\s+/;function ore(n){return n&&n.slice(0,ire(n)+1).replace(rre,"")}function Wt(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var PN=NaN,are=/^[-+]0x[0-9a-f]+$/i,sre=/^0b[01]+$/i,lre=/^0o[0-7]+$/i,ure=parseInt;function VP(n){if(typeof n=="number")return n;if(Vy(n))return PN;if(Wt(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Wt(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=ore(n);var t=sre.test(n);return t||lre.test(n)?ure(n.slice(2),t?2:8):are.test(n)?PN:+n}var cre=1/0,dre=17976931348623157e292;function Zw(n){if(!n)return n===0?n:0;if(n=VP(n),n===cre||n===-1/0){var e=n<0?-1:1;return e*dre}return n===n?n:0}function o8(n){var e=Zw(n),t=e%1;return e===e?t?e-t:e:0}function pp(n){return n}var fre="[object AsyncFunction]",hre="[object Function]",vre="[object GeneratorFunction]",gre="[object Proxy]";function qe(n){if(!Wt(n))return!1;var e=Fs(n);return e==hre||e==vre||e==fre||e==gre}var Fx=Ns["__core-js_shared__"],kN=function(){var n=/[^.]+$/.exec(Fx&&Fx.keys&&Fx.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function pre(n){return!!kN&&kN in n}var mre=Function.prototype,bre=mre.toString;function Th(n){if(n!=null){try{return bre.call(n)}catch{}try{return n+""}catch{}}return""}var yre=/[\\^$.*+?()[\]{}|]/g,_re=/^\[object .+?Constructor\]$/,wre=Function.prototype,Cre=Object.prototype,Sre=wre.toString,Ore=Cre.hasOwnProperty,xre=RegExp("^"+Sre.call(Ore).replace(yre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ere(n){if(!Wt(n)||pre(n))return!1;var e=qe(n)?xre:_re;return e.test(Th(n))}function Pre(n,e){return n==null?void 0:n[e]}function Ih(n,e){var t=Pre(n,e);return Ere(t)?t:void 0}var WP=Ih(Ns,"WeakMap"),DN=Object.create,kre=function(){function n(){}return function(e){if(!Wt(e))return{};if(DN)return DN(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function Dre(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Tre(){}function a8(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var Ire=800,Lre=16,Mre=Date.now;function Are(n){var e=0,t=0;return function(){var i=Mre(),r=Lre-(i-t);if(t=i,r>0){if(++e>=Ire)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Rre(n){return function(){return n}}var XC=function(){try{var n=Ih(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Nre=XC?function(n,e){return XC(n,"toString",{configurable:!0,enumerable:!1,value:Rre(e),writable:!0})}:pp,s8=Are(Nre);function Fre(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}function jre(n,e,t,i){for(var r=n.length,o=t+-1;++o<r;)if(e(n[o],o,n))return o;return-1}function Hre(n){return n!==n}function Bre(n,e,t){for(var i=t-1,r=n.length;++i<r;)if(n[i]===e)return i;return-1}function $re(n,e,t){return e===e?Bre(n,e,t):jre(n,Hre,t)}function kL(n,e){var t=n==null?0:n.length;return!!t&&$re(n,e,0)>-1}var Vre=9007199254740991,Wre=/^(?:0|[1-9]\d*)$/;function Wy(n,e){var t=typeof n;return e=e??Vre,!!e&&(t=="number"||t!="symbol"&&Wre.test(n))&&n>-1&&n%1==0&&n<e}function q1(n,e,t){e=="__proto__"&&XC?XC(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function zy(n,e){return n===e||n!==n&&e!==e}var zre=Object.prototype,Ure=zre.hasOwnProperty;function DL(n,e,t){var i=n[e];(!(Ure.call(n,e)&&zy(i,t))||t===void 0&&!(e in n))&&q1(n,e,t)}function mp(n,e,t,i){var r=!t;t||(t={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=void 0;l===void 0&&(l=n[s]),r?q1(t,s,l):DL(t,s,l)}return t}var TN=Math.max;function l8(n,e,t){return e=TN(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,o=TN(i.length-e,0),a=Array(o);++r<o;)a[r]=i[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=i[r];return s[e]=t(a),Dre(n,this,s)}}function G1(n,e){return s8(l8(n,e,pp),n+"")}var Kre=9007199254740991;function TL(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Kre}function bp(n){return n!=null&&TL(n.length)&&!qe(n)}function u8(n,e,t){if(!Wt(t))return!1;var i=typeof e;return(i=="number"?bp(t)&&Wy(e,t.length):i=="string"&&e in t)?zy(t[e],n):!1}function c8(n){return G1(function(e,t){var i=-1,r=t.length,o=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(r--,o):void 0,a&&u8(t[0],t[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var s=t[i];s&&n(e,s,i,o)}return e})}var qre=Object.prototype;function Y1(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||qre;return n===t}function Gre(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var Yre="[object Arguments]";function IN(n){return Yo(n)&&Fs(n)==Yre}var d8=Object.prototype,Zre=d8.hasOwnProperty,Xre=d8.propertyIsEnumerable,Dg=IN(function(){return arguments}())?IN:function(n){return Yo(n)&&Zre.call(n,"callee")&&!Xre.call(n,"callee")};function Jre(){return!1}var f8=typeof _a=="object"&&_a&&!_a.nodeType&&_a,LN=f8&&typeof wa=="object"&&wa&&!wa.nodeType&&wa,Qre=LN&&LN.exports===f8,MN=Qre?Ns.Buffer:void 0,eoe=MN?MN.isBuffer:void 0,Tg=eoe||Jre,toe="[object Arguments]",noe="[object Array]",ioe="[object Boolean]",roe="[object Date]",ooe="[object Error]",aoe="[object Function]",soe="[object Map]",loe="[object Number]",uoe="[object Object]",coe="[object RegExp]",doe="[object Set]",foe="[object String]",hoe="[object WeakMap]",voe="[object ArrayBuffer]",goe="[object DataView]",poe="[object Float32Array]",moe="[object Float64Array]",boe="[object Int8Array]",yoe="[object Int16Array]",_oe="[object Int32Array]",woe="[object Uint8Array]",Coe="[object Uint8ClampedArray]",Soe="[object Uint16Array]",Ooe="[object Uint32Array]",Hi={};Hi[poe]=Hi[moe]=Hi[boe]=Hi[yoe]=Hi[_oe]=Hi[woe]=Hi[Coe]=Hi[Soe]=Hi[Ooe]=!0;Hi[toe]=Hi[noe]=Hi[voe]=Hi[ioe]=Hi[goe]=Hi[roe]=Hi[ooe]=Hi[aoe]=Hi[soe]=Hi[loe]=Hi[uoe]=Hi[coe]=Hi[doe]=Hi[foe]=Hi[hoe]=!1;function xoe(n){return Yo(n)&&TL(n.length)&&!!Hi[Fs(n)]}function Z1(n){return function(e){return n(e)}}var h8=typeof _a=="object"&&_a&&!_a.nodeType&&_a,zm=h8&&typeof wa=="object"&&wa&&!wa.nodeType&&wa,Eoe=zm&&zm.exports===h8,jx=Eoe&&i8.process,ud=function(){try{var n=zm&&zm.require&&zm.require("util").types;return n||jx&&jx.binding&&jx.binding("util")}catch{}}(),AN=ud&&ud.isTypedArray,X1=AN?Z1(AN):xoe,Poe=Object.prototype,koe=Poe.hasOwnProperty;function v8(n,e){var t=ut(n),i=!t&&Dg(n),r=!t&&!i&&Tg(n),o=!t&&!i&&!r&&X1(n),a=t||i||r||o,s=a?Gre(n.length,String):[],l=s.length;for(var u in n)(e||koe.call(n,u))&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Wy(u,l)))&&s.push(u);return s}function g8(n,e){return function(t){return n(e(t))}}var Doe=g8(Object.keys,Object),Toe=Object.prototype,Ioe=Toe.hasOwnProperty;function p8(n){if(!Y1(n))return Doe(n);var e=[];for(var t in Object(n))Ioe.call(n,t)&&t!="constructor"&&e.push(t);return e}function Uy(n){return bp(n)?v8(n):p8(n)}function Loe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Moe=Object.prototype,Aoe=Moe.hasOwnProperty;function Roe(n){if(!Wt(n))return Loe(n);var e=Y1(n),t=[];for(var i in n)i=="constructor"&&(e||!Aoe.call(n,i))||t.push(i);return t}function Ky(n){return bp(n)?v8(n,!0):Roe(n)}var Noe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Foe=/^\w*$/;function IL(n,e){if(ut(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Vy(n)?!0:Foe.test(n)||!Noe.test(n)||e!=null&&n in Object(e)}var Rb=Ih(Object,"create");function joe(){this.__data__=Rb?Rb(null):{},this.size=0}function Hoe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Boe="__lodash_hash_undefined__",$oe=Object.prototype,Voe=$oe.hasOwnProperty;function Woe(n){var e=this.__data__;if(Rb){var t=e[n];return t===Boe?void 0:t}return Voe.call(e,n)?e[n]:void 0}var zoe=Object.prototype,Uoe=zoe.hasOwnProperty;function Koe(n){var e=this.__data__;return Rb?e[n]!==void 0:Uoe.call(e,n)}var qoe="__lodash_hash_undefined__";function Goe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Rb&&e===void 0?qoe:e,this}function ih(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}ih.prototype.clear=joe;ih.prototype.delete=Hoe;ih.prototype.get=Woe;ih.prototype.has=Koe;ih.prototype.set=Goe;function Yoe(){this.__data__=[],this.size=0}function J1(n,e){for(var t=n.length;t--;)if(zy(n[t][0],e))return t;return-1}var Zoe=Array.prototype,Xoe=Zoe.splice;function Joe(n){var e=this.__data__,t=J1(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():Xoe.call(e,t,1),--this.size,!0}function Qoe(n){var e=this.__data__,t=J1(e,n);return t<0?void 0:e[t][1]}function eae(n){return J1(this.__data__,n)>-1}function tae(n,e){var t=this.__data__,i=J1(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Uu(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Uu.prototype.clear=Yoe;Uu.prototype.delete=Joe;Uu.prototype.get=Qoe;Uu.prototype.has=eae;Uu.prototype.set=tae;var Nb=Ih(Ns,"Map");function nae(){this.size=0,this.__data__={hash:new ih,map:new(Nb||Uu),string:new ih}}function iae(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Q1(n,e){var t=n.__data__;return iae(e)?t[typeof e=="string"?"string":"hash"]:t.map}function rae(n){var e=Q1(this,n).delete(n);return this.size-=e?1:0,e}function oae(n){return Q1(this,n).get(n)}function aae(n){return Q1(this,n).has(n)}function sae(n,e){var t=Q1(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Ku(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Ku.prototype.clear=nae;Ku.prototype.delete=rae;Ku.prototype.get=oae;Ku.prototype.has=aae;Ku.prototype.set=sae;var lae="Expected a function";function LL(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(lae);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=t.cache;if(o.has(r))return o.get(r);var a=n.apply(this,i);return t.cache=o.set(r,a)||o,a};return t.cache=new(LL.Cache||Ku),t}LL.Cache=Ku;var uae=500;function cae(n){var e=LL(n,function(i){return t.size===uae&&t.clear(),i}),t=e.cache;return e}var dae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fae=/\\(\\)?/g,hae=cae(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(dae,function(t,i,r,o){e.push(r?o.replace(fae,"$1"):i||t)}),e});function bd(n){return n==null?"":PL(n)}function yp(n,e){return ut(n)?n:IL(n,e)?[n]:hae(bd(n))}function _p(n){if(typeof n=="string"||Vy(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function eO(n,e){e=yp(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[_p(e[t++])];return t&&t==i?n:void 0}function Ze(n,e,t){var i=n==null?void 0:eO(n,e);return i===void 0?t:i}function ML(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var RN=rs?rs.isConcatSpreadable:void 0;function vae(n){return ut(n)||Dg(n)||!!(RN&&n&&n[RN])}function AL(n,e,t,i,r){var o=-1,a=n.length;for(t||(t=vae),r||(r=[]);++o<a;){var s=n[o];t(s)?ML(r,s):i||(r[r.length]=s)}return r}function gae(n){var e=n==null?0:n.length;return e?AL(n):[]}function m8(n){return s8(l8(n,void 0,gae),n+"")}var RL=g8(Object.getPrototypeOf,Object),pae="[object Object]",mae=Function.prototype,bae=Object.prototype,b8=mae.toString,yae=bae.hasOwnProperty,_ae=b8.call(Object);function tO(n){if(!Yo(n)||Fs(n)!=pae)return!1;var e=RL(n);if(e===null)return!0;var t=yae.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&b8.call(t)==_ae}function NL(n,e,t){var i=-1,r=n.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=n[i+e];return o}function y8(n,e,t){var i=n.length;return t=t===void 0?i:t,!e&&t>=i?n:NL(n,e,t)}var wae="\\ud800-\\udfff",Cae="\\u0300-\\u036f",Sae="\\ufe20-\\ufe2f",Oae="\\u20d0-\\u20ff",xae=Cae+Sae+Oae,Eae="\\ufe0e\\ufe0f",Pae="\\u200d",kae=RegExp("["+Pae+wae+xae+Eae+"]");function nO(n){return kae.test(n)}function Dae(n){return n.split("")}var _8="\\ud800-\\udfff",Tae="\\u0300-\\u036f",Iae="\\ufe20-\\ufe2f",Lae="\\u20d0-\\u20ff",Mae=Tae+Iae+Lae,Aae="\\ufe0e\\ufe0f",Rae="["+_8+"]",zP="["+Mae+"]",UP="\\ud83c[\\udffb-\\udfff]",Nae="(?:"+zP+"|"+UP+")",w8="[^"+_8+"]",C8="(?:\\ud83c[\\udde6-\\uddff]){2}",S8="[\\ud800-\\udbff][\\udc00-\\udfff]",Fae="\\u200d",O8=Nae+"?",x8="["+Aae+"]?",jae="(?:"+Fae+"(?:"+[w8,C8,S8].join("|")+")"+x8+O8+")*",Hae=x8+O8+jae,Bae="(?:"+[w8+zP+"?",zP,C8,S8,Rae].join("|")+")",$ae=RegExp(UP+"(?="+UP+")|"+Bae+Hae,"g");function Vae(n){return n.match($ae)||[]}function E8(n){return nO(n)?Vae(n):Dae(n)}function Wae(n){return function(e){e=bd(e);var t=nO(e)?E8(e):void 0,i=t?t[0]:e.charAt(0),r=t?y8(t,1).join(""):e.slice(1);return i[n]()+r}}var JC=Wae("toUpperCase");function zae(n){return JC(bd(n).toLowerCase())}function Uae(n,e,t,i){for(var r=-1,o=n==null?0:n.length;++r<o;)t=e(t,n[r],r,n);return t}function Kae(n){return function(e){return n==null?void 0:n[e]}}var qae={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Gae=Kae(qae),Yae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zae="\\u0300-\\u036f",Xae="\\ufe20-\\ufe2f",Jae="\\u20d0-\\u20ff",Qae=Zae+Xae+Jae,ese="["+Qae+"]",tse=RegExp(ese,"g");function nse(n){return n=bd(n),n&&n.replace(Yae,Gae).replace(tse,"")}var ise=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function rse(n){return n.match(ise)||[]}var ose=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function ase(n){return ose.test(n)}var P8="\\ud800-\\udfff",sse="\\u0300-\\u036f",lse="\\ufe20-\\ufe2f",use="\\u20d0-\\u20ff",cse=sse+lse+use,k8="\\u2700-\\u27bf",D8="a-z\\xdf-\\xf6\\xf8-\\xff",dse="\\xac\\xb1\\xd7\\xf7",fse="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hse="\\u2000-\\u206f",vse=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",T8="A-Z\\xc0-\\xd6\\xd8-\\xde",gse="\\ufe0e\\ufe0f",I8=dse+fse+hse+vse,L8="['’]",NN="["+I8+"]",pse="["+cse+"]",M8="\\d+",mse="["+k8+"]",A8="["+D8+"]",R8="[^"+P8+I8+M8+k8+D8+T8+"]",bse="\\ud83c[\\udffb-\\udfff]",yse="(?:"+pse+"|"+bse+")",_se="[^"+P8+"]",N8="(?:\\ud83c[\\udde6-\\uddff]){2}",F8="[\\ud800-\\udbff][\\udc00-\\udfff]",_v="["+T8+"]",wse="\\u200d",FN="(?:"+A8+"|"+R8+")",Cse="(?:"+_v+"|"+R8+")",jN="(?:"+L8+"(?:d|ll|m|re|s|t|ve))?",HN="(?:"+L8+"(?:D|LL|M|RE|S|T|VE))?",j8=yse+"?",H8="["+gse+"]?",Sse="(?:"+wse+"(?:"+[_se,N8,F8].join("|")+")"+H8+j8+")*",Ose="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xse="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ese=H8+j8+Sse,Pse="(?:"+[mse,N8,F8].join("|")+")"+Ese,kse=RegExp([_v+"?"+A8+"+"+jN+"(?="+[NN,_v,"$"].join("|")+")",Cse+"+"+HN+"(?="+[NN,_v+FN,"$"].join("|")+")",_v+"?"+FN+"+"+jN,_v+"+"+HN,xse,Ose,M8,Pse].join("|"),"g");function Dse(n){return n.match(kse)||[]}function Tse(n,e,t){return n=bd(n),e=e,e===void 0?ase(n)?Dse(n):rse(n):n.match(e)||[]}var Ise="['’]",Lse=RegExp(Ise,"g");function FL(n){return function(e){return Uae(Tse(nse(e).replace(Lse,"")),n,"")}}var Ja=FL(function(n,e,t){return e=e.toLowerCase(),n+(t?zae(e):e)}),Mse=Math.ceil,Ase=Math.max;function iO(n,e,t){e===void 0?e=1:e=Ase(o8(e),0);var i=n==null?0:n.length;if(!i||e<1)return[];for(var r=0,o=0,a=Array(Mse(i/e));r<i;)a[o++]=NL(n,r,r+=e);return a}function Rse(){this.__data__=new Uu,this.size=0}function Nse(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Fse(n){return this.__data__.get(n)}function jse(n){return this.__data__.has(n)}var Hse=200;function Bse(n,e){var t=this.__data__;if(t instanceof Uu){var i=t.__data__;if(!Nb||i.length<Hse-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Ku(i)}return t.set(n,e),this.size=t.size,this}function Ts(n){var e=this.__data__=new Uu(n);this.size=e.size}Ts.prototype.clear=Rse;Ts.prototype.delete=Nse;Ts.prototype.get=Fse;Ts.prototype.has=jse;Ts.prototype.set=Bse;function $se(n,e){return n&&mp(e,Uy(e),n)}function Vse(n,e){return n&&mp(e,Ky(e),n)}var B8=typeof _a=="object"&&_a&&!_a.nodeType&&_a,BN=B8&&typeof wa=="object"&&wa&&!wa.nodeType&&wa,Wse=BN&&BN.exports===B8,$N=Wse?Ns.Buffer:void 0,VN=$N?$N.allocUnsafe:void 0;function $8(n,e){if(e)return n.slice();var t=n.length,i=VN?VN(t):new n.constructor(t);return n.copy(i),i}function jL(n,e){for(var t=-1,i=n==null?0:n.length,r=0,o=[];++t<i;){var a=n[t];e(a,t,n)&&(o[r++]=a)}return o}function V8(){return[]}var zse=Object.prototype,Use=zse.propertyIsEnumerable,WN=Object.getOwnPropertySymbols,HL=WN?function(n){return n==null?[]:(n=Object(n),jL(WN(n),function(e){return Use.call(n,e)}))}:V8;function Kse(n,e){return mp(n,HL(n),e)}var qse=Object.getOwnPropertySymbols,W8=qse?function(n){for(var e=[];n;)ML(e,HL(n)),n=RL(n);return e}:V8;function Gse(n,e){return mp(n,W8(n),e)}function z8(n,e,t){var i=e(n);return ut(n)?i:ML(i,t(n))}function KP(n){return z8(n,Uy,HL)}function BL(n){return z8(n,Ky,W8)}var qP=Ih(Ns,"DataView"),GP=Ih(Ns,"Promise"),Qv=Ih(Ns,"Set"),zN="[object Map]",Yse="[object Object]",UN="[object Promise]",KN="[object Set]",qN="[object WeakMap]",GN="[object DataView]",Zse=Th(qP),Xse=Th(Nb),Jse=Th(GP),Qse=Th(Qv),ele=Th(WP),za=Fs;(qP&&za(new qP(new ArrayBuffer(1)))!=GN||Nb&&za(new Nb)!=zN||GP&&za(GP.resolve())!=UN||Qv&&za(new Qv)!=KN||WP&&za(new WP)!=qN)&&(za=function(n){var e=Fs(n),t=e==Yse?n.constructor:void 0,i=t?Th(t):"";if(i)switch(i){case Zse:return GN;case Xse:return zN;case Jse:return UN;case Qse:return KN;case ele:return qN}return e});var tle=Object.prototype,nle=tle.hasOwnProperty;function ile(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&nle.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var QC=Ns.Uint8Array;function $L(n){var e=new n.constructor(n.byteLength);return new QC(e).set(new QC(n)),e}function rle(n,e){var t=e?$L(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var ole=/\w*$/;function ale(n){var e=new n.constructor(n.source,ole.exec(n));return e.lastIndex=n.lastIndex,e}var YN=rs?rs.prototype:void 0,ZN=YN?YN.valueOf:void 0;function sle(n){return ZN?Object(ZN.call(n)):{}}function U8(n,e){var t=e?$L(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var lle="[object Boolean]",ule="[object Date]",cle="[object Map]",dle="[object Number]",fle="[object RegExp]",hle="[object Set]",vle="[object String]",gle="[object Symbol]",ple="[object ArrayBuffer]",mle="[object DataView]",ble="[object Float32Array]",yle="[object Float64Array]",_le="[object Int8Array]",wle="[object Int16Array]",Cle="[object Int32Array]",Sle="[object Uint8Array]",Ole="[object Uint8ClampedArray]",xle="[object Uint16Array]",Ele="[object Uint32Array]";function Ple(n,e,t){var i=n.constructor;switch(e){case ple:return $L(n);case lle:case ule:return new i(+n);case mle:return rle(n,t);case ble:case yle:case _le:case wle:case Cle:case Sle:case Ole:case xle:case Ele:return U8(n,t);case cle:return new i;case dle:case vle:return new i(n);case fle:return ale(n);case hle:return new i;case gle:return sle(n)}}function K8(n){return typeof n.constructor=="function"&&!Y1(n)?kre(RL(n)):{}}var kle="[object Map]";function Dle(n){return Yo(n)&&za(n)==kle}var XN=ud&&ud.isMap,Tle=XN?Z1(XN):Dle,Ile="[object Set]";function Lle(n){return Yo(n)&&za(n)==Ile}var JN=ud&&ud.isSet,Mle=JN?Z1(JN):Lle,Ale=1,Rle=2,Nle=4,q8="[object Arguments]",Fle="[object Array]",jle="[object Boolean]",Hle="[object Date]",Ble="[object Error]",G8="[object Function]",$le="[object GeneratorFunction]",Vle="[object Map]",Wle="[object Number]",Y8="[object Object]",zle="[object RegExp]",Ule="[object Set]",Kle="[object String]",qle="[object Symbol]",Gle="[object WeakMap]",Yle="[object ArrayBuffer]",Zle="[object DataView]",Xle="[object Float32Array]",Jle="[object Float64Array]",Qle="[object Int8Array]",eue="[object Int16Array]",tue="[object Int32Array]",nue="[object Uint8Array]",iue="[object Uint8ClampedArray]",rue="[object Uint16Array]",oue="[object Uint32Array]",Ri={};Ri[q8]=Ri[Fle]=Ri[Yle]=Ri[Zle]=Ri[jle]=Ri[Hle]=Ri[Xle]=Ri[Jle]=Ri[Qle]=Ri[eue]=Ri[tue]=Ri[Vle]=Ri[Wle]=Ri[Y8]=Ri[zle]=Ri[Ule]=Ri[Kle]=Ri[qle]=Ri[nue]=Ri[iue]=Ri[rue]=Ri[oue]=!0;Ri[Ble]=Ri[G8]=Ri[Gle]=!1;function Um(n,e,t,i,r,o){var a,s=e&Ale,l=e&Rle,u=e&Nle;if(t&&(a=r?t(n,i,r,o):t(n)),a!==void 0)return a;if(!Wt(n))return n;var c=ut(n);if(c){if(a=ile(n),!s)return a8(n,a)}else{var d=za(n),f=d==G8||d==$le;if(Tg(n))return $8(n,s);if(d==Y8||d==q8||f&&!r){if(a=l||f?{}:K8(n),!s)return l?Gse(n,Vse(a,n)):Kse(n,$se(a,n))}else{if(!Ri[d])return r?n:{};a=Ple(n,d,s)}}o||(o=new Ts);var h=o.get(n);if(h)return h;o.set(n,a),Mle(n)?n.forEach(function(p){a.add(Um(p,e,t,p,n,o))}):Tle(n)&&n.forEach(function(p,m){a.set(m,Um(p,e,t,m,n,o))});var v=u?l?BL:KP:l?Ky:Uy,g=c?void 0:v(n);return Fre(g||n,function(p,m){g&&(m=p,p=n[m]),DL(a,m,Um(p,e,t,m,n,o))}),a}var aue=1,sue=4;function Zo(n){return Um(n,aue|sue)}var lue="__lodash_hash_undefined__";function uue(n){return this.__data__.set(n,lue),this}function cue(n){return this.__data__.has(n)}function rh(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Ku;++e<t;)this.add(n[e])}rh.prototype.add=rh.prototype.push=uue;rh.prototype.has=cue;function due(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function Fb(n,e){return n.has(e)}var fue=1,hue=2;function Z8(n,e,t,i,r,o){var a=t&fue,s=n.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(n),c=o.get(e);if(u&&c)return u==e&&c==n;var d=-1,f=!0,h=t&hue?new rh:void 0;for(o.set(n,e),o.set(e,n);++d<s;){var v=n[d],g=e[d];if(i)var p=a?i(g,v,d,e,n,o):i(v,g,d,n,e,o);if(p!==void 0){if(p)continue;f=!1;break}if(h){if(!due(e,function(m,b){if(!Fb(h,b)&&(v===m||r(v,m,t,i,o)))return h.push(b)})){f=!1;break}}else if(!(v===g||r(v,g,t,i,o))){f=!1;break}}return o.delete(n),o.delete(e),f}function vue(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}function VL(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var gue=1,pue=2,mue="[object Boolean]",bue="[object Date]",yue="[object Error]",_ue="[object Map]",wue="[object Number]",Cue="[object RegExp]",Sue="[object Set]",Oue="[object String]",xue="[object Symbol]",Eue="[object ArrayBuffer]",Pue="[object DataView]",QN=rs?rs.prototype:void 0,Hx=QN?QN.valueOf:void 0;function kue(n,e,t,i,r,o,a){switch(t){case Pue:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Eue:return!(n.byteLength!=e.byteLength||!o(new QC(n),new QC(e)));case mue:case bue:case wue:return zy(+n,+e);case yue:return n.name==e.name&&n.message==e.message;case Cue:case Oue:return n==e+"";case _ue:var s=vue;case Sue:var l=i&gue;if(s||(s=VL),n.size!=e.size&&!l)return!1;var u=a.get(n);if(u)return u==e;i|=pue,a.set(n,e);var c=Z8(s(n),s(e),i,r,o,a);return a.delete(n),c;case xue:if(Hx)return Hx.call(n)==Hx.call(e)}return!1}var Due=1,Tue=Object.prototype,Iue=Tue.hasOwnProperty;function Lue(n,e,t,i,r,o){var a=t&Due,s=KP(n),l=s.length,u=KP(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var f=s[d];if(!(a?f in e:Iue.call(e,f)))return!1}var h=o.get(n),v=o.get(e);if(h&&v)return h==e&&v==n;var g=!0;o.set(n,e),o.set(e,n);for(var p=a;++d<l;){f=s[d];var m=n[f],b=e[f];if(i)var C=a?i(b,m,f,e,n,o):i(m,b,f,n,e,o);if(!(C===void 0?m===b||r(m,b,t,i,o):C)){g=!1;break}p||(p=f=="constructor")}if(g&&!p){var O=n.constructor,w=e.constructor;O!=w&&"constructor"in n&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof w=="function"&&w instanceof w)&&(g=!1)}return o.delete(n),o.delete(e),g}var Mue=1,eF="[object Arguments]",tF="[object Array]",M_="[object Object]",Aue=Object.prototype,nF=Aue.hasOwnProperty;function Rue(n,e,t,i,r,o){var a=ut(n),s=ut(e),l=a?tF:za(n),u=s?tF:za(e);l=l==eF?M_:l,u=u==eF?M_:u;var c=l==M_,d=u==M_,f=l==u;if(f&&Tg(n)){if(!Tg(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new Ts),a||X1(n)?Z8(n,e,t,i,r,o):kue(n,e,l,t,i,r,o);if(!(t&Mue)){var h=c&&nF.call(n,"__wrapped__"),v=d&&nF.call(e,"__wrapped__");if(h||v){var g=h?n.value():n,p=v?e.value():e;return o||(o=new Ts),r(g,p,t,i,o)}}return f?(o||(o=new Ts),Lue(n,e,t,i,r,o)):!1}function rO(n,e,t,i,r){return n===e?!0:n==null||e==null||!Yo(n)&&!Yo(e)?n!==n&&e!==e:Rue(n,e,t,i,rO,r)}var Nue=1,Fue=2;function jue(n,e,t,i){var r=t.length,o=r;if(n==null)return!o;for(n=Object(n);r--;){var a=t[r];if(a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++r<o;){a=t[r];var s=a[0],l=n[s],u=a[1];if(a[2]){if(l===void 0&&!(s in n))return!1}else{var c=new Ts,d;if(!(d===void 0?rO(u,l,Nue|Fue,i,c):d))return!1}}return!0}function X8(n){return n===n&&!Wt(n)}function Hue(n){for(var e=Uy(n),t=e.length;t--;){var i=e[t],r=n[i];e[t]=[i,r,X8(r)]}return e}function J8(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function Bue(n){var e=Hue(n);return e.length==1&&e[0][2]?J8(e[0][0],e[0][1]):function(t){return t===n||jue(t,n,e)}}function $ue(n,e){return n!=null&&e in Object(n)}function Vue(n,e,t){e=yp(e,n);for(var i=-1,r=e.length,o=!1;++i<r;){var a=_p(e[i]);if(!(o=n!=null&&t(n,a)))break;n=n[a]}return o||++i!=r?o:(r=n==null?0:n.length,!!r&&TL(r)&&Wy(a,r)&&(ut(n)||Dg(n)))}function Q8(n,e){return n!=null&&Vue(n,e,$ue)}var Wue=1,zue=2;function Uue(n,e){return IL(n)&&X8(e)?J8(_p(n),e):function(t){var i=Ze(t,n);return i===void 0&&i===e?Q8(t,n):rO(e,i,Wue|zue)}}function e9(n){return function(e){return e==null?void 0:e[n]}}function Kue(n){return function(e){return eO(e,n)}}function que(n){return IL(n)?e9(_p(n)):Kue(n)}function oO(n){return typeof n=="function"?n:n==null?pp:typeof n=="object"?ut(n)?Uue(n[0],n[1]):Bue(n):que(n)}function Gue(n){return function(e,t,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var l=a[++r];if(t(o[l],l,o)===!1)break}return e}}var t9=Gue();function n9(n,e){return n&&t9(n,e,Uy)}function Yue(n,e){return function(t,i){if(t==null)return t;if(!bp(t))return n(t,i);for(var r=t.length,o=-1,a=Object(t);++o<r&&i(a[o],o,a)!==!1;);return t}}var Zue=Yue(n9),Bx=function(){return Ns.Date.now()},Xue="Expected a function",Jue=Math.max,Que=Math.min;function qu(n,e,t){var i,r,o,a,s,l,u=0,c=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(Xue);e=VP(e)||0,Wt(t)&&(c=!!t.leading,d="maxWait"in t,o=d?Jue(VP(t.maxWait)||0,e):o,f="trailing"in t?!!t.trailing:f);function h(E){var P=i,D=r;return i=r=void 0,u=E,a=n.apply(D,P),a}function v(E){return u=E,s=setTimeout(m,e),c?h(E):a}function g(E){var P=E-l,D=E-u,k=e-P;return d?Que(k,o-D):k}function p(E){var P=E-l,D=E-u;return l===void 0||P>=e||P<0||d&&D>=o}function m(){var E=Bx();if(p(E))return b(E);s=setTimeout(m,g(E))}function b(E){return s=void 0,f&&i?h(E):(i=r=void 0,a)}function C(){s!==void 0&&clearTimeout(s),u=0,i=l=r=s=void 0}function O(){return s===void 0?a:b(Bx())}function w(){var E=Bx(),P=p(E);if(i=arguments,r=this,l=E,P){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(m,e),h(l)}return s===void 0&&(s=setTimeout(m,e)),a}return w.cancel=C,w.flush=O,w}function YP(n,e,t){(t!==void 0&&!zy(n[e],t)||t===void 0&&!(e in n))&&q1(n,e,t)}function jb(n){return Yo(n)&&bp(n)}function ZP(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function ece(n){return mp(n,Ky(n))}function tce(n,e,t,i,r,o,a){var s=ZP(n,t),l=ZP(e,t),u=a.get(l);if(u){YP(n,t,u);return}var c=o?o(s,l,t+"",n,e,a):void 0,d=c===void 0;if(d){var f=ut(l),h=!f&&Tg(l),v=!f&&!h&&X1(l);c=l,f||h||v?ut(s)?c=s:jb(s)?c=a8(s):h?(d=!1,c=$8(l,!0)):v?(d=!1,c=U8(l,!0)):c=[]:tO(l)||Dg(l)?(c=s,Dg(s)?c=ece(s):(!Wt(s)||qe(s))&&(c=K8(l))):d=!1}d&&(a.set(l,c),r(c,l,i,o,a),a.delete(l)),YP(n,t,c)}function WL(n,e,t,i,r){n!==e&&t9(e,function(o,a){if(r||(r=new Ts),Wt(o))tce(n,e,a,t,WL,i,r);else{var s=i?i(ZP(n,a),o,a+"",n,e,r):void 0;s===void 0&&(s=o),YP(n,a,s)}},Ky)}var nce=c8(function(n,e,t,i){WL(n,e,t,i)});function i9(n,e,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(e,n[i]))return!0;return!1}var ice=200;function r9(n,e,t,i){var r=-1,o=kL,a=!0,s=n.length,l=[],u=e.length;if(!s)return l;i?(o=i9,a=!1):e.length>=ice&&(o=Fb,a=!1,e=new rh(e));e:for(;++r<s;){var c=n[r],d=c;if(c=i||c!==0?c:0,a&&d===d){for(var f=u;f--;)if(e[f]===d)continue e;l.push(c)}else o(e,d,i)||l.push(c)}return l}var iF=G1(function(n,e){return jb(n)?r9(n,AL(e,1,jb,!0)):[]});function o9(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var a9=/[\\^$.*+?()[\]{}|]/g,rce=RegExp(a9.source);function s9(n){return n=bd(n),n&&rce.test(n)?n.replace(a9,"\\$&"):n}function oce(n,e){var t=[];return Zue(n,function(i,r,o){e(i,r,o)&&t.push(i)}),t}function ace(n,e){var t=ut(n)?jL:oce;return t(n,oO(e))}function sce(n,e){return n>e}var lce="[object String]";function kt(n){return typeof n=="string"||!ut(n)&&Yo(n)&&Fs(n)==lce}var uce=Math.min;function cce(n,e,t){for(var i=kL,r=n[0].length,o=n.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=n[a];l=uce(c.length,l),s[a]=r>=120&&c.length>=120?new rh(a&&c):void 0}c=n[0];var d=-1,f=s[0];e:for(;++d<r&&u.length<l;){var h=c[d],v=h;if(h=h!==0?h:0,!(f?Fb(f,v):i(u,v))){for(a=o;--a;){var g=s[a];if(!(g?Fb(g,v):i(n[a],v)))continue e}f&&f.push(v),u.push(h)}}return u}function dce(n){return jb(n)?n:[]}var oh=G1(function(n){var e=K1(n,dce);return e.length&&e[0]===n[0]?cce(e):[]});function fce(n,e){return e.length<2?n:eO(n,NL(e,0,-1))}var hce="[object Boolean]";function ur(n){return n===!0||n===!1||Yo(n)&&Fs(n)==hce}var vce="[object Date]";function gce(n){return Yo(n)&&Fs(n)==vce}var rF=ud&&ud.isDate,pce=rF?Z1(rF):gce,mce="[object Map]",bce="[object Set]",yce=Object.prototype,_ce=yce.hasOwnProperty;function jo(n){if(n==null)return!0;if(bp(n)&&(ut(n)||typeof n=="string"||typeof n.splice=="function"||Tg(n)||X1(n)||Dg(n)))return!n.length;var e=za(n);if(e==mce||e==bce)return!n.size;if(Y1(n))return!p8(n).length;for(var t in n)if(_ce.call(n,t))return!1;return!0}function l9(n,e){return rO(n,e)}var wce="[object Number]";function Dn(n){return typeof n=="number"||Yo(n)&&Fs(n)==wce}function Cce(n){return Dn(n)&&n!=+n}function ah(n){return n==null}function e0(n){return n===null}function Nr(n){return n===void 0}var yu=FL(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()});function Sce(n,e){return n<e}function Oce(n,e){var t={};return e=oO(e),n9(n,function(i,r,o){q1(t,e(i,r,o),i)}),t}function u9(n,e,t){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=e(o);if(a!=null&&(s===void 0?a===a&&!Vy(a):t(a,s)))var s=a,l=o}return l}function xce(n){return n&&n.length?u9(n,pp,sce):void 0}function Ece(n,e){for(var t,i=-1,r=n.length;++i<r;){var o=e(n[i]);o!==void 0&&(t=t===void 0?o:t+o)}return t}var aO=c8(function(n,e,t){WL(n,e,t)});function Pce(n){return n&&n.length?u9(n,pp,Sce):void 0}function c9(n,e){return e=yp(e,n),n=fce(n,e),n==null||delete n[_p(o9(e))]}function kce(n){return tO(n)?void 0:n}var Dce=1,Tce=2,Ice=4,br=m8(function(n,e){var t={};if(n==null)return t;var i=!1;e=K1(e,function(o){return o=yp(o,n),i||(i=o.length>1),o}),mp(n,BL(n),t),i&&(t=Um(t,Dce|Tce|Ice,kce));for(var r=e.length;r--;)c9(t,e[r]);return t});function d9(n,e,t,i){if(!Wt(n))return n;e=yp(e,n);for(var r=-1,o=e.length,a=o-1,s=n;s!=null&&++r<o;){var l=_p(e[r]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(r!=a){var c=s[l];u=void 0,u===void 0&&(u=Wt(c)?c:Wy(e[r+1])?[]:{})}DL(s,l,u),s=s[l]}return n}function f9(n,e,t){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=eO(n,a);t(s,a)&&d9(o,yp(a,n),s)}return o}function Lce(n,e){if(n==null)return{};var t=K1(BL(n),function(i){return[i]});return e=oO(e),f9(n,t,function(i,r){return e(i,r[0])})}var Mce=9007199254740991,Ace=Math.floor;function oF(n,e){var t="";if(!n||e<1||e>Mce)return t;do e%2&&(t+=n),e=Ace(e/2),e&&(n+=n);while(e);return t}var Rce=e9("length"),h9="\\ud800-\\udfff",Nce="\\u0300-\\u036f",Fce="\\ufe20-\\ufe2f",jce="\\u20d0-\\u20ff",Hce=Nce+Fce+jce,Bce="\\ufe0e\\ufe0f",$ce="["+h9+"]",XP="["+Hce+"]",JP="\\ud83c[\\udffb-\\udfff]",Vce="(?:"+XP+"|"+JP+")",v9="[^"+h9+"]",g9="(?:\\ud83c[\\udde6-\\uddff]){2}",p9="[\\ud800-\\udbff][\\udc00-\\udfff]",Wce="\\u200d",m9=Vce+"?",b9="["+Bce+"]?",zce="(?:"+Wce+"(?:"+[v9,g9,p9].join("|")+")"+b9+m9+")*",Uce=b9+m9+zce,Kce="(?:"+[v9+XP+"?",XP,g9,p9,$ce].join("|")+")",aF=RegExp(JP+"(?="+JP+")|"+Kce+Uce,"g");function qce(n){for(var e=aF.lastIndex=0;aF.test(n);)++e;return e}function y9(n){return nO(n)?qce(n):Rce(n)}var Gce=Math.ceil;function Yce(n,e){e=e===void 0?" ":PL(e);var t=e.length;if(t<2)return t?oF(e,n):e;var i=oF(e,Gce(n/y9(e)));return nO(e)?y8(E8(i),0,n).join(""):i.slice(0,n)}function sF(n,e,t){n=bd(n),e=o8(e);var i=e?y9(n):0;return e&&i<e?Yce(e-i,t)+n:n}function Zce(n,e){return f9(n,e,function(t,i){return Q8(n,i)})}var bl=m8(function(n,e){return n==null?{}:Zce(n,e)}),Xce=Array.prototype,Jce=Xce.splice;function Qce(n,e){for(var t=n?e.length:0,i=t-1;t--;){var r=e[t];if(t==i||r!==o){var o=r;Wy(r)?Jce.call(n,r,1):c9(n,r)}}return n}var ede=Math.ceil,tde=Math.max;function nde(n,e,t,i){for(var r=-1,o=tde(ede((e-n)/(t||1)),0),a=Array(o);o--;)a[++r]=n,n+=t;return a}function ide(n){return function(e,t,i){return i&&typeof i!="number"&&u8(e,t,i)&&(t=i=void 0),e=Zw(e),t===void 0?(t=e,e=0):t=Zw(t),i=i===void 0?e<t?1:-1:Zw(i),nde(e,t,i)}}var lF=ide();function rde(n,e){var t=[];if(!(n&&n.length))return t;var i=-1,r=[],o=n.length;for(e=oO(e);++i<o;){var a=n[i];e(a,i,n)&&(t.push(a),r.push(i))}return Qce(n,r),t}function sh(n,e,t){return n==null?n:d9(n,e,t)}function A_(n){return n&&n.length?Ece(n,pp):0}var ode="Expected a function";function lh(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(ode);return Wt(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),qu(n,e,{leading:i,maxWait:e,trailing:r})}var ade=1/0,sde=Qv&&1/VL(new Qv([,-0]))[1]==ade?function(n){return new Qv(n)}:Tre,lde=200;function uF(n,e,t){var i=-1,r=kL,o=n.length,a=!0,s=[],l=s;if(t)a=!1,r=i9;else if(o>=lde){var u=sde(n);if(u)return VL(u);a=!1,r=Fb,l=new rh}else l=s;e:for(;++i<o;){var c=n[i],d=c;if(c=t||c!==0?c:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;s.push(c)}else r(l,d,t)||(l!==s&&l.push(d),s.push(c))}return s}var ude=0;function cde(n){var e=++ude;return bd(n)+e}var dde=FL(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()});function fde(n,e,t){var i=n.length;if(i<2)return i?uF(n[0]):[];for(var r=-1,o=Array(i);++r<i;)for(var a=n[r],s=-1;++s<i;)s!=r&&(o[r]=r9(o[r]||a,n[s],e,t));return uF(AL(o),e,t)}var hde=G1(function(n){var e=o9(n);return e=typeof e=="function"?e:void 0,fde(jL(n,jb),void 0,e)});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function _9(n){if(Array.isArray(n))return n}function vde(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=o.call(t)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}function w9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Je(n,e){return _9(n)||vde(n,e)||EL(n,e)||w9()}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var sO={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){var t=1e3,i=6e4,r=36e5,o="millisecond",a="second",s="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",v="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var N=["th","st","nd","rd"],F=H%100;return"["+H+(N[(F-20)%10]||N[F]||N[0])+"]"}},C=function(H,N,F){var W=String(H);return!W||W.length>=N?H:""+Array(N+1-W.length).join(F)+H},O={s:C,z:function(H){var N=-H.utcOffset(),F=Math.abs(N),W=Math.floor(F/60),U=F%60;return(N<=0?"+":"-")+C(W,2,"0")+":"+C(U,2,"0")},m:function V(H,N){if(H.date()<N.date())return-V(N,H);var F=12*(N.year()-H.year())+(N.month()-H.month()),W=H.clone().add(F,d),U=N-W<0,q=H.clone().add(F+(U?-1:1),d);return+(-(F+(N-W)/(U?W-q:q-W))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:d,y:h,w:c,d:u,D:v,h:l,m:s,s:a,ms:o,Q:f}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},w="en",E={};E[w]=b;var P="$isDayjsObject",D=function(H){return H instanceof A||!(!H||!H[P])},k=function V(H,N,F){var W;if(!H)return w;if(typeof H=="string"){var U=H.toLowerCase();E[U]&&(W=U),N&&(E[U]=N,W=U);var q=H.split("-");if(!W&&q.length>1)return V(q[0])}else{var Z=H.name;E[Z]=H,W=Z}return!F&&W&&(w=W),W||!F&&w},L=function(H,N){if(D(H))return H.clone();var F=kn(N)=="object"?N:{};return F.date=H,F.args=arguments,new A(F)},M=O;M.l=k,M.i=D,M.w=function(V,H){return L(V,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var A=function(){function V(N){this.$L=k(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[P]=!0}var H=V.prototype;return H.parse=function(N){this.$d=function(F){var W=F.date,U=F.utc;if(W===null)return new Date(NaN);if(M.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var q=W.match(p);if(q){var Z=q[2]-1||0,z=(q[7]||"0").substring(0,3);return U?new Date(Date.UTC(q[1],Z,q[3]||1,q[4]||0,q[5]||0,q[6]||0,z)):new Date(q[1],Z,q[3]||1,q[4]||0,q[5]||0,q[6]||0,z)}}return new Date(W)}(N),this.init()},H.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},H.$utils=function(){return M},H.isValid=function(){return this.$d.toString()!==g},H.isSame=function(N,F){var W=L(N);return this.startOf(F)<=W&&W<=this.endOf(F)},H.isAfter=function(N,F){return L(N)<this.startOf(F)},H.isBefore=function(N,F){return this.endOf(F)<L(N)},H.$g=function(N,F,W){return M.u(N)?this[F]:this.set(W,N)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(N,F){var W=this,U=!!M.u(F)||F,q=M.p(N),Z=function(ae,le){var Q=M.w(W.$u?Date.UTC(W.$y,le,ae):new Date(W.$y,le,ae),W);return U?Q:Q.endOf(u)},z=function(ae,le){return M.w(W.toDate()[ae].apply(W.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(le)),W)},ie=this.$W,ee=this.$M,K=this.$D,J="set"+(this.$u?"UTC":"");switch(q){case h:return U?Z(1,0):Z(31,11);case d:return U?Z(1,ee):Z(0,ee+1);case c:var $=this.$locale().weekStart||0,Y=(ie<$?ie+7:ie)-$;return Z(U?K-Y:K+(6-Y),ee);case u:case v:return z(J+"Hours",0);case l:return z(J+"Minutes",1);case s:return z(J+"Seconds",2);case a:return z(J+"Milliseconds",3);default:return this.clone()}},H.endOf=function(N){return this.startOf(N,!1)},H.$set=function(N,F){var W,U=M.p(N),q="set"+(this.$u?"UTC":""),Z=(W={},W[u]=q+"Date",W[v]=q+"Date",W[d]=q+"Month",W[h]=q+"FullYear",W[l]=q+"Hours",W[s]=q+"Minutes",W[a]=q+"Seconds",W[o]=q+"Milliseconds",W)[U],z=U===u?this.$D+(F-this.$W):F;if(U===d||U===h){var ie=this.clone().set(v,1);ie.$d[Z](z),ie.init(),this.$d=ie.set(v,Math.min(this.$D,ie.daysInMonth())).$d}else Z&&this.$d[Z](z);return this.init(),this},H.set=function(N,F){return this.clone().$set(N,F)},H.get=function(N){return this[M.p(N)]()},H.add=function(N,F){var W,U=this;N=Number(N);var q=M.p(F),Z=function(K){var J=L(U);return M.w(J.date(J.date()+Math.round(K*N)),U)};if(q===d)return this.set(d,this.$M+N);if(q===h)return this.set(h,this.$y+N);if(q===u)return Z(1);if(q===c)return Z(7);var z=(W={},W[s]=i,W[l]=r,W[a]=t,W)[q]||1,ie=this.$d.getTime()+N*z;return M.w(ie,this)},H.subtract=function(N,F){return this.add(-1*N,F)},H.format=function(N){var F=this,W=this.$locale();if(!this.isValid())return W.invalidDate||g;var U=N||"YYYY-MM-DDTHH:mm:ssZ",q=M.z(this),Z=this.$H,z=this.$m,ie=this.$M,ee=W.weekdays,K=W.months,J=W.meridiem,$=function(le,Q,ne,se){return le&&(le[Q]||le(F,U))||ne[Q].slice(0,se)},Y=function(le){return M.s(Z%12||12,le,"0")},te=J||function(ae,le,Q){var ne=ae<12?"AM":"PM";return Q?ne.toLowerCase():ne};return U.replace(m,function(ae,le){return le||function(Q){switch(Q){case"YY":return String(F.$y).slice(-2);case"YYYY":return M.s(F.$y,4,"0");case"M":return ie+1;case"MM":return M.s(ie+1,2,"0");case"MMM":return $(W.monthsShort,ie,K,3);case"MMMM":return $(K,ie);case"D":return F.$D;case"DD":return M.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return $(W.weekdaysMin,F.$W,ee,2);case"ddd":return $(W.weekdaysShort,F.$W,ee,3);case"dddd":return ee[F.$W];case"H":return String(Z);case"HH":return M.s(Z,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return te(Z,z,!0);case"A":return te(Z,z,!1);case"m":return String(z);case"mm":return M.s(z,2,"0");case"s":return String(F.$s);case"ss":return M.s(F.$s,2,"0");case"SSS":return M.s(F.$ms,3,"0");case"Z":return q}return null}(ae)||q.replace(":","")})},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(N,F,W){var U,q=this,Z=M.p(F),z=L(N),ie=(z.utcOffset()-this.utcOffset())*i,ee=this-z,K=function(){return M.m(q,z)};switch(Z){case h:U=K()/12;break;case d:U=K();break;case f:U=K()/3;break;case c:U=(ee-ie)/6048e5;break;case u:U=(ee-ie)/864e5;break;case l:U=ee/r;break;case s:U=ee/i;break;case a:U=ee/t;break;default:U=ee}return W?U:M.a(U)},H.daysInMonth=function(){return this.endOf(d).$D},H.$locale=function(){return E[this.$L]},H.locale=function(N,F){if(!N)return this.$L;var W=this.clone(),U=k(N,F,!0);return U&&(W.$L=U),W},H.clone=function(){return M.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},V}(),j=A.prototype;return L.prototype=j,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",u],["$M",d],["$y",h],["$D",v]].forEach(function(V){j[V[1]]=function(H){return this.$g(H,V[0],V[1])}}),L.extend=function(V,H){return V.$i||(V(H,A,L),V.$i=!0),L},L.locale=k,L.isDayjs=D,L.unix=function(V){return L(1e3*V)},L.en=E[w],L.Ls=E,L.p={},L})})(sO);var je=sO.exports;/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var gde={exports:{}};(function(n,e){(function(t,i){n.exports=i(sO.exports)})(Jo,function(t){function i(a){return a&&kn(a)=="object"&&"default"in a?a:{default:a}}var r=i(t),o={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(s,l){return l==="W"?s+"周":s+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(s,l){var u=100*s+l;return u<600?"凌晨":u<900?"早上":u<1100?"上午":u<1300?"中午":u<1800?"下午":"晚上"}};return r.default.locale(o,null,!0),o})})(gde);var pde={autoComplete:{empty:"暂无数据"},pagination:{itemsPerPage:"{size} 条/页",jumpTo:"跳至",page:"页",total:"共 {total} 条数据"},cascader:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},calendar:{yearSelection:"{year} 年",monthSelection:"{month} 月",yearRadio:"年",monthRadio:"月",hideWeekend:"隐藏周末",showWeekend:"显示周末",today:"今天",thisMonth:"本月",week:"一,二,三,四,五,六,日",cellMonth:"1 月,2 月,3 月,4 月,5 月,6 月,7 月,8 月,9 月,10 月,11 月,12 月"},transfer:{title:"{checked} / {total} 项",empty:"暂无数据",placeholder:"请输入关键词搜索"},timePicker:{dayjsLocale:"zh-cn",now:"此刻",confirm:"确定",anteMeridiem:"上午",postMeridiem:"下午",placeholder:"选择时间"},dialog:{confirm:"确认",cancel:"取消"},drawer:{confirm:"确认",cancel:"取消"},popconfirm:{confirm:{content:"确定"},cancel:{content:"取消"}},table:{empty:"暂无数据",loadingText:"正在加载中，请稍后",loadingMoreText:"点击加载更多",filterInputPlaceholder:"请输入内容（无默认值）",sortAscendingOperationText:"点击升序",sortCancelOperationText:"点击取消排序",sortDescendingOperationText:"点击降序",clearFilterResultButtonText:"清空筛选",columnConfigButtonText:"列配置",columnConfigTitleText:"表格列配置",columnConfigDescriptionText:"请选择需要在表格中显示的数据列",confirmText:"确认",cancelText:"取消",resetText:"重置",selectAllText:"全选",searchResultText:"搜索“{result}”，找到 {count} 条结果"},select:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},tree:{empty:"暂无数据"},treeSelect:{empty:"暂无数据",loadingText:"加载中",placeholder:"请选择"},datePicker:{dayjsLocale:"zh-cn",placeholder:{date:"请选择日期",month:"请选择月份",year:"请选择年份",quarter:"请选择季度",week:"请选择周"},weekdays:["一","二","三","四","五","六","日"],months:["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],quarters:["一季度","二季度","三季度","四季度"],rangeSeparator:" - ",direction:"ltr",format:"YYYY-MM-DD",dayAriaLabel:"日",weekAbbreviation:"周",yearAriaLabel:"年",monthAriaLabel:"月",confirm:"确定",selectTime:"选择时间",selectDate:"选择日期",nextYear:"下一年",preYear:"上一年",nextMonth:"下个月",preMonth:"上个月",preDecade:"上个十年",nextDecade:"下个十年",now:"当前"},upload:{sizeLimitMessage:"文件大小不能超过 {sizeLimit}",cancelUploadText:"取消上传",triggerUploadText:{fileInput:"选择文件",image:"点击上传图片",normal:"点击上传",reupload:"重新选择",continueUpload:"继续选择",delete:"删除",uploading:"上传中"},dragger:{dragDropText:"释放鼠标",draggingText:"拖拽到此区域",clickAndDragText:"点击上方“选择文件”或将文件拖拽到此区域"},file:{fileNameText:"文件名",fileSizeText:"文件大小",fileStatusText:"状态",fileOperationText:"操作",fileOperationDateText:"上传日期"},progress:{uploadingText:"上传中",waitingText:"待上传",failText:"上传失败",successText:"上传成功"}},form:{errorMessage:{date:"请输入正确的${name}",url:"请输入正确的${name}",required:"${name}必填",whitespace:"${name}不能为空",max:"${name}字符长度不能超过 ${validate} 个字符，一个中文等于两个字符",min:"${name}字符长度不能少于 ${validate} 个字符，一个中文等于两个字符",len:"${name}字符长度必须是 ${validate}",enum:"${name}只能是${validate}等",idcard:"请输入正确的${name}",telnumber:"请输入正确的${name}",pattern:"请输入正确的${name}",validator:"${name}不符合要求",boolean:"${name}数据类型必须是布尔类型",number:"${name}必须是数字"},colonText:"："},input:{placeholder:"请输入"},list:{loadingText:"正在加载中，请稍等",loadingMoreText:"点击加载更多"},alert:{expandText:"展开更多",collapseText:"收起"},anchor:{copySuccessText:"链接复制成功",copyText:"复制链接"},colorPicker:{swatchColorTitle:"系统预设颜色",recentColorTitle:"最近使用颜色",clearConfirmText:"确定清空最近使用的颜色吗？",singleColor:"单色",gradientColor:"渐变"},guide:{finishButtonProps:{content:"完成",theme:"primary"},nextButtonProps:{content:"下一步",theme:"primary"},skipButtonProps:{content:"跳过",theme:"default"},prevButtonProps:{content:"上一步",theme:"default"}},image:{errorText:"图片无法显示",loadingText:"图片加载中"},imageViewer:{errorText:"图片加载失败，可尝试重新加载",mirrorTipText:"镜像",rotateTipText:"旋转",originalSizeTipText:"原始大小"},typography:{expandText:"展开",collapseText:"收起",copiedText:"复制成功"},rate:{rateText:["极差","失望","一般","满意","惊喜"]},empty:{titleText:{maintenance:"建设中",success:"成功",fail:"失败",empty:"暂无数据",networkError:"网络错误"}},descriptions:{colonText:"："},chat:{placeholder:"请输入消息...",stopBtnText:"中止",refreshTipText:"重新生成",copyTipText:"复制",likeTipText:"点赞",dislikeTipText:"点踩",copyCodeBtnText:"复制代码",copyCodeSuccessText:"已复制",clearHistoryBtnText:"清空历史记录",copyTextSuccess:"已成功复制到剪贴板",copyTextFail:"复制到剪贴板失败",confirmClearHistory:"确定要清空所有的消息吗？",loadingText:"思考中...",loadingEndText:"已深度思考"}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var mde={classPrefix:"t",animation:{include:["ripple","expand","fade"],exclude:[]},attach:null,calendar:{firstDayOfWeek:1,fillWithZero:!0,controllerConfig:void 0},icon:{},input:{autocomplete:""},dialog:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,confirmBtnTheme:{default:"primary",info:"primary",warning:"primary",danger:"primary",success:"primary"}},message:{},popconfirm:{confirmBtnTheme:{default:"primary",warning:"primary",danger:"primary"}},table:{expandIcon:void 0,sortIcon:void 0,filterIcon:void 0,treeExpandAndFoldIcon:void 0,hideSortTips:!1,size:"medium"},select:{clearIcon:void 0,filterable:!1},drawer:{closeOnEscKeydown:!0,closeOnOverlayClick:!0,size:"small"},tree:{folderIcon:void 0},datePicker:{firstDayOfWeek:1},steps:{checkIcon:void 0,errorIcon:void 0},tag:{closeIcon:void 0},form:{requiredMark:void 0},empty:{titleText:{maintenance:void 0,success:void 0,fail:void 0,empty:void 0,networkError:void 0},image:{maintenance:void 0,success:void 0,fail:void 0,empty:void 0,networkError:void 0}}},lO=function(n){return n.ripple="ripple",n.expand="expand",n.fade="fade",n}(lO||{}),C9=aO(mde,pde),S9=Symbol("configProvide"),bde=function(e,t){return nce(e,t,function(i,r){if(ut(i))return r})};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var QP=oe();function Dt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,e=arguments.length>1?arguments[1]:void 0,t=Ui()?bn(S9,null):QP,i=R(function(){return(t==null?void 0:t.value)||C9}),r=R(function(){return Object.assign({},i.value[n],e)}),o=R(function(){return i.value.classPrefix}),a=function(l){for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];var f=c[0];if(kt(l)){if(!f)return l;var h=/\{\s*([\w-]+)\s*\}/g,v=l.replace(h,function(g,p){return f?String(f[p]):""});return v}return qe(l)?c.length?l.apply(void 0,c):l(At):""};return{t:a,global:r,globalConfig:r,classPrefix:o}}var yde=function(e){var t=Zo(C9),i=R(function(){return Object.assign({},bde(t,e.globalConfig))});return Xn(S9,i),QP.value||(QP.value=i.value),i};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function we(n){var e=Dt("classPrefix"),t=e.classPrefix;return R(function(){return n?"".concat(t.value,"-").concat(n):t.value})}function Wn(){var n=Dt("classPrefix"),e=n.classPrefix;return{SIZE:R(function(){return{small:"".concat(e.value,"-size-s"),medium:"".concat(e.value,"-size-m"),large:"".concat(e.value,"-size-l"),default:"",xs:"".concat(e.value,"-size-xs"),xl:"".concat(e.value,"-size-xl"),block:"".concat(e.value,"-size-full-width")}}),STATUS:R(function(){return{loading:"".concat(e.value,"-is-loading"),loadMore:"".concat(e.value,"-is-load-more"),disabled:"".concat(e.value,"-is-disabled"),focused:"".concat(e.value,"-is-focused"),success:"".concat(e.value,"-is-success"),error:"".concat(e.value,"-is-error"),warning:"".concat(e.value,"-is-warning"),selected:"".concat(e.value,"-is-selected"),active:"".concat(e.value,"-is-active"),checked:"".concat(e.value,"-is-checked"),current:"".concat(e.value,"-is-current"),hidden:"".concat(e.value,"-is-hidden"),visible:"".concat(e.value,"-is-visible"),expanded:"".concat(e.value,"-is-expanded"),indeterminate:"".concat(e.value,"-is-indeterminate")}})}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function kl(n,e){var t=Object.keys(e);t.forEach(function(i){n.style[i]=e[i]})}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function _de(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Gu(n,e){if(n==null)return{};var t=_de(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wde=["from","to","direction"];function Hb(n){var e={};return Object.keys(n).forEach(function(t){(!Nr(n[t])||e0(n[t]))&&(e[t]=n[t])}),e}function Cde(n){if(kt(n))return n;if(ut(n))return n[0]&&n[0][0]==="#"&&n.unshift("90deg"),"linear-gradient( ".concat(n.join(",")," )");var e=n.from,t=n.to,i=n.direction,r=i===void 0?"to right":i,o=Gu(n,wde),a=Object.keys(o);if(a.length){a=a.sort(function(l,u){var c=parseFloat(l.substr(0,l.length-1))-parseFloat(u.substr(0,u.length-1));return c});var s=a.map(function(l){return"".concat(o[l]," ").concat(l)});return"linear-gradient(".concat(r,", ").concat(s.join(","),")")}return"linear-gradient(".concat(r,", ").concat(e,", ").concat(t,")")}function Tu(){if(typeof navigator>"u"||!navigator)return Number.MAX_SAFE_INTEGER;var n=navigator,e=n.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,i=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){var r=new RegExp("MSIE (\\d+\\.\\d+);"),o=e.match(r);if(!o)return-1;var a=parseFloat(o[1]);return a<7?6:a}return i?11:Number.MAX_SAFE_INTEGER}function Sde(){var n,e,t;if(typeof navigator>"u"||!navigator)return!1;var i=navigator.userAgent,r=i.match(/AppleWebKit.+Chrome\/(.+) Safari\/.+/i);if(Number(r==null||(n=r[1])===null||n===void 0?void 0:n.split(".")[0])<100)return!0;var o=i.match(/AppleWebKit.+Version\/(.+) Safari\/.+/i);if(Number(o==null||(e=o[1])===null||e===void 0?void 0:e.split(".")[0])<12)return!0;var a=Tu();if(a<=11)return!0;var s=i.match(/Firefox\/(.+)/i);return Number(s==null||(t=s[1])===null||t===void 0?void 0:t.split(".")[0])<100}function uf(n,e){var t=Dn(e);if(!n||n.length===0)return t?{length:0,characters:n}:0;for(var i=0,r=0;r<n.length;r++){var o=0;if(n.charCodeAt(r)>127?o=2:o=1,t&&i+o>e)return{length:i,characters:n.slice(0,r)};i+=o}return t?{length:i,characters:n}:i}function Ode(n){return Be(n??"").length}function xde(n,e,t){return Be("").slice().length===e?"":Be(n??"").slice(0,e).join("")}function cF(n){return Dn(n)?"".concat(n,"px"):n}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function dF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function R_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ede(n){var e,t,i,r={};if(!(!n||typeof window>"u")){var o=(e=window)===null||e===void 0||(t=e.getComputedStyle)===null||t===void 0?void 0:t.call(e,n),a=o.color,s=o.fontSize,l=(i=window)===null||i===void 0||(i=i.navigator)===null||i===void 0?void 0:i.userAgent,u=/Safari/.test(l)&&!/Chrome/.test(l),c=/(?=.*iPhone)[?=.*MicroMessenger]/.test(l)&&!/Chrome/.test(l);if((u||c)&&(r={transformOrigin:"0px 0px",transform:"scale(".concat(parseInt(s,10)/12,")")}),a&&Tu()>11){var d=a.match(/[\d.]+/g),f=d?"rgba(".concat(d[0],", ").concat(d[1],", ").concat(d[2],", 0)"):"";kl(n,R_(R_({},r),{},{background:"conic-gradient(from 90deg at 50% 50%,".concat(f," 0deg, ").concat(a," 360deg)")}))}else kl(n,R_(R_({},r),{},{background:""}))}}var Pde=pe({name:"TLoadingGradient",setup:function(){var e=we(),t=oe();return mt(function(){tn(function(){Ede(t.value)})}),function(){var i="".concat(e.value,"-loading__gradient"),r=[i,"".concat(e.value,"-icon-loading")];return x("svg",{class:r,viewBox:"0 0 12 12",version:"1.1",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[x("foreignObject",{x:"0",y:"0",width:"12",height:"12"},[x("div",{class:"".concat(i,"-conic"),ref:t},null)])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var uO={exports:{}},mm={exports:{}};(function(){var n,e,t,i,r,o;typeof performance<"u"&&performance!==null&&performance.now?mm.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(mm.exports=function(){return(n()-r)/1e6},e=process.hrtime,n=function(){var s;return s=e(),s[0]*1e9+s[1]},i=n(),o=process.uptime()*1e9,r=i-o):Date.now?(mm.exports=function(){return Date.now()-t},t=Date.now()):(mm.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(Jo);var kde=mm.exports,_u=typeof window>"u"?Jo:window,N_=["moz","webkit"],eg="AnimationFrame",Ig=_u["request"+eg],Bb=_u["cancel"+eg]||_u["cancelRequest"+eg];for(var Xp=0;!Ig&&Xp<N_.length;Xp++)Ig=_u[N_[Xp]+"Request"+eg],Bb=_u[N_[Xp]+"Cancel"+eg]||_u[N_[Xp]+"CancelRequest"+eg];if(!Ig||!Bb){var $x=0,fF=0,Td=[],Dde=1e3/60;Ig=function(e){if(Td.length===0){var t=kde(),i=Math.max(0,Dde-(t-$x));$x=i+t,setTimeout(function(){var r=Td.slice(0);Td.length=0;for(var o=function(){if(!r[a].cancelled)try{r[a].callback($x)}catch(l){setTimeout(function(){throw l},0)}},a=0;a<r.length;a++)o()},Math.round(i))}return Td.push({handle:++fF,callback:e,cancelled:!1}),fF},Bb=function(e){for(var t=0;t<Td.length;t++)Td[t].handle===e&&(Td[t].cancelled=!0)}}uO.exports=function(n){return Ig.call(_u,n)};uO.exports.cancel=function(){Bb.apply(_u,arguments)};uO.exports.polyfill=function(n){n||(n=_u),n.requestAnimationFrame=Ig,n.cancelAnimationFrame=Bb};var Vx=uO.exports,Tde=function(e,t,i,r){var o=(i-t)/2,a=e/(r/2);return a<1?o*a*a*a+t:(a-=2,o*(a*a*a+2)+t)},Dl=typeof window>"u",Ide=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},ai=function(){return!Dl&&document.addEventListener?function(n,e,t,i){n&&e&&t&&n.addEventListener(e,t,i)}:function(n,e,t){n&&e&&t&&n.attachEvent("on".concat(e),t)}}(),Tn=function(){return!Dl&&document.removeEventListener?function(n,e,t,i){n&&e&&n.removeEventListener(e,t,i)}:function(n,e,t){n&&e&&n.detachEvent("on".concat(e),t)}}();function Lde(n,e,t,i){var r=qe(t)?t:t.handleEvent,o=function(s){r(s),Tn(n,e,o,i)};ai(n,e,o,i)}function zL(n,e){if(!n||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return n.classList?n.classList.contains(e):" ".concat(n.className," ").indexOf(" ".concat(e," "))>-1}function $b(n,e){if(n){for(var t=n.className,i=(e||"").split(" "),r=0,o=i.length;r<o;r++){var a=i[r];a&&(n.classList?n.classList.add(a):zL(n,a)||(t+=" ".concat(a)))}n.classList||(n.className=t)}}function t0(n,e){if(!(!n||!e)){for(var t=e.split(" "),i=" ".concat(n.className," "),r=0,o=t.length;r<o;r++){var a=t[r];a&&(n.classList?n.classList.remove(a):zL(n,a)&&(i=i.replace(" ".concat(a," ")," ")))}n.classList||(n.className=Ide(i))}}var Lh=function(e,t){var i=qe(e)?e(t):e;return i?kt(i)?document.querySelector(i):i instanceof HTMLElement?i:document.body:document.body},O9=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"body";return kt(e)?document.querySelector(e):qe(e)?e():e};function x9(n){return n&&n===n.window}function E9(n,e){if(Dl||!n)return 0;var t="scrollTop",i=0;return x9(n)?i=n.pageYOffset:n instanceof Document?i=n.documentElement[t]:n&&(i=n[t]),i}function UL(n,e){var t=e.container,i=t===void 0?window:t,r=e.duration,o=r===void 0?450:r,a=e.easing,s=a===void 0?Tde:a,l=E9(i),u=Date.now();return new Promise(function(c){var d=function(){var h=Date.now(),v=h-u,g=s(Math.min(v,o),l,n,o);x9(i)?i.scrollTo(window.pageXOffset,g):i instanceof Document||i.constructor.name==="HTMLDocument"?i.documentElement.scrollTop=g:i.scrollTop=g,v<o?Vx(d):Vx(c)};Vx(d)})}var n0=function(e){var t=e.clientWidth,i=t===void 0?0:t,r=e.scrollWidth,o=r===void 0?0:r;return o>i},Mde=function(e){if(!(e instanceof HTMLFormElement))throw new Error("target must be HTMLFormElement");var t=document.createElement("input");t.type="submit",t.hidden=!0,e.appendChild(t),t.click(),e.removeChild(t)};function P9(n,e){var t=n.getBoundingClientRect();if(e){var i=e.getBoundingClientRect();return t.top>=i.top&&t.left>=i.left&&t.bottom<=i.bottom&&t.right<=i.right}return t.top>=0&&t.left>=0&&t.bottom+80<=window.innerHeight&&t.right<=window.innerWidth}function k9(n,e){var t="";return document.defaultView&&document.defaultView.getComputedStyle&&(t=document.defaultView.getComputedStyle(n,null).getPropertyValue(e)),t&&t.toLowerCase?t.toLowerCase():t}function KL(n){var e=n.parentNode;return!e||e.nodeName==="HTML"?!1:k9(n,"position")==="fixed"?!0:KL(e)}function D9(){var n=document,e=n.body,t=document.documentElement,i=window.pageYOffset||t.scrollTop||e.scrollTop,r=window.pageXOffset||t.scrollLeft||e.scrollLeft;return{scrollTop:i,scrollLeft:r}}function Ade(){if(window.innerWidth!==void 0)return{width:window.innerWidth,height:window.innerHeight};var n=document.documentElement;return{width:n.clientWidth,height:n.clientHeight}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function wp(n){var e;return Wt(n)&&"defaultNode"in n?e=n.defaultNode:(Qt(n)||kt(n))&&(e=n),e}function T9(n){var e=[],t=function(r){if(ut(r))return r.forEach(function(o){if(o.children&&ut(o.children)){if(o.type!==Ft)return;t(o.children)}else e.push(o)}),e};return t(n)}function cO(n){return Wt(n)&&"params"in n?n.params:{}}function Rde(n){return Wt(n)&&"slotFirst"in n?n.slotFirst:!1}function hF(n,e,t){var i,r,o,a,s=(i=(r=n.$slots)[Ja(t)])===null||i===void 0?void 0:i.call(r,e);return s||(s=(o=(a=n.$slots)[yu(t)])===null||o===void 0?void 0:o.call(a,e),s)?s:null}var ek=function(e,t,i){var r=cO(i),o=wp(i),a;if(t in e&&(a=e[t]),!(a===!1||a===null)){if(a===!0&&o)return hF(e,r,t)||o;if(qe(a))return a(At,r);var s=[void 0,r,""].includes(a);return s&&(e.$slots[Ja(t)]||e.$slots[yu(t)])?hF(e,r,t):a}},Nde=function(e,t,i,r){var o=cO(r),a=wp(r),s=o?{params:o}:void 0,l=ek(e,t,s),u=ek(e,i,s),c=jo(l)?u:l;return jo(c)?a:c};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Fde=Object.prototype.hasOwnProperty,tk=function(e,t){return Fde.call(e,t)},I9=function(e,t){return tk(e,t)?e[t]:void 0};function F_(n,e,t){var i,r,o,a,s=(i=(r=n.slots)[Ja(e)])===null||i===void 0?void 0:i.call(r,t);return s&&s.filter(function(l){return l.type.toString()!=="Symbol(v-cmt)"}).length||(s=(o=(a=n.slots)[yu(e)])===null||o===void 0?void 0:o.call(a,t),s&&s.filter(function(l){return l.type.toString()!=="Symbol(v-cmt)"}).length)?s:null}function vF(n){if([void 0,null,""].includes(n))return!0;var e=n instanceof Array?n:[n],t=e.filter(function(i){var r;return(i==null||(r=i.type)===null||r===void 0?void 0:r.toString())!=="Symbol(Comment)"});return!t.length}function jde(n,e){var t=(n==null?void 0:n.vnode.props)||{};return tk(t,Ja(e))||tk(t,yu(e))}var ft=function(){var e=Ui();return function(t,i){var r=cO(i),o=wp(i),a=Rde(i),s=e.slots[Ja(t)]||e.slots[yu(t)];if(a&&s)return F_(e,t,r);if(jde(e,t)){var l=e.props[Ja(t)]||e.props[yu(t)];if(l===!1||l===null)return;if(l===!0)return F_(e,t,r)||o;if(qe(l))return l(At,r);var u=[void 0,""].includes(l);return u&&s?F_(e,t,r):l}if(s)return F_(e,t,r);var c=e.props[Ja(t)]||e.props[yu(t)];return c===!1||c===null?void 0:c===!0?o:qe(c)?c(At,r):c}},us=function(){var e=ft();return function(t,i){var r=wp(i);return e(t,i)||r}},Mn=function(){var e=ft();return function(t,i,r){var o=cO(r),a=wp(r),s=o?{params:o}:void 0,l=e(t,s),u=e(i,s),c=vF(l)?u:l;return vF(c)?a:c}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var dO=function(e,t){var i=qe(e)?R(e):oe(e),r=qe(t)?R(t):oe(t),o=oe(),a=function(){o.value=Lh(i.value,r.value)};return mt(function(){return a()}),Pe([i,r],function(){return a()}),o};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Hde={attach:{type:[String,Function],default:""},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:Number,default:0},fullscreen:Boolean,indicator:{type:[Boolean,Function],default:!0},inheritColor:Boolean,loading:{type:Boolean,default:!0},preventScrollThrough:{type:Boolean,default:!0},showOverlay:{type:Boolean,default:!0},size:{type:String,default:"medium"},text:{type:[String,Function]},zIndex:{type:Number}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Bde=function(){return{name:we("loading"),centerClass:we("loading--center"),fullscreenClass:we("loading__fullscreen"),lockClass:we("loading--lock"),overlayClass:we("loading__overlay"),relativeClass:we("loading__parent"),fullClass:we("loading--full"),inheritColorClass:we("loading--inherit-color")}},nk=pe({name:"TLoading",inheritAttrs:!1,props:Hde,setup:function(e,t){var i=t.slots,r=t.attrs,o=oe(!1),a=Bde(),s=a.name,l=a.centerClass,u=a.fullscreenClass,c=a.lockClass,d=a.overlayClass,f=a.relativeClass,h=a.fullClass,v=a.inheritColorClass,g=we(),p=ft(),m=Mn(),b=Wn(),C=b.SIZE,O=function(){o.value=!1;var W=setTimeout(function(){o.value=!0,clearTimeout(W)},e.delay)},w=dO(function(){return e.attach}),E=R(function(){return!!(!e.delay||e.delay&&o.value)}),P=R(function(){var F={};return e.zIndex!==void 0&&(F.zIndex=e.zIndex),["small","medium","large"].includes(e.size)||(F["font-size"]=e.size),F}),D=R(function(){return!!(e.default||i.default||e.content||i.content)}),k=R(function(){return e.preventScrollThrough&&e.fullscreen}),L=R(function(){return!!(e.text||i.text)}),M=R(function(){return D.value&&e.loading&&E.value}),A=R(function(){return e.fullscreen&&e.loading&&E.value}),j=R(function(){return e.attach&&e.loading&&E.value}),V=R(function(){var F=[l.value,I9(C.value,e.size),X({},v.value,e.inheritColor)],W=[s.value,u.value,l.value,d.value];return{baseClasses:F,attachClasses:F.concat([s.value,h.value,X({},d.value,e.showOverlay)]),withContentClasses:F.concat([s.value,h.value,X({},d.value,e.showOverlay)]),fullScreenClasses:W,normalClasses:F.concat([s.value])}}),H=rt(e),N=H.loading;return Pe([N],function(F){var W=Je(F,1),U=W[0];U?(O(),k.value&&$b(document.body,c.value)):k.value&&t0(document.body,c.value)}),mt(function(){e.delay&&O()}),function(){var F=V.value,W=F.fullScreenClasses,U=F.baseClasses,q=F.withContentClasses,Z=F.attachClasses,z=F.normalClasses,ie=x(Pde,{size:e.size},null),ee=N.value&&p("indicator",ie),K=L.value&&x("div",{class:"".concat(g.value,"-loading__text")},[p("text")]);return e.fullscreen?!A.value||!e.loading?null:x(th,{disabled:!e.attach||!w.value,to:w.value},{default:function(){return[x("div",He({class:W,style:P.value},r),[x("div",{class:U},[ee,K])])]}}):D.value?x("div",He({class:f.value},r),[m("default","content"),M.value&&x("div",{class:q,style:P.value},[ee,K])]):e.attach?!j.value||!N.value?null:x(th,{disabled:!e.attach||!w.value,to:w.value},{default:function(){return[x("div",He({class:Z,style:P.value},r),[ee,K])]}}):N.value?x("div",He({class:z,style:P.value},r),[ee,K]):null}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function gF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $de(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Rv=null;function Vde(n){var e=aO({fullscreen:!1,attach:"body",loading:!0,preventScrollThrough:!0},n);return e}function pF(n){var e=Vde(n);if(e.fullscreen&&Rv)return Rv;var t=pe({setup:function(){var d=$n(e);return{loadingOptions:d}},render:function(){return At(nk,$de({},this.loadingOptions))}}),i=Lh(e.fullscreen?"body":e.attach),r=gp(t),o=r.mount(document.createElement("div")),a=we("loading__parent--relative").value,s=we("loading--lock"),l=e.preventScrollThrough&&e.fullscreen;l&&$b(document.body,s.value),i?$b(i,a):console.error("attach is not exist");var u={hide:function(){o.loading=!1,t0(i,a),t0(document.body,s.value),r.unmount()}};return u}function L9(n){if(n===!0)return Rv=pF({fullscreen:!0,loading:!0,attach:"body",preventScrollThrough:!0}),Rv;if(n===!1){var e;(e=Rv)===null||e===void 0||e.hide(),Rv=null;return}return pF(n)}var qL=L9;qL.install=function(n){n.config.globalProperties.$loading=L9};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ik=Symbol("TdLoading"),mF=function(e,t){var i=t.modifiers,r=i.fullscreen,o=i.inheritColor,a={attach:function(){return e},fullscreen:r??!1,inheritColor:o??!1,loading:t.value};Wt(t.value)&&Oce(t.value,function(s,l){a[l]=s}),e[ik]={options:a,instance:qL(a)}},M9={mounted:function(e,t){t.value&&mF(e,t)},updated:function(e,t){var i=e[ik],r=t.value,o=t.oldValue;if(!l9(r,o)){var a,s=(a=r==null?void 0:r.loading)!==null&&a!==void 0?a:r;s?mF(e,t):i==null||i.instance.hide()}},unmounted:function(e){var t;(t=e[ik])===null||t===void 0||t.instance.hide()}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Ye(n,e,t){var i=n;return i.install=function(r,o){r.component(e||o||i.name,n),t&&r.directive(t.name,t.comp)},i}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ar=Ye(nk,nk.name,{name:"loading",comp:M9});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Wde={block:Boolean,content:{type:[String,Function]},default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},form:{type:String,default:void 0},ghost:Boolean,href:{type:String,default:""},icon:{type:Function},loading:Boolean,loadingProps:{type:Object},shape:{type:String,default:"rectangle",validator:function(e){return e?["rectangle","square","round","circle"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["extra-small","small","medium","large"].includes(e):!0}},suffix:{type:Function},tag:{type:String,validator:function(e){return e?["button","a","div"].includes(e):!0}},theme:{type:String,validator:function(e){return e?["default","primary","danger","warning","success"].includes(e):!0}},type:{type:String,default:"button",validator:function(e){return e?["submit","reset","button"].includes(e):!0}},variant:{type:String,default:"base",validator:function(e){return e?["base","outline","dashed","text"].includes(e):!0}},onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var zde=lO.expand,Ude=lO.ripple,Kde=lO.fade;function qde(){var n=Dt("animation"),e=n.globalConfig,t=function(r){var o,a,s=e.value;return s&&!((o=s.exclude)!==null&&o!==void 0&&o.includes(r))&&((a=s.include)===null||a===void 0?void 0:a.includes(r))};return{keepExpand:t(zde),keepRipple:t(Ude),keepFade:t(Kde)}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Wx=200,Gde="rgba(0, 0, 0, 0)",Yde="rgba(0, 0, 0, 0.35)",Zde=function(e,t){var i;if(t)return t;if(e!=null&&(i=e.dataset)!==null&&i!==void 0&&i.ripple){var r=e.dataset.ripple;return r}var o=getComputedStyle(e).getPropertyValue("--ripple-color");return o||Yde};function yd(n,e){var t=oe(null),i=we(),r=qde(),o=r.keepRipple,a=function(l){var u=n.value,c=Zde(u,e==null?void 0:e.value);if(!(l.button!==0||!n||!o)&&!(u.classList.contains("".concat(i.value,"-is-active"))||u.classList.contains("".concat(i.value,"-is-disabled"))||u.classList.contains("".concat(i.value,"-is-checked"))||u.classList.contains("".concat(i.value,"-is-loading")))){var d=getComputedStyle(u),f=parseInt(d.borderWidth,10),h=f>0?f:0,v=u.offsetWidth,g=u.offsetHeight;t.value.parentNode===null&&(kl(t.value,{position:"absolute",left:"".concat(0-h,"px"),top:"".concat(0-h,"px"),width:"".concat(v,"px"),height:"".concat(g,"px"),borderRadius:d.borderRadius,pointerEvents:"none",overflow:"hidden"}),u.appendChild(t.value));var p=document.createElement("div");kl(p,{marginTop:"0",marginLeft:"0",right:"".concat(v,"px"),width:"".concat(v+20,"px"),height:"100%",transition:"transform ".concat(Wx,"ms cubic-bezier(.38, 0, .24, 1), background ").concat(Wx*2,"ms linear"),transform:"skewX(-8deg)",pointerEvents:"none",position:"absolute",zIndex:0,backgroundColor:c,opacity:"0.9"});for(var m=new WeakMap,b=u.children.length,C=0;C<b;++C){var O=u.children[C];O.style.zIndex===""&&O!==t.value&&(O.style.zIndex="1",m.set(O,!0))}var w=u.style.position?u.style.position:getComputedStyle(u).position;(w===""||w==="static")&&(u.style.position="relative"),t.value.insertBefore(p,t.value.firstChild),setTimeout(function(){p.style.transform="translateX(".concat(v,"px)")},0);var E=function(){p.style.backgroundColor=Gde,n.value&&(n.value.removeEventListener("pointerup",E,!1),n.value.removeEventListener("pointerleave",E,!1),setTimeout(function(){p.remove(),t.value.children.length===0&&t.value.remove()},Wx*2+100))};n.value.addEventListener("pointerup",E,!1),n.value.addEventListener("pointerleave",E,!1)}};mt(function(){var s=n==null?void 0:n.value;s&&(t.value=document.createElement("div"),s.addEventListener("pointerdown",a,!1))}),Ea(function(){var s;n==null||(s=n.value)===null||s===void 0||s.removeEventListener("pointerdown",a,!1)})}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function xi(n){var e=Ui(),t=R(function(){return e.props.disabled}),i=bn("formDisabled",Object.create(null));return R(function(){var r,o,a;return ur(n==null||(r=n.beforeDisabled)===null||r===void 0?void 0:r.value)?n.beforeDisabled.value:ur(t.value)?t.value:ur(n==null||(o=n.afterDisabled)===null||o===void 0?void 0:o.value)?n.afterDisabled.value:ur((a=i.disabled)===null||a===void 0?void 0:a.value)?i.disabled.value:!1})}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function bF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function j_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Xw=pe({name:"TButton",props:Wde,setup:function(e,t){var i=t.attrs,r=t.slots,o=ft(),a=Mn(),s=we("button"),l=Wn(),u=l.STATUS,c=l.SIZE,d=oe();yd(d);var f=xi(),h=R(function(){var g=e.theme,p=e.variant;return g||(p==="base"?"primary":"default")}),v=R(function(){return["".concat(s.value),"".concat(s.value,"--variant-").concat(e.variant),"".concat(s.value,"--theme-").concat(h.value),"".concat(s.value,"--shape-").concat(e.shape),X(X(X(X(X({},c.value[e.size],e.size!=="medium"),u.value.disabled,f.value),u.value.loading,e.loading),"".concat(s.value,"--ghost"),e.ghost),c.value.block,e.block)]});return function(){var g=a("default","content"),p=e.loading?x(ar,j_({inheritColor:!0},e.loadingProps),null):o("icon"),m=p&&!g,b=e.suffix||r.suffix?x("span",{class:"".concat(s.value,"__suffix")},[o("suffix")]):null;g=g?x("span",{class:"".concat(s.value,"__text")},[g]):"",p&&(g=[p,g]),b&&(g=[g].concat(b));var C=function(){return!e.tag&&e.href?"a":e.tag||"button"},O={class:[].concat(Be(v.value),[X({},"".concat(s.value,"--icon-only"),m)]),type:e.type,disabled:f.value||e.loading,href:e.href,tabindex:f.value?void 0:"0"};return At(C(),j_(j_(j_({ref:d},i),O),{},{onClick:e.onClick}),[g])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Bt=Ye(Xw);function qt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _F(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Xde(n){var e=["fillOpacity","fillRule","clipRule"];return e.includes(n)?n.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase():n}function Zt(n,e){var t=Object.keys(n.attrs).reduce((i,r)=>(i[Xde(r)]=n.attrs[r],i),{});return At(n.tag,_F(_F({},t),e),(n.children||[]).map(i=>Zt(i,{})))}var Jde="t",A9={classPrefix:Jde};function Qde(){var{classPrefix:n}=A9;return{SIZE:{default:"",xs:"".concat(n,"-size-xs"),small:"".concat(n,"-size-s"),medium:"".concat(n,"-size-m"),large:"".concat(n,"-size-l"),xl:"".concat(n,"-size-xl"),block:"".concat(n,"-size-full-width")},STATUS:{loading:"".concat(n,"-is-loading"),disabled:"".concat(n,"-is-disabled"),focused:"".concat(n,"-is-focused"),success:"".concat(n,"-is-success"),error:"".concat(n,"-is-error"),warning:"".concat(n,"-is-warning"),selected:"".concat(n,"-is-selected"),active:"".concat(n,"-is-active"),checked:"".concat(n,"-is-checked"),current:"".concat(n,"-is-current"),hidden:"".concat(n,"-is-hidden"),visible:"".concat(n,"-is-visible"),expanded:"".concat(n,"-is-expanded"),indeterminate:"".concat(n,"-is-indeterminate")}}}function Xt(n){var e=Qde().SIZE,t=R(()=>n.value in e?e[n.value]:""),i=R(()=>n.value===void 0||n.value in e?{}:{fontSize:n.value});return{style:i,className:t}}function wF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function CF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var efe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2H22V22L2 22V2ZM4 4V20L20 20V4H4ZM13 6.5V11H17.5V13H13V17.5H11V13L6.5 13V11L11 11V6.5H13Z"}}]},tfe=pe({name:"AddRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-add-rectangle",r.value]),s=R(()=>CF(CF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(efe,l.value)}});function SF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function OF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var nfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 4V11L20 11V13L13 13V20H11L11 13H4L4 11L11 11L11 4L13 4Z"}}]},fO=pe({name:"AddIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-add",r.value]),s=R(()=>OF(OF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(nfe,l.value)}});function xF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function EF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ife={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 12H19.5L12 22L4.5 12H9V2H15V12Z"}}]},rfe=pe({name:"ArrowTriangleDownFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-arrow-triangle-down-filled",r.value]),s=R(()=>EF(EF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(ife,l.value)}});function PF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function kF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ofe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15 12H19.5L12 2L4.5 12H9V22H15V12Z"}}]},afe=pe({name:"ArrowTriangleUpFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-arrow-triangle-up-filled",r.value]),s=R(()=>kF(kF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(ofe,l.value)}});function DF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function TF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var sfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 4H20V6H4V4ZM12 7.58579L18.9142 14.5L17.5 15.9142L13 11.4142V21H11V11.4142L6.5 15.9142L5.08579 14.5L12 7.58579Z"}}]},lfe=pe({name:"BacktopIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-backtop",r.value]),s=R(()=>TF(TF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(sfe,l.value)}});function IF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function LF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ufe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 26 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3.99999 1.58582L10.1714 7.75774L17.2425 14.8288L23.4137 21L21.9995 22.4142L19.0345 19.4492C17.2447 20.4377 15.1866 21.0001 12.9996 21.0001C7.42102 21.0001 2.69842 17.3465 1.08922 12.3042L0.992188 12.0001L1.08922 11.6961C1.85645 9.29201 3.33009 7.20571 5.26511 5.67975L2.58567 2.99993L3.99999 1.58582ZM6.69098 7.10574C5.05507 8.33729 3.79122 10.0353 3.09676 12.0001C4.53843 16.0793 8.42915 19.0001 12.9996 19.0001C14.6314 19.0001 16.1745 18.6285 17.5507 17.9655L15.7571 16.1719C14.9668 16.695 14.0185 17.0003 12.9999 17.0003C10.2385 17.0003 7.99989 14.7618 7.99989 12.0003C7.99989 10.9817 8.3052 10.0334 8.82835 9.24312L6.69098 7.10574ZM10.292 10.7068C10.1046 11.0984 9.99989 11.5368 9.99989 12.0003C9.99989 13.6572 11.343 15.0003 12.9999 15.0003C13.4634 15.0003 13.9018 14.8956 14.2934 14.7082L10.292 10.7068ZM13 5.00003C12.4234 5.00003 11.8583 5.04642 11.3081 5.13548L10.321 5.29527L10.0014 3.32097L10.9885 3.16117C11.644 3.05508 12.3159 3.00003 13 3.00003C18.5786 3.00003 23.3012 6.65367 24.9104 11.696L25.0074 12L24.9104 12.3041C24.4968 13.5999 23.878 14.8034 23.0926 15.8763L22.5019 16.6833L20.8881 15.5019L21.4788 14.695C22.0769 13.8778 22.5595 12.9715 22.9028 12C21.4612 7.92082 17.5704 5.00003 13 5.00003ZM13.5132 6.92636L14.4691 7.21985C16.0499 7.70515 17.2953 8.95049 17.7806 10.5313L18.0741 11.4873L16.1621 12.0742L15.8687 11.1183C15.578 10.1715 14.829 9.42243 13.8822 9.13178L12.9262 8.8383L13.5132 6.92636Z"}}]},cfe=pe({name:"BrowseOffIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-browse-off",r.value]),s=R(()=>LF(LF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(ufe,l.value)}});function MF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function AF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var dfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{clipPath:"url(#clip0_8726_7319)"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2.09675 12C3.53842 16.0792 7.42915 19 11.9996 19C16.57 19 20.4607 16.0792 21.9024 12C20.4607 7.92079 16.57 5 11.9996 5C7.42915 5 3.53842 7.92079 2.09675 12ZM0.0892162 11.696C1.69842 6.65364 6.42102 3 11.9996 3C17.5781 3 22.3007 6.65364 23.9099 11.696L24.007 12L23.9099 12.304C22.3007 17.3464 17.5781 21 11.9996 21C6.42102 21 1.69842 17.3464 0.0892162 12.304L-0.0078125 12L0.0892162 11.696ZM11.9999 9C10.343 9 8.99989 10.3431 8.99989 12C8.99989 13.6569 10.343 15 11.9999 15C13.6567 15 14.9999 13.6569 14.9999 12C14.9999 10.3431 13.6567 9 11.9999 9ZM6.99989 12C6.99989 9.23858 9.23846 7 11.9999 7C14.7613 7 16.9999 9.23858 16.9999 12C16.9999 14.7614 14.7613 17 11.9999 17C9.23846 17 6.99989 14.7614 6.99989 12Z"}}]}]},GL=pe({name:"BrowseIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-browse",r.value]),s=R(()=>AF(AF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(dfe,l.value)}});function RF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function NF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ffe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6 4V1.5H8V4H16V1.5H18V4H22V22H2V4H6ZM4 6V9H20V6H4ZM20 11H4V20H20V11Z"}}]},R9=pe({name:"CalendarIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-calendar",r.value]),s=R(()=>NF(NF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(ffe,l.value)}});function FF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var hfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M14.9999 12L9.49988 6.5L9.49988 17.5L14.9999 12Z"}}]},vfe=pe({name:"CaretRightSmallIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-caret-right-small",r.value]),s=R(()=>jF(jF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(hfe,l.value)}});function HF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function BF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var gfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM7.49985 10.5858L10.4999 13.5858L16.4999 7.58578L17.9141 8.99999L10.4999 16.4142L6.08564 12L7.49985 10.5858Z"}}]},Yu=pe({name:"CheckCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-check-circle-filled",r.value]),s=R(()=>BF(BF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(gfe,l.value)}});function $F(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function VF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$F(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var pfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M20.9852 7.37845L10.3786 17.985L4.01465 11.6211L5.42886 10.2069L10.3786 15.1566L19.571 5.96423L20.9852 7.37845Z"}}]},YL=pe({name:"CheckIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-check",r.value]),s=R(()=>VF(VF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(pfe,l.value)}});function WF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var mfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M17.5001 8.08582L12.0002 13.5858L6.50015 8.08582L5.08594 9.50003L12.0002 16.4142L18.9144 9.50003L17.5001 8.08582Z"}}]},hO=pe({name:"ChevronDownIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-chevron-down",r.value]),s=R(()=>zF(zF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(mfe,l.value)}});function UF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function KF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var bfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M18.4144 7.50003L13.9144 12L18.4144 16.5L17.0001 17.9142L11.0859 12L17.0002 6.08582L18.4144 7.50003ZM11.9144 7.50003L7.41436 12L11.9144 16.5L10.5002 17.9142L4.58594 12L10.5002 6.08582L11.9144 7.50003Z"}}]},yfe=pe({name:"ChevronLeftDoubleIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-chevron-left-double",r.value]),s=R(()=>KF(KF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(bfe,l.value)}});function qF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function GF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var _fe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.9144 17.5L10.4144 12L15.9144 6.50003L14.5002 5.08582L7.58594 12L14.5002 18.9142L15.9144 17.5Z"}}]},Cp=pe({name:"ChevronLeftIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-chevron-left",r.value]),s=R(()=>GF(GF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(_fe,l.value)}});function YF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ZF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var wfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3ZM1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12ZM10.5 6.58579L15.9142 12L10.5 17.4142L9.08579 16L13.0858 12L9.08579 8L10.5 6.58579Z"}}]},Cfe=pe({name:"ChevronRightCircleIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-chevron-right-circle",r.value]),s=R(()=>ZF(ZF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(wfe,l.value)}});function XF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function JF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Sfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M5.58594 16.5L10.0859 12L5.58594 7.50003L7.00015 6.08582L12.9144 12L7.00015 17.9142L5.58594 16.5ZM12.0859 16.5L16.5859 12L12.0859 7.50003L13.5002 6.08582L19.4144 12L13.5001 17.9142L12.0859 16.5Z"}}]},Ofe=pe({name:"ChevronRightDoubleIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-chevron-right-double",r.value]),s=R(()=>JF(JF({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Sfe,l.value)}});function QF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ej(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var xfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8.08594 17.5L13.5859 12L8.08594 6.50003L9.50015 5.08582L16.4144 12L9.50015 18.9142L8.08594 17.5Z"}}]},_d=pe({name:"ChevronRightIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-chevron-right",r.value]),s=R(()=>ej(ej({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(xfe,l.value)}});function tj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Efe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M17.5001 15.9142L12.0002 10.4142L6.50015 15.9142L5.08594 14.5L12.0002 7.58582L18.9144 14.5L17.5001 15.9142Z"}}]},N9=pe({name:"ChevronUpIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-chevron-up",r.value]),s=R(()=>nj(nj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Efe,l.value)}});function ij(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ij(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Pfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM8.81753 7.40346L11.9999 10.5858L15.1815 7.40414L16.5957 8.81835L13.4141 12L16.5957 15.1816L15.1815 16.5958L11.9999 13.4142L8.81753 16.5965L7.40332 15.1823L10.5856 12L7.40332 8.81767L8.81753 7.40346Z"}}]},Sp=pe({name:"CloseCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-close-circle-filled",r.value]),s=R(()=>rj(rj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Pfe,l.value)}});function oj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var kfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.04996 5.63599L11.9997 10.5857L16.9494 5.63599L18.3637 7.0502L13.4139 11.9999L18.3637 16.9497L16.9494 18.3639L11.9997 13.4142L7.04996 18.3639L5.63574 16.9497L10.5855 11.9999L5.63574 7.0502L7.04996 5.63599Z"}}]},js=pe({name:"CloseIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-close",r.value]),s=R(()=>aj(aj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(kfe,l.value)}});function sj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Dfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2H15V7.5H13V4H4V13H7.5V15H2V2ZM9 9H22V22H9V9ZM11 11V20H20V11H11Z"}}]},Tfe=pe({name:"CopyIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-copy",r.value]),s=R(()=>lj(lj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Dfe,l.value)}});function uj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Ife={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M7.5 1H16.5V4H22V6H19.971L19.471 23H4.52898L4.02898 6H2V4H7.5V1ZM9.5 4H14.5V3H9.5V4ZM6.02984 6L6.47102 21H17.529L17.9702 6H6.02984ZM13 8V19H11V8H13Z"}}]},ZL=pe({name:"DeleteIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-delete",r.value]),s=R(()=>cj(cj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Ife,l.value)}});function dj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Lfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M1 3H23V18H13V20H17V22H7V20H11V18H1V3ZM3 5V16H21V5H3Z"}}]},Mfe=pe({name:"DesktopIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-desktop",r.value]),s=R(()=>fj(fj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Lfe,l.value)}});function hj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Afe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 3L13 12.5858L16.5 9.08579L17.9142 10.5L12 16.4142L6.08579 10.5L7.5 9.08579L11 12.5858L11 3L13 3ZM4.5 14V19H19.5V14H21.5V21H2.5V14H4.5Z"}}]},Rfe=pe({name:"DownloadIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-download",r.value]),s=R(()=>vj(vj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Afe,l.value)}});function gj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Nfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M16.8281 1.41602L22.583 7.17092L7.75494 22.0001L2 22.0002L2 16.2453L16.8281 1.41602ZM16.8281 10.0974L19.7546 7.17092L16.8281 4.24444L13.9017 7.17092L16.8281 10.0974ZM12.4875 8.58517L4 17.0736L4 20.0001H6.92644L15.414 11.5116L12.4875 8.58517Z"}}]},Ffe=pe({name:"Edit1Icon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-edit-1",r.value]),s=R(()=>pj(pj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Nfe,l.value)}});function mj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var jfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 10.5H6V13.5H3V10.5ZM10.5 10.5H13.5V13.5H10.5V10.5ZM18 10.5H21V13.5H18V10.5Z"}}]},F9=pe({name:"EllipsisIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-ellipsis",r.value]),s=R(()=>bj(bj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(jfe,l.value)}});function yj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _j(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Hfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1ZM11.0001 14H13.0001V6.49998H11.0001V14ZM13.004 15.5H11.0001V17.5039H13.004V15.5Z"}}]},Al=pe({name:"ErrorCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-error-circle-filled",r.value]),s=R(()=>_j(_j({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Hfe,l.value)}});function wj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Cj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Bfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13 2L13 16.5H11L11 2L13 2ZM11 19H13.0039V21.0039H11V19Z"}}]},$fe=pe({name:"ErrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-error",r.value]),s=R(()=>Cj(Cj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Bfe,l.value)}});function Sj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Oj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Sj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Vfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M6 1H15.4142L21 6.58579V19H6V1ZM8 3V17H19V9H13V3H8ZM15 3.41421V7H18.5858L15 3.41421ZM4 5V21H15V23H2V5H4Z"}}]},Wfe=pe({name:"FileCopyIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-file-copy",r.value]),s=R(()=>Oj(Oj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Vfe,l.value)}});function xj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ej(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var zfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1H15.4142L21 6.58579V23H3V1ZM5 3V21H19V9H13V3H5ZM15 3.41421V7H18.5858L15 3.41421ZM15 9.99999L15 11.6465C15 12.1896 14.7792 12.7093 14.3883 13.0862L13.4406 14L14.3883 14.9138C14.7792 15.2907 15 15.8104 15 16.3535V18H13L13 16.3535L12 15.3892L11 16.3535L11 18L9.00001 18L9.00001 16.3535C9.00001 15.8104 9.22083 15.2907 9.61173 14.9138L10.5594 14L9.61174 13.0862C9.22083 12.7093 9.00002 12.1896 9.00001 11.6465L9 10L11 10L11 11.6465L12 12.6108L13 11.6465L13 10L15 9.99999Z"}}]},Ufe=pe({name:"FileExcelIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-file-excel",r.value]),s=R(()=>Ej(Ej({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(zfe,l.value)}});function Pj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function kj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Pj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Kfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1H15.4142L21 6.58579V11H19V9H13V3H5V21H21V23H3V1ZM15 3.41421V7H18.5858L15 3.41421ZM6 12H9.71428C10.4244 12 11 12.5756 11 13.2857V15.7143C11 16.4244 10.4244 17 9.71428 17H8V20H6V12ZM8 15H9V14H8V15ZM11.5 12H15.2143C15.9244 12 16.5 12.5756 16.5 13.2857V18.7143C16.5 19.4244 15.9244 20 15.2143 20H11.5V12ZM13.5 14V18H14.5V14H13.5ZM17 13.2857C17 12.5756 17.5756 12 18.2857 12H21.6667V14H19V15H21.6667V17H19V20H17V13.2857Z"}}]},qfe=pe({name:"FilePdfIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-file-pdf",r.value]),s=R(()=>kj(kj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Kfe,l.value)}});function Dj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Tj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Gfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1H15.4142L21 6.58579V23H3V1ZM5 3V21H19V9H13V3H5ZM15 3.41421V7H18.5858L15 3.41421ZM9 10H13C14.1046 10 15 10.8954 15 12V13.6C15 14.7046 14.1046 15.6 13 15.6H11V18H9V10ZM11 13.6L13 13.6V12H11V13.6Z"}}]},Yfe=pe({name:"FilePowerpointIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-file-powerpoint",r.value]),s=R(()=>Tj(Tj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Gfe,l.value)}});function Ij(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Lj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ij(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Zfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1H15.4142L21 6.58579V23H3V1ZM5 3V21H19V9H13V3H5ZM15 3.41421V7H18.5858L15 3.41421ZM10 11V16H11L11 11H13L13 16H14V11H16V16C16 17.1046 15.1046 18 14 18H10C8.89543 18 8 17.1046 8 16V11H10Z"}}]},Xfe=pe({name:"FileWordIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-file-word",r.value]),s=R(()=>Lj(Lj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Zfe,l.value)}});function Mj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Aj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Jfe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M3 1H15.4142L21 6.58579V23H3V1ZM5 3V21H19V9H13V3H5ZM15 3.41421V7H18.5858L15 3.41421Z"}}]},Qfe=pe({name:"FileIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-file",r.value]),s=R(()=>Aj(Aj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Jfe,l.value)}});function Rj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Nj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Rj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ehe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2.57031 3H21.4302L14.5002 12.8174V21H9.50023V12.8174L2.57031 3ZM6.43015 5L11.5002 12.1826V19H12.5002V12.1826L17.5703 5H6.43015Z"}}]},the=pe({name:"FilterIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-filter",r.value]),s=R(()=>Nj(Nj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(ehe,l.value)}});function Fj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var nhe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM11.8265 11.8902C12.2582 11.3593 12.8004 10.9159 13.2365 10.5723C13.7034 10.2045 14.0002 9.63718 14.0002 9C14.0002 7.89543 13.1048 7 12.0002 7C11.131 7 10.3888 7.5551 10.1138 8.33325L9.78055 9.27609L7.89487 8.6096L8.22811 7.66676C8.77675 6.11451 10.2571 5 12.0002 5C14.2094 5 16.0002 6.79086 16.0002 9C16.0002 10.2759 15.4018 11.4125 14.4742 12.1433C14.0426 12.4834 13.6573 12.8088 13.3783 13.1519C13.1038 13.4896 13.0002 13.762 13.0002 14V15.25H11.0002V14C11.0002 13.1334 11.3905 12.4265 11.8265 11.8902ZM11.0001 18.2539V16.25H13.004V18.2539H11.0001Z"}}]},j9=pe({name:"HelpCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-help-circle-filled",r.value]),s=R(()=>jj(jj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(nhe,l.value)}});function Hj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Bj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ihe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2H22V12H20V4H4V13.5858L9 8.58579L14.4142 14L13 15.4142L9 11.4142L4 16.4142V20H12V22H2V2ZM15.5469 7C14.9946 7 14.5469 7.44772 14.5469 8C14.5469 8.55228 14.9946 9 15.5469 9C16.0992 9 16.5469 8.55228 16.5469 8C16.5469 7.44772 16.0992 7 15.5469 7ZM12.5469 8C12.5469 6.34315 13.89 5 15.5469 5C17.2037 5 18.5469 6.34315 18.5469 8C18.5469 9.65685 17.2037 11 15.5469 11C13.89 11 12.5469 9.65685 12.5469 8ZM16.1716 14.7574L19 17.5858L21.8284 14.7574L23.2426 16.1716L20.4142 19L23.2426 21.8284L21.8284 23.2426L19 20.4142L16.1716 23.2426L14.7574 21.8284L17.5858 19L14.7574 16.1716L16.1716 14.7574Z"}}]},H9=pe({name:"ImageErrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-image-error",r.value]),s=R(()=>Bj(Bj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(ihe,l.value)}});function $j(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Vj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$j(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$j(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var rhe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2H22V22H2V2ZM4 20H17.5858L9 11.4142L4 16.4142V20ZM20 19.5858V4H4V13.5858L9 8.58579L20 19.5858ZM15.5469 7C14.9946 7 14.5469 7.44772 14.5469 8C14.5469 8.55228 14.9946 9 15.5469 9C16.0992 9 16.5469 8.55228 16.5469 8C16.5469 7.44772 16.0992 7 15.5469 7ZM12.5469 8C12.5469 6.34315 13.89 5 15.5469 5C17.2037 5 18.5469 6.34315 18.5469 8C18.5469 9.65685 17.2037 11 15.5469 11C13.89 11 12.5469 9.65685 12.5469 8Z"}}]},B9=pe({name:"ImageIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-image",r.value]),s=R(()=>Vj(Vj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(rhe,l.value)}});function Wj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Wj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ohe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM10.996 8.50002V6.49611H12.9999V8.50002H10.996ZM12.9999 10L12.9999 17.5H10.9999V10L12.9999 10Z"}}]},Gy=pe({name:"InfoCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-info-circle-filled",r.value]),s=R(()=>zj(zj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(ohe,l.value)}});function Uj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Kj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Uj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ahe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 3C14.2091 3 16 4.79086 16 7V10H8V7C8 4.79086 9.79086 3 12 3ZM18 10V7C18 3.68629 15.3137 1 12 1C8.68629 1 6 3.68629 6 7V10H3.5V22H20.5V10H18ZM5.5 12H18.5V20H5.5V12ZM9 15H15V17H9V15Z"}}]},she=pe({name:"LockOnIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-lock-on",r.value]),s=R(()=>Kj(Kj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(ahe,l.value)}});function qj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var lhe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2H22V22L2 22V2ZM4 4V20L20 20V4H4ZM6.5 11L17.5 11V13L6.5 13V11Z"}}]},uhe=pe({name:"MinusRectangleIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-minus-rectangle",r.value]),s=R(()=>Gj(Gj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(lhe,l.value)}});function Yj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Zj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Yj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var che={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M13.0003 2L13.0003 22H11.0003L11.0003 2L13.0003 2ZM9.0003 4.64087V18.5H1.30078L9.0003 4.64087ZM15.0003 4.64087L22.6998 18.5H15.0003V4.64087ZM4.69981 16.5H7.0003V12.3591L4.69981 16.5ZM17.0003 12.3591V16.5H19.3008L17.0003 12.3591Z"}}]},dhe=pe({name:"MirrorIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-mirror",r.value]),s=R(()=>Zj(Zj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(che,l.value)}});function Xj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Jj(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var fhe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8.5 5V19H6.5V5H8.5ZM17.6642 6.75L12.4142 12L17.6642 17.25L16.25 18.6642L9.58579 12L16.25 5.33579L17.6642 6.75Z"}}]},hhe=pe({name:"PageFirstIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-page-first",r.value]),s=R(()=>Jj(Jj({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(fhe,l.value)}});function Qj(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function eH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qj(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var vhe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M17.5002 5V19H15.5002V5H17.5002ZM7.75015 5.33579L14.4144 12L7.75015 18.6642L6.33594 17.25L11.5859 12L6.33594 6.75L7.75015 5.33579Z"}}]},ghe=pe({name:"PageLastIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-page-last",r.value]),s=R(()=>eH(eH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(vhe,l.value)}});function tH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var phe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 11L20 11V13L4 13L4 11Z"}}]},mhe=pe({name:"RemoveIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-remove",r.value]),s=R(()=>nH(nH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(phe,l.value)}});function iH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var bhe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 2V11C8.97056 11 13 15.0294 13 20H22V22H2V2H4ZM4 20H11C11 16.134 7.86599 13 4 13V20Z"}}]},yhe=pe({name:"RotationIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-rotation",r.value]),s=R(()=>rH(rH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(bhe,l.value)}});function oH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var _he={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6ZM4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12Z"}}]},whe=pe({name:"RoundIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-round",r.value]),s=R(()=>aH(aH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(_he,l.value)}});function sH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Che={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.0962 5.90381C12.5578 3.3654 8.44221 3.3654 5.90381 5.90381C3.3654 8.44221 3.3654 12.5578 5.90381 15.0962C8.44221 17.6346 12.5578 17.6346 15.0962 15.0962C17.6346 12.5578 17.6346 8.44221 15.0962 5.90381ZM4.48959 4.48959C7.80905 1.17014 13.191 1.17014 16.5104 4.48959C19.5906 7.56983 19.8126 12.4259 17.1764 15.7621L22.5208 21.1066L21.1066 22.5208L15.7621 17.1764C12.4259 19.8126 7.56983 19.5906 4.48959 16.5104C1.17014 13.191 1.17014 7.80905 4.48959 4.48959Z"}}]},She=pe({name:"SearchIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-search",r.value]),s=R(()=>lH(lH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Che,l.value)}});function uH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Ohe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.0001 0.845337L21.6604 6.42269V17.5774L12.0001 23.1547L2.33984 17.5774V6.42269L12.0001 0.845337ZM12.0001 3.15474L4.33984 7.57739V16.4227L12.0001 20.8453L19.6604 16.4227V7.57739L12.0001 3.15474ZM12.0001 9.00004C10.3432 9.00004 9.0001 10.3432 9.0001 12C9.0001 13.6569 10.3432 15 12.0001 15C13.657 15 15.0001 13.6569 15.0001 12C15.0001 10.3432 13.657 9.00004 12.0001 9.00004ZM7.0001 12C7.0001 9.23861 9.23867 7.00004 12.0001 7.00004C14.7615 7.00004 17.0001 9.23861 17.0001 12C17.0001 14.7615 14.7615 17 12.0001 17C9.23867 17 7.0001 14.7615 7.0001 12Z"}}]},xhe=pe({name:"SettingIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-setting",r.value]),s=R(()=>cH(cH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Ohe,l.value)}});function dH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Ehe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12.0012 0.63031L14.9039 8.98087L23.7427 9.16099L16.6978 14.502L19.2579 22.9639L12.0012 17.9143L4.74461 22.9639L7.30465 14.502L0.259766 9.16099L9.09859 8.98087L12.0012 0.63031Z"}}]},Phe=pe({name:"StarFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-star-filled",r.value]),s=R(()=>fH(fH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Ehe,l.value)}});function hH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var khe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23ZM12.9999 5.49999H10.9999L10.9998 12.4142L14.9999 16.4142L16.4141 15L12.9999 11.5858V5.49999Z"}}]},$9=pe({name:"TimeFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-time-filled",r.value]),s=R(()=>vH(vH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(khe,l.value)}});function gH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Dhe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM23 12C23 18.0751 18.0751 23 12 23C5.92487 23 0.999999 18.0751 1 12C1 5.92487 5.92487 0.999999 12 1C18.0751 1 23 5.92487 23 12ZM15 16.4142L11 12.4142L11 5.5H13L13 11.5858L16.4142 15L15 16.4142Z"}}]},V9=pe({name:"TimeIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-time",r.value]),s=R(()=>pH(pH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Dhe,l.value)}});function mH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var The={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 2.58569L17.9142 8.49991L16.5 9.91412L13 6.41412L13 15.9999H11L11 6.41412L7.5 9.91412L6.08579 8.49991L12 2.58569ZM4.5 13.9999V18.9999H19.5V13.9999H21.5V20.9999H2.5V13.9999H4.5Z"}}]},Ihe=pe({name:"UploadIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-upload",r.value]),s=R(()=>bH(bH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(The,l.value)}});function yH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _H(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Lhe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2H22V22H2V2ZM4 4V20H20V4H4ZM8 6.37083L17.75 12L8 17.6292L8 6.37083ZM10 9.83494L10 14.1651L13.75 12L10 9.83494Z"}}]},Mhe=pe({name:"VideoIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-video",r.value]),s=R(()=>_H(_H({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Lhe,l.value)}});function wH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function CH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Ahe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.0962 5.90381C12.5578 3.3654 8.44221 3.3654 5.90381 5.90381C3.3654 8.44221 3.3654 12.5578 5.90381 15.0962C8.44221 17.6346 12.5578 17.6346 15.0962 15.0962C17.6346 12.5578 17.6346 8.44221 15.0962 5.90381ZM4.48959 4.48959C7.80905 1.17014 13.191 1.17014 16.5104 4.48959C19.5906 7.56983 19.8126 12.4259 17.1764 15.7621L22.5208 21.1066L21.1066 22.5208L15.7621 17.1764C12.4259 19.8126 7.56983 19.5906 4.48959 16.5104C1.17014 13.191 1.17014 7.80905 4.48959 4.48959ZM11.5 6.5L11.5 9.5H14.5V11.5H11.5V14.5H9.5V11.5H6.5V9.5H9.5L9.5 6.5L11.5 6.5Z"}}]},Rhe=pe({name:"ZoomInIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-zoom-in",r.value]),s=R(()=>CH(CH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Ahe,l.value)}});function SH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function OH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Nhe={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M15.0962 5.90381C12.5578 3.3654 8.44221 3.3654 5.90381 5.90381C3.3654 8.44221 3.3654 12.5578 5.90381 15.0962C8.44221 17.6346 12.5578 17.6346 15.0962 15.0962C17.6346 12.5578 17.6346 8.44221 15.0962 5.90381ZM4.48959 4.48959C7.80905 1.17014 13.191 1.17014 16.5104 4.48959C19.5906 7.56983 19.8126 12.4259 17.1764 15.7621L22.5208 21.1066L21.1066 22.5208L15.7621 17.1764C12.4259 19.8126 7.56983 19.5906 4.48959 16.5104C1.17014 13.191 1.17014 7.80905 4.48959 4.48959ZM6.5 11.5V9.5L14.5 9.5V11.5L6.5 11.5Z"}}]},Fhe=pe({name:"ZoomOutIcon",props:{size:{type:String},onClick:{type:Function}},setup(n,e){var{attrs:t}=e,i=R(()=>n.size),{className:r,style:o}=Xt(i),a=R(()=>["t-icon","t-icon-zoom-out",r.value]),s=R(()=>OH(OH({},o.value),t.style)),l=R(()=>({class:a.value,style:s.value,onClick:u=>{var c;return(c=n.onClick)===null||c===void 0?void 0:c.call(n,{e:u})}}));return()=>Zt(Nhe,l.value)}}),jhe=typeof window>"u";function Hhe(n,e){if(!jhe&&!(!document||!n||typeof n!="string")&&!(document.querySelectorAll(".".concat(e,'[src="').concat(n,'"]')).length>0)){var t=document.createElement("script");t.setAttribute("class",e),t.setAttribute("src",n),document.body.appendChild(t)}}var Bhe={name:{type:String,default:""},size:{type:String,default:void 0},url:{type:[String,Array],default:void 0},loadDefaultIcons:{type:Boolean,default:!0},onClick:Function};function xH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function EH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xH(Object(t),!0).forEach(function(i){qt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var{classPrefix:zx}=A9,$he="https://tdesign.gtimg.com/icon/0.3.2/fonts/index.js",Vhe=pe({name:"Icon",props:Bhe,setup(n,e){var{attrs:t}=e,i=R(()=>n.size),r=R(()=>n.name||""),{className:o,style:a}=Xt(i),s=R(()=>{var d=[];return d=n.url instanceof Array?n.url.concat():[n.url],n.loadDefaultIcons&&d.push($he),d}),l=R(()=>["".concat(zx,"-icon"),"".concat(zx,"-icon-").concat(r.value),o.value]),u=R(()=>EH(EH({},a.value),t.style));mt(()=>{Array.from(new Set(s.value)).forEach(d=>{Hhe(d,"".concat(zx,"-svg-js-stylesheet--unique-class"))})});var c=R(()=>({class:l.value,style:u.value,onClick:d=>{var f;return(f=n.onClick)===null||f===void 0?void 0:f.call(n,{e:d})}}));return()=>At("svg",c.value,At("use",{href:n.url?"#".concat(r.value):"#t-icon-".concat(r.value)}))}}),Whe=Vhe;function W9(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var XL=Ye(Whe,"TIcon");/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var zhe={content:{type:[String,Function]},default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},download:{type:[String,Boolean]},hover:{type:String,default:"underline",validator:function(e){return e?["color","underline"].includes(e):!0}},href:{type:String,default:""},prefixIcon:{type:Function},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},suffixIcon:{type:Function},target:{type:String,default:""},theme:{type:String,default:"default",validator:function(e){return e?["default","primary","danger","warning","success"].includes(e):!0}},underline:Boolean,onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Uhe=pe({name:"TLink",props:zhe,emits:["click"],setup:function(e,t){var i=t.emit,r=Mn(),o=ft(),a=we("link"),s=Wn(),l=s.STATUS,u=s.SIZE,c=Dt("classPrefix"),d=c.classPrefix,f=xi(),h=R(function(){return["".concat(a.value),"".concat(a.value,"--theme-").concat(e.theme),X(X(X(X({},u.value[e.size],e.size!=="medium"),l.value.disabled,f.value),"".concat(d.value,"-is-underline"),e.underline),"".concat(a.value,"--hover-").concat(e.hover),!f.value)]}),v=function(p){f.value||i("click",p)};return function(){var g=r("default","content"),p=o("prefixIcon"),m=o("suffixIcon");return x("a",{class:Be(h.value),href:f.value||!e.href?void 0:e.href,target:e.target?e.target:void 0,download:e.download?e.download:void 0,onClick:v},[p?x("span",{class:"".concat(a.value,"__prefix-icon")},[p]):null,g,m?x("span",{class:"".concat(a.value,"__suffix-icon")},[m]):null])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Yy=Ye(Uhe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Khe={align:{type:String,default:"top",validator:function(e){return e?["start","end","center","stretch","baseline","top","middle","bottom"].includes(e):!0}},gutter:{type:[Number,Object,Array],default:0},justify:{type:String,default:"start",validator:function(e){return e?["start","end","center","space-around","space-between"].includes(e):!0}},tag:{type:String,default:"div"}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function z9(n,e){mt(function(){window.addEventListener(n,e)}),yi(function(){window.removeEventListener(n,e)})}function qhe(n,e){z9("resize",n);var t=null;mt(function(){!window.ResizeObserver||!e||(t=new window.ResizeObserver(n),t.observe(e))}),yi(function(){var i;(i=t)===null||i===void 0||i.disconnect()})}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var PH=function(e){var t="xs";return e<768?t="xs":e>=768&&e<992?t="sm":e>=992&&e<1200?t="md":e>=1200&&e<1400?t="lg":e>=1400&&e<1880?t="xl":t="xxl",t};function U9(){var n=oe(PH(Dl?0:window.innerWidth)),e=function(){n.value=PH(Dl?0:window.innerWidth)};return z9("resize",e),n}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function kH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ux(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ghe(n,e){var t=e.justify,i=e.align;return[n,X(X({},"".concat(n,"--").concat(t),t),"".concat(n,"--align-").concat(i),i)]}function Yhe(n,e){var t={},i=function(s){return Object.assign(t,{marginLeft:"".concat(s/-2,"px"),marginRight:"".concat(s/-2,"px")})},r=function(s){return Object.assign(t,{rowGap:"".concat(s,"px")})},o={isNumber:function(s){Dn(s)&&i(s)},isArray:function(s){ut(s)&&s.length&&(o.isNumber(s[0]),Dn(s[1])&&r(s[1]),Wt(s[0])&&!Nr(s[0][e])&&i(s[0][e]),Wt(s[1])&&!Nr(s[1][e])&&r(s[1][e]))},isObject:function(s){Wt(s)&&s[e]&&(ut(s)&&s.length?(i(s[e][0]),r(s[e][1])):i(s[e]))}};return Object.keys(o).forEach(function(a){o[a](n)}),t}function Zhe(n){return Dn(n)?"".concat(n," ").concat(n," 0"):/^\d+(\.\d+)?(px|r?em|%)$/.test(n)?"0 0 ".concat(n):n}function Xhe(n,e){var t={},i=function(a){return Object.assign(t,{paddingLeft:"".concat(a/2,"px"),paddingRight:"".concat(a/2,"px")})},r={isNumber:function(a){Dn(a)&&i(a)},isArray:function(a){ut(a)&&a.length&&(Dn(a[0])&&i(a[0]),Wt(a[0])&&a[0][e]&&i(a[0][e]))},isObject:function(a){Wt(a)&&!ut(a)&&a[e]&&i(a[e])}};return Object.keys(r).forEach(function(o){r[o](n)}),t}function Jhe(n,e){var t=e.span,i=e.order,r=e.offset,o=e.push,a=e.pull,s=["xs","sm","md","lg","xl","xxl"],l=s.reduce(function(u,c){var d=e[c],f={};return Dn(d)?f.span=d:Wt(d)&&(f=d||{}),Ux(Ux({},u),{},X(X(X(X(X({},"".concat(n,"-").concat(c,"-").concat(f.span),!Nr(f.span)),"".concat(n,"-").concat(c,"-order-").concat(f.order),parseInt(f.order,10)>=0),"".concat(n,"-").concat(c,"-offset-").concat(f.offset),parseInt(f.offset,10)>=0),"".concat(n,"-").concat(c,"-push-").concat(f.push),parseInt(f.push,10)>=0),"".concat(n,"-").concat(c,"-pull-").concat(f.pull),parseInt(f.pull,10)>=0))},{});return Ux(X(X(X(X(X(X({},"".concat(n),!0),"".concat(n,"-").concat(t),!Nr(t)),"".concat(n,"-order-").concat(i),i),"".concat(n,"-offset-").concat(r),r),"".concat(n,"-push-").concat(o),o),"".concat(n,"-pull-").concat(a),a),l)}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Qhe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var eve=pe({name:"TRow",props:Khe,setup:function(e){var t=rt(e),i=t.gutter,r=ft();Xn("rowContext",$n({gutter:i}));var o=U9(),a=we("row"),s=R(function(){return Ghe(a.value,e)}),l=R(function(){return Yhe(e.gutter,o.value)});return function(){var u,c=e.tag;return x(c,{class:s.value,style:l.value},Qhe(u=r("default"))?u:{default:function(){return[u]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var tve={flex:{type:[String,Number]},lg:{type:[Number,Object]},md:{type:[Number,Object]},offset:{type:Number,default:0},order:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},sm:{type:[Number,Object]},span:{type:Number},tag:{type:String,default:"div"},xl:{type:[Number,Object]},xs:{type:[Number,Object]},xxl:{type:[Number,Object]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function nve(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var ive=pe({name:"TCol",inject:["rowContext"],props:tve,setup:function(e){var t=we("col"),i=ft(),r=bn("rowContext",Object.create(null)),o=U9(),a=R(function(){return Jhe(t.value,e)}),s=R(function(){var l={},u=e.flex;if(u&&(l.flex=Zhe(u)),r){var c=r.gutter;Object.assign(l,Xhe(c,o.value))}return l});return function(){var l,u=e.tag;return x(u,{class:a.value,style:s.value},nve(l=i("default"))?l:{default:function(){return[l]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Op=Ye(eve),xp=Ye(ive);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var rve=pe({name:"TLayout",setup:function(){var e=oe(!1),t=ft(),i=we("layout"),r=R(function(){return[i.value,X({},"".concat(i.value,"--with-sider"),e.value)]});return Xn("layout",{hasSide:e}),function(){return x("section",{class:r.value},[t("default")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ove={height:{type:String,default:""}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ave=pe({name:"THeader",props:ove,setup:function(e){var t=we("layout__header"),i=ft();return function(){return x("header",{class:t.value,style:e.height?{height:e.height}:{}},[i("default")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var sve={height:{type:String,default:""}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var lve=pe({name:"TFooter",props:sve,setup:function(e){var t=we("layout__footer"),i=ft();return function(){return x("footer",{class:t.value,style:e.height?{height:e.height}:{}},[i("default")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var uve={width:{type:String,default:""}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var cve=pe({name:"TAside",props:uve,setup:function(e){var t=bn("layout",Object.create(null)),i=t.hasSide,r=we("layout__sider"),o=ft();if(i)return mt(function(){i.value=!0}),Ea(function(){i.value=!1}),function(){var a=e.width?{width:e.width}:{};return x("aside",{class:r.value,style:a},[o("default")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var dve={content:{type:[String,Function]},default:{type:[String,Function]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var fve=pe({name:"TContent",props:dve,setup:function(){var e=we("layout__content"),t=Mn();return function(){return x("main",{class:e.value},[t("default","content")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var K9=Ye(cve),q9=Ye(rve),G9=Ye(ave),hve=Ye(lve),Y9=Ye(fve);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var vve={align:{type:String,default:"center",validator:function(e){return e?["left","right","center"].includes(e):!0}},content:{type:[String,Function]},dashed:Boolean,default:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},theme:{type:String,validator:function(e){return e?["horizontal","vertical"].includes(e):!0}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var gve=pe({name:"TDivider",props:vve,setup:function(e){var t=we("divider"),i=Mn();return function(){var r=e.layout,o=e.dashed,a=e.align,s=i("default","content"),l=["".concat(t.value),["".concat(t.value,"--").concat(r)],X(X(X({},"".concat(t.value,"--dashed"),!!o),"".concat(t.value,"--with-text"),!!s),"".concat(t.value,"--with-text-").concat(a),!!s)];return x("div",{class:l},[s&&x("span",{class:"".concat(t.value,"__inner-text")},[s])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var rk=Ye(gve);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var pve={align:{type:String,validator:function(e){return e?["start","end","center","baseline"].includes(e):!0}},breakLine:Boolean,direction:{type:String,default:"horizontal",validator:function(e){return e?["vertical","horizontal"].includes(e):!0}},separator:{type:[String,Function]},size:{type:[String,Number,Array],default:"medium"}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Rl(){var n=Ui();return function(e,t){var i,r;t||(t=n.slots);var o=((i=t)===null||i===void 0||(r=i.default)===null||r===void 0?void 0:r.call(i))||[];return T9(o).filter(function(a){var s;return(s=a.type.name)===null||s===void 0?void 0:s.endsWith(e)})}}function Z9(){var n=Ui();return function(){var e,t=n.slots,i=(t==null||(e=t.default)===null||e===void 0?void 0:e.call(t))||[];return i.filter(function(r){return kn(r.type)==="symbol"&&!r.children?!1:r.type!==Kr}).map(function(r){return r.children&&ut(r.children)&&r.type===Ft?r.children:r}).flat()}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function DH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function TH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DH(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var IH={small:"8px",medium:"16px",large:"24px"},mve=Sde(),bve=pe({name:"TSpace",props:TH(TH({},pve),{},{forceFlexGapPolyfill:Boolean}),setup:function(e){var t=we("space"),i=ft(),r=Z9(),o=R(function(){return e.forceFlexGapPolyfill||mve}),a=R(function(){var l="";ut(e.size)?l=e.size.map(function(v){return Dn(v)?"".concat(v,"px"):kt(v)&&["small","medium","large"].includes(v)?IH[v]:v}).join(" "):kt(e.size)?l=["small","medium","large"].includes(e.size)?IH[e.size]:e.size:Dn(e.size)&&(l="".concat(e.size,"px"));var u={};if(o.value){var c=l.split(" "),d=Je(c,2),f=d[0],h=d[1];u["--td-space-column-gap"]=f,u["--td-space-row-gap"]=h||f}else u.gap=l;return u});function s(){var l=r(),u=i("separator");return l.filter(function(c){return Qt(c)?c.type!==Kr:!0}).map(function(c,d){var f=d+1!==l.length&&u;return x(Ft,null,[x("div",{class:"".concat(t.value,"-item")},[c]),f&&x("div",{class:"".concat(t.value,"-item-separator")},[u])])})}return function(){var l=["".concat(t.value),X(X(X(X({},"".concat(t.value,"-align-").concat(e.align),e.align),"".concat(t.value,"-").concat(e.direction),e.direction),"".concat(t.value,"--break-line"),e.breakLine),"".concat(t.value,"--polyfill"),o.value)];return x("div",{class:l,style:a.value},[s()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Iu=Ye(bve);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var yve={bordered:Boolean,colon:Boolean,column:{type:Number,default:2},contentStyle:{type:Object},itemLayout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},items:{type:Array},labelStyle:{type:Object},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},tableLayout:{type:String,default:"fixed",validator:function(e){return e?["fixed","auto"].includes(e):!0}},title:{type:[String,Function]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var X9=Symbol("TDescriptions");/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Km=function(n){return n.props="props",n.slots="slots",n}(Km||{});function LH(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return kt(n)?n:qe(n)?n(At,e):qe(n==null?void 0:n.render)?n.render(At,e):n}function MH(n,e,t){var i,r=(i=n.props)===null||i===void 0?void 0:i[e];if(r)return r;var o=n.children,a=(o==null?void 0:o[e])||(o==null?void 0:o[t]);return a?a==null?void 0:a():null}function i0(n,e){return n===Km.props}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var _ve=pe({name:"TDescriptionsRow",props:{row:Array,itemType:String},setup:function(e){var t=bn(X9),i=we("descriptions"),r=Dt("descriptions"),o=r.globalConfig,a=R(function(){return t.layout==="horizontal"}),s=R(function(){return t.itemLayout==="horizontal"}),l=function(g){var p=["".concat(i.value,"__label")],m=null,b=null;i0(e.itemType)?(m=g.label,b=g.span):(m=MH(g,"label"),b=g.props.span);var C=a.value?s.value?1:b:1;return x("td",He({colspan:C,class:p},{style:t.labelStyle}),[m,t.colon&&o.value.colonText])},u=function(g){var p=["".concat(i.value,"__content")],m=null,b=null;i0(e.itemType)?(m=g.content,b=g.span):(m=MH(g,"content","default"),b=g.props.span);var C=a.value?b>1&&s.value?b*2-1:b:1;return x("td",He({colspan:C,class:p},{style:t.contentStyle}),[m])},c=function(){return x("tr",null,[e.row.map(function(g){return x(Ft,null,[l(g),u(g)])})])},d=function(){return x(Ft,null,[x("tr",null,[e.row.map(function(g){return l(g)})]),x("tr",null,[e.row.map(function(g){return u(g)})])])},f=function(){return x(Ft,null,[e.row.map(function(g){return x("tr",null,[l(g),u(g)])})])},h=function(){return x(Ft,null,[e.row.map(function(g){return x(Ft,null,[x("tr",null,[l(g)]),x("tr",null,[u(g)])])})])};return function(){return x(Ft,null,[a.value?s.value?c():d():s.value?f():h()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wve=pe({name:"TDescriptions",props:yve,setup:function(e){var t=we("descriptions"),i=Wn(),r=i.SIZE,o=Rl(),a=ft(),s=oe(Km.props),l=function(){var f=e.column,h=e.layout,v=[];if(ut(e.items))v=e.items.map(function(C){return{label:LH(C.label),content:LH(C.content),span:C.span||1}}),s.value=Km.props;else{var g=o("TDescriptionsItem");g.length!==0&&(v=g,s.value=Km.slots)}if(h==="vertical")return[v];var p=[],m=f,b=[];return v.forEach(function(C,O){var w=1;if(i0(s.value))w=ah(C.span)?w:C.span,w=w>f?f:w;else{var E;C.props=C.props||{},w=ah((E=C.props)===null||E===void 0?void 0:E.span)?w:C.props.span,w=w>f?f:w,C.props.span=w}m>=w?(p.push(C),m-=w):(b.push(p),p=[C],m=f-w),O===v.length-1&&(i0(s.value)?C.span+=m:C.props.span+=m,b.push(p))}),b};Xn(X9,e);var u=function(){var f=["".concat(t.value,"__body"),r.value[e.size],X({},"".concat(t.value,"__body--fixed"),e.tableLayout==="fixed"),X({},"".concat(t.value,"__body--border"),e.bordered)];return x("table",{class:f},[x("tbody",null,[l().map(function(h){return x(_ve,{"item-type":s.value,row:h},null)})])])},c=function(){var f=a("title");return f?x("div",{class:"".concat(t.value,"__header")},[f]):""};return function(){return x("div",{class:t.value},[c(),u()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Cve={content:{type:[String,Function]},default:{type:[String,Function]},label:{type:[String,Function]},span:{type:Number,default:1}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Sve=pe({name:"TDescriptionsItem",props:Cve});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var JL=Ye(wve),QL=Ye(Sve);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function AH(n,e,t,i,r,o,a){try{var s=n[o](a),l=s.value}catch(u){t(u);return}s.done?e(l):Promise.resolve(l).then(i,r)}function Vi(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function a(l){AH(o,i,r,a,s,"next",l)}function s(l){AH(o,i,r,a,s,"throw",l)}a(void 0)})}}var eM={exports:{}},J9={exports:{}};(function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(J9);(function(n){var e=J9.exports.default;function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */n.exports=t=function(){return r},n.exports.__esModule=!0,n.exports.default=n.exports;var i,r={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(U,q,Z){U[q]=Z.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(U,q,Z){return Object.defineProperty(U,q,{value:Z,enumerable:!0,configurable:!0,writable:!0}),U[q]}try{f({},"")}catch{f=function(Z,z,ie){return Z[z]=ie}}function h(U,q,Z,z){var ie=q&&q.prototype instanceof O?q:O,ee=Object.create(ie.prototype),K=new F(z||[]);return s(ee,"_invoke",{value:j(U,Z,K)}),ee}function v(U,q,Z){try{return{type:"normal",arg:U.call(q,Z)}}catch(z){return{type:"throw",arg:z}}}r.wrap=h;var g="suspendedStart",p="suspendedYield",m="executing",b="completed",C={};function O(){}function w(){}function E(){}var P={};f(P,u,function(){return this});var D=Object.getPrototypeOf,k=D&&D(D(W([])));k&&k!==o&&a.call(k,u)&&(P=k);var L=E.prototype=O.prototype=Object.create(P);function M(U){["next","throw","return"].forEach(function(q){f(U,q,function(Z){return this._invoke(q,Z)})})}function A(U,q){function Z(ie,ee,K,J){var $=v(U[ie],U,ee);if($.type!=="throw"){var Y=$.arg,te=Y.value;return te&&e(te)=="object"&&a.call(te,"__await")?q.resolve(te.__await).then(function(ae){Z("next",ae,K,J)},function(ae){Z("throw",ae,K,J)}):q.resolve(te).then(function(ae){Y.value=ae,K(Y)},function(ae){return Z("throw",ae,K,J)})}J($.arg)}var z;s(this,"_invoke",{value:function(ee,K){function J(){return new q(function($,Y){Z(ee,K,$,Y)})}return z=z?z.then(J,J):J()}})}function j(U,q,Z){var z=g;return function(ie,ee){if(z===m)throw new Error("Generator is already running");if(z===b){if(ie==="throw")throw ee;return{value:i,done:!0}}for(Z.method=ie,Z.arg=ee;;){var K=Z.delegate;if(K){var J=V(K,Z);if(J){if(J===C)continue;return J}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(z===g)throw z=b,Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);z=m;var $=v(U,q,Z);if($.type==="normal"){if(z=Z.done?b:p,$.arg===C)continue;return{value:$.arg,done:Z.done}}$.type==="throw"&&(z=b,Z.method="throw",Z.arg=$.arg)}}}function V(U,q){var Z=q.method,z=U.iterator[Z];if(z===i)return q.delegate=null,Z==="throw"&&U.iterator.return&&(q.method="return",q.arg=i,V(U,q),q.method==="throw")||Z!=="return"&&(q.method="throw",q.arg=new TypeError("The iterator does not provide a '"+Z+"' method")),C;var ie=v(z,U.iterator,q.arg);if(ie.type==="throw")return q.method="throw",q.arg=ie.arg,q.delegate=null,C;var ee=ie.arg;return ee?ee.done?(q[U.resultName]=ee.value,q.next=U.nextLoc,q.method!=="return"&&(q.method="next",q.arg=i),q.delegate=null,C):ee:(q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,C)}function H(U){var q={tryLoc:U[0]};1 in U&&(q.catchLoc=U[1]),2 in U&&(q.finallyLoc=U[2],q.afterLoc=U[3]),this.tryEntries.push(q)}function N(U){var q=U.completion||{};q.type="normal",delete q.arg,U.completion=q}function F(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(H,this),this.reset(!0)}function W(U){if(U||U===""){var q=U[u];if(q)return q.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var Z=-1,z=function ie(){for(;++Z<U.length;)if(a.call(U,Z))return ie.value=U[Z],ie.done=!1,ie;return ie.value=i,ie.done=!0,ie};return z.next=z}}throw new TypeError(e(U)+" is not iterable")}return w.prototype=E,s(L,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,d,"GeneratorFunction"),r.isGeneratorFunction=function(U){var q=typeof U=="function"&&U.constructor;return!!q&&(q===w||(q.displayName||q.name)==="GeneratorFunction")},r.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,E):(U.__proto__=E,f(U,d,"GeneratorFunction")),U.prototype=Object.create(L),U},r.awrap=function(U){return{__await:U}},M(A.prototype),f(A.prototype,c,function(){return this}),r.AsyncIterator=A,r.async=function(U,q,Z,z,ie){ie===void 0&&(ie=Promise);var ee=new A(h(U,q,Z,z),ie);return r.isGeneratorFunction(q)?ee:ee.next().then(function(K){return K.done?K.value:ee.next()})},M(L),f(L,d,"Generator"),f(L,u,function(){return this}),f(L,"toString",function(){return"[object Generator]"}),r.keys=function(U){var q=Object(U),Z=[];for(var z in q)Z.push(z);return Z.reverse(),function ie(){for(;Z.length;){var ee=Z.pop();if(ee in q)return ie.value=ee,ie.done=!1,ie}return ie.done=!0,ie}},r.values=W,F.prototype={constructor:F,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(N),!q)for(var Z in this)Z.charAt(0)==="t"&&a.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=i)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var Z=this;function z(Y,te){return K.type="throw",K.arg=q,Z.next=Y,te&&(Z.method="next",Z.arg=i),!!te}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var ee=this.tryEntries[ie],K=ee.completion;if(ee.tryLoc==="root")return z("end");if(ee.tryLoc<=this.prev){var J=a.call(ee,"catchLoc"),$=a.call(ee,"finallyLoc");if(J&&$){if(this.prev<ee.catchLoc)return z(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return z(ee.finallyLoc)}else if(J){if(this.prev<ee.catchLoc)return z(ee.catchLoc,!0)}else{if(!$)throw new Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return z(ee.finallyLoc)}}}},abrupt:function(q,Z){for(var z=this.tryEntries.length-1;z>=0;--z){var ie=this.tryEntries[z];if(ie.tryLoc<=this.prev&&a.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var ee=ie;break}}ee&&(q==="break"||q==="continue")&&ee.tryLoc<=Z&&Z<=ee.finallyLoc&&(ee=null);var K=ee?ee.completion:{};return K.type=q,K.arg=Z,ee?(this.method="next",this.next=ee.finallyLoc,C):this.complete(K)},complete:function(q,Z){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&Z&&(this.next=Z),C},finish:function(q){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var z=this.tryEntries[Z];if(z.finallyLoc===q)return this.complete(z.completion,z.afterLoc),N(z),C}},catch:function(q){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var z=this.tryEntries[Z];if(z.tryLoc===q){var ie=z.completion;if(ie.type==="throw"){var ee=ie.arg;N(z)}return ee}}throw new Error("illegal catch attempt")},delegateYield:function(q,Z,z){return this.delegate={iterator:W(q),resultName:Z,nextLoc:z},this.method==="next"&&(this.arg=i),C}},r}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(eM);eM.exports;var Jw=eM.exports(),dn=Jw;try{regeneratorRuntime=Jw}catch{(typeof globalThis>"u"?"undefined":kn(globalThis))==="object"?globalThis.regeneratorRuntime=Jw:Function("r","regeneratorRuntime = r")(Jw)}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ove={container:{type:[String,Function],default:function(){return function(){return window}}},content:{type:[String,Function]},default:{type:[String,Function]},offsetBottom:{type:Number,default:0},offsetTop:{type:Number,default:0},zIndex:{type:Number},onFixedChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var xve=pe({name:"TAffix",props:Ove,emits:["fixedChange"],setup:function(e,t){var i,r=we("affix"),o=ft(),a=oe(null),s=oe(null),l=oe((i=document)===null||i===void 0?void 0:i.createElement("div")),u=oe(!1),c=oe(!1),d=oe(),f=oe(),h=0,v=function(){u.value||(h=window.requestAnimationFrame(function(){var b,C;h=0;var O=(b=(C=a.value)===null||C===void 0?void 0:C.getBoundingClientRect())!==null&&b!==void 0?b:{top:0,width:0,height:0},w=O.top,E=O.width,P=O.height,D=0;d.value instanceof HTMLElement&&(D=d.value.getBoundingClientRect().top);var k,L=w-D,M=d.value[d.value instanceof Window?"innerHeight":"clientHeight"]-P,A=D+M-e.offsetBottom;if(!Nr(e.offsetTop)&&L<=e.offsetTop?k=D+e.offsetTop:!Nr(e.offsetBottom)&&w>=A?k=A:k=!1,s.value){var j=k!==!1,V=a.value.contains(l.value);j?(s.value.className=r.value,f.value={top:"".concat(k,"px"),width:"".concat(E,"px"),height:"".concat(P,"px"),zIndex:e.zIndex},V||(l.value.style.width="".concat(E,"px"),l.value.style.height="".concat(P,"px"),a.value.appendChild(l.value))):(s.value.removeAttribute("class"),f.value=void 0,V&&l.value.remove()),t.emit("fixedChange",j,{top:Number(k)}),qe(e.onFixedChange)&&e.onFixedChange(j,{top:Number(k)})}u.value=!1}),u.value=!0)},g=function(){var m=Vi(dn.mark(function b(){return dn.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,tn();case 2:if(!c.value){O.next=4;break}return O.abrupt("return");case 4:d.value=O9(e.container),ai(d.value,"scroll",v),ai(window,"resize",v),c.value=!0;case 8:case"end":return O.stop()}},b)}));return function(){return m.apply(this,arguments)}}(),p=function(){!d.value||!c.value||(Tn(d.value,"scroll",v),Tn(window,"resize",v),h&&window.cancelAnimationFrame(h),c.value=!1)};return Pe(function(){return e.offsetTop},function(){v()}),Pe(function(){return e.offsetBottom},function(){v()}),Pe(function(){return e.zIndex},function(){v()}),mt(g),fz(g),hz(p),yi(p),t.expose({scrollContainer:d,affixWrapRef:a,handleScroll:v}),function(){return x("div",{ref:a},[x("div",{ref:s,style:f.value},[o("default")])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Nv=Ye(xve);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Q9={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(n,e){(function(i,r){n.exports=r()})(Jo,function(){return function(){var t={686:function(a,s,l){l.d(s,{default:function(){return z}});var u=l(279),c=l.n(u),d=l(370),f=l.n(d),h=l(817),v=l.n(h);function g(ie){try{return document.execCommand(ie)}catch{return!1}}var p=function(ee){var K=v()(ee);return g("cut"),K},m=p;function b(ie){var ee=document.documentElement.getAttribute("dir")==="rtl",K=document.createElement("textarea");K.style.fontSize="12pt",K.style.border="0",K.style.padding="0",K.style.margin="0",K.style.position="absolute",K.style[ee?"right":"left"]="-9999px";var J=window.pageYOffset||document.documentElement.scrollTop;return K.style.top="".concat(J,"px"),K.setAttribute("readonly",""),K.value=ie,K}var C=function(ee,K){var J=b(ee);K.container.appendChild(J);var $=v()(J);return g("copy"),J.remove(),$},O=function(ee){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},J="";return typeof ee=="string"?J=C(ee,K):ee instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(ee==null?void 0:ee.type)?J=C(ee.value,K):(J=v()(ee),g("copy")),J},w=O;function E(ie){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(K){return typeof K}:E=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},E(ie)}var P=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=ee.action,J=K===void 0?"copy":K,$=ee.container,Y=ee.target,te=ee.text;if(J!=="copy"&&J!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Y!==void 0)if(Y&&E(Y)==="object"&&Y.nodeType===1){if(J==="copy"&&Y.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(J==="cut"&&(Y.hasAttribute("readonly")||Y.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(te)return w(te,{container:$});if(Y)return J==="cut"?m(Y):w(Y,{container:$})},D=P;function k(ie){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(K){return typeof K}:k=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},k(ie)}function L(ie,ee){if(!(ie instanceof ee))throw new TypeError("Cannot call a class as a function")}function M(ie,ee){for(var K=0;K<ee.length;K++){var J=ee[K];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(ie,J.key,J)}}function A(ie,ee,K){return ee&&M(ie.prototype,ee),K&&M(ie,K),ie}function j(ie,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(ee&&ee.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),ee&&V(ie,ee)}function V(ie,ee){return V=Object.setPrototypeOf||function(J,$){return J.__proto__=$,J},V(ie,ee)}function H(ie){var ee=W();return function(){var J=U(ie),$;if(ee){var Y=U(this).constructor;$=Reflect.construct(J,arguments,Y)}else $=J.apply(this,arguments);return N(this,$)}}function N(ie,ee){return ee&&(k(ee)==="object"||typeof ee=="function")?ee:F(ie)}function F(ie){if(ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function U(ie){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)},U(ie)}function q(ie,ee){var K="data-clipboard-".concat(ie);if(ee.hasAttribute(K))return ee.getAttribute(K)}var Z=function(ie){j(K,ie);var ee=H(K);function K(J,$){var Y;return L(this,K),Y=ee.call(this),Y.resolveOptions($),Y.listenClick(J),Y}return A(K,[{key:"resolveOptions",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof $.action=="function"?$.action:this.defaultAction,this.target=typeof $.target=="function"?$.target:this.defaultTarget,this.text=typeof $.text=="function"?$.text:this.defaultText,this.container=k($.container)==="object"?$.container:document.body}},{key:"listenClick",value:function($){var Y=this;this.listener=f()($,"click",function(te){return Y.onClick(te)})}},{key:"onClick",value:function($){var Y=$.delegateTarget||$.currentTarget,te=this.action(Y)||"copy",ae=D({action:te,container:this.container,target:this.target(Y),text:this.text(Y)});this.emit(ae?"success":"error",{action:te,text:ae,trigger:Y,clearSelection:function(){Y&&Y.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function($){return q("action",$)}},{key:"defaultTarget",value:function($){var Y=q("target",$);if(Y)return document.querySelector(Y)}},{key:"defaultText",value:function($){return q("text",$)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function($){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return w($,Y)}},{key:"cut",value:function($){return m($)}},{key:"isSupported",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Y=typeof $=="string"?[$]:$,te=!!document.queryCommandSupported;return Y.forEach(function(ae){te=te&&!!document.queryCommandSupported(ae)}),te}}]),K}(c()),z=Z},828:function(a){var s=9;if(typeof Element<"u"&&!Element.prototype.matches){var l=Element.prototype;l.matches=l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector}function u(c,d){for(;c&&c.nodeType!==s;){if(typeof c.matches=="function"&&c.matches(d))return c;c=c.parentNode}}a.exports=u},438:function(a,s,l){var u=l(828);function c(h,v,g,p,m){var b=f.apply(this,arguments);return h.addEventListener(g,b,m),{destroy:function(){h.removeEventListener(g,b,m)}}}function d(h,v,g,p,m){return typeof h.addEventListener=="function"?c.apply(null,arguments):typeof g=="function"?c.bind(null,document).apply(null,arguments):(typeof h=="string"&&(h=document.querySelectorAll(h)),Array.prototype.map.call(h,function(b){return c(b,v,g,p,m)}))}function f(h,v,g,p){return function(m){m.delegateTarget=u(m.target,v),m.delegateTarget&&p.call(h,m)}}a.exports=d},879:function(a,s){s.node=function(l){return l!==void 0&&l instanceof HTMLElement&&l.nodeType===1},s.nodeList=function(l){var u=Object.prototype.toString.call(l);return l!==void 0&&(u==="[object NodeList]"||u==="[object HTMLCollection]")&&"length"in l&&(l.length===0||s.node(l[0]))},s.string=function(l){return typeof l=="string"||l instanceof String},s.fn=function(l){var u=Object.prototype.toString.call(l);return u==="[object Function]"}},370:function(a,s,l){var u=l(879),c=l(438);function d(g,p,m){if(!g&&!p&&!m)throw new Error("Missing required arguments");if(!u.string(p))throw new TypeError("Second argument must be a String");if(!u.fn(m))throw new TypeError("Third argument must be a Function");if(u.node(g))return f(g,p,m);if(u.nodeList(g))return h(g,p,m);if(u.string(g))return v(g,p,m);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(g,p,m){return g.addEventListener(p,m),{destroy:function(){g.removeEventListener(p,m)}}}function h(g,p,m){return Array.prototype.forEach.call(g,function(b){b.addEventListener(p,m)}),{destroy:function(){Array.prototype.forEach.call(g,function(C){C.removeEventListener(p,m)})}}}function v(g,p,m){return c(document.body,g,p,m)}a.exports=d},817:function(a){function s(l){var u;if(l.nodeName==="SELECT")l.focus(),u=l.value;else if(l.nodeName==="INPUT"||l.nodeName==="TEXTAREA"){var c=l.hasAttribute("readonly");c||l.setAttribute("readonly",""),l.select(),l.setSelectionRange(0,l.value.length),c||l.removeAttribute("readonly"),u=l.value}else{l.hasAttribute("contenteditable")&&l.focus();var d=window.getSelection(),f=document.createRange();f.selectNodeContents(l),d.removeAllRanges(),d.addRange(f),u=d.toString()}return u}a.exports=s},279:function(a){function s(){}s.prototype={on:function(u,c,d){var f=this.e||(this.e={});return(f[u]||(f[u]=[])).push({fn:c,ctx:d}),this},once:function(u,c,d){var f=this;function h(){f.off(u,h),c.apply(d,arguments)}return h._=c,this.on(u,h,d)},emit:function(u){var c=[].slice.call(arguments,1),d=((this.e||(this.e={}))[u]||[]).slice(),f=0,h=d.length;for(f;f<h;f++)d[f].fn.apply(d[f].ctx,c);return this},off:function(u,c){var d=this.e||(this.e={}),f=d[u],h=[];if(f&&c)for(var v=0,g=f.length;v<g;v++)f[v].fn!==c&&f[v].fn._!==c&&h.push(f[v]);return h.length?d[u]=h:delete d[u],this}},a.exports=s,a.exports.TinyEmitter=s}},i={};function r(o){if(i[o])return i[o].exports;var a=i[o]={exports:{}};return t[o](a,a.exports,r),a.exports}return function(){r.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(a,{a}),a}}(),function(){r.d=function(o,a){for(var s in a)r.o(a,s)&&!r.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:a[s]})}}(),function(){r.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}(),r(686)}().default})})(Q9);var Eve=qy(Q9.exports);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ok=/#(\S+)$/;function RH(n,e){var t=n.getBoundingClientRect(),i=t.top;return e===window?i-document.documentElement.clientTop:i-e.getBoundingClientRect().top}function Pve(n){var e=document.createElement("div"),t=new Eve(e,{text:function(){return n}});e.click(),t.destroy(),e.remove()}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var kve={affixProps:{type:Object},bounds:{type:Number,default:5},container:{type:[String,Function],default:function(){return function(){return window}}},cursor:{type:Function},size:{type:String,default:"medium",validator:function(e){return["small","medium","large"].includes(e)}},targetOffset:{type:Number,default:0},onChange:Function,onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var eU=Symbol("AnchorInjectionProvide");/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Dve(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var Tve=pe({name:"TAnchor",inheritAttrs:!1,props:kve,setup:function(e,t){var i=t.attrs,r=oe(null),o=oe([]),a=oe(""),s=oe(null),l=oe(!1),u=$n({}),c=we("anchor"),d=we("anchor__line"),f=we("anchor__line-cursor"),h=Wn(),v=h.STATUS,g=h.SIZE,p=ft(),m=function(){if(!Dl){var A=e.container;s.value=O9(A),ai(s.value,"scroll",b),b()}},b=function(){if(!l.value){var A=e.bounds,j=e.targetOffset,V=[],H="";if(o.value.forEach(function(F){var W=C(F);if(W){var U=RH(W,s.value);U<A+j&&V.push({link:F,top:U})}}),V.length){var N=V.reduce(function(F,W){return F.top>W.top?F:W});H=N.link}E(H)}},C=function(A){var j=A.match(ok);if(j){var V=document.getElementById(j[1]);if(V)return V}},O=function(A){!ok.test(A)||o.value.indexOf(A)!==-1||o.value.push(A)},w=function(A){o.value=o.value.filter(function(j){return j!==A})},E=function(){var M=Vi(dn.mark(function A(j){var V;return dn.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(a.value!==j){N.next=2;break}return N.abrupt("return");case 2:return a.value=j,(V=e.onChange)===null||V===void 0||V.call(e,j,a.value),N.next=6,tn();case 6:P();case 7:case"end":return N.stop()}},A)}));return function(j){return M.apply(this,arguments)}}(),P=function(){var A,j=(A=r.value)===null||A===void 0?void 0:A.querySelector(".".concat(v.value.active,">a"));if(!j){Object.assign(u,{});return}var V=j.offsetTop,H=j.offsetHeight;Object.assign(u,{top:"".concat(V,"px"),height:"".concat(H,"px"),opacity:1})},D=function(A){var j;(j=e.onClick)===null||j===void 0||j.call(e,A)},k=function(){var M=Vi(dn.mark(function A(j){var V,H,N,F,W;return dn.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(V=C(j),E(j),V){q.next=4;break}return q.abrupt("return");case 4:return l.value=!0,H=e.targetOffset,N=E9(s.value),F=RH(V,s.value),W=N+F-H,q.next=11,UL(W,{container:s.value});case 11:l.value=!1;case 12:case"end":return q.stop()}},A)}));return function(j){return M.apply(this,arguments)}}(),L=function(){var A=p("cursor");return A||x("div",{class:f.value},null)};return mt(Vi(dn.mark(function M(){return dn.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(m(),!a.value){j.next=5;break}return j.next=4,tn();case 4:k(a.value);case 5:case"end":return j.stop()}},M)}))),Ea(function(){s.value&&Tn(s.value,"scroll",b)}),od(function(){s.value&&Tn(s.value,"scroll",b),m()}),Xn(eU,$n({registerLink:O,unregisterLink:w,handleScrollTo:k,handleLinkClick:D,active:a})),function(){var M=e.size,A=e.affixProps,j=[c.value,g.value[M]],V=x("div",He({ref:r,class:j},i),[x("div",{class:d.value},[x("div",{class:"".concat(f.value,"-wrapper"),style:u},[L()])]),p("default")]);return A?x(Nv,A,Dve(V)?V:{default:function(){return[V]}}):V}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ive={href:{type:String,default:"",required:!0},target:{type:String,default:"_self",validator:function(e){return["_self","_blank","_parent","_top"].includes(e)}},title:{type:[String,Function],default:""},customScroll:{type:Boolean,default:!1}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function NH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function FH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NH(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Lve=FH(FH({},Ive),{},{href:{type:String,required:!0,validator:function(e){return ok.test(e)}}}),Mve=pe({name:"TAnchorItem",inject:{tAnchor:{default:void 0}},props:Lve,setup:function(e,t){var i=t.slots,r=bn(eU,void 0),o=we("anchor__item"),a=Wn(),s=a.STATUS,l=function(){r.registerLink(e.href)},u=function(){var h=e.href;h&&r.unregisterLink(h)},c=function(h){var v=e.href,g=e.title;e.customScroll||r.handleScrollTo(v),r.handleLinkClick({href:v,title:kt(g)?g:void 0,e:h})},d=function(){var h=e.title,v=i.title,g;return kt(h)?g=h:qe(h)?g=h(At):v&&(g=v(null)),g};return Pe(function(){return e.href},function(){u(),l()},{immediate:!0}),mt(function(){l()}),Ea(function(){u()}),function(){var f=e.href,h=e.target,v=i.default,g=i.title,p=d(),m=kt(p)?p:null,b=r.active===f,C=X(X({},o.value,!0),s.value.active,b),O=X({},"".concat(o.value,"-link"),!0);return x("div",{class:C},[x("a",{href:f,title:m,class:O,target:h,onClick:c},[g?g(null):p]),v&&v(null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ave=["info","success","warning","error","question","loading"],Ma="32px",tU={top:{top:Ma,left:"50%",transform:"translateX(-50%)"},center:{left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"},left:{left:Ma,top:"50%",transform:"translateY(-50%)"},bottom:{bottom:Ma,left:"50%",transform:"translateX(-50%)"},right:{right:Ma,top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"flex-end"},"top-left":{left:Ma,top:Ma},"top-right":{right:Ma,top:Ma,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-right":{right:Ma,bottom:Ma,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-left":{left:Ma,bottom:Ma}},nU=Object.keys(tU);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Rve={closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},duration:{type:Number,default:3e3},icon:{type:[Boolean,Function],default:!0},theme:{type:String,default:"info",validator:function(e){return e?["info","success","warning","error","question","loading"].includes(e):!0}},onClose:Function,onCloseBtnClick:Function,onDurationEnd:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function On(n){var e=Dt("icon"),t=e.globalConfig,i={};return Object.keys(n).forEach(function(r){var o;i[r]=((o=t.value)===null||o===void 0?void 0:o[r])||n[r]}),i}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var iU={duration:200,easing:"linear"};function Nve(n,e){if(n){var t=(n==null?void 0:n.offsetWidth)||0,i=(n==null?void 0:n.offsetHeight)||0,r=jve(e,t,i);if(r){var o=r[r.length-1];rU(n,o),n.animate&&n.animate(r,iU)}}}function Fve(n,e,t){if(n){var i=(n==null?void 0:n.offsetHeight)||0,r=Hve(e,i);if(!r)return t();var o=r[r.length-1];rU(n,o);var a=n.animate&&n.animate(r,iU);a?a.onfinish=function(){n.style.display="none",t()}:(n.style.display="none",t())}}function rU(n,e){for(var t=Object.keys(e),i=0;i<t.length;i+=1){var r=t[i];n.style[r]=e[r]}}function jve(n,e,t){if(!nU.includes(n))return null;if(["top-left","left","bottom-left"].includes(n))return[{opacity:0,marginLeft:"-".concat(e,"px")},{opacity:1,marginLeft:"0"}];if(["top-right","right","bottom-right"].includes(n))return[{opacity:0,marginRight:"-".concat(e,"px")},{opacity:1,marginRight:"0"}];if(["top","center"].includes(n))return[{opacity:0,marginTop:"-".concat(t,"px")},{opacity:1,marginTop:"0"}];if(["bottom"].includes(n))return[{opacity:0,transform:"translate3d(0, ".concat(t,"px, 0)")},{opacity:1,transform:"translate3d(0, 0, 0)"}]}function Hve(n,e){if(!nU.includes(n))return null;if(["bottom-left","bottom","bottom-right"].includes(n)){var t="".concat(e,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:t}]}var i="-".concat(e,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:i}]}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function jH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function HH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jH(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var oU=pe({name:"TMessage",props:HH(HH({},Rve),{},{placement:String}),setup:function(e,t){var i=t.slots,r=t.expose,o=we("message"),a=On({InfoCircleFilledIcon:Gy,CheckCircleFilledIcon:Yu,ErrorCircleFilledIcon:Al,HelpCircleFilledIcon:j9,CloseIcon:js}),s=a.InfoCircleFilledIcon,l=a.CheckCircleFilledIcon,u=a.ErrorCircleFilledIcon,c=a.HelpCircleFilledIcon,d=a.CloseIcon,f=we(),h=ft(),v=Mn(),g=oe(null),p=oe(null),m=R(function(){var P={};return Ave.forEach(function(D){return P["".concat(f.value,"-is-").concat(D)]=e.theme===D}),[o.value,P,X({},"".concat(f.value,"-is-closable"),e.closeBtn||i.closeBtn)]}),b=function(D){var k,L;(k=e.onClose)===null||k===void 0||k.call(e,{trigger:"close-click",e:D}),(L=e.onCloseBtnClick)===null||L===void 0||L.call(e,{e:D})},C=function(){e.duration&&clearTimeout(p.value)},O=function(){e.duration&&(p.value=Number(setTimeout(function(){C();var D=g.value;Fve(D,e.placement,function(){var k,L;(k=e.onClose)===null||k===void 0||k.call(e,{trigger:"duration-end"}),(L=e.onDurationEnd)===null||L===void 0||L.call(e)})},e.duration)))},w=function(){var D=x(d,null,null);return x("span",{class:"".concat(o.value,"__close"),onClick:b},[h("closeBtn",D)])},E=function(){if(e.icon!==!1){if(qe(e.icon))return e.icon(At);if(i.icon)return i.icon(null);var D={info:s,success:l,warning:u,error:u,question:c,loading:ar}[e.theme];return x(D,null,null)}};return $1(function(){e.duration&&O()}),mt(function(){var P=g.value;Nve(P,e.placement)}),r({close:b}),function(){return x("div",{ref:g,class:m.value,onMouseenter:C,onMouseleave:O},[E(),v("content","default"),w()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function BH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BH(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ak=6e3,Bve=function(){var n=0;return function(){return n+=1,n}}(),$ve=pe({name:"TMessageList",props:{zIndex:{type:Number,default:0},placement:{type:String,default:""}},setup:function(e,t){var i=t.expose,r=we("message__list"),o=oe([]),a=oe([]),s=R(function(){return Gh(Gh({},tU[e.placement]),{},{zIndex:e.zIndex!==ak?e.zIndex:ak})}),l=function(p){var m=Gh(Gh({},p),{},{key:Bve()});return o.value.push(m),m.key},u=function(p){o.value.splice(p,1)},c=function(){o.value=[]},d=function(p){if(p)return isNaN(Number(p))?p:"".concat(p,"px")},f=function(p){return p.offset&&{position:"relative",left:d(p.offset[0]),top:d(p.offset[1])}},h=function(p,m){return Gh(Gh({},m),{},{onCloseBtnClick:function(C){return m.onCloseBtnClick&&m.onCloseBtnClick(C),u(p)},onDurationEnd:function(){return m.onDurationEnd&&m.onDurationEnd(),u(p)}})},v=function(p){p&&a.value.push(p)};return i({add:l,removeAll:c,list:o,messageList:a}),function(){if(o.value.length)return x("div",{class:r.value,style:s.value},[o.value.map(function(g,p){return x(oU,He({key:g.key,style:f(g),ref:v},h(p,g)),null)})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function $H(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$H(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$H(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Zd=new Map;function Vve(n){var e=sk({duration:3e3,attach:"body",zIndex:ak,placement:"top"},n);return e.content=n.content,e}var Wve=function(e){var t=Vve(e),i=t.attach,r=t.placement,o=Lh(i);Zd.get(o)||Zd.set(o,{});var a=Zd.get(o)[r],s;if(a)s=a.add(t);else{var l=document.createElement("div"),u=gp($ve,{zIndex:t.zIndex,placement:t.placement}).mount(l);s=u.add(t),Zd.get(o)[r]=u,o.appendChild(l)}return new Promise(function(c){var d=Zd.get(o)[r];tn(function(){var f=d.messageList;c(f==null?void 0:f.find(function(h){var v;return((v=h.$)===null||v===void 0||(v=v.vnode)===null||v===void 0?void 0:v.key)===s}))})})},_c=function(e,t,i){var r={theme:e};return kt(t)?r.content=t:Wt(t)&&!(t instanceof Array)&&(r=sk(sk({},r),t)),(i||i===0)&&(r.duration=i),Wve(r)},r0={info:function(e,t){return _c("info",e,t)},success:function(e,t){return _c("success",e,t)},warning:function(e,t){return _c("warning",e,t)},error:function(e,t){return _c("error",e,t)},question:function(e,t){return _c("question",e,t)},loading:function(e,t){return _c("loading",e,t)},close:function(e){e.then(function(t){return t==null?void 0:t.close()})},closeAll:function(){Zd instanceof Map&&Zd.forEach(function(e){Object.keys(e).forEach(function(t){var i=e[t];i.list=[]})})}},vO=_c;vO.install=function(n){n.config.globalProperties.$message=_c,Object.keys(r0).forEach(function(e){n.config.globalProperties.$message[e]=r0[e]})};Object.keys(r0).forEach(function(n){vO[n]=r0[n]});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var zve={id:{type:String,default:"",required:!0},tag:{type:String,default:"div"}},Ko="top",os="bottom",as="right",qo="left",tM="auto",Zy=[Ko,os,as,qo],Lg="start",Vb="end",Uve="clippingParents",aU="viewport",Jp="popper",Kve="reference",VH=Zy.reduce(function(n,e){return n.concat([e+"-"+Lg,e+"-"+Vb])},[]),sU=[].concat(Zy,[tM]).reduce(function(n,e){return n.concat([e,e+"-"+Lg,e+"-"+Vb])},[]),qve="beforeRead",Gve="read",Yve="afterRead",Zve="beforeMain",Xve="main",Jve="afterMain",Qve="beforeWrite",ege="write",tge="afterWrite",nge=[qve,Gve,Yve,Zve,Xve,Jve,Qve,ege,tge];function Tl(n){return n?(n.nodeName||"").toLowerCase():null}function Sa(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function uh(n){var e=Sa(n).Element;return n instanceof e||n instanceof Element}function Qa(n){var e=Sa(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function nM(n){if(typeof ShadowRoot>"u")return!1;var e=Sa(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function ige(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!Qa(o)||!Tl(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(a){var s=r[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function rge(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),s=a.reduce(function(l,u){return l[u]="",l},{});!Qa(r)||!Tl(r)||(Object.assign(r.style,s),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}const oge={name:"applyStyles",enabled:!0,phase:"write",fn:ige,effect:rge,requires:["computeStyles"]};function yl(n){return n.split("-")[0]}var cf=Math.max,o0=Math.min,Mg=Math.round;function lk(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function lU(){return!/^((?!chrome|android).)*safari/i.test(lk())}function Ag(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,o=1;e&&Qa(n)&&(r=n.offsetWidth>0&&Mg(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Mg(i.height)/n.offsetHeight||1);var a=uh(n)?Sa(n):window,s=a.visualViewport,l=!lU()&&t,u=(i.left+(l&&s?s.offsetLeft:0))/r,c=(i.top+(l&&s?s.offsetTop:0))/o,d=i.width/r,f=i.height/o;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function iM(n){var e=Ag(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function uU(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&nM(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Lu(n){return Sa(n).getComputedStyle(n)}function age(n){return["table","td","th"].indexOf(Tl(n))>=0}function wd(n){return((uh(n)?n.ownerDocument:n.document)||window.document).documentElement}function gO(n){return Tl(n)==="html"?n:n.assignedSlot||n.parentNode||(nM(n)?n.host:null)||wd(n)}function WH(n){return!Qa(n)||Lu(n).position==="fixed"?null:n.offsetParent}function sge(n){var e=/firefox/i.test(lk()),t=/Trident/i.test(lk());if(t&&Qa(n)){var i=Lu(n);if(i.position==="fixed")return null}var r=gO(n);for(nM(r)&&(r=r.host);Qa(r)&&["html","body"].indexOf(Tl(r))<0;){var o=Lu(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Xy(n){for(var e=Sa(n),t=WH(n);t&&age(t)&&Lu(t).position==="static";)t=WH(t);return t&&(Tl(t)==="html"||Tl(t)==="body"&&Lu(t).position==="static")?e:t||sge(n)||e}function rM(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function qm(n,e,t){return cf(n,o0(e,t))}function lge(n,e,t){var i=qm(n,e,t);return i>t?t:i}function cU(){return{top:0,right:0,bottom:0,left:0}}function dU(n){return Object.assign({},cU(),n)}function fU(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var uge=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,dU(typeof e!="number"?e:fU(e,Zy))};function cge(n){var e,t=n.state,i=n.name,r=n.options,o=t.elements.arrow,a=t.modifiersData.popperOffsets,s=yl(t.placement),l=rM(s),u=[qo,as].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var d=uge(r.padding,t),f=iM(o),h=l==="y"?Ko:qo,v=l==="y"?os:as,g=t.rects.reference[c]+t.rects.reference[l]-a[l]-t.rects.popper[c],p=a[l]-t.rects.reference[l],m=Xy(o),b=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,C=g/2-p/2,O=d[h],w=b-f[c]-d[v],E=b/2-f[c]/2+C,P=qm(O,E,w),D=l;t.modifiersData[i]=(e={},e[D]=P,e.centerOffset=P-E,e)}}function dge(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||uU(e.elements.popper,r)&&(e.elements.arrow=r))}const fge={name:"arrow",enabled:!0,phase:"main",fn:cge,effect:dge,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rg(n){return n.split("-")[1]}var hge={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vge(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:Mg(t*r)/r||0,y:Mg(i*r)/r||0}}function zH(n){var e,t=n.popper,i=n.popperRect,r=n.placement,o=n.variation,a=n.offsets,s=n.position,l=n.gpuAcceleration,u=n.adaptive,c=n.roundOffsets,d=n.isFixed,f=a.x,h=f===void 0?0:f,v=a.y,g=v===void 0?0:v,p=typeof c=="function"?c({x:h,y:g}):{x:h,y:g};h=p.x,g=p.y;var m=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),C=qo,O=Ko,w=window;if(u){var E=Xy(t),P="clientHeight",D="clientWidth";if(E===Sa(t)&&(E=wd(t),Lu(E).position!=="static"&&s==="absolute"&&(P="scrollHeight",D="scrollWidth")),E=E,r===Ko||(r===qo||r===as)&&o===Vb){O=os;var k=d&&E===w&&w.visualViewport?w.visualViewport.height:E[P];g-=k-i.height,g*=l?1:-1}if(r===qo||(r===Ko||r===os)&&o===Vb){C=as;var L=d&&E===w&&w.visualViewport?w.visualViewport.width:E[D];h-=L-i.width,h*=l?1:-1}}var M=Object.assign({position:s},u&&hge),A=c===!0?vge({x:h,y:g},Sa(t)):{x:h,y:g};if(h=A.x,g=A.y,l){var j;return Object.assign({},M,(j={},j[O]=b?"0":"",j[C]=m?"0":"",j.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",j))}return Object.assign({},M,(e={},e[O]=b?g+"px":"",e[C]=m?h+"px":"",e.transform="",e))}function gge(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,o=t.adaptive,a=o===void 0?!0:o,s=t.roundOffsets,l=s===void 0?!0:s,u={placement:yl(e.placement),variation:Rg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zH(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zH(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const pge={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gge,data:{}};var H_={passive:!0};function mge(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,a=i.resize,s=a===void 0?!0:a,l=Sa(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",t.update,H_)}),s&&l.addEventListener("resize",t.update,H_),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",t.update,H_)}),s&&l.removeEventListener("resize",t.update,H_)}}const bge={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mge,data:{}};var yge={left:"right",right:"left",bottom:"top",top:"bottom"};function Qw(n){return n.replace(/left|right|bottom|top/g,function(e){return yge[e]})}var _ge={start:"end",end:"start"};function UH(n){return n.replace(/start|end/g,function(e){return _ge[e]})}function oM(n){var e=Sa(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function aM(n){return Ag(wd(n)).left+oM(n).scrollLeft}function wge(n,e){var t=Sa(n),i=wd(n),r=t.visualViewport,o=i.clientWidth,a=i.clientHeight,s=0,l=0;if(r){o=r.width,a=r.height;var u=lU();(u||!u&&e==="fixed")&&(s=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:s+aM(n),y:l}}function Cge(n){var e,t=wd(n),i=oM(n),r=(e=n.ownerDocument)==null?void 0:e.body,o=cf(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=cf(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-i.scrollLeft+aM(n),l=-i.scrollTop;return Lu(r||t).direction==="rtl"&&(s+=cf(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function sM(n){var e=Lu(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function hU(n){return["html","body","#document"].indexOf(Tl(n))>=0?n.ownerDocument.body:Qa(n)&&sM(n)?n:hU(gO(n))}function Gm(n,e){var t;e===void 0&&(e=[]);var i=hU(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),o=Sa(i),a=r?[o].concat(o.visualViewport||[],sM(i)?i:[]):i,s=e.concat(a);return r?s:s.concat(Gm(gO(a)))}function uk(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Sge(n,e){var t=Ag(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function KH(n,e,t){return e===aU?uk(wge(n,t)):uh(e)?Sge(e,t):uk(Cge(wd(n)))}function Oge(n){var e=Gm(gO(n)),t=["absolute","fixed"].indexOf(Lu(n).position)>=0,i=t&&Qa(n)?Xy(n):n;return uh(i)?e.filter(function(r){return uh(r)&&uU(r,i)&&Tl(r)!=="body"}):[]}function xge(n,e,t,i){var r=e==="clippingParents"?Oge(n):[].concat(e),o=[].concat(r,[t]),a=o[0],s=o.reduce(function(l,u){var c=KH(n,u,i);return l.top=cf(c.top,l.top),l.right=o0(c.right,l.right),l.bottom=o0(c.bottom,l.bottom),l.left=cf(c.left,l.left),l},KH(n,a,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function vU(n){var e=n.reference,t=n.element,i=n.placement,r=i?yl(i):null,o=i?Rg(i):null,a=e.x+e.width/2-t.width/2,s=e.y+e.height/2-t.height/2,l;switch(r){case Ko:l={x:a,y:e.y-t.height};break;case os:l={x:a,y:e.y+e.height};break;case as:l={x:e.x+e.width,y:s};break;case qo:l={x:e.x-t.width,y:s};break;default:l={x:e.x,y:e.y}}var u=r?rM(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Lg:l[u]=l[u]-(e[c]/2-t[c]/2);break;case Vb:l[u]=l[u]+(e[c]/2-t[c]/2);break}}return l}function Wb(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,o=t.strategy,a=o===void 0?n.strategy:o,s=t.boundary,l=s===void 0?Uve:s,u=t.rootBoundary,c=u===void 0?aU:u,d=t.elementContext,f=d===void 0?Jp:d,h=t.altBoundary,v=h===void 0?!1:h,g=t.padding,p=g===void 0?0:g,m=dU(typeof p!="number"?p:fU(p,Zy)),b=f===Jp?Kve:Jp,C=n.rects.popper,O=n.elements[v?b:f],w=xge(uh(O)?O:O.contextElement||wd(n.elements.popper),l,c,a),E=Ag(n.elements.reference),P=vU({reference:E,element:C,placement:r}),D=uk(Object.assign({},C,P)),k=f===Jp?D:E,L={top:w.top-k.top+m.top,bottom:k.bottom-w.bottom+m.bottom,left:w.left-k.left+m.left,right:k.right-w.right+m.right},M=n.modifiersData.offset;if(f===Jp&&M){var A=M[r];Object.keys(L).forEach(function(j){var V=[as,os].indexOf(j)>=0?1:-1,H=[Ko,os].indexOf(j)>=0?"y":"x";L[j]+=A[H]*V})}return L}function Ege(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,o=t.rootBoundary,a=t.padding,s=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?sU:l,c=Rg(i),d=c?s?VH:VH.filter(function(v){return Rg(v)===c}):Zy,f=d.filter(function(v){return u.indexOf(v)>=0});f.length===0&&(f=d);var h=f.reduce(function(v,g){return v[g]=Wb(n,{placement:g,boundary:r,rootBoundary:o,padding:a})[yl(g)],v},{});return Object.keys(h).sort(function(v,g){return h[v]-h[g]})}function Pge(n){if(yl(n)===tM)return[];var e=Qw(n);return[UH(n),e,UH(e)]}function kge(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,a=t.altAxis,s=a===void 0?!0:a,l=t.fallbackPlacements,u=t.padding,c=t.boundary,d=t.rootBoundary,f=t.altBoundary,h=t.flipVariations,v=h===void 0?!0:h,g=t.allowedAutoPlacements,p=e.options.placement,m=yl(p),b=m===p,C=l||(b||!v?[Qw(p)]:Pge(p)),O=[p].concat(C).reduce(function(ee,K){return ee.concat(yl(K)===tM?Ege(e,{placement:K,boundary:c,rootBoundary:d,padding:u,flipVariations:v,allowedAutoPlacements:g}):K)},[]),w=e.rects.reference,E=e.rects.popper,P=new Map,D=!0,k=O[0],L=0;L<O.length;L++){var M=O[L],A=yl(M),j=Rg(M)===Lg,V=[Ko,os].indexOf(A)>=0,H=V?"width":"height",N=Wb(e,{placement:M,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),F=V?j?as:qo:j?os:Ko;w[H]>E[H]&&(F=Qw(F));var W=Qw(F),U=[];if(o&&U.push(N[A]<=0),s&&U.push(N[F]<=0,N[W]<=0),U.every(function(ee){return ee})){k=M,D=!1;break}P.set(M,U)}if(D)for(var q=v?3:1,Z=function(K){var J=O.find(function($){var Y=P.get($);if(Y)return Y.slice(0,K).every(function(te){return te})});if(J)return k=J,"break"},z=q;z>0;z--){var ie=Z(z);if(ie==="break")break}e.placement!==k&&(e.modifiersData[i]._skip=!0,e.placement=k,e.reset=!0)}}const Dge={name:"flip",enabled:!0,phase:"main",fn:kge,requiresIfExists:["offset"],data:{_skip:!1}};function qH(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function GH(n){return[Ko,as,os,qo].some(function(e){return n[e]>=0})}function Tge(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=Wb(e,{elementContext:"reference"}),s=Wb(e,{altBoundary:!0}),l=qH(a,i),u=qH(s,r,o),c=GH(l),d=GH(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Ige={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Tge};function Lge(n,e,t){var i=yl(n),r=[qo,Ko].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[qo,as].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}function Mge(n){var e=n.state,t=n.options,i=n.name,r=t.offset,o=r===void 0?[0,0]:r,a=sU.reduce(function(c,d){return c[d]=Lge(d,e.rects,o),c},{}),s=a[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=a}const Age={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mge};function Rge(n){var e=n.state,t=n.name;e.modifiersData[t]=vU({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Nge={name:"popperOffsets",enabled:!0,phase:"read",fn:Rge,data:{}};function Fge(n){return n==="x"?"y":"x"}function jge(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,o=r===void 0?!0:r,a=t.altAxis,s=a===void 0?!1:a,l=t.boundary,u=t.rootBoundary,c=t.altBoundary,d=t.padding,f=t.tether,h=f===void 0?!0:f,v=t.tetherOffset,g=v===void 0?0:v,p=Wb(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=yl(e.placement),b=Rg(e.placement),C=!b,O=rM(m),w=Fge(O),E=e.modifiersData.popperOffsets,P=e.rects.reference,D=e.rects.popper,k=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,L=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(E){if(o){var j,V=O==="y"?Ko:qo,H=O==="y"?os:as,N=O==="y"?"height":"width",F=E[O],W=F+p[V],U=F-p[H],q=h?-D[N]/2:0,Z=b===Lg?P[N]:D[N],z=b===Lg?-D[N]:-P[N],ie=e.elements.arrow,ee=h&&ie?iM(ie):{width:0,height:0},K=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:cU(),J=K[V],$=K[H],Y=qm(0,P[N],ee[N]),te=C?P[N]/2-q-Y-J-L.mainAxis:Z-Y-J-L.mainAxis,ae=C?-P[N]/2+q+Y+$+L.mainAxis:z+Y+$+L.mainAxis,le=e.elements.arrow&&Xy(e.elements.arrow),Q=le?O==="y"?le.clientTop||0:le.clientLeft||0:0,ne=(j=M==null?void 0:M[O])!=null?j:0,se=F+te-ne-Q,de=F+ae-ne,he=qm(h?o0(W,se):W,F,h?cf(U,de):U);E[O]=he,A[O]=he-F}if(s){var ge,Se=O==="x"?Ko:qo,Te=O==="x"?os:as,Ce=E[w],xe=w==="y"?"height":"width",Me=Ce+p[Se],Re=Ce-p[Te],Ae=[Ko,qo].indexOf(m)!==-1,De=(ge=M==null?void 0:M[w])!=null?ge:0,Ee=Ae?Me:Ce-P[xe]-D[xe]-De+L.altAxis,me=Ae?Ce+P[xe]+D[xe]-De-L.altAxis:Re,Oe=h&&Ae?lge(Ee,Ce,me):qm(h?Ee:Me,Ce,h?me:Re);E[w]=Oe,A[w]=Oe-Ce}e.modifiersData[i]=A}}const Hge={name:"preventOverflow",enabled:!0,phase:"main",fn:jge,requiresIfExists:["offset"]};function Bge(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function $ge(n){return n===Sa(n)||!Qa(n)?oM(n):Bge(n)}function Vge(n){var e=n.getBoundingClientRect(),t=Mg(e.width)/n.offsetWidth||1,i=Mg(e.height)/n.offsetHeight||1;return t!==1||i!==1}function Wge(n,e,t){t===void 0&&(t=!1);var i=Qa(e),r=Qa(e)&&Vge(e),o=wd(e),a=Ag(n,r,t),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Tl(e)!=="body"||sM(o))&&(s=$ge(e)),Qa(e)?(l=Ag(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=aM(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function zge(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!t.has(s)){var l=e.get(s);l&&r(l)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),i}function Uge(n){var e=zge(n);return nge.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function Kge(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function qge(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var YH={placement:"bottom",modifiers:[],strategy:"absolute"};function ZH(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Gge(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?YH:r;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},YH,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(m){var b=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},o,c.options,b),c.scrollParents={reference:uh(s)?Gm(s):s.contextElement?Gm(s.contextElement):[],popper:Gm(l)};var C=Uge(qge([].concat(i,c.options.modifiers)));return c.orderedModifiers=C.filter(function(O){return O.enabled}),v(),h.update()},forceUpdate:function(){if(!f){var m=c.elements,b=m.reference,C=m.popper;if(ZH(b,C)){c.rects={reference:Wge(b,Xy(C),c.options.strategy==="fixed"),popper:iM(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var O=0;O<c.orderedModifiers.length;O++){if(c.reset===!0){c.reset=!1,O=-1;continue}var w=c.orderedModifiers[O],E=w.fn,P=w.options,D=P===void 0?{}:P,k=w.name;typeof E=="function"&&(c=E({state:c,options:D,name:k,instance:h})||c)}}}},update:Kge(function(){return new Promise(function(p){h.forceUpdate(),p(c)})}),destroy:function(){g(),f=!0}};if(!ZH(s,l))return h;h.setOptions(u).then(function(p){!f&&u.onFirstUpdate&&u.onFirstUpdate(p)});function v(){c.orderedModifiers.forEach(function(p){var m=p.name,b=p.options,C=b===void 0?{}:b,O=p.effect;if(typeof O=="function"){var w=O({state:c,name:m,instance:h,options:C}),E=function(){};d.push(w||E)}})}function g(){d.forEach(function(p){return p()}),d=[]}return h}}var Yge=[bge,Nge,pge,oge,Age,Dge,Hge,fge,Ige],Zge=Gge({defaultModifiers:Yge});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Xge(){var n=Ui();return function(t,i){var r;if(qe(n.props[t]))r=n.props[t](At);else if(n.slots[t])r=n.slots[t]&&n.slots[t](null)[0];else if(i){var o=i[n.props.theme];r=x(o,null,null)}return r}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function pO(){var n=Dt(),e=n.classPrefix,t={small:"".concat(e.value,"-size-s"),medium:"".concat(e.value,"-size-m"),large:"".concat(e.value,"-size-l"),default:"",xs:"".concat(e.value,"-size-xs"),xl:"".concat(e.value,"-size-xl"),block:"".concat(e.value,"-size-full-width")},i={loading:"".concat(e.value,"-is-loading"),loadMore:"".concat(e.value,"-is-load-more"),disabled:"".concat(e.value,"-is-disabled"),focused:"".concat(e.value,"-is-focused"),success:"".concat(e.value,"-is-success"),error:"".concat(e.value,"-is-error"),warning:"".concat(e.value,"-is-warning"),selected:"".concat(e.value,"-is-selected"),active:"".concat(e.value,"-is-active"),checked:"".concat(e.value,"-is-checked"),current:"".concat(e.value,"-is-current"),hidden:"".concat(e.value,"-is-hidden"),visible:"".concat(e.value,"-is-visible"),expanded:"".concat(e.value,"-is-expanded"),indeterminate:"".concat(e.value,"-is-indeterminate")};return{classPrefix:e,sizeClassNames:t,statusClassNames:i,classNames:{size:t,status:i}}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Gi(n,e,t,i){var r=Ui(),o=r.emit,a=r.vnode,s=oe(),l=a.props||{},u=Object.prototype.hasOwnProperty.call(l,i)||Object.prototype.hasOwnProperty.call(l,yu(i));return u?[n,function(c){o("update:".concat(i),c);for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];t==null||t.apply(void 0,[c].concat(f))}]:(s.value=e,[s,function(c){s.value=c;for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];t==null||t.apply(void 0,[c].concat(f))}])}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Jge="t-display-none-element-refresh";function gU(){var n=oe(0);Xn(Jge,n),zu(function(){n.value+=1})}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function XH(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function JH(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XH(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XH(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Qge=function(e){var t=e.data,i=e.container,r=e.fixedHeight,o=r===void 0?!1:r,a=e.lineHeight,s=a===void 0?30:a,l=e.bufferSize,u=l===void 0?20:l,c=e.threshold,d=c===void 0?100:c,f=$n({visibleData:[],cachedHeight:[],cachedScrollY:[]}),h=R(function(){return t.value.length>d}),v=oe(0),g=new Map,p=0,m=0,b=0,C=0,O=0,w=0,E=function(){t.value.forEach(function(N,F){N.$index=F,o&&(f.cachedScrollY[F]=F*s)}),o||(f.cachedScrollY[t.value.length-1]=void 0)};E();var P=R(function(){var H=f.cachedHeight,N=H.length;if(N){var F=H.reduce(function(U,q){return U+q||s},0);if(H.length===t.value.length)return F;var W=F/H.length;return F+(t.value.length-H.length)*W}return h.value?t.value.length*s:0}),D=R(function(){var H=f.visibleData,N=H[0];return N?H.length===1?0:f.cachedScrollY[N.$index]:0}),k=function(){w=Math.min(O+p+u*2,t.value.length),f.visibleData=t.value.slice(O,w)},L=function(){var N,F=g.get(b);if(F){var W=F==null||(N=F.getBoundingClientRect())===null||N===void 0?void 0:N.height;f.cachedScrollY[b]=i.value.scrollTop-C,f.cachedHeight[b]=W;for(var U=b+1;U<=((q=f.visibleData[f.visibleData.length-1])===null||q===void 0?void 0:q.$index);U++){var q,Z=g.get(U),z=(Z==null?void 0:Z.getBoundingClientRect())||{},ie=z.height;f.cachedHeight[U]=ie;var ee=f.cachedScrollY[U-1]+f.cachedHeight[U-1];f.cachedScrollY.splice(U,1,ee)}for(var K=b-1;K>=((J=f.visibleData[0])===null||J===void 0?void 0:J.$index);K--){var J,$=g.get(K),Y=($==null?void 0:$.getBoundingClientRect())||{},te=Y.height;f.cachedHeight[K]=te;var ae=f.cachedScrollY[K+1]-f.cachedHeight[K];f.cachedScrollY.splice(K,1,ae)}if(f.cachedScrollY[0]>0){for(var le=f.cachedScrollY[0],Q=Math.min(w,t.value.length),ne=0;ne<Q;ne++)f.cachedScrollY.splice(ne,1,f.cachedScrollY[ne]-le);var se=f.cachedScrollY[b-1]?f.cachedScrollY[b-1]+C:C;i.value.scrollTop=se,m=se}if(f.cachedScrollY[O]<0){var de=f.cachedHeight.slice(0,Math.max(0,b)).reduce(function(he,ge){return he+ge},0)+C;i.value.scrollTop=de,m=de,de===0&&(b=0,C=0)}tn(function(){var he=i.value,ge=he.scrollTop,Se=he.scrollHeight,Te=he.clientHeight;if(ge+Te===Se)for(var Ce=w-1;Ce>=O;Ce--)Ce===w-1?f.cachedScrollY.splice(Ce,1,Se.value-f.cachedHeight[Ce]):f.cachedScrollY.splice(Ce,1,f.cachedScrollY[Ce+1]-f.cachedHeight[Ce])})}},M=function(){if(h.value){var N=i.value.scrollTop,F=N-m;m=N,F+=C;var W=b;if(F){if(F>=0){for(;W<t.value.length&&F>(f.cachedHeight[W]||s);)f.cachedHeight[W]||(f.cachedHeight[W]=s),F-=f.cachedHeight[W],W++;W>=t.value.length?(b=t.value.length-1,C=0):(b=W,C=F);var U=i.value,q=U.clientHeight,Z=U.scrollHeight;N+q===Z&&(b=t.value.length-p+1),O<=b-u&&(O=Math.min(t.value.length-p,b-u),O<0&&(O=0))}else{for(;F<0;)W--,f.cachedHeight[W]||(f.cachedHeight[W]=s),F+=f.cachedHeight[W];W<0?(b=0,C=0):(b=W,C=F),L(),O>b-u&&(O=Math.max(0,b-u))}k()}}};!o&&Pe(v,L,{flush:"post"});var A=function(){h.value&&v.value++};Pe(t,function(){E(),f.visibleData=[],f.cachedScrollY=[],f.cachedHeight=[],m=0,b=0,C=0,O=0,g.clear(),t.value.length<=d?f.visibleData=t.value:k(),i.value&&(i.value.scrollTop=0)});var j=!1,V=function(){j&&(p=Math.ceil(i.value.offsetHeight/s),k())};return mt(function(){if(!(!window||!window.IntersectionObserver)){var H=new window.IntersectionObserver(function(N){var F=N[0];(F.isIntersecting||F.intersectionRatio)&&(j=!0,h.value&&V(),H.unobserve(i.value))});i.value&&H.observe(i.value)}}),JH(JH({trs:g,scrollHeight:P},rt(f)),{},{translateY:D,handleScroll:M,handleRowMounted:A,refreshContainer:V,fixedHeight:o,calculateScrollY:L})};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Nn(n,e,t,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"value",o=Ui(),a=o.emit,s=o.vnode,l=oe(),u=s.props||{},c=Object.prototype.hasOwnProperty.call(u,"modelValue")||Object.prototype.hasOwnProperty.call(u,"model-value"),d=Object.prototype.hasOwnProperty.call(u,r)||Object.prototype.hasOwnProperty.call(u,yu(r));return c?[e,function(f){a("update:modelValue",f);for(var h=arguments.length,v=new Array(h>1?h-1:0),g=1;g<h;g++)v[g-1]=arguments[g];i==null||i.apply(void 0,[f].concat(v))}]:d?[n,function(f){a("update:".concat(r),f);for(var h=arguments.length,v=new Array(h>1?h-1:0),g=1;g<h;g++)v[g-1]=arguments[g];i==null||i.apply(void 0,[f].concat(v))}]:(l.value=t,[l,function(f){l.value=f;for(var h=arguments.length,v=new Array(h>1?h-1:0),g=1;g<h;g++)v[g-1]=arguments[g];i==null||i.apply(void 0,[f].concat(v))}])}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var B_=new Set,Yt={warn:function(e,t){console.warn("TDesign ".concat(e," Warn: ").concat(t))},warnOnce:function(e,t){var i="TDesign ".concat(e," Warn: ").concat(t);B_.has(i)||(B_.add(i),console.warn(i))},error:function(e,t){console.error("TDesign ".concat(e," Error: ").concat(t))},errorOnce:function(e,t){var i="TDesign ".concat(e," Error: ").concat(t);B_.has(i)||(B_.add(i),console.error(i))},info:function(e,t){console.info("TDesign ".concat(e," Info: ").concat(t))}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var epe=/(.png|.jpg|.jpeg|.jpe|.webp|.avif|.svg|.gif|.bmp)/i,tpe=/(.png|.jpg|.jpeg|.jpe|.webp|.avif|.svg|.gif|.bmp|.dwg|.dxf|.svf|.tif|.tiff|.arw)/i,npe=/(.pdf)/i,ipe=/(.xlsx|.xls|.csv|.xlc|.xlm|.xlt|.xlw)/i,rpe=/(.dox|docx|.document|.wps|.wdb|.msword)/i,ope=/(.ppt|.pptx|.key)/i,pU=/(.avi|.mp4|.wmv|.mpg|.mpeg|.mov|.rm|.ram|.swf|.flv|.rmvb|.flash|.mid|.3gp)/i,ape=/(.mp2|.mp3|.mp4|.ogg|.3gpp|.ac3|.au)/i,QH={"audio/*":ape,"video/*":pU,"image/*":tpe,".ico":/image\/vnd.microsoft.icon/i,".doc":/application\/msword/i,".docx":/application\/vnd.openxmlformats-officedocument.wordprocessingml.document/i,".xls":/application\/vnd.ms-excel/i,".xlsx":/application\/vnd.openxmlformats-officedocument.spreadsheetml.sheet/i,".ppt":/application\/vnd.ms-powerpoint/i,".pptx":/application\/vnd.openxmlformats-officedocument.presentationml.presentation/i,".vsd":/application\/vnd.visio/i,".txt":/text\/plain/i,".abw":/application\/x-abiword/i,".avi":/video\/x-msvideo/i,".azw":/application\/vnd.amazon.ebook/i,".bin":/application\/octet-stream/i,".cda":/application\/x-cdf/i,".mpkg":/application\/vnd.apple.installer+xml/i,".odp":/application\/vnd.oasis.opendocument.presentation/i,".ods":/application\/vnd.oasis.opendocument.spreadsheet/i,".odt":/application\/vnd.oasis.opendocument.text/i,".oga":/audio\/ogg/i,".ogv":/video\/ogg/i,".ogx":/application\/ogg/i},el={B:1,KB:1024,MB:1048576,GB:1073741824};function spe(n){return n<el.KB?"".concat(n," Bytes"):n>=el.KB&&n<el.MB?"".concat((n/el.KB).toFixed(1)," KB"):n>=el.MB&&n<el.GB?"".concat((n/el.MB).toFixed(1)," MB"):n>=el.GB?"".concat((n/el.GB).toFixed(1)," GB"):""}function mU(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=new Date,t=e.getMonth()+1;t=t<10?"0".concat(t):t;var i="".concat(e.getFullYear(),"-").concat(t,"-").concat(e.getDate()),r="".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds());return n?[i,r].join(" "):i}function Ng(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=n,r=0,o=0;if(!i)return"";for(var a=0;a<i.length;a++){var s=i[a],l=escape(s).indexOf("%u")===0;a<e*2&&r<e?l?r+=1:r+=2:a>a-t&&o<t&&(l?o+=1:o+=2)}return i.replace(new RegExp("^(.{".concat(r,"})(.+)(.{").concat(o,"})$")),"$1…$3")}function lpe(n){return n<1024?"".concat(n," Bytes"):n>=1024&&n<1048576?"".concat((n/1024).toFixed(1)," KB"):n>=1048576?"".concat((n/1048576).toFixed(1)," MB"):""}function upe(n,e,t){var i=["B","KB","MB","GB"],r=1,o=i.indexOf(t);o===-1&&(Yt.warn("Upload","`sizeLimit.unit` can only be one of ".concat(i.join())),o=r);var a=el[t];return n>e*a}function cpe(n){return new Promise(function(e){if(!n){e("");return}var t=new FileReader;t.readAsDataURL(n),t.onload=function(i){var r;e((r=i.target)===null||r===void 0?void 0:r.result)}})}function dpe(n,e,t){var i=e||t;if(!n)return!0;if(!i)return!1;for(var r=n.split(",").map(function(u){return u.trim()}),o=0,a=r.length;o<a;o++){var s=r[o];if(QH[s]&&QH[s].test(i))return!0;var l=new RegExp(s,"i");if(l.test(i))return!0}return!1}function bU(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=[],i=0;i<n.length;i++)dpe(e,n[i].type,n[i].name)&&t.push(n[i]);return t}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function a0(n){var e=oe("");return Pe([n],function(t,i){var r=Je(t,1),o=r[0],a=Je(i,1),s=a[0];if(s!==o){if(typeof o=="string"){e.value=o;return}cpe(o).then(function(l){e.value=l})}},{immediate:!0}),{previewUrl:e}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var lM={attach:{type:[String,Function],default:"body"},content:{type:[String,Function]},default:{type:[String,Function]},delay:{type:[Number,Array]},destroyOnClose:Boolean,disabled:Boolean,hideEmptyPopup:Boolean,overlayClassName:{type:[String,Object,Array]},overlayInnerClassName:{type:[String,Object,Array]},overlayInnerStyle:{type:[Boolean,Object,Function]},overlayStyle:{type:[Boolean,Object,Function]},placement:{type:String,default:"top"},popperOptions:{type:Object},showArrow:Boolean,trigger:{type:String,default:"hover",validator:function(e){return e?["hover","click","focus","mousedown","context-menu"].includes(e):!0}},triggerElement:{type:[String,Function]},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,zIndex:{type:Number},onOverlayClick:Function,onScroll:Function,onScrollToBottom:Function,onVisibleChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Ep(n,e){if(!(typeof window>"u")){var t=window&&window.ResizeObserver;if(t){var i=null,r=function(){!i||!n.value||(i.unobserve(n.value),i.disconnect(),i=null)},o=function(s){i=new ResizeObserver(e),i.observe(s)};n&&Pe(n,function(a){r(),a&&o(a)},{immediate:!0,flush:"post"}),yi(function(){r()})}}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function fpe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}function yU(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];return n.forEach(function(t){ut(t)?e.push.apply(e,Be(t)):t.type===Ft?e.push.apply(e,Be(yU(t.children))):e.push(t)}),e.filter(function(t){return!(t&&(t.type===Kr||t.type===Ft&&t.children.length===0||t.type===vp&&t.children.trim()===""))})}function hpe(n,e){return!n&&!e?!1:!!(!n||!e||["width","height","x","y"].some(function(t){return n[t]!==e[t]}))}function _U(n){var e=Ui(),t=oe();return mt(function(){t.value=n(e)}),zu(function(){var i=n(e);t.value!==i&&(t.value=i)}),t}var vpe=pe({name:"TPopupTrigger",props:{forwardRef:Function},emits:["resize"],setup:function(e,t){var i=t.emit,r=t.slots,o=_U(function(s){var l=s.parent.vnode;return l.el.nextElementSibling}),a=oe();return Pe(o,function(){var s;(s=e.forwardRef)===null||s===void 0||s.call(e,o.value)}),Ep(o,function(s){var l=Je(s,1),u=l[0].contentRect;a.value=u}),Pe(a,function(s,l){hpe(s,l)&&i("resize")}),function(){var s,l,u=yU((s=r.default)===null||s===void 0?void 0:s.call(r));return u.length>1||((l=u[0])===null||l===void 0?void 0:l.type)===vp?x("span",null,[u]):u[0]}}}),gpe=pe({name:"TPopupContent",emits:["resize"],setup:function(e,t){var i=t.emit,r=t.slots,o=_U(function(a){return a.vnode.el.children[0]});return Ep(o,function(){i("resize")}),function(){return x("div",{style:"position: absolute; top: 0px; left: 0px; width: 100%"},[r.default()])}}}),ppe=pe({name:"TPopupContainer",inheritAttrs:!1,props:{parent:Object,visible:Boolean,attach:lM.attach,forwardRef:Function},emits:["resize","contentMounted"],setup:function(e,t){var i=t.emit,r=t.attrs,o=t.slots,a=t.expose,s=oe(),l=oe(!1);function u(){i("resize")}return mt(function(){requestAnimationFrame(function(){l.value=e.visible})}),Pe(function(){return e.visible},function(c){c&&(l.value=e.visible)}),a({unmountContent:function(){l.value=!1}}),function(){var c,d=function(){return Lh(e.attach,s.value)};return x(Ft,null,[x(vpe,{class:r.class,forwardRef:function(h){e.forwardRef(h),s.value=h},onResize:u},fpe(c=o.default())?c:{default:function(){return[c]}}),l.value&&x(th,{disabled:!d(),to:d()},{default:function(){return[x(gpe,{onResize:u,onVnodeMounted:function(){return i("contentMounted")}},{default:function(){return[o.content&&o.content()]}})]}})])}}}),eB={};function tB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Kx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function mpe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var wU="data-td-popup",ck="data-td-popup-parent";function qx(n,e){var t=[],i=[ck,wU];if(!n)return t;return e&&i.unshift(i.pop()),r(n),t;function r(o){var a=document.querySelectorAll("[".concat(i[0],'="').concat(o,'"]'));a.forEach(function(s){t.push(s);var l=s.getAttribute(i[1]);l&&l!==o&&r(l)})}}var nB=Symbol();function bpe(n){return n.replace(/-(left|top)$/,"-start").replace(/-(right|bottom)$/,"-end")}function ype(n){var e=[];return{add:function(i,r){i&&(ai(n.value,i,r),e.push(function(){Tn(n.value,i,r)}))},clean:function(){e.forEach(function(i){return i==null?void 0:i()}),e.length=0}}}var _pe=pe({name:"TPopup",props:Kx(Kx({},lM),{},{expandAnimation:{type:Boolean}}),setup:function(e,t){var i,r=t.expose,o=rt(e),a=o.visible,s=o.modelValue,l=Nn(a,s,e.defaultVisible,e.onVisibleChange,"visible"),u=Je(l,2),c=u[0],d=u[1],f=ft(),h=Mn(),v,g,p,m=oe(null),b=oe(null),C=oe(null),O=oe(null),w=oe(!1),E=typeof process<"u"&&(i=eB)!==null&&i!==void 0&&i.TEST?"":Date.now().toString(36),P=bn(nB,void 0);Xn(nB,{id:E,assertMouseLeave:z});var D=we("popup"),k=Wn(),L=k.STATUS,M=R(function(){var $,Y,te=e.trigger!=="hover"?[0,0]:[].concat(($=e.delay)!==null&&$!==void 0?$:[250,150]);return{show:te[0],hide:(Y=te[1])!==null&&Y!==void 0?Y:te[0]}}),A=ype(m);Pe(function(){return[e.trigger,m.value]},function(){m.value&&(A.clean(),A.add({hover:"mouseenter",focus:"focusin","context-menu":"contextmenu",click:"click"}[e.trigger],function($){if(!e.disabled){if($.type==="contextmenu"&&$.preventDefault(),($.type==="click"||$.type==="contextmenu")&&c.value){W($);return}F($)}}),A.add({hover:"mouseleave",focus:"focusout"}[e.trigger],W))}),Pe(function(){return[e.overlayStyle,e.overlayInnerStyle,b.value]},function(){V(),H()}),Pe(function(){return e.placement},function(){N(),H()}),Pe(function(){return c.value},function($){if($){ai(document,"mousedown",Z,!0),e.trigger==="focus"&&Lde(m.value,"keydown",function(Y){var te,ae=typeof process<"u"&&(te=eB)!==null&&te!==void 0&&te.TEST?"27":"Escape";Y.code===ae&&W(Y)});return}Tn(document,"mousedown",Z,!0)}),Ea(function(){N(),U(),Tn(document,"mousedown",Z,!0)}),r({update:H,getOverlay:function(){return b.value},getOverlayState:function(){return{hover:w.value}},close:function(){return W()}});function j(){var $=e.overlayStyle;if(!(!m.value||!b.value)){if(qe($))return $(m.value,b.value);if(Wt($))return $}}function V(){var $=e.overlayInnerStyle;!m.value||!b.value||(qe($)?kl(b.value,$(m.value,b.value)):Wt($)&&kl(b.value,$))}function H(){if(!(!C.value||!c.value)){if(v){if(m.value.getRootNode()instanceof ShadowRoot)v.state.elements.reference=m.value,v.update();else{for(var $=m.value.getBoundingClientRect(),Y=m.value;Y&&Y!==document.body;)Y=Y.parentElement;var te=Y!==document.body||$.width===0&&$.height===0;te?d(!1,{trigger:q({type:"mouseenter"})}):(v.state.elements.reference=m.value,v.update())}return}v=Zge(m.value,C.value,Kx({placement:bpe(e.placement),onFirstUpdate:function(){tn(H)}},e.popperOptions))}}function N(){if(v){var $;($=v)===null||$===void 0||$.destroy(),v=null}if(e.destroyOnClose){var Y;(Y=O.value)===null||Y===void 0||Y.unmountContent()}}function F($){U(),g=setTimeout(function(){d(!0,{trigger:q($)})},M.value.show)}function W($){U(),p=setTimeout(function(){d(!1,{trigger:q($),e:$})},M.value.hide)}function U(){clearTimeout(g),clearTimeout(p)}function q($){switch($==null?void 0:$.type){case"mouseenter":return"trigger-element-hover";case"mouseleave":return"trigger-element-hover";case"focusin":return"trigger-element-focus";case"focusout":return"trigger-element-blur";case"click":return"trigger-element-click";case"context-menu":case"keydown":return"keydown-esc";case"mousedown":return"document";default:return"trigger-element-close"}}function Z($){var Y,te;if(!((Y=C.value)!==null&&Y!==void 0&&Y.contains($.target))&&!((te=m.value)!==null&&te!==void 0&&te.contains($.target))){var ae=qx(E).find(function(le){return le.contains($.target)});ae&&qx(ae.getAttribute(ck),!0).some(function(le){return le===C.value})||W($)}}function z($){if(w.value=!1,!(e.trigger!=="hover"||m.value.contains($.target))){var Y=qx(E).some(function(te){var ae=te.getBoundingClientRect();return $.x>ae.x&&$.x<ae.x+ae.width&&$.y>ae.y&&$.y<ae.y+ae.height});Y||(W($),P==null||P.assertMouseLeave($))}}function ie(){w.value=!0,c.value&&e.trigger==="hover"&&U()}function ee($){var Y;(Y=e.onOverlayClick)===null||Y===void 0||Y.call(e,{e:$})}var K=bn("updateScrollTop",void 0);function J($){var Y,te=$.target,ae=te.scrollTop,le=te.clientHeight,Q=te.scrollHeight,ne=qu(function(se){var de;return(de=e.onScrollToBottom)===null||de===void 0?void 0:de.call(e,{e:se})},100);le+Math.floor(ae)===Q&&ne($),(Y=e.onScroll)===null||Y===void 0||Y.call(e,{e:$})}return Pe(function(){return[c.value,b.value]},function(){c.value&&b.value&&K&&(K==null||K(b.value))}),function(){var $=f("content"),Y=e.hideEmptyPopup&&["",void 0,null].includes($),te=c.value||!e.destroyOnClose?Du(x("div",He(X(X({},wU,E),ck,P==null?void 0:P.id),{class:[D.value,e.overlayClassName],ref:function(le){return C.value=le},style:[{zIndex:e.zIndex},j(),Y&&{visibility:"hidden"}],onClick:ee,onMouseenter:ie,onMouseleave:z}),[x("div",{class:["".concat(D.value,"__content"),X(X(X({},"".concat(D.value,"__content--text"),kt(e.content)),"".concat(D.value,"__content--arrow"),e.showArrow),L.value.disabled,e.disabled),e.overlayInnerClassName],ref:b,onScroll:J},[$,e.showArrow&&x("div",{class:"".concat(D.value,"__arrow")},null)])]),[[ld,c.value]]):null;return x(ppe,{ref:function(le){return O.value=le},forwardRef:function(le){return m.value=le},onContentMounted:function(){if(c.value){H();var le=setTimeout(function(){V(),clearTimeout(le)},60)}},onResize:function(){c.value&&H()},visible:c.value,attach:e.attach},{content:function(){return x(sd,{name:"".concat(D.value,"--animation").concat(e.expandAnimation?"-expand":""),appear:!0,onEnter:H,onAfterLeave:N},mpe(te)?te:{default:function(){return[te]}})},default:function(){return h("default","triggerElement")}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Pa=Ye(_pe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wpe=pe({name:"TAnchorTarget",props:zve,setup:function(e,t){var i=t.slots,r=Dt("anchor"),o=r.globalConfig,a=r.classPrefix,s=On({FileCopyIcon:Wfe}),l=s.FileCopyIcon,u=we("anchor"),c=function(){var f=document.createElement("a");f.href="#".concat(e.id),Pve(f.href),vO.success(o.value.copySuccessText,1e3)};return function(){var d=i.default,f=e.tag,h=e.id,v=["".concat(u.value,"__target")],g="".concat(a.value,"-copy");return x(f,{id:h,class:v},{default:function(){return[d&&d(null),x(Pa,{content:o.value.copyText,placement:"top",showArrow:!0,class:g},{default:function(){return[x(l,{onClick:c},null)]}})]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Cpe=Ye(Tve),Spe=Ye(Mve),Ope=Ye(wpe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var xpe={ellipsis:{type:[String,Function]},itemsAfterCollapse:{type:Number,default:void 0},itemsBeforeCollapse:{type:Number,default:void 0},maxItemWidth:{type:String,default:void 0},maxItems:{type:Number,default:void 0},options:{type:Array},separator:{type:[String,Function]},theme:{type:String,default:"light",validator:function(e){return e?["light"].includes(e):!0}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Epe={content:{type:[String,Function,Object]},default:{type:[String,Function]},disabled:Boolean,href:{type:String,default:""},icon:{type:Function},maxWidth:{type:String,default:void 0},replace:Boolean,router:{type:Object},target:{type:String,default:"_self",validator:function(e){return e?["_blank","_self","_parent","_top"].includes(e):!0}},to:{type:[String,Object]},onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ppe={delay:{type:Number},destroyOnClose:{type:Boolean,default:!0},duration:{type:Number},placement:{type:String,default:"top"},showArrow:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return e?["default","primary","success","danger","warning","light"].includes(e):!0}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var kpe=function(){var e=oe(0),t=oe(0),i=function(o){e.value=o.clientX,t.value=o.clientY};return Dl||(mt(function(){window.addEventListener("mousemove",i,{passive:!0})}),Ea(function(){window.removeEventListener("mousemove",i)})),{x:e,y:t}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function iB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Yh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Dpe=pe({name:"TTooltip",props:Yh(Yh({},lM),Ppe),setup:function(e,t){var i=oe(null),r=oe(null),o=rt(e),a=o.visible,s=o.modelValue,l=Nn(a,s,e.defaultVisible,e.onVisibleChange,"visible"),u=Je(l,2),c=u[0],d=u[1],f=Ui(),h=oe(e.visible||e.defaultVisible),v=we(),g=ft(),p=Mn(),m=kpe(),b=m.x,C=oe(b.value);mt(function(){e.duration&&h.value&&(i.value=setTimeout(function(){d(!1,{}),clearTimeout(i.value),i.value=null},e.duration))});var O=function(L,M){i.value&&(M==null?void 0:M.trigger)!=="document"||(L&&(C.value=b.value),d(L,M))},w=R(function(){return["".concat(v.value,"-tooltip"),X({},"".concat(v.value,"-tooltip--").concat(e.theme),e.theme),e.overlayClassName]}),E=R(function(){return Yh(Yh({},(f==null?void 0:f.vnode.props)||{}),{},{placement:e.placement==="mouse"?"bottom-left":e.placement,showArrow:e.placement==="mouse"?!1:e.showArrow,overlayClassName:w.value,onVisibleChange:O,disabled:e.disabled})}),P=R(function(){if(e.placement!=="mouse"||C.value===0)return e.overlayInnerStyle;var k=function(M){return{transform:"translateX(".concat(C.value-M.getBoundingClientRect().left,"px)")}};return e.overlayInnerStyle?function(L,M){return Yh(Yh({},k(L)),qe(e.overlayInnerStyle)?e.overlayInnerStyle(L,M):e.overlayInnerStyle)}:k});Pe(function(){return h.value},function(){i.value&&!h.value&&(clearTimeout(i.value),i.value=null)});var D=function(){var L,M;(L=r.value)===null||L===void 0||(M=L.update)===null||M===void 0||M.call(L)};return t.expose({updatePopper:D}),function(){var k=g("content");return!k&&!e.content?p("default","triggerElement"):x(Pa,He(br(E.value,["content","default"]),{ref:r,overlayInnerStyle:P.value,visible:c.value}),{default:function(){return[p("default","triggerElement")]},content:function(){return k}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var So=Ye(Dpe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function rB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Tpe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var Ipe={separator:"",theme:"light",maxItemWidth:void 0},CU=pe({name:"TBreadcrumbItem",inheritAttrs:!1,props:Gx(Gx({},Epe),{},{isEllipsisItem:Boolean}),setup:function(e,t){var i=t.attrs,r=Mn(),o=ft(),a=oe(),s=bn("tBreadcrumb",Ipe),l=oe(s==null?void 0:s.theme),u=oe(!1),c=we("breadcrumb__item"),d=we("breadcrumb__separator"),f=we("is-disabled"),h=we("link"),v=we("breadcrumb__inner"),g=we("breadcrumb--text-overflow"),p=R(function(){var w=s==null?void 0:s.maxItemWidth,E=e.maxWidth||w||"120";return{maxWidth:"".concat(E,"px")}}),m=Ui(),b=m.proxy;mt(function(){a.value&&(u.value=n0(a.value))}),gz(function(){a.value&&(u.value=n0(a.value))});var C=function(){var E=e.router||b.$router;e.to&&E?e.replace?E.replace(e.to):E.push(e.to):window.location.href=e.href},O=function(E){e.disabled||(E.preventDefault(),e.target==="_blank"?e.href?window.open(e.href):window.open(e.to):C())};return function(){var w=[c.value,l.value],E=[g.value];e.disabled&&E.push(f.value);var P={onClick:function(A){if(e.disabled){A.stopPropagation();return}}},D=r("default","content"),k=x("span",{class:v.value,style:p.value},[o("icon"),x("span",{ref:a,class:"".concat(v.value,"-text")},[D])]),L=x("span",Gx({class:E},P),[k]);return(e.href||e.to)&&!e.disabled&&(E.push(h.value),L=x("a",He({class:E,href:e.href,target:e.target},P,{onClick:O}),[k])),e!=null&&e.isEllipsisItem&&(L=x("div",{style:"display: flex"},[D])),x("div",He({class:w},i,{onClick:!e.disabled&&e.onClick}),[u.value?x(So,{content:function(){return D}},Tpe(L)?L:{default:function(){return[L]}}):L,x("span",{class:d.value,style:{textOverflow:u.value?"ellipsis":"clip"}},[s.separator])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function oB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function sB(n){return n===0||n===void 0}var Lpe=function(e,t,i){var r=rt(e),o=r.maxItems,a=r.itemsBeforeCollapse,s=r.itemsAfterCollapse,l=R(function(){var d,f=t.value,h=(d=o.value)!==null&&d!==void 0?d:0,v=f.length,g=a.value+s.value;return h>0&&(sB(a.value)||sB(s.value))?(Yt.error("Breadcrumb","需要设置 itemsBeforeCollapse 和 itemsAfterCollapse 属性来控制省略号前后的显示项数。"),!1):!(h<=0||v<=h||g>=v)}),u=R(function(){var d=t.value,f=l.value;if(!f)return d;var h=d.length,v=d.slice(0,a.value),g=d.slice(h-s.value,h);return[].concat(Be(v),[{content:i.value,disabled:!0,isEllipsisItem:!0}],Be(g))}),c=R(function(){var d=t.value;if(!l.value)return[];var f=d.slice(a.value,d.length-s.value);return f.map(function(h,v){return aB(aB({},h),{},{isLast:v===f.length-1})})});return{getDisplayItems:u,getEllipsisItems:c}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function lB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function $_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Mpe=function(e){var t=Rl(),i=R(function(){var r,o=[],a=0;(r=e.options)!==null&&r!==void 0&&r.length&&e.options.forEach(function(l){o.push($_($_({},l),{},{index:a++}))});var s=t("TBreadcrumbItem");return ut(s)&&s.forEach(function(l){var u=function(d,f){var h;if(l!=null&&l.children){var v,g=l.children,p=(v=g[d])===null||v===void 0?void 0:v.call(g);if(p){if(d==="default"&&ut(p)){var m=p.filter(function(b){return Qt(b)&&kt(b==null?void 0:b.children)}).map(function(b){return b==null?void 0:b.children}).join("");return m||p}return p}}return(h=l.props)===null||h===void 0?void 0:h[f]};o.push($_($_({},l.props),{},{content:u("default","content"),icon:u("icon","icon"),index:a++}))}),o});return{breadcrumbOptions:i}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ape=pe({name:"TBreadcrumb",props:xpe,setup:function(e){var t=rt(e),i=t.theme,r=t.maxItemWidth,o=we("breadcrumb"),a=ft(),s=Mpe(e),l=s.breadcrumbOptions,u=On({ChevronRightIcon:_d,EllipsisIcon:F9}),c=u.ChevronRightIcon,d=u.EllipsisIcon,f=a("separator"),h=f||x(c,null,null);Xn("tBreadcrumb",$n({separator:h,theme:i,maxItemWidth:r}));var v=R(function(){var m=l.value,b=m.slice(e.itemsBeforeCollapse,m.length-e.itemsAfterCollapse),C=a("ellipsis",{params:{items:b,separator:h}});return C||x(d,null,null)}),g=Lpe(e,l,v),p=g.getDisplayItems;return function(){var m=p.value,b=m.map(function(C,O){return kn(C)==="object"&&"content"in C?x(CU,He({key:O},C),{default:function(){return[C.content]}}):C});return x("div",{class:o.value},[b])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Rpe=Ye(Ape),Npe=Ye(CU);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Fpe={active:Boolean,content:{type:[String,Function],default:""},disabled:Boolean,divider:Boolean,prefixIcon:{type:Function},theme:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},value:{type:[String,Number,Object]},onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function uB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var dk=pe({name:"TDropdownItem",props:cB(cB({},Fpe),{},{maxColumnWidth:{type:[String,Number],default:100},minColumnWidth:{type:[String,Number],default:10},isSubmenu:Boolean}),setup:function(e){var t=ft(),i=Mn(),r=oe();yd(e.isSubmenu?null:r);var o=t("prefixIcon"),a=we("dropdown__item"),s=function(u){var c;e.disabled||(c=e.onClick)===null||c===void 0||c.call(e,e.value,{e:u})};return function(){var l=i("default","content"),u=[a.value,"".concat(a.value,"--theme-").concat(e.theme),X(X({},"".concat(a.value,"--active"),e.active),"".concat(a.value,"--disabled"),e.disabled)];return x("li",{class:u,onClick:s,style:{maxWidth:cF(e.maxColumnWidth),minWidth:cF(e.minColumnWidth)},ref:r},[e.prefixIcon?x("div",{class:"".concat(a.value,"-icon")},[o]):null,l])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var SU={direction:{type:String,default:"right",validator:function(e){return e?["left","right"].includes(e):!0}},disabled:Boolean,hideAfterItemClick:{type:Boolean,default:!0},maxColumnWidth:{type:[String,Number],default:100},maxHeight:{type:Number,default:300},minColumnWidth:{type:[String,Number],default:10},options:{type:Array,default:function(){return[]}},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placement:{type:String,default:"bottom-left",validator:function(e){return e?["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(e):!0}},popupProps:{type:Object},trigger:{type:String,default:"hover",validator:function(e){return e?["hover","click","focus","context-menu"].includes(e):!0}},onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function dB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jpe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var OU=pe({name:"TDropdownMenu",props:SU,setup:function(e){var t=we("dropdown"),i=we("dropdown__menu"),r=$n({}),o=oe(null),a=oe(),s=oe(!1),l=On({ChevronRightIcon:_d}),u=l.ChevronRightIcon,c=function(g){var p,m,b=g.data,C=g.context;b==null||(p=b.onClick)===null||p===void 0||p.call(b,b,C),(m=e.onClick)===null||m===void 0||m.call(e,b,C)},d=function(g,p){var m=g.target.scrollTop;r[p]=m};mt(function(){if(a.value){var v,g=parseInt((v=window)===null||v===void 0?void 0:v.getComputedStyle(a.value).height,10);g>=e.maxHeight&&(s.value=!0)}o.value=document.querySelector(".".concat(t.value,"__item")).scrollHeight+2});var f=function(g){return qe(g)?g(At):g},h=function(g,p){var m,b=[],C;return(m=g.forEach)===null||m===void 0||m.call(g,function(O,w){var E=jpe({},O),P=w-Math.ceil(r[p]/o.value),D=P>=0?P:w;E.children?(E.children=h(E.children,p+1),C=x("div",{key:w},[x(dk,{style:E.style,class:["".concat(t.value,"__item"),"".concat(t.value,"__item--suffix"),E.class],value:E.value,theme:E.theme,active:E.active,prefixIcon:E.prefixIcon,disabled:E.disabled,minColumnWidth:e.minColumnWidth,maxColumnWidth:e.maxColumnWidth,isSubmenu:!0},{default:function(){return[x("div",{class:"".concat(t.value,"__item-content")},[x("span",{class:"".concat(t.value,"__item-text")},[f(E.content)]),x(u,{class:"".concat(t.value,"__item-direction"),size:"16"},null)]),x("div",{class:["".concat(t.value,"__submenu-wrapper"),X({},"".concat(t.value,"__submenu-wrapper--").concat(e.direction),e.direction)],style:{position:"absolute",top:"".concat(D*o.value,"px")}},[x("div",{class:["".concat(t.value,"__submenu"),X({},"".concat(t.value,"__submenu--disabled"),E.disabled)],style:{position:"static",maxHeight:"".concat(e.maxHeight,"px")},onScroll:function(M){return d(M,p+1)}},[x("ul",null,[E.children])])])]}}),E.divider?x(rk,null,null):null])):C=x("div",{key:w},[x(dk,{style:E.style,class:["".concat(t.value,"__item"),E.class],value:E.value,theme:E.theme,active:E.active,prefixIcon:E.prefixIcon,disabled:E.disabled,minColumnWidth:e.minColumnWidth,maxColumnWidth:e.maxColumnWidth,onClick:E.disabled||E.children?function(){return null}:function(k,L){return c({data:E,context:L})}},{default:function(){return[x("span",{class:"".concat(t.value,"__item-text")},[f(E.content)])]}}),E.divider?x(rk,null,null):null]),b.push(C)}),b};return function(){return x("div",{class:[i.value,"".concat(i.value,"--").concat(e.direction),X({},"".concat(i.value,"--overflow"),s.value)],style:{maxHeight:"".concat(e.maxHeight,"px")},ref:a,onScroll:function(g){return d(g,0)}},[h(e.options,0)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function fB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Yx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var eC=function(e){var t,i,r;if(!e)return[];if(ut(e)&&((t=e[0])===null||t===void 0||(t=t.type)===null||t===void 0?void 0:t.name)==="TDropdownMenu"){var o,a,s=(o=e[0])===null||o===void 0||(o=o.children)===null||o===void 0||(a=o.default)===null||a===void 0?void 0:a.call(o);if(ut(s))return eC(s)}return ut(e)?(e=e.reduce(function(l,u){return l=l.concat(ut(u.children)?u.children:u),l},[]),e.map(function(l){var u,c,d,f,h,v,g,p,m,b,C=(u=l.children)===null||u===void 0||(c=u.content)===null||c===void 0?void 0:c.call(u),O=((d=l.children)===null||d===void 0||(f=d.prefixIcon)===null||f===void 0?void 0:f.call(d))||((h=l.children)===null||h===void 0||(v=h["prefix-icon"])===null||v===void 0?void 0:v.call(h)),w=(g=l.children)===null||g===void 0||(p=g.default)===null||p===void 0?void 0:p.call(g),E=w==null||(m=w.filter)===null||m===void 0?void 0:m.call(w,function(k){var L;return!["TDropdownMenu","TDropdownItem"].includes((L=k.type)===null||L===void 0?void 0:L.name)}),P=w==null||(b=w.filter)===null||b===void 0?void 0:b.call(w,function(k){var L;return!kt(k.children)&&["TDropdownMenu","TDropdownItem"].includes((L=k.type)===null||L===void 0?void 0:L.name)}),D=Object.keys(l.props||{}).reduce(function(k,L){var M;return l.props[L]===""&&((M=l.type)===null||M===void 0?void 0:M.name)==="TDropdownItem"&&["active","divider","disabled"].includes(L)?k[Ja(L)]=!0:k[Ja(L)]=l.props[L],k},{});return Yx(Yx(Yx({content:C||E||w},D),O?{prefixIcon:function(){return O}}:{}),{},{children:(P==null?void 0:P.length)>0?eC(P):null})}).filter(function(l){return!!l.content})):ut(e)&&ut((i=e[0])===null||i===void 0?void 0:i.children)?eC((r=e[0])===null||r===void 0?void 0:r.children):[]};function Hpe(n){var e,t,i,r,o=Rl(),a=Ui(),s=((e=o("DropdownMenu"))===null||e===void 0||(e=e[0])===null||e===void 0||(e=e.children)===null||e===void 0||(t=e.default)===null||t===void 0?void 0:t.call(e))||((i=a.slots)===null||i===void 0||(r=i.dropdown)===null||r===void 0?void 0:r.call(i)),l=R(function(){return n.options&&n.options.length>0?n.options:eC(s)});return l}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function hB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Zx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Bpe=pe({name:"TDropdown",props:SU,setup:function(e,t){var i=t.attrs,r=ft(),o=we("dropdown"),a=oe(null),s=oe(!1),l=R(function(){var d,f,h=(d=e.popupProps)===null||d===void 0?void 0:d.delay;return Dn(h)?h+10:ut(h)?((f=h[1])!==null&&f!==void 0?f:h[0])+10:160}),u=function(f,h){var v;if(e.hideAfterItemClick){var g,p,m,b;setTimeout(function(){return s.value=!1},l.value),(g=e.popupProps)===null||g===void 0||(p=g.onVisibleChange)===null||p===void 0||p.call(g,!1,h),(m=e.popupProps)===null||m===void 0||(b=m["on-visible-change"])===null||b===void 0||b.call(m,!1,h)}e==null||(v=e.onClick)===null||v===void 0||v.call(e,f,h)},c=function(f,h){var v,g,p,m;s.value=f,(v=e.popupProps)===null||v===void 0||(g=v.onVisibleChange)===null||g===void 0||g.call(v,f,h),(p=e.popupProps)===null||p===void 0||(m=p["on-visible-change"])===null||m===void 0||m.call(p,f,h)};return function(){var d,f,h=(d=r("default"))===null||d===void 0?void 0:d[0],v=Hpe(e),g=Zx(Zx(Zx({},i),{},{disabled:e.disabled,placement:e.placement,trigger:e.trigger},br(e.popupProps,["onVisibleChange","on-visible-change"])),{},{overlayInnerClassName:[o.value,(f=e.popupProps)===null||f===void 0?void 0:f.overlayInnerClassName]});return x(Pa,He({destroyOnClose:!0,ref:a,visible:s.value,onVisibleChange:c,expandAnimation:!0},g),{default:function(){return[h]},content:function(){var m;return x(Ft,null,[r("panelTopContent"),(m=v.value)!==null&&m!==void 0&&m.length?x(OU,He(br(e,"onClick"),{options:v.value,onClick:u}),null):null,r("panelBottomContent")])}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var $pe=Ye(Bpe),Vpe=Ye(dk),Wpe=Ye(OU);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var zpe={collapsed:Boolean,expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:[]},expandMutex:Boolean,expandType:{type:String,default:"normal",validator:function(e){return e?["normal","popup"].includes(e):!0}},logo:{type:Function},operations:{type:Function},theme:{type:String,default:"light",validator:function(e){return e?["light","dark"].includes(e):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},width:{type:[String,Number,Array],default:"232px"},onChange:Function,onExpand:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Zu(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vB(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,n8(i.key),i)}}function Xu(n,e,t){return e&&vB(n.prototype,e),t&&vB(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function gB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Upe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var xU=function(e,t,i){if(e)for(var r=0;r<e.children.length;++r){var o=e.children[r];if(o.value===t)return[].concat(Be(i),[e.value]);var a=xU(o,t,[].concat(Be(i),[e.value]));if(a)return a}},EU=function(e,t){if(!e)return[];for(var i=0;i<e.children.length;++i){var r=e.children[i];if(r.value===t)return e.children;var o=EU(r,t);if(o)return o}},fk=function(e,t){if(e.value===t)return e;if(e.children.length>0)for(var i=0,r=e.children.length;i<r;i++){var o=fk(e.children[i],t);if(o)return o}},PU=function(){function n(e){Zu(this,n),X(this,"data",null),X(this,"cache",new Set),X(this,"isMutex",oe(!1)),X(this,"expandValues",null);var t={value:null,parent:null,children:[]};this.data=t,this.isMutex=e==null?void 0:e.isMutex,this.expandValues=new Set(e==null?void 0:e.expandValues)}return Xu(n,[{key:"add",value:function(t){var i=t.value,r=t.parent,o=t.vnode,a=Upe({value:i,parent:r,children:[],vnode:o},t);if(this.cache.forEach(function(l,u,c){t.value===l.parent&&(a.children.push(l),c.delete(l))}),t.parent==null)this.data.children.push(a),a.parent=this.data;else if(this.data.children.length>0){var s=fk(this.data,r);s&&!s.children.some(function(l){return l.value===a.value})?s.children.push(a):this.cache.add(a)}else this.cache.add(a)}},{key:"select",value:function(t){var i=xU(this.data,t,[])||[];return i.push(t),i.filter(function(r){return r!=null})}},{key:"expand",value:function(t){var i=this;if(this.expandValues.has(t))return this.expandValues.delete(t),Be(this.expandValues);if(this.expandValues.add(t),!this.isMutex.value)return Be(this.expandValues);var r=EU(this.data,t)||[],o=new Set(r.filter(function(a){var s;return((s=a.children)===null||s===void 0?void 0:s.length)>0&&a.value!==t}).map(function(a){return a.value}));return this.expandValues.forEach(function(a){var s=o.has(a);s&&i.expandValues.delete(a)}),Be(this.expandValues)}},{key:"getChild",value:function(t){var i=fk(this.data,t);return i?i.children:[]}}])}();/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function pB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Kpe=pe({name:"TMenu",props:mB(mB({},zpe),{},{onCollapsed:Function}),setup:function(e,t){var i=we(),r=ft(),o=Mn(),a=oe(e.expandType),s=R(function(){return e.theme}),l=R(function(){return e.expandMutex}),u=R(function(){return e.collapsed}),c=R(function(){return["".concat(i.value,"-default-menu"),"".concat(i.value,"-menu--").concat(e.theme),X({},"".concat(i.value,"-is-collapsed"),e.collapsed)]}),d=R(function(){return["".concat(i.value,"-menu"),"".concat(i.value,"-menu--scroll")]}),f=R(function(){var A=e.width,j=function(H){return Dn(H)?"".concat(H,"px"):H};return ut(A)?A.map(function(V){return j(V)}):[j(A),"64px"]}),h=R(function(){return{height:"100%",width:e.collapsed?f.value[1]:f.value[0]}}),v=rt(e),g=v.value,p=v.modelValue,m=v.expanded,b=Nn(g,p,e.defaultValue,e.onChange),C=Je(b,2),O=C[0],w=C[1],E=Gi(m,e.defaultExpanded,e.onExpand,"expanded"),P=Je(E,2),D=P[0],k=P[1],L=oe([]);od(function(){var A;a.value=e.collapsed?"popup":e.expandType,(A=e.onCollapsed)===null||A===void 0||A.call(e,{collapsed:e.collapsed})});var M=new PU({isMutex:l,expandValues:D.value?Be(D.value):[]});return Xn("TdMenu",{activeValue:O,activeValues:L,expandValues:D,mode:a,theme:s,isHead:!1,vMenu:M,collapsed:u,select:function(j){j!==O.value&&w(j)},open:function(j,V){if(a.value==="normal")k(M.expand(j));else if(V==="add")D.value.indexOf(j)===-1&&k([].concat(Be(D.value),[j]));else if(V==="remove"){var H=D.value.indexOf(j),N=Be(D.value);N.splice(H,1),k(N)}}}),Pe(function(){return e.expanded},function(A){M.expandValues=new Set(A)}),Pe(function(){return e.collapsed},function(A,j){!A&&j&&k(Be(M.expandValues))}),Pe(O,function(A){L.value=M.select(A)}),od(function(){t.slots.options&&Yt.warnOnce("TMenu","`options` slot is going to be deprecated, please use `operations` for slot instead.")}),mt(function(){L.value=M.select(O.value)}),function(){var A=o("operations","options"),j=r("logo");return x("div",{class:c.value,style:h.value},[x("div",{class:"".concat(i.value,"-default-menu__inner")},[j&&x("div",{class:"".concat(i.value,"-menu__logo")},[j]),x("ul",{class:d.value},[o("default","content")]),A&&x("div",{class:"".concat(i.value,"-menu__operations")},[A])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var qpe={expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:[]},expandType:{type:String,default:"normal",validator:function(e){return e?["normal","popup"].includes(e):!0}},logo:{type:Function},operations:{type:Function},theme:{type:String,default:"light",validator:function(e){return e?["light","dark"].includes(e):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onChange:Function,onExpand:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var tC={default:{type:Function},destroyOnHide:{type:Boolean,default:!0},disabled:Boolean,draggable:{type:Boolean,default:!0},label:{type:[String,Function]},lazy:Boolean,panel:{type:[String,Function]},removable:Boolean,value:{type:[String,Number]},onRemove:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var kU=pe({name:"TTabPanel",props:tC,setup:function(e){var t=we("tab-panel"),i=Wn(),r=i.STATUS,o=Mn();gU();var a=bn("tabs"),s=R(function(){return e.value===a.value.value}),l=oe(e.lazy?s.value:!0);Pe(s,function(){s.value?l.value||(l.value=!0):e.destroyOnHide&&(l.value=!1)},{immediate:!0});var u=R(function(){return[t.value,X({},r.value.hidden,!s.value)]});return function(){return l.value?x("div",{class:u.value},[o("default","panel")]):null}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ar={action:{type:[String,Function]},addable:Boolean,disabled:Boolean,dragSort:Boolean,list:{type:Array},placement:{type:String,default:"top",validator:function(e){return e?["left","top","bottom","right"].includes(e):!0}},scrollPosition:{type:String,default:"auto",validator:function(e){return e?["auto","start","center","end"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["medium","large"].includes(e):!0}},theme:{type:String,default:"normal",validator:function(e){return e?["normal","card"].includes(e):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onAdd:Function,onChange:Function,onDragSort:Function,onRemove:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Gpe=pe({name:"TTabNavItem",props:{index:Number,active:{type:Boolean},theme:Ar.theme,size:Ar.size,placement:Ar.placement,label:{type:null},disabled:tC.disabled,removable:tC.removable,value:tC.value,onClick:Function,onRemove:Function},setup:function(e){var t=oe();yd(t);var i=we("tabs__nav-item"),r=On({CloseIcon:js}),o=r.CloseIcon,a=we(),s=Wn(),l=s.STATUS,u=s.SIZE,c=function(p){var m=p.e;m&&m.stopPropagation(),e.onRemove({e:m,value:e.value,index:e.index})},d=function(p){e.disabled||e.onClick(p)},f=R(function(){return X(X(X(X(X(X(X(X({},i.value,!0),"".concat(a.value,"-tabs__nav--card"),e.theme==="card"),l.value.disabled,e.disabled),l.value.active,e.active),"".concat(a.value,"-is-left"),e.placement==="left"),"".concat(a.value,"-is-right"),e.placement==="right"),u.value.medium,e.size==="medium"),u.value.large,e.size==="large")}),h=function(){return x("div",{class:f.value,onClick:d,ref:t},[x("span",{class:"".concat(i.value,"-text-wrapper")},[e.label]),e.removable&&!e.disabled?x(o,{class:"remove-btn",onClick:c},null):null])},v=function(){return x("div",{class:f.value,onClick:d},[x("div",{class:["".concat(i.value,"-wrapper"),X(X({},l.value.disabled,e.disabled),l.value.active,e.active)],ref:t},[x("span",{class:"".concat(i.value,"-text-wrapper")},[e.label])]),e.removable&&!e.disabled?x(o,{class:"remove-btn",onClick:c},null):null])};return function(){return e.theme==="card"?h():v()}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ype=pe({props:{navs:{type:Array},placement:Ar.placement,value:Ar.value},setup:function(e){var t=we("tabs"),i=we(),r=oe(),o=R(function(){return["".concat(t.value,"__bar"),"".concat(i.value,"-is-").concat(e.placement)]}),a=oe(null),s=function(){for(var c=["left","right"].includes(e.placement.toLowerCase()),d=c?["height","top"]:["width","left"],f=Je(d,2),h=f[0],v=f[1],g=0,p=0;p<e.navs.length;p++){var m;if(e.navs[p].props.value===e.value)break;if((m=e.navs[p])!==null&&m!==void 0&&m.el){var b=getComputedStyle(e.navs[p].el)[h],C=parseFloat(b);g+=C}}return e.navs[p]?X(X({},v,"".concat(g,"px")),h,e.navs[p].el?getComputedStyle(e.navs[p].el)[h]:"0px"):{}},l=function(){return a.value=s()};return mt(function(){tn(function(){l()})}),Pe([function(){return e.navs},function(){return e.value},function(){return e.placement}],function(){tn(function(){l()})}),Ep(r,qu(function(){l()},35)),function(){return x("div",{class:o.value,style:a.value,ref:r},null)}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Zpe(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Xpe(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw o}}}}function Xpe(n,e){if(n){if(typeof n=="string")return bB(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?bB(n,e):void 0}}function bB(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}var DU=function(e,t){var i=Zpe(e),r;try{for(i.s();!(r=i.n()).done;){var o=r.value;o.getAttribute("draggable")&&t(o)}}catch(a){i.e(a)}finally{i.f()}},yB=function(e,t){var i;return DU(t,function(r){r.contains(e)&&(i=r)}),i};function Jpe(n){var e=null,t,i=[],r=function(f){var h=f.target;t=h,h.style.opacity="0.5"},o=function(f){f.target.style.opacity=""},a=function(f){f.preventDefault()},s=function(f){var h=yB(f.target,e.children);h&&h!==t&&h.draggable&&(h.firstChild.style.outline="1px dashed #0052d9",i.includes(h)||i.push(h))},l=function(f){for(var h=f.target,v=0,g=i;v<g.length;v++){var p=g[v];p.contains(h)||(p.firstChild.style.outline="none")}},u=function(f){f.preventDefault(),DU(e.children,function(C){C.firstChild.style.outline="none"});var h=yB(f.target,e.children);if(h&&h.parentNode!==t&&h.draggable){var v,g=[].indexOf.call(e.children,t),p=[].indexOf.call(e.children,h);p>g&&(h=e.children[p+1]);var m=n.theme==="card"?g:g-1,b=n.theme==="card"?p:p-1;(v=n.onDragSort)===null||v===void 0||v.call(n,{currentIndex:m,current:n.panels[m].value,targetIndex:b,target:n.panels[b].value})}};function c(d){e=d,e.addEventListener("dragstart",r,!1),e.addEventListener("dragend",o,!1),e.addEventListener("dragover",a,!1),e.addEventListener("dragenter",s,!1),document.addEventListener("dragleave",l,!1),document.addEventListener("mousemove",l,!1),e.addEventListener("drop",u,!1)}return Ea(function(){e&&(e.removeEventListener("dragstart",r),e.removeEventListener("dragend",o),e.removeEventListener("dragover",a),e.removeEventListener("dragenter",s),document.removeEventListener("dragleave",l),document.removeEventListener("mousemove",l),e.removeEventListener("drop",u))}),{setNavsWrap:c}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var hl=function(e){return(e==null?void 0:e.offsetWidth)||0},Qpe=function(e){return(e==null?void 0:e.offsetLeft)||0};function eme(n,e,t){var i=n.navsContainer,r=n.activeTab,o=n.rightOperations,a=n.leftOperations,s=hl(r),l=hl(i),u=Qpe(r),c=hl(o),d=hl(a);if(t==="auto"){if(u-d<e)return u-d;if(u+s>e+l-c)return u+s-l+c}else{if(t==="start")return u-d;if(t==="center")return u+(s-l)/2;if(t==="end")return u+s-l+c}return e}function tme(n,e,t){var i=n.navsContainer,r=n.activeTab,o=hl(i),a=hl(r),s=Math.abs(o-a);return t==="next"?e+s:e-s}function nme(n){var e=n.navsWrap,t=n.navsContainer,i=n.rightOperations,r=n.toRightBtn,o=hl(e),a=hl(t),s=hl(i),l=hl(r);return o-a+s-l}function ime(n,e){return Math.max(0,Math.min(n,e))}function _B(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Xx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_B(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var rme=pe({name:"TTabNav",resizeObserver:null,props:{theme:Ar.theme,panels:{type:Array,default:function(){return[]}},action:Array,value:Ar.value,placement:Ar.placement,scrollPosition:Ar.scrollPosition,size:Ar.size,disabled:Ar.disabled,addable:Ar.addable,onChange:Ar.onChange,onAdd:Ar.onAdd,onRemove:Ar.onRemove,dragSort:Ar.dragSort,onDragSort:Ar.onDragSort},setup:function(e){var t=we("tabs"),i=On({ChevronLeftIcon:Cp,ChevronRightIcon:_d,AddIcon:fO}),r=i.ChevronLeftIcon,o=i.ChevronRightIcon,a=i.AddIcon,s=we(),l=Wn(),u=l.SIZE,c=oe(0),d=oe(),f=oe(),h=oe(),v=oe(),g=oe(),p=oe(),m=oe(0),b=R(function(){var ae;return["top","bottom"].includes(e==null||(ae=e.placement)===null||ae===void 0?void 0:ae.toLowerCase())}),C=function(){return{navsContainer:d.value,navsWrap:f.value,leftOperations:h.value,rightOperations:v.value,toRightBtn:g.value,activeTab:p.value}},O=R(function(){return["left","right"].includes(e.placement.toLowerCase())}),w=R(function(){return c.value>1}),E=R(function(){return c.value<m.value-1}),P=R(function(){return O.value?{}:{transform:"translate3d(".concat(-c.value,"px, 0, 0)")}}),D=R(function(){return e.addable?{"min-height":"48px"}:null}),k=R(function(){return X(X(X({},"".concat(t.value,"__btn"),!0),u.value.medium,e.size==="medium"),u.value.large,e.size==="large")}),L=R(function(){return Xx(X({},"".concat(t.value,"__btn--left"),!0),k.value)}),M=R(function(){return Xx(X({},"".concat(t.value,"__btn--right"),!0),k.value)}),A=R(function(){return Xx(X({},"".concat(t.value,"__add-btn"),!0),k.value)}),j=R(function(){return X(X(X(X({},"".concat(t.value,"__nav-container"),!0),"".concat(t.value,"__nav--card"),e.theme==="card"),"".concat(s.value,"-is-").concat(e.placement),!0),"".concat(s.value,"-is-addable"),e.addable)}),V=R(function(){return X(X({},"".concat(t.value,"__nav-scroll"),!0),"".concat(s.value,"-is-scrollable"),w.value||E.value)}),H=R(function(){return["".concat(t.value,"__nav-wrap"),"".concat(s.value,"-is-smooth"),X({},"".concat(s.value,"-is-vertical"),O.value)]}),N=function(le){c.value=ime(le,m.value)},F=function(le){N(tme(C(),c.value,le))},W=function(le){if(!(!w.value&&!E.value)){le.preventDefault();var Q=le.deltaX,ne=le.deltaY;Math.abs(Q)>Math.abs(ne)?N(c.value+Q):N(c.value+ne)}},U=function(){setTimeout(function(){N(eme(C(),c.value,e.scrollPosition))},0)},q=function(){tn(function(){m.value=nme(C())})};Pe([function(){return e.placement},function(){return e.panels}],q),Pe([function(){return e.scrollPosition}],U),qhe(qu(q),d.value);var Z=function(le){var Q;(Q=e.onAdd)===null||Q===void 0||Q.call(e,{e:le})},z=function(le,Q){var ne=Q.value,se=Q.disabled;if(se||e.value===ne)return!1;e.onChange(ne)},ie=function(le){var Q=le.e,ne=le.value,se=le.index;e.onRemove({e:Q,value:ne,index:se})},ee=function(le){le!=null&&le.$el&&(le==null?void 0:le.value)===e.value&&p.value!==le.$el&&(p.value=le.$el,U())},K=Jpe(e),J=K.setNavsWrap;mt(function(){J(f.value),q(),U()});var $=function(){return e.panels.map(function(le,Q){var ne,se;le!=null&&(ne=le.children)!==null&&ne!==void 0&&ne.label?se=le.children.label():qe(le.label)?se=le.label(At):se=le.label||"选项卡".concat(Q+1);var de=e.dragSort;return de&&le.draggable===!1&&(de=le.draggable),x(Gpe,{ref:ee,draggable:de,key:le.value,index:Q,theme:e.theme,size:e.size,placement:e.placement,label:se,active:le.value===e.value,disabled:e.disabled||le.disabled,removable:le.removable,value:le.value,onClick:function(ge){return z(ge,le)},onRemove:ie},null)})},Y=function(){return[x("div",{ref:h,class:["".concat(t.value,"__operations"),"".concat(t.value,"__operations--left")]},[x(sd,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[w.value?x("div",{class:L.value,onClick:function(){return F("prev")}},[x(r,null,null)]):null]}})]),x("div",{ref:v,class:["".concat(t.value,"__operations"),"".concat(t.value,"__operations--right")]},[x(sd,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[E.value?x("div",{ref:g,class:M.value,onClick:function(){return F("next")}},[x(o,null,null)]):null]}}),e.addable?x("div",{class:A.value,onClick:Z},[x(a,null,null)]):null,b.value&&e.action])]},te=function(){var le=$();return x("div",{class:j.value},[x("div",{class:V.value,onWheel:W},[x("div",{ref:f,class:H.value,style:P.value},[e.theme!=="card"&&x(Ype,{placement:e.placement,value:e.value,navs:le},null),le])])])};return function(){return x("div",{ref:d,class:["".concat(t.value,"__nav")],style:D.value},[Y(),te()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ome=pe({name:"TTabs",props:Ar,setup:function(e){var t=we("tabs"),i=we(),r=ft(),o=rt(e),a=o.value,s=o.modelValue,l=Nn(a,s,e.defaultValue||"",e.onChange),u=Je(l,2),c=u[0],d=u[1];Xn("tabs",{value:c});var f=function(C){var O;(O=e.onAdd)===null||O===void 0||O.call(e,{e:C.e})},h=function(C){d(C)},v=function(C){var O,w=C.e,E=C.value,P=C.index;(O=e.onRemove)===null||O===void 0||O.call(e,{value:E,index:P,e:w})},g=function(){var C=r("default");if(!C)return[];var O=function(E){return E.map(function(P){return P.children&&ut(P.children)?O(P.children):P}).flat().filter(function(P){return P.type.name==="TTabPanel"})};return O(C)},p=function(){var C,O=((C=e.list)!==null&&C!==void 0&&C.length?e.list:g())||[],w=r("action"),E=O.map(function(D){var k=D;return D.props&&Object.keys(D.props).forEach(function(L){k[L]=D.props[L]}),k}),P={theme:e.theme,value:c.value,size:e.size,disabled:e.disabled,placement:e.placement,scrollPosition:e.scrollPosition,addable:e.addable,panels:E,dragSort:e.dragSort,action:w};return x("div",{class:X(X({},"".concat(i.value,"-tabs__header"),!0),"".concat(i.value,"-is-").concat(e.placement),!0)},[x(rme,He(P,{onDragSort:e.onDragSort,onChange:h,onAdd:f,onRemove:v}),null)])},m=function(){var C,O=g();if((C=e.list)!==null&&C!==void 0&&C.length)return e.list.map(function(w){return x(kU,He(w,{onRemove:v}),null)});if(O&&O.length)return x("div",{class:["".concat(i.value,"-tabs__content")]},[O])};return function(){return x("div",{class:[t.value]},[e.placement!=="bottom"?[p(),m()]:[m(),p()]])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var TU=Ye(ome),IU=Ye(kU);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ame={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,icon:{type:Function},popupProps:{type:Object},title:{type:[String,Function]},value:{type:[String,Number]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var df=pe({name:"TFakeArrow",props:{isActive:{type:Boolean},overlayClassName:{type:[String,Object,Array]},overlayStyle:{type:Object||String}},setup:function(e){var t=we("fake-arrow"),i=R(function(){return[t.value,X({},"".concat(t.value,"--active"),e.isActive),e.overlayClassName]});return function(){return x("svg",{class:i.value,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:e.overlayStyle},[x("path",{d:"M3.75 5.7998L7.99274 10.0425L12.2361 5.79921",stroke:"black","stroke-opacity":"0.9","stroke-width":"1.3"},null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function LU(){var n=function(s){s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.style.height="0",s.style.paddingTop="0",s.style.paddingBottom="0"},e=function(s){s.dataset.oldOverflow=s.style.overflow,s.style.height="".concat(s.scrollHeight,"px"),s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom,s.style.overflow="hidden"},t=function(s){s.style.height="",s.style.overflow=s.dataset.oldOverflow},i=function(s){s.dataset.oldPaddingTop=s.style.paddingTop,s.dataset.oldPaddingBottom=s.style.paddingBottom,s.dataset.oldOverflow=s.style.overflow,s.style.height="".concat(s.scrollHeight,"px"),s.style.overflow="hidden"},r=function(s){s.scrollHeight!==0&&(s.style.height="0",s.style.paddingTop="0",s.style.paddingBottom="0")},o=function(s){s.style.height="",s.style.overflow=s.dataset.oldOverflow,s.style.paddingTop=s.dataset.oldPaddingTop,s.style.paddingBottom=s.dataset.oldPaddingBottom};return{beforeEnter:n,enter:e,afterEnter:t,beforeLeave:i,leave:r,afterLeave:o}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function wB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sme(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var lme=pe({name:"TSubmenu",props:ame,setup:function(e,t){var i=t.attrs,r=t.slots,o=we(),a=ft(),s=Mn(),l=Ui(),u=bn("TdMenu"),c=rt(e),d=c.value,f=u.theme,h=u.activeValues,v=u.expandValues,g=u.isHead,p=u.open,m=bn("TdSubmenu",{}),b=m.setSubPopup,C=m.closeParentPopup,O=R(function(){return i.expandType||u.mode.value}),w=oe([]),E=R(function(){return h.value.indexOf(e.value)>-1}),P=oe(!1),D=oe(!1),k=R(function(){return f.value==="light"?"#E7E7E7":"#383838"}),L=R(function(){var ne;return O.value==="popup"?P.value:v?(ne=v.value)===null||ne===void 0?void 0:ne.includes(e.value):!1}),M=oe(!1),A=oe(),j=oe(),V=oe(),H=we("slide-down");yd(V,k);var N=R(function(){return["".concat(o.value,"-submenu"),X(X({},"".concat(o.value,"-is-disabled"),e.disabled),"".concat(o.value,"-is-opened"),L.value)]}),F=R(function(){var ne;return["".concat(o.value,"-menu__popup"),"".concat(o.value,"-is-").concat(g?"horizontal":"vertical"),X({},"".concat(o.value,"-is-opened"),P.value),(ne=e.popupProps)===null||ne===void 0?void 0:ne.overlayInnerClassName]}),W=R(function(){var ne;return["".concat(o.value,"-menu--").concat(f.value),g&&"".concat(o.value,"-is-head-menu"),X({},"".concat(o.value,"-menu-is-nested"),M.value),(ne=e.popupProps)===null||ne===void 0?void 0:ne.overlayClassName]}),U=R(function(){return["".concat(o.value,"-menu__item"),"".concat(o.value,"-menu__item-spacer"),"".concat(o.value,"-menu__item-spacer--").concat(g&&!M.value?"bottom":"right"),X(X(X({},"".concat(o.value,"-is-disabled"),e.disabled),"".concat(o.value,"-is-opened"),L.value),"".concat(o.value,"-is-active"),E.value)]}),q=R(function(){return["".concat(o.value,"-menu__sub"),X({},"".concat(o.value,"-is-opened"),L.value)]}),Z=R(function(){return[X({},"".concat(o.value,"-fake-arrow--active"),L.value)]});Xn("TdSubmenu",$n({value:d,addMenuItem:function(se){w.value.push(se),m&&m.addMenuItem(se)},setSubPopup:function(se){j.value=se},closeParentPopup:function(se){var de=se.relatedTarget;K(de)||$(se)}}));var z=function(se){qe(b)&&b(se)},ie=function(){e.disabled||setTimeout(function(){P.value||(p(e.value),tn().then(function(){z(A.value)})),P.value=!0},0)},ee=function(se){return se==null?void 0:se.classList.contains("".concat(o.value,"-menu__popup"))},K=function(se){return se?ee(se)||K(se.parentElement):!1},J=function(se){setTimeout(function(){var de=ee(se.relatedTarget);D.value||de||(P.value=!1)},0)},$=function(se){var de=se.toElement,he=se.relatedTarget,ge=de||he;if(ge!==j.value){for(var Se=function(Ce){return Ce===V.value};ge!==null&&ge!==document&&!Se(ge);)ge=ge.parentNode;D.value=!1,Se(ge)||(P.value=!1),C==null||C(se)}},Y=function(){D.value=!0},te=function(){e.disabled||p(e.value)},ae=function(se){var de,he="right-top";!M.value&&g&&(he="bottom-left");var ge=x("div",{ref:A,class:["".concat(o.value,"-menu__spacer"),"".concat(o.value,"-menu__spacer--").concat(!M.value&&g?"top":"left")],onMouseenter:Y,onMouseleave:$},[x("ul",{class:"".concat(o.value,"-menu__popup-wrapper")},[s("default","content")])]),Se={content:function(){return ge}},Te=x(Pa,He((de=e.popupProps)!==null&&de!==void 0?de:{},{overlayInnerClassName:Be(F.value),overlayClassName:Be(W.value),visible:P.value,placement:he}),sme({default:function(){return[x("div",{ref:V,class:U.value},[se])]}},Se));return Te},le=function(){var se=a("icon"),de=[x("div",{ref:V,class:U.value,onClick:te},[se,x("span",{class:["".concat(o.value,"-menu__content")]},[a("title",{silent:!0})])]),x("ul",{style:"opacity: 0; width: 0; height: 0; overflow: hidden"},[s("default","content")])],he=O.value==="popup"&&M.value,ge=[se,x("span",{class:["".concat(o.value,"-menu__content")]},[a("title",{silent:!0})]),x(df,{overlayClassName:/menu/i.test(l==null?void 0:l.parent.proxy.$options.name)?Z.value:null,overlayStyle:{transform:"rotate(".concat(he?-90:0,"deg)")}},null)];return O.value==="normal"?de:ae(ge)},Q=function(){for(var se=r.content||r.default,de=a("icon"),he=s("default","content"),ge=l.parent,Se=44;ge&&ge.type.name!=="TMenu";)ge.type.name==="TSubmenu"&&(Se+=16),ge=ge.parent;var Te=LU(),Ce=Te.beforeEnter,xe=Te.enter,Me=Te.afterEnter,Re=Te.beforeLeave,Ae=Te.leave,De=Te.afterLeave,Ee=O.value==="popup"&&M.value,me=[x("div",{ref:V,class:U.value,onClick:te},[de,x("span",{class:["".concat(o.value,"-menu__content")]},[a("title",{silent:!0})]),se&&x(df,{overlayClassName:Z.value,overlayStyle:{transform:"rotate(".concat(Ee?-90:0,"deg)")}},null)]),x(sd,{name:H.value,onBeforeEnter:Ce,onEnter:xe,onAfterEnter:Me,onBeforeLeave:Re,onLeave:Ae,onAfterLeave:De},{default:function(){return[Du(x("ul",{class:q.value,style:{"--padding-left":"".concat(Se,"px")}},[he]),[[ld,L.value]])]}})],Oe=[de,x("span",{class:["".concat(o.value,"-menu__content")]},[a("title",{silent:!0})]),x(df,{overlayClassName:/menu/i.test(ge.proxy.$options.name)?Z.value:null,overlayStyle:{transform:"rotate(".concat(Ee?-90:0,"deg)"),"margin-left":"auto"}},null)];return O.value==="normal"?me:ae(Oe)};return Pe(P,function(ne){u.open(e.value,ne?"add":"remove")}),Pe(A,function(){z(A.value)}),mt(function(){var ne;u==null||(ne=u.vMenu)===null||ne===void 0||ne.add({value:e.value,parent:m==null?void 0:m.value,vnode:r.default});for(var se=l.parent;se&&!/^t(head)?menu/i.test((de=se)===null||de===void 0?void 0:de.type.name);){var de,he,ge;if(/submenu/i.test((he=se)===null||he===void 0?void 0:he.type.name)){M.value=!0;break}se=(ge=se)===null||ge===void 0?void 0:ge.parent}}),function(){var ne=null,se={};return O.value==="popup"&&(se={onMouseenter:ie,onMouseleave:J}),Object.keys(r).length>0&&(ne=g?le():Q()),x("li",He({class:N.value},se),[ne])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function CB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ume(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cme(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var dme=pe({name:"THeadMenu",props:qpe,setup:function(e,t){var i,r,o,a,s=we(),l=Ui(),u=l.proxy;od(function(){t.slots.options&&Yt.warnOnce("TMenu","`options` slot is going to be deprecated, please use `operations` for slot instead.")});var c=rt(e),d=c.value,f=c.modelValue,h=c.expanded,v=Nn(d,f,e.defaultValue,e.onChange),g=Je(v,2),p=g[0],m=g[1],b=Gi(h,e.defaultExpanded,e.onExpand,"expanded"),C=Je(b,2),O=C[0],w=C[1],E=oe([]),P=R(function(){return e.theme}),D=R(function(){return["".concat(s.value,"-menu"),"".concat(s.value,"-head-menu"),"".concat(s.value,"-menu--").concat(e.theme)]}),k=oe(e.expandType),L=$n([]),M=new PU({isMutex:!0,expandValues:O.value});Xn("TdMenu",{mode:k,theme:P,vMenu:M,isHead:!0,expandValues:O,activeValue:p,activeValues:E,select:function(ie){m(ie)},open:function(ie,ee){var K=Be(O.value),J=K.indexOf(ie);k.value==="popup"?ee==="add"?J===-1&&K.push(ie):ee==="remove"&&K.splice(J,1):k.value==="normal"&&ie!==void 0&&(K.splice(0,1),J===-1&&K.push(ie)),w(K)}});var A=function(ie){m(ie),H(ie)},j=function(ie){var ee=M.getChild(ie);L.length=0,L.push.apply(L,Be(ee))};Pe(O,function(z){k.value==="normal"&&j(z[0])});var V=function(ie){E.value=M.select(ie)};Pe(p,V),Pe(function(){return e.expandType},function(z){k.value=z}),mt(function(){var z;E.value=M.select(p.value),((z=O.value)===null||z===void 0?void 0:z.length)>0&&j(O.value[0])});var H=function(ie){var ee,K=L.find(function(ae){return ae.value===ie});(ee=K.onClick)===null||ee===void 0||ee.call(K,{value:ie});var J=K.to,$=K.href,Y=K.replace;$&&(window.location.href=K.href);var te=K.router||u.$router;J&&te&&(Y?te.replace(J):te.push(J))},N=function(){var ie;return L.length===0?null:x("ul",{class:["".concat(s.value,"-head-menu__submenu"),"".concat(s.value,"-submenu")]},[x(TU,{value:p.value,onChange:A},cme(ie=L.map(function(ee){var K;return x(IU,{value:ee.value,label:(K=ee.vnode()[0])===null||K===void 0?void 0:K.children},null)}))?ie:{default:function(){return[ie]}})])},F=oe(),W=oe(),U=oe(),q=oe(),Z=function(ie,ee){ie.forEach(function(K){var J,$,Y,te,ae=(J=K.props)===null||J===void 0?void 0:J.value;if(((($=K.type)===null||$===void 0?void 0:$.name)==="TSubmenu"||((Y=K.type)===null||Y===void 0?void 0:Y.name)==="TMenuItem")&&M.add(ume({value:ae,parent:ee,vnode:K.children.default},K.props)),qe((te=K.children)===null||te===void 0?void 0:te.default)){Z(K.children.default(),ae);return}ut(K.children)&&Z(K.children,ae)})};return Z(((i=(r=t.slots).default)===null||i===void 0?void 0:i.call(r))||((o=(a=t.slots).content)===null||o===void 0?void 0:o.call(a))||[]),function(){var z,ie,ee,K,J,$,Y,te,ae,le,Q,ne,se=((z=e.logo)===null||z===void 0?void 0:z.call(e,At))||((ie=(ee=t.slots).logo)===null||ie===void 0?void 0:ie.call(ee)),de=((K=e.operations)===null||K===void 0?void 0:K.call(e,At))||((J=($=t.slots).operations)===null||J===void 0?void 0:J.call($))||((Y=(te=t.slots).options)===null||Y===void 0?void 0:Y.call(te)),he=((ae=(le=t.slots).default)===null||ae===void 0?void 0:ae.call(le))||((Q=(ne=t.slots).content)===null||Q===void 0?void 0:Q.call(ne))||[];return x("div",{class:D.value},[x("div",{class:"".concat(s.value,"-head-menu__inner"),ref:W},[se&&x("div",{class:"".concat(s.value,"-menu__logo"),ref:U},[se]),x("ul",{class:"".concat(s.value,"-menu"),ref:F},[he]),de&&x("div",{class:"".concat(s.value,"-menu__operations"),ref:q},[de])]),k.value==="normal"&&N()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var fme={content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,href:{type:String,default:""},icon:{type:Function},replace:Boolean,router:{type:Object},routerLink:Boolean,target:{type:String,default:"_self",validator:function(e){return e?["_blank","_self","_parent","_top"].includes(e):!0}},to:{type:[String,Object]},value:{type:[String,Number]},onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function SB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hme(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function vme(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var gme=pe({name:"TMenuItem",props:fme,emits:["click"],setup:function(e,t){var i=rt(e),r=i.href,o=i.target,a=i.to,s=i.disabled,l=i.value,u=i.onClick,c=i.routerLink,d=i.replace,f=we(),h=ft(),v=Mn(),g=bn("TdMenu"),p=oe(),m=Ui();yd(p);var b=bn("TdSubmenu",null),C=R(function(){return g.activeValue.value===e.value}),O=R(function(){var D;return(D=g.collapsed)===null||D===void 0?void 0:D.value}),w=R(function(){return["".concat(f.value,"-menu__item"),X(X(X(X({},"".concat(f.value,"-is-active"),C.value),"".concat(f.value,"-is-disabled"),e.disabled),"".concat(f.value,"-menu__item--plain"),!t.slots.icon&&!e.icon),"".concat(f.value,"-submenu__item"),!!b&&!g.isHead)]}),E=R(function(){return e.router||(m==null?void 0:m.proxy.$router)}),P=function(k){var L,M;if(k.stopPropagation(),!s.value){if(g.select(l.value),(L=u.value)===null||L===void 0||L.call(u,{e:k,value:l.value}),a.value||c.value&&r.value){var A=d.value?"replace":"push";E.value[A](a.value||r.value).catch(function(j){if(j.name!=="NavigationDuplicated"&&!j.message.includes("Avoided redundant navigation to current location"))throw j})}b==null||(M=b.closeParentPopup)===null||M===void 0||M.call(b,k)}};return mt(function(){var D;g==null||(D=g.vMenu)===null||D===void 0||D.add(hme({value:e.value,parent:b==null?void 0:b.value,vnode:t.slots.default},e))}),function(){var D,k=x("li",{ref:p,class:w.value,onClick:P},[h("icon"),c.value?x("a",{href:r.value?r.value:a.value?(D=E.value)===null||D===void 0?void 0:D.resolve(a.value).href:"",target:o.value,class:"".concat(f.value,"-menu__item-link"),onClick:function(A){return A.preventDefault()}},[x("span",{class:"".concat(f.value,"-menu__content")},[v("default","content")])]):r.value?x("a",{href:r.value,target:o.value,class:"".concat(f.value,"-menu__item-link"),onClick:function(A){return s.value&&A.preventDefault()}},[x("span",{class:"".concat(f.value,"-menu__content")},[v("default","content")])]):x("span",{class:"".concat(f.value,"-menu__content")},[v("default","content")])]),L=m==null?void 0:m.parent;return O.value&&/tmenu/i.test(L==null?void 0:L.type.name)?x(So,{content:function(){return v("default","content")},placement:"right"},vme(k)?k:{default:function(){return[k]}}):k}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var pme={title:{type:[String,Function]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var mme=pe({name:"TMenuGroup",props:pme,setup:function(){var e=we(),t=ft();return function(){return x("div",{class:"".concat(e.value,"-menu-group")},[x("div",{class:"".concat(e.value,"-menu-group__title")},[t("title",{silent:!1})]),t("default")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var MU=Ye(Kpe),AU=Ye(dme),RU=Ye(lme),uM=Ye(gme),NU=Ye(mme);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var bme={align:{type:String,default:"left",validator:function(e){return e?["left","center","right"].includes(e):!0}},allowInputOverMax:Boolean,autoWidth:Boolean,autocomplete:{type:String,default:void 0},autofocus:Boolean,borderless:Boolean,clearable:Boolean,disabled:{type:Boolean,default:void 0},format:{type:Function},inputClass:{type:[String,Object,Array]},label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:[String,Number]},name:{type:String,default:""},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},showClearIconOnEmpty:Boolean,showLimitNumber:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},spellCheck:Boolean,status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tips:{type:[String,Function]},type:{type:String,default:"text",validator:function(e){return e?["text","number","url","tel","password","search","submit","hidden"].includes(e):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onCompositionend:Function,onCompositionstart:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onValidate:Function,onWheel:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function sr(n){var e=Ui(),t=R(function(){return e.props.readonly}),i=bn("formReadonly",Object.create(null));return R(function(){var r,o,a;return ur(n==null||(r=n.beforeReadonly)===null||r===void 0?void 0:r.value)?n.beforeReadonly.value:ur(t==null?void 0:t.value)?t.value:ur(n==null||(o=n.afterReadonly)===null||o===void 0?void 0:o.value)?n.afterReadonly.value:ur((a=i.readonly)===null||a===void 0?void 0:a.value)?i.readonly.value:!1})}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var FU=function(){var e=we();return R(function(){var t="".concat(e.value,"-form"),i="".concat(e.value,"-input"),r="".concat(e.value,"-is");return{form:t,label:"".concat(t,"__label"),labelTop:"".concat(t,"__label--top"),inline:"".concat(t,"-inline"),formItem:"".concat(t,"__item"),formItemWithHelp:"".concat(t,"__item-with-help"),formItemWithExtra:"".concat(t,"__item-with-extra"),controls:"".concat(t,"__controls"),controlsContent:"".concat(t,"__controls-content"),status:"".concat(t,"__status"),extra:"".concat(i,"__extra"),help:"".concat(i,"__help"),success:"".concat(r,"-success"),successBorder:"".concat(t,"--success-border"),error:"".concat(r,"-error"),warning:"".concat(r,"-warning")}})},Zl=function(n){return n.TO_BE_VALIDATED="not",n.SUCCESS="success",n.FAIL="fail",n}(Zl||{}),jU=Symbol("FormProvide"),cM=Symbol("FormItemProvide");/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function HU(n){var e=function(s){var l=n.value,u=l.allowInputOverMax,c=l.maxlength,d=l.maxcharacter;if(!(c||d)||u||!s)return s;if(c)return xde(s,c);if(d){var f=uf(s,d);if(Wt(f))return f.characters}},t=R(function(){var a=n.value,s=a.maxlength,l=a.maxcharacter,u=a.value;if(Dn(u))return String(u);if(s&&l&&Yt.warn("Input","Pick one of maxlength and maxcharacter please."),s){var c=u!=null&&u.length?Ode(u):0;return"".concat(c,"/").concat(s)}return l?"".concat(uf(u||""),"/").concat(l):""}),i=R(function(){if(t.value){var a=t.value.split("/"),s=Je(a,2),l=s[0],u=s[1];return Number(l)>Number(u)?"error":""}return""}),r=R(function(){var a=n.value.status;return a||i.value}),o=function(){var s,l;(s=(l=n.value).onValidate)===null||s===void 0||s.call(l,{error:i.value?"exceed-maximum":void 0})};return Pe(i,o),mt(function(){i.value&&o()}),{tStatus:r,limitNumber:t,getValueByLimitNumber:e}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function nC(n,e){return e==="number"?n||n===0?Number(n):void 0:n}function yme(n,e){var t=rt(n),i=t.value,r=t.modelValue,o=oe(),a=oe(!1),s=oe(),l=oe(null),u=oe(),c=xi(),d=sr(),f=Nn(i,r,n.defaultValue,n.onChange),h=Je(f,2),v=h[0],g=h[1],p=oe(!1),m=oe(!1),b=oe(n.type),C=oe(null),O=R(function(){return{value:[void 0,null].includes(v.value)?void 0:String(v.value),status:n.status,maxlength:Number(n.maxlength),maxcharacter:n.maxcharacter,allowInputOverMax:n.allowInputOverMax,onValidate:n.onValidate}}),w=HU(O),E=w.limitNumber,P=w.getValueByLimitNumber,D=w.tStatus,k=R(function(){return(v.value&&!c.value&&n.clearable&&!d.value||n.showClearIconOnEmpty)&&p.value}),L=function(){var J;m.value=!0,(J=C.value)===null||J===void 0||J.focus()},M=function(){var J;m.value=!1,(J=C.value)===null||J===void 0||J.blur()},A=function(J){var $;p.value&&m.value||(o.value=v.value,!n.disabled&&(m.value=!0,($=n.onFocus)===null||$===void 0||$.call(n,v.value,{e:J})))},j=function(J){var $,Y=J.e,te=n.type==="number"?void 0:"";g(te,{e:Y,trigger:"clear"}),($=n.onClear)===null||$===void 0||$.call(n,{e:Y})},V=function(J){u.value=J.target},H=function(){if(!c.value){var J=b.value==="password"?"text":"password";b.value=J}},N=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",$=C.value;if($){var Y=String(J);$.value&&$.value!==Y&&($.value=Y)}},F=function(J){var $,Y=J.target,te=Y.value;n.type!=="number"&&typeof v.value=="string"&&te.length>(($=v.value)===null||$===void 0?void 0:$.length)&&(te=P(te)),g(nC(te,n.type),{e:J,trigger:"input"}),tn(function(){n.type==="number"&&/\.(\d+)?0$/.test(te)?N(te):N(v.value)})},W=function(J){var $=J.inputType&&J.inputType==="insertCompositionText",Y=J.currentTarget.value;if($||a.value){s.value=Y;return}F(J)},U=function(){var J,$=u.value;if(!$||!$.tagName||!((J=l.value)!==null&&J!==void 0&&J.$el)||!["path","svg"].includes($.tagName))return!1;for(;$;){var Y;if(((Y=l.value)===null||Y===void 0?void 0:Y.$el)===$)return!0;$=$.parentNode}return!1},q=bn(cM,void 0),Z=function(J){if(U())L();else{var $;n.format&&(o.value=typeof v.value=="number"||n.type==="number"?v.value:n.format(v.value)),m.value=!1,($=n.onBlur)===null||$===void 0||$.call(n,v.value,{e:J}),q==null||q.handleBlur()}},z=function(J){var $;a.value=!1,s.value="",F(J),($=n.onCompositionend)===null||$===void 0||$.call(n,String(v.value),{e:J})},ie=function(J){var $;a.value=!0;var Y=J.currentTarget.value;s.value=Y,($=n.onCompositionstart)===null||$===void 0||$.call(n,String(v.value),{e:J})},ee=function(J){var $,Y;($=C.value)===null||$===void 0||$.focus(),(Y=n.onClick)===null||Y===void 0||Y.call(n,{e:J})};return Pe(function(){return n.autofocus},function(K){K===!0&&tn(function(){var J;(J=C.value)===null||J===void 0||J.focus()})},{immediate:!0}),Pe(v,function(K,J){var $=n.type==="number";J===void 0&&n.format&&typeof K!="number"&&!$?o.value=n.format(K):o.value=K;var Y=typeof K=="number"?K:P(K);Y!==K&&!$&&g(Y,{trigger:"initial"})},{immediate:!0}),Pe(function(){return n.type},function(K){b.value=K},{immediate:!0}),e({inputRef:C,focus:L,blur:M}),{isHover:p,focused:m,renderType:b,showClear:k,inputRef:C,clearIconRef:l,inputValue:o,isComposition:a,compositionValue:s,limitNumber:E,tStatus:D,emitFocus:A,formatAndEmitBlur:Z,onHandleCompositionend:z,onHandleCompositionstart:ie,onRootClick:ee,emitPassword:H,handleInput:W,emitClear:j,onClearIconMousedown:V,innerValue:v}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function _me(n,e){var t=function(d){if(!n.disabled){var f=d.code,h=nC(d.currentTarget.value,n.type);if(/enter/i.test(f)||/enter/i.test(d.key)){var v;(v=n.onEnter)===null||v===void 0||v.call(n,h,{e:d})}else{var g;(g=n.onKeydown)===null||g===void 0||g.call(n,h,{e:d})}}},i=function(d){var f;if(!n.disabled){var h=nC(d.currentTarget.value,n.type);(f=n.onKeyup)===null||f===void 0||f.call(n,h,{e:d})}},r=function(d){var f;if(!n.disabled){var h=nC(d.currentTarget.value,n.type);(f=n.onKeypress)===null||f===void 0||f.call(n,h,{e:d})}},o=function(d){var f;if(!n.disabled){var h=d.clipboardData||window.clipboardData;(f=n.onPaste)===null||f===void 0||f.call(n,{e:d,pasteValue:h==null?void 0:h.getData("text/plain")})}},a=function(d){return e.value=d},s=function(d){var f;return(f=n.onWheel)===null||f===void 0?void 0:f.call(n,{e:d})},l=function(d){var f;a(!0),(f=n.onMouseenter)===null||f===void 0||f.call(n,{e:d})},u=function(d){var f;a(!1),(f=n.onMouseleave)===null||f===void 0||f.call(n,{e:d})};return{isHover:e,handleKeydown:t,handleKeyUp:i,handleKeypress:r,onHandlePaste:o,onHandleMousewheel:s,onInputMouseenter:l,onInputMouseleave:u}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wme=100;function Cme(n,e,t){var i=rt(n),r=i.autoWidth,o=i.placeholder,a=oe(null),s=oe(null),l=function(){!a.value||!e.value||(e.value.style.width=getComputedStyle(a.value).width)};Ep(a,function(){r.value&&(s.value=setTimeout(function(){l(),clearTimeout(s.value)},wme))}),yi(function(){clearTimeout(s.value)});var u=function(){Pe([t,o],function(){r.value&&tn(function(){l()})},{immediate:!0})};return mt(function(){r.value&&u()}),{inputPreRef:a}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Sme=["isHover","tStatus","inputRef","renderType","showClear","focused","inputValue","isComposition","compositionValue","innerValue","limitNumber"];function OB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Ome=pe({name:"TInput",props:xB(xB({},bme),{},{showInput:{type:Boolean,default:!0},keepWrapperWidth:{type:Boolean,default:!1}}),setup:function(e,t){var i=t.expose,r=Dt("input"),o=r.globalConfig,a=On({BrowseIcon:GL,BrowseOffIcon:cfe,CloseCircleFilledIcon:Sp}),s=a.BrowseIcon,l=a.BrowseOffIcon,u=a.CloseCircleFilledIcon,c=sr(),d=xi(),f=we("input"),h=we("input__wrap"),v=we("input__tips"),g=Wn(),p=g.STATUS,m=g.SIZE,b=we(),C=ft(),O=yme(e,i),w=O.isHover,E=O.tStatus,P=O.inputRef,D=O.renderType,k=O.showClear,L=O.focused,M=O.inputValue,A=O.isComposition,j=O.compositionValue,V=O.innerValue,H=O.limitNumber,N=Gu(O,Sme),F=Cme(e,P,V),W=F.inputPreRef,U=_me(e,w),q=R(function(){var ee;return(ee=e.placeholder)!==null&&ee!==void 0?ee:o.value.placeholder}),Z=R(function(){var ee,K={autofocus:e.autofocus,disabled:d.value,readonly:c.value,placeholder:q.value,name:e.name||void 0,type:D.value,autocomplete:(ee=e.autocomplete)!==null&&ee!==void 0?ee:o.value.autocomplete||void 0,unselectable:c.value?"on":"off",spellcheck:e.spellCheck};return Hb(K)}),z=R(function(){return[h.value,X({},"".concat(f.value,"--auto-width"),e.autoWidth&&!e.keepWrapperWidth)]}),ie=Hb({onFocus:N.emitFocus,onBlur:N.formatAndEmitBlur,onKeydown:U.handleKeydown,onKeyup:U.handleKeyUp,onKeypress:U.handleKeypress,onPaste:U.onHandlePaste,onCompositionend:N.onHandleCompositionend,onCompositionstart:N.onHandleCompositionstart});return function(){var ee,K,J,$=C("prefixIcon"),Y=C("suffixIcon"),te=C("passwordIcon"),ae=C("label",{silent:!0}),le=C("suffix"),Q=H.value&&e.showLimitNumber?x("div",{class:["".concat(b.value,"-input__limit-number"),X({},"".concat(b.value,"-is-disabled"),d.value)]},[H.value]):null,ne=ae?x("div",{class:"".concat(f.value,"__prefix")},[ae]):null,se=le||Q?x("div",{class:"".concat(f.value,"__suffix")},[le,Q]):null;if(e.type==="password"){var de=[X({},"".concat(f.value,"__suffix-clear"),!d.value)];D.value==="password"?Y=x(l,{class:de,onClick:N.emitPassword},null):D.value==="text"&&(Y=x(s,{class:de,onClick:N.emitPassword},null))}k.value&&(e.type==="password"?te=x(u,{ref:N.clearIconRef,class:"".concat(f.value,"__suffix-clear"),onClick:N.emitClear,onMousedown:N.onClearIconMousedown},null):Y=x(u,{ref:N.clearIconRef,class:"".concat(f.value,"__suffix-clear"),onClick:N.emitClear,onMousedown:N.onClearIconMousedown},null));var he=[f.value,e.inputClass,X(X(X(X(X(X(X(X(X(X({},m.value[e.size],e.size!=="medium"),p.value.disabled,d.value),p.value.focused,d.value?!1:L.value),"".concat(b.value,"-is-").concat(E.value),E.value&&E.value!=="default"),"".concat(b.value,"-align-").concat(e.align),e.align!=="left"),"".concat(b.value,"-is-readonly"),c.value),"".concat(f.value,"--prefix"),$||ne),"".concat(f.value,"--suffix"),Y||se),"".concat(f.value,"--borderless"),e.borderless),"".concat(f.value,"--focused"),L.value)],ge=C("tips"),Se=[v.value,"".concat(b.value,"-tips"),"".concat(b.value,"-is-").concat(E.value||"default")];return Du(x("div",{class:z.value},[x("div",{class:he,onClick:N.onRootClick,onMouseenter:U.onInputMouseenter,onMouseleave:U.onInputMouseleave,onWheel:U.onHandleMousewheel},[$?x("span",{class:["".concat(f.value,"__prefix"),"".concat(f.value,"__prefix-icon")]},[$]):null,ne,x("input",He({class:["".concat(f.value,"__inner"),X({},"".concat(f.value,"--soft-hidden"),!e.showInput)]},Z.value,ie,{ref:P,value:A.value?(ee=j.value)!==null&&ee!==void 0?ee:"":(K=M.value)!==null&&K!==void 0?K:"",onInput:function(Ce){return N.handleInput(Ce)}}),null),e.autoWidth&&x("span",{ref:W,class:"".concat(b.value,"-input__input-pre")},[A.value?(J=j.value)!==null&&J!==void 0?J:"":V.value||q.value]),se,te?x("span",{class:["".concat(f.value,"__suffix"),"".concat(f.value,"__suffix-icon"),"".concat(f.value,"__clear")]},[te]):null,Y?x("span",{class:["".concat(f.value,"__suffix"),"".concat(f.value,"__suffix-icon"),X({},"".concat(f.value,"__clear"),k.value)]},[Y]):null]),ge&&x("div",{class:Se},[ge])]),[[ld,e.type!=="hidden"]])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var xme={separate:Boolean};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Eme=pe({name:"TInputGroup",props:xme,setup:function(e){var t=we("input-group"),i=ft(),r=R(function(){return[t.value,X({},"".concat(t.value,"--separate"),e.separate)]});return function(){return x("div",{class:r.value},[i("default")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Do=Ye(Ome),Pme=Ye(Eme);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var kme={align:{type:String,validator:function(e){return e?["left","center","right"].includes(e):!0}},allowInputOverLimit:{type:Boolean,default:!0},autoWidth:Boolean,decimalPlaces:{type:[Number,Object],default:void 0},disabled:{type:Boolean,default:void 0},format:{type:Function},inputProps:{type:Object},label:{type:[String,Function]},largeNumber:Boolean,max:{type:[String,Number],default:1/0},min:{type:[String,Number],default:-1/0},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},step:{type:[String,Number],default:1},suffix:{type:[String,Function]},theme:{type:String,default:"row",validator:function(e){return e?["column","row","normal"].includes(e):!0}},tips:{type:[String,Function]},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onValidate:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function fu(n){return new Array(n).fill(0).join("")}function BU(n){if(!n)return!0;if(Dn(n))return!Number.isNaN(n);var e=/^[0-9|e|E|-]+\.*[0-9|e|E|-]*$/.test(n);if(!e)return!1;for(var t=0,i=0,r=0,o=0,a=n.length;o<a;o++)if(n[o]==="."&&(r+=1,r>1)||/(e|E)+/.test(n[o])&&(t+=1,t>1)||n[o]==="-"&&(i+=1,i>2))return!1;return!0}function ma(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return n.indexOf(".")!==-1?(Yt.error("InputNumber","num is not a integer number."),n):!n||n==="0"&&e?"":n==="0"?n:(e?n.replace(/0+$/,""):n.replace(/^0+/,""))||"0"}function Jx(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=ma(n,t),r=ma(e,t),o=i.length>r.length,a=o?i:r,s=o?r:i,l=[],u=[],c=t?0:a.length-s.length,d=t?s.length:a.length,f=d-1;f>=0;f--){var h=f-c,v=Number(a[f])+(Number(s[h])||0)+(u[f]||0);v>=10&&(u[f-1]=1),l.unshift(String(v%10))}return u[-1]&&l.unshift("1"),t?l.concat(a.slice(d,a.length)).join(""):l.join("")}function Fg(n,e){var t=n.split("."),i=Je(t,2),r=i[0],o=r===void 0?"0":r,a=i[1],s=a===void 0?"0":a,l=e.split("."),u=Je(l,2),c=u[0],d=c===void 0?"0":c,f=u[1],h=f===void 0?"0":f,v=Jx(o,d);if(s==="0"&&h==="0")return v;var g=ma(s,!0),p=ma(h,!0),m=Jx(g,p,!0),b=m.length;return b>g.length&&b>p.length?[ma(Jx(v,"1")),ma(m.slice(1),!0)].filter(function(C){return C}).join("."):[ma(v),ma(m,!0)].filter(function(C){return C}).join(".")}function $U(n,e){var t=ma(n),i=ma(e);if(t.length===i.length){for(var r=0,o=t.length;r<o;r++){if(t[r]>i[r])return 1;if(t[r]<i[r])return-1}return 0}return t.length>i.length?1:-1}function VU(n,e){for(var t=n&&n!=="0"?n.replace(/0+$/,""):"0",i=e&&e!=="0"?e.replace(/0+$/,""):"0",r=Math.max(t.length,i.length),o=0,a=r;o<a;o++){if((t[o]||0)>(i[o]||0))return 1;if((t[o]||0)<(i[o]||0))return-1}return 0}function hk(n){var e=n.split("e"),t=Je(e,2),i=t[0],r=t[1];if(!r)return n;var o=n.split("."),a=Je(o,2),s=a[0],l=a[1],u=l===void 0?"":l,c=Number(r),d=u.split("e"),f=Je(d,1),h=f[0];if(c>h.length){var v=fu(c-h.length);return i.replace(/(^0+|\.)/g,"")+v}var g=s.replace(/^0+/,"")+h.slice(0,c),p=h.slice(c);return p?[g,p].join("."):g}function Dme(n,e){var t=hk(n).split("."),i=Je(t,2),r=i[0],o=i[1],a=hk(e).split("."),s=Je(a,2),l=s[0],u=s[1],c=$U(r.replace("-",""),l.replace("-","")),d=r.includes("-"),f=l.includes("-");return d&&!f?-1:!d&&f?1:d&&f?c===0?0:c>0?-1:1:c===0?VU(o,u):c}function EB(n){return[-1/0,1/0].includes(Number(n))}function PB(n){return Number(n)<Number.MAX_SAFE_INTEGER&&Number(n)>Number.MIN_SAFE_INTEGER}function ch(n,e,t){var i=PB(n)&&PB(e)&&!t,r=EB(n)||EB(e);return i||r?Number(n)===Number(e)?0:Number(n)>Number(e)?1:-1:Dme(String(n),String(e))}function Qp(n,e,t){if(n===e)return"0";for(var i=t||{},r=i.decimal,o=i.stayZero,a=ma(n),s=ma(e),l=$U(a,s)>0,u=l?a:s,c=l?s:a,d=[],f=[],h=r?0:u.length-c.length,v=r?c.length:u.length,g=v-1;g>=0;g--){var p=g-h,m=Number(u[g])-(Number(c[p])||0)-(f[g]||0);m<0&&(f[g-1]=1,m+=10),d.unshift(String(m))}if(r)return d.concat(u.slice(v,u.length)).join("");var b=d.join("");return o||(b=b.replace(/^0+/,"")),ma(l?b:"-".concat(b))}function s0(n,e){if(n===e)return"0";var t=ch(n,e,!0)>0,i=t?n:e,r=t?e:n,o=i.split("."),a=Je(o,2),s=a[0],l=a[1],u=l===void 0?"0":l,c=r.split("."),d=Je(c,2),f=d[0],h=d[1],v=h===void 0?"0":h,g=Qp(s,f);if(u==="0"&&v==="0")return t?g:"-".concat(g);var p="",m=u;u.length<v.length&&(m="".concat(u).concat(fu(v.length-u.length))),VU(m,v)>=0?p=Qp(m,v,{decimal:!0}):(u.length<v.length||u==="0"?(p=Qp("1".concat(m),v,{stayZero:!0}),p=fu(v.length-p.length)+p):p=Qp(u,v,{decimal:!0}),g=Qp(g,"1"));var b=p?[g,p].join("."):g;return t?b:"-".concat(b)}function Tme(n,e){var t=n[0]==="-",i=e[0]==="-";if(t&&!i){var r=Fg(n.slice(1),e);return"-".concat(r)}return t&&i?s0(e.slice(1),n.slice(1)):!t&&i?Fg(n,e.slice(1)):s0(n,e)}function Ime(n,e){var t=n[0]==="-",i=e[0]==="-";if(t&&!i)return s0(e,n.slice(1));if(t&&i){var r=Fg(e.slice(1),n.slice(1));return"-".concat(r)}return!t&&i?s0(n,e.slice(1)):Fg(n,e)}function kB(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t)return n.toFixed(e);var i=n.toString().split("."),r=Je(i,2),o=r[0],a=r[1];if(e===0)return o;if(a){var s=a.slice(0,e);return a.length<e&&(s+=fu(e-a.length)),[o,s].join(".")}return[o,fu(e)].join(".")}function Lme(n,e){if(Wt(e)){var t;return kB(n,e.places,(t=e.enableRound)!==null&&t!==void 0?t:!0)}return kB(n,e,!0)}function l0(n){var e,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Number.isNaN(Number(n)))return"";if(!i)return Lme(Number(n),t);var r=Wt(t)?t.places:t,o=Wt(t)&&(e=t.enableRound)!==null&&e!==void 0?e:!0;if(!kt(n))return String(n);var a=n.split("."),s=Je(a,2),l=s[0],u=s[1];if(!u)return r>0&&o?[n,fu(r)].join("."):n;if(r===0)return o&&Number(u[0])>=5?Fg(l,"1"):l;var c=u.slice(0,r);if(u.length<r)c+=fu(r-u.length);else if(o){var d,f=(d=c.match(/^0+/))===null||d===void 0?void 0:d[0].length,h=c.match(/^9+/),v=Number(u[r])>=5;c=v?Fg(c,"1"):c,f&&v&&f+c.length>=r&&(c="".concat(fu(r-c.length)).concat(c)),h&&c.length>r&&(l=(Number(l)+1).toString(),c=fu(r))}return[l,c].join(".")}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Mme(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n&&n!==0?!0:t&&kt(n)?ch(n,e,t)<0:n<e}function Ame(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n&&n!==0?!0:t&&kt(n)?ch(n,e,t)>0:n>e}function Rme(n,e){if(n!==""){var t=e.max,i=e.min,r=e.lastValue,o=e.largeNumber;return BU(n)?o&&(kt(t)||t===1/0)&&(kt(i)||i===-1/0)?ch(t,n,o)<0?t:ch(i,n,o)>0?i:n:Math.max(Number(i),Math.min(Number(t),Number(n))):r}}function zb(n,e){var t,i;if(!n||!e)return(n||0)+(e||0);var r=((t=n.toString().split(".")[1])===null||t===void 0?void 0:t.length)||0,o=((i=e.toString().split(".")[1])===null||i===void 0?void 0:i.length)||0;if(!r&&!o)return n+e;var a=n,s=e,l=Math.abs(r-o),u=Math.pow(10,Math.max(r,o));if(l>0){var c=Math.pow(10,l);r>o?(a=Number(n.toString().replace(".","")),s=Number(e.toString().replace(".",""))*c):(a=Number(n.toString().replace(".",""))*c,s=Number(e.toString().replace(".","")))}else a=Number(n.toString().replace(".","")),s=Number(e.toString().replace(".",""));return(a+s)/u}function Ub(n,e){var t,i;if(!n||!e)return(n||0)-(e||0);var r=((t=n.toString().split(".")[1])===null||t===void 0?void 0:t.length)||0,o=((i=e.toString().split(".")[1])===null||i===void 0?void 0:i.length)||0,a=Math.pow(10,Math.max(r,o)),s=r>=o?r:o;return Number(((n*a-e*a)/a).toFixed(s))}function Nme(n,e){return n<0&&e>0?Ub(e,Math.abs(n)):n<0&&e<0?zb(Math.abs(n),Math.abs(e))*-1:n>0&&e<0?Ub(n,Math.abs(e)):zb(n,e)}function Fme(n,e){return n<0&&e>0?zb(Math.abs(n),e)*-1:n<0&&e<0?Ub(Math.abs(e),Math.abs(n)):n>0&&e<0?zb(n,Math.abs(e)):Ub(n,e)}function jme(n){var e=n.op,t=n.step,i=n.lastValue,r=n.max,o=n.min,a=n.largeNumber;if(Number(t)<=0)return Yt.error("InputNumber","step must be larger than 0."),i;var s=Dn(t)?String(t):t,l;return e==="add"?a&&kt(i)?l=Ime(String(i),String(s)):l=Nme(Number(i||0),Number(t)):e==="reduce"&&(a&&kt(i)?l=Tme(String(i),String(s)):l=Fme(Number(i||0),Number(t))),Nr(i)&&(l=Rme(l,{max:r,min:o,lastValue:i,largeNumber:a})),a?l:Number(l)}function Qx(n){var e=n.largeNumber,t=n.value,i=n.max,r=n.min;if(!(Nr(t)||Nr(e))){e&&Dn(t)&&Yt.warn("InputNumber","largeNumber value must be a string.");var o;return ch(t,i,e)>0?o="exceed-maximum":ch(t,r,e)<0?o="below-minimum":o=void 0,o}}var Hme=["-",".","e","E","+"];function Bme(n,e){var t,i;if(["",null,void 0].includes(n))return!0;if(n.slice(0,2)==="00"||n.match(/\s/g)||((t=n.match(/\./g))===null||t===void 0?void 0:t.length)>1||((i=n.match(/e/g))===null||i===void 0?void 0:i.length)>1)return!1;var r=n.slice(1),o=r.match(/(\+|-)/g);if(o&&(!/e(\+|-)/i.test(r)||o.length>1))return!1;var a=e&&BU(n)||!Number.isNaN(Number(n));return!(!a&&!Hme.includes(n.slice(-1))||/e/i.test(n)&&(!/\de/i.test(n)||/e\./.test(n)))}function $me(n,e){return parseFloat(n)!==e&&!Number.isNaN(Number(n))}function V_(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(["",null,void 0].includes(n)||!/\d+/.test(n))){var t=e.decimalPlaces,i=e.largeNumber,r=e.isToFixed,o=n.replace(/[.|+|\-|e]$/,"");return i&&(o=hk(o)),t!==void 0&&(o=l0(o,t,i)),i||r?o:parseFloat(o)}}function Vme(n){var e=/^[-+]?\d{1,3}(,\d{3})*(\.(\d*))?$/;return e.test(n)?n.replace(/,/g,""):n}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Wme(n){var e=pO(),t=e.classPrefix,i=e.sizeClassNames,r=e.statusClassNames,o=rt(n),a=o.value,s=o.modelValue,l=o.max,u=o.min,c=Nn(a,s,n.defaultValue,n.onChange),d=Je(c,2),f=d[0],h=d[1],v=oe(),g=oe(""),p=xi(),m=sr(),b=oe(),C=R(function(){return p.value||!Ame(f.value,n.min,n.largeNumber)}),O=R(function(){return p.value||!Mme(f.value,n.max,n.largeNumber)}),w=R(function(){return["".concat(t.value,"-input-number"),i[n.size],X(X(X(X({},r.disabled,p.value),"".concat(t.value,"-is-controls-right"),n.theme==="column"),"".concat(t.value,"-input-number--").concat(n.theme),n.theme),"".concat(t.value,"-input-number--auto-width"),n.autoWidth)]}),E=R(function(){return["".concat(t.value,"-input-number__decrease"),X({},r.disabled,C.value)]}),P=R(function(){return["".concat(t.value,"-input-number__increase"),X({},r.disabled,O.value)]}),D=function(ie){var ee;if(!ie&&ie!==0)return"";var K=ie||ie===0?String(ie):"";if(!((ee=v.value)!==null&&ee!==void 0&&(ee=ee.inputRef)!==null&&ee!==void 0&&ee.contains(document.activeElement))){var J=V_(K,{decimalPlaces:n.decimalPlaces,largeNumber:n.largeNumber,isToFixed:!0});K=J||J===0?String(J):"",n.format&&(K=String(n.format(ie,{fixedNumber:K})))}return K};Pe(f,function(z){var ie=n.largeNumber,ee=n.decimalPlaces,K=[void 0,null].includes(z)?"":String(z);if(!ie&&!Number.isNaN(g.value)){parseFloat(g.value)!==z&&(g.value=D(K));var J=Number(l0(K,ee,ie));ee!==void 0&&![void 0,null].includes(z)&&Number(J)!==Number(f.value)&&h(J,{type:"props",e:void 0})}if(ie&&(g.value=D(K),ee!==void 0&&l0(K,ee,ie)!==z)){var $,Y=K;($=v.value)!==null&&$!==void 0&&($=$.inputRef)!==null&&$!==void 0&&$.contains(document.activeElement)||(Y=V_(Y,{decimalPlaces:n.decimalPlaces,largeNumber:n.largeNumber,isToFixed:!0})),h(Y,{type:"props",e:void 0})}},{immediate:!0}),Pe([f,l,u],function(){var z;if(![void 0,"",null].includes(f.value)){var ie=n.max,ee=n.min,K=n.largeNumber,J=Qx({value:f.value,largeNumber:K,max:ie,min:ee});b.value=J,(z=n.onValidate)===null||z===void 0||z.call(n,{error:J})}},{immediate:!0});var k=function(ie){var ee=jme({op:ie,step:n.step,max:n.max,min:n.min,lastValue:f.value,largeNumber:n.largeNumber}),K=n.largeNumber,J=n.max,$=n.min,Y=Qx({value:ee,largeNumber:K,max:J,min:$});return{overLimit:Y,newValue:ee}},L=function(ie){if(!(C.value||m.value)){var ee=k("reduce");ee.overLimit&&!n.allowInputOverLimit||h(ee.newValue,{type:"reduce",e:ie})}},M=function(ie){if(!(O.value||m.value)){var ee=k("add");ee.overLimit&&!n.allowInputOverLimit||h(ee.newValue,{type:"add",e:ie})}},A=function(ie,ee){var K=ee.e,J=Vme(ie);if(Bme(J,n.largeNumber)){if(g.value=J,n.largeNumber){h(J,{type:"input",e:K});return}if($me(String(J),Number(f.value))){var $=J===""?void 0:Number(J);h($,{type:"input",e:K})}}},j=function(ie,ee){var K,J=n.largeNumber,$=n.max,Y=n.min,te=n.decimalPlaces;if(!n.allowInputOverLimit&&f.value!==void 0){var ae=Qx({value:f.value,largeNumber:J,max:$,min:Y});if(ae==="below-minimum"){var le;h(Y,{type:"blur",e:ee.e}),(le=n.onBlur)===null||le===void 0||le.call(n,Y,ee);return}if(ae==="exceed-maximum"){var Q;h($,{type:"blur",e:ee.e}),(Q=n.onBlur)===null||Q===void 0||Q.call(n,$,ee);return}}var ne=V_(ie,{decimalPlaces:te,largeNumber:J});g.value=D(ne),ne!==f.value&&h(ne,{type:"blur",e:ee.e}),(K=n.onBlur)===null||K===void 0||K.call(n,ne,ee)},V=function(ie,ee){var K;g.value=f.value||f.value===0?String(f.value):"",(K=n.onFocus)===null||K===void 0||K.call(n,ie,ee)},H=function(ie,ee){var K;if(!p.value){var J=ee.e,$={ArrowUp:M,ArrowDown:L},Y=J.code||J.key;$[Y]!==void 0&&$[Y](J),(K=n.onKeydown)===null||K===void 0||K.call(n,ie,ee)}},N=function(ie,ee){var K;(K=n.onKeyup)===null||K===void 0||K.call(n,ie,ee)},F=function(ie,ee){var K;(K=n.onKeypress)===null||K===void 0||K.call(n,ie,ee)},W=function(ie,ee){var K;g.value=D(ie);var J=V_(ie,{decimalPlaces:n.decimalPlaces,largeNumber:n.largeNumber});J!==ie&&String(J)!==ie&&h(J,{type:"enter",e:ee.e}),(K=n.onEnter)===null||K===void 0||K.call(n,J,ee)},U=function(){p.value||m.value||v.value.focus()},q=function(){v.value.blur()},Z={onBlur:j,onFocus:V,onKeydown:H,onKeyup:N,onKeypress:F,onEnter:W,onClick:U};return{classPrefix:t,wrapClasses:w,reduceClasses:E,addClasses:P,tDisabled:p,isError:b,listeners:Z,userInput:g,tValue:f,inputRef:v,focus:U,blur:q,handleReduce:L,handleAdd:M,onInnerInputChange:A,isReadonly:m}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function DB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zme(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Ume=pe({name:"TInputNumber",props:kme,setup:function(e,t){var i=On({AddIcon:fO,RemoveIcon:mhe,ChevronDownIcon:hO,ChevronUpIcon:N9}),r=i.AddIcon,o=i.RemoveIcon,a=i.ChevronDownIcon,s=i.ChevronUpIcon,l=Wme(e),u=l.inputRef;return t.expose(zme({},l)),function(){var c=e.theme==="column"?x(a,{size:e.size},null):x(o,{size:e.size},null),d=e.theme==="column"?x(s,{size:e.size},null):x(r,{size:e.size},null),f=l.isError.value?"error":e.status;return x("div",{class:l.wrapClasses.value},[e.theme!=="normal"&&x(Bt,{class:l.reduceClasses.value,disabled:l.tDisabled.value,onClick:l.handleReduce,variant:"outline",shape:"square",icon:function(){return c}},null),x(Do,He({ref:u,disabled:l.tDisabled.value,readonly:l.isReadonly.value,autocomplete:"off",placeholder:e.placeholder,unselectable:l.isReadonly.value?"on":"off",autoWidth:e.autoWidth,align:e.align||(e.theme==="row"?"center":void 0),status:f,label:e.label,suffix:e.suffix,tips:e.tips},l.listeners,e.inputProps,{value:l.userInput.value,onChange:l.onInnerInputChange}),t.slots),e.theme!=="normal"&&x(Bt,{class:l.addClasses.value,disabled:l.tDisabled.value,onClick:l.handleAdd,variant:"outline",shape:"square",icon:function(){return d}},null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Jy=Ye(Ume);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Kme={allowInput:Boolean,autoWidth:Boolean,autofocus:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:{type:Boolean,default:void 0},inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},label:{type:[String,Function]},loading:Boolean,minCollapsedNum:{type:Number,default:0},multiple:Boolean,panel:{type:[String,Function]},placeholder:{type:String,default:""},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:Boolean,prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},reserveKeyword:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Boolean,Object,Array,Date],default:void 0},valueDisplay:{type:[String,Function]},onBlur:Function,onClear:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onPopupVisibleChange:Function,onTagChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var qme={autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:{type:Boolean,default:void 0},dragSort:Boolean,excessTagsDisplayType:{type:String,default:"break-line",validator:function(e){return e?["scroll","break-line"].includes(e):!0}},inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number],default:""},label:{type:[String,Function]},max:{type:Number},minCollapsedNum:{type:Number,default:0},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tag:{type:[String,Function]},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueDisplay:{type:[String,Function]},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onDragSort:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onRemove:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Gme(n){var e=n.sortOnDraggable,t=n.onDragSort,i=n.onDragOverCheck,r=oe(-1),o=oe(null),a=oe(null),s=$n({nodeX:0,nodeWidth:0,mouseX:0}),l=function(v,g,p){if(v.preventDefault(),!(r.value===g||r.value===-1)){var m=v.target;if(!(i!=null&&i.targetClassNameRegExp&&!(i!=null&&i.targetClassNameRegExp.test(m.className)))){if(i!=null&&i.x&&m){if(!s.nodeWidth)return;var b=m.getBoundingClientRect(),C=b.x,O=b.width,w=C+O/2,E=v.clientX-(s.mouseX-s.nodeX),P=E+s.nodeWidth,D=!1;if(E>C&&E<C+O?D=E<w:D=P>w,!D)return}t==null||t({currentIndex:r.value,current:o,target:p,targetIndex:g}),r.value=g}}};if(!e)return{};function u(h,v,g){r.value=v,o.value=g;var p=h.target;if(i&&p){var m=p.getBoundingClientRect(),b=m.x,C=m.width;s.nodeX=b,s.nodeWidth=C,s.mouseX=h.clientX}}function c(){a.value=!0}function d(){a.value,a.value=!1,r.value=-1,o.value=null}function f(h,v){return e?{draggable:!0,onDragstart:function(p){u(p,h,v)},onDragover:function(p){l(p,h,v)},onDrop:function(){c()},onDragend:function(){d()}}:{}}return{onDragStart:u,onDragOver:l,onDrop:c,onDragEnd:d,getDragProps:f,dragging:r.value!==-1}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Yme(n){var e=n.disabled,t=n.readonly,i=n.onMouseenter,r=n.onMouseleave,o=oe(!1),a=function(u){t||e||(o.value=!0,i==null||i(u))},s=function(u){t||e||(o.value=!1,r==null||r(u))};return{isHover:o,addHover:a,cancelHover:s}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Zme(n){var e=oe(),t=rt(n),i=t.excessTagsDisplayType,r=t.readonly,o=t.disabled,a=oe(0),s=oe(),l=oe(),u=oe(!1),c=function(w){var E=w.children[0];s.value=E},d=function(){a.value=s.value.scrollWidth-s.value.clientWidth},f=function(w){var E;qe((E=s.value)===null||E===void 0?void 0:E.scroll)&&s.value.scroll({left:w,behavior:"smooth"})},h=function(){d(),f(a.value),setTimeout(function(){u.value=!0},200)},v=function(){f(0)},g=function(w){var E=w.e;if(!(r.value||o.value)&&s.value)if(E.deltaX>0){var P=Math.min(s.value.scrollLeft+120,a.value);f(P)}else{var D=Math.max(s.value.scrollLeft-120,0);f(D)}},p=function(){i.value==="scroll"&&(l.value=setTimeout(function(){h(),clearTimeout(l.value)},100))},m=function(){i.value==="scroll"&&(u.value=!1,f(0),clearTimeout(l.value))},b=function(){var w,E=(w=e.value)===null||w===void 0?void 0:w.$el;E&&c(E)},C=function(){clearTimeout(l.value)};return mt(b),Ea(C),{tagInputRef:e,scrollElement:s,scrollDistance:a,scrollTo:f,scrollToRight:h,scrollToLeft:v,updateScrollElement:c,updateScrollDistance:d,onWheel:g,scrollToRightOnEnter:p,scrollToLeftOnLeave:m,isScrollable:u}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function u0(n){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(n)}var Xme=/^\s+/,Jme=/\s+$/;function Pt(n,e){if(n=n||"",e=e||{},n instanceof Pt)return n;if(!(this instanceof Pt))return new Pt(n,e);var t=Qme(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}Pt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,i,r,o,a,s;return t=e.r/255,i=e.g/255,r=e.b/255,t<=.03928?o=t/12.92:o=Math.pow((t+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),.2126*o+.7152*a+.0722*s},setAlpha:function(e){return this._a=WU(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=IB(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=IB(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+i+"%, "+r+"%)":"hsva("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=TB(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=TB(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return LB(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return ibe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(qi(this._r,255)*100)+"%",g:Math.round(qi(this._g,255)*100)+"%",b:Math.round(qi(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(qi(this._r,255)*100)+"%, "+Math.round(qi(this._g,255)*100)+"%, "+Math.round(qi(this._b,255)*100)+"%)":"rgba("+Math.round(qi(this._r,255)*100)+"%, "+Math.round(qi(this._g,255)*100)+"%, "+Math.round(qi(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:gbe[LB(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+MB(this._r,this._g,this._b,this._a),i=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=Pt(e);i="#"+MB(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,r=this._a<1&&this._a>=0,o=!t&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Pt(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(sbe,arguments)},brighten:function(){return this._applyModification(lbe,arguments)},darken:function(){return this._applyModification(ube,arguments)},desaturate:function(){return this._applyModification(rbe,arguments)},saturate:function(){return this._applyModification(obe,arguments)},greyscale:function(){return this._applyModification(abe,arguments)},spin:function(){return this._applyModification(cbe,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(hbe,arguments)},complement:function(){return this._applyCombination(dbe,arguments)},monochromatic:function(){return this._applyCombination(vbe,arguments)},splitcomplement:function(){return this._applyCombination(fbe,arguments)},triad:function(){return this._applyCombination(AB,[3])},tetrad:function(){return this._applyCombination(AB,[4])}};Pt.fromRatio=function(n,e){if(u0(n)=="object"){var t={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?t[i]=n[i]:t[i]=bm(n[i]));n=t}return Pt(n,e)};function Qme(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,o=null,a=!1,s=!1;return typeof n=="string"&&(n=ybe(n)),u0(n)=="object"&&(Wl(n.r)&&Wl(n.g)&&Wl(n.b)?(e=ebe(n.r,n.g,n.b),a=!0,s=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Wl(n.h)&&Wl(n.s)&&Wl(n.v)?(i=bm(n.s),r=bm(n.v),e=nbe(n.h,i,r),a=!0,s="hsv"):Wl(n.h)&&Wl(n.s)&&Wl(n.l)&&(i=bm(n.s),o=bm(n.l),e=tbe(n.h,i,o),a=!0,s="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=WU(t),{ok:a,format:n.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function ebe(n,e,t){return{r:qi(n,255)*255,g:qi(e,255)*255,b:qi(t,255)*255}}function TB(n,e,t){n=qi(n,255),e=qi(e,255),t=qi(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o,a,s=(i+r)/2;if(i==r)o=a=0;else{var l=i-r;switch(a=s>.5?l/(2-i-r):l/(i+r),i){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function tbe(n,e,t){var i,r,o;n=qi(n,360),e=qi(e,100),t=qi(t,100);function a(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(c-u)*6*d:d<1/2?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e===0)i=r=o=t;else{var s=t<.5?t*(1+e):t+e-t*e,l=2*t-s;i=a(l,s,n+1/3),r=a(l,s,n),o=a(l,s,n-1/3)}return{r:i*255,g:r*255,b:o*255}}function IB(n,e,t){n=qi(n,255),e=qi(e,255),t=qi(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o,a,s=i,l=i-r;if(a=i===0?0:l/i,i==r)o=0;else{switch(i){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s:a,v:s}}function nbe(n,e,t){n=qi(n,360)*6,e=qi(e,100),t=qi(t,100);var i=Math.floor(n),r=n-i,o=t*(1-e),a=t*(1-r*e),s=t*(1-(1-r)*e),l=i%6,u=[t,a,o,o,s,t][l],c=[s,t,t,a,o,o][l],d=[o,o,s,t,t,a][l];return{r:u*255,g:c*255,b:d*255}}function LB(n,e,t,i){var r=[Ps(Math.round(n).toString(16)),Ps(Math.round(e).toString(16)),Ps(Math.round(t).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function ibe(n,e,t,i,r){var o=[Ps(Math.round(n).toString(16)),Ps(Math.round(e).toString(16)),Ps(Math.round(t).toString(16)),Ps(zU(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function MB(n,e,t,i){var r=[Ps(zU(i)),Ps(Math.round(n).toString(16)),Ps(Math.round(e).toString(16)),Ps(Math.round(t).toString(16))];return r.join("")}Pt.equals=function(n,e){return!n||!e?!1:Pt(n).toRgbString()==Pt(e).toRgbString()};Pt.random=function(){return Pt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function rbe(n,e){e=e===0?0:e||10;var t=Pt(n).toHsl();return t.s-=e/100,t.s=mO(t.s),Pt(t)}function obe(n,e){e=e===0?0:e||10;var t=Pt(n).toHsl();return t.s+=e/100,t.s=mO(t.s),Pt(t)}function abe(n){return Pt(n).desaturate(100)}function sbe(n,e){e=e===0?0:e||10;var t=Pt(n).toHsl();return t.l+=e/100,t.l=mO(t.l),Pt(t)}function lbe(n,e){e=e===0?0:e||10;var t=Pt(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),Pt(t)}function ube(n,e){e=e===0?0:e||10;var t=Pt(n).toHsl();return t.l-=e/100,t.l=mO(t.l),Pt(t)}function cbe(n,e){var t=Pt(n).toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,Pt(t)}function dbe(n){var e=Pt(n).toHsl();return e.h=(e.h+180)%360,Pt(e)}function AB(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=Pt(n).toHsl(),i=[Pt(n)],r=360/e,o=1;o<e;o++)i.push(Pt({h:(t.h+o*r)%360,s:t.s,l:t.l}));return i}function fbe(n){var e=Pt(n).toHsl(),t=e.h;return[Pt(n),Pt({h:(t+72)%360,s:e.s,l:e.l}),Pt({h:(t+216)%360,s:e.s,l:e.l})]}function hbe(n,e,t){e=e||6,t=t||30;var i=Pt(n).toHsl(),r=360/t,o=[Pt(n)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(Pt(i));return o}function vbe(n,e){e=e||6;for(var t=Pt(n).toHsv(),i=t.h,r=t.s,o=t.v,a=[],s=1/e;e--;)a.push(Pt({h:i,s:r,v:o})),o=(o+s)%1;return a}Pt.mix=function(n,e,t){t=t===0?0:t||50;var i=Pt(n).toRgb(),r=Pt(e).toRgb(),o=t/100,a={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return Pt(a)};Pt.readability=function(n,e){var t=Pt(n),i=Pt(e);return(Math.max(t.getLuminance(),i.getLuminance())+.05)/(Math.min(t.getLuminance(),i.getLuminance())+.05)};Pt.isReadable=function(n,e,t){var i=Pt.readability(n,e),r,o;switch(o=!1,r=_be(t),r.level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};Pt.mostReadable=function(n,e,t){var i=null,r=0,o,a,s,l;t=t||{},a=t.includeFallbackColors,s=t.level,l=t.size;for(var u=0;u<e.length;u++)o=Pt.readability(n,e[u]),o>r&&(r=o,i=Pt(e[u]));return Pt.isReadable(n,i,{level:s,size:l})||!a?i:(t.includeFallbackColors=!1,Pt.mostReadable(n,["#fff","#000"],t))};var vk=Pt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},gbe=Pt.hexNames=pbe(vk);function pbe(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function WU(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function qi(n,e){mbe(n)&&(n="100%");var t=bbe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function mO(n){return Math.min(1,Math.max(0,n))}function sa(n){return parseInt(n,16)}function mbe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function bbe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Ps(n){return n.length==1?"0"+n:""+n}function bm(n){return n<=1&&(n=n*100+"%"),n}function zU(n){return Math.round(parseFloat(n)*255).toString(16)}function RB(n){return sa(n)/255}var ps=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Wl(n){return!!ps.CSS_UNIT.exec(n)}function ybe(n){n=n.replace(Xme,"").replace(Jme,"").toLowerCase();var e=!1;if(vk[n])n=vk[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=ps.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=ps.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=ps.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=ps.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=ps.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=ps.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=ps.hex8.exec(n))?{r:sa(t[1]),g:sa(t[2]),b:sa(t[3]),a:RB(t[4]),format:e?"name":"hex8"}:(t=ps.hex6.exec(n))?{r:sa(t[1]),g:sa(t[2]),b:sa(t[3]),format:e?"name":"hex"}:(t=ps.hex4.exec(n))?{r:sa(t[1]+""+t[1]),g:sa(t[2]+""+t[2]),b:sa(t[3]+""+t[3]),a:RB(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=ps.hex3.exec(n))?{r:sa(t[1]+""+t[1]),g:sa(t[2]+""+t[2]),b:sa(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function _be(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wbe={closable:Boolean,color:{type:String,default:""},content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,icon:{type:Function,default:void 0},maxWidth:{type:[String,Number]},shape:{type:String,default:"square",validator:function(e){return e?["square","round","mark"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},theme:{type:String,default:"default",validator:function(e){return e?["default","primary","warning","danger","success"].includes(e):!0}},title:{type:String,default:""},variant:{type:String,default:"dark",validator:function(e){return e?["dark","light","outline","light-outline"].includes(e):!0}},onClick:Function,onClose:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var UU=pe({name:"TTag",props:wbe,setup:function(e){var t=Dt("tag"),i=t.globalConfig,r=we("tag"),o=On({CloseIcon:js}),a=o.CloseIcon,s=ft(),l=Mn(),u=Wn(),c=u.SIZE,d=Ui(),f=d.vnode,h=R(function(){return["".concat(r.value),"".concat(r.value,"--").concat(e.theme),"".concat(r.value,"--").concat(e.variant),X(X(X(X({},"".concat(r.value,"--ellipsis"),e.maxWidth),"".concat(r.value,"--close"),e.closable),"".concat(r.value,"--disabled"),e.disabled),c.value[e.size],e.size!=="medium"),e.shape!=="square"&&"".concat(r.value,"--").concat(e.shape)]}),v=R(function(){return p()}),g=R(function(){return e.maxWidth?{maxWidth:isNaN(Number(e.maxWidth))?String(e.maxWidth):"".concat(e.maxWidth,"px")}:{}}),p=function(){var w=e.color,E=e.variant;if(!w)return{};var P=Pt(w).getLuminance(),D={color:P>.5?"black":"white"};if((E==="outline"||E==="light-outline")&&(D.borderColor=w),E!=="outline"){var k=function(){var M=Pt(w).toRgb(),A=M.r,j=M.g,V=M.b;return"rgba(".concat(A,", ").concat(j,", ").concat(V,", 0.1)")};D.backgroundColor=E==="dark"?w:k()}return E!=="dark"&&(D.color=w),D},m=function(w){var E;e.disabled||(E=e.onClick)===null||E===void 0||E.call(e,{e:w})},b=function(){if(!e.closable)return null;var w="".concat(r.value,"__icon-close");return i.value.closeIcon?At(i.value.closeIcon(At),{class:w}):x(a,{onClick:function(P){var D,k=P.e;k&&k.stopPropagation(),(D=e.onClose)===null||D===void 0||D.call(e,{e:k})},class:w},null)},C=function(w){if(e.maxWidth){var E=f.props||{};if(Reflect.has(E,"title"))return E.title||void 0;if(w)return w}};return function(){var O=b(),w=l("default","content"),E=s("icon"),P=C(kt(w)?w:"");return x("div",{class:h.value,style:v.value,onClick:m},[E,x("span",{class:e.maxWidth?"".concat(r.value,"--text"):void 0,style:g.value,title:P},[w]),!e.disabled&&O])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Cbe={checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,checkedProps:{type:Object},content:{type:[String,Number,Array,Function]},default:{type:[String,Function]},disabled:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},uncheckedProps:{type:Object},value:{type:[String,Number]},onChange:Function,onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var c0=/^ArrowDown$/i,d0=/^ArrowUp$/i,Sbe=/^ArrowLeft$/i,Obe=/^ArrowRight$/i,KU=/^Escape$/i,f0=/^Space$/i,gk=/^Enter$/i,NB=/^(Shift|ShiftLeft|ShiftRight)$/i,qU=/^KeyC$/i,GU=/^(KeyA|KeyL)$/i,h0=/^(Enter|Space)$/i;/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function FB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xbe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var YU=pe({name:"TCheckTag",props:Cbe,setup:function(e){var t=we("tag"),i=Wn(),r=i.SIZE,o=Mn(),a=rt(e),s=a.checked,l=a.modelValue,u=Nn(s,l,e.defaultChecked,e.onChange,"checked"),c=Je(u,2),d=c[0],f=c[1],h=R(function(){return["".concat(t.value),"".concat(t.value,"--check"),r.value[e.size],X(X({},"".concat(t.value,"--checked"),d.value),"".concat(t.value,"--disabled"),e.disabled)]}),v=R(function(){var C=jB({theme:"primary"},e.checkedProps),O=jB({},e.uncheckedProps);return d.value?C:O}),g=function(O){var w=O.e;if(!e.disabled){var E;(E=e.onClick)===null||E===void 0||E.call(e,{e:w}),f(!d.value,{e:w,value:e.value})}},p=function(O){var w,E=O.code||((w=O.key)===null||w===void 0?void 0:w.trim()),P=f0.test(E)||gk.test(E);P&&(O.preventDefault(),f(!d.value,{e:O,value:e.value}))},m=function(O){O.currentTarget.addEventListener("keydown",p)},b=function(O){O.currentTarget.removeEventListener("keydown",p)};return function(){var C=o("default","content");return x(UU,He({class:h.value,disabled:e.disabled,tabindex:e.disabled?void 0:"0",onFocus:m,onBlur:b},v.value,{onClick:g}),xbe(C)?C:{default:function(){return[C]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ebe={checkedProps:{type:Object},multiple:Boolean,options:{type:Array},uncheckedProps:{type:Object},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Pbe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var kbe=pe({name:"TCheckTagGroup",props:Ebe,setup:function(e,t){var i=rt(e),r=i.value,o=i.modelValue,a=i.options,s=we("check-tag-group"),l=R(function(){return[s.value]}),u=Nn(r,o,e.defaultValue,e.onChange),c=Je(u,2),d=c[0],f=c[1],h=function(p,m){var b=m.value;if(p)e.multiple?f(d.value.concat(b),{e:m.e,type:"check",value:b}):f([b],{e:m.e,type:"check",value:b});else{var C=[];e.multiple&&(C=d.value.filter(function(O){return O!==b})),f(C,{e:m.e,type:"uncheck",value:b})}},v=function(p){return t.slots.option?t.slots.option(p):t.slots.label?t.slots.label(p):p.label?qe(p.label)?p.label(At):p.label:p.content&&qe(p.content)?p.content(At):p.default&&qe(p.default)?p.default(At):p.value};return function(){return x("div",{class:l.value},[(a.value||[]).map(function(g){var p;return x(YU,{key:g.value,value:g.value,checkedProps:e.checkedProps,uncheckedProps:e.uncheckedProps,checked:d.value.includes(g.value),onChange:h,disabled:g.disabled,size:g.size,"data-value":g.value},Pbe(p=v(g))?p:{default:function(){return[p]}})})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var pk=Ye(UU),ZU=Ye(YU),Dbe=Ye(kbe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function HB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Zh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Tbe(n){var e=ft(),t=we(),i=rt(n),r=i.value,o=i.modelValue,a=i.onRemove,s=i.max,l=i.minCollapsedNum,u=i.size,c=i.tagProps,d=i.getDragProps,f=Nn(r,o,n.defaultValue||[],n.onChange),h=Je(f,2),v=h[0],g=h[1],p=oe(),m=xi(),b=sr(),C=function(L){var M,A=Be(v.value),j=A.splice(L.index,1),V=Je(j,1),H=V[0];g(A,Zh(Zh({trigger:"tag-remove"},L),{},{item:H})),(M=a.value)===null||M===void 0||M.call(a,Zh(Zh({},L),{},{item:H,trigger:"tag-remove",value:A}))},O=function(L){g([],{trigger:"clear",e:L.e})},w=function(L,M){var A,j,V=L?String(L).trim():"",H=s&&((A=v.value)===null||A===void 0?void 0:A.length)>=s.value,N=v.value;!H&&V&&(N=v.value instanceof Array?v.value.concat(String(V)):[V],g(N,{trigger:"enter",index:N.length-1,item:V,e:M.e})),n==null||(j=n.onEnter)===null||j===void 0||j.call(n,N,Zh(Zh({},M),{},{inputValue:L}))},E=function(L){!v.value||!v.value.length||(p.value=L)},P=function(L,M){var A=M.e;if(!(!v.value||!v.value.length||A.key==="Process"||b.value)){var j=/(Backspace|NumpadDelete)/i.test(A.code)||/(Backspace|NumpadDelete)/i.test(A.key);if(!L&&j){var V,H=v.value.length-1,N=v.value[H],F="backspace",W=v.value.slice(0,-1);g(W,{e:A,index:H,item:N,trigger:F}),(V=a.value)===null||V===void 0||V.call(a,{e:A,index:H,item:N,trigger:F,value:W})}p.value=L}},D=function(L){var M,A=L.displayNode,j=L.label,V=l.value?v.value.slice(0,l.value):v.value,H=A?[A]:(V==null||(M=V.map)===null||M===void 0?void 0:M.call(V,function(W,U){var q,Z=e("tag",{params:{value:W}});return x(pk,He({key:"".concat(W).concat(U),size:u.value,disabled:m.value,onClose:function(ie){return C({e:ie.e,index:U})},closable:!b.value&&!m.value},(q=d.value)===null||q===void 0?void 0:q.call(d,U,W),c.value),{default:function(){return[Z??W]}})}))||[];if([null,void 0,""].includes(j)||H.unshift(x("div",{class:"".concat(t.value,"-tag-input__prefix"),key:"label"},[j])),V.length!==(v.value||[]).length){var N=v.value.length-V.length,F=e("collapsedItems",{params:{value:v.value,count:v.value.length-l.value,collapsedTags:v.value.slice(l.value,v.value.length),collapsedSelectedItems:v.value.slice(l.value,v.value.length),onClose:C}});H.push(F??x(pk,He({key:"more",size:u.value},c.value),{default:function(){return["+",N]}}))}return H};return{tagValue:v,clearAll:O,onClose:C,onInnerEnter:w,onInputBackspaceKeyUp:E,onInputBackspaceKeyDown:P,renderLabel:D}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function BB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Xh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Ibe=function(){return{NAME_CLASS:we("tag-input"),CLEAR_CLASS:we("tag-input__suffix-clear"),BREAK_LINE_CLASS:we("tag-input--break-line")}},Lbe=pe({name:"TTagInput",props:qme,setup:function(e,t){var i=t.slots,r=ft(),o=Ibe(),a=o.NAME_CLASS,s=o.CLEAR_CLASS,l=o.BREAK_LINE_CLASS,u=On({CloseCircleFilledIcon:Sp}),c=u.CloseCircleFilledIcon,d=xi(),f=sr(),h=rt(e),v=h.inputValue,g=h.inputProps,p=h.borderless,m=h.size,b=h.tips,C=h.status,O=h.suffix,w=h.autoWidth,E=h.onPaste,P=Gi(v,e.defaultInputValue,e.onInputChange,"inputValue"),D=Je(P,2),k=D[0],L=D[1],M=rt(e),A=M.excessTagsDisplayType,j=M.clearable,V=M.placeholder,H=Yme({readonly:f.value,disabled:d.value,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave}),N=H.isHover,F=H.addHover,W=H.cancelHover,U=oe(!1),q=Dt(),Z=q.classPrefix,z=oe(!1),ie=Gme(Xh(Xh({},e),{},{sortOnDraggable:e.dragSort,onDragOverCheck:{x:!0,targetClassNameRegExp:new RegExp("^".concat(Z.value,"-tag"))}})),ee=ie.getDragProps,K=Zme(e),J=K.scrollToRight,$=K.onWheel,Y=K.scrollToRightOnEnter,te=K.scrollToLeftOnLeave,ae=K.tagInputRef,le=K.isScrollable,Q=Tbe($n(Xh(Xh({},rt(e)),{},{getDragProps:ee}))),ne=Q.tagValue,se=Q.onInnerEnter,de=Q.onInputBackspaceKeyUp,he=Q.onInputBackspaceKeyDown,ge=Q.clearAll,Se=Q.renderLabel,Te=Q.onClose,Ce=R(function(){var $e=!(ut(ne.value)&&ne.value.length);return[a.value,X(X(X({},l.value,A.value==="break-line"),"".concat(Z.value,"-is-empty"),$e),"".concat(Z.value,"-tag-input--with-tag"),!$e)]}),xe=R(function(){var $e;return($e=ne.value)!==null&&$e!==void 0&&$e.length?"":V.value}),Me=R(function(){var $e;return!!(!f.value&&!d.value&&j.value&&N.value&&(!(($e=ne.value)===null||$e===void 0)&&$e.length||k.value))}),Re=function(Fe,Ke){var et,ot;(et=Ke.e)===null||et===void 0||(ot=et.preventDefault)===null||ot===void 0||ot.call(et),L("",{e:Ke.e,trigger:"enter"}),!U.value&&se(Fe,Ke),tn(function(){J(),U.value=!1})},Ae=function(Fe,Ke){var et,ot;U.value=!0,(et=g.value)===null||et===void 0||(ot=et.onCompositionstart)===null||ot===void 0||ot.call(et,Fe,Ke)},De=function(Fe,Ke){var et,ot;U.value=!1,(et=g.value)===null||et===void 0||(ot=et.onCompositionend)===null||ot===void 0||ot.call(et,Fe,Ke)},Ee=function(Fe){var Ke,et;d.value||(z.value=!0,(Ke=ae.value)===null||Ke===void 0||Ke.focus(),(et=e.onClick)===null||et===void 0||et.call(e,Fe))},me=function(Fe){var Ke;ge(Fe),L("",{e:Fe.e,trigger:"clear"}),(Ke=e.onClear)===null||Ke===void 0||Ke.call(e,Fe)},Oe=function(Fe){F(Fe),Y()},ke=function(Fe){W(Fe),te()},Ve=function(Fe,Ke){var et;z.value||(z.value=!0,(et=e.onFocus)===null||et===void 0||et.call(e,ne.value,{e:Ke.e,inputValue:Fe}))},lt=function(Fe,Ke){var et;z.value=!1,L("",{e:Ke.e,trigger:"blur"}),(et=e.onBlur)===null||et===void 0||et.call(e,ne.value,{e:Ke.e,inputValue:Fe})},Ge=function(Fe,Ke){L(Fe,Xh(Xh({},Ke),{},{trigger:"input"}))};return Pe(function(){return le.value},function($e){if(e.excessTagsDisplayType==="scroll"){var Fe="".concat(Z.value,"-input__prefix"),Ke=ae.value.$el.querySelector(".".concat(Fe));$e?Ke.classList.add("".concat(Fe,"--scrollable")):Ke.classList.remove("".concat(Fe,"--scrollable"))}}),function(){var $e,Fe,Ke=Me.value?x(c,{class:s.value,onClick:me},null):r("suffixIcon"),et=r("prefixIcon"),ot="".concat(Z.value,"-tag-input__with-suffix-icon");Ke&&!Ce.value.includes(ot)&&Ce.value.push(ot);var Rt=r("valueDisplay",{params:{value:ne.value,onClose:function(Qi){return Te({index:Qi})}}}),zt=r("label",{silent:!0}),ri=f.value||(($e=g.value)===null||$e===void 0?void 0:$e.readonly);return x(Do,He({ref:ae,borderless:p.value,readonly:ri,showInput:!ri||!ne.value||!((Fe=ne.value)!==null&&Fe!==void 0&&Fe.length),value:k.value,autoWidth:!0,size:m.value,disabled:d.value,label:function(){return Se({displayNode:Rt,label:zt})},class:Ce.value,tips:b.value,status:C.value,placeholder:xe.value,suffix:O.value,suffixIcon:function(){return Ke},prefixIcon:function(){return et},keepWrapperWidth:!w.value,onWheel:$,onChange:Ge,onPaste:E.value,onEnter:Re,onKeyup:de,onKeydown:he,onMouseenter:Oe,onMouseleave:ke,onFocus:Ve,onBlur:lt,onClick:Ee,onCompositionstart:Ae,onCompositionend:De},g.value),{suffix:i.suffix})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var XU=Ye(Lbe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Mbe=["tips"];function $B(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$B(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Abe={label:"label",key:"key",children:"children"};function Rbe(n,e,t){var i=rt(n),r=i.inputValue,o=we(),a=oe(),s=oe(n.autofocus),l=Gi(r,n.defaultInputValue,n.onInputChange,"inputValue"),u=Je(l,2),c=u[0],d=u[1],f=xi(),h=sr(),v=R(function(){return hs(hs({},Abe),n.keys)}),g=R(function(){return n.value instanceof Array?n.value.map(function(P){return Wt(P)?P[v.value.label]:P}):Wt(n.value)?[n.value[v.value.label]]:[n.value]}),p=R(function(){return!g.value||!g.value.length?n.placeholder:""}),m=function(D,k){var L;if(k.trigger==="tag-remove"){var M;(M=k.e)===null||M===void 0||M.stopPropagation()}(L=n.onTagChange)===null||L===void 0||L.call(n,D,k)},b=function(D,k){k.trigger==="enter"||k.trigger==="blur"||d(D,{trigger:k.trigger,e:k.e})},C=function(D,k){var L,M,A=(L=t.value)===null||L===void 0?void 0:L.getOverlayState();A!=null&&A.hover||(s.value=!1,(M=n.onBlur)===null||M===void 0||M.call(n,n.value,hs(hs({},k),{},{tagInputValue:D})))},O=function(D,k){var L,M,A=(L=t.value)===null||L===void 0?void 0:L.getOverlayState();if(!(s.value||A!=null&&A.hover)){s.value=!0;var j=hs(hs({},k),{},{tagInputValue:D});(M=n.onFocus)===null||M===void 0||M.call(n,n.value,j)}},w=function(D,k){var L,M=hs(hs({},k),{},{tagInputValue:D});(L=n.onEnter)===null||L===void 0||L.call(n,n.value,M)},E=function(D){var k=hs(hs({},D.commonInputProps),{},{tagProps:n.tagProps,label:n.label,autoWidth:n.autoWidth,readonly:h.value,placeholder:p.value,minCollapsedNum:n.minCollapsedNum,collapsedItems:n.collapsedItems,tag:n.tag,value:g.value,valueDisplay:n.valueDisplay,inputValue:D.popupVisible&&D.allowInput?c.value:"",inputProps:hs({readonly:!n.allowInput||h.value,inputClass:X({},"".concat(o.value,"-input--focused"),D.popupVisible)},n.inputProps),suffixIcon:!f.value&&n.loading?function(){return x(ar,{loading:!0,size:"small"},null)}:n.suffixIcon},n.tagInputProps),L=e.slots;L.tips;var M=Gu(L,Mbe);return x(XU,He({ref:a},k,{onInputChange:b,onChange:m,onClear:D.onInnerClear,onBlur:C,onEnter:w,onFocus:O}),M)};return{tags:g,tPlaceholder:p,tagInputRef:a,isMultipleFocus:s,multipleInputValue:c,renderSelectMultiple:E}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function VB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function WB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Nbe=1e3,Fbe=0;function JU(n){var e=rt(n),t=e.popupProps,i=e.autoWidth,r=oe(!1),o=xi(),a=sr(),s=function(f,h){var v=h.scrollHeight>h.offsetHeight?Fbe:0,g=h.offsetWidth+v>=f.offsetWidth?h.offsetWidth:f.offsetWidth,p={};return t.value&&kn(t.value.overlayInnerStyle)==="object"&&!t.value.overlayInnerStyle.width&&(p=t.value.overlayInnerStyle),WB({width:"".concat(Math.min(g,Nbe),"px")},p)},l=function(f,h){if(!(o.value||a.value)){var v=h.trigger==="trigger-element-click"&&n.allowInput?!0:f;if(n.popupVisible!==v){var g;r.value=v,(g=n.onPopupVisibleChange)===null||g===void 0||g.call(n,v,h)}}},u=function(f,h){var v;return WB({width:"".concat(Math.max(f.offsetWidth,h.offsetWidth),"px")},(v=t.value)===null||v===void 0?void 0:v.overlayInnerStyle)},c=R(function(){var d,f={},h=((d=t.value)===null||d===void 0?void 0:d.overlayInnerStyle)||{};return qe(h)||Wt(h)&&h.width?f=h:i.value?f=u:f=s,f});return{tOverlayInnerStyle:c,innerPopupVisible:r,onInnerPopupVisibleChange:l}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var jbe=["tips"];function zB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function po(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Hbe=["status","clearable","disabled","label","placeholder","readonly","prefixIcon","suffix","suffixIcon","onPaste","onMouseenter","onMouseleave","size","autofocus"],Bbe={label:"label",value:"value",children:"children"};function $be(n,e){var t=po(po({},Bbe),e);return Wt(n)?n[t.label]:n}function Vbe(n,e,t){var i,r=rt(n),o=r.value,a=r.keys,s=r.inputValue,l=we(),u=oe(n.autofocus),c=oe(),d=Gi(s,(i=n.defaultInputValue)!==null&&i!==void 0?i:"",n.onInputChange,"inputValue"),f=Je(d,2),h=f[0],v=f[1],g=ft(),p=xi(),m=sr(),b=R(function(){return po(po({},bl(n,Hbe)),{},{disabled:p.value,readonly:m.value})}),C=function(L){var M,A;L==null||(M=L.e)===null||M===void 0||M.stopPropagation(),(A=n.onClear)===null||A===void 0||A.call(n,L),v("",{trigger:"clear"})},O=function(L,M){n.allowInput&&v(L,po(po({},M),{},{trigger:M.trigger||"input"}))},w=function(L){var M,A=g("valueDisplay"),j=L&&n.allowInput?h.value:$be(o.value,a.value),V=E(A,L),H=po(po({},b.value),{},{value:P(A,j,L),label:V.length?function(){return V}:void 0,autoWidth:n.autoWidth,readonly:!n.allowInput||m.value,placeholder:D(A),suffixIcon:!p.value&&n.loading?function(){return x(ar,{loading:!0,size:"small"},null)}:n.suffixIcon,showClearIconOnEmpty:!!(n.clearable&&(h.value||j)&&!p.value&&!m.value)},n.inputProps),N=e.slots;N.tips;var F=Gu(N,jbe),W=L?["".concat(l.value,"-input--focused"),"".concat(l.value,"-is-focused"),H==null?void 0:H.inputClass]:H==null?void 0:H.inputClass,U=function(ie,ee){var K;(K=n.onEnter)===null||K===void 0||K.call(n,o.value,po(po({},ee),{},{inputValue:ie}))},q=function(ie,ee){var K,J,$=(K=t.value)===null||K===void 0?void 0:K.getOverlayState();u.value||$!=null&&$.hover||(u.value=!0,(J=n.onFocus)===null||J===void 0||J.call(n,o.value,po(po({},ee),{},{inputValue:ie})))},Z=function(ie,ee){var K,J,$=(K=t.value)===null||K===void 0?void 0:K.getOverlayState();u.value=!1,!($!=null&&$.hover)&&((J=n.onBlur)===null||J===void 0||J.call(n,o.value,po(po({},ee),{},{inputValue:ie})))};return x(Do,He({ref:c,style:(M=e.attrs)===null||M===void 0?void 0:M.style},po({onChange:O,onClear:C,onEnter:U,onFocus:q,onBlur:Z},H),{inputClass:W}),F)},E=function(L,M){var A=g("label");if(!A&&!L)return[];if(L){var j,V;if((j=n.valueDisplayOptions)!==null&&j!==void 0&&j.usePlaceholder&&!o.value||(V=n.valueDisplayOptions)!==null&&V!==void 0&&V.useInputDisplay&&M)return[A]}return[A,L]},P=function(L,M,A){if(L){var j,V;if(!((j=n.valueDisplayOptions)!==null&&j!==void 0&&j.useInputDisplay)||(V=n.valueDisplayOptions)!==null&&V!==void 0&&V.useInputDisplay&&!A)return}return M},D=function(L){if(L){var M,A;if(!((M=n.valueDisplayOptions)!==null&&M!==void 0&&M.usePlaceholder)||(A=n.valueDisplayOptions)!==null&&A!==void 0&&A.usePlaceholder&&o.value)return""}return n.placeholder};return{inputRef:c,isSingleFocus:u,commonInputProps:b,singleInputValue:h,onInnerClear:C,renderSelectSingle:w}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function UB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Wbe=function(){return{NAME_CLASS:we("select-input"),BASE_CLASS_BORDERLESS:we("select-input--borderless"),BASE_CLASS_MULTIPLE:we("select-input--multiple"),BASE_CLASS_POPUP_VISIBLE:we("select-input--popup-visible"),BASE_CLASS_EMPTY:we("select-input--empty")}},zbe=pe({name:"TSelectInput",props:zl(zl({},Kme),{},{valueDisplayOptions:{type:Object}}),setup:function(e,t){var i=Wbe(),r=i.NAME_CLASS,o=i.BASE_CLASS_BORDERLESS,a=i.BASE_CLASS_MULTIPLE,s=i.BASE_CLASS_POPUP_VISIBLE,l=i.BASE_CLASS_EMPTY,u=we(),c=ft(),d=oe(),f=oe(),h=rt(e),v=h.multiple,g=h.value,p=h.popupVisible,m=h.borderless,b=h.popupProps,C=h.panel,O=h.allowInput,w=h.status,E=JU(e),P=E.tOverlayInnerStyle,D=E.innerPopupVisible,k=E.onInnerPopupVisibleChange,L=Vbe(e,t,f),M=L.isSingleFocus,A=L.commonInputProps,j=L.onInnerClear,V=L.renderSelectSingle,H=Rbe(e,t,f),N=H.isMultipleFocus,F=H.tagInputRef,W=H.renderSelectMultiple,U=R(function(){return e.multiple?N.value:M.value}),q=R(function(){var ie;return["".concat(r.value),X(X(X(X({},a.value,v.value),o.value,m.value),s.value,(ie=p.value)!==null&&ie!==void 0?ie:D.value),l.value,g.value instanceof Array?!g.value.length:!g.value)]}),Z=function(ee){var K,J=ee.code||((K=ee.key)===null||K===void 0?void 0:K.trim());if(/(ArrowDown|ArrowUp)/.test(J)&&!p.value){var $,Y=zl(zl({},t),{},{trigger:"trigger-element-focus"});($=e.onPopupVisibleChange)===null||$===void 0||$.call(e,!0,Y)}};Pe([U],function(ie){var ee=Je(ie,1),K=ee[0];p.value||(K?d.value.addEventListener("keydown",Z):d.value.removeEventListener("keydown",Z))}),mt(function(){!p.value&&U&&d.value.addEventListener("keydown",Z)}),yi(function(){var ie;(ie=d.value)===null||ie===void 0||ie.removeEventListener("keydown",Z)});var z=function(ee){var K,J,$;(K=ee.e)===null||K===void 0||K.stopPropagation(),!(ee.e.target.tabIndex>=0)&&e.multiple&&((J=F.value)===null||J===void 0||($=J.focus)===null||$===void 0||$.call(J))};return t.expose({popupRef:f,allowInput:O}),function(){var ie,ee,K={visible:(ie=p.value)!==null&&ie!==void 0?ie:D.value},J=x(Pa,He({ref:f,trigger:((ee=b.value)===null||ee===void 0?void 0:ee.trigger)||"click",placement:"bottom-left"},K,{content:C.value,hideEmptyPopup:!0},zl(zl({onVisibleChange:k,onOverlayClick:z},b.value),{},{overlayInnerStyle:P.value})),zl({default:function(){return[v.value?W({commonInputProps:A.value,onInnerClear:j,popupVisible:K.visible,allowInput:O.value}):V(K.visible)]}},zl(zl({},t.slots),{},{content:t.slots.panel}))),$=c("tips"),Y=["".concat(u.value,"-input__tips"),"".concat(u.value,"-tips"),"".concat(u.value,"-is-").concat(w.value)];return x("div",{ref:d,class:q.value},[J,$&&x("div",{class:Y},[$])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Pp=Ye(zbe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ube={checkAll:Boolean,content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,label:{type:String,default:""},title:{type:String,default:""},value:{type:[String,Number,Boolean]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Kbe={checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:{type:[String,Function]},lazyLoad:Boolean,name:{type:String,default:""},readonly:{type:Boolean,default:void 0},title:{type:String,default:""},value:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var QU=Symbol("CheckboxGroupProvide");/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Qy(n,e,t,i){if(typeof window>"u")return null;if(!window||!window.IntersectionObserver)return t(),null;var r=null;try{r=new window.IntersectionObserver(function(o){var a=o[0];a.isIntersecting&&(t(),r.unobserve(n))},{rootMargin:"0px 0px ".concat(i,"px 0px"),root:e}),r.observe(n)}catch(o){console.error(o),t()}return r}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function qbe(n,e){var t=oe(),i=oe(!0),r=function(){if(e.value){i.value=!1;var a=Qy(n.value,null,function(){i.value=!0},0);t.value=a}};return mt(r),Pe([e,n],r),yi(function(){e.value&&t.value.unobserve(n.value)}),{showCheckbox:i}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Gbe(n){var e=function(o){var a=h0.test(o.key)||h0.test(o.code);if(a){o.preventDefault();var s=o.currentTarget.querySelector("input"),l=s.disabled;!l&&n(o)}},t=function(o){o.currentTarget.addEventListener("keydown",e)},i=function(o){o.currentTarget.removeEventListener("keydown",e)};return{onCheckboxFocus:t,onCheckboxBlur:i}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function KB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function qB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var eK=pe({name:"TCheckbox",props:qB(qB({},Kbe),{},{needRipple:Boolean,stopLabelTrigger:Boolean,index:Number,data:Object}),setup:function(e){var t=oe();e.needRipple&&yd(t);var i=Wn(),r=i.STATUS,o=rt(e),a=o.checked,s=o.modelValue,l=o.lazyLoad,u=Nn(a,s,e.defaultChecked,e.onChange,"checked"),c=Je(u,2),d=c[0],f=c[1],h=bn(QU,void 0),v=oe();Pe(function(){return[e.name,h==null?void 0:h.value.name].join("_")},function(){var F=e.name||(h==null?void 0:h.value.name);F&&(v.value=F)},{immediate:!0});var g=oe(!1),p=function(){var W=e.value,U=e.checkAll;return U?h==null?void 0:h.value.isCheckAll:h!=null&&h.value?h.value.checkedValues.includes(W):d.value};Pe(function(){var F;return[d.value,h==null?void 0:h.value.isCheckAll,h==null||(F=h.value.checkedValues)===null||F===void 0?void 0:F.join(",")]},function(){g.value=p()},{immediate:!0});var m=R(function(){return!e.checkAll&&!g.value&&h!==null&&h!==void 0&&h.value.maxExceeded?!0:null}),b=R(function(){return h==null?void 0:h.value.disabled}),C=xi({beforeDisabled:m,afterDisabled:b}),O=R(function(){return h==null?void 0:h.value.readonly}),w=sr({afterReadonly:O}),E=oe(!1);Pe(function(){return[e.checkAll,e.indeterminate,h==null?void 0:h.value.indeterminate]},function(){E.value=e.checkAll?h==null?void 0:h.value.indeterminate:e.indeterminate},{immediate:!0});var P=we("checkbox"),D=oe({});Pe([g,C,E],function(){D.value=["".concat(P.value),X(X(X({},r.value.checked,g.value),r.value.disabled,C.value),r.value.indeterminate,E.value)]},{immediate:!0});var k=function(W){if(!w.value){var U=!g.value;f(U,{e:W}),h!=null&&h.value.handleCheckboxChange&&h.value.onCheckedChange({checked:U,checkAll:e.checkAll,e:W,option:e})}},L=Mn(),M=function(W){e.stopLabelTrigger&&W.preventDefault()},A=qbe(t,l),j=A.showCheckbox,V=Gbe(k),H=V.onCheckboxFocus,N=V.onCheckboxBlur;return function(){var F=kt(e.title)&&e.title?e.title:null;return x("label",{ref:t,class:D.value,tabindex:C.value?void 0:"0",onFocus:H,onBlur:N,title:F},[j.value?[x("input",{type:"checkbox",tabindex:"-1",class:"".concat(P.value,"__former"),disabled:C.value,readonly:w.value,indeterminate:E.value,name:v.value,value:e.value?e.value:void 0,checked:g.value,onChange:k,key:"input"},null),x("span",{class:"".concat(P.value,"__input"),key:"input-span"},null),x("span",{class:"".concat(P.value,"__label"),key:"label",onClick:M},[L("default","label")])]:null])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ybe={disabled:{type:Boolean,default:void 0},lazyLoad:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array},readonly:{type:Boolean,default:void 0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Zbe=pe({name:"TCheckboxGroup",props:Ybe,setup:function(e){var t=we("checkbox-group"),i=ft(),r=Array.isArray,o=rt(e),a=o.value,s=o.modelValue,l=Nn(a,s,e.defaultValue,e.onChange),u=Je(l,2),c=u[0],d=u[1],f=oe([]),h=R(function(){if(!r(c.value))return 0;var P=f.value.map(function(k){return k.value}),D=oh(c.value,P);return D.length}),v=R(function(){var P=f.value.filter(function(k){return!k.disabled&&!k.readonly&&!k.checkAll}).map(function(k){return k.value}),D=oh(P,c.value);return D.length===P.length}),g=R(function(){return!v.value&&h.value<f.value.length&&h.value!==0}),p=R(function(){return!Nr(e.max)&&c.value.length===e.max});od(function(){if(!e.options)return[];f.value=e.options.map(function(P){return Wt(P)?P:{label:String(P),value:P}})});var m=function(){for(var D=new Set,k=0,L=f.value.length;k<L;k++){var M=f.value[k];if(!M.checkAll&&!M.disabled&&!M.readonly&&(D.add(M.value),p.value))break}return Be(D)},b=function(D,k){var L=D?m():[];d(L,{e:k.e,type:D?"check":"uncheck",current:void 0,option:void 0})},C=function(D){var k=D.option.value;if(!r(c.value)){console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat(kn(c.value)));return}var L=Be(c.value);if(D.checked)L.push(k);else{var M=L.indexOf(k);L.splice(M,1)}d(L,{e:D.e,current:D.option.value,option:D.option,type:D.checked?"check":"uncheck"})},O=function(D){var k=D.checked,L=D.checkAll,M=D.e;L?b(k,{e:M}):C(D)},w=Rl(),E=function(){var D=w("Checkbox"),k=[];return D==null||D.forEach(function(L){var M=L.props;M&&((M["check-all"]===""||M["check-all"]===!0)&&(M.checkAll=!0),k.push(M))}),k};return Xn(QU,R(function(){return{name:e.name,isCheckAll:v.value,checkedValues:c.value||[],maxExceeded:p.value,disabled:e.disabled,readonly:e.readonly,indeterminate:g.value,handleCheckboxChange:C,onCheckedChange:O}})),function(){var P,D=null;if((P=e.options)!==null&&P!==void 0&&P.length){var k;D=(k=f.value)===null||k===void 0?void 0:k.map(function(M,A){var j;return x(eK,He({key:"".concat(M.value||"").concat(A),lazyLoad:e.lazyLoad},M,{index:A,checked:(j=c.value)===null||j===void 0?void 0:j.includes(M.value),data:M}),null)})}else{var L=i("default");f.value=E(),D=L}return x("div",{class:t.value,role:"group","aria-label":"checkbox-group"},[D])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var _l=Ye(eK),Kb=Ye(Zbe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Xbe(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Jbe(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw o}}}}function Jbe(n,e){if(n){if(typeof n=="string")return GB(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?GB(n,e):void 0}}function GB(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}var mk=function(e,t){var i=t.value.get(e);return(i==null?void 0:i.label)||(e==null?void 0:e.toString())},Qbe=function(e,t){var i=[],r=Xbe(e),o;try{for(r.s();!(o=r.n()).done;){var a=o.value,s=mk(a,t);s&&i.push(s)}}catch(l){r.e(l)}finally{r.f()}return i},tK=function(e,t){var i=Zo(e),r=i.indexOf(t);return r<0?i.push(t):i.splice(r,1),{value:i,isCheck:r<0}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var bO=Symbol("selectProvide");/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function YB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ZB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function eye(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var bk=pe({name:"TOption",props:ZB(ZB({},Ube),{},{createAble:Boolean,multiple:Boolean,index:Number,rowIndex:Number,trs:Map,scrollType:String,isVirtual:Boolean,bufferSize:Number,checkAll:Boolean}),emits:["row-mounted"],setup:function(e,t){var i=bn(bO),r=xi(),o=Ui(),a=o.vnode,s=R(function(){return i.value.max!==0&&i.value.max<=i.value.selectValue.length}),l=R(function(){return r.value||e.multiple&&s.value&&!p.value&&!i.value.isCheckAll}),u=Mn(),c=we("select"),d=Wn(),f=d.STATUS,h=d.SIZE,v=oe(),g=oe(!1),p=R(function(){return i.value.isCheckAll&&!e.disabled?!0:e.multiple?i.value.selectValue.includes(e.value):i.value.selectValue===e.value}),m=R(function(){return e.checkAll?i.value.indeterminate:!1}),b=R(function(){return["".concat(c.value,"-option"),[h.value[i.value.size]],X(X(X({},f.value.disabled,l.value),f.value.selected,p.value),"".concat(c.value,"-option__hover"),(g.value||i.value.hoverIndex===e.index)&&!l.value)]}),C=R(function(){return e.label||e.value}),O=function(D){if(!(e.disabled||l.value)){if(e.multiple){w(!p.value,{e:D}),D.preventDefault();return}if(e.createAble){var k,L;if((k=(L=i.value).handleCreate)===null||k===void 0||k.call(L,e.value),i.value.multiple){i.value.handleValueChange([].concat(Be(i.value.selectValue),[e.value]),{selectedOptions:i.value.getSelectedOptions(),trigger:"check",e:D});return}}var M=i.value.getSelectedOptions(e.value);i.value.handleValueChange(e.value,{option:M==null?void 0:M[0],selectedOptions:M,trigger:"check",e:D}),i.value.handlePopupVisibleChange(!1,{e:D}),i.value.emitBlur(D)}},w=function(D,k){var L;if(e.checkAll){i.value.onCheckAllChange(D);return}var M=tK(i.value.selectValue,e.value),A=i.value.getSelectedOptions(M.value),j=(L=i.value.getSelectedOptions(e.value))===null||L===void 0?void 0:L[0];i.value.handleValueChange(M.value,{option:j,selectedOptions:A,trigger:D?"check":"uncheck",e:k.e})},E=function(){var D=a.props||{};return Reflect.has(D,"title")?e.title:typeof C.value=="string"?C.value:null};return mt(function(){var P=e.trs,D=e.rowIndex,k=e.isVirtual;k&&(P.set(D,v.value),t.emit("row-mounted"))}),yi(function(){if(e.isVirtual){var P=e.trs,D=e.rowIndex;P.delete(D)}}),yd(v),function(){var P=u("default","content")||C.value;return x("li",{ref:v,class:b.value,title:E(),onMouseenter:function(){return g.value=!0},onMouseleave:function(){return g.value=!1},onClick:O},[i&&e.multiple?x(_l,{checked:p.value,disabled:l.value,onChange:w,indeterminate:m.value},eye(P)?P:{default:function(){return[P]}}):x("span",null,[P])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var tye={divider:{type:Boolean,default:!0},label:{type:String}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var nK=pe({name:"TOptionGroup",props:tye,setup:function(e){var t=bn(bO),i=we("select-option-group"),r=Wn(),o=r.SIZE,a=ft(),s=R(function(){return[i.value,o.value[t.value.size],X({},"".concat(i.value,"__divider"),e.divider)]});return function(){var l;return x("li",{class:s.value},[((l=e.label)!==null&&l!==void 0?l:!1)&&x("div",{class:"".concat(i.value,"__header")},[e.label]),a("default")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var la={autoWidth:Boolean,autofocus:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},creatable:Boolean,disabled:{type:Boolean,default:void 0},empty:{type:[String,Function]},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},label:{type:[String,Function]},loading:Boolean,loadingText:{type:[String,Function]},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,options:{type:Array},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:Boolean,prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},reserveKeyword:Boolean,scroll:{type:Object},selectInputProps:{type:Object},showArrow:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Boolean,Object,Array],default:void 0},modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},defaultValue:{type:[String,Number,Boolean,Object,Array],default:void 0},valueDisplay:{type:[String,Function]},valueType:{type:String,default:"value",validator:function(e){return e?["value","object"].includes(e):!0}},onBlur:Function,onChange:Function,onClear:Function,onCreate:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var nye=function(e){var t,i,r,o,a,s=R(function(){var k,L,M;return((k=e.scroll)===null||k===void 0?void 0:k.type)==="virtual"&&((L=e.options.value)===null||L===void 0?void 0:L.length)>(((M=e.scroll)===null||M===void 0?void 0:M.threshold)||100)}),l=((t=e.scroll)===null||t===void 0?void 0:t.type)==="virtual"?Qge({container:e.popupContentRef,data:e.options,fixedHeight:((i=e.scroll)===null||i===void 0?void 0:i.isFixedRowHeight)||!1,lineHeight:((r=e.scroll)===null||r===void 0?void 0:r.rowHeight)||28,bufferSize:((o=e.scroll)===null||o===void 0?void 0:o.bufferSize)||20,threshold:((a=e.scroll)===null||a===void 0?void 0:a.threshold)||100}):{},u=l.trs,c=u===void 0?null:u,d=l.visibleData,f=d===void 0?null:d,h=l.handleScroll,v=h===void 0?null:h,g=l.scrollHeight,p=g===void 0?null:g,m=l.translateY,b=m===void 0?null:m,C=l.handleRowMounted,O=C===void 0?null:C,w=-1,E=function(L){if(s.value){var M=L.target,A=M.scrollTop;Math.abs(w-A)>5?(v(),w=A):w=-1}};mt(function(){var k;(k=e.popupContentRef.value)===null||k===void 0||k.addEventListener("scroll",E)}),yi(function(){var k;(k=e.popupContentRef.value)===null||k===void 0||k.removeEventListener("scroll",E)});var P=R(function(){return{position:"absolute",width:"1px",height:"1px",transition:"transform 0.2s",transform:"translate(0, ".concat(p.value,"px)"),"-ms-transform":"translate(0, ".concat(p.value,"px)"),"-moz-transform":"translate(0, ".concat(p.value,"px)"),"-webkit-transform":"translate(0, ".concat(p.value,"px)")}}),D=R(function(){return{transform:"translate(0, ".concat(b.value,"px)"),"-ms-transform":"translate(0, ".concat(b.value,"px)"),"-moz-transform":"translate(0, ".concat(b.value,"px)"),"-webkit-transform":"translate(0, ".concat(b.value,"px)")}});return{trs:c,scrollHeight:p,translateY:b,visibleData:f,handleRowMounted:O,isVirtual:s,cursorStyle:P,panelStyle:D}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function iye(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var rye=pe({name:"TSelectPanel",props:{inputValue:la.inputValue,panelTopContent:la.panelTopContent,panelBottomContent:la.panelBottomContent,empty:la.empty,creatable:la.creatable,loading:la.loading,loadingText:la.loadingText,multiple:la.multiple,filterable:la.filterable,filter:la.filter,scroll:la.scroll,size:la.size},setup:function(e,t){var i=t.expose,r=we("select"),o=ft(),a=us(),s=Dt("select"),l=s.t,u=s.globalConfig,c=bn(bO),d=oe(null),f=R(function(){return c.value.popupContentRef.value}),h=R(function(){return e.creatable&&e.filterable&&e.inputValue}),v=R(function(){return c.value.displayOptions}),g=nye({scroll:e.scroll,popupContentRef:f,options:v}),p=g.trs,m=g.visibleData,b=g.handleRowMounted,C=g.isVirtual,O=g.panelStyle,w=g.cursorStyle,E=R(function(){return!v.value.length}),P=function(){return x("ul",{class:["".concat(r.value,"__create-option"),"".concat(r.value,"__list")]},[x(bk,{value:e.inputValue,label:"".concat(e.inputValue),createAble:!0,class:"".concat(r.value,"__create-option--special")},null)])},D=function(A){return x("ul",{class:"".concat(r.value,"__list")},[A.map(function(j,V){var H,N;if(j.children){var F;return x(nK,{label:j.group,divider:j.divider},iye(F=D(j.children))?F:{default:function(){return[F]}})}return x(bk,He(br(j,"index","$index","className","tagName"),C.value?{rowIndex:j.$index,trs:p,scrollType:(H=e.scroll)===null||H===void 0?void 0:H.type,isVirtual:C.value,bufferSize:(N=e.scroll)===null||N===void 0?void 0:N.bufferSize,key:"".concat(j.$index||"","_").concat(V,"_").concat(j.value)}:{key:"".concat(V,"_").concat(j.value)},{index:V,multiple:e.multiple,onRowMounted:b}),j.slots)})])},k=R(function(){return{small:"s",medium:"m",large:"l"}[c.value.size]});i({innerRef:d,visibleData:m,isVirtual:C,displayOptions:v});var L=function(A,j){return x("div",{ref:d,class:["".concat(r.value,"__dropdown-inner"),"".concat(r.value,"__dropdown-inner--size-").concat(k.value)],style:j},[h.value&&P(),e.loading&&a("loadingText",{defaultNode:x("div",{class:"".concat(r.value,"__loading-tips")},[l(u.value.loadingText)])}),!e.loading&&E.value&&!h.value&&x("div",{class:"".concat(r.value,"__empty")},[o("empty")||l(u.value.empty)]),!E.value&&D(A)])};return{renderPanel:L,panelStyle:O,cursorStyle:w,isVirtual:C,displayOptions:v,visibleData:m,renderTNodeJSX:o}},render:function(){return this.isVirtual?x(Ft,null,[this.renderTNodeJSX("panelTopContent"),x("div",null,[x("div",{style:this.cursorStyle},null),this.renderPanel(this.visibleData,this.panelStyle)]),this.renderTNodeJSX("panelBottomContent")]):x(Ft,null,[this.renderTNodeJSX("panelTopContent"),this.renderPanel(this.displayOptions),this.renderTNodeJSX("panelBottomContent")])}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function oye(n){var e=n.displayOptions,t=n.optionsList,i=n.innerPopupVisible,r=n.setInnerPopupVisible,o=n.selectPanelRef,a=n.isFilterable,s=n.isRemoteSearch,l=n.getSelectedOptions,u=n.setInnerValue,c=n.onCheckAllChange,d=n.innerValue,f=n.popupContentRef,h=n.multiple,v=n.max,g=n.isCheckAll,p=oe(-1),m=oe([]),b=oe([]),C=we(),O=function(E){var P,D,k=e.value.length,L=p.value;switch(E.code){case"ArrowUp":E.preventDefault(),p.value===-1?L=0:p.value===0||p.value>e.value.length-1?L=k-1:L--,(P=t.value[L])!==null&&P!==void 0&&P.disabled&&L--,p.value=L;break;case"ArrowDown":E.preventDefault(),p.value===-1||p.value>=k-1?L=0:L++,(D=t.value[L])!==null&&D!==void 0&&D.disabled&&L++,p.value=L;break;case"Enter":if(p.value===-1)break;var M=o.value.isVirtual&&a.value&&b.value.length?b.value:s.value?t.value:m.value;if(M.length||(M=t.value),!i.value){r(!0,{e:E});break}if(h){var j;if(p.value===-1)return;if(M[p.value].checkAll){c(!g.value);return}var V=(j=M[p.value])===null||j===void 0?void 0:j.value;if(!V)return;var H=tK(d.value,V);if(v>0&&H.value.length>v)return;var N=l(H.value);u(H.value,{option:N.find(function(F){return F.value==V}),selectedOptions:N,trigger:H.isCheck?"check":"uncheck",e:E}),m.value=[]}else{var A=l(M[p.value].value);u(M[p.value].value,{option:A==null?void 0:A[0],selectedOptions:l(M[p.value].value),trigger:"check",e:E}),r(!1,{e:E})}break;case"Escape":r(!1,{e:E});break}};return Pe(i,function(w){w&&(p.value=-1,b.value=[],m.value=[])}),Pe(p,function(w){var E,P=(E=o.value)===null||E===void 0||(E=E.innerRef)===null||E===void 0||(E=E.querySelector(".".concat(C.value,"-select-option")))===null||E===void 0?void 0:E.clientHeight,D=P*w;f.value.scrollTo({top:D,behavior:"smooth"})}),{hoverIndex:p,handleKeyDown:O,virtualFilteredOptions:b,filteredOptions:m}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function W_(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=aye(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw o}}}}function aye(n,e){if(n){if(typeof n=="string")return XB(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?XB(n,e):void 0}}function XB(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function JB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Aa(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JB(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var sye=function(e,t,i){var r=Rl(),o=oe([]),a=R(function(){var d,f=0,h=((d=e.options)===null||d===void 0?void 0:d.map(function(A){var j=function(H){var N=t.value,F=N.value,W=N.label,U=N.disabled,q=br(H,[F,W,U]),Z=Aa(Aa({},q),{},{index:f,label:Ze(H,W),value:Ze(H,F),disabled:Ze(H,U)||!1});return f++,Z};return A.children?Aa(Aa({},A),{},{children:A.children.map(function(V){return j(V)})}):j(A)}))||[],v=r("Option"),g=r("OptionGroup");if(ut(g)){var p=W_(g),m;try{for(p.s();!(m=p.n()).done;){var b,C=m.value,O=Aa(Aa({group:(b=C.props)===null||b===void 0?void 0:b.label},C.props),{},{children:[]}),w=r("Option",C.children);if(ut(w)){var E=W_(w),P;try{for(E.s();!(P=E.n()).done;){var D=P.value;O.children.push(Aa(Aa({},D.props),{},{slots:D.children,index:f})),f++}}catch(A){E.e(A)}finally{E.f()}h.push(O)}}}catch(A){p.e(A)}finally{p.f()}}if(ut(v)){var k=W_(v),L;try{for(k.s();!(L=k.n()).done;){var M=L.value;h.push(Aa(Aa({},M.props),{},{slots:M.children,index:f})),f++}}catch(A){k.e(A)}finally{k.f()}}return h}),s=R(function(){var d=[],f=function(v){var g=W_(v),p;try{for(g.s();!(p=g.n()).done;){var m=p.value;m.children?f(m.children):d.push(m)}}catch(b){g.e(b)}finally{g.f()}};return f(a.value),d}),l=R(function(){var d=new Map;return o.value.concat(s.value).forEach(function(f){d.set(f.value,f)}),d}),u=function(f){var h,v;return qe(e.filter)?e.filter("".concat(i.value),f):((h=f.label)===null||h===void 0||(v=h.toLowerCase)===null||v===void 0?void 0:v.call(h).indexOf("".concat(i.value).toLowerCase()))>-1},c=R(function(){if(e.onSearch&&e.filterable||!i.value||!(e.filterable||qe(e.filter)))return a.value;var d,f=[];if(a.value.forEach(function(g){g.children&&f.push(Aa(Aa({},g),{},{children:g.children.filter(u)})),(g==null?void 0:g.checkAll)===!0&&(d=g),u(g)&&f.push(g)}),!qe(e.filter)){var h=f.filter(function(g){return g.label===i.value}),v=f.filter(function(g){return g.label!==i.value});f=h.concat(v)}return f.length&&d?[d].concat(Be(f)):f});return{options:a,optionsMap:l,optionsList:s,optionsCache:o,displayOptions:c,filterMethods:u}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var lye=["overlayClassName"];function uye(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=cye(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw o}}}}function cye(n,e){if(n){if(typeof n=="string")return QB(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?QB(n,e):void 0}}function QB(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function e$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function vs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):e$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var dye=pe({name:"TSelect",props:vs(vs({},la),{},{valueDisplayOptions:{type:Object}}),setup:function(e,t){var i=t.slots,r=we(),o=xi(),a=sr(),s=ft(),l=we("select"),u=Dt("select"),c=u.globalConfig,d=u.t,f=rt(e),h=f.popupVisible,v=f.inputValue,g=f.modelValue,p=f.value,m=Gi(v,e.defaultInputValue,e.onInputChange,"inputValue"),b=Je(m,2),C=b[0],O=b[1],w=Nn(p,g,e.defaultValue,e.onChange),E=Je(w,2),P=E[0],D=E[1],k=oe(null),L=oe(null),M=R(function(){var Ge,$e,Fe;return{label:((Ge=e.keys)===null||Ge===void 0?void 0:Ge.label)||"label",value:(($e=e.keys)===null||$e===void 0?void 0:$e.value)||"value",disabled:((Fe=e.keys)===null||Fe===void 0?void 0:Fe.disabled)||"disabled"}}),A=sye(e,M,C),j=A.optionsMap,V=A.optionsList,H=A.optionsCache,N=A.displayOptions,F=A.filterMethods,W=R(function(){return P.value===void 0?e.multiple?[]:void 0:e.valueType==="object"?e.multiple?P.value.map(function(Ge){return Ge[M.value.value]}):P.value[M.value.value]:P.value}),U=function($e,Fe){if(e.valueType==="object"){var Ke=M.value,et=Ke.value,ot=Ke.label,Rt=function(qn){if(qn!==void 0){var Qi=j.value.get(qn);return X(X({},et,Ze(Qi,et)),ot,Ze(Qi,ot))}};$e=e.multiple?$e.map(function(ri){return Rt(ri)}):Rt($e)}if($e!==P.value&&(e.multiple&&!e.reserveKeyword&&Fe.trigger=="check"&&O(""),D($e,vs({selectedOptions:ne($e)},Fe)),e.multiple&&Fe.trigger==="uncheck"&&Fe.option)){var zt;(zt=e.onRemove)===null||zt===void 0||zt.call(e,{value:Ze(Fe.option,M.value.value),data:Fe.option,e:Fe.e})}},q=Gi(h,!1,function(Ge,$e){var Fe;(Fe=e.onPopupVisibleChange)===null||Fe===void 0||Fe.call(e,Ge,$e)},"popupVisible"),Z=Je(q,2),z=Z[0],ie=Z[1],ee=R(function(){var Ge;return(Ge=!e.multiple&&z.value&&mk(W.value,j)||e.placeholder)!==null&&Ge!==void 0?Ge:d(c.value.placeholder)}),K=R(function(){return e.multiple?Qbe(W.value,j):mk(W.value,j)}),J=R(function(){var Ge=e.multiple&&ut(W.value)?W.value.map(function(Ke){var et;return{value:Ke,label:(et=j.value.get(Ke))===null||et===void 0?void 0:et.label}}):W.value,$e={value:Ge,onClose:e.multiple?function(Ke){return te(Ke)}:function(){}};if(e.multiple||Object.assign($e,{label:K.value}),e.minCollapsedNum&&e.multiple){var Fe;return vs(vs({},$e),{},{displayValue:Ge==null||(Fe=Ge.slice)===null||Fe===void 0?void 0:Fe.call(Ge,0,e.minCollapsedNum)})}return $e}),$=R(function(){return!!(e.filterable||c.value.filterable||qe(e.filter))}),Y=R(function(){return!!((e.filterable||c.value.filterable)&&qe(e.onSearch))}),te=function($e,Fe){var Ke,et=Fe||{},ot=et.e,Rt=et.trigger,zt=Rt===void 0?"tag-remove":Rt;ot&&ot.stopPropagation();var ri=Zo(W.value),qn=ri[$e];ri.splice($e,1),zt!=="clear"&&U(ri,{selectedOptions:ne(ri),trigger:zt,e:ot}),(Ke=e.onRemove)===null||Ke===void 0||Ke.call(e,{value:qn,data:j.value.get(qn),e:ot})},ae=function(){var $e;C.value&&(($e=e.onCreate)===null||$e===void 0||$e.call(e,C.value),z.value||O(""))},le=R(function(){var Ge;return(Ge=L.value)===null||Ge===void 0?void 0:Ge.popupRef.getOverlay()}),Q=R(function(){return V.value.filter(function(Ge){return!Ge.disabled&&!(Ge["check-all"]||Ge["check-all"]==="")&&!Ge.checkAll&&F(Ge)})}),ne=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W.value;return V.value.filter(function(Fe){if(!Fe.checkAll)return ut($e)?$e.includes(Fe.value):$e===Fe.value})},se=function($e){if(e.multiple){var Fe=M.value.value,Ke=W.value.filter(function(zt){return V.value.find(function(ri){return ri.value===zt&&ri.disabled})}),et=Q.value.map(function(zt){return zt.value}),ot=e.valueType==="object"?P.value.map(function(zt){return Ze(zt,Fe)}):P.value,Rt=Be($e?new Set([].concat(Be(ot),Be(et),Be(Ke))):Ke);U(Rt,{selectedOptions:ne(Rt),trigger:$e?"check":"clear"})}},de=R(function(){return xe.value===0?!1:xe.value===Q.value.length}),he=oye({displayOptions:N,optionsList:V,innerPopupVisible:z,setInnerPopupVisible:ie,selectPanelRef:k,isFilterable:$,isRemoteSearch:Y,getSelectedOptions:ne,setInnerValue:U,onCheckAllChange:se,isCheckAll:de,innerValue:W,popupContentRef:le,multiple:e.multiple,max:e.max}),ge=he.hoverIndex,Se=he.virtualFilteredOptions,Te=he.handleKeyDown,Ce=he.filteredOptions,xe=R(function(){var Ge=Q.value.map(function(Fe){return Fe.value}),$e=oh(W.value,Ge);return $e.length}),Me=R(function(){return!de.value&&xe.value!==0}),Re=R(function(){return{max:e.max,multiple:e.multiple,hoverIndex:ge.value,selectValue:W.value,reserveKeyword:e.reserveKeyword,handleValueChange:U,handlerInputChange:O,handlePopupVisibleChange:ie,handleCreate:ae,size:e.size,popupContentRef:le,indeterminate:Me.value,isCheckAll:de.value,onCheckAllChange:se,getSelectedOptions:ne,displayOptions:N.value,emitBlur:me}});Xn(bO,Re);var Ae=function(){!e.multiple&&ut(P.value)&&D(void 0,{selectedOptions:[],trigger:"default"}),e.multiple&&!ut(P.value)&&D([],{selectedOptions:[],trigger:"default"})},De=qu(function(Ge,$e){var Fe,Ke=$e.e;(Fe=e.onSearch)===null||Fe===void 0||Fe.call(e,"".concat(Ge),{e:Ke})},300),Ee=function($e,Fe){$e&&!z.value&&ie(!0,{e:Fe.e}),O($e),De("".concat($e),{e:Fe.e}),tn(function(){var Ke,et;Se.value=(Ke=k.value)===null||Ke===void 0?void 0:Ke.visibleData,Ce.value=(et=k.value)===null||et===void 0?void 0:et.displayOptions})},me=function($e){var Fe;(Fe=e.onBlur)===null||Fe===void 0||Fe.call(e,{e:$e,value:W.value})},Oe=function($e,Fe){ie($e,Fe),$e&&Fe.trigger==="trigger-element-click"&&O("")},ke=function(){var Ge=Vi(dn.mark(function $e(Fe){var Ke,et,ot;return dn.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:if(ot=e.popupProps,!e.loading){zt.next=3;break}return zt.abrupt("return");case 3:ot==null||(Ke=ot["on-scroll-to-bottom"])===null||Ke===void 0||Ke.call(ot,Fe),ot==null||(et=ot.onScrollToBottom)===null||et===void 0||et.call(ot,Fe);case 5:case"end":return zt.stop()}},$e)}));return function(Fe){return Ge.apply(this,arguments)}}(),Ve=function($e){if(e.multiple){var Fe=[],Ke=uye($e||[]),et;try{for(Ke.s();!(et=Ke.n()).done;){var ot=et.value,Rt=j.value.get(ot);Rt&&Fe.push(Rt)}}catch(ri){Ke.e(ri)}finally{Ke.f()}H.value=Array.from(new Set([].concat(Fe,Be(H.value))))}else{var zt=j.value.get($e);zt&&(H.value=Array.from(new Set([zt].concat(Be(H.value)))))}};Pe(P,function(Ge){Ae(),tn(function(){Ve(Ge)})},{immediate:!0}),Pe(function(){return e.multiple},function(){Ae()});var lt=function($e){var Fe;if(k.value){var Ke=(Fe=k.value)===null||Fe===void 0||(Fe=Fe.innerRef)===null||Fe===void 0?void 0:Fe.querySelector(".".concat(r.value,"-is-selected"));tn(function(){if(Ke&&$e){var et=getComputedStyle(Ke),ot=et.paddingBottom,Rt=getComputedStyle($e),zt=Rt.marginBottom,ri=parseInt(ot,10)+parseInt(zt,10),qn=Ke.offsetTop-$e.offsetTop-($e.clientHeight-Ke.clientHeight)+ri;$e.scrollTop=qn}})}};return Xn("updateScrollTop",lt),function(){var Ge=e.popupProps||{},$e=Ge.overlayClassName,Fe=Gu(Ge,lye);return x("div",{class:"".concat(l.value,"__wrap")},[x(Pp,He({autoWidth:e.autoWidth,readonly:a.value,borderless:e.borderless,multiple:e.multiple,clearable:e.clearable,loading:e.loading,status:e.status,tips:s("tips"),minCollapsedNum:e.minCollapsedNum,autofocus:e.autofocus,suffix:e.suffix,valueDisplayOptions:e.valueDisplayOptions},{ref:L,class:l.value,value:K.value,disabled:o.value,popupVisible:z.value,inputValue:z.value?C.value:"",placeholder:"".concat(ee.value),allowInput:$.value,"collapsed-items":e.collapsedItems,inputProps:vs(vs({size:e.size,autofocus:e.autofocus},e.inputProps),{},{onkeydown:Te}),tagInputProps:vs({size:e.size},e.tagInputProps),onTagChange:function(et,ot){te(ot.index,ot)},tagProps:vs({},e.tagProps),popupProps:vs(vs({overlayClassName:["".concat(l.value,"__dropdown"),$e]},Fe),{},{onScrollToBottom:ke}),label:e.label,prefixIcon:e.prefixIcon,suffix:e.suffix,suffixIcon:function(){return e.suffixIcon||i.suffixIcon?s("suffixIcon"):e.showArrow&&x(df,{overlayClassName:"".concat(l.value,"__right-icon"),isActive:z.value},null)},valueDisplay:function(){return s("valueDisplay",{params:J.value})},onPopupVisibleChange:Oe,onInputChange:Ee,onClear:function(et){var ot,Rt=et.e;U(e.multiple?[]:void 0,{option:null,selectedOptions:ne(e.multiple?[]:void 0),trigger:"clear",e:Rt}),(ot=e.onClear)===null||ot===void 0||ot.call(e,{e:Rt})},onEnter:function(et,ot){var Rt=ot.e;setTimeout(function(){var zt;(zt=e.onEnter)===null||zt===void 0||zt.call(e,{inputValue:"".concat(C.value),e:Rt,value:W.value}),ae()},0)},onBlur:function(et,ot){var Rt,zt=ot.e;(Rt=e.onBlur)===null||Rt===void 0||Rt.call(e,{e:zt,value:W.value})},onFocus:function(et,ot){var Rt,zt=ot.e;(Rt=e.onFocus)===null||Rt===void 0||Rt.call(e,{e:zt,value:W.value})}},e.selectInputProps),{label:i.label,prefixIcon:i.prefixIcon,suffix:i.suffix,panel:function(){return x(rye,He({ref:k},bl(e,["size","multiple","empty","loading","loadingText","filterable","creatable","panelTopContent","panelBottomContent","filter","scroll"]),{inputValue:C.value}),i)},collapsedItems:i.collapsedItems})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Mu=Ye(dye),yO=Ye(bk),fye=Ye(nK);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var hye={append:{type:[String,Function]},prepend:{type:[String,Function]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var vye=pe({name:"TInputAdornment",inheritAttrs:!1,props:hye,setup:function(e,t){var i=t.slots,r=we("input-adornment"),o=ft(),a=function(l,u,c){var d,f=kt(c)||Dn(c);return!i[u]&&kt(c)&&!c?null:(i[u]?i[u](null).length===1&&typeof i[u](null)[0].children=="string"?d=x("span",{class:"".concat(r.value,"__text")},[i[u](null)]):d=i[u](null):qe(c)?d=c(l):d=f?x("span",{class:"".concat(r.value,"__text")},[c]):c,d&&x("span",{class:"".concat(r.value,"__").concat(u)},[d]))};return function(){var s=a(At,"prepend",e.prepend),l=a(At,"append",e.append),u=o("default")||[null],c=[r.value,X(X({},"".concat(r.value,"--prepend"),s),"".concat(r.value,"--append"),l)];return!s&&!l?u[0]:x("div",{class:c},[s,u[0],l])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var iK=Ye(vye);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var gye={current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number,default:1},disabled:Boolean,foldedMaxPageBtn:{type:Number,default:5},maxPageBtn:{type:Number,default:10},pageEllipsisMode:{type:String,default:"mid",validator:function(e){return e?["mid","both-ends"].includes(e):!0}},pageSize:{type:Number,default:void 0},defaultPageSize:{type:Number,default:10},pageSizeOptions:{type:Array,default:function(){return[5,10,20,50]}},selectProps:{type:Object},showFirstAndLastPageBtn:Boolean,showJumper:Boolean,showPageNumber:{type:Boolean,default:!0},showPageSize:{type:Boolean,default:!0},showPreviousAndNextBtn:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium"].includes(e):!0}},theme:{type:String,default:"default",validator:function(e){return e?["default","simple"].includes(e):!0}},total:{type:Number,default:0},totalContent:{type:[Boolean,Function],default:!0},onChange:Function,onCurrentChange:Function,onPageSizeChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function pye(n,e,t){var i=oe(!1),r=oe(!1),o=R(function(){return Math.ceil((n.foldedMaxPageBtn-1)/2)}),a=R(function(){return Math.floor((n.foldedMaxPageBtn-1)/2)}),s=R(function(){return 2+o.value<t.value}),l=R(function(){return e.value-1-a.value>t.value});return{prevMore:i,nextMore:r,curPageLeftCount:o,curPageRightCount:a,isPrevMoreShow:s,isNextMoreShow:l}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function mye(n,e,t,i){var r=Wn(),o=r.SIZE,a=r.STATUS,s=R(function(){var C=Math.ceil(n.total/t.value);return C>0?C:1}),l=R(function(){return["".concat(i.value),o.value[n.size],X(X({},a.value.disabled,n.disabled),"".concat(i.value,"-ie"),Tu()<11),n.theme==="simple"?"".concat(i.value,"--simple"):""]}),u=R(function(){return["".concat(i.value,"__total")]}),c=R(function(){return["".concat(i.value,"__select")]}),d=R(function(){return["".concat(i.value,"__btn"),"".concat(i.value,"__btn-prev"),X({},a.value.disabled,n.disabled||e.value===1)]}),f=R(function(){return["".concat(i.value,"__btn"),"".concat(i.value,"__btn-next"),X({},a.value.disabled,n.disabled||e.value===s.value)]}),h=R(function(){return["".concat(i.value,"__pager")]}),v=R(function(){return["".concat(i.value,"__number"),"".concat(i.value,"__number--more"),X({},a.value.disabled,n.disabled)]}),g=R(function(){return["".concat(i.value,"__jump")]}),p=R(function(){return["".concat(i.value,"__input")]}),m=R(function(){return["".concat(i.value,"__select")]}),b=function(O){return["".concat(i.value,"__number"),X(X({},a.value.disabled,n.disabled),a.value.current,e.value===O)]};return{pageCount:s,paginationClass:l,totalClass:u,sizerClass:c,preBtnClass:d,nextBtnClass:f,btnWrapClass:h,btnMoreClass:v,jumperClass:g,jumperInputClass:p,simpleClass:m,getButtonClass:b}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var bye=["pageCount"],em=1,yye=pe({name:"TPagination",props:gye,setup:function(e){var t=Ui(),i=t.emit,r=rt(e),o=r.modelValue,a=r.pageSize,s=r.current,l=ft(),u=Nn(s,o,e.defaultCurrent,e.onCurrentChange,"current"),c=Je(u,2),d=c[0],f=c[1],h=Gi(a,e.defaultPageSize,e.onPageSizeChange,"pageSize"),v=Je(h,2),g=v[0],p=v[1],m=Dt("pagination"),b=m.t,C=m.globalConfig,O=we("pagination"),w=On({PageFirstIcon:hhe,PageLastIcon:ghe,ChevronLeftIcon:Cp,ChevronRightIcon:_d,ChevronLeftDoubleIcon:yfe,ChevronRightDoubleIcon:Ofe,EllipsisIcon:F9}),E=w.PageFirstIcon,P=w.PageLastIcon,D=w.ChevronLeftIcon,k=w.ChevronRightIcon,L=w.ChevronLeftDoubleIcon,M=w.ChevronRightDoubleIcon,A=w.EllipsisIcon,j=mye(e,d,g,O),V=j.pageCount,H=Gu(j,bye),N=pye(e,V,d),F=N.prevMore,W=N.isPrevMoreShow,U=N.curPageLeftCount,q=N.nextMore,Z=N.isNextMoreShow,z=N.curPageRightCount,ie=oe(d.value),ee=R(function(){return V.value>e.maxPageBtn}),K=R(function(){var Q=e.pageSizeOptions,ne=Q.map(function(se){return Wt(se)?se:{label:b(C.value.itemsPerPage,{size:se}),value:Number(se)}});return ne.sort(function(se,de){return se.value-de.value})}),J=R(function(){return e.pageEllipsisMode==="mid"}),$=R(function(){var Q=[],ne,se;if(ee.value)if(W.value&&Z.value)ne=d.value-U.value,se=d.value+z.value;else{var de=J.value?2:1,he=J.value?V.value-1:V.value;W.value?ne=Math.min(d.value-1,V.value-e.foldedMaxPageBtn+1):ne=de,Z.value?se=Math.max(d.value+1,e.foldedMaxPageBtn):se=he}else ne=1,se=V.value;for(var ge=ne;ge<=se;ge++)Q.push(ge);return Q});Pe(function(){return V.value},function(){d.value>V.value&&(d.value=1)}),Pe(function(){return d.value},function(Q){return ie.value=Q});var Y=function(ne,se){if(!e.disabled){var de=ne;if(ne<em?de=em:ne>V.value&&(de=V.value),d.value!==de){var he=d.value;if(se=se||{current:de,previous:he,pageSize:g.value},se){var ge;f(de,se),(ge=e.onChange)===null||ge===void 0||ge.call(e,se)}else i("update:modelValue",de)}}},te=function(ne){var se={prevPage:function(){return Y(d.value-1)},nextPage:function(){return Y(d.value+1)},prevMorePage:function(){return Y(Math.max(2,d.value-e.foldedMaxPageBtn))},nextMorePage:function(){return Y(Math.min(d.value+e.foldedMaxPageBtn,V.value-1))}};se[ne]()},ae=function(ne){if(!e.disabled){var se=parseInt(ne,10),de=1;se>0&&(de=Math.max(Math.ceil(e.total/se),1));var he=!1;d.value>de&&(he=!0);var ge={current:he?de:d.value,previous:d.value,pageSize:se};if(p(se,ge),he)Y(de,ge);else{var Se;(Se=e.onChange)===null||Se===void 0||Se.call(e,ge)}}},le=function(ne){var se=Math.trunc(+ne);Cce(se)||(ie.value=se,Y(se))};return function(){var Q=e.total,ne=e.pageSizeOptions,se=e.size,de=e.disabled,he=e.showPageSize;if(V.value<1)return null;var ge=x("div",{class:H.jumperClass.value},[b(C.value.jumpTo),x(iK,{append:"/ ".concat(V.value," ").concat(b(C.value.page))},{default:function(){return[x(Jy,{class:H.jumperInputClass.value,modelValue:ie.value,"onUpdate:modelValue":function(Ce){return ie.value=Ce},onBlur:le,onEnter:le,max:V.value,min:em,size:se,disabled:de,theme:"normal",placeholder:""},null)]}})]);return x("div",{class:H.paginationClass.value},[l("totalContent",x("div",{class:H.totalClass.value},[b(C.value.total,{total:Q})])),he&&ne.length>0&&x(Mu,He({size:se,value:g,disabled:de,class:H.sizerClass.value,autoWidth:!0,onChange:ae,options:K.value},e.selectProps),null),e.showFirstAndLastPageBtn?x("div",{class:H.preBtnClass.value,onClick:function(){return Y(1)}},[x(E,null,null)]):null,e.showPreviousAndNextBtn?x("div",{class:H.preBtnClass.value,onClick:function(){return te("prevPage")}},[x(D,null,null)]):null,e.showPageNumber&&e.theme==="default"?x("ul",{class:H.btnWrapClass.value},[ee.value&&J.value&&x("li",{class:H.getButtonClass(1),onClick:function(){return Y(em)}},[em]),ee.value&&W.value&&J.value?x("li",{class:H.btnMoreClass.value,onClick:function(){return te("prevMorePage")},onMouseover:function(){return F.value=!0},onMouseout:function(){return F.value=!1}},[F.value?x(L,null,null):x(A,null,null)]):null,$.value.map(function(Se){return x("li",{class:H.getButtonClass(Se),key:Se,onClick:function(){return Y(Se)}},[Se])}),ee.value&&Z.value&&J.value?x("li",{class:H.btnMoreClass.value,onClick:function(){return te("nextMorePage")},onMouseover:function(){return q.value=!0},onMouseout:function(){return q.value=!1}},[q.value?x(M,null,null):x(A,null,null)]):null,ee.value&&J.value?x("li",{class:H.getButtonClass(V.value),onClick:function(){return Y(V.value)}},[V.value]):null]):null,e.theme==="simple"&&ge,e.showPreviousAndNextBtn?x("div",{class:H.nextBtnClass.value,onClick:function(){return te("nextPage")}},[x(k,null,null)]):null,e.showFirstAndLastPageBtn?x("div",{class:H.nextBtnClass.value,onClick:function(){return Y(V.value)}},[x(P,null,null)]):null,e.theme==="default"&&e.showJumper&&ge])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var _ye={disabled:{type:[Boolean,Object]},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},showCurrent:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},tips:{type:Object},variant:{type:String,default:"text",validator:function(e){return e?["text","outline"].includes(e):!0}},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wye=pe({name:"TPaginationMini",props:_ye,setup:function(e){var t=we("pagination-mini"),i=On({ChevronLeftIcon:Cp,RoundIcon:whe,ChevronRightIcon:_d,ChevronUpIcon:N9,ChevronDownIcon:hO}),r=i.ChevronLeftIcon,o=i.RoundIcon,a=i.ChevronRightIcon,s=i.ChevronUpIcon,l=i.ChevronDownIcon,u=R(function(){return Wt(e.tips)?e.tips:e.tips===!0?{prev:"上一页",current:"当前",next:"下一页"}:{}}),c=R(function(){return Wt(e.disabled)?e.disabled:e.disabled===!0?{prev:!0,current:!0,next:!0}:{prev:!1,current:!1,next:!1}});return function(){var d=[t.value,X({},"".concat(t.value,"--outline"),e.variant==="outline")];return x("div",{class:d},[x(Bt,{title:u.value.prev,variant:e.variant,size:e.size,shape:"square",onClick:function(h){var v;return(v=e.onChange)===null||v===void 0?void 0:v.call(e,{e:h,trigger:"prev"})},icon:e.layout==="horizontal"?function(){return x(r,null,null)}:function(){return x(s,null,null)},class:"".concat(t.value,"__prev"),disabled:c.value.prev},null),e.showCurrent&&x(Bt,{title:u.value.current,variant:e.variant,size:e.size,shape:"square",onClick:function(h){var v;return(v=e.onChange)===null||v===void 0?void 0:v.call(e,{e:h,trigger:"current"})},icon:function(){return x(o,null,null)},class:"".concat(t.value,"__current"),disabled:c.value.current},null),x(Bt,{title:u.value.next,variant:e.variant,size:e.size,shape:"square",onClick:function(h){var v;return(v=e.onChange)===null||v===void 0?void 0:v.call(e,{e:h,trigger:"next"})},icon:e.layout==="horizontal"?function(){return x(a,null,null)}:function(){return x(l,null,null)},class:"".concat(t.value,"__next"),disabled:c.value.next},null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var dM=Ye(yye),rK=Ye(wye);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Cye={current:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultCurrent:{type:[String,Number]},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},options:{type:Array},readonly:{type:Boolean,default:void 0},separator:{type:String,default:"line",validator:function(e){return e?["line","dashed","arrow"].includes(e):!0}},sequence:{type:String,default:"positive",validator:function(e){return e?["positive","reverse"].includes(e):!0}},theme:{type:String,default:"default",validator:function(e){return e?["default","dot"].includes(e):!0}},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var oK={content:{type:[String,Function],default:""},default:{type:[String,Function]},extra:{type:[String,Function]},icon:{type:[Boolean,Function],default:!0},status:{type:String,default:"default",validator:function(e){return e?["default","process","finish","error"].includes(e):!0}},title:{type:[String,Function],default:""},value:{type:[String,Number]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function t$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function n$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):t$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var aK=pe({name:"TStepItem",props:n$(n$({},oK),{},{index:Number}),setup:function(e){var t=bn("StepsState",void 0),i=bn("StepsProps",void 0),r=Dt("steps"),o=r.globalConfig,a=On({CheckIcon:YL,CloseIcon:js}),s=a.CheckIcon,l=a.CloseIcon,u=R(function(){return e.status!=="process"&&!(i!=null&&i.readonly)}),c=function(C){if(u.value){var O=e.value===void 0?e.index:e.value;t.setCurrent(O,t.current,{e:C})}},d=we("steps-item"),f=R(function(){return X({},"".concat(d.value,"--").concat(e.status),e.status)}),h=R(function(){return[d.value,f.value]}),v=R(function(){return["".concat(d.value,"__icon"),f.value]}),g=ft(),p=Mn(),m=function(){var C;if(i.theme==="default"){var O="";switch(e.status){case"finish":qe(o.value.checkIcon)?O=o.value.checkIcon(At):O=x(s,null,null);break;case"error":qe(o.value.errorIcon)?O=o.value.errorIcon(At):O=x(l,null,null);break;default:O=String(e.index+1);break}C=x("span",{class:"".concat(d.value,"__icon--number")},[O])}return g("icon",C)};return function(){return x("div",{class:h.value},[x("div",{class:"".concat(d.value,"__inner ").concat(u.value?"".concat(d.value,"--clickable"):""),onClick:c},[x("div",{class:v.value},[m()]),x("div",{class:"".concat(d.value,"__content")},[x("div",{class:"".concat(d.value,"__title")},[g("title")]),x("div",{class:"".concat(d.value,"__description")},[p("default","content")]),x("div",{class:"".concat(d.value,"__extra")},[g("extra")])])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Sye=pe({name:"TSteps",props:Cye,setup:function(e){var t=we("steps"),i=rt(e),r=i.current,o=i.modelValue,a=Nn(r,o,e.defaultCurrent,e.onChange,"current"),s=Je(a,2),l=s[0],u=s[1];Xn("StepsState",$n({current:l,setCurrent:u})),Xn("StepsProps",e);var c=oe({}),d=function(C,O){if(C.status&&C.status!=="default")return C.status;if(l.value==="FINISH"||C.value===void 0&&O<Number(l.value))return"finish";if(C.value!==void 0){var w=Number(c.value[l.value]);if(w===void 0)return console.warn("TDesign Steps Warn: The current `value` is not exist."),"default";if(e.sequence==="positive"&&O<w||e.sequence==="reverse"&&O>w)return"finish"}var E=C.value===void 0?O:C.value;return E===l.value?"process":"default"},f=Rl(),h=function(C){var O=[];return C==null||C.forEach(function(w){var E=(w==null?void 0:w.props)||{},P=w==null?void 0:w.children;if(!(!E&&!P)){if(P&&Wt(P))for(var D in P)D in oK&&!E[D]&&(E[D]=P[D]);e.sequence==="reverse"?O.unshift(E):O.push(E)}}),O},v=function(){var C,O;if((C=e.options)!==null&&C!==void 0&&C.length)O=e.sequence==="reverse"?e.options.slice().reverse():e.options;else{var w=f("StepItem");O=h(w)}return(O||[]).forEach(function(E,P){E.value!==void 0&&(c.value[E.value]=P)}),O},g=function(){var C=v();return C.map(function(O,w){var E=e.sequence==="reverse"?C.length-w-1:w;return w=O.value!==void 0?w:E,x(aK,He(O,{index:E,status:d(O,w),key:O.value||w}),null)})},p=function(){var C=e.theme,O=v();return O.forEach(function(w){(w==null?void 0:w.icon)!==void 0&&(C="default")}),C},m=R(function(){return[t.value,"".concat(t.value,"--").concat(e.layout),"".concat(t.value,"--").concat(p(),"-anchor"),"".concat(t.value,"--").concat(e.sequence),"".concat(t.value,"--").concat(e.separator,"-separator")]});return function(){return x("div",{class:m.value},[g()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Oye=Ye(Sye),xye=Ye(aK);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var zd={list:{type:Array,default:function(){return[]}},offset:{type:Array},placement:{type:String,default:"right-bottom",validator:function(e){return e?["right-top","right-center","right-bottom","left-top","left-center","left-bottom"].includes(e):!0}},popupProps:{type:Object},shape:{type:String,default:"square",validator:function(e){return e?["square","round"].includes(e):!0}},type:{type:String,default:"normal",validator:function(e){return e?["normal","compact"].includes(e):!0}},width:{type:[String,Number]},onClick:Function,onHover:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var iC={icon:{type:Function},label:{type:[String,Function]},popup:{type:[String,Function]},popupProps:{type:Object},trigger:{type:String,default:"hover",validator:function(e){return e?["hover","click"].includes(e):!0}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function i$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function r$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var sK=pe({name:"TStickyItem",props:r$(r$({},iC),{},{type:zd.type,shape:zd.shape,placement:zd.placement,basePopupProps:Object,baseWidth:zd.width,onClick:zd.onClick,onHover:zd.onHover}),setup:function(e){var t=we("sticky-item"),i=R(function(){return["".concat(t.value),"".concat(t.value,"--").concat(e.type),"".concat(t.value,"--").concat(e.shape)]}),r=R(function(){return["".concat(t.value,"__label")]}),o=R(function(){return e.placement.indexOf("right")!==-1?"left":"right"}),a=R(function(){var d={};if(e.baseWidth){var f=e.type==="normal"?"56px":"40px";d.margin="calc((".concat(e.baseWidth," - ").concat(f,")/2)")}return d}),s=function(f){var h={};Object.keys(iC).forEach(function(v){return h[v]=e[v]}),e.onClick({e:f,item:h})},l=function(f){var h={};Object.keys(iC).forEach(function(v){return h[v]=e[v]}),e.onHover({e:f,item:h})},u=ft(),c=Object.assign({hideEmptyPopup:!0},e.basePopupProps,e.popupProps);return function(){return x(Pa,He({overlayInnerClassName:"".concat(we("sticky-tool").value,"-popup-content"),trigger:e.trigger,placement:o.value,content:function(){return u("popup")}},c),{default:function(){return[x("div",{class:i.value,style:a.value,onClick:s,onMouseenter:l},[u("icon"),e.type==="normal"?x("div",{class:r.value},[u("label")]):null])]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function o$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function a$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Eye=pe({name:"TStickyTool",props:zd,setup:function(e){var t=we("sticky-tool"),i=R(function(){return[t.value,"".concat(t.value,"--").concat(e.shape)]}),r=R(function(){var f=l();return e.width&&(f.width=typeof e.width=="number"?"".concat(e.width,"px"):e.width),f}),o=Rl(),a=function(){var h,v;if((h=e.list)!==null&&h!==void 0&&h.length)v=e.list;else{var g=o("StickyItem");v=s(g)}return v},s=function(h){var v=[];return h==null||h.forEach(function(g){var p=(g==null?void 0:g.props)||{},m=g==null?void 0:g.children;if(!(!p&&!m)){if(m&&Wt(m))for(var b in m)b in iC&&!p[b]&&(p[b]=m[b]);v.push(p)}}),v},l=function(){var h,v=e.offset?[80,24]:["80px","24px"];(h=e.offset)===null||h===void 0||h.forEach(function(p,m){v[m]=isNaN(Number(p))?"calc( ".concat(v[m],"px + ").concat(p,")"):"".concat(v[m]+p,"px")});var g={};return e.placement.split("-").forEach(function(p,m){p!=="center"?g[p]=v[m]:(g.top="50%",g.transform="translate(0, -50%)")}),g},u=function(h){var v;(v=e.onClick)===null||v===void 0||v.call(e,h)},c=function(h){var v;(v=e.onHover)===null||v===void 0||v.call(e,h)},d=function(){var h=a(),v=h.map(function(g,p){var m=e.type,b=e.shape,C=e.placement,O=e.popupProps,w=a$(a$({},g),{},{type:m,shape:b,placement:C,basePopupProps:O,baseWidth:r.value.width,onClick:u,onHover:c});return x(sK,He(w,{key:p}),null)});return v};return function(){return x("div",{class:i.value,style:r.value},[d()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Pye=Ye(sK),kye=Ye(Eye);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Dye={container:{type:[String,Function],default:"body"},content:{type:[String,Function]},default:{type:[String,Function]},duration:{type:Number,default:200},offset:{type:Array,default:function(){return["24px","80px"]}},shape:{type:String,default:"square",validator:function(e){return e?["circle","square"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["medium","small"].includes(e):!0}},target:{type:[String,Function],default:"body"},theme:{type:String,default:"light",validator:function(e){return e?["light","primary","dark"].includes(e):!0}},visibleHeight:{type:[String,Number],default:"200px"},onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Tye=pe({name:"TBackTop",props:Dye,setup:function(e){var t=oe(!1),i=oe(null),r=we("back-top"),o=Dt("alert"),a=o.classPrefix,s=On({BacktopIcon:lfe}),l=s.BacktopIcon,u=Mn(),c=function(f){return typeof f=="string"&&(typeof document>"u"?"undefined":kn(document))!==void 0?f==="body"?document:document.querySelector(f):typeof f=="function"?f():null};return mt(function(){i.value=c(e.container);var d;if(typeof e.visibleHeight=="string"?d=Number(e.visibleHeight.replace("px","")):d=e.visibleHeight,d===0){t.value=!0;return}var f;i.value.scrollTop===void 0?f=document.documentElement:f=i.value,i.value.onscroll=function(){var h,v=(h=f)===null||h===void 0?void 0:h.scrollTop;v>=d&&(t.value=!0),v<d&&t.value&&(t.value=!1)}}),yi(function(){i.value.onscroll=null}),function(){var d=e.theme,f=e.shape,h=e.size,v=e.target,g=e.duration,p=e.offset,m=e.container,b=Z9(),C=b();C.length<1&&(C=null);var O=R(function(){return X(X(X(X(X(X({},r.value,!0),"".concat(r.value,"--theme-").concat(d),!0),"".concat(r.value,"--").concat(f),!0),"".concat(r.value,"--show"),t.value),"".concat(a.value,"-size-s"),h==="small"),"".concat(a.value,"-size-m"),h==="medium")}),w=x(Ft,null,[x(l,{class:"".concat(r.value,"__icon"),size:"24"},null),x("span",{class:"".concat(r.value,"__text")},[rn("TOP")])]),E=function(){if(v===m||v==="body"||!v)return 0;var L=c(v);if(!L)return 0;var M=L.getBoundingClientRect().y;return M},P=function(L){var M,A=E();UL(A,{container:i.value,duration:g}),(M=e.onClick)===null||M===void 0||M.call(e,{e:L})},D=R(function(){return{insetInlineEnd:p[0],insetBlockEnd:p[1]}});return x("button",{type:"button",class:O.value,style:D.value,onClick:P},[u("content","default",w)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var lK=Ye(Tye);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Iye={autofocus:Boolean,borderless:Boolean,clearable:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},empty:{type:[String,Function]},filter:{type:Function},filterable:{type:Boolean,default:!0},highlightKeyword:{type:Boolean,default:!0},inputProps:{type:Object},options:{type:Array},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},textareaProps:{type:Object},tips:{type:[String,Function]},triggerElement:{type:[String,Function]},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},onBlur:Function,onChange:Function,onClear:Function,onCompositionend:Function,onCompositionstart:Function,onEnter:Function,onFocus:Function,onSelect:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var uK=pe({name:"HighlightOption",props:{content:String,keyword:String},setup:function(e){var t=we(),i=R(function(){var r,o=e.content,a=e.keyword;if(!o)return{list:[]};if(!kt(o)||!a)return{list:[o]};var s=new RegExp(s9(a),"i"),l=(r=o.match(s))===null||r===void 0?void 0:r[0];return{list:o.split(l),keyword:l}});return function(){var r=i.value,o=r.list,a=r.keyword;return x("div",{class:"".concat(t.value,"-select-option__highlight-item")},[o.map(function(s,l){return l?[x("b",{class:"".concat(t.value,"-is-highlight"),key:s+a},[a]),s]:s})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function s$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function l$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Lye=pe({name:"AutoCompleteOptionList",props:{sizeClassNames:Object,value:String,size:String,options:Array,popupVisible:Boolean,highlightKeyword:Boolean,filterable:Boolean,filter:Function,empty:[String,Function]},emits:["select"],setup:function(e,t){var i=t.emit,r=t.slots,o=t.expose,a=oe(""),s=we(),l=Dt("autoComplete"),u=l.globalConfig,c=R(function(){return"".concat(s.value,"-select__list")}),d=R(function(){return["".concat(s.value,"-select-option"),X({},e.sizeClassNames[e.size],e.size)]}),f=R(function(){var m=(e.options||[]).map(function(C){var O={};return kt(C)?O={text:C,label:C}:(C.text&&!kt(C.text)&&Yt.warn("AutoComplete","`text` must be a string."),C.text?O=C:kt(C.label)?O=l$(l$({},C),{},{text:C.label}):Yt.warn("AutoComplete","one of `label` and `text` must be a existed string.")),O});if(e.filter)m=m.filter(function(C){return e.filter(e.value,C)});else if(e.filterable){var b=new RegExp(s9(e.value),"i");m=m.filter(function(C){return b.test(C.text)})}return m}),h=function(b){for(var C=b.target;C&&C.tagName!=="LI";)C=C.parentNode;var O=C.getAttribute("title");a.value=O,i("select",O,{e:b})},v=function(b){if(d0.test(b.code)||d0.test(b.key)){var C,O=f.value.findIndex(function(k){return k.text===a.value}),w=O-1<0?f.value.length-1:O-1;a.value=(C=f.value[w])===null||C===void 0?void 0:C.text}else if(c0.test(b.code)||c0.test(b.key)){var E,P=f.value.findIndex(function(k){return k.text===a.value}),D=P+1>=f.value.length?0:P+1;a.value=(E=f.value[D])===null||E===void 0?void 0:E.text}else(gk.test(b.code)||gk.test(b.key))&&a.value&&i("select",a.value,{e:b})},g=function(){ai(document,"keydown",v)},p=function(){Tn(document,"keydown",v)};return o({addKeyboardListener:g,removeKeyboardListener:p}),Pe(function(){return e.popupVisible},function(){e.popupVisible?g():p()},{immediate:!0}),Pe(function(){return e.value},function(){e.value||(a.value="")},{immediate:!0}),yi(function(){p()}),function(){return f.value.length?x("ul",{class:c.value},[f.value.map(function(m){var b=Be(d.value);m.text===a.value&&b.push("".concat(s.value,"-select-option--hover"));var C=m.label;if(qe(m.label))C=m.label(At);else if(r.option){var O;C=(O=r.option)===null||O===void 0?void 0:O.call(r,{option:m})}var w=C||m.text;return x("li",{key:m.text,class:b,title:m.text,onClick:h},[kt(w)&&e.highlightKeyword?x(uK,{content:w,keyword:e.value},null):w])})]):x("div",{class:"".concat(s.value,"-auto-complete__panel--empty")},[e.empty||u.value.empty])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function u$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Mo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Mye(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var Aye=pe({name:"TAutoComplete",props:Iye,setup:function(e,t){var i=t.slots,r=rt(e),o=r.value,a=r.modelValue,s=Nn(o,a,e.defaultValue,e.onChange),l=Je(s,2),u=l[0],c=l[1],d=Mn(),f=ft(),h=pO(),v=h.classPrefix,g=h.sizeClassNames,p=Dt("input"),m=p.globalConfig,b=xi(),C=sr(),O=oe(),w=oe(),E=function(q,Z){var z,ie=q.getBoundingClientRect().width||q.offsetWidth||q.clientWidth,ee=Z.getBoundingClientRect().width||Z.offsetWidth||Z.clientWidth;return Mo({width:ie>=ee?"".concat(ie,"px"):"auto"},(z=e.popupProps)===null||z===void 0?void 0:z.overlayInnerStyle)},P=R(function(){return["".concat(v.value,"-auto-complete")]}),D=R(function(){var U,q=["".concat(v.value,"-select__dropdown")];return(U=e.popupProps)!==null&&U!==void 0&&U.overlayClassName&&(q=q.concat(e.popupProps.overlayClassName)),q}),k=R(function(){var U,q=["".concat(v.value,"-select__dropdown-inner")];return(U=e.popupProps)!==null&&U!==void 0&&U.overlayInnerClassName&&(q=q.concat(e.popupProps.overlayInnerClassName)),q}),L=function(q,Z){c(q,Z)},M=R(function(){var U=Mo({value:u.value,size:e.size},e.inputProps);return U}),A=function(q,Z){var z;C.value||b.value||(O.value=!0,(z=e.onFocus)===null||z===void 0||z.call(e,Mo(Mo({},Z),{},{value:q})),tn(function(){var ie;(ie=w.value)===null||ie===void 0||ie.addKeyboardListener()}))},j=function(q,Z){var z;(z=e.onBlur)===null||z===void 0||z.call(e,Mo(Mo({},Z),{},{value:q}))},V=function(q,Z){var z;(z=e.onCompositionend)===null||z===void 0||z.call(e,Mo(Mo({},Z),{},{value:q}))},H=function(q,Z){var z;(z=e.onCompositionstart)===null||z===void 0||z.call(e,Mo(Mo({},Z),{},{value:q}))},N=function(q,Z){var z;(z=e.onEnter)===null||z===void 0||z.call(e,Mo(Mo({},Z),{},{value:q}))},F=function(q,Z){var z;C.value||b.value||(O.value=!1,c(q,Z),(z=e.onSelect)===null||z===void 0||z.call(e,q,Z))},W=function(q,Z){var z=Z.trigger;C.value||b.value||z!=="trigger-element-click"&&(O.value=q)};return function(){var U,q=d("default","triggerElement")||x(Do,He({borderless:e.borderless,placeholder:(U=e.placeholder)!==null&&U!==void 0?U:m.value.placeholder,tips:e.tips,status:e.status,readonly:C.value,disabled:b.value,autofocus:e.autofocus,clearable:e.clearable,onChange:L,onFocus:A,onBlur:j,onClear:e.onClear,onCompositionend:V,onCompositionstart:H,onEnter:N},M.value),i),Z=Array.isArray(e.options)&&x(Lye,{ref:w,value:u.value,options:e.options,size:e.size,sizeClassNames:g,onSelect:F,popupVisible:O.value,highlightKeyword:e.highlightKeyword,filterable:e.filterable,filter:e.filter,empty:f("empty")},{option:i.option}),z=f("panelTopContent"),ie=f("panelBottomContent"),ee=z||Z||ie?x("div",{class:"".concat(v.value,"-auto-complete__panel")},[z,Z,ie]):null,K=Mo(Mo({},e.popupProps),{},{overlayInnerStyle:E,overlayInnerClassName:k.value,overlayClassName:D.value});return x("div",{class:P.value},[x(Pa,He({visible:O.value,onVisibleChange:W,trigger:"focus",placement:"bottom-left",hideEmptyPopup:!0,content:ee?function(){return ee}:null},K),Mye(q)?q:{default:function(){return[q]}})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Rye=Ye(Aye),Nye=Ye(uK);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Fye(n,e,t){var i=t.disabled;return["".concat(n,"-cascader__icon"),X({},e.disabled,i)]}function cK(n,e,t){var i=t.checkStrictly,r=t.multiple,o=t.value,a=t.max,s=!i&&n.expanded&&(r?!n.isLeaf():!0)||i&&n.expanded,l=n.isLeaf(),u=n.disabled||r&&o.length>=a&&a!==0,c=n.checked||r&&!i&&n.expanded&&!l;return!r&&!i&&!l&&(c=n.expanded),[X(X(X({},e.selected,!u&&c),e.expanded,!u&&s),e.disabled,u)]}function jye(n,e,t,i,r){var o=r.size;return["".concat(n,"-cascader__item")].concat(Be(cK(e,i,r)),[t[o],X(X({},"".concat(n,"-cascader__item--with-icon"),!!e.children),"".concat(n,"-cascader__item--leaf"),e.isLeaf())])}function Hye(n,e,t,i){return["".concat(n,"-cascader__item-icon"),"".concat(n,"-icon")].concat(Be(cK(e,t,i)))}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function c$(n){var e=n.value,t=n.multiple,i=n.treeStore,r=n.showAllLevels;if(t||e!==0&&!e||ut(e))return"";var o=i&&i.getNodes(e);if(!(o&&o.length))return e;var a=o&&o[0].getPath();return a&&a.length?r?a.map(function(s){return s.label}).join(" / "):a.at(-1).label:e}function Bye(n){var e=n.value,t=n.multiple,i=n.treeStore,r=n.showAllLevels;if(!t)return[];if(t&&!ut(e))return[];var o=i&&i.getNodes(e);return o?e.map(function(a){var s,l=i.getNodes(a);return r?Ym(l[0]):(s=l[0])===null||s===void 0?void 0:s.label}).filter(function(a){return!!a}):[]}function dK(n){var e=[];return n.forEach(function(t){e[t.level]?e[t.level].push(t):e[t.level]=[t]}),e}function Ym(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/";return n==null?void 0:n.getPath().map(function(t){return t.label}).join(e)}var fK=function(e){var t=[];return ut(e)?e.length>0&&Wt(e[0])?t=e.map(function(i){return i.value}):e.length&&(t=e):fM(e)||(Wt(e)?t=[e.value]:t=[e]),t},$ye=function(e,t,i){if(t==="single")return e;var r=e;return i?r.map(function(o){return o.at(-1)}):r.at(-1)};function fM(n){return Dn(n)&&!isNaN(n)?!1:jo(n)}function Vye(n,e){var t=e.multiple,i=e.showAllLevels,r=e.valueType;return t&&!ut(n)||!t&&ut(n)&&r==="single"&&!i}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Wye(n,e,t,i){var r=i.checkStrictly,o=i.multiple,a=i.treeStore,s=i.setVisible,l=i.setValue,u=i.setTreeNodes,c=i.setExpend,d=i.value,f=i.max,h=i.valueType,v=t.disabled||o&&d.length>=f&&f!==0;if(!v){if(n===e){var g=t.setExpanded(!0);a.refreshNodes(),a.replaceExpanded(g);var p=a.getNodes().filter(function(O){return O.visible});u(p),o&&c(g)}if(!o&&(t.isLeaf()||r)&&e==="click"){a.resetChecked();var m=t.setChecked(!t.checked),b=Je(m,1),C=b[0];l(h==="single"?C:t.getPath().map(function(O){return O.value}),"check",t.getModel()),(!r||n==="hover")&&s(!1,{})}}}function zye(n,e){var t=e.disabled,i=e.max,r=e.inputVal,o=e.multiple,a=e.setVisible,s=e.setValue,l=e.treeNodes,u=e.treeStore,c=e.valueType;if(!(!n||t||n.disabled)){var d=n.setChecked(!n.isChecked());if(Dn(i)&&i<0&&console.warn("TDesign Warn:","max should > 0"),!(d.length>i&&Dn(i)&&i>0)){if(d.length===0){var f=u.getExpanded();setTimeout(function(){u.replaceExpanded(f),u.refreshNodes()},0)}o||a(!1,{});var h=l.every(function(g){return d.indexOf(g.value)>-1});r&&h&&a(!1,{});var v=c==="single"?d:d.map(function(g){return u.getNode(g).getPath().map(function(p){return p.value})});s(v,n.checked?"uncheck":"check",n.getModel())}}}function Uye(n){var e=n.setVisible,t=n.multiple,i=n.setValue;e(!1,{}),i(t?[]:"","clear")}function d$(n,e,t){var i=n.disabled,r=n.setValue,o=n.value,a=n.valueType,s=n.treeStore;if(!i)if(e!==void 0){var l=Zo(o),u=l.splice(e,1),c=s.getNodes(u[0])[0],d=c.setChecked(!c.isChecked()),f=a==="single"?d:d.map(function(h){return s.getNode(h).getPath().map(function(v){return v.value})});r(f,"uncheck",c.getModel()),qe(t)&&t({value:d,node:c})}else qe(t)&&t({value:o,node:void 0})}var Kye=function(e,t,i,r){if(t){var o=[];if(e){var a=function(l){if(l.isLeaf()){if(qe(r))return r("".concat(e),l);var u=Ym(l,"");return u.indexOf("".concat(e))>-1}};o=t.nodes.filter(a)}else o=t.getNodes().filter(function(s){return s.visible});i(o)}},qye=function(e,t,i){var r=fK(t);if(e){if(ut(r)&&i.length===0){var o=new Map,a=Je(r,1),s=a[0];if(!fM(s)){o.set(s,!0);var l=e.getNode(s);if(!l){e.refreshNodes();return}l.getParents().forEach(function(c){o.set(c.value,!0)});var u=Array.from(o.keys());e.replaceExpanded(u)}}e.getExpanded()&&i.length&&e.replaceExpanded(i),e.refreshNodes()}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Gye(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var Yye={node:{type:Object,default:function(){return{}}},optionChild:{type:[Object,Array]},cascaderContext:{type:Object},onChange:Function,onClick:Function,onMouseenter:Function},Zye=pe({name:"TCascaderItem",props:Yye,setup:function(e){var t=oe();yd(t);var i=we("cascader__item"),r=we(),o=On({ChevronRightIcon:_d}),a=o.ChevronRightIcon,s=Wn(),l=s.STATUS,u=s.SIZE,c=R(function(){return jye(r.value,e.node,u.value,l.value,e.cascaderContext)}),d=R(function(){return Hye(r.value,e.node,l.value,e.cascaderContext)});function f(p,m){var b=m.inputVal,C=b?Ym(p):p.label;if(b){for(var O=C.split(b),w=[],E=0;E<O.length&&(w.push(x("span",{key:E},[O[E]])),E!==O.length-1);E++)w.push(x("span",{key:"".concat(E,"filter"),class:"".concat(i.value,"-label--filter")},[b]));return w}return C}var h=function(m){return typeof m.label=="string"?m.label:null};function v(p,m){var b=f(p,m),C=x("span",{title:m.inputVal?Ym(p):h(p),class:["".concat(i.value,"-label"),"".concat(i.value,"-label--ellipsis")],role:"label"},[b]);return C}function g(p,m){var b=m.checkProps,C=m.value,O=m.max,w=m.inputVal,E=f(p,m);return x(_l,He({checked:p.checked,indeterminate:p.indeterminate,disabled:p.isDisabled()||C.length>=O&&O!==0,name:String(p.value),stopLabelTrigger:!!p.children,title:w?Ym(p):h(p),onChange:function(){e.onChange()}},b),Gye(E)?E:{default:function(){return[E]}})}return function(){var p=e.cascaderContext,m=e.node,b=e.optionChild,C=b&&p.multiple;return x("li",{ref:t,class:c.value,onClick:function(){return C?e.onChange():e.onClick()},onMouseenter:e.onMouseenter},[b||(p.multiple?g(m,p):v(m,p)),m.children&&(m.loading?x(ar,{class:d.value,size:"small"},null):x(a,{class:d.value},null))])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wc={autofocus:Boolean,borderless:Boolean,checkProps:{type:Object},checkStrictly:Boolean,clearable:Boolean,collapsedItems:{type:Function},disabled:{type:Boolean,default:void 0},empty:{type:[String,Function]},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},keys:{type:Object},label:{type:[String,Function]},lazy:{type:Boolean,default:!0},load:{type:Function},loading:Boolean,loadingText:{type:[String,Function]},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,option:{type:Function},options:{type:Array,default:function(){return[]}},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:Boolean,prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},reserveKeyword:Boolean,selectInputProps:{type:Object},showAllLevels:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["large","medium","small"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},trigger:{type:String,default:"click",validator:function(e){return e?["click","hover"].includes(e):!0}},value:{type:[String,Number,Array],default:void 0},modelValue:{type:[String,Number,Array],default:void 0},defaultValue:{type:[String,Number,Array],default:function(){return[]}},valueDisplay:{type:[String,Function]},valueMode:{type:String,default:"onlyLeaf",validator:function(e){return e?["onlyLeaf","parentFirst","all"].includes(e):!0}},valueType:{type:String,default:"single",validator:function(e){return e?["single","full"].includes(e):!0}},onBlur:Function,onChange:Function,onFocus:Function,onPopupVisibleChange:Function,onRemove:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var hK=pe({name:"TCascaderSubPanel",props:{option:wc.option,empty:wc.empty,trigger:wc.trigger,onChange:wc.onChange,loading:wc.loading,loadingText:wc.loadingText,cascaderContext:{type:Object}},setup:function(e){var t=us(),i=we("cascader"),r=Dt("cascader"),o=r.globalConfig,a=R(function(){return dK(e.cascaderContext.treeNodes)}),s=function(f,h){var v=e.trigger,g=e.cascaderContext;Wye(v,h,f,g)},l=function(f,h){var v=f.data.content?wp(f.data.content(At)):t("option",{params:{item:f.data,index:h}});return x(Zye,{key:f.value,node:f,optionChild:v,cascaderContext:e.cascaderContext,onClick:function(){s(f,"click")},onMouseenter:function(){s(f,"hover")},onChange:function(){zye(f,e.cascaderContext)}},null)},u=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;return x("ul",{class:["".concat(i.value,"__menu"),"narrow-scrollbar",X(X({},"".concat(i.value,"__menu--segment"),v),"".concat(i.value,"__menu--filter"),h)],key:"".concat(i,"__menu").concat(g)},[f.map(function(p){return l(p,g)})])},c=function(){var f=e.cascaderContext,h=f.inputVal,v=f.treeNodes;return h?u(v,!0):a.value.map(function(g,p){return u(g,!1,p!==a.value.length-1,p)})};return function(){var d;return e.loading?d=t("loadingText",x("div",{class:"".concat(i.value,"__panel--empty")},[o.value.loadingText])):d=a.value.length?c():t("empty",x("div",{class:"".concat(i.value,"__panel--empty")},[o.value.empty])),x("div",{class:["".concat(i.value,"__panel"),X({},"".concat(i.value,"--normal"),a.value.length&&!e.loading)]},[d])}}});function Xye(n){return{all:n=n||new Map,on:function(e,t){var i=n.get(e);i?i.push(t):n.set(e,[t])},off:function(e,t){var i=n.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var i=n.get(e);i&&i.slice().map(function(r){r(t)}),(i=n.get("*"))&&i.slice().map(function(r){r(e,t)})}}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ki="__tdesign_tree-node__",Jye=function(){function n(e){Zu(this,n),X(this,ki,void 0),this[ki]=e}return Xu(n,[{key:"value",get:function(){var t=this[ki];return t.value}},{key:"label",get:function(){var t=this[ki];return t.label}},{key:"data",get:function(){var t=this[ki];return t.data}},{key:"actived",get:function(){var t=this[ki];return t.actived}},{key:"expanded",get:function(){var t=this[ki];return t.expanded}},{key:"checked",get:function(){var t=this[ki];return t.checked}},{key:"indeterminate",get:function(){var t=this[ki];return t.indeterminate}},{key:"loading",get:function(){var t=this[ki];return t.loading}},{key:"disabled",get:function(){var t=this[ki];return t.isDisabled()}},{key:"getLevel",value:function(){var t=this[ki];return t.getLevel()}},{key:"getIndex",value:function(){var t=this[ki];return t.getIndex()}},{key:"isFirst",value:function(){var t=this[ki];return t.isFirst()}},{key:"isLast",value:function(){var t=this[ki];return t.isLast()}},{key:"isLeaf",value:function(){var t=this[ki];return t.isLeaf()}},{key:"insertBefore",value:function(t){var i=this[ki];return i.insertBefore(t)}},{key:"insertAfter",value:function(t){var i=this[ki];return i.insertAfter(t)}},{key:"appendData",value:function(t){var i=this[ki];return i.append(t)}},{key:"getPath",value:function(){var t=this[ki],i=t.getPath();return i.map(function(r){return r.getModel()})}},{key:"getParent",value:function(){var t,i=this[ki];return(t=i.parent)===null||t===void 0?void 0:t.getModel()}},{key:"getParents",value:function(){var t=this[ki],i=t.getParents();return i.map(function(r){return r.getModel()})}},{key:"getRoot",value:function(){var t=this[ki],i=t.getRoot();return i==null?void 0:i.getModel()}},{key:"getSiblings",value:function(){var t=this[ki],i=t.getSiblings();return i.map(function(r){return r.getModel()})}},{key:"getChildren",value:function(t){var i=this[ki],r=!1,o=i.children;if(Array.isArray(o))if(o.length>0)if(t){var a=i.walk();a.shift(),r=a.map(function(s){return s.getModel()})}else r=o.map(function(s){return s.getModel()});else r=!1;else ur(o)&&(r=o);return r}},{key:"remove",value:function(t){var i=this[ki];if(!t){i.remove();return}var r=i.tree,o=r.getNode(t);if(!o){Yt.warnOnce("Tree","`".concat(t,"` is not exist"));return}var a=o.getParents(),s=a.map(function(l){return l.value});if(s.indexOf(i.value)<0){Yt.warnOnce("Tree","`".concat(t,"` is not a childNode of current node"));return}o.remove()}},{key:"setData",value:function(t){var i=this[ki],r=["value","label","disabled"],o=br(t,["children"].concat(r)),a=i.tree.config.keys;r.forEach(function(s){var l=Ze(t,(a==null?void 0:a[s])||s);Nr(l)||(o[s]=l)}),Object.assign(i.data,o),Object.assign(i,o),i.update()}}])}();function Qye(n){var e=new Jye(n);return e}function f$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function tm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var e_e=Object.prototype.hasOwnProperty,vK={expandMutex:null,activable:null,checkable:null,draggable:null,loading:!1},t_e=Object.keys(vK),n_e=[].concat(t_e,["actived","expanded","checked"]),iu="__tdesign_id__",Jh=function(){function n(e,t,i){var r=this;Zu(this,n),X(this,"tree",void 0),X(this,iu,void 0),X(this,"value",void 0),X(this,"label",void 0),X(this,"data",void 0),X(this,"parent",void 0),X(this,"children",void 0),X(this,"model",void 0),X(this,"vmIsLeaf",void 0),X(this,"vmIsFirst",void 0),X(this,"vmIsLast",void 0),X(this,"vmIsRest",void 0),X(this,"vmIsLocked",void 0),X(this,"expanded",void 0),X(this,"expandMutex",void 0),X(this,"actived",void 0),X(this,"activable",void 0),X(this,"checkable",void 0),X(this,"vmCheckable",void 0),X(this,"checked",void 0),X(this,"indeterminate",void 0),X(this,"disabled",void 0),X(this,"draggable",void 0),X(this,"visible",void 0),X(this,"level",void 0),X(this,"loading",void 0),this.data=t,this.tree=e;var o=e.config||{},a=o.prefix||"t",s=o.keys||{},l=s.children||"children",u=s.label||"label",c=s.value||"value",d=s.disabled||"disabled";this.model=null,this.children=null,this.level=0,this.vmCheckable=!1,this.vmIsLeaf=!1,this.vmIsFirst=!1,this.vmIsLast=!1,this.vmIsRest=!1,this.vmIsLocked=!1,this.visible=!1,this.actived=!1,this.checked=!1,this.indeterminate=!1,this.loading=!1,this.expanded=o.expandAll,this.activable=null,this.checkable=null,this.expandMutex=null,this.draggable=null,this[iu]=cde(a),this.value=ah(Ze(t,c))?this[iu]:Ze(t,c);var f=e.nodeMap,h=e.privateMap;f.get(this.value)&&Yt.warn("Tree","Dulplicate value: ".concat(this.value)),f.set(this.value,this),h.set(this[iu],this),this.label=Ze(t,u)||"",this.disabled=Ze(t,d)||!1;var v=t[l];v===!0&&(this.children=v),i&&i instanceof n?this.parent=i:this.parent=null,n_e.forEach(function(g){typeof t[g]<"u"&&(r[g]=t[g])}),this.initActived(),this.initExpanded(),Array.isArray(v)?this.append(v):v===!0&&!o.lazy&&this.loadChildren(),this.initChecked(),this.updateChecked(),this.update(),e.reflow(this)}return Xu(n,[{key:"initChecked",value:function(){var t=this.tree,i=this.value,r=this.parent,o=t.checkedMap,a=t.config.checkStrictly;this.checked&&o.set(i,!0),!a&&r!==null&&r!==void 0&&r.checked&&o.set(i,!0)}},{key:"initExpanded",value:function(){var t=this.tree,i=this.expanded,r=t.config;Dn(r.expandLevel)&&this.getLevel()<r.expandLevel&&(t.expandedMap.set(this.value,!0),i=!0),this.children===!0&&r.lazy&&(i=!1),i?t.expandedMap.set(this.value,!0):t.expandedMap.delete(this.value),this.expanded=i}},{key:"initActived",value:function(){var t=this.tree,i=this.actived;i&&this.isActivable()&&t.activedMap.set(this.value,!0)}},{key:"append",value:function(t){var i=this,r=[];if(Array.isArray(t)?r.push.apply(r,Be(t)):r.push(t),!(r.length<=0)){Array.isArray(this.children)||(this.children=[]);var o=this.children,a=this.tree;r.forEach(function(s){var l=null;s instanceof n?(l=s,l.appendTo(i.tree,i)):(l=new n(i.tree,s,i),o.push(l))}),a.reflow(this),this.updateRelated()}}},{key:"appendTo",value:function(t,i,r){var o=this,a=i,s=-1;Dn(r)&&(s=r);var l=(a==null?void 0:a.getParents())||[],u=l.some(function(b){return b===o});if(u)throw new Error("无法将父节点插入到子节点");if(a===this)throw new Error("无法将节点插入到本节点");if(Array.isArray(a==null?void 0:a.children)){var c=a==null?void 0:a.children[s];if(c&&c===this)return}var d=null;if(a instanceof n?(Array.isArray(a==null?void 0:a.children)||(a.children=[]),d=i.children):d=t.children,!Array.isArray(d))throw new Error("无法插入到目标位置，可插入的节点列表不存在");var f=d.length,h=this.getIndex();if(this.remove(),Dn(r)){var v=r;if(a===this.parent){var g=d.length;g<f&&h<=v&&(v-=1)}d.splice(v,0,this)}else d.push(this);this.parent=a;var p=this.walk();p.forEach(function(b){var C=b;C.tree=t,t.nodeMap.set(C.value,C),t.privateMap.set(C[iu],C),C.expanded&&t.expandedMap.set(C.value,!0)});var m=(a==null?void 0:a.walk())||t.children.map(function(b){return b.walk()}).flat();m.forEach(function(b){b.update(),b.updateChecked()}),t.reflow()}},{key:"insert",value:function(t,i){var r=this.tree,o=this.parent,a=this.getSiblings(),s=null;t instanceof n?(s=t,s.appendTo(r,o,i)):t&&(s=new n(r,t,o),Dn(i)&&a.splice(i,0,s),a.forEach(function(l){l.update()})),r.reflow()}},{key:"insertBefore",value:function(t){var i=this.getIndex();this.insert(t,i)}},{key:"insertAfter",value:function(t){var i=this.getIndex();this.insert(t,i+1)}},{key:"remove",value:function(){var t=this.tree,i=this.walk(),r=this.getSiblings(),o=this.getIndex();Array.isArray(r)&&r.splice(o,1),i.forEach(function(a){a.clean()}),r.forEach(function(a){a.update()}),this.updateParents(),t.reflow()}},{key:"clean",value:function(){var t=this.tree,i=this.value;t.activedMap.delete(i),t.checkedMap.delete(i),t.expandedMap.delete(i),t.nodeMap.delete(i),t.filterMap.delete(i),t.privateMap.delete(this[iu])}},{key:"loadChildren",value:function(){var e=Vi(dn.mark(function i(){var r,o;return dn.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(r=Ze(this,"tree.config")||{},!(this.children===!0&&!this.loading)){s.next=13;break}if(!qe(r.load)){s.next=13;break}return this.loading=!0,this.update(),o=[],s.next=8,r.load(this);case 8:o=s.sent,this.tree.emit("load",{node:this,data:o}),this.loading=!1,Array.isArray(o)&&o.length>0?this.append(o):this.children=!1,this.update();case 13:case"end":return s.stop()}},i,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"set",value:function(t){var i=this,r=this.tree,o=Object.keys(t);o.forEach(function(a){(e_e.call(vK,a)||a==="label")&&(i[a]=t[a]),a==="disabled"&&i.setDisabled(t[a])}),r.updated(this)}},{key:"getParent",value:function(){return this.parent}},{key:"getParents",value:function(){for(var t=[],i=this.parent;i;)t.push(i),i=i.parent;return t}},{key:"getSiblings",value:function(){var t=this.parent,i=this.tree,r=[];return t?Array.isArray(t.children)&&(r=t.children):i&&(r=i.children),r}},{key:"getChildren",value:function(t){var i=!1,r=this.children;if(Array.isArray(r))if(r.length>0)if(t){var o=this.walk();o.shift(),i=o.map(function(a){return a.getModel()})}else i=r.map(function(a){return a.getModel()});else i=!1;else ur(r)&&(i=r);return i}},{key:"getRoot",value:function(){var t=this.getParents();return t[t.length-1]||null}},{key:"getIndex",value:function(){var t=this.getSiblings();return t.indexOf(this)}},{key:"getPath",value:function(){var t=this.getParents();return t.unshift(this),t.reverse()}},{key:"getLevel",value:function(){var t=this.getParents();return t.length}},{key:"isRest",value:function(){var t=this.tree,i=t.config,r=t.filterMap,o=t.hasFilter,a=!1;if(o){var s=this.getModel();a=i.filter(s)}return a?r.set(this.value,!0):r.get(this.value)&&r.delete(this.value),a}},{key:"isVisible",value:function(){var t=this.tree,i=t.nodeMap,r=t.hasFilter,o=t.config,a=o.allowFoldNodeOnFilter,s=!0;if(!i.get(this.value))return!1;if(r&&!a)return s=this.vmIsLocked||this.vmIsRest,s;var l=!0,u=this.getParents();return u.length>0&&(l=u.every(function(c){return c.expanded})),r?s=l&&(this.vmIsRest||this.vmIsLocked):s=l,s}},{key:"isDisabledState",value:function(){var t=this.tree,i=this.parent,r=t.config,o=r.disabled,a=r.disableCheck,s=r.checkStrictly,l=o||!1;return this.disabled&&(l=!0),!s&&i!==null&&i!==void 0&&i.isDisabledState()&&(l=!0),typeof a=="boolean"?a&&(l=!0):typeof a=="function"&&a(this.getModel())&&(l=!0),l}},{key:"isDisabled",value:function(){var t=this.tree,i=t.hasFilter,r=t.config,o=r.allowFoldNodeOnFilter;return i&&!o&&this.vmIsLocked&&!this.vmIsRest?!0:this.isDisabledState()}},{key:"isDraggable",value:function(){var t=!!Ze(this,"tree.config.draggable");return typeof this.draggable=="boolean"&&(t=this.draggable),t}},{key:"isExpandMutex",value:function(){var t=!!Ze(this,"tree.config.expandMutex");return typeof this.expandMutex=="boolean"&&(t=this.expandMutex),t}},{key:"isActivable",value:function(){var t=!!Ze(this,"tree.config.activable");return typeof this.activable=="boolean"&&(t=this.activable),t}},{key:"isCheckable",value:function(){var t=!!Ze(this,"tree.config.checkable");return typeof this.checkable=="boolean"&&(t=this.checkable),t}},{key:"isActived",value:function(t){var i=this.tree,r=this.value,o=t||i.activedMap;return!!(i.nodeMap.get(r)&&o.get(r))}},{key:"isExpanded",value:function(t){var i=this.tree,r=this.value,o=this.vmIsLocked,a=i.hasFilter,s=i.config,l=s.allowFoldNodeOnFilter;if(a&&!l&&o)return!0;var u=t||i.expandedMap;return!!(i.nodeMap.get(r)&&u.get(r))}},{key:"isChecked",value:function(t){var i=this.children,r=this.tree,o=this.value,a=r.config,s=a.checkStrictly,l=a.valueMode;if(!r.nodeMap.get(o)||!this.isCheckable())return!1;var u=t||r.checkedMap;if(s)return!!u.get(o);var c=!1;if(u.get(o)&&(l!=="onlyLeaf"||this.isLeaf()))return!0;if(Array.isArray(i)&&i.length>0)c=i.every(function(f){var h=f.isChecked(u);return h});else{var d=this.getParents();c=d.some(function(f){return u.get(f.value)})}return c}},{key:"isIndeterminate",value:function(){var t=this.children,i=this.tree,r=this.value,o=i.config.checkStrictly;if(!i.nodeMap.get(r)||!this.isCheckable()||o||!Array.isArray(t))return!1;var a=null,s=t.some(function(l){return!!(l.isIndeterminate()||(e0(a)&&(a=l.isChecked()),a!==l.isChecked()))});return s}},{key:"isFirst",value:function(){var t=this.getSiblings();return t[0]===this}},{key:"isLast",value:function(){var t=this.getSiblings();return t[t.length-1]===this}},{key:"isLeaf",value:function(){var t=!1;return Array.isArray(this.children)?t=this.children.length<=0:t=!this.children,t}},{key:"lock",value:function(t){this.vmIsLocked=t,this.expanded=this.isExpanded(),this.visible=this.isVisible()}},{key:"afterExpanded",value:function(){this.update(),this.expanded&&this.children===!0&&this.loadChildren(),this.updateChildren()}},{key:"toggleExpanded",value:function(t){return this.setExpanded(!this.isExpanded(),t)}},{key:"setExpanded",value:function(t,i){var r=this.tree,o=r.config,a=tm({directly:!1},i),s=r.expandedMap;if(a.directly||(s=new Map(r.expandedMap)),t){var l=[];l.push(this),o.expandParent&&this.getParents().forEach(function(u){l.push(u)}),l.forEach(function(u){var c=!1;if(u.parent)c=u.parent.isExpandMutex();else{var d;c=r==null||(d=r.config)===null||d===void 0?void 0:d.expandMutex}if(c){var f=u.getSiblings();f.forEach(function(h){s.delete(h.value),h.update(),h.updateChildren()})}s.set(u.value,!0),u.update(),u.updateChildren()})}else s.delete(this.value);return a.directly&&this.afterExpanded(),r.getExpanded(s)}},{key:"toggleActived",value:function(t){return this.setActived(!this.isActived(),t)}},{key:"setActived",value:function(t,i){var r=this.tree,o=tm({isAction:!0,directly:!1},i),a=r.config||{},s=r.activedMap;if(o.directly||(s=new Map(r.activedMap)),o.isAction&&this.isDisabledState())return r.getActived(s);if(this.isActivable())if(t){var l=Array.from(s.keys());a.activeMultiple||s.clear(),l.forEach(function(u){var c=r.getNode(u);c==null||c.update()}),s.set(this.value,!0)}else s.delete(this.value);return this.update(),r.getActived(s)}},{key:"hasEnableUnCheckedChild",value:function(){var t=this.children;if(!Array.isArray(t)||t.length<=0)return!1;var i=!1;return t.some(function(r){return r.isDisabledState()||r.isChecked()?!1:r.isIndeterminate()?r.hasEnableUnCheckedChild()?(i=!0,!0):!1:(i=!0,!0)}),i}},{key:"toggleChecked",value:function(t){if(this.isIndeterminate()){var i=this.hasEnableUnCheckedChild();return this.setChecked(i,t)}return this.setChecked(!this.isChecked(),t)}},{key:"setChecked",value:function(t,i){var r=this.tree,o=r.config||{},a=tm({isAction:!0,directly:!1},i),s=r.checkedMap;if(a.directly||(s=new Map(r.checkedMap)),!this.isCheckable()||a.isAction&&this.isDisabledState())return r.getChecked(s);if(t===this.isChecked()){var l=this.isIndeterminate()&&!this.hasEnableUnCheckedChild();if(!l)return r.getChecked(s)}if(t?s.set(this.value,!0):s.delete(this.value),o.checkStrictly)a.directly&&this.updateChecked();else if(this.spreadChildrenChecked(t,s,a),this.spreadParentChecked(t,s,a),a.directly){var u=r.getRelatedNodes([this.value],{reverse:!0});u.forEach(function(c){c.updateChecked()})}return r.getChecked(s)}},{key:"spreadParentChecked",value:function(t,i,r){var o=tm({isAction:!0,directly:!1},r);if(this.isCheckable()){var a=this.children;Array.isArray(a)&&a.length>0&&i.delete(this.value);var s=this.parent;s&&s.spreadParentChecked(t,i,o)}}},{key:"spreadChildrenChecked",value:function(t,i,r){var o=tm({isAction:!0,directly:!1},r);if(this.isCheckable()&&!(o.isAction&&this.isDisabledState())){var a=this.children;Array.isArray(a)&&(a.length<=0||(i.delete(this.value),a.forEach(function(s){o.isAction&&s.isDisabledState()||(t?i.set(s.value,!0):i.delete(s.value),s.spreadChildrenChecked(t,i,o))})))}}},{key:"setDisabled",value:function(t){this.disabled=t,this.update(),this.updateChildren()}},{key:"update",value:function(){this.level=this.getLevel(),this.vmIsFirst=this.isFirst(),this.vmIsLast=this.isLast(),this.vmIsLeaf=this.isLeaf(),this.vmCheckable=this.isCheckable(),this.vmIsRest=this.isRest(),this.actived=this.isActived(),this.expanded=this.isExpanded(),this.visible=this.isVisible(),this.tree.updated(this)}},{key:"updateChecked",value:function(){var t=this.tree,i=this.value,r=t.checkedMap;this.checked=this.isChecked(),this.indeterminate=this.isIndeterminate(),this.checked&&r.set(i,!0),t.updated(this)}},{key:"updateChildren",value:function(){var t=this;this.spreadChildren(function(i){i!==t&&(i.update(),i.updateChecked())})}},{key:"updateParents",value:function(){var t=this;this.spreadParents(function(i){i!==t&&(i.update(),i.updateChecked())})}},{key:"updateRelated",value:function(){var t=this.tree,i=t.getRelatedNodes([this.value]);i.forEach(function(r){r.update(),r.updateChecked()})}},{key:"walk",value:function(){var t=[];return this.spreadChildren(function(i){t.push(i)}),t}},{key:"spreadChildren",value:function(t){t(this);var i=this.children;Array.isArray(i)&&i.length>0&&i.forEach(function(r){r==null||r.spreadChildren(t)})}},{key:"spreadParents",value:function(t){t(this);var i=this.parent;i&&(i==null||i.spreadParents(t))}},{key:"getModel",value:function(){var t=this.model;return t||(t=Qye(this),this.model=t),t}}])}();/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function h$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function eE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function i_e(n){var e=Promise.resolve();return e.then(n),e}var gK=function(){function n(e){Zu(this,n),X(this,"children",void 0),X(this,"nodes",void 0),X(this,"nodeMap",void 0),X(this,"privateMap",void 0),X(this,"config",void 0),X(this,"activedMap",void 0),X(this,"updatedMap",void 0),X(this,"checkedMap",void 0),X(this,"expandedMap",void 0),X(this,"filterMap",void 0),X(this,"hasFilter",void 0),X(this,"emitter",void 0),X(this,"updateTick",void 0),X(this,"shouldReflow",void 0),X(this,"prevFilter",void 0);var t=eE({prefix:"t",keys:{},expandAll:!1,expandLevel:0,expandMutex:!1,expandParent:!1,activable:!1,activeMultiple:!1,checkable:!1,checkStrictly:!1,disabled:!1,disableCheck:!1,draggable:!1,load:null,lazy:!1,valueMode:"onlyLeaf",filter:null,allowFoldNodeOnFilter:!1,onLoad:null,onReflow:null,onUpdate:null},e);this.config=t,this.nodes=[],this.children=[],this.nodeMap=new Map,this.privateMap=new Map,this.activedMap=new Map,this.expandedMap=new Map,this.checkedMap=new Map,this.updatedMap=new Map,this.filterMap=new Map,this.prevFilter=null,this.updateTick=null,this.shouldReflow=!1,this.hasFilter=qe(t.filter),this.emitter=Xye()}return Xu(n,[{key:"setConfig",value:function(t){var i=this.config,r=!1;Object.keys(t).forEach(function(o){var a=t[o];a!==i[o]&&(r=!0,i[o]=a)}),this.hasFilter=qe(i.filter),r&&this.refreshState()}},{key:"getChildren",value:function(){return this.children}},{key:"getNode",value:function(t){var i=null;return kt(t)||Dn(t)?i=this.nodeMap.get(t):t instanceof Jh&&(i=this.nodeMap.get(t.value)),i||(i=null),i}},{key:"getIndex",value:function(t){return this.nodes.indexOf(t)}},{key:"getParent",value:function(t){var i=null,r=this.getNode(t);return r&&(i=r.getParent()),i}},{key:"getParents",value:function(t){var i=this.getNode(t),r=[];return i&&(r=i.getParents()),r}},{key:"getNodeIndex",value:function(t){var i=this.getNode(t),r=-1;return i&&(r=i.getIndex()),r}},{key:"getNodes",value:function(t,i){var r=[],o="";if(kt(t)||Dn(t)?o=t:t instanceof Jh&&(o=t.value),!o&&o!==0)r=this.nodes.slice(0);else{var a=this.getNode(o);a&&(r=a.walk())}if(i){var s=eE({filter:null,level:1/0},i);Dn(s.level)&&s.level!==1/0&&(r=r.filter(function(l){return l.level<=s.level})),qe(s.filter)&&(r=r.filter(function(l){var u=l.getModel();return s.filter(u)})),tO(s.props)&&(r=r.filter(function(l){var u=Object.keys(s.props).every(function(c){var d=l[c]===s.props[c];return d});return u}))}return r}},{key:"append",value:function(t){var i=this;t.forEach(function(r){var o=new Jh(i,r);i.children.push(o)}),this.reflow()}},{key:"reload",value:function(t){this.removeAll(),this.append(t)}},{key:"parseNodeData",value:function(t,i){var r="",o=null,a=null;kt(t)||Dn(t)?(r=t,o=this.getNode(r),a=i):t instanceof Jh&&i?(o=t,a=i):a=t;var s={node:o,data:a};return s}},{key:"appendNodes",value:function(t,i){var r=this.parseNodeData(t,i);r.data&&(r.node?(r.data instanceof Jh?r.data.appendTo(this,r.node):ut(r.data)?r.node.append(r.data):r.node.append([r.data]),r.node.updateRelated()):r.data instanceof Jh?r.data.appendTo(this):Array.isArray(r.data)?this.append(r.data):this.append([r.data]))}},{key:"insertBefore",value:function(t,i){var r=this.getNode(t);r&&r.insertBefore(i)}},{key:"insertAfter",value:function(t,i){var r=this.getNode(t);r&&r.insertAfter(i)}},{key:"refreshNodes",value:function(){var t=this.children,i=this.nodes;i.length=0,t.forEach(function(r){var o=r.walk();Array.prototype.push.apply(i,o)})}},{key:"reflow",value:function(t){this.shouldReflow=!0,this.updated(t)}},{key:"updated",value:function(t){var i=this,r=this.updatedMap;t?r.set(t[iu],"changed"):this.getNodes().forEach(function(o){r.set(o[iu],"changed")}),!this.updateTick&&(this.updateTick=i_e(function(){i.updateTick=null,i.shouldReflow&&(i.refreshNodes(),i.emit("reflow")),i.lockFilterPathNodes();var o="t".concat(new Date().getTime()),a=Array.from(r.keys()),s=a.map(function(l){return r.set(l,o),i.privateMap.get(l)});i.emit("update",{nodes:s,map:r}),i.shouldReflow=!1,r.clear()}))}},{key:"getActived",value:function(t){var i=t||this.activedMap;return Array.from(i.keys())}},{key:"getActivedNodes",value:function(t){var i=this.getNodes(t);return i=i.filter(function(r){return r.isActived()}),i}},{key:"replaceActived",value:function(t){this.resetActived(),this.setActived(t)}},{key:"setActived",value:function(t){var i=this,r=this.config.activeMultiple,o=t.slice(0);r||(o.length=1),o.forEach(function(a){i.activedMap.set(a,!0);var s=i.getNode(a);s&&s.update()})}},{key:"resetActived",value:function(){var t=this.getActived();this.activedMap.clear();var i=this.getRelatedNodes(t);i.forEach(function(r){r.update()})}},{key:"getExpanded",value:function(t){var i=t||this.expandedMap;return Array.from(i.keys())}},{key:"replaceExpanded",value:function(t){var i=this.getExpanded(),r=iF(t,i),o=iF(i,t);this.setExpandedDirectly(o,!1),this.updateExpanded(o),this.setExpanded(r)}},{key:"setExpanded",value:function(t){this.setExpandedDirectly(t),this.updateExpanded(t)}},{key:"setExpandedDirectly",value:function(t){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;t.forEach(function(o){r?i.expandedMap.set(o,!0):i.expandedMap.delete(o);var a=i.getNode(o);a&&a.afterExpanded()})}},{key:"resetExpanded",value:function(){var t=this.getExpanded();this.expandedMap.clear(),this.updateExpanded(t)}},{key:"updateExpanded",value:function(t){var i=this.getRelatedNodes(t,{withParents:!1});i.forEach(function(r){r.update()})}},{key:"getChecked",value:function(t){var i=this.nodeMap,r=this.config,o=r.valueMode,a=r.checkStrictly,s=[],l=t||this.checkedMap;return i.forEach(function(u){u.isChecked(l)&&(o==="parentFirst"&&!a?(!u.parent||!u.parent.isChecked(l))&&s.push(u.value):o==="onlyLeaf"&&!a?u.isLeaf()&&s.push(u.value):s.push(u.value))}),s}},{key:"getCheckedNodes",value:function(t){var i=this.getNodes(t);return i=i.filter(function(r){return r.isChecked()}),i}},{key:"replaceChecked",value:function(t){this.resetChecked(),this.setChecked(t)}},{key:"setChecked",value:function(t){var i=this,r=this.config,o=r.checkStrictly,a=r.checkable;if(a&&(t.forEach(function(u){var c=i.getNode(u);if(c)if(o)i.checkedMap.set(u,!0),c.updateChecked();else{var d=c.walk();d.forEach(function(f){i.checkedMap.set(f.value,!0)})}}),!o)){var s=this.getChecked(),l=this.getRelatedNodes(s);l.forEach(function(u){u.updateChecked()})}}},{key:"resetChecked",value:function(){var t=this.getChecked(),i=this.getRelatedNodes(t);this.checkedMap.clear(),i.forEach(function(r){r.updateChecked()})}},{key:"refreshState",value:function(){var t=this.nodeMap;t.forEach(function(i){i.update()})}},{key:"updateAll",value:function(){var t=this.nodeMap;t.forEach(function(i){i.update(),i.updateChecked()})}},{key:"remove",value:function(t){var i=this.getNode(t);i&&i.remove()}},{key:"removeAll",value:function(){this.expandedMap.clear(),this.checkedMap.clear(),this.activedMap.clear(),this.filterMap.clear(),this.nodeMap.clear(),this.privateMap.clear(),this.updatedMap.clear(),this.nodes=[],this.children=[],this.reflow()}},{key:"getRelatedNodes",value:function(t,i){var r=this,o=eE({reverse:!1,withParents:!0},i),a=new Map;t.forEach(function(l){if(!a.get(l)){var u=r.getNode(l);if(u){var c=u.getParents().reverse(),d=u.walk(),f=[];o.withParents?f=c.concat(d):f=d,f.forEach(function(h){a.set(h.value,h)})}}});var s=Array.from(a.values());return o.reverse&&(s=s.reverse()),s}},{key:"emit",value:function(t,i){var r=this.config,o=this.emitter,a=Ja("on-".concat(t)),s=r[a];qe(s)&&s(i),o.emit(t,i)}},{key:"lockFilterPathNodes",value:function(){var t=this.config,i=this.getNodes();this.prevFilter&&i.forEach(function(o){o.vmIsLocked&&o.lock(!1)});var r=t.filter;!r||!qe(r)||(this.prevFilter=t.filter,i.reverse().forEach(function(o){var a=o.getParent();a&&(o.vmIsRest||o.vmIsLocked)&&(a.vmIsLocked||a.lock(!0))}))}}])}();/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function v$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function v0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var r_e=function(e,t,i,r){var o=$n({treeStore:null,inputVal:null,scopeVal:void 0,treeNodes:[],expend:[]});return{statusContext:o,cascaderContext:R(function(){var a=e.size,s=e.checkStrictly,l=e.lazy,u=e.multiple,c=e.filterable,d=e.clearable,f=e.checkProps,h=e.max,v=e.disabled,g=e.showAllLevels,p=e.minCollapsedNum,m=e.valueType,b=e.modelValue;return v0(v0({value:o.scopeVal,size:a,checkStrictly:s,lazy:l,multiple:u,filterable:c,clearable:d,checkProps:f,max:h,disabled:v,showAllLevels:g,minCollapsedNum:p,valueType:m,visible:i.value},o),{},{setTreeNodes:function(O){o.treeNodes=O},setValue:function(O,w,E){l9(O,b)||t(O,{source:w,node:E})},setVisible:r,setInputVal:function(O){o.inputVal=O},setExpend:function(O){o.expend=O}})})}},pK=function(e){var t=xi(),i=rt(e),r=i.value,o=i.modelValue,a=i.popupVisible,s=Nn(r,o,e.defaultValue,e.onChange),l=Je(s,2),u=l[0],c=l[1],d=Gi(a,!1,e.onPopupVisibleChange,"popupVisible"),f=Je(d,2),h=f[0],v=f[1],g=r_e(e,c,h,v),p=g.cascaderContext,m=g.statusContext,b=R(function(){return!!(e.filterable||qe(e.filter))}),C=function(){var P=p.value,D=P.inputVal,k=P.treeStore,L=P.setTreeNodes;Kye(D,k,L,e.filter)},O=function(){var P=p.value,D=P.value,k=P.treeStore,L=m.expend;qye(k,D,L),k.replaceChecked(fK(D))};Pe(function(){return e.options},function(){var E=e.options,P=e.keys,D=P===void 0?{}:P,k=e.checkStrictly,L=e.lazy,M=e.load,A=e.valueMode,j=m.treeStore;if(!(!E.length&&!j)){if(j)j.reload(E),j.refreshNodes();else{var V=new gK({keys:v0(v0({},D),{},{children:kt(D.children)?D.children:"children"}),checkable:!0,expandMutex:!0,expandParent:!0,lazy:L,load:M,valueMode:A,checkStrictly:k,onLoad:function(){tn(function(){V.refreshNodes(),C()})}});V.append(E),m.treeStore=V}O(),C()}},{immediate:!0,deep:!0}),Pe(function(){var E=e.checkStrictly,P=e.lazy,D=e.load,k=e.valueMode;return JSON.stringify({valueMode:k,checkStrictly:E,lazy:P,load:D})},function(){var E=m.treeStore;if(E){var P=e.checkStrictly,D=e.lazy,k=e.load,L=e.valueMode,M={checkStrictly:P,disabled:t,load:k,lazy:D,valueMode:L};E.setConfig(M)}},{immediate:!0}),Pe(u,function(){var E=p.value,P=E.setValue,D=E.multiple,k=E.valueType;Vye(u.value,p.value)?P(D?[]:"","invalid-value"):m.scopeVal=D?[]:"",fM(u)||(m.scopeVal=$ye(u.value,k,D)),m.treeStore&&(O(),C())},{immediate:!0}),Pe(function(){return h.value&&b.value},function(E){var P=p.value.setInputVal;E&&P("")}),Pe(function(){return m.inputVal},function(){C()});var w=function(P){var D=[];return P.forEach(function(k){var L,M=(L=m.treeStore)===null||L===void 0?void 0:L.getNodes(k);M&&M[0]&&D.push(M[0].data)}),D};return{cascaderContext:p,isFilterable:b,innerValue:u,getCascaderItems:w}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function g$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var o_e=pe({name:"TCascader",props:wc,setup:function(e,t){var i=t.slots,r=we("cascader"),o=we(),a=Wn(),s=a.STATUS,l=we("cascader__popup"),u=Dt("cascader"),c=u.globalConfig,d=xi(),f=sr(),h=ft(),v=pK(e),g=v.cascaderContext,p=v.innerValue,m=v.isFilterable,b=v.getCascaderItems,C=R(function(){return e.multiple?Bye(g.value):c$(g.value)}),O=R(function(){return dK(g.value.treeNodes)}),w=R(function(){var M;return g.value.visible&&!e.multiple&&c$(g.value)||((M=e.placeholder)!==null&&M!==void 0?M:c.value.placeholder)}),E=function(){if(e.suffixIcon||i.suffixIcon)return h("suffixIcon");var A=g.value,j=A.visible,V=A.disabled;return x(df,{overlayClassName:Fye(o.value,s.value,g.value),isActive:j,disabled:V},null)},P=R(function(){var M=p.value instanceof Array?p.value:[p.value],A=e.multiple&&e.minCollapsedNum?M.slice(0,e.minCollapsedNum):p.value,j=b(M);return{value:p.value,selectedOptions:j,onClose:function(H){d$(g.value,H,e.onRemove)},displayValue:A}}),D=function(){return h("valueDisplay",{params:P.value})},k=function(){var A=h("label");return e.multiple?A:A?x("div",{class:"".concat(o.value,"-tag-input__prefix")},[A]):null},L=R(function(){return[r.value,e.multiple?"".concat(r.value,"--multiple"):"".concat(r.value,"--single")]});return function(){var M,A=g.value,j=A.setVisible,V=A.visible,H=A.inputVal,N=A.setInputVal;return x(Pp,He({class:L.value,value:C.value,inputValue:V?H:"",popupVisible:V,keys:e.keys,allowInput:m.value,"min-collapsed-num":e.minCollapsedNum,"collapsed-items":e.collapsedItems,readonly:f.value,disabled:d.value,clearable:e.clearable,placeholder:w.value,multiple:e.multiple,loading:e.loading,status:e.status,tips:e.tips,borderless:e.borderless,label:k,valueDisplay:D,prefixIcon:e.prefixIcon,suffix:e.suffix,suffixIcon:function(){return E()},popupProps:nm(nm({},e.popupProps),{},{overlayInnerStyle:O.value.length&&!e.loading?{width:"auto"}:"",overlayClassName:[l.value,(M=e.popupProps)===null||M===void 0?void 0:M.overlayClassName]}),inputProps:nm({size:e.size},e.inputProps),tagInputProps:nm({size:e.size},e.tagInputProps),tagProps:nm({},e.tagProps),onInputChange:function(W,U){var q,Z;m.value&&(N("".concat(W)),e==null||(q=e.selectInputProps)===null||q===void 0||(Z=q.onInputChange)===null||Z===void 0||Z.call(q,W,U))},onTagChange:function(W,U){var q,Z;U.trigger!=="enter"&&(d$(g.value,U.index,e.onRemove),e==null||(q=e.selectInputProps)===null||q===void 0||(Z=q.onTagChange)===null||Z===void 0||Z.call(q,W,U))},onPopupVisibleChange:function(W,U){var q,Z;d.value||(j(W,U),e==null||(q=e.selectInputProps)===null||q===void 0||(Z=q.onPopupVisibleChange)===null||Z===void 0||Z.call(q,W,U))},onBlur:function(W,U){var q,Z,z;(q=e.onBlur)===null||q===void 0||q.call(e,{value:g.value.value,inputValue:U.inputValue||"",e:U.e}),e==null||(Z=e.selectInputProps)===null||Z===void 0||(z=Z.onBlur)===null||z===void 0||z.call(Z,W,U)},onFocus:function(W,U){var q,Z,z;(q=e.onFocus)===null||q===void 0||q.call(e,{value:g.value.value,e:U.e}),e==null||(Z=e.selectInputProps)===null||Z===void 0||(z=Z.onFocus)===null||z===void 0||z.call(Z,W,U)},onClear:function(W){var U,q;Uye(g.value),e==null||(U=e.selectInputProps)===null||U===void 0||(q=U.onClear)===null||q===void 0||q.call(U,W)}},br(e.selectInputProps,["onTagChange","onInputChange","onPopupVisibleChange","onBlur","onFocus","onClear"])),{label:i.label,suffix:i.suffix,prefixIcon:i.prefixIcon,panel:function(){return x(Ft,null,[h("panelTopContent"),x(hK,{option:e.option,empty:e.empty,visible:V,trigger:e.trigger,loading:e.loading,loadingText:e.loadingText,cascaderContext:g.value},{option:i.option,empty:i.empty,loadingText:i.loadingText}),h("panelBottomContent")])},collapsedItems:i.collapsedItems})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var a_e=pe({name:"TCascaderPanel",props:wc,setup:function(e,t){var i=t.slots,r=pK(e),o=r.cascaderContext;return function(){return x(hK,{trigger:e.trigger,cascaderContext:o.value,empty:e.empty},{empty:i.empty,option:i.option,loadingText:i.loadingText})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var s_e=Ye(o_e),l_e=Ye(a_e);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var mK={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){return function(t,i){i.prototype.isoWeeksInYear=function(){var r=this.isLeapYear(),o=this.endOf("y").day();return o===4||r&&o===5?53:52}}})})(mK);var u_e=mK.exports,bK={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){return function(t,i){i.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(bK);var c_e=bK.exports;je.extend(u_e);je.extend(c_e);var im="HH:mm:ss";function hM(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n.replace(/\W?Y{2,4}|\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g,"").trim()}function $t(n,e,t,i){if(n===""||n===null)return je();var r=n;if(/[w|W]/g.test(e)){kt(r)||(r=je(r).locale("zh-cn").format(e));var o=r.split(/[-/.\s]/)[0],a=r.split(/[-/.\s]/)[1],s=e.split(/[-/.\s]/)[1],l=je(o,"YYYY").locale("zh-cn").startOf("year");(l.day()>4||l.day()===0)&&(l=l.add(1,"week"));for(var u=je(o,"YYYY").locale("zh-cn").isoWeeksInYear(),c=0;c<=u;c+=1){var d=l.add(c,"week");if(t==="start"&&(d=d.subtract(5,"day")),d.format(s)===a)return d}}if(/Q/g.test(e)){kt(r)||(r=je(r).locale("zh-cn").format(e));for(var f=r.split(/[-/.\s]/)[0],h=r.split(/[-/.\s]/)[1],v=e.split(/[-/.\s]/)[1],g=je(f,"YYYY").startOf("year"),p=0;p<4;p+=1){var m=g.add(p,"quarter");if(m.format(v)===h)return m}}var b=je(r,e).isValid()?je(r,e):je(r);return b.isValid()?b:(Yt.error("DatePicker",`Check whether the format、value format is valid.
 value: '`.concat(n,"', format: '").concat(e,"'")),je())}function d_e(n){var e=n.newDate,t=n.format,i=n.dayjsLocale,r=n.targetFormat,o=n.autoSwap;if(!e||!Array.isArray(e))return[];var a=e.map(function(s){return s&&$t(s,t).locale(i)});return o&&a[0]&&a[1]&&a[0].toDate().getTime()>a[1].toDate().getTime()&&(a=[a[1],a[0]]),a.some(function(s){return s&&!s.isValid()})?(Yt.error("DatePicker",`Check whether the value、format、valueType format is valid.
format: '`.concat(t,"' value: '").concat(e,"' valueType: '").concat(r,"'")),[]):r==="time-stamp"?a.map(function(s){return s&&s.toDate().getTime()}):r==="Date"?a.map(function(s){return s&&s.toDate()}):a.map(function(s){return s&&s.format(r||t)})}function f_e(n){var e=n.newDate,t=n.format,i=n.targetFormat,r=n.dayjsLocale;if(!e)return"";var o=$t(e,t).locale(r);return o.isValid()?i==="time-stamp"?o.toDate().getTime():i==="Date"?o.toDate():o.format(i||t):(Yt.error("DatePicker",`Check whether the format、value format is valid.
format: '`.concat(t,"' value: '").concat(e,"'")),"")}function Vr(n,e){return Array.isArray(n)?n.every(function(t){return t===""?!0:je(t,e).isValid()||je(t).isValid()}):n===""?!0:je(n,e).isValid()||je(n).isValid()}function nn(n,e){var t=e.format,i=e.targetFormat,r=e.dayjsLocale,o=r===void 0?"zh-cn":r,a=e.autoSwap,s;return Array.isArray(n)?s=d_e({newDate:n,format:t,dayjsLocale:o,targetFormat:i,autoSwap:a}):s=f_e({newDate:n,format:t,dayjsLocale:o,targetFormat:i}),s}function p$(n,e){if(n&&e){var t=n.split(":"),i=e.split(":");return t.slice(0,i.length).join(":")}return n}function jg(n,e,t,i){var r,o=Array.isArray(n)?n:[n];return i=Array.isArray(i)?i:[i,i],o=o.map(function(a,s){return a?je(a,typeof a=="string"?e:void 0).format(t):p$(i[s],t)}),o=o.length?o:i.map(function(a){return p$(a,t)}),Array.isArray(n)?o:(r=o)===null||r===void 0?void 0:r[0]}function Hs(n){var e=n.mode,t=e===void 0?"date":e,i=n.format,r=n.valueType,o=n.enableTimePicker;return t==="year"?{format:i||"YYYY",valueType:r||i||"YYYY",timeFormat:im}:t==="month"?{format:i||"YYYY-MM",valueType:r||i||"YYYY-MM",timeFormat:im}:t==="quarter"?{format:i||"YYYY-[Q]Q",valueType:r||i||"YYYY-[Q]Q",timeFormat:im}:t==="week"?{format:i||"gggg-wo",valueType:r||i||"gggg-wo",timeFormat:im}:t==="date"?{format:i||"YYYY-MM-DD".concat(o?" HH:mm:ss":""),valueType:r||i||"YYYY-MM-DD".concat(o?" HH:mm:ss":""),timeFormat:hM(i||"YYYY-MM-DD".concat(o?" HH:mm:ss":""))||im}:(Yt.error("DatePicker","Invalid mode: ".concat(t)),{})}function rC(n){var e=n.value,t=n.mode,i=t===void 0?"date":t,r=n.format,o=n.timeFormat,a=o===void 0?"HH:mm:ss":o,s=n.enableTimePicker,l={year:[je().year(),je().year()],month:[je().month(),je().month()],time:[je().format(a),je().format(a)]};return i==="year"?l.year[1]+=10:i==="month"||i==="quarter"?l.year[1]+=1:(i==="date"||i==="week")&&!s&&(l.month[0]===11?(l.year[1]+=1,l.month[1]=0):l.month[1]+=1),!e||!Array.isArray(e)||!e.length?l:{year:e.map(function(u){return $t(u,r).year()}),month:e.map(function(u){return $t(u,r).month()}),time:e.map(function(u){return $t(u,r).format(a)})}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function yK(n){var e,t,i,r,o=rt(n),a=o.value,s=o.modelValue,l=Nn(a,s,n.defaultValue,n.onChange),u=Je(l,2),c=u[0],d=u[1],f=R(function(){return Hs({mode:n.mode,format:n.format,enableTimePicker:n.multiple?!1:n.enableTimePicker})});n.enableTimePicker&&(hM(f.value.format)||console.error("format: ".concat(f.value.format," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss")));var h=oe(jg(n.multiple?(e=c.value)===null||e===void 0?void 0:e[0]:c.value,f.value.format,f.value.timeFormat,n.defaultTime)),v=oe($t(n.multiple?(t=c.value)===null||t===void 0?void 0:t[0]:c.value,f.value.format).month()),g=oe($t(n.multiple?(i=c.value)===null||i===void 0?void 0:i[0]:c.value,f.value.format).year()),p=oe(nn(n.multiple?(r=c.value)===null||r===void 0?void 0:r[0]:c.value,{format:f.value.format}));return od(function(){if(!c.value){p.value="";return}Vr(c.value,f.value.format)&&(p.value=nn(c.value,{format:f.value.format}),h.value=jg(c.value,f.value.format,f.value.timeFormat,n.defaultTime))}),{year:g,month:v,value:c,time:h,cacheValue:p,onChange:d}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function m$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Qh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function h_e(n){var e=we("date-picker"),t=xi(),i=oe(),r=sr(),o=yK(n),a=o.value,s=o.onChange,l=o.time,u=o.month,c=o.year,d=o.cacheValue,f=R(function(){return Hs({mode:n.mode,format:n.format,valueType:n.valueType,enableTimePicker:n.multiple?!1:n.enableTimePicker})}),h=oe(!1),v=oe(!1),g=oe(n.multiple?nn(a.value,{format:f.value.format})||[]:nn(a.value,{format:f.value.format})),p=R(function(){var b=Qh(Qh({},n.inputProps),{},{size:n.size,ref:i,readonly:r.value||!n.allowInput,class:[X({},"".concat(e.value,"__input--placeholder"),v.value)],onClear:function(O){var w;O==null||(w=O.e)===null||w===void 0||w.stopPropagation(),h.value=!1,s==null||s("",{dayjsValue:je(),trigger:"clear"})}});return n.multiple?b:Qh(Qh({},b),{},{onBlur:function(O,w){var E;(E=n.onBlur)===null||E===void 0||E.call(n,{value:O,e:w.e})},onFocus:function(O,w){var E,P=w.e;(E=n.onFocus)===null||E===void 0||E.call(n,{value:a.value,e:P})},onChange:function(O){if(g.value=O,!!Vr(O,f.value.format)){d.value=O;var w=$t(O,f.value.format).month(),E=$t(O,f.value.format).year(),P=jg(O,f.value.format,f.value.timeFormat,n.defaultTime);!Number.isNaN(E)&&(c.value=E),!Number.isNaN(w)&&(u.value=w),!Number.isNaN(P)&&(l.value=P)}},onEnter:function(O){if(!O){s("",{dayjsValue:je(),trigger:"enter"}),h.value=!1;return}!Vr(O,f.value.format)&&!Vr(a.value,f.value.format)||(h.value=!1,Vr(O,f.value.format)?s==null||s(nn(O,{format:f.value.format,targetFormat:f.value.valueType}),{dayjsValue:$t(O,f.value.format),trigger:"enter"}):Vr(a.value,f.value.format)?g.value=nn(a.value,{format:f.value.format}):g.value="")}})}),m=R(function(){var b,C,O;return Qh(Qh({expandAnimation:!0},br(n.popupProps,"on-visible-change")),{},{disabled:t.value,overlayInnerStyle:(b=(C=n.popupProps)===null||C===void 0?void 0:C.overlayInnerStyle)!==null&&b!==void 0?b:{width:"auto"},overlayClassName:[(O=n.popupProps)===null||O===void 0?void 0:O.overlayClassName,"".concat(e.value,"__panel-container")],onVisibleChange:function(E,P){var D,k,L,M;if(!t.value){if((D=n.popupProps)===null||D===void 0||(k=D.onVisibleChange)===null||k===void 0||k.call(D,E,P),(L=n.popupProps)===null||L===void 0||(M=L["on-visible-change"])===null||M===void 0||M.call(L,E,P),P.trigger==="trigger-element-click"){h.value=!0;return}h.value=E}}})});return Pe(a,function(b){if(!b){g.value="";return}Vr(b,f.value.format)&&(g.value=nn(b,{format:f.value.format}))}),{year:c,month:u,value:a,time:l,inputValue:g,popupVisible:h,inputProps:p,popupProps:m,inputRef:i,cacheValue:d,isHoverCell:v,onChange:s}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var _K={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){return function(t,i){var r=i.prototype,o=r.format;r.format=function(a){var s=this,l=this.$locale();if(!this.isValid())return o.bind(this)(a);var u=this.$utils(),c=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return u.s(s.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(s.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(s.$H===0?24:s.$H),d==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return d}});return o.bind(this)(c)}}})})(_K);var wK=_K.exports,CK={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,o=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,s={},l=function(p){return(p=+p)+(p>68?1900:2e3)},u=function(p){return function(m){this[p]=+m}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(p){if(!p||p==="Z")return 0;var m=p.match(/([+-]|\d\d)/g),b=60*m[1]+(+m[2]||0);return b===0?0:m[0]==="+"?-b:b}(g)}],d=function(p){var m=s[p];return m&&(m.indexOf?m:m.s.concat(m.f))},f=function(p,m){var b,C=s.meridiem;if(C){for(var O=1;O<=24;O+=1)if(p.indexOf(C(O,0,m))>-1){b=O>12;break}}else b=p===(m?"pm":"PM");return b},h={A:[a,function(g){this.afternoon=f(g,!1)}],a:[a,function(g){this.afternoon=f(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[r,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[r,u("day")],Do:[a,function(g){var p=s.ordinal,m=g.match(/\d+/);if(this.day=m[0],p)for(var b=1;b<=31;b+=1)p(b).replace(/\[|\]/g,"")===g&&(this.day=b)}],M:[o,u("month")],MM:[r,u("month")],MMM:[a,function(g){var p=d("months"),m=(d("monthsShort")||p.map(function(b){return b.slice(0,3)})).indexOf(g)+1;if(m<1)throw new Error;this.month=m%12||m}],MMMM:[a,function(g){var p=d("months").indexOf(g)+1;if(p<1)throw new Error;this.month=p%12||p}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(g){this.year=l(g)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function v(g){var p,m;p=g,m=s&&s.formats;for(var b=(g=p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(k,L,M){var A=M&&M.toUpperCase();return L||m[M]||t[M]||m[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(j,V,H){return V||H.slice(1)})})).match(i),C=b.length,O=0;O<C;O+=1){var w=b[O],E=h[w],P=E&&E[0],D=E&&E[1];b[O]=D?{regex:P,parser:D}:w.replace(/^\[|\]$/g,"")}return function(k){for(var L={},M=0,A=0;M<C;M+=1){var j=b[M];if(typeof j=="string")A+=j.length;else{var V=j.regex,H=j.parser,N=k.slice(A),F=V.exec(N)[0];H.call(L,F),k=k.replace(F,"")}}return function(W){var U=W.afternoon;if(U!==void 0){var q=W.hours;U?q<12&&(W.hours+=12):q===12&&(W.hours=0),delete W.afternoon}}(L),L}}return function(g,p,m){m.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(l=g.parseTwoDigitYear);var b=p.prototype,C=b.parse;b.parse=function(O){var w=O.date,E=O.utc,P=O.args;this.$u=E;var D=P[1];if(typeof D=="string"){var k=P[2]===!0,L=P[3]===!0,M=k||L,A=P[2];L&&(A=P[2]),s=this.$locale(),!k&&A&&(s=m.Ls[A]),this.$d=function(N,F,W){try{if(["x","X"].indexOf(F)>-1)return new Date((F==="X"?1e3:1)*N);var U=v(F)(N),q=U.year,Z=U.month,z=U.day,ie=U.hours,ee=U.minutes,K=U.seconds,J=U.milliseconds,$=U.zone,Y=new Date,te=z||(q||Z?1:Y.getDate()),ae=q||Y.getFullYear(),le=0;q&&!Z||(le=Z>0?Z-1:Y.getMonth());var Q=ie||0,ne=ee||0,se=K||0,de=J||0;return $?new Date(Date.UTC(ae,le,te,Q,ne,se,de+60*$.offset*1e3)):W?new Date(Date.UTC(ae,le,te,Q,ne,se,de)):new Date(ae,le,te,Q,ne,se,de)}catch{return new Date("")}}(w,D,E),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),M&&w!=this.format(D)&&(this.$d=new Date("")),s={}}else if(D instanceof Array)for(var j=D.length,V=1;V<=j;V+=1){P[1]=D[V-1];var H=m.apply(this,P);if(H.isValid()){this.$d=H.$d,this.$L=H.$L,this.init();break}V===j&&(this.$d=new Date(""))}else C.call(this,O)}}})})(CK);var kp=CK.exports;/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function v_e(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function yk(){return yk=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yk.apply(this,arguments)}var SK={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){return function(t,i,r){i.prototype.isBetween=function(o,a,s,l){var u=r(o),c=r(a),d=(l=l||"()")[0]==="(",f=l[1]===")";return(d?this.isAfter(u,s):!this.isBefore(u,s))&&(f?this.isBefore(c,s):!this.isAfter(c,s))||(d?this.isBefore(u,s):!this.isAfter(u,s))&&(f?this.isAfter(c,s):!this.isBefore(c,s))}}})})(SK);var g_e=SK.exports,OK={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){var t="week",i="year";return function(r,o,a){var s=o.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=a(this).startOf(i).add(1,i).date(u),d=a(this).endOf(t);if(c.isBefore(d))return 1}var f=a(this).startOf(i).date(u).startOf(t).subtract(1,"millisecond"),h=this.diff(f,t,!0);return h<0?a(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(OK);var p_e=OK.exports,xK={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){return function(t,i){i.prototype.weekYear=function(){var r=this.month(),o=this.week(),a=this.year();return o===1&&r===11?a+1:r===0&&o>=52?a-1:a}}})})(xK);var m_e=xK.exports,EK={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){return function(t,i,r){var o=i.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,h,v,g,p){var m=f.name?f:f.$locale(),b=a(m[h]),C=a(m[v]),O=b||C.map(function(E){return E.slice(0,g)});if(!p)return O;var w=m.weekStart;return O.map(function(E,P){return O[(P+(w||0))%7]})},l=function(){return r.Ls[r.locale()]},u=function(f,h){return f.formats[h]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,p,m){return p||m.slice(1)})}(f.formats[h.toUpperCase()])},c=function(){var f=this;return{months:function(v){return v?v.format("MMMM"):s(f,"months")},monthsShort:function(v){return v?v.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(v){return v?v.format("dddd"):s(f,"weekdays")},weekdaysMin:function(v){return v?v.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(v){return v?v.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(v){return u(f.$locale(),v)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},r.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(h){return u(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},r.months=function(){return s(l(),"months")},r.monthsShort=function(){return s(l(),"monthsShort","months",3)},r.weekdays=function(d){return s(l(),"weekdays",null,null,d)},r.weekdaysShort=function(d){return s(l(),"weekdaysShort","weekdays",3,d)},r.weekdaysMin=function(d){return s(l(),"weekdaysMin","weekdays",2,d)}}})})(EK);var b_e=EK.exports,PK={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Jo,function(){var t="month",i="quarter";return function(r,o){var a=o.prototype;a.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var s=a.add;a.add=function(u,c){return u=Number(u),this.$utils().p(c)===i?this.add(3*u,t):s.bind(this)(u,c)};var l=a.startOf;a.startOf=function(u,c){var d=this.$utils(),f=!!d.u(c)||c;if(d.p(u)===i){var h=this.quarter()-1;return f?this.month(3*h).startOf(t).startOf("day"):this.month(3*h+2).endOf(t).endOf("day")}return l.bind(this)(u,c)}}})})(PK);var y_e=PK.exports;function b$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function y$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}je.extend(p_e);je.extend(m_e);je.extend(b_e);je.extend(y_e);je.extend(wK);je.extend(kp);je.extend(g_e);function __e(n){return n&&n[0].toUpperCase().concat(n.substring(1,n.length))}function w_e(n){var e=n.year,t=n.month;return new Date(e,t,1)}function kK(n){var e=n.year,t=n.month;return new Date(e,t+1,0).getDate()}function C_e(n){var e=n.year,t=n.month;return new Date(e,t,kK({year:e,month:t}))}function vM(n,e){return n.getFullYear()===e.getFullYear()}function S_e(n,e){return vM(n,e)&&je(n).quarter()===je(e).quarter()}function gM(n,e){return vM(n,e)&&n.getMonth()===e.getMonth()}function O_e(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"zh-cn";return gM(n,e)&&je(n).locale(t).week()===je(e).locale(t).week()}function x_e(n,e){return gM(n,e)&&n.getDate()===e.getDate()}function _$(n,e){var t=n.getTime(),i=e.getTime();return t<i?-1:t>i?1:0}function Os(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"date",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"zh-cn",r={isSameYear:vM,isSameQuarter:S_e,isSameMonth:gM,isSameWeek:O_e,isSameDate:x_e};return r["isSame".concat(__e(t))](n,e,i)}function tg(n,e,t){return e&&_$(n,e)===-1||t&&_$(n,t)===1}function _O(){var n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0)}function wO(n,e){return je(n).subtract(e,"month").toDate()}function CO(n,e){return je(n).add(e,"month").toDate()}function w$(n,e){var t=n.year,i=n.month,r=e.firstDayOfWeek,o=e.showWeekOfYear,a=o===void 0?!1:o,s=e.disableDate,l=s===void 0?function(){return!1}:s,u=e.minDate,c=e.maxDate,d=e.dayjsLocale,f=d===void 0?"zh-cn":d,h=e.cancelRangeSelectLimit,v=h===void 0?!1:h,g=w_e({year:t,month:i}),p=C_e({year:t,month:i}),m=kK({year:t,month:i}),b=[],C=1,O=_O();for(C;C<=m;C++){var w=new Date(t,i,C);b.push({text:C,active:!1,value:w,disabled:qe(l)&&l(w)||!v&&tg(w,u,c),now:Os(O,w),firstDayOfMonth:C===1,lastDayOfMonth:C===m,type:"current-month",dayjsObj:je(w).locale(f)})}if(g.getDay()!==r)for(g.setDate(0);b.unshift({text:g.getDate().toString(),active:!1,value:new Date(g),disabled:qe(l)&&l(g)||!v&&tg(g,u,c),additional:!0,type:"prev-month",dayjsObj:je(g).locale(f)}),g.setDate(g.getDate()-1),g.getDay()!==Math.abs(r+6)%7;);for(var E=42;b.length<E;)p.setDate(p.getDate()+1),b.push({text:p.getDate(),active:!1,value:new Date(p),disabled:qe(l)&&l(p)||!v&&tg(p,u,c),additional:!0,type:"next-month",dayjsObj:je(p).locale(f)});var P=iO(b,7);return a&&P.forEach(function(D){D.unshift(y$(y$({},D[0]),{},{active:!1,value:D[0].value,text:je(D[0].value).locale(f).week(),dayjsObj:je(D[0].value).locale(f)}))}),P}function E_e(n,e){for(var t=e.disableDate,i=t===void 0?function(){return!1}:t,r=e.minDate,o=e.maxDate,a=e.quarterLocal,s=e.dayjsLocale,l=s===void 0?"zh-cn":s,u=e.cancelRangeSelectLimit,c=u===void 0?!1:u,d=[],f=_O(),h=1;h<=4;h++){var v=je(new Date(n,0)).quarter(h).toDate();d.push({value:v,now:Os(v,f,"quarter"),disabled:qe(i)&&i(v)||!c&&tg(v,r,o),active:!1,text:a[h-1],dayjsObj:je(v).locale(l)})}return iO(d,4)}function P_e(n,e){for(var t=e.disableDate,i=t===void 0?function(){return!1}:t,r=e.minDate,o=e.maxDate,a=e.dayjsLocale,s=a===void 0?"zh-cn":a,l=e.cancelRangeSelectLimit,u=l===void 0?!1:l,c=parseInt((n/10).toString(),10)*10,d=c+9,f=[],h=_O(),v=c;v<=d;v++){var g=new Date(v,0);f.push({value:g,now:Os(g,h,"year"),disabled:qe(i)&&i(g)||!u&&tg(g,r,o),active:!1,text:"".concat(g.getFullYear()),dayjsObj:je(g).locale(s)})}return iO(f,3)}function k_e(n,e){for(var t=e.disableDate,i=t===void 0?function(){return!1}:t,r=e.minDate,o=e.maxDate,a=e.monthLocal,s=e.dayjsLocale,l=s===void 0?"zh-cn":s,u=e.cancelRangeSelectLimit,c=u===void 0?!1:u,d=[],f=_O(),h=0;h<=11;h++){var v=new Date(n,h);d.push({value:v,now:Os(v,f,"month"),disabled:qe(i)&&i(v)||!c&&tg(v,r,o),active:!1,text:a[v.getMonth()],dayjsObj:je(v).locale(l)})}return iO(d,3)}function D_e(n,e){var t=yk({},(v_e(e),e)),i=t.start,r=t.end,o=t.hoverStart,a=t.hoverEnd,s=t.type,l=s===void 0?"date":s,u=t.isRange,c=u===void 0?!1:u,d=t.value,f=t.multiple,h=f===void 0?!1:f;return l==="week"?n:c?n.map(function(v){return v.map(function(g){var p=g,m=g.value,b=i&&Os(i,m,l),C=o&&Os(o,m,l),O=r&&Os(r,m,l),w=a&&Os(a,m,l);return p.active=(b||O)&&!p.additional,i&&r&&(p.highlight=je(m).isBetween(i,r,l,"[]")&&!p.additional,p.startOfRange=b,p.endOfRange=O),o&&a&&(p.hoverHighlight=je(m).isBetween(o,a,l,"[]")&&!p.additional,p.hoverStartOfRange=C,p.hoverEndOfRange=w),p})}):n.map(function(v){return v.map(function(g){var p=g;if(h){var m;p.active=d==null||(m=d.some)===null||m===void 0?void 0:m.call(d,function(b){return Os(je(b).toDate(),p.value,l)&&!p.additional})}else p.active=i&&Os(g.value,i,l)&&!p.additional;return p})})}function Hg(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=n.match(/[ap]m/i)||[""],t=/\d{1,2}(:\d{1,2})?(:\d{1,2})?(:\d{1,3})?/,i=n.match(t)||["0:0:0:0"],r=i[0].split(":"),o=Je(r,4),a=o[0],s=a===void 0?0:a,l=o[1],u=l===void 0?0:l,c=o[2],d=c===void 0?0:c,f=o[3],h=f===void 0?0:f;return{hours:+s,minutes:+u,seconds:+d,milliseconds:+h,meridiem:e[0]}}function T_e(n){var e=n.value,t=n.disableDate,i=n.mode,r=n.format;if(!t)return!0;var o=i==="quarter"?"date":i,a=!0;if(qe(t))return!t(e);if(Array.isArray(t)){var s=t.map(function(w){return $t(w,r)}),l=s.some(function(w){return w.isSame(je(e))});return!l}var u=t.from,c=t.to,d=t.before,f=t.after;if(u&&c){var h=je(u).startOf("day"),v=je(c).endOf("day");return!je(e).isBetween(h,v,o,"[]")}var g=d?new Date(je(d).startOf("day").format()):null,p=f?new Date(je(f).endOf("day").format()):null;if(p&&g){var m=je(new Date(g)),b=je(new Date(p));a=je(e).isBetween(m,b,o,"[]")}else if(g){var C=je(new Date(g));a=!je(e).isBefore(C,o)}else if(p){var O=je(new Date(p));a=!je(e).isAfter(O,o)}return a}function I_e(n,e){return e==="time-stamp"?new Date(n):je(n,e).toDate()}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ua={allowInput:Boolean,borderless:Boolean,clearable:Boolean,defaultTime:{type:String,default:"00:00:00"},disableDate:{type:[Object,Array,Function]},disabled:{type:Boolean,default:void 0},enableTimePicker:Boolean,firstDayOfWeek:{type:Number,validator:function(e){return e?[1,2,3,4,5,6,7].includes(e):!0}},format:{type:String,default:void 0},inputProps:{type:Object},label:{type:[String,Function]},mode:{type:String,default:"date",validator:function(e){return e?["year","quarter","month","week","date"].includes(e):!0}},multiple:Boolean,needConfirm:{type:Boolean,default:!0},placeholder:{type:[String,Array],default:void 0},popupProps:{type:Object},prefixIcon:{type:Function},presets:{type:Object},presetsPlacement:{type:String,default:"bottom",validator:function(e){return e?["left","top","right","bottom"].includes(e):!0}},readonly:{type:Boolean,default:void 0},selectInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffixIcon:{type:Function},timePickerProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Array,Date],default:void 0},modelValue:{type:[String,Number,Array,Date],default:void 0},defaultValue:{type:[String,Number,Array,Date],default:""},valueDisplay:{type:[String,Function]},valueType:{type:String,default:""},onBlur:Function,onChange:Function,onConfirm:Function,onFocus:Function,onPick:Function,onPresetClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var L_e=pe({name:"TDatePickerHeader",props:{mode:{type:String,default:"date"},year:Number,month:Number,onMonthChange:Function,onYearChange:Function,onJumperClick:Function},setup:function(e){var t=Dt("classPrefix"),i=t.classPrefix,r=we("date-picker__header"),o=Dt("datePicker"),a=o.globalConfig,s=oe(d(e.year)),l=R(function(){return e.mode==="date"||e.mode==="week"}),u=R(function(){var m;return((m=s.value.find(function(b){return b.value-e.year<=9&&b.value-e.year>=0}))===null||m===void 0?void 0:m.value)||e.year}),c=R(function(){return a.value.months.map(function(m,b){return{label:m,value:b}})});function d(m){var b=[];if(e.mode==="year")for(var C=m%10,O=m-C-100,w=m-C+100,E=O;E<=w;E+=10)b.push({label:"".concat(E," - ").concat(E+9),value:E+9});else{b.push({label:"".concat(m),value:m});for(var P=1;P<=10;P++)b.push({label:"".concat(m+P),value:m+P}),b.unshift({label:"".concat(m-P),value:m-P})}return b}function f(m,b){var C=[];if(e.mode==="year"){var O=m%10;if(b==="add")for(var w=m-O+10;w<=m-O+50;w+=10)C.push({label:"".concat(w," - ").concat(w+9),value:w});else for(var E=m-O-1;E>m-O-50;E-=10)C.unshift({label:"".concat(E-9," - ").concat(E),value:E})}else if(b==="add")for(var P=m+1;P<=m+10;P++)C.push({label:"".concat(P),value:P});else for(var D=m-1;D>m-10;D--)C.unshift({label:"".concat(D),value:D});return C}var h=R(function(){return{year:{prev:a.value.preDecade,current:a.value.now,next:a.value.nextDecade},month:{prev:a.value.preYear,current:a.value.now,next:a.value.nextYear},date:{prev:a.value.preMonth,current:a.value.now,next:a.value.nextMonth},quarter:{prev:a.value.preYear,current:a.value.now,next:a.value.nextYear},week:{prev:a.value.preMonth,current:a.value.now,next:a.value.nextMonth}}});function v(m){var b=m.e;b.target.scrollTop===0?g(b):b.target.scrollTop===b.target.scrollHeight-b.target.clientHeight&&p(b)}function g(m){var b;m==null||(b=m.stopPropagation)===null||b===void 0||b.call(m);var C=s.value[0].value,O=f(C,"reduce");s.value=[].concat(Be(O),Be(s.value))}function p(m){var b;m==null||(b=m.stopPropagation)===null||b===void 0||b.call(m);var C=s.value.slice(-1)[0].value,O=f(C,"add");s.value=[].concat(Be(s.value),Be(O))}return Pe(function(){return e.mode},function(){s.value=d(e.year)}),function(){return x("div",{class:r.value},[x("div",{class:"".concat(r.value,"-controller")},[l.value&&x(Mu,{class:"".concat(r.value,"-controller-month"),value:e.month,options:c.value,onChange:function(b){var C;return(C=e.onMonthChange)===null||C===void 0?void 0:C.call(e,b)},popupProps:{attach:function(b){return b.parentNode},overlayClassName:"".concat(r.value,"-controller-month-popup")}},null),x(Mu,{class:"".concat(r.value,"-controller-year"),value:e.mode==="year"?u.value:e.year,options:s.value,onChange:function(b){var C;return(C=e.onYearChange)===null||C===void 0?void 0:C.call(e,b)},popupProps:{onScroll:v,attach:function(b){return b.parentNode},overlayClassName:"".concat(r.value,"-controller-year-popup")},panelTopContent:function(){return x("div",{class:"".concat(i.value,"-select-option"),onClick:g},[rn("...")])},panelBottomContent:function(){return x("div",{class:"".concat(i.value,"-select-option"),onClick:p},[rn("...")])}},null)]),x(rK,{tips:h.value[e.mode],size:"small",onChange:e.onJumperClick},null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var M_e=pe({name:"TDatePickerCell",props:{time:String,text:[String,Number],value:Date,active:Boolean,highlight:Boolean,disabled:Boolean,startOfRange:Boolean,endOfRange:Boolean,hoverHighlight:Boolean,hoverStartOfRange:Boolean,hoverEndOfRange:Boolean,additional:Boolean,now:Boolean,firstDayOfMonth:Boolean,lastDayOfMonth:Boolean,onClick:Function,onMouseEnter:Function,dayjsObj:sO.exports.Dayjs},setup:function(e){var t=we("date-picker__cell"),i=R(function(){var a;return[t.value,(a={},X(X(X(X(X(X(X(X(X(X(a,"".concat(t.value,"--now"),e.now),"".concat(t.value,"--active"),e.active),"".concat(t.value,"--disabled"),e.disabled),"".concat(t.value,"--highlight"),e.highlight),"".concat(t.value,"--hover-highlight"),e.hoverHighlight),"".concat(t.value,"--active-start"),e.startOfRange),"".concat(t.value,"--active-end"),e.endOfRange),"".concat(t.value,"--hover-start"),e.hoverStartOfRange),"".concat(t.value,"--hover-end"),e.hoverEndOfRange),"".concat(t.value,"--additional"),e.additional),X(X(a,"".concat(t.value,"--first-day-of-month"),e.firstDayOfMonth),"".concat(t.value,"--last-day-of-month"),e.lastDayOfMonth))]});function r(a){var s;if(!e.disabled){if(e.time){var l=Hg(e.time),u=l.hours,c=l.minutes,d=l.seconds,f=l.milliseconds,h=l.meridiem,v=u;/am/i.test(h)&&v===12&&(v-=12),/pm/i.test(h)&&v<12&&(v+=12),e.value.setHours(v),e.value.setMinutes(c),e.value.setSeconds(d),e.value.setMilliseconds(f)}(s=e.onClick)===null||s===void 0||s.call(e,e.value,{e:a})}}function o(){var a;if(!e.disabled){if(e.time){var s=Hg(e.time),l=s.hours,u=s.minutes,c=s.seconds,d=s.milliseconds,f=s.meridiem,h=l;/am/i.test(f)&&h===12&&(h-=12),/pm/i.test(f)&&h<12&&(h+=12),e.value.setHours(h),e.value.setMinutes(u),e.value.setSeconds(c),e.value.setMilliseconds(d)}(a=e.onMouseEnter)===null||a===void 0||a.call(e,e.value)}}return function(){return x("td",{class:i.value,onClick:r,onMouseenter:o},[x("div",{class:"".concat(t.value,"-inner")},[e.text])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function C$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function A_e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var R_e=pe({name:"TDatePickerTable",props:{mode:{type:String,default:"date"},value:[String,Number,Array,Date],format:String,firstDayOfWeek:Number,multiple:Boolean,data:Array,time:String,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function},setup:function(e){var t=we("date-picker__table"),i=Dt("datePicker"),r=i.globalConfig,o=r.value.dayjsLocale,a=R(function(){for(var d=[],f=e.firstDayOfWeek-1,h=r.value.weekdays.length;d.length<h;)d.push(r.value.weekdays[f]),f=(f+h+1)%h;return e.mode==="week"&&d.unshift(r.value.weekAbbreviation),d}),s=R(function(){return e.mode==="date"||e.mode==="week"}),l=function(f,h){if(e.mode!=="week"||!f)return{};if(ut(f)){var v,g,p,m;if(!f.length)return{};var b=f.map(function(H){return H&&$t(H,e.format)}),C=Je(b,2),O=C[0],w=C[1],E=O&&O.year(),P=O==null||(v=O.locale)===null||v===void 0||(v=v.call(O,o))===null||v===void 0||(g=v.week)===null||g===void 0?void 0:g.call(v),D=w&&w.year(),k=w==null||(p=w.locale)===null||p===void 0||(p=p.call(w,o))===null||p===void 0||(m=p.week)===null||m===void 0?void 0:m.call(p),L=$t(h,e.format),M=L.year(),A=L.week(),j=M===E&&A===P||M===D&&A===k,V=M>=E&&M<=D&&A>P&&A<k;return X(X({},"".concat(t.value,"-").concat(e.mode,"-row--active"),j),"".concat(t.value,"-").concat(e.mode,"-row--range"),V)}return X({},"".concat(t.value,"-").concat(e.mode,"-row--active"),$t(f,e.format).locale(o).week()===$t(h,e.format).locale(o).week())},u=function(f,h){var v,g=$t(h,e.format);if(e.mode!=="week"||Array.isArray(f)&&!f.length)return{};var p=(v=f.map)===null||v===void 0?void 0:v.call(f,function(m){return $t(m,e.format)}).some(function(m){return m.week()===g.week()&&m.year()===g.year()});return X({},"".concat(t.value,"-").concat(e.mode,"-row--active"),p)},c=e.multiple?u:l;return function(){return x("div",{class:t.value,onMouseleave:function(f){var h;return(h=e.onCellMouseLeave)===null||h===void 0?void 0:h.call(e,{e:f})}},[x("table",null,[s.value&&x("thead",null,[x("tr",{class:"".concat(t.value,"-header-row")},[a.value.map(function(d,f){return x("th",{class:"".concat(t.value,"-header-cell"),key:f},[d])})])]),x("tbody",null,[e.data.map(function(d,f){return x("tr",{key:f,class:A_e(X({},"".concat(t.value,"-").concat(e.mode,"-row"),!0),c(e.value,d[0].value))},[d.map(function(h,v){return x(M_e,He(h,{key:v,time:e.time,onClick:e.onCellClick,onMouseEnter:e.onCellMouseEnter}),null)})])})])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var pM={allowInput:Boolean,borderless:Boolean,clearable:Boolean,disableTime:{type:Function},disabled:{type:Boolean,default:void 0},format:{type:String,default:"HH:mm:ss"},hideDisabledTime:{type:Boolean,default:!0},inputProps:{type:Object},label:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},presets:{type:Object},readonly:{type:Boolean,default:void 0},selectInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},steps:{type:Array,default:function(){return[1,1,1]}},tips:{type:[String,Function]},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},valueDisplay:{type:[String,Function]},onBlur:Function,onChange:Function,onClose:Function,onFocus:Function,onInput:Function,onOpen:Function,onPick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var oC="am",aC="pm",S$=[oC,aC],rm=[void 0,void 0],N_e=[1,1,1],F_e="HH:mm:ss",Bi=function(n){return n.hour="hour",n.minute="minute",n.second="second",n.milliSecond="millisecond",n.meridiem="meridiem",n}(Bi||{}),j_e=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,O$=/[h]{1}/;function x$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var z_={type:Boolean,default:!0,validator:function(e){return ur(e)}},H_e=function(){return{disabled:bs(bs({},z_),{default:!1}),isFocus:bs(bs({},z_),{default:!1}),value:{type:String,default:""},format:{type:String,default:"HH:mm:ss"},steps:bs({type:Array},{default:[1,1,1]}),isShowPanel:bs(bs({},z_),{default:!0}),activeIndex:{type:Number},presets:{type:Object},hideDisabledTime:bs({},pM.hideDisabledTime),disableTime:{type:Function},isFooterDisplay:bs({},z_)}},B_e=function(){return{format:{type:String,default:"HH:mm:ss"},cols:{type:Array,default:function(){return[Bi.hour,Bi.minute,Bi.second]}},value:{type:String,default:""},range:{type:Array,default:function(){return[]}},steps:bs({type:Array},{default:[1,1,1]}),hideDisabledTime:bs({},pM.hideDisabledTime),disableTime:{type:Function},localeMeridiems:{type:Array}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */je.extend(wK);je.extend(kp);function g0(n,e){return je(n,e).format(e)===n}function DK(n,e){return je(n,e).format(e)}function $_e(n,e,t){return t<=1?e:n.sort(function(i,r){return Math.abs(e+1-i)-Math.abs(e+1-r)})[0]}function V_e(n){var e=[],t=Bi.meridiem,i=Bi.hour,r=Bi.minute,o=Bi.second,a=Bi.milliSecond,s=n.match(j_e);return s.forEach(function(l){switch(l){case"H":case"HH":case"h":case"hh":e.push(i);break;case"a":case"A":e.push(t);break;case"m":case"mm":e.push(r);break;case"s":case"ss":e.push(o);break;case"SSS":e.push(a);break}}),e}function E$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function P$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}je.extend(kp);var Ul=[Bi.hour,Bi.minute,Bi.second,Bi.milliSecond],W_e={top:15},z_e=pe({name:"TTimePickerPanelCol",props:P$(P$({},B_e()),{},{position:String,triggerScroll:Boolean,onChange:Function,resetTriggerScroll:Function,isShowPanel:Boolean}),setup:function(e){var t=Dt("timePicker"),i=t.globalConfig,r=we("time-picker__panel"),o=Wn(),a=o.STATUS,s=rt(e),l=s.steps,u=s.value,c=s.format,d=s.position,f=s.triggerScroll,h=oe([]),v=oe(),g=oe(null),p=$n({0:null,1:null,2:null,3:null,4:null,5:null}),m=R(function(){var M=!!l.value.filter(function(A){return Number(A)>1}).length;return u.value?je(u.value,c.value):M?je().hour(0).minute(0).second(0):je()});Pe(function(){return m.value},function(){m.value&&u.value&&k(!0)}),Pe(function(){return f.value},function(){f.value&&k(!0)}),mt(function(){h.value=V_e(c.value)});var b=function(){var A,j=(A=g.value)===null||A===void 0?void 0:A.querySelector("div");return j?{offsetHeight:parseFloat(getComputedStyle(j).height),margin:parseFloat(getComputedStyle(j).marginTop)}:{offsetHeight:0,margin:0}},C=function(A,j){var V=Ul.indexOf(A);if(V!==-1){var H,N=[m.value.hour(),m.value.minute(),m.value.second(),m.value.millisecond()];return N[V]=Number(j),!((H=e.disableTime)!==null&&H!==void 0&&(H=H.call.apply(H,[e].concat(N,[{partial:d.value||"start"}])))!==null&&H!==void 0&&(H=H[A])!==null&&H!==void 0&&H.includes(Number(j)))}return!0},O=function(A){var j=0;if(Ul.includes(A)){var V=Ul.indexOf(A),H=l.value[V]||1;A===Bi.hour?j=O$.test(c.value)?11:23:A===Bi.milliSecond?j=999:j=59;var N=lF(0,j+1,Number(H)).map(function(F){return sF(String(F),2,"0")})||[];return e.hideDisabledTime&&e.disableTime?N.filter(function(F){var W,U=[m.value.hour(),m.value.minute(),m.value.second(),m.value.millisecond()];return U[V]=Number(F),!((W=e.disableTime)!==null&&W!==void 0&&(W=W.call.apply(W,[e].concat(U,[{partial:d.value||"start"}])))!==null&&W!==void 0&&(W=W[A])!==null&&W!==void 0&&W.includes(Number(F)))}):N}return S$},w=function(A,j){A===Bi.hour&&/[h]{1}/.test(c.value)&&(j%=12);var V=O(A).indexOf(sF(String(j),2,"0")),H=b(),N=H.offsetHeight,F=H.margin,W=N+F,U=Math.abs(Math.max(0,V)*W);return U},E=function(A,j,V){var H,N,F,W;if(e.isShowPanel){var U=(((H=p[j])===null||H===void 0?void 0:H.scrollTop)||0)+W_e.top,q=b(),Z=q.offsetHeight,z=q.margin,ie=Z+z,ee=Math.abs(Math.round(U/ie+.5)),K=S$[Math.min(ee-1,1)].toLowerCase();if(Number.isNaN(ee)&&(ee=1),Ul.includes(A)){var J=59;A===Bi.hour?J=/[h]{1}/.test(c.value)?11:23:A===Bi.milliSecond&&(J=999);var $=Ul.indexOf(A),Y=lF(0,J+1,Number(l.value[$])||1);F=$_e(Y,Number(O(A)[Math.min(ee-1,J+1,Y.length-1)]),Number(l.value[$])||1),Number.isNaN(F)&&(F=Y[Y.length-1]),A===Bi.hour&&h.value.includes(Bi.meridiem)&&m.value.hour()>=12&&(F=Number(F)+12)}else F=K;var te=w(A,F);if(!(!je(m.value).isValid()||u.value&&!je(u.value,c.value,!0).isValid())){if(Ul.includes(A)){var ae,le;C(A,F)?W=(ae=(le=m.value)[A])===null||ae===void 0?void 0:ae.call(le,F).format(c.value):W=m.value.format(c.value)}else{var Q=m.value.hour();K===oC&&Q>=12?W=m.value.hour(Q-12).format(c.value):K===aC&&Q<12?W=m.value.hour(Q+12).format(c.value):W=m.value.format(c.value)}if(W!==u.value&&((N=e.onChange)===null||N===void 0||N.call(e,W,V)),te!==U){var ne,se=p[h.value.indexOf(A)];if(!se||se.scrollTop===te)return;(ne=se.scrollTo)===null||ne===void 0||ne.call(se,{top:te,behavior:"smooth"})}}}},P=function(A,j,V){var H,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"auto",F=w(A,j),W=p[V];!W||W.scrollTop===F||!C(A,j)||(H=W.scrollTo)===null||H===void 0||H.call(W,{top:F,behavior:N})},D=function(A,j,V,H){if(C(A,j))if(Ul.includes(A))A===Bi.hour&&m.value.format("a")===aC&&h.value.includes(Bi.meridiem)&&(j=Number(j)+12),P(A,j,V,"smooth");else{var N=m.value.hour();if(j===oC&&N>=12){var F;(F=e.onChange)===null||F===void 0||F.call(e,m.value.hour(N-12).format(c.value),H)}else if(j===aC&&N<12){var W;(W=e.onChange)===null||W===void 0||W.call(e,m.value.hour(N+12).format(c.value),H)}}},k=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,j=u.value&&!A?"smooth":"auto",V=!!l.value.filter(function(H){return Number(H)>1}).length;tn(function(){h.value.forEach(function(H,N){if(!V||V&&u.value){var F,W;P(H,Ul.includes(H)?(F=(W=m.value)[H])===null||F===void 0?void 0:F.call(W):m.value.format("a"),N,j)}else{var U;P(H,(U=O(H))===null||U===void 0?void 0:U[0],N,j)}})}),e.resetTriggerScroll()},L=function(A,j){var V,H,N;if(A===Bi.meridiem){var F=m.value.format("a");return F===j}return N=(V=(H=m.value)[A])===null||V===void 0?void 0:V.call(H),A===Bi.hour&&/[h]{1}/.test(c.value)&&(N%=12),N===Number(j)};return function(){var M,A,j,V;return x("div",{class:"".concat(r.value,"-body"),ref:v},[x("div",{class:"".concat(r.value,"-body-active-mask"),ref:g},[(M=(A=h.value).map)===null||M===void 0?void 0:M.call(A,function(H,N){return x("div",{key:"".concat(H,"_").concat(N)},null)})]),(j=(V=h.value).map)===null||j===void 0?void 0:j.call(V,function(H,N){return x("ul",{key:"".concat(H,"_").concat(N),ref:function(W){return p[N]=W},class:"".concat(r.value,"-body-scroll"),onScroll:qu(function(F){return E(H,N,F)},50)},[O(H).map(function(F){return x("li",{key:F,class:["".concat(r.value,"-body-scroll-item"),X(X({},a.value.disabled,!C(H,F)),a.value.current,L(H,F))],onClick:function(U){return D(H,F,N,U)}},[Ul.includes(H)?O$.test(c.value)&&H===Bi.hour&&F==="00"?"12":F:i.value[F===oC?"anteMeridiem":"postMeridiem"]])})])})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function k$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function D$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function U_e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}je.extend(kp);var SO=pe({name:"TTimePickerPanel",props:D$(D$({},H_e()),{},{isFooterDisplay:Boolean,handleConfirmClick:Function,onChange:Function}),setup:function(e){var t=Dt("timePicker"),i=t.globalConfig,r=we("time-picker__panel"),o=rt(e),a=o.steps,s=o.isFooterDisplay,l=o.isShowPanel,u=oe(!1),c=oe(),d=R(function(){return!!a.value.filter(function(m){return Number(m)>1}).length}),f=R(function(){var m=d.value,b=je(e.value,e.format);return e.value&&b.isValid()?b.format(e.format):je().hour(0).minute(0).second(0).format(e.format)}),h=function(){tn(function(){u.value=!0})},v=function(){u.value=!1},g=function(b){var C=typeof b=="function"?b():b;if(typeof e.activeIndex=="number")if(Array.isArray(C)){var O;(O=e.onChange)===null||O===void 0||O.call(e,C[e.activeIndex])}else Yt.error("TimePicker","preset: ".concat(e.presets," 预设值必须是数组!"));else{var w;(w=e.onChange)===null||w===void 0||w.call(e,C)}},p=function(){return Nr(e.presets)?d.value?null:x(Xw,{theme:"primary",variant:"text",size:"small",onClick:function(){var C;return(C=e.onChange)===null||C===void 0?void 0:C.call(e,je().format(e.format))}},{default:function(){return[i.value.now]}}):Object.keys(e.presets||[]).map(function(b){return x(Xw,{key:b,theme:"primary",size:"small",variant:"text",onClick:function(){return g(e.presets[b])}},U_e(b)?b:{default:function(){return[b]}})})};return mt(function(){h()}),Pe(function(){return l.value},function(){h()}),function(){return x("div",{class:r.value},[x("div",{class:"".concat(r.value,"-section-body")},[x(z_e,He(e,{ref:c,format:e.format||F_e,steps:e.steps||N_e,value:je(e.value,e.format).isValid()?e.value:f.value,triggerScroll:u.value,onChange:e.onChange,resetTriggerScroll:v,isShowPanel:e.isShowPanel}),null)]),s.value?x("div",{class:"".concat(r.value,"-section-footer")},[x(Xw,{theme:"primary",variant:"base",disabled:!e.value,onClick:function(){var b;return(b=e.handleConfirmClick)===null||b===void 0?void 0:b.call(e,f.value)},size:"small"},{default:function(){return[i.value.confirm]}}),p()]):null])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function T$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function K_e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var sC=pe({name:"TPanelContent",props:{mode:String,format:String,enableTimePicker:Boolean,timePickerProps:{type:Object,default:function(){return{}}},year:Number,month:Number,tableData:Array,time:String,multiple:Boolean,firstDayOfWeek:Number,partial:String,popupVisible:Boolean,onYearChange:Function,onMonthChange:Function,onJumperClick:Function,onCellMouseEnter:Function,onCellClick:Function,onCellMouseLeave:Function,onTimePickerChange:Function,value:[String,Number,Array,Date]},setup:function(e){var t=we("date-picker__panel"),i=Hs({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}),r=i.timeFormat,o="00:00:00";return function(){return x("div",{class:"".concat(t.value,"-content")},[x("div",{class:"".concat(t.value,"-").concat(e.mode)},[x(L_e,{mode:e.mode,year:e.year,month:e.month,onMonthChange:function(s){var l;return(l=e.onMonthChange)===null||l===void 0?void 0:l.call(e,s,{partial:e.partial})},onYearChange:function(s){var l;return(l=e.onYearChange)===null||l===void 0?void 0:l.call(e,s,{partial:e.partial})},onJumperClick:function(s){var l,u=s.trigger;return(l=e.onJumperClick)===null||l===void 0?void 0:l.call(e,{trigger:u,partial:e.partial})}},null),x(R_e,{mode:e.mode,data:e.tableData,time:e.time,value:e.value,format:e.format,multiple:e.multiple,firstDayOfWeek:e.firstDayOfWeek,onCellClick:function(s,l){var u,c=l.e;return(u=e.onCellClick)===null||u===void 0?void 0:u.call(e,s,{e:c,partial:e.partial})},onCellMouseEnter:function(s){var l;return(l=e.onCellMouseEnter)===null||l===void 0?void 0:l.call(e,s,{partial:e.partial})},onCellMouseLeave:e.onCellMouseLeave},null)]),e.enableTimePicker&&x("div",{class:"".concat(t.value,"-time")},[x("div",{class:"".concat(t.value,"-time-viewer")},[e.time||o]),x(SO,K_e({key:e.partial,isShowPanel:e.popupVisible,format:r,value:e.time||o,onChange:e.onTimePickerChange},e.timePickerProps),null)])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function I$(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var q_e=pe({name:"TDatePickerTable",props:{enableTimePicker:Boolean,presetsPlacement:String,presets:Object,needConfirm:{type:Boolean,default:!0},selectedValue:[String,Number,Array,Date],onPresetClick:Function,onConfirmClick:Function},setup:function(e){var t=we("date-picker__footer"),i=we("date-picker__presets"),r=Dt("datePicker"),o=r.t,a=r.globalConfig,s=R(function(){return[t.value,"".concat(t.value,"--").concat(e.presetsPlacement)]});return function(){var l;return x("div",{class:s.value},[x("div",{class:i.value},[e.presets&&Object.keys(e.presets).map(function(u){return x(Bt,{key:u,size:"small",variant:"text",onClick:function(d){var f;return(f=e.onPresetClick)===null||f===void 0?void 0:f.call(e,e.presets[u],{e:d,preset:X({},u,e.presets[u])})}},I$(u)?u:{default:function(){return[u]}})})]),e.enableTimePicker&&e.needConfirm&&x(Bt,{disabled:!e.selectedValue,size:"small",theme:"primary",onClick:function(c){var d;return(d=e.onConfirmClick)===null||d===void 0?void 0:d.call(e,{e:c})}},I$(l=o(a.value.confirm))?l:{default:function(){return[l]}})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var p0=pe({name:"TExtraContent",props:{presets:Object,enableTimePicker:Boolean,presetsPlacement:String,needConfirm:{type:Boolean,default:!0},onPresetClick:Function,onConfirmClick:Function,selectedValue:[String,Number,Array,Date]},setup:function(e){var t=R(function(){return e.enableTimePicker&&e.needConfirm||e.presets});return function(){return t.value?x(q_e,{presets:e.presets,onPresetClick:e.onPresetClick,enableTimePicker:e.enableTimePicker,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement,selectedValue:e.selectedValue,needConfirm:e.needConfirm},null):null}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function TK(n){var e=n.disableDate,t=n.format,i=n.mode,r=n.start,o=n.end;return{disableDate:function(s){return!T_e({disableDate:e,format:t,mode:i,value:s})},minDate:Wt(e)&&"before"in e?new Date(je(e.before).startOf("day").format()):r,maxDate:Wt(e)&&"after"in e?new Date(je(e.after).endOf("day").format()):o}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function IK(n){var e=rt(n),t=e.value,i=e.modelValue,r=Nn(t,i,n.defaultValue,n.onChange),o=Je(r,2),a=o[0],s=o[1],l=R(function(){return Hs({mode:n.mode,format:n.format,valueType:n.valueType,enableTimePicker:n.enableTimePicker})});n.enableTimePicker&&(hM(l.value.format)||console.error("format: ".concat(l.value.format," 不规范，包含时间选择必须要有时间格式化 HH:mm:ss"))),ut(a.value)?Vr(a.value,l.value.format)||console.error("value: ".concat(a.value," is invalid dateTime! Check whether the value is consistent with format: ").concat(l.value.format)):console.error("typeof value: ".concat(a.value," must be Array!"));var u=oe(!1),c=oe(rC({value:a.value,mode:n.mode,format:l.value.format,timeFormat:l.value.timeFormat}).time),d=oe(rC({value:a.value,mode:n.mode,format:l.value.format,enableTimePicker:n.enableTimePicker}).month),f=oe(rC({value:a.value,mode:n.mode,format:l.value.format}).year),h=oe(nn(a.value,{format:l.value.format}));return od(function(){if(!a.value){h.value=[];return}Vr(a.value,l.value.format)&&(h.value=nn(a.value,{format:l.value.valueType,targetFormat:l.value.format}),c.value=jg(a.value,l.value.format,l.value.timeFormat,n.defaultTime))}),{year:f,month:d,value:a,time:c,isFirstValueSelected:u,cacheValue:h,onChange:s}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function L$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function U_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):L$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var M$={first:"start",second:"end"};function G_e(n){var e=we("date-range-picker"),t=Dt("datePicker"),i=t.globalConfig,r=On({CalendarIcon:R9}),o=r.CalendarIcon,a=ft(),s=oe(!1),l=oe(),u=IK(n),c=u.value,d=u.onChange,f=u.time,h=u.month,v=u.year,g=u.cacheValue,p=u.isFirstValueSelected,m=R(function(){return Hs({mode:n.mode,format:n.format,valueType:n.valueType,enableTimePicker:n.enableTimePicker})}),b=oe(!1),C=oe(!1),O=oe(0),w=oe(nn(n.value,{format:m.value.format})),E=sr(),P=R(function(){return U_(U_({},n.rangeInputProps),{},{size:n.size,ref:l,borderless:n.borderless,clearable:n.clearable&&!E.value,prefixIcon:function(){return a("prefixIcon")},readonly:E.value||!n.allowInput,separator:n.separator||i.value.rangeSeparator,placeholder:n.placeholder||i.value.placeholder[n.mode],activeIndex:b.value?O.value:void 0,suffixIcon:function(){return a("suffixIcon")||x(o,null,null)},class:X({},"".concat(e.value,"__input--placeholder"),C.value),onClick:function(L){var M=L.position;O.value=M==="first"?0:1},onClear:function(L){var M=L.e;M.stopPropagation(),b.value=!1,d==null||d([],{dayjsValue:[],trigger:"clear"})},onBlur:function(L,M){var A,j=M.e,V=M.position;(A=n.onBlur)===null||A===void 0||A.call(n,{value:L,partial:M$[V],e:j})},onFocus:function(L,M){var A,j=M.e,V=M.position;(A=n.onFocus)===null||A===void 0||A.call(n,{value:L,partial:M$[V],e:j}),O.value=V==="first"?0:1},onChange:function(L,M){if(M.e,M.position,w.value=L,!!Vr(L,m.value.format)){g.value=L;var A=[],j=[],V=[];L.forEach(function(H){A.push($t(H,m.value.format).year()),j.push($t(H,m.value.format).month()),V.push($t(H,m.value.format).format(m.value.timeFormat))}),v.value=A,h.value=j,f.value=V}},onEnter:function(L){!Vr(L,m.value.format)&&!Vr(c.value,m.value.format)||(b.value=!1,Vr(L,m.value.format)?d==null||d(nn(L,{format:m.value.format,targetFormat:m.value.valueType,autoSwap:!0}),{dayjsValue:L.map(function(M){return $t(M,m.value.format)}),trigger:"enter"}):Vr(c.value,m.value.format)?w.value=nn(c.value,{format:m.value.format}):w.value=[])}})}),D=R(function(){var k,L,M;return U_(U_({expandAnimation:!0},br(n.popupProps,"on-visible-change")),{},{overlayInnerStyle:(k=(L=n.popupProps)===null||L===void 0?void 0:L.overlayInnerStyle)!==null&&k!==void 0?k:{width:"auto"},overlayClassName:[(M=n.popupProps)===null||M===void 0?void 0:M.overlayClassName,"".concat(e.value,"__panel-container")],onVisibleChange:function(j,V){var H,N,F,W;if(!E.value){if((H=n.popupProps)===null||H===void 0||(N=H.onVisibleChange)===null||N===void 0||N.call(H,j,V),(F=n.popupProps)===null||F===void 0||(W=F["on-visible-change"])===null||W===void 0||W.call(F,j,V),V.trigger==="trigger-element-click"){var U={0:"first",1:"second"};l.value.focus({position:U[O.value]}),b.value=!0;return}b.value=j}}})});return Pe(c,function(k){if(!k){w.value=[];return}Vr(k,m.value.format)&&(w.value=nn(k,{format:m.value.valueType,targetFormat:m.value.format}))},{immediate:!0}),Pe(O,function(k){var L,M;if(!s.value){s.value=!0;return}if(b.value){var A={0:"first",1:"second"};(L=l.value)===null||L===void 0||(M=L.focus)===null||M===void 0||M.call(L,{position:A[k]})}},{immediate:!0}),{year:v,month:h,value:c,time:f,inputValue:w,popupVisible:b,rangeInputProps:P,popupProps:D,isHoverCell:C,activeIndex:O,isFirstValueSelected:p,cacheValue:g,onChange:d}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function _k(n){var e,t=Dt("datePicker"),i=t.globalConfig,r={minDate:n.minDate,maxDate:n.maxDate,disableDate:n.disableDate,firstDayOfWeek:(e=n.firstDayOfWeek)!==null&&e!==void 0?e:i.value.firstDayOfWeek,monthLocal:i.value.months,quarterLocal:i.value.quarters,showWeekOfYear:n.mode==="week",dayjsLocale:i.value.dayjsLocale,cancelRangeSelectLimit:n.cancelRangeSelectLimit},o=[];return n.mode==="date"?o=w$({year:n.year,month:n.month},r):n.mode==="week"?o=w$({year:n.year,month:n.month},r):n.mode==="quarter"?o=E_e(n.year,r):n.mode==="month"?o=k_e(n.year,r):n.mode==="year"&&(o=P_e(n.year,r)),D_e(o,{start:n.start,end:n.end,hoverStart:n.hoverStart,hoverEnd:n.hoverEnd,type:n.mode,isRange:n.isRange,value:n.value,multiple:n.multiple})}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function A$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Y_e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var LK=pe({name:"TSinglePanel",props:{disableDate:[Object,Array,Function],mode:{type:String,default:"date"},format:String,presetsPlacement:{type:String,default:"bottom"},value:[String,Number,Array,Date],timePickerProps:Object,presets:Object,enableTimePicker:Boolean,firstDayOfWeek:Number,year:Number,month:Number,time:String,popupVisible:Boolean,multiple:Boolean,needConfirm:{type:Boolean,default:!0},onPanelClick:Function,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function,onJumperClick:Function,onConfirmClick:Function,onPresetClick:Function,onYearChange:Function,onMonthChange:Function,onTimePickerChange:Function},setup:function(e){var t=we("date-picker__panel"),i=Dt("datePicker"),r=i.globalConfig,o=R(function(){var c;return(c=Hs({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}))===null||c===void 0?void 0:c.format}),a=R(function(){return TK({format:o.value,mode:e.mode,disableDate:e.disableDate})}),s=R(function(){return _k(Y_e({year:e.year,month:e.month,mode:e.mode,start:e.value?$t(e.multiple?e.value[0]:e.value,o.value).toDate():void 0,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek,multiple:e.multiple,value:e.value},a.value))}),l=R(function(){return{format:o.value,value:e.value,mode:e.mode,year:e.year,month:e.month,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek,tableData:s.value,popupVisible:e.popupVisible,multiple:e.multiple,enableTimePicker:e.enableTimePicker,timePickerProps:e.timePickerProps,time:e.time,onMonthChange:e.onMonthChange,onYearChange:e.onYearChange,onJumperClick:e.onJumperClick,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter,onCellMouseLeave:e.onCellMouseLeave,onTimePickerChange:e.onTimePickerChange}}),u=R(function(){return{presets:e.presets,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,selectedValue:e.value,needConfirm:e.needConfirm}});return function(){return x("div",{class:[t.value,X({},"".concat(t.value,"--direction-row"),["left","right"].includes(e.presetsPlacement))],onClick:function(d){var f;return(f=e.onPanelClick)===null||f===void 0?void 0:f.call(e,{e:d})}},[["top","left"].includes(e.presetsPlacement)?x(p0,u.value,null):null,x(sC,l.value,null),["bottom","right"].includes(e.presetsPlacement)?x(p0,u.value,null):null])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Z_e=pe({name:"TDatePicker",props:ua,setup:function(e){var t=we("date-picker"),i=h_e(e),r=i.inputValue,o=i.popupVisible,a=i.inputProps,s=i.popupProps,l=i.isHoverCell,u=i.cacheValue,c=i.value,d=i.year,f=i.month,h=i.time,v=i.inputRef,g=i.onChange,p=xi(),m=ft(),b=Dt("datePicker"),C=b.globalConfig,O=sr(),w=On({CalendarIcon:R9}),E=w.CalendarIcon,P=R(function(){return Hs({mode:e.mode,format:e.format,valueType:e.valueType,enableTimePicker:e.multiple?!1:e.enableTimePicker})}),D=R(function(){return{value:c.value,displayValue:r.value}});Pe(o,function(z){var ie;if(!e.multiple){if(!e.needConfirm&&e.enableTimePicker&&!z){var ee=nn(r.value,{format:P.value.format});ee?g==null||g(nn(r.value,{format:P.value.format,targetFormat:P.value.valueType}),{dayjsValue:$t(r.value,P.value.format),trigger:"confirm"}):r.value=nn(c.value,{format:P.value.format})}var K=c.value&&!pce(c.value)&&!["week","quarter"].includes(e.mode)?I_e(c.value,(ie=P.value)===null||ie===void 0?void 0:ie.valueType):c.value;u.value=nn(K,{format:P.value.valueType,targetFormat:P.value.format}),r.value=nn(K,{format:P.value.valueType,targetFormat:P.value.format}),z?(d.value=$t(c.value,P.value.valueType).year(),f.value=$t(c.value,P.value.format).month(),h.value=jg(c.value,P.value.format,P.value.timeFormat,e.defaultTime)):l.value=!1}});function k(z){e.multiple||(l.value=!0,r.value=nn(z,{format:P.value.format}))}function L(){e.multiple||(l.value=!1,r.value=nn(u.value,{format:P.value.format}))}function M(z){var ie;if(l.value=!1,e.mode==="date"&&(d.value=z.getFullYear(),f.value=z.getMonth()),e.enableTimePicker)u.value=nn(z,{format:P.value.format});else{if(e.multiple){var ee=A(z);g(ee,{dayjsValue:$t(z,P.value.format),trigger:"pick"});return}g==null||g(nn(z,{format:P.value.format,targetFormat:P.value.valueType}),{dayjsValue:$t(z,P.value.format),trigger:"pick"}),o.value=!1}(ie=e.onPick)===null||ie===void 0||ie.call(e,z)}function A(z){var ie,ee=c.value||[],K=C.value.dayjsLocale,J;return e.mode!=="week"?ie=ee.some(function($){return Os($t($,P.value.format).toDate(),z,e.mode,K)}):ie=ee.some(function($){return $===je(z).locale(K).format(P.value.format)}),ie?J=ee.filter(function($){return nn($,{format:P.value.format,targetFormat:P.value.valueType})!==nn(z,{format:P.value.format,targetFormat:P.value.valueType})}):J=ee.concat(nn(z,{format:P.value.format,targetFormat:P.value.valueType})),J}function j(z){var ie=je(z.item).toDate(),ee=A(ie);g==null||g(ee,{dayjsValue:$t(ie,P.value.format),trigger:"tag-remove"})}function V(z){var ie=z.e;ie.stopPropagation(),o.value=!1,g==null||g([],{dayjsValue:je(),trigger:"clear"})}function H(z){var ie=z.trigger,ee={date:1,week:1,month:12,quarter:12,year:120},K=ee[e.mode]||0,J=new Date(d.value,f.value),$=null;ie==="prev"?$=wO(J,K):ie==="current"?$=new Date:ie==="next"&&($=CO(J,K));var Y=$.getFullYear(),te=$.getMonth();d.value=Y,f.value=te}function N(z){var ie;h.value=z;var ee=Hg(z),K=ee.hours,J=ee.minutes,$=ee.seconds,Y=ee.milliseconds,te=ee.meridiem,ae=K;/am/i.test(te)&&ae===12&&(ae-=12),/pm/i.test(te)&&ae<12&&(ae+=12);var le=je(r.value,P.value.format).isValid()?je(r.value,P.value.format):je(),Q=le.hour(ae).minute(J).second($).millisecond(Y).toDate();r.value=nn(Q,{format:P.value.format}),u.value=nn(Q,{format:P.value.format}),(ie=e.onPick)===null||ie===void 0||ie.call(e,Q)}function F(z){var ie=z.e,ee=nn(r.value,{format:P.value.format});if(ee){var K;e==null||(K=e.onConfirm)===null||K===void 0||K.call(e,{date:je(ee).toDate(),e:ie}),g==null||g(nn(r.value,{format:P.value.format,targetFormat:P.value.valueType}),{dayjsValue:$t(r.value,P.value.format),trigger:"confirm"})}else r.value=nn(c.value,{format:P.value.format});o.value=!1}function W(z){var ie=qe(z)?z():z;g==null||g(nn(ie,{format:P.value.format,targetFormat:P.value.valueType}),{dayjsValue:$t(ie,P.value.format),trigger:"preset"}),r.value=nn(ie,{format:P.value.format}),o.value=!1}function U(z){d.value=z}function q(z){f.value=z}var Z=R(function(){return{value:u.value,year:d.value,month:f.value,format:P.value.format,mode:e.mode,presets:e.presets,multiple:e.multiple,time:e.multiple?"":h.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.multiple?!1:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:o.value,needConfirm:e.needConfirm,onCellClick:M,onCellMouseEnter:k,onCellMouseLeave:L,onJumperClick:H,onConfirmClick:F,onPresetClick:W,onYearChange:U,onMonthChange:q,onTimePickerChange:N,onPanelClick:function(){var ie,ee;return(ie=v.value)===null||ie===void 0||(ee=ie.focus)===null||ee===void 0?void 0:ee.call(ie)}}});return function(){return x("div",{class:t.value},[x(Pp,He({borderless:e.borderless,disabled:p.value,value:r.value,label:e.label,status:e.status,tips:e.tips,clearable:e.clearable,readonly:O.value,multiple:e.multiple,popupProps:s.value,inputProps:a.value,placeholder:e.placeholder||C.value.placeholder[e.mode],popupVisible:!O.value&&o.value,valueDisplay:function(){return m("valueDisplay",{params:D.value})},needConfirm:e.needConfirm},e.selectInputProps,{panel:function(){return x(LK,Z.value,null)},tagInputProps:{onRemove:j},onClear:V,prefixIcon:function(){return m("prefixIcon")},suffixIcon:function(){return m("suffixIcon")||x(E,null,null)}}),null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var X_e={defaultTime:{type:String,default:"00:00:00"},onCellClick:Function,onChange:Function,onConfirm:Function,onMonthChange:Function,onPanelClick:Function,onPresetClick:Function,onTimeChange:Function,onYearChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function R$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function J_e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Q_e=pe({name:"TDatePickerPanel",props:J_e({value:ua.value,defaultValue:ua.defaultValue,modelValue:ua.modelValue,disabled:ua.disabled,disableDate:ua.disableDate,enableTimePicker:ua.enableTimePicker,firstDayOfWeek:ua.firstDayOfWeek,format:ua.format,mode:ua.mode,presets:ua.presets,presetsPlacement:ua.presetsPlacement,timePickerProps:ua.timePickerProps},X_e),setup:function(e){var t=yK(e),i=t.cacheValue,r=t.value,o=t.year,a=t.month,s=t.time,l=t.onChange,u=R(function(){return Hs({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker})});function c(b,C){var O,w=C.e;(O=e.onCellClick)===null||O===void 0||O.call(e,{date:b,e:w}),e.mode==="date"&&(o.value=b.getFullYear(),a.value=b.getMonth()),e.enableTimePicker?i.value=nn(b,{format:u.value.format}):l==null||l(nn(b,{format:u.value.format}),{dayjsValue:$t(b,u.value.format),trigger:"pick"})}function d(b){var C=b.trigger,O={prev:"arrow-previous",next:"arrow-next"},w={date:1,week:1,month:12,quarter:12,year:120},E=w[e.mode]||0,P=new Date(o.value,a.value),D=null;C==="prev"?D=wO(P,E):C==="current"?D=new Date:C==="next"&&(D=CO(P,E));var k=D.getFullYear(),L=D.getMonth();if(o.value!==k){var M;(M=e.onYearChange)===null||M===void 0||M.call(e,{year:k,date:je(r.value).toDate(),trigger:C==="current"?"today":"year-".concat(O[C])})}if(a.value!==L){var A;(A=e.onMonthChange)===null||A===void 0||A.call(e,{month:L,date:je(r.value).toDate(),trigger:C==="current"?"today":"month-".concat(O[C])})}o.value=k,a.value=L}function f(b){var C;s.value=b;var O=Hg(b),w=O.hours,E=O.minutes,P=O.seconds,D=O.milliseconds,k=O.meridiem,L=w;/am/i.test(k)&&L===12&&(L-=12),/pm/i.test(k)&&L<12&&(L+=12);var M=je(i.value,u.value.format).isValid()?je(i.value,u.value.format):je(),A=M.hour(L).minute(E).second(P).millisecond(D).toDate();i.value=nn(A,{format:u.value.format}),(C=e.onTimeChange)===null||C===void 0||C.call(e,{time:b,date:je(r.value).toDate(),trigger:"time-hour"})}function h(b){var C,O=b.e;l==null||l(nn(i.value,{format:u.value.format}),{dayjsValue:$t(i.value,u.value.format),trigger:"confirm"}),(C=e.onConfirm)===null||C===void 0||C.call(e,{date:je(i.value).toDate(),e:O})}function v(b,C){var O,w=qe(b)?b():b;l==null||l(nn(w,{format:u.value.format}),{dayjsValue:$t(w,u.value.format),trigger:"preset"}),(O=e.onPresetClick)===null||O===void 0||O.call(e,C)}function g(b){var C;o.value=b,(C=e.onYearChange)===null||C===void 0||C.call(e,{year:o.value,date:je(r.value).toDate(),trigger:"year-select"})}function p(b){var C;a.value=b,(C=e.onMonthChange)===null||C===void 0||C.call(e,{month:a.value,date:je(r.value).toDate(),trigger:"month-select"})}var m=R(function(){return{value:i.value,year:o.value,month:a.value,mode:e.mode,format:u.value.format,presets:e.presets,time:s.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:!0,panelClick:e.onPanelClick,onCellClick:c,onJumperClick:d,onConfirmClick:h,onPresetClick:v,onYearChange:g,onMonthChange:p,onTimePickerChange:f}});return function(){return x(LK,m.value,null)}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var No={allowInput:Boolean,borderless:Boolean,cancelRangeSelectLimit:Boolean,clearable:Boolean,defaultTime:{type:Array,default:function(){return["00:00:00","23:59:59"]}},disableDate:{type:[Object,Array,Function]},disabled:{type:Boolean,default:void 0},enableTimePicker:Boolean,firstDayOfWeek:{type:Number,validator:function(e){return e?[1,2,3,4,5,6,7].includes(e):!0}},format:{type:String,default:""},label:{type:[String,Function]},mode:{type:String,default:"date",validator:function(e){return e?["year","quarter","month","week","date"].includes(e):!0}},needConfirm:{type:Boolean,default:!0},panelPreselection:{type:Boolean,default:!0},placeholder:{type:[String,Array]},popupProps:{type:Object},prefixIcon:{type:Function},presets:{type:Object},presetsPlacement:{type:String,default:"bottom",validator:function(e){return e?["left","top","right","bottom"].includes(e):!0}},rangeInputProps:{type:Object},readonly:{type:Boolean,default:void 0},separator:{type:String,default:""},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffixIcon:{type:Function},timePickerProps:{type:Object},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueType:{type:String,validator:function(e){return e?["time-stamp","Date","YYYY","YYYY-MM","YYYY-MM-DD","YYYY-MM-DD HH","YYYY-MM-DD HH:mm","YYYY-MM-DD HH:mm:ss","YYYY-MM-DD HH:mm:ss:SSS"].includes(e):!0}},onBlur:Function,onChange:Function,onConfirm:Function,onFocus:Function,onInput:Function,onPick:Function,onPresetClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ewe={activeIndex:{type:Number},borderless:Boolean,clearable:Boolean,disabled:{type:Boolean,default:void 0},format:{type:[Array,Function]},inputProps:{type:[Object,Array]},label:{type:[String,Function]},placeholder:{type:[String,Array]},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},separator:{type:[String,Function],default:"-"},showClearIconOnEmpty:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onEnter:Function,onFocus:Function,onMouseenter:Function,onMouseleave:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function N$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function F$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tE(n){return ut(n)?n:[n,n]}var MK=pe({name:"TRangeInput",inheritAttrs:!1,props:ewe,setup:function(e,t){var i=t.expose,r=t.attrs,o=rt(e),a=o.value,s=o.modelValue,l=Wn(),u=l.STATUS,c=l.SIZE,d=we(),f=we("range-input"),h=On({CloseCircleFilledIcon:Sp}),v=h.CloseCircleFilledIcon,g=ft(),p=xi(),m=sr(),b=oe(!1),C=oe(!1),O=R(function(){return tE(e.format)}),w=R(function(){return tE(e.inputProps)}),E=R(function(){return tE(e.placeholder)}),P=Nn(a,s,e.defaultValue,e.onChange),D=Je(P,2),k=D[0],L=D[1],M=R(function(){var q,Z,z;return String((q=((Z=k.value)===null||Z===void 0?void 0:Z[0])||((z=k.value)===null||z===void 0?void 0:z[1]))!==null&&q!==void 0?q:"")}),A=R(function(){var q;return(e.clearable&&((q=M.value)===null||q===void 0?void 0:q.length)&&!p.value||e.showClearIconOnEmpty)&&C.value}),j={firstInputRef:oe(),secondInputRef:oe()};function V(q){var Z;(Z=e.onClear)===null||Z===void 0||Z.call(e,q),L(["",""],F$(F$({},q),{},{trigger:"clear",position:"all"}))}function H(q,Z){var z;(z=e.onEnter)===null||z===void 0||z.call(e,q,Z)}function N(q,Z){var z;b.value=!0,(z=e.onFocus)===null||z===void 0||z.call(e,q,Z)}function F(q,Z){var z;b.value=!1,(z=e.onBlur)===null||z===void 0||z.call(e,q,Z)}function W(q){var Z;C.value=!0,e==null||(Z=e.onMouseenter)===null||Z===void 0||Z.call(e,{e:q})}function U(q){var Z;C.value=!1,e==null||(Z=e.onMouseleave)===null||Z===void 0||Z.call(e,{e:q})}return i({firstInputElement:j.firstInputRef.value,secondInputElement:j.secondInputRef.value,focus:function(Z){var z,ie=Z||{},ee=ie.position,K=ee===void 0?"first":ee;(z=j["".concat(K,"InputRef")].value)===null||z===void 0||z.focus()},blur:function(Z){var z,ie=Z||{},ee=ie.position,K=ee===void 0?"first":ee;(z=j["".concat(K,"InputRef")].value)===null||z===void 0||z.blur()},select:function(Z){var z,ie=Z||{},ee=ie.position,K=ee===void 0?"first":ee;(z=j["".concat(K,"InputRef")].value)===null||z===void 0||z.select()}}),function(){var q,Z,z=g("label"),ie=g("prefixIcon"),ee=g("suffix"),K=g("suffixIcon"),J=g("tips"),$=g("separator"),Y=x("div",He(r,{class:[f.value,X(X(X(X(X(X(X(X(X({},c.value[e.size],e.size!=="medium"),u.value.disabled,p.value),u.value.focused,b.value),u.value.success,e.status==="success"),u.value.warning,e.status==="warning"),u.value.error,e.status==="error"),"".concat(f.value,"--prefix"),ie||z),"".concat(f.value,"--suffix"),ee||K),"".concat(f.value,"--borderless"),e.borderless)],onMouseenter:W,onMouseleave:U}),[x("div",{class:"".concat(f.value,"__inner")},[ie&&x("div",{class:"".concat(f.value,"__prefix")},[ie]),z?x("div",{class:"".concat(f.value,"__prefix")},[z]):null,x(Do,He({ref:j.firstInputRef,class:"".concat(f.value,"__inner-left"),inputClass:X({},"".concat(d.value,"-is-focused"),e.activeIndex===0),placeholder:E.value[0],disabled:p.value,readonly:m.value,format:O.value[0],value:(q=k.value)===null||q===void 0?void 0:q[0],onClick:function(le){var Q,ne=le.e;return(Q=e.onClick)===null||Q===void 0?void 0:Q.call(e,{e:ne,position:"first"})},onClear:function(){return L([],{position:"first",trigger:"input"})},onEnter:function(le,Q){var ne,se=Q.e;return H([le,(ne=k.value)===null||ne===void 0?void 0:ne[1]],{e:se,position:"first"})},onFocus:function(le,Q){var ne,se=Q.e;return N([le,(ne=k.value)===null||ne===void 0?void 0:ne[1]],{e:se,position:"first"})},onBlur:function(le,Q){var ne,se=Q.e;return F([le,(ne=k.value)===null||ne===void 0?void 0:ne[1]],{e:se,position:"first"})},onChange:function(le,Q){var ne,se=Q.e;return L([le,(ne=k.value)===null||ne===void 0?void 0:ne[1]],{e:se,position:"first",trigger:"input"})}},w.value[0]),null),x("div",{class:"".concat(f.value,"__inner-separator")},[$]),x(Do,He({ref:j.secondInputRef,class:"".concat(f.value,"__inner-right"),inputClass:X({},"".concat(d.value,"-is-focused"),e.activeIndex===1),placeholder:E.value[1],disabled:p.value,readonly:m.value,format:O.value[1],value:(Z=k.value)===null||Z===void 0?void 0:Z[1],onClick:function(le){var Q,ne=le.e;return(Q=e.onClick)===null||Q===void 0?void 0:Q.call(e,{e:ne,position:"second"})},onClear:function(){return L([],{position:"second",trigger:"input"})},onEnter:function(le,Q){var ne,se=Q.e;return H([(ne=k.value)===null||ne===void 0?void 0:ne[0],le],{e:se,position:"second"})},onFocus:function(le,Q){var ne,se=Q.e;return N([(ne=k.value)===null||ne===void 0?void 0:ne[0],le],{e:se,position:"second"})},onBlur:function(le,Q){var ne,se=Q.e;return F([(ne=k.value)===null||ne===void 0?void 0:ne[0],le],{e:se,position:"second"})},onChange:function(le,Q){var ne,se=Q.e;return L([(ne=k.value)===null||ne===void 0?void 0:ne[0],le],{e:se,position:"second",trigger:"input"})}},w.value[1]),null),ee?x("div",{class:"".concat(f.value,"__suffix")},[ee]):null,(K||A.value)&&x("span",{class:"".concat(f.value,"__suffix ").concat(f.value,"__suffix-icon")},[A.value?x(v,{class:"".concat(f.value,"__suffix-clear"),onClick:V},null):K])])]),te=["".concat(f.value,"__tips"),"".concat(d.value,"-tips"),"".concat(d.value,"-is-").concat(e.status)];return x(Ft,null,[Y,J&&x("div",{class:te},[J])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var twe={autoWidth:Boolean,disabled:Boolean,inputValue:{type:Array,default:void 0},defaultInputValue:{type:Array},label:{type:[String,Function]},panel:{type:[String,Function]},popupProps:{type:Object},popupVisible:Boolean,rangeInputProps:{type:Object},readonly:{type:Boolean,default:void 0},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},tips:{type:[String,Function]},onInputChange:Function,onPopupVisibleChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function j$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function H$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):j$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var nwe=pe({name:"TRangeInputPopup",props:twe,setup:function(e){var t=we("range-input-popup"),i=JU(e),r=i.tOverlayInnerStyle,o=i.innerPopupVisible,a=i.onInnerPopupVisibleChange,s=R(function(){return[t.value,X({},"".concat(t.value,"--visible"),e.popupVisible||o.value)]});return function(){return x("div",{class:s.value},[x(Pa,He({hideEmptyPopup:!0,content:e.panel,trigger:"click",placement:"bottom-left",disabled:e.disabled,visible:e.popupVisible||o.value},H$({overlayInnerStyle:r.value,onVisibleChange:a},e.popupProps)),{default:function(){return[x(MK,H$({value:e.inputValue,onChange:e.onInputChange,disabled:e.disabled,label:e.label,status:e.status,tips:e.tips},e.rangeInputProps),null)]}})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var iwe=Ye(MK),mM=Ye(nwe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function B$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function K_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var AK=pe({name:"TRangePanel",props:{hoverValue:Array,activeIndex:Number,isFirstValueSelected:Boolean,disableDate:[Object,Array,Function],mode:{type:String,default:"date"},format:String,presetsPlacement:{type:String,default:"bottom"},value:Array,timePickerProps:Object,presets:Object,popupVisible:Boolean,enableTimePicker:Boolean,panelPreselection:Boolean,firstDayOfWeek:Number,year:Array,month:Array,time:Array,cancelRangeSelectLimit:Boolean,onClick:Function,onCellClick:Function,onCellMouseEnter:Function,onCellMouseLeave:Function,onJumperClick:Function,onConfirmClick:Function,onPresetClick:Function,onYearChange:Function,onMonthChange:Function,onTimePickerChange:Function},setup:function(e){var t=we("date-range-picker__panel"),i=Dt("datePicker"),r=i.globalConfig,o=R(function(){var d;return(d=Hs({mode:e.mode,format:e.format,enableTimePicker:e.enableTimePicker}))===null||d===void 0?void 0:d.format}),a=!e.panelPreselection&&e.value.length===2,s=R(function(){return TK({format:o.value,mode:e.mode,disableDate:e.disableDate,start:e.isFirstValueSelected&&e.activeIndex===1?new Date($t(e.value[0],o.value,"start").toDate().setHours(0,0,0)):void 0,end:e.isFirstValueSelected&&e.activeIndex===0?new Date($t(e.value[1],o.value).toDate().setHours(23,59,59)):void 0})}),l=R(function(){return _k(K_(K_({isRange:!0,start:e.value[0]?$t(e.value[0],o.value).toDate():void 0,end:e.value[1]?$t(e.value[1],o.value).toDate():void 0,hoverStart:!a&&e.hoverValue[0]?$t(e.hoverValue[0],o.value).toDate():void 0,hoverEnd:!a&&e.hoverValue[1]?$t(e.hoverValue[1],o.value).toDate():void 0,year:e.year[0],month:e.month[0],mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek},s.value),{},{cancelRangeSelectLimit:e.cancelRangeSelectLimit}))}),u=R(function(){return _k(K_(K_({isRange:!0,start:e.value[0]?$t(e.value[0],o.value).toDate():void 0,end:e.value[1]?$t(e.value[1],o.value).toDate():void 0,hoverStart:!a&&e.hoverValue[0]?$t(e.hoverValue[0],o.value).toDate():void 0,hoverEnd:!a&&e.hoverValue[1]?$t(e.hoverValue[1],o.value).toDate():void 0,year:e.year[1],month:e.month[1],mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek},s.value),{},{cancelRangeSelectLimit:e.cancelRangeSelectLimit}))}),c=R(function(){return{format:o.value,mode:e.mode,firstDayOfWeek:e.firstDayOfWeek||r.value.firstDayOfWeek,popupVisible:e.popupVisible,enableTimePicker:e.enableTimePicker,timePickerProps:e.timePickerProps,onMonthChange:e.onMonthChange,onYearChange:e.onYearChange,onJumperClick:e.onJumperClick,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter,onCellMouseLeave:e.onCellMouseLeave,onTimePickerChange:e.onTimePickerChange}});return function(){return x("div",{class:[t.value,X({},"".concat(t.value,"--direction-row"),["left","right"].includes(e.presetsPlacement))],onClick:function(f){var h;return(h=e.onClick)===null||h===void 0?void 0:h.call(e,{e:f})}},[["top","left"].includes(e.presetsPlacement)?x(p0,{presets:e.presets,selectedValue:e.value[e.activeIndex],enableTimePicker:e.enableTimePicker,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement},null):null,x("div",{class:"".concat(t.value,"-content-wrapper")},[e.enableTimePicker?x(sC,He({key:"start",partial:e.activeIndex?"end":"start",year:e.activeIndex?e.year[1]:e.year[0],month:e.activeIndex?e.month[1]:e.month[0],time:e.activeIndex?e.time[1]:e.time[0],value:e.value,tableData:e.activeIndex?u.value:l.value},c.value),null):[x(sC,He({key:"startPanel",partial:"start",year:e.year[0],month:e.month[0],time:e.time[e.activeIndex],value:e.value,tableData:l.value},c.value),null),x(sC,He({key:"endPanel",partial:"end",year:e.year[1],month:e.month[1],time:e.time[e.activeIndex],value:e.value,tableData:u.value},c.value),null)]]),["bottom","right"].includes(e.presetsPlacement)?x(p0,{presets:e.presets,selectedValue:e.value[e.activeIndex],enableTimePicker:e.enableTimePicker,onPresetClick:e.onPresetClick,onConfirmClick:e.onConfirmClick,presetsPlacement:e.presetsPlacement},null):null])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function m0(n,e,t,i){var r=e,o=t;return n===0&&r[1]<=r[0]&&(i?r[1]=r[0]+1:(r[1]=r[0],o[1]<=o[0]&&(o[1]=o[0]+1,o[1]===12&&(o[1]=0,r=[r[0],r[1]+1])))),n===1&&r[0]>=r[1]&&(i?r[0]=r[1]-1:(r[0]=r[1],o[0]>=o[1]&&(o[0]=o[1]-1,o[0]===-1&&(o[0]=11,r=[r[0]-1,r[1]])))),{nextYear:r,nextMonth:o}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var rwe=pe({name:"TDateRangePicker",props:No,setup:function(e,t){var i=t.slots,r=we("date-range-picker"),o=G_e(e),a=o.inputValue,s=o.popupVisible,l=o.rangeInputProps,u=o.popupProps,c=o.value,d=o.year,f=o.month,h=o.time,v=o.cacheValue,g=o.activeIndex,p=o.isHoverCell,m=o.isFirstValueSelected,b=o.onChange,C=xi(),O=sr(),w=R(function(){return Hs({mode:e.mode,enableTimePicker:e.enableTimePicker,format:e.format,valueType:e.valueType})}),E=oe(!1);Pe(s,function(F){if(F)if(E.value=!1,v.value=nn(c.value||[],{format:w.value.valueType,targetFormat:w.value.format}),h.value=jg(c.value||[je().format(w.value.timeFormat),je().format(w.value.timeFormat)],w.value.format,w.value.timeFormat,e.defaultTime),c.value.length)if(c.value.length===2&&!e.enableTimePicker){var Z=c.value.map(function(z){return $t(z,w.value.format).month()});d.value=c.value.map(function(z){return $t(z,w.value.valueType).year()}),d.value[0]===d.value[1]&&Z[0]===Z[1]&&(Z[0]===11?Z[0]-=1:Z[1]+=1),f.value=Z,(e.mode==="month"||e.mode==="quarter")&&d.value[0]===d.value[1]&&(d.value=[d.value[0],d.value[0]+1])}else d.value=c.value.map(function(z){return $t(z,w.value.format).year()}),d.value.length===1&&(d.value=[d.value[0],d.value[0]]),f.value=c.value.map(function(z){return $t(z,w.value.format).month()}),f.value.length===1&&(f.value=[f.value[0],Math.min(f.value[0]+1,11)]);else{var W=rC({value:c.value,mode:e.mode,format:w.value.format,enableTimePicker:e.enableTimePicker}),U=W.year,q=W.month;d.value=U,f.value=q}else g.value=0,p.value=!1,m.value=!1,a.value=nn(c.value,{format:w.value.valueType,targetFormat:w.value.format})});function P(F){p.value=!0;var W=Be(a.value);W[g.value]=nn(F,{format:w.value.format}),a.value=W}function D(){p.value=!1,a.value=v.value}function k(F,W){var U,q=W.e;(U=e.onPick)===null||U===void 0||U.call(e,F,{e:q,partial:g.value?"end":"start"}),p.value=!1,E.value=!0;var Z=Be(a.value);if(Z[g.value]=nn(F,{format:w.value.format}),v.value=Z,a.value=Z,!e.enableTimePicker){var z=Z.findIndex(function(ee){return!ee||!Vr(ee,w.value.format)});if(z===-1&&Z.length===2&&(!m.value&&$t(Z[0],w.value.format).isAfter($t(Z[1],w.value.format))?(Z[g.value?0:1]="",v.value=Z,a.value=Z):b==null||b(nn(Z,{format:w.value.format,targetFormat:w.value.valueType,autoSwap:!0}),{dayjsValue:Z.map(function(ee){return $t(ee,w.value.format)}),trigger:"pick"})),!m.value||!g.value){var ie=z;ie===-1&&(ie=g.value?0:1),g.value=ie,m.value=!!Z[0]}else s.value=!1}}function L(F){var W=F.trigger,U=F.partial,q=U==="start"?0:1,Z={date:1,week:1,month:12,quarter:12,year:120},z=Z[e.mode]||0,ie=new Date(d.value[q],f.value[q]),ee=null;W==="prev"?ee=wO(ie,z):W==="current"?ee=new Date:W==="next"&&(ee=CO(ie,z));var K=Be(d.value);K[q]=ee.getFullYear();var J=Be(f.value);J[q]=ee.getMonth();var $=["year","quarter","month"].includes(e.mode),Y=m0(q,K,J,$);K=Y.nextYear,J=Y.nextMonth,d.value=K,f.value=J}function M(F){var W=Hg(F),U=W.hours,q=W.minutes,Z=W.seconds,z=W.milliseconds,ie=W.meridiem,ee=Be(a.value),K=ee[g.value],J=je(K,w.value.format).isValid()?je(K,w.value.format):je().year(d.value[g.value]).month(f.value[g.value]),$=U;/am/i.test(ie)&&$===12&&($-=12),/pm/i.test(ie)&&$<12&&($+=12);var Y=J.hour($).minute(q).second(Z).millisecond(z).toDate();ee[g.value]=Y;var te=Be(h.value);te[g.value]=F,h.value=te,E.value=!0,a.value=nn(ee,{format:w.value.format}),v.value=nn(ee,{format:w.value.format})}function A(F){var W=F.e,U=Be(a.value),q=U.findIndex(function(ie){return!ie||!Vr(ie,w.value.format)});if(q===-1&&U.length===2)if(!m.value&&$t(U[0],w.value.format).isAfter($t(U[1],w.value.format)))U[g.value?0:1]="",v.value=U,a.value=U;else{var Z;e==null||(Z=e.onConfirm)===null||Z===void 0||Z.call(e,{date:U.map(function(ie){return je(ie).toDate()}),e:W,partial:g.value?"end":"start"}),b==null||b(nn(U,{format:w.value.format,targetFormat:w.value.valueType,autoSwap:!0}),{dayjsValue:U.map(function(ie){return $t(ie,w.value.format)}),trigger:"confirm"})}if(!m.value||!g.value){var z=q;z===-1&&(z=g.value?0:1),g.value=z,m.value=!!U[0]}else U.length===2&&(s.value=!1)}function j(F,W){var U=F;if(qe(F)&&(U=F()),!ut(U))console.error("preset: ".concat(F," 预设值必须是数组!"));else{var q;b==null||b(nn(U,{format:w.value.format,targetFormat:w.value.valueType,autoSwap:!0}),{dayjsValue:U.map(function(Z){return $t(Z,w.value.format)}),trigger:"preset"}),s.value=!1,(q=e.onPresetClick)===null||q===void 0||q.call(e,W)}}function V(F,W){var U=W.partial,q=U==="start"?0:1;e.enableTimePicker&&(q=g.value);var Z=Be(d.value),z=Be(f.value);Z[q]=F;var ie=["year","quarter","month"].includes(e.mode),ee=m0(q,Z,z,ie);Z=ee.nextYear,z=ee.nextMonth,d.value=Z,ie||(f.value=z)}function H(F,W){var U=W.partial,q=U==="start"?0:1;e.enableTimePicker&&(q=g.value);var Z=Be(f.value);if(Z[q]=F,d.value[0]===d.value[1]){if(q===0&&Z[1]<=Z[0]&&(Z[1]=Z[0]+1,Z[1]===12)){var z,ie;Z[1]=0,d.value=[(z=d.value)===null||z===void 0?void 0:z[0],((ie=d.value)===null||ie===void 0?void 0:ie[1])+1]}if(q===1&&(Z[0]=Math.min(Z[0],Z[1]),Z[0]>=Z[1]&&(Z[0]-=1,Z[0]===-1))){var ee,K;Z[0]=11,d.value=[((ee=d.value)===null||ee===void 0?void 0:ee[0])-1,(K=d.value)===null||K===void 0?void 0:K[1]]}}f.value=Z}var N=R(function(){return{hoverValue:p.value?a.value:[],value:E.value?v.value:c.value,isFirstValueSelected:m.value,activeIndex:g.value,year:d.value,month:f.value,format:w.value.format,mode:e.mode,presets:e.presets,time:h.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,popupVisible:s.value,panelPreselection:e.panelPreselection,cancelRangeSelectLimit:e.cancelRangeSelectLimit,onCellClick:k,onCellMouseEnter:P,onCellMouseLeave:D,onJumperClick:L,onConfirmClick:A,onPresetClick:j,onYearChange:V,onMonthChange:H,onTimePickerChange:M}});return function(){return x("div",{class:r.value},[x(mM,{readonly:O.value,disabled:C.value,label:e.label,status:e.status,tips:e.tips||i.tips,inputValue:a.value,popupProps:u.value,rangeInputProps:l.value,popupVisible:s.value,panel:function(){return x(AK,N.value,null)}},null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var owe={defaultTime:{type:Array,default:function(){return["00:00:00","23:59:59"]}},onCellClick:Function,onChange:Function,onConfirm:Function,onMonthChange:Function,onPanelClick:Function,onPresetClick:Function,onTimeChange:Function,onYearChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function $$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function awe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var swe=pe({name:"TDateRangePickerPanel",props:awe({value:No.value,defaultValue:No.defaultValue,modelValue:No.modelValue,disabled:No.disabled,disableDate:No.disableDate,enableTimePicker:No.enableTimePicker,firstDayOfWeek:No.firstDayOfWeek,format:No.format,mode:No.mode,presets:No.presets,presetsPlacement:No.presetsPlacement,timePickerProps:No.timePickerProps,panelPreselection:No.panelPreselection},owe),setup:function(e){var t=IK(e),i=t.value,r=t.year,o=t.month,a=t.time,s=t.cacheValue,l=t.isFirstValueSelected,u=t.onChange,c=R(function(){return Hs({mode:e.mode,enableTimePicker:e.enableTimePicker,format:e.format})}),d=oe(!1),f=oe(!1),h=oe([]),v=R(function(){return l.value?1:0});mt(function(){if(i.value.length===2&&!e.enableTimePicker){var k=i.value.map(function(L){return $t(L,c.value.format).month()});r.value=i.value.map(function(L){return $t(L,c.value.valueType).year()}),r.value[0]===r.value[1]&&k[0]===k[1]&&(k[0]===11?k[0]-=1:k[1]+=1),o.value=k,["month","quarter"].includes(e.mode)&&r.value[0]===r.value[1]&&(r.value=[r.value[0],r.value[0]+1])}});function g(k){f.value=!0;var L=Be(h.value);L[v.value]=nn(k,{format:c.value.format}),h.value=L}function p(){f.value=!1,h.value=s.value}function m(k,L){var M,A=L.e;(M=e.onCellClick)===null||M===void 0||M.call(e,{e:A,partial:v.value?"end":"start",date:i.value.map(function(V){return je(V).toDate()})}),f.value=!1,d.value=!0;var j=Be(s.value);j[v.value]=nn(k,{format:c.value.format}),s.value=j,!e.enableTimePicker&&(j.length===2&&l.value?(u==null||u(nn(j,{format:c.value.format,autoSwap:!0}),{dayjsValue:j.map(function(V){return $t(V,c.value.format)}),trigger:"pick"}),l.value=!1):l.value=!0)}function b(k){var L=k.trigger,M=k.partial,A=M==="start"?0:1,j={prev:"arrow-previous",next:"arrow-next"},V={date:1,week:1,month:12,quarter:12,year:120},H=V[e.mode]||0,N=new Date(r.value[A],o.value[A]),F=null;L==="prev"?F=wO(N,H):L==="current"?F=new Date:L==="next"&&(F=CO(N,H));var W=Be(r.value);W[A]=F.getFullYear();var U=Be(o.value);U[A]=F.getMonth();var q=["year","quarter","month"].includes(e.mode),Z=m0(A,W,U,q);if(W=Z.nextYear,U=Z.nextMonth,r.value.some(function(ee){return!W.includes(ee)})){var z;(z=e.onYearChange)===null||z===void 0||z.call(e,{partial:M,year:W[A],date:i.value.map(function(ee){return je(ee).toDate()}),trigger:L==="current"?"today":"year-".concat(j[L])})}if(o.value.some(function(ee){return!U.includes(ee)})){var ie;(ie=e.onMonthChange)===null||ie===void 0||ie.call(e,{partial:M,month:U[A],date:i.value.map(function(ee){return je(ee).toDate()}),trigger:L==="current"?"today":"month-".concat(j[L])})}r.value=W,o.value=U}function C(k){var L,M=Hg(k),A=M.hours,j=M.minutes,V=M.seconds,H=M.milliseconds,N=M.meridiem,F=Be(s.value),W=s.value[v.value],U=je(W,c.value.format).isValid()?je(W,c.value.format):je().year(r.value[v.value]).month(o.value[v.value]),q=A;/am/i.test(N)&&q===12&&(q-=12),/pm/i.test(N)&&q<12&&(q+=12);var Z=U.hour(q).minute(j).second(V).millisecond(H).toDate();F[v.value]=Z;var z=Be(a.value);z[v.value]=k,a.value=z,d.value=!0,s.value=nn(F,{format:c.value.format}),(L=e.onTimeChange)===null||L===void 0||L.call(e,{time:k,date:i.value.map(function(ie){return $t(ie,c.value.format).toDate()}),partial:v.value?"end":"start",trigger:"time-hour"})}function O(k){var L,M=k.e,A=Be(s.value);A.length===2&&l.value?(u==null||u(nn(A,{format:c.value.format,autoSwap:!0}),{dayjsValue:A.map(function(j){return $t(j,c.value.format)}),trigger:"confirm"}),r.value=A.map(function(j){return je(j,c.value.format).year()}),o.value=A.map(function(j){return je(j,c.value.format).month()}),l.value=!1):l.value=!0,(L=e.onConfirm)===null||L===void 0||L.call(e,{date:i.value.map(function(j){return je(j).toDate()}),e:M})}function w(k,L){var M=k;if(qe(k)&&(M=k()),!ut(M))console.error("preset: ".concat(k," 预设值必须是数组!"));else{var A;u==null||u(nn(M,{format:c.value.format,autoSwap:!0}),{dayjsValue:M.map(function(j){return $t(j,c.value.format)}),trigger:"preset"}),(A=e.onPresetClick)===null||A===void 0||A.call(e,L)}}function E(k,L){var M,A=L.partial,j=A==="start"?0:1;e.enableTimePicker&&(j=v.value);var V=Be(r.value);V[j]=k;var H=Be(o.value),N=["year","quarter","month"].includes(e.mode),F=m0(j,V,H,N);V=F.nextYear,H=F.nextMonth,r.value=V,N||(o.value=H),(M=e.onYearChange)===null||M===void 0||M.call(e,{partial:A,year:V[j],date:i.value.map(function(W){return je(W).toDate()}),trigger:"year-select"})}function P(k,L){var M,A=L.partial,j=A==="start"?0:1;e.enableTimePicker&&(j=v.value);var V=Be(o.value);if(V[j]=k,r.value[0]===r.value[1]){if(j===0&&V[1]<=V[0]&&(V[1]=V[0]+1,V[1]===12)){var H,N;V[1]=0,r.value=[(H=r.value)===null||H===void 0?void 0:H[0],((N=r.value)===null||N===void 0?void 0:N[1])+1]}if(j===1&&(V[0]=Math.min(V[0],V[1]),V[0]>=V[1]&&(V[0]-=1,V[0]===-1))){var F,W;V[0]=11,r.value=[((F=r.value)===null||F===void 0?void 0:F[0])-1,(W=r.value)===null||W===void 0?void 0:W[1]]}}o.value=V,(M=e.onMonthChange)===null||M===void 0||M.call(e,{partial:A,month:V[j],date:i.value.map(function(U){return je(U).toDate()}),trigger:"month-select"})}var D=R(function(){return{hoverValue:f.value?h.value:[],value:d.value?s.value:i.value,activeIndex:v.value,year:r.value,month:o.value,mode:e.mode,format:c.value.format,presets:e.presets,time:a.value,disableDate:e.disableDate,firstDayOfWeek:e.firstDayOfWeek,timePickerProps:e.timePickerProps,enableTimePicker:e.enableTimePicker,presetsPlacement:e.presetsPlacement,panelPreselection:e.panelPreselection,popupVisible:!0,panelClick:e.onPanelClick,onCellClick:m,onCellMouseEnter:g,onCellMouseLeave:p,onJumperClick:b,onConfirmClick:O,onPresetClick:w,onYearChange:E,onMonthChange:P,onTimePickerChange:C}});return function(){return x(AK,D.value,null)}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var lwe=Ye(Z_e),uwe=Ye(Q_e),RK=Ye(rwe),cwe=Ye(swe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wk={exports:{}},Bg={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;for(var o in r)typeof i[o]>"u"&&(i[o]=r[o]);return i}n.exports=e.default,n.exports.default=e.default})(Bg,Bg.exports);(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=v;var t=i(Bg.exports);function i(g){return g&&g.__esModule?g:{default:g}}function r(g,p){return s(g)||a(g,p)||u(g,p)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(g,p){var m=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(m!=null){var b,C,O,w,E=[],P=!0,D=!1;try{if(O=(m=m.call(g)).next,p!==0)for(;!(P=(b=O.call(m)).done)&&(E.push(b.value),E.length!==p);P=!0);}catch(k){D=!0,C=k}finally{try{if(!P&&m.return!=null&&(w=m.return(),Object(w)!==w))return}finally{if(D)throw C}}return E}}function s(g){if(Array.isArray(g))return g}function l(g,p){var m=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!m){if(Array.isArray(g)||(m=u(g))||p){m&&(g=m);var b=0,C=function(){};return{s:C,n:function(){return b>=g.length?{done:!0}:{done:!1,value:g[b++]}},e:function(D){throw D},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,w=!0,E=!1;return{s:function(){m=m.call(g)},n:function(){var D=m.next();return w=D.done,D},e:function(D){E=!0,O=D},f:function(){try{w||m.return==null||m.return()}finally{if(E)throw O}}}}function u(g,p){if(g){if(typeof g=="string")return c(g,p);var m={}.toString.call(g).slice(8,-1);return m==="Object"&&g.constructor&&(m=g.constructor.name),m==="Map"||m==="Set"?Array.from(g):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?c(g,p):void 0}}function c(g,p){(p==null||p>g.length)&&(p=g.length);for(var m=0,b=Array(p);m<p;m++)b[m]=g[m];return b}var d={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function f(g){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(g)}function h(g,p){for(var m=[],b=Math.max(g.length,p.length),C=0;C<b;C++)m.push([g[C],p[C]]);return m}function v(g,p){if(typeof p=="string"?p=(0,t.default)({format:p},d):p=(0,t.default)(p,d),typeof g=="string"&&f(p.format)){if(p.strictMode&&g.length!==p.format.length)return!1;var m=p.delimiters.find(function(H){return p.format.indexOf(H)!==-1}),b=p.strictMode?m:p.delimiters.find(function(H){return g.indexOf(H)!==-1}),C=h(g.split(b),p.format.toLowerCase().split(m)),O={},w=l(C),E;try{for(w.s();!(E=w.n()).done;){var P=r(E.value,2),D=P[0],k=P[1];if(!D||!k||D.length!==k.length)return!1;O[k.charAt(0)]=D}}catch(H){w.e(H)}finally{w.f()}var L=O.y;if(L.startsWith("-"))return!1;if(O.y.length===2){var M=parseInt(O.y,10);if(isNaN(M))return!1;var A=new Date().getFullYear()%100;M<A?L="20".concat(O.y):L="19".concat(O.y)}var j=O.m;O.m.length===1&&(j="0".concat(O.m));var V=O.d;return O.d.length===1&&(V="0".concat(O.d)),new Date("".concat(L,"-").concat(j,"-").concat(V,"T00:00:00.000Z")).getUTCDate()===+O.d}return p.strictMode?!1:Object.prototype.toString.call(g)==="[object Date]"&&isFinite(g)}n.exports=e.default,n.exports.default=e.default})(wk,wk.exports);var dwe=qy(wk.exports),Ck={exports:{}},dh={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function t(r){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(r)}function i(r){var o=typeof r=="string"||r instanceof String;if(!o){var a=t(r);throw r===null?a="null":a==="object"&&(a=r.constructor.name),new TypeError("Expected a string but received a ".concat(a))}}n.exports=e.default,n.exports.default=e.default})(dh,dh.exports);var b0={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;function t(r){return Object.prototype.toString.call(r)==="[object RegExp]"}function i(r,o){for(var a=0;a<o.length;a++){var s=o[a];if(r===s||t(s)&&s.test(r))return!0}return!1}n.exports=e.default,n.exports.default=e.default})(b0,b0.exports);var Sk={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var t=i(dh.exports);function i(a){return a&&a.__esModule?a:{default:a}}function r(a){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},r(a)}function o(a,s){(0,t.default)(a);var l,u;r(s)==="object"?(l=s.min||0,u=s.max):(l=arguments[1],u=arguments[2]);var c=encodeURI(a).split(/%..|./).length-1;return c>=l&&(typeof u>"u"||c<=u)}n.exports=e.default,n.exports.default=e.default})(Sk,Sk.exports);var y0={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=r(dh.exports),i=r(Bg.exports);function r(s){return s&&s.__esModule?s:{default:s}}var o={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function a(s,l){(0,t.default)(s),l=(0,i.default)(l,o),l.allow_trailing_dot&&s[s.length-1]==="."&&(s=s.substring(0,s.length-1)),l.allow_wildcard===!0&&s.indexOf("*.")===0&&(s=s.substring(2));var u=s.split("."),c=u[u.length-1];return l.require_tld&&(u.length<2||!l.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(c)||/\s/.test(c))||!l.allow_numeric_tld&&/^\d+$/.test(c)?!1:u.every(function(d){return!(d.length>63&&!l.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(d)||/[\uff01-\uff5e]/.test(d)||/^-|-$/.test(d)||!l.allow_underscores&&/_/.test(d))})}n.exports=e.default,n.exports.default=e.default})(y0,y0.exports);var _0={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var t=i(dh.exports);function i(c){return c&&c.__esModule?c:{default:c}}var r="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",o="(".concat(r,"[.]){3}").concat(r),a=new RegExp("^".concat(o,"$")),s="(?:[0-9a-fA-F]{1,4})",l=new RegExp("^("+"(?:".concat(s,":){7}(?:").concat(s,"|:)|")+"(?:".concat(s,":){6}(?:").concat(o,"|:").concat(s,"|:)|")+"(?:".concat(s,":){5}(?::").concat(o,"|(:").concat(s,"){1,2}|:)|")+"(?:".concat(s,":){4}(?:(:").concat(s,"){0,1}:").concat(o,"|(:").concat(s,"){1,3}|:)|")+"(?:".concat(s,":){3}(?:(:").concat(s,"){0,2}:").concat(o,"|(:").concat(s,"){1,4}|:)|")+"(?:".concat(s,":){2}(?:(:").concat(s,"){0,3}:").concat(o,"|(:").concat(s,"){1,5}|:)|")+"(?:".concat(s,":){1}(?:(:").concat(s,"){0,4}:").concat(o,"|(:").concat(s,"){1,6}|:)|")+"(?::((?::".concat(s,"){0,5}:").concat(o,"|(?::").concat(s,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function u(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,t.default)(c),d=String(d),d?d==="4"?a.test(c):d==="6"?l.test(c):!1:u(c,4)||u(c,6)}n.exports=e.default,n.exports.default=e.default})(_0,_0.exports);(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=b;var t=l(dh.exports),i=l(b0.exports),r=l(Sk.exports),o=l(y0.exports),a=l(_0.exports),s=l(Bg.exports);function l(C){return C&&C.__esModule?C:{default:C}}var u={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},c=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,f=/^[a-z\d]+$/,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,v=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,p=254;function m(C){var O=C.replace(/^"(.+)"$/,"$1");if(!O.trim())return!1;var w=/[\.";<>]/.test(O);if(w){if(O===C)return!1;var E=O.split('"').length===O.split('\\"').length;if(!E)return!1}return!0}function b(C,O){if((0,t.default)(C),O=(0,s.default)(O,u),O.require_display_name||O.allow_display_name){var w=C.match(c);if(w){var E=w[1];if(C=C.replace(E,"").replace(/(^<|>$)/g,""),E.endsWith(" ")&&(E=E.slice(0,-1)),!m(E))return!1}else if(O.require_display_name)return!1}if(!O.ignore_max_length&&C.length>p)return!1;var P=C.split("@"),D=P.pop(),k=D.toLowerCase();if(O.host_blacklist.length>0&&(0,i.default)(k,O.host_blacklist)||O.host_whitelist.length>0&&!(0,i.default)(k,O.host_whitelist))return!1;var L=P.join("@");if(O.domain_specific_validation&&(k==="gmail.com"||k==="googlemail.com")){L=L.toLowerCase();var M=L.split("+")[0];if(!(0,r.default)(M.replace(/\./g,""),{min:6,max:30}))return!1;for(var A=M.split("."),j=0;j<A.length;j++)if(!f.test(A[j]))return!1}if(O.ignore_max_length===!1&&(!(0,r.default)(L,{max:64})||!(0,r.default)(D,{max:254})))return!1;if(!(0,o.default)(D,{require_tld:O.require_tld,ignore_max_length:O.ignore_max_length,allow_underscores:O.allow_underscores})){if(!O.allow_ip_domain)return!1;if(!(0,a.default)(D)){if(!D.startsWith("[")||!D.endsWith("]"))return!1;var V=D.slice(1,-1);if(V.length===0||!(0,a.default)(V))return!1}}if(O.blacklisted_chars&&L.search(new RegExp("[".concat(O.blacklisted_chars,"]+"),"g"))!==-1)return!1;if(L[0]==='"'&&L[L.length-1]==='"')return L=L.slice(1,L.length-1),O.allow_utf8_local_part?g.test(L):h.test(L);for(var H=O.allow_utf8_local_part?v:d,N=L.split("."),F=0;F<N.length;F++)if(!H.test(N[F]))return!1;return!0}n.exports=e.default,n.exports.default=e.default})(Ck,Ck.exports);var fwe=qy(Ck.exports),Ok={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var t=s(dh.exports),i=s(b0.exports),r=s(y0.exports),o=s(_0.exports),a=s(Bg.exports);function s(m){return m&&m.__esModule?m:{default:m}}function l(m,b){return h(m)||f(m,b)||c(m,b)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(m,b){if(m){if(typeof m=="string")return d(m,b);var C={}.toString.call(m).slice(8,-1);return C==="Object"&&m.constructor&&(C=m.constructor.name),C==="Map"||C==="Set"?Array.from(m):C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C)?d(m,b):void 0}}function d(m,b){(b==null||b>m.length)&&(b=m.length);for(var C=0,O=Array(b);C<b;C++)O[C]=m[C];return O}function f(m,b){var C=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(C!=null){var O,w,E,P,D=[],k=!0,L=!1;try{if(E=(C=C.call(m)).next,b!==0)for(;!(k=(O=E.call(C)).done)&&(D.push(O.value),D.length!==b);k=!0);}catch(M){L=!0,w=M}finally{try{if(!k&&C.return!=null&&(P=C.return(),Object(P)!==P))return}finally{if(L)throw w}}return D}}function h(m){if(Array.isArray(m))return m}var v={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0,max_allowed_length:2084},g=/^\[([^\]]+)\](?::([0-9]+))?$/;function p(m,b){if((0,t.default)(m),!m||/[\s<>]/.test(m)||m.indexOf("mailto:")===0||(b=(0,a.default)(b,v),b.validate_length&&m.length>b.max_allowed_length)||!b.allow_fragments&&m.includes("#")||!b.allow_query_components&&(m.includes("?")||m.includes("&")))return!1;var C,O,w,E,P,D,k,L;if(k=m.split("#"),m=k.shift(),k=m.split("?"),m=k.shift(),k=m.split("://"),k.length>1){if(C=k.shift().toLowerCase(),b.require_valid_protocol&&b.protocols.indexOf(C)===-1)return!1}else{if(b.require_protocol)return!1;if(m.slice(0,2)==="//"){if(!b.allow_protocol_relative_urls)return!1;k[0]=m.slice(2)}}if(m=k.join("://"),m==="")return!1;if(k=m.split("/"),m=k.shift(),m===""&&!b.require_host)return!0;if(k=m.split("@"),k.length>1){if(b.disallow_auth||k[0]===""||(O=k.shift(),O.indexOf(":")>=0&&O.split(":").length>2))return!1;var M=O.split(":"),A=l(M,2),j=A[0],V=A[1];if(j===""&&V==="")return!1}E=k.join("@"),D=null,L=null;var H=E.match(g);if(H?(w="",L=H[1],D=H[2]||null):(k=E.split(":"),w=k.shift(),k.length&&(D=k.join(":"))),D!==null&&D.length>0){if(P=parseInt(D,10),!/^[0-9]+$/.test(D)||P<=0||P>65535)return!1}else if(b.require_port)return!1;return b.host_whitelist?(0,i.default)(w,b.host_whitelist):w===""&&!b.require_host?!0:!(!(0,o.default)(w)&&!(0,r.default)(w,b)&&(!L||!(0,o.default)(L,6))||(w=w||L,b.host_blacklist&&(0,i.default)(w,b.host_blacklist)))}n.exports=e.default,n.exports.default=e.default})(Ok,Ok.exports);var hwe=qy(Ok.exports);function V$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function W$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):V$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NK(n){var e=Object.prototype.toString.call(n),t={Date:"[object Date]"};return e===t.Date?!1:Wt(n)?jo(n):["",void 0,null].includes(n)}var vwe={date:dwe,url:hwe,email:fwe,required:function(e){return!NK(e)},whitespace:function(e){return!(/^\s+$/.test(e)||e==="")},boolean:function(e){return ur(e)},max:function(e,t){return Dn(e)?e<=t:uf(e)<=t},min:function(e,t){return Dn(e)?e>=t:uf(e)>=t},len:function(e,t){return uf(String(e))===t},number:function(e){return Dn(e)},enum:function(e,t){return t.includes(e)},idcard:function(e){return/^(\d{18,18}|\d{15,15}|\d{17,17}x)$/i.test(e)},telnumber:function(e){return/^1[3-9]\d{9}$/.test(e)},pattern:function(e,t){return t.test(e)},validator:function(e,t){return t(e)}};function gwe(n,e){return xk.apply(this,arguments)}function xk(){return xk=Vi(dn.mark(function n(e,t){var i,r,o,a,s,l,u;return dn.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:i={result:!0},r=Object.keys(t),s=0;case 3:if(!(s<r.length)){d.next=15;break}if(l=r[s],!(!t.required&&NK(e)&&!t.validator)){d.next=7;break}return d.abrupt("return",i);case 7:if(u=vwe[l],!(u&&(t[l]||t[l]===0))){d.next=12;break}return o=t[l]===!0?void 0:t[l],a=u,d.abrupt("break",15);case 12:s++,d.next=3;break;case 15:if(!a){d.next=23;break}return d.next=18,a(e,o);case 18:if(i=d.sent,!ur(i)){d.next=21;break}return d.abrupt("return",W$(W$({},t),{},{result:i}));case 21:if(!Wt(i)){d.next=23;break}return d.abrupt("return",i);case 23:return d.abrupt("return",i);case 24:case"end":return d.stop()}},n)})),xk.apply(this,arguments)}function bM(n,e){return Ek.apply(this,arguments)}function Ek(){return Ek=Vi(dn.mark(function n(e,t){var i,r;return dn.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=t.map(function(s){return gwe(e,s)}),a.next=3,Promise.all(i);case 3:return r=a.sent,a.abrupt("return",r);case 5:case"end":return a.stop()}},n)})),Ek.apply(this,arguments)}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var pwe={for:{type:String,default:""},help:{type:[String,Function]},label:{type:[String,Function],default:""},labelAlign:{type:String,validator:function(e){return e?["left","right","top"].includes(e):!0}},labelWidth:{type:[String,Number]},name:{type:String,default:""},requiredMark:{type:Boolean,default:void 0},rules:{type:Array},showErrorMessage:{type:Boolean,default:void 0},status:{type:String,default:""},statusIcon:{type:[Boolean,Function],default:void 0},successBorder:Boolean,tips:{type:[String,Function]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function mwe(n,e){return n.replace(/\${(.*?)}/g,function(t,i){return e[i.trim()]||""})}function z$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function U$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?z$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):z$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FK(n,e){return e?"".concat(n,"__").concat(e).replace(/(\[|\]\.)/g,"_"):""}var bwe=pe({name:"TFormItem",props:pwe,setup:function(e,t){var i=t.slots,r=ft(),o=FU(),a=Dt("form"),s=a.globalConfig,l=On({CheckCircleFilledIcon:Yu,CloseCircleFilledIcon:Sp,ErrorCircleFilledIcon:Al}),u=l.CheckCircleFilledIcon,c=l.CloseCircleFilledIcon,d=l.ErrorCircleFilledIcon,f=bn(jU,void 0),h=we(),v=we("form-item"),g=R(function(){var Ce,xe,Me=(Ce=(xe=e.requiredMark)!==null&&xe!==void 0?xe:f==null?void 0:f.requiredMark)!==null&&Ce!==void 0?Ce:s.value.requiredMark,Re=ie.value.filter(function(Ae){return Ae.required}).length>0;return Me??Re}),p=R(function(){var Ce;return(Ce=f==null?void 0:f.requiredMarkPosition)!==null&&Ce!==void 0?Ce:"left"}),m=R(function(){return i.label||e.label}),b=R(function(){return!!(f!=null&&f.colon&&m.value)}),C=we("form__label"),O=R(function(){return ah(e.labelAlign)?f==null?void 0:f.labelAlign:e.labelAlign}),w=R(function(){return ah(e.labelWidth)?f==null?void 0:f.labelWidth:e.labelWidth}),E=R(function(){return[o.value.label,X(X(X(X(X({},"".concat(C.value,"--required"),g.value),"".concat(C.value,"--required-right"),g.value&&p.value==="right"),"".concat(C.value,"--top"),m.value&&(O.value==="top"||!w.value)),"".concat(C.value,"--left"),O.value==="left"&&w.value),"".concat(C.value,"--right"),O.value==="right"&&w.value)]}),P=R(function(){return"".concat(h.value,"-is-").concat(e.status||"default"," ").concat(e.status==="success"?o.value.successBorder:"")}),D=function(){if(Number(w.value)!==0){var xe={};return w.value&&O.value!=="top"&&(Dn(w.value)?xe={width:"".concat(w.value,"px")}:xe={width:w.value}),x("div",{class:E.value,style:xe},[x("label",{for:e.for||null},[r("label")]),b.value&&s.value.colonText])}},k=function(){var xe=function(Ee){return x("span",{class:o.value.status},[x(Ee,null,null)])},Me=V.value;if(N.value===Zl.SUCCESS)return xe(u);if(Me!=null&&Me[0]){var Re=Me[0].type||"error",Ae={error:c,warning:d}[Re]||u;return xe(Ae)}return null},L=function(){var xe=e.statusIcon;if(xe!==!1){var Me=r("statusIcon",{defaultNode:k()});if(Me)return x("span",{class:o.value.status},[Me]);if(Me!==!1&&(Me=f==null?void 0:f.renderContent("statusIcon",{defaultNode:k(),params:e}),Me))return Me}},M=R(function(){if(!se.value)return"";if(N.value===Zl.SUCCESS)return e.successBorder?[o.value.success,o.value.successBorder].join(" "):o.value.success;if(V.value.length){var Ce=V.value[0].type||"error";return e.status?P.value:Ce==="error"?o.value.error:o.value.warning}}),A=R(function(){return[o.value.controls,M.value]}),j=R(function(){var Ce={};return w.value&&O.value!=="top"&&(Dn(w.value)?Ce={marginLeft:"".concat(w.value,"px")}:Ce={marginLeft:w.value}),Ce}),V=oe([]),H=oe([]),N=oe(Zl.TO_BE_VALIDATED),F=oe(!1),W=oe(!1),U=function(){W.value=!1,V.value=[],H.value=[],N.value=Zl.TO_BE_VALIDATED},q=function(){var xe=Object.prototype.toString.call(Ze(f==null?void 0:f.data,e.name)),Me;return xe==="[object String]"&&(Me=""),xe==="[object Array]"&&(Me=[]),xe==="[object Object]"&&(Me={}),Me},Z=function(){var Ce=Vi(dn.mark(function xe(){var Me,Re=arguments;return dn.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(Me=Re.length>0&&Re[0]!==void 0?Re[0]:f==null?void 0:f.resetType,e.name){De.next=3;break}return De.abrupt("return");case 3:return Me==="empty"?sh(f==null?void 0:f.data,e.name,q()):Me==="initial"&&sh(f==null?void 0:f.data,e.name,te.value),De.next=6,tn();case 6:F.value?W.value=!0:U();case 7:case"end":return De.stop()}},xe)}));return function(){return Ce.apply(this,arguments)}}(),z=R(function(){var Ce;return(Ce=f==null?void 0:f.errorMessage)!==null&&Ce!==void 0?Ce:s.value.errorMessage}),ie=R(function(){var Ce;if((Ce=e.rules)!==null&&Ce!==void 0&&Ce.length)return e.rules;if(!e.name)return[];var xe="".concat(e.name).lastIndexOf(".")||-1,Me="".concat(e.name).slice(xe+1);return Ze(f==null?void 0:f.rules,e.name)||Ze(f==null?void 0:f.rules,Me)||[]}),ee=function(){var Ce=Vi(dn.mark(function xe(Me){var Re,Ae;return dn.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(Ae={successList:[],errorList:[],rules:[],resultList:[],allowSetValue:!1},Ae.rules=Me==="all"?ie.value:ie.value.filter(function(me){return(me.trigger||"change")===Me}),!(ie.value.length&&!((Re=Ae.rules)!==null&&Re!==void 0&&Re.length))){Ee.next=4;break}return Ee.abrupt("return",Ae);case 4:return Ae.allowSetValue=!0,Ee.next=7,bM(Y.value,Ae.rules);case 7:return Ae.resultList=Ee.sent,Ae.errorList=Ae.resultList.filter(function(me){return me.result!==!0}).map(function(me){return Object.keys(me).forEach(function(Oe){if(!me.message&&z.value[Oe]){var ke=kt(e.label)?e.label:e.name;me.message=mwe(z.value[Oe],{name:ke,validate:me[Oe]})}}),me}),Ae.successList=Ae.resultList.filter(function(me){return me.result===!0&&me.message&&me.type==="success"}),Ee.abrupt("return",Ae);case 11:case"end":return Ee.stop()}},xe)}));return function(Me){return Ce.apply(this,arguments)}}(),K=function(){var Ce=Vi(dn.mark(function xe(Me,Re){var Ae,De,Ee,me,Oe,ke;return dn.wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return F.value=!0,ne.value=Re,lt.next=4,ee(Me);case 4:return Ae=lt.sent,De=Ae.successList,Ee=Ae.errorList,me=Ae.rules,Oe=Ae.resultList,ke=Ae.allowSetValue,ke&&(H.value=De,V.value=Ee),me.length&&(N.value=Ee.length?Zl.FAIL:Zl.SUCCESS),W.value&&U(),F.value=!1,lt.abrupt("return",X({},e.name,Ee.length===0?!0:Oe));case 15:case"end":return lt.stop()}},xe)}));return function(Me,Re){return Ce.apply(this,arguments)}}(),J=function(){var Ce=Vi(dn.mark(function xe(Me){var Re,Ae,De;return dn.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,ee(Me);case 2:return Re=me.sent,Ae=Re.errorList,De=Re.resultList,me.abrupt("return",X({},e.name,Ae.length===0?!0:De));case 6:case"end":return me.stop()}},xe)}));return function(Me){return Ce.apply(this,arguments)}}(),$=function(xe){!xe&&!ut(xe)||(xe.length===0&&(V.value=[],N.value=Zl.SUCCESS),V.value=xe.map(function(Me){return U$(U$({},Me),{},{result:!1})}),N.value=Zl.FAIL)},Y=R(function(){return(f==null?void 0:f.data)&&Ze(f==null?void 0:f.data,e.name)}),te=oe(void 0),ae=rt(e),le=ae.name,Q=$n({name:le,resetHandler:U,resetField:Z,validate:K,validateOnly:J,setValidateMessage:$});mt(function(){te.value=Zo(Y.value),f==null||f.children.push(Q)}),yi(function(){f&&(f.children=f==null?void 0:f.children.filter(function(Ce){return Ce!==Q}))}),Pe(Y,Vi(dn.mark(function Ce(){return dn.wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return Me.next=2,K("change");case 2:case"end":return Me.stop()}},Ce)})),{deep:!0}),Pe(function(){return[e.name,JSON.stringify(e.rules)].join(",")},function(){K("change")});var ne=oe(void 0),se=R(function(){return ur(ne.value)?ne.value:ur(e.showErrorMessage)?e.showErrorMessage:f==null?void 0:f.showErrorMessage}),de=R(function(){return[o.value.formItem,FK(v.value,e.name),X(X({},o.value.formItemWithHelp,he.value),o.value.formItemWithExtra,ge.value)]}),he=R(function(){var Ce=r("help");return Ce?x("div",{class:o.value.help},[Ce]):null}),ge=R(function(){var Ce,xe=function(Ae){return x("div",{class:o.value.extra,title:Ae},[Ae])},Me=V.value;return se.value&&Me!==null&&Me!==void 0&&(Ce=Me[0])!==null&&Ce!==void 0&&Ce.message?xe(Me[0].message):H.value.length?xe(H.value[0].message):null}),Se=R(function(){var Ce=r("tips");if(!Ce)return null;var xe=["".concat(v.value,"-tips"),"".concat(h.value,"-tips"),P.value];return x("div",{class:xe},[Ce])}),Te=function(){var Ce=Vi(dn.mark(function xe(){return dn.wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.next=2,K("blur");case 2:case"end":return Re.stop()}},xe)}));return function(){return Ce.apply(this,arguments)}}();return Xn(cM,{handleBlur:Te}),function(){return x("div",{class:de.value},[D(),x("div",{class:A.value,style:j.value},[x("div",{class:o.value.controlsContent},[r("default"),L()]),he.value,Se.value,ge.value])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ywe={colon:Boolean,data:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:void 0},errorMessage:{type:Object},formControlledComponents:{type:Array},id:{type:String,default:void 0},labelAlign:{type:String,default:"right",validator:function(e){return e?["left","right","top"].includes(e):!0}},labelWidth:{type:[String,Number],default:"100px"},layout:{type:String,default:"vertical",validator:function(e){return e?["vertical","inline"].includes(e):!0}},preventSubmitDefault:{type:Boolean,default:!0},readonly:{type:Boolean,default:void 0},requiredMark:{type:Boolean,default:void 0},requiredMarkPosition:{type:String,default:"left",validator:function(e){return e?["left","right"].includes(e):!0}},resetType:{type:String,default:"empty",validator:function(e){return e?["empty","initial"].includes(e):!0}},rules:{type:Object},scrollToFirstError:{type:String,validator:function(e){return e?["","smooth","auto"].includes(e):!0}},showErrorMessage:{type:Boolean,default:!0},statusIcon:{type:[Boolean,Function],default:void 0},submitWithWarningMessage:Boolean,onReset:Function,onSubmit:Function,onValidate:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var _we=pe({name:"TForm",props:ywe,setup:function(e,t){var i=t.expose,r=ft(),o=rt(e),a=o.disabled,s=o.readonly;Xn("formDisabled",{disabled:a}),Xn("formReadonly",{readonly:s});var l=oe(null),u=oe([]),c=rt(e),d=c.showErrorMessage,f=c.labelWidth,h=c.labelAlign,v=c.data,g=c.colon,p=c.requiredMark,m=c.requiredMarkPosition,b=c.rules,C=c.errorMessage,O=c.resetType;Xn(jU,$n({showErrorMessage:d,labelWidth:f,labelAlign:h,data:v,colon:g,requiredMark:p,requiredMarkPosition:m,rules:b,errorMessage:C,resetType:O,children:u,renderContent:r}));var w=we("form"),E=FU(),P=R(function(){return[E.value.form,X({},"".concat(w.value,"-inline"),e.layout==="inline")]}),D=we("form-item"),k=function(ee){if(ur(ee))return"";var K=Object.keys(ee),J=Je(K,1),$=J[0];if(e.scrollToFirstError){var Y=FK(D.value,$);L(Y)}var te=ee[$];return ut(te)?te.filter(function(ae){return!ae.result})[0].message:""},L=function(ee){var K=l.value.getElementsByClassName(ee),J=Je(K,1),$=J[0],Y=e.scrollToFirstError;Y&&$&&$.scrollIntoView({behavior:Y})},M=function(ee,K){return!K||!ut(K)?!0:K.indexOf("".concat(ee))!==-1},A=function(ee){var K=ee.reduce(function(J,$){return Object.assign(J||{},$)},{});return Object.keys(K).forEach(function(J){K[J]===!0&&delete K[J]}),jo(K)?!0:K},j=function(){var ie=Vi(dn.mark(function ee(K){var J,$,Y,te,ae,le,Q,ne,se,de;return dn.wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return $=K||{},Y=$.fields,te=$.trigger,ae=te===void 0?"all":te,le=$.showErrorMessage,Q=u.value.filter(function(Se){return qe(Se.validate)&&M(String(Se.name),Y)}).map(function(Se){return Se.validate(ae,le)}),ge.next=4,Promise.all(Q);case 4:return ne=ge.sent,se=A(ne),de=k(se),(J=e.onValidate)===null||J===void 0||J.call(e,{validateResult:se,firstError:de}),ge.abrupt("return",se);case 9:case"end":return ge.stop()}},ee)}));return function(K){return ie.apply(this,arguments)}}(),V=function(){var ie=Vi(dn.mark(function ee(K){var J,$,Y,te,ae,le;return dn.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return J=K||{},$=J.fields,Y=J.trigger,te=Y===void 0?"all":Y,ae=u.value.filter(function(se){return qe(se.validateOnly)&&M(String(se.name),$)}).map(function(se){return se.validateOnly(te)}),ne.next=4,Promise.all(ae);case 4:return le=ne.sent,ne.abrupt("return",A(le));case 6:case"end":return ne.stop()}},ee)}));return function(K){return ie.apply(this,arguments)}}(),H=oe(),N=function(ee){e.preventSubmitDefault&&ee&&(ee.preventDefault(),ee.stopPropagation()),j(H.value).then(function(K){var J;(J=e.onSubmit)===null||J===void 0||J.call(e,{validateResult:K,firstError:k(K),e:ee})}),H.value=void 0},F=function(){var ie=Vi(dn.mark(function ee(K){return dn.wrap(function($){for(;;)switch($.prev=$.next){case 0:H.value=K,Mde(l.value);case 2:case"end":return $.stop()}},ee)}));return function(K){return ie.apply(this,arguments)}}(),W=oe(),U=function(ee){var K;e.preventSubmitDefault&&ee&&(ee.preventDefault(),ee.stopPropagation()),u.value.filter(function(J){var $;return qe(J.resetField)&&M(String(J.name),($=W.value)===null||$===void 0?void 0:$.fields)}).forEach(function(J){var $;return J.resetField(($=W.value)===null||$===void 0?void 0:$.type)}),W.value=void 0,(K=e.onReset)===null||K===void 0||K.call(e,{e:ee})},q=function(ee){W.value=ee,l.value.reset()},Z=function(ee){u.value.forEach(function(K){qe(K.resetHandler)&&M(String(K.name),ee)&&K.resetHandler()})},z=function(ee){var K=Object.keys(ee);if(K.length){var J=u.value.filter(function($){return qe($.setValidateMessage)&&K.includes("".concat($.name))}).map(function($){return $.setValidateMessage(ee[$.name])});Promise.all(J)}};return i({validate:j,submit:F,reset:q,clearValidate:Z,setValidateMessage:z,validateOnly:V}),function(){return x("form",{ref:l,class:P.value,onSubmit:function(ee){return N(ee)},onReset:function(ee){return U(ee)}},[r("default")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var e_=Ye(_we),t_=Ye(bwe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var jK={allowUncheck:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},label:{type:[String,Function]},name:{type:String,default:""},readonly:{type:Boolean,default:void 0},value:{type:[String,Number,Boolean],default:void 0},onChange:Function,onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var HK=Symbol("RadioGroupProvide"),BK=Symbol("RadioButtonProvide");/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var yM=pe({name:"TRadio",inheritAttrs:!1,props:jK,setup:function(e,t){var i=t.attrs,r=oe(),o=rt(e),a=o.checked,s=o.modelValue,l=Nn(a,s,e.defaultChecked,e.onChange,"checked"),u=Je(l,2),c=u[0],d=u[1],f=R(function(){return h?e.value===h.value:c.value}),h=bn(HK,void 0),v=R(function(){return!!(e.allowUncheck||h!=null&&h.allowUncheck)}),g=function(F){F.stopPropagation()},p=function(F){var W;if(!(w.value||E.value)&&((W=e.onClick)===null||W===void 0||W.call(e,{e:F}),!(f.value&&!v.value)))if(h){var U=f.value&&v.value?void 0:e.value;h.setValue(U,{e:F,name:h.name})}else{var q=v.value?!f.value:!0;d(q,{e:F})}},m=R(function(){return Hb({focus:i.onFocus,blur:i.onBlur,keydown:i.onKeydown,keyup:i.onKeyup,keypresss:i.onKeypresss})}),b=R(function(){var N=[].concat(Be(Object.keys(m.value)),["input","change"]).map(function(F){return"on".concat(F[0].toUpperCase()).concat(F.slice(1))});return br(i,N)}),C=R(function(){return h==null?void 0:h.disabled}),O=R(function(){return h==null?void 0:h.readonly}),w=xi({afterDisabled:C}),E=sr({afterReadonly:O}),P=R(function(){return{name:h?h.name:e.name,checked:f.value,disabled:w.value,readonly:E.value,value:e.value}}),D=Wn(),k=D.STATUS,L=bn(BK,void 0),M=we("radio-button"),A=we("radio"),j=R(function(){return L?M.value:A.value}),V=R(function(){return["".concat(j.value),X(X({},k.value.checked,P.value.checked),k.value.disabled,P.value.disabled)]}),H=Mn();return function(){return x("label",He({ref:r,class:V.value},b.value,{tabindex:w.value?void 0:"0",onClick:p}),[x("input",He({type:"radio",class:"".concat(j.value,"__former")},m.value,P.value,{onClick:g,tabindex:"-1","data-value":kt(e.value)?"'".concat(e.value,"'"):e.value,"data-allow-uncheck":v.value||void 0}),null),x("span",{class:"".concat(j.value,"__input")},null),x("span",{class:"".concat(j.value,"__label")},[H("default","label")])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wwe={allowUncheck:Boolean,disabled:{type:Boolean,default:void 0},name:{type:String,default:""},options:{type:Array},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},theme:{type:String,default:"radio",validator:function(e){return e?["radio","button"].includes(e):!0}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean]},variant:{type:String,default:"outline",validator:function(e){return e?["outline","primary-filled","default-filled"].includes(e):!0}},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function K$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function q$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):K$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Cwe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var $K=pe({name:"TRadioButton",inheritAttrs:!1,props:jK,setup:function(e,t){var i=t.attrs;Xn(BK,$n({}));var r=R(function(){var a=q$(q$({},e),br(i,Object.keys(i).filter(function(s){return s.startsWith("on")})));return a}),o=Mn();return function(){var a;return x(yM,r.value,Cwe(a=o("default","label"))?a:{default:function(){return[a]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Swe(n,e){var t=function(r){var o=h0.test(r.key)||h0.test(r.code);if(o){r.preventDefault();var a=r.target.querySelector("input");if(!a)return;var s=a.dataset;if(a.checked&&s.allowUncheck)e(void 0,{e:r});else{var l=isNaN(Number(s.value))?s.value:Number(s.value);l=kt(l)&&{true:!0,false:!1}[l]||l,l=kt(l)&&l[0]==="'"?l.replace(/'/g,""):l,e(l,{e:r})}}};mt(function(){ai(n.value,"keydown",t)}),$1(function(){Tn(n.value,"keydown",t)})}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Owe=["window"],xwe=typeof window<"u"?window:void 0;function Ewe(n){var e,t=Uo(n);return(e=t==null?void 0:t.$el)!==null&&e!==void 0?e:t}function Pwe(n){return uL()?(M6(n),!0):!1}function VK(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.window,r=i===void 0?xwe:i,o=Gu(t,Owe),a,s=r&&"MutationObserver"in r,l=function(){a&&(a.disconnect(),a=void 0)},u=Pe(function(){return Ewe(n)},function(d){l(),s&&r&&d&&(a=new MutationObserver(e),a.observe(d,o))},{immediate:!0}),c=function(){l(),u()};return Pwe(c),{isSupported:s,stop:c}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function G$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Y$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var kwe=pe({name:"TRadioGroup",props:wwe,setup:function(e){var t=rt(e),i=t.value,r=t.modelValue,o=Nn(i,r,e.defaultValue,e.onChange),a=Je(o,2),s=a[0],l=a[1],u=oe(),c=we("radio-button"),d=Wn(),f=d.STATUS,h=d.SIZE;Swe(u,l);var v=R(function(){return".".concat(c.value,".").concat(f.value.checked)}),g=oe({width:"0px",height:"0px",left:"0px",top:"0px","transition-property":"none"}),p=function(){var j=document.createElement("div");j.setAttribute("style","position: absolute; visibility: hidden;"),j.appendChild(u.value.cloneNode(!0)),document.body.appendChild(j);var V=j.querySelector(v.value),H=V.offsetWidth,N=V.offsetHeight,F=V.offsetLeft,W=V.offsetTop;g.value=Y$(Y$({},g.value),{},{width:"".concat(H,"px"),height:"".concat(N,"px"),left:"".concat(F,"px"),top:"".concat(W,"px")}),document.body.removeChild(j)},m=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(e.variant!=="outline"){var V=u.value.querySelector(v.value),H=j?"none":"all";if(!V){g.value={"transition-property":H,width:"0px",height:"9px",left:"0px",top:"0px"};return}var N=V.offsetWidth,F=V.offsetHeight,W=V.offsetLeft,U=V.offsetTop;N?g.value={"transition-property":H,width:"".concat(N,"px"),height:"".concat(F,"px"),left:"".concat(W,"px"),top:"".concat(U,"px")}:p()}},b;Pe(s,Vi(dn.mark(function A(){return dn.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,tn();case 2:m();case 3:case"end":return V.stop()}},A)}))),mt(function(){m(!0),Ep(u,lh(Vi(dn.mark(function j(){return dn.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,tn();case 2:m();case 3:case"end":return H.stop()}},j)})),300));var A=u.value.querySelector("".concat(v.value," .").concat(c.value,"__label"));A&&(b=VK(A,function(j){j.forEach(function(V){V.type==="characterData"&&m()})},{attributes:!0,childList:!0,characterData:!0,subtree:!0}))}),Ea(function(){var A;(A=b)===null||A===void 0||A.stop()});var C=rt(e),O=C.name,w=C.disabled,E=C.readonly;Xn(HK,$n({name:O,disabled:w,readonly:E,value:s,allowUncheck:e.allowUncheck,setValue:l}));var P=we("radio-group"),D=us(),k=function(){if(e.variant.includes("filled")&&!ah(s.value))return x("div",{style:g.value,class:"".concat(P.value,"__bg-block")},null)},L=function(){var j;return(j=e.options)===null||j===void 0?void 0:j.map(function(V){var H=V;(Dn(V)||kt(V))&&(H={value:V,label:V.toString()});var N=e.theme==="button"?$K:yM;return x(N,{key:"radio-group-options-".concat(H.value,"-").concat(Math.random()),name:e.name,checked:s.value===H.value,disabled:"disabled"in H?H.disabled:e.disabled,value:H.value},{default:function(){return[qe(H.label)?H.label(At):H.label]}})})},M=R(function(){return["".concat(P.value),h.value[e.size],X(X(X({},"".concat(P.value,"__outline"),e.variant==="outline"),"".concat(P.value,"--filled"),e.variant.includes("filled")),"".concat(P.value,"--primary-filled"),e.variant==="primary-filled")]});return function(){return x("div",{ref:u,class:M.value},[D("default")||L(),k()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var WK=Ye(yM),OO=Ye(kwe),_M=Ye($K);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Dwe={disabled:{type:Boolean,default:void 0},inputNumberProps:{type:[Boolean,Object],default:!1},label:{type:[String,Boolean,Function],default:!0},layout:{type:String,default:"horizontal",validator:function(e){return e?["vertical","horizontal"].includes(e):!0}},marks:{type:[Object,Array]},max:{type:Number,default:100},min:{type:Number,default:0},range:Boolean,showStep:Boolean,step:{type:Number,default:1},tooltipProps:{type:Object},value:{type:[Number,Array],default:void 0},modelValue:{type:[Number,Array],default:void 0},defaultValue:{type:[Number,Array],default:0},onChange:Function,onChangeEnd:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Pk=function(e,t){return t?{top:"calc(".concat(100-e,"% - 1px)")}:{left:"".concat(e,"%")}},Z$=function(e,t){return t==="first"?e instanceof Array?e[0]:e:e instanceof Array?e[1]:0},Twe=function(e,t){if(!e)return String(t);if(kt(e)){var i=String(t);try{var r=/\${value}%/g,o=r.test(e);if(o)i=e.replace(r,String(t));else throw i=e,new Error}catch{console.warn("fail to parse label prop, please pass string such as '${value}%'")}return i}return e};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function X$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ev(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):X$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Iwe={visible:!1,trigger:"hover",showArrow:!0,overlayInnerStyle:void 0,overlayClassName:void 0,attach:"body",theme:"default"},Lwe=function(e){var t=oe(),i=R({get:function(){return!!e.value.tooltipProps},set:function(u){return u}}),r=oe(ev({},Iwe)),o=function(u){i.value&&(r.value.visible=u)},a=ft(),s=R(function(){var l=e.value,u=l.vertical,c=l.tooltipProps,d=l.label,f=l.value,h=l.position,v=l.range,g=u?"right":"top",p=function(){return d===!0?String(f):typeof d=="string"?Twe(d,f):a("label",{params:v?{value:f,position:h}:{value:f}})}();return c instanceof Object?(c!=null&&c.placement||(r.value.placement=g),c.content&&(p=c.content),ev(ev(ev({},r.value),c),{},{content:p})):ev(ev({},r.value),{},{placement:g,content:p})});return{tooltipRef:t,tooltipProps:s,toggleTooltip:o,showTooltip:i}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var zK=Symbol("sliderProps");/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var kk=pe({name:"TSliderButton",props:{value:{type:[Number],default:0},vertical:{type:Boolean,default:!1},tooltipProps:{type:[Boolean,Object],default:!0},label:{type:[String,Boolean,Function]},range:{type:Boolean,default:!1},position:{type:String}},emits:["input","mouseup"],setup:function(e,t){var i=we("slider__button"),r=R(function(){return e}),o=Lwe(r),a=o.tooltipRef,s=o.tooltipProps,l=o.toggleTooltip,u=o.showTooltip,c=bn(zK),d=oe(),f=oe(!1),h=$n({dragging:!1,isClick:!1,startX:0,startY:0,startPos:0,newPos:null}),v=R(function(){return Number(c.max)-Number(c.min)}),g=R(function(){return"".concat((e.value-c.min)/v.value*100,"%")}),p=R(function(){return c.step}),m=R(function(){return e.vertical?{bottom:g.value}:{left:g.value}});od(function(){c.toggleDragging(h.dragging)});var b=function(A){var j=A;if(!(j===null||Number.isNaN(j))){j>100?j=100:j<0&&(j=0);var V=100*p.value/v.value,H=Math.round(j/V),N=H*V*v.value*.01;N+=c.min,N=Number(parseFloat("".concat(N)).toFixed(c.precision)),t.emit("input",N),tn(function(){var F,W;a.value&&((F=(W=a.value).updatePopper)===null||F===void 0||F.call(W))})}},C=function(){d.value.focus(),l(!0)},O=function(){h.dragging||l(!1)},w=function(A){h.dragging=!0,h.isClick=!0;var j=A.type,V=A.clientY,H=A.clientX;if(j==="touchstart"){var N=A.touches,F=[N[0].clientY,N[0].clientX];V=F[0],H=F[1]}e.vertical?h.startY=V:h.startX=H,h.startPos=parseFloat(g.value),h.newPos=h.startPos},E=function(A){var j=A;if(h.dragging){f.value=!0,h.isClick=!1,c!=null&&c.resetSize&&qe(c==null?void 0:c.resetSize)&&c.resetSize();var V=0,H=c.sliderSize,N=j.type,F=j.clientY,W=j.clientX;if(N==="touchmove"){var U=j.touches,q=[U[0].clientY,U[0].clientX];F=q[0],W=q[1]}e.vertical?V=h.startY-F:V=W-h.startX,V=V/H*100,h.newPos=h.startPos+V,b(h.newPos)}},P=function(){h.dragging&&(setTimeout(function(){h.dragging=!1,l(!1),h.isClick||b(h.newPos),f.value&&t.emit("mouseup"),f.value=!1},0),window.removeEventListener("mousemove",E),window.removeEventListener("touchmove",E),window.removeEventListener("mouseup",P),window.removeEventListener("touchend",P),window.removeEventListener("contextmenu",P))};function D(M){c.disabled||(M.preventDefault(),w(M),window.addEventListener("mousemove",E),window.addEventListener("mouseup",P),window.addEventListener("touchmove",E),window.addEventListener("touchend",P),window.addEventListener("contextmenu",P))}var k=function(A){if(!c.disabled){var j=p.value/v.value*100;A==="sub"&&(j=-j),h.newPos=parseFloat(g.value)+j,b(h.newPos)}},L=function(A){var j=A.code;A.preventDefault(),(j==="ArrowDown"||j==="ArrowLeft")&&k("sub"),(j==="ArrowUp"||j==="ArrowRight")&&k("add")};return t.expose({setPosition:b}),function(){return x("div",{ref:d,class:"".concat(i.value,"-wrapper"),style:m.value,tabindex:"0","show-tooltip":u.value,onMouseenter:C,onMouseleave:O,onMousedown:D,onTouchstart:D,onFocus:C,onBlur:O,onKeydown:L},[x(So,He({ref:a,hideEmptyPopup:!0,disabled:!u.value},s.value),{default:function(){return[x("div",{class:[i.value,X({},"".concat(i.value,"--dragging"),h.dragging)]},null)]}})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Mwe=pe({name:"TSliderMark",props:{mark:{type:[Object,Array,String,Number]},point:{type:Number},onClickMarkPoint:{type:Function,default:function(){}}},setup:function(e){var t=we("slider__mark"),i=function(o){var a;o.stopPropagation(),e==null||(a=e.onClickMarkPoint)===null||a===void 0||a.call(e,e.point)};return function(){return x("div",{class:"".concat(t.value,"-text"),onClick:i},[e.mark])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Awe=function(e){var t=e.value.prefixName,i=R(function(){var o=e.value;if(!o.marks)return[];var a=[];if(ut(o.marks)){var s=Zo(o.marks).sort(function(c,d){return c-d}),l=Math.max.apply(Math,Be(s).concat([o.max])),u=Math.min.apply(Math,Be(s).concat([o.min]));u<o.min&&Yt.errorOnce("TSlider","marks min value should >= props min"),l>o.max&&Yt.errorOnce("TSlider","marks max value should <= props max"),s.forEach(function(c){a.push({point:c,position:(c-u)/(l-u)*100,mark:c})})}else Object.keys(o.marks).map(parseFloat).sort(function(c,d){return c-d}).filter(function(c){return c<=o.max&&c>=o.min}).forEach(function(c){var d={point:c,position:(c-o.min)*100/(o.max-o.min),mark:o.marks[c]};a.push(d)});return a}),r=function(a){return i.value.length?x("div",null,[x("div",{class:"".concat(t,"__stops")},[i.value.map(function(s,l){return s.position===0||s.position===100?null:x("div",{class:"".concat(t,"__stop ").concat(t,"__mark-stop"),style:Pk(s.position,e.value.vertical),key:l},null)})]),x("div",{class:"".concat(t,"__mark")},[i.value.map(function(s,l){return x(Mwe,{mark:s.mark,point:s.point,key:l,style:Pk(s.position,e.value.vertical),onClickMarkPoint:a},null)})])]):null};return r};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function J$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Q$(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J$(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J$(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Rwe=function(e){var t=e.value.prefixName,i=R(function(){var a,s={format:void 0,placeholder:"",theme:"column",decimalPlaces:((a=e.value.step.toString().split(".")[1])===null||a===void 0?void 0:a.length)||0},l=e.value;if(!ur(l.inputNumberProps)){var u,c=(u=l.inputNumberProps)===null||u===void 0?void 0:u.theme;s=Q$(Q$({},s),br(l.inputNumberProps,"onChange")),["column","row","normal"].includes(c)&&(s.theme=c)}return s}),r=R(function(){return["".concat(t,"__input"),{"is-vertical":e.value.vertical}]}),o=function(s,l){var u=function(d,f){var h,v;d!==void 0&&!isNaN(d)&&l(d),(h=e.value)===null||h===void 0||(h=h.inputNumberProps)===null||h===void 0||(v=h.onChange)===null||v===void 0||v.call(h,d,f)};return x(Jy,He(i.value,{class:r.value,value:s,step:e.value.step,onChange:u,disabled:e.value.disabled,min:e.value.min,max:e.value.max}),null)};return o};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Nwe=pe({name:"TSlider",model:{prop:"value",event:"change"},props:Dwe,setup:function(e){var t=xi(),i=we("slider"),r=Wn(),o=r.STATUS,a=rt(e),s=a.value,l=a.modelValue,u=Nn(s,l,e.defaultValue,e.onChange),c=Je(u,2),d=c[0],f=c[1],h=oe(),v=oe(),g=oe(),p=oe(),m=oe(Z$(d.value,"first")),b=oe(Z$(d.value,"second")),C=oe(!1),O=oe(1),w=R(function(){return e.layout==="vertical"}),E=R(function(){return["".concat(i.value,"__container"),{"is-vertical":w.value}]}),P=R(function(){return["".concat(i.value),X(X(X({"is-vertical":w.value},"".concat(i.value,"--with-input"),e.inputNumberProps),"".concat(i.value,"--vertical"),w.value),o.value.disabled,t.value)]}),D=R(function(){return["".concat(i.value,"__rail"),{"show-input":e.inputNumberProps,disabled:t.value}]}),k=R(function(){return w.value?{height:"100%"}:{}}),L=R(function(){var de=e.range?"".concat(100*(A.value-e.min)/M.value,"%"):"0%",he=e.range?j.value-A.value:m.value-e.min,ge="".concat(100*he/M.value,"%");return w.value?{height:ge,bottom:de}:{width:ge,left:de}}),M=R(function(){return e.max-e.min}),A=R(function(){return Math.min(m.value,b.value)}),j=R(function(){return Math.max(m.value,b.value)}),V=R(function(){if(!e.showStep||e.min>e.max)return[];if(e.step===0)return console.warn("[Element Warn][Slider]step should not be 0."),[];for(var de=M.value/e.step,he=100*e.step/M.value,ge=[],Se=1;Se<de;Se++)ge.push(Se*he);if(e.range){var Te=ge.filter(function(Ce){return Ce<100*(A.value-e.min)/M.value||e.step>100*(j.value-e.max)/M.value});return Te}return ge.filter(function(Ce){return Ce>100*(m.value-e.min)/M.value})}),H=R(function(){var de=[e.min,e.max,e.step].map(function(he){var ge="".concat(he).split(".");return ge[1]?ge[1].length:0});return Math.max.apply(null,de)}),N=function(he){var ge=[e.min,e.max],Se=ge[0],Te=ge[1];if(Se>Te){console.warn("[Slider] max should be greater than min.");return}if(e.range&&ut(he)){var Ce=[Math.min.apply(Math,Be(he)),Math.max.apply(Math,Be(he))],xe=Ce[0],Me=Ce[1];xe>Te&&(xe=m.value),xe<Se&&(xe=Se),Me<Se&&(Me=b.value),Me>Te&&(Me=Te);var Re=[xe,Me];return m.value=Re[0],b.value=Re[1],[xe,Me]}var Ae=he;return Ae<Se&&(Ae=Se),Ae>Te&&(Ae=Te),Ae},F=function(he){var ge=he;ge===void 0&&(e.range?ge=[m.value,b.value]:ge=m.value);var Se=N(ge);f(Se)},W=function(){v.value&&(O.value=v.value["client".concat(w.value?"Height":"Width")])},U=oe(!1),q=function(){var he;e.range?(ut(d.value)?(m.value=Math.max(e.min||0,d.value[0]),b.value=Math.min(e.max||100,d.value[1])):(m.value=e.min||0,b.value=e.max||100),he="".concat(m.value,"-").concat(b.value)):(Dn(d.value)?m.value=Math.min(e.max,Math.max(e.min,d.value)):m.value=e.min,he=String(m.value)),h.value&&h.value.setAttribute("aria-valuetext",he),W(),window.addEventListener("resize",W)},Z=function(he){var ge=he*M.value/100;if(ge=e.min+ge,!e.range&&g.value){g.value.setPosition(he);return}var Se;Math.abs(A.value-ge)<Math.abs(j.value-ge)?Se=m.value<b.value?"button1":"button2":Se=m.value>b.value?"button1":"button2",Se==="button1"&&g.value&&g.value.setPosition(he),Se==="button2"&&p.value&&p.value.setPosition(he)},z=function(){var he=e.range?[m.value,b.value]:m.value;return N(he)},ie=function(he){var ge;if(!(t.value||C.value)&&v.value){W();var Se=0;if(w.value){var Te=v.value.getBoundingClientRect().bottom;Se=(Te-he.clientY)/O.value*100,Z(Se)}else{var Ce=v.value.getBoundingClientRect().left;Se=(he.clientX-Ce)/O.value*100,Z(Se)}var xe=z();(ge=e.onChangeEnd)===null||ge===void 0||ge.call(e,xe)}},ee=function(he){var ge;if(!(t.value||C.value)){W();var Se=Number(he/M.value*100);Z(Se),F(he);var Te=z();(ge=e.onChangeEnd)===null||ge===void 0||ge.call(e,Te)}};Pe(function(){return d.value},function(de){if(C.value!==!0)if(ut(de)&&e.range){var he=Je(de,2);m.value=he[0],b.value=he[1]}else m.value=de}),Pe([m,b,C],function(de,he){de[0]!==he[0]&&(e.range?F([A.value,j.value]):F(m.value)),de[1]!==he[1]&&e.range&&F([A.value,j.value]),de[2]!==he[2]&&de[2]===!1&&q()}),mt(function(){q(),U.value=!0}),yi(function(){window.removeEventListener("resize",W)});var K=R(function(){return{max:e.max,min:e.min,marks:e.marks,vertical:w.value,prefixName:i.value}}),J=Awe(K),$=R(function(){return{max:e.max,min:e.min,inputNumberProps:e.inputNumberProps,step:e.step,prefixName:i.value,vertical:w.value,disabled:t.value}}),Y=Rwe($),te=function(){var he=N(m.value),ge=function(xe){m.value=N(xe)},Se=N(b.value),Te=function(xe){b.value=N(xe)};return x("div",{class:["".concat(i.value,"__input-container"),{"is-vertical":w.value}]},[Y(he,ge),e.range&&x("div",{class:"".concat(i.value,"__center-line")},null),e.range&&Y(Se,Te)])},ae=function(he){C.value=he},le=rt(e),Q=le.min,ne=le.max,se=le.step;return Xn(zK,$n({min:Q,max:ne,step:se,dragging:C,toggleDragging:ae,precision:H,disabled:t,resetSize:W,sliderSize:O})),function(){return x("div",{class:E.value,ref:h},[x("div",{class:P.value,role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.layout,"aria-disabled":t.value,"tooltip-props":e.tooltipProps},[x("div",{class:D.value,style:k.value,onClick:ie,ref:v},[x("div",{class:"".concat(i.value,"__track"),style:L.value},null),x(kk,{vertical:w.value,value:m.value,ref:g,disabled:t.value,range:e.range,position:"start","tooltip-props":e.tooltipProps,label:e.label,onInput:function(he){m.value=he},onMouseup:function(){var he,ge=z();(he=e.onChangeEnd)===null||he===void 0||he.call(e,ge)}},null),e.range&&x(kk,{vertical:w.value,value:b.value,ref:p,disabled:t.value,label:e.label,range:e.range,position:"end","tooltip-props":e.tooltipProps,onInput:function(he){b.value=he},onMouseup:function(){var he,ge=z();(he=e.onChangeEnd)===null||he===void 0||he.call(e,ge)}},null),e.showStep&&x("div",{class:"".concat(i.value,"__stops")},[V.value.map(function(de,he){return de.position===0||de.position===100?null:x("div",{class:"".concat(i.value,"__stop"),key:he,style:Pk(de,w.value)},null)})]),J(ee)])]),U.value&&e.inputNumberProps&&te()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Fwe=Ye(Nwe),jwe=Ye(kk);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Hwe={beforeChange:{type:Function},customValue:{type:Array},disabled:{type:Boolean,default:void 0},label:{type:[Array,Function],default:function(){return[]}},loading:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},value:{type:[String,Number,Boolean],default:void 0},modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Bwe=pe({name:"TSwitch",props:Hwe,setup:function(e,t){var i=t.slots,r=xi(),o=we("switch"),a=Wn(),s=a.STATUS,l=a.SIZE,u=rt(e),c=u.value,d=u.modelValue,f=Nn(c,d,e.defaultValue,e.onChange),h=Je(f,2),v=h[0],g=h[1],p=R(function(){return e.customValue&&e.customValue.length>0?e.customValue[0]:!0}),m=R(function(){return e.customValue&&e.customValue.length>1?e.customValue[1]:!1});function b(D){var k=v.value===p.value?m.value:p.value;g(k,{e:D})}function C(D){if(!(r.value||e.loading)){if(!e.beforeChange){b(D);return}Promise.resolve(e.beforeChange()).then(function(k){k&&b(D)}).catch(function(k){throw new Error("Switch: some error occurred: ".concat(k))})}}var O=R(function(){return["".concat(o.value),l.value[e.size],X(X(X({},s.value.disabled,r.value),s.value.loading,e.loading),s.value.checked,v.value===p.value||e.modelValue===p.value)]}),w=R(function(){return["".concat(o.value,"__handle"),X(X({},s.value.disabled,r.value),s.value.loading,e.loading)]}),E=R(function(){return["".concat(o.value,"__content"),l.value[e.size],X({},s.value.disabled,r.value)]});Pe(v,function(D){if(e.customValue&&e.customValue.length&&!e.customValue.includes(D))throw new Error("value is not in ".concat(JSON.stringify(e.customValue)))},{immediate:!0});var P=R(function(){if(qe(e.label))return e.label(At,{value:v.value});if(kt(e.label))return e.label;if(ut(e.label)&&e.label.length){var D=v.value===p.value?e.label[0]:e.label[1];if(!D)return;if(kt(D))return D;if(qe(D))return D(At)}return i.label?i.label({value:v.value}):null});return function(){var D,k;return e.loading?k=x(ar,{size:"small"},null):P.value&&(D=P.value),x("div",{class:O.value,onClick:C},[x("span",{class:w.value},[k]),x("div",{class:E.value},[D])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var $we=Ye(Bwe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ra,Vwe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow-y:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,Wwe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function zwe(n){if(!(typeof window>"u"||!n)){var e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing")||e.getPropertyValue("-moz-box-sizing")||e.getPropertyValue("-webkit-box-sizing"),i=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width")),o=Wwe.map(function(a){return"".concat(a,":").concat(e.getPropertyValue(a))}).join(";");return{sizingStyle:o,paddingSize:i,borderSize:r,boxSizing:t}}}function eV(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;Ra||(Ra=document.createElement("textarea"),document.body.appendChild(Ra));var i=zwe(n),r=i.paddingSize,o=i.borderSize,a=i.boxSizing,s=i.sizingStyle;Ra.setAttribute("style","".concat(s,";").concat(Vwe)),Ra.value=n.value||n.placeholder||"";var l=Ra.scrollHeight,u={};a==="border-box"?l+=o:a==="content-box"&&(l-=r),Ra.value="";var c=Ra.scrollHeight-r;if(e!==null){var d=c*e;a==="border-box"&&(d=d+r+o),l=Math.max(d,l),u.minHeight="".concat(d,"px")}if(t!==null){var f=c*t;a==="border-box"&&(f=f+r+o),l=Math.min(f,l)}return u.height="".concat(l,"px"),Ra.parentNode&&Ra.parentNode.removeChild(Ra),Ra=null,u}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Uwe={allowInputOverMax:Boolean,autofocus:Boolean,autosize:{type:[Boolean,Object],default:!1},disabled:{type:Boolean,default:void 0},maxcharacter:{type:Number},maxlength:{type:[String,Number]},name:{type:String,default:""},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:void 0},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},tips:{type:[String,Function]},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onValidate:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Kwe=pe({name:"TTextarea",inheritAttrs:!1,props:Uwe,setup:function(e,t){var i=t.attrs,r=t.expose,o=we(),a=we("textarea"),s=R(function(){return"".concat(a.value,"__tips")}),l=R(function(){return"".concat(a.value,"__limit")}),u=rt(e),c=u.value,d=u.modelValue,f=Nn(c,d,e.defaultValue,e.onChange),h=Je(f,2),v=h[0],g=h[1],p=xi(),m=sr(),b=oe({}),C=oe(),O=oe(!1),w=oe(!1),E=function(){var te;return(te=C.value)===null||te===void 0?void 0:te.focus()},P=function(){var te;return(te=C.value)===null||te===void 0?void 0:te.blur()},D=function(){var te;if(e.autosize===!0)b.value=eV(C.value);else if(e.autosize&&kn(e.autosize)==="object"){var ae=e.autosize,le=ae.minRows,Q=ae.maxRows;b.value=eV(C.value,le,Q)}else i.rows?b.value={height:"auto",minHeight:"auto"}:i.style&&(te=C.value)!==null&&te!==void 0&&(te=te.style)!==null&&te!==void 0&&te.height&&(b.value={height:C.value.style.height})},k=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ae=C.value,le=String(te);ae&&ae.value!==le&&(ae.value=le,v.value=le)},L=function(te){var ae=te.target,le=ae.value;if(e.maxcharacter&&e.maxcharacter>=0){var Q=uf(le,e.maxcharacter);le=kn(Q)==="object"&&Q.characters}!w.value&&g(le,{e:te}),tn(function(){return k(le)}),D()},M=function(te){L(te)},A=function(){w.value=!0},j=function(te){w.value=!1,L(te)},V=function(te,ae){var le;if(!p.value){var Q="on".concat(te[0].toUpperCase()).concat(te.slice(1));(le=e[Q])===null||le===void 0||le.call(e,v.value,{e:ae})}},H=function(te){V("keydown",te)},N=function(te){V("keyup",te)},F=function(te){V("keypress",te)},W=function(te){var ae;D(),!p.value&&(O.value=!0,(ae=e.onFocus)===null||ae===void 0||ae.call(e,v.value,{e:te}))},U=bn(cM,void 0),q=function(te){var ae;te.target&&(D(),O.value=!1,(ae=e.onBlur)===null||ae===void 0||ae.call(e,v.value,{e:te}),U==null||U.handleBlur())},Z=R(function(){return[a.value,X(X({},"".concat(o.value,"-is-disabled"),p.value),"".concat(o.value,"-is-readonly"),m.value)]}),z=R(function(){return Hb({autofocus:e.autofocus,disabled:p.value,readonly:m.value,placeholder:e.placeholder,maxlength:!e.allowInputOverMax&&e.maxlength||void 0,name:e.name||void 0})}),ie=R(function(){var Y=uf(String(v.value||""));return kn(Y)==="object"?Y.length:Y}),ee=R(function(){return{value:[void 0,null].includes(v.value)?void 0:String(v.value),status:e.status,maxlength:Number(e.maxlength),maxcharacter:e.maxcharacter,allowInputOverMax:e.allowInputOverMax,onValidate:e.onValidate}}),K=HU(ee),J=K.tStatus;Pe(function(){return v.value},function(){return D()}),Pe(C,function(Y){Y&&(D(),e.autofocus&&Y.focus())}),Pe(b,function(Y){var te=i.style;Wt(te)?kl(C.value,aO(te,Y)):kl(C.value,Y)}),Pe(v,function(){tn(function(){return D()})}),Pe(function(){return e.autosize},D,{deep:!0}),r({focus:E,blur:P}),mt(function(){D()});var $=ft();return function(){var Y,te=Hb({onFocus:W,onBlur:q,onKeydown:H,onKeyup:N,onKeypress:F}),ae=Wn(),le=ae.STATUS,Q=R(function(){return["".concat(a.value,"__inner"),X(X(X(X({},"".concat(o.value,"-is-").concat(J.value),J.value),le.value.disabled,p.value),le.value.focused,O.value),"".concat(o.value,"-resize-none"),kn(e.autosize)==="object"),"narrow-scrollbar"]}),ne=$("tips"),se=ne&&x("div",{class:"".concat(s.value," ").concat(a.value,"__tips--").concat(e.status||"normal")},[ne]),de=e.maxcharacter&&x("span",{class:l.value},["".concat(ie.value,"/").concat(e.maxcharacter)])||!e.maxcharacter&&e.maxlength&&x("span",{class:l.value},["".concat(v.value?(Y=String(v.value))===null||Y===void 0?void 0:Y.length:0,"/").concat(e.maxlength)]);return x("div",He({class:Z.value},br(i,["style"])),[x("textarea",He({onInput:M,onCompositionstart:A,onCompositionend:j,ref:C,value:v.value,class:Q.value},te,z.value),null),se||de?x("div",{class:["".concat(a.value,"__info_wrapper"),X({},"".concat(a.value,"__info_wrapper_align"),!se)]},[se,de]):null])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var qwe=Ye(Kwe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function tV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gwe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Ywe="TTransfer",Na="source",ca="target";function Id(n){return ut(n)?{source:n[0],target:n[1]}:{source:n,target:n}}function ng(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=t.isTreeMode,r=i===void 0?!1:i,o=t.include,a=o===void 0?!0:o,s=t.remainValue,l=s===void 0?[]:s;if(r){var u=[];if(n)for(var c=0;c<n.length;c++){var d=n[c],f=e.includes(d.value)&&!d.disabled;if(!(!a&&f))if(d.children&&d.children.length>0){var h=ng(d.children,e,{isTreeMode:r,include:a});u=u.concat(h)}else(a&&f||!a&&!f)&&u.push(d.value)}return u}return n.filter(function(v){if(!v)return!1;var g=e.includes(v.value);return(a&&g||!a&&!g)&&(!v.disabled||l.includes(v.value))}).map(function(v){return v.value})}function UK(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=n.map(function(r,o){var a,s=(e==null?void 0:e.label)||"label",l=(e==null?void 0:e.value)||"value",u=(e==null?void 0:e.disabled)||"disabled";if(Nr(r[s]))throw new Error("".concat(s," is not in DataOption ").concat(JSON.stringify(r)));if(Nr(r[l]))throw new Error("".concat(l," is not in DataOption ").concat(JSON.stringify(r)));var c={label:r[s],value:r[l],key:"key__value_".concat(r[l],"_index_").concat(o),disabled:(a=r[u])!==null&&a!==void 0?a:!1,data:r};return t&&r.children&&(c.children=UK(r.children,e,!0)),c});return i}function Zwe(n,e,t){return e.includes(n.value)?t:!1}function KK(n,e,t){var i;return n?e.includes(n.value)?t:(i=n.children)!==null&&i!==void 0&&i.length?n.children.some(function(r){return KK(r,e,t)}):!t:!t}function qK(n,e,t,i){n.forEach(function(r){var o;Zwe(r,t,i)?(o=Zo(r),e.push(o)):KK(r,t,i)&&(o=Gwe({},r),delete o.children,e.push(o),r.children&&(o.children=[],qK(r.children,o.children,t,i),o.children.length===0&&delete o.children))})}function nV(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!i)return t?e.map(function(o){return n.find(function(a){return a.value===o})}).filter(function(o){return!!o}):n.filter(function(o){var a=e.includes(o.value);return!a});var r=[];return qK(n,r,e,t),r}function GK(n){var e=0;return n.forEach(function(t){t.children&&t.children.length>0?e+=GK(t.children):e+=1}),e}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Xwe=pe({name:"TTransferSearch",props:{value:{type:String,default:""},search:{type:[Boolean,Object],default:!1},placeholder:{type:String,default:""},onChange:Function},setup:function(e){var t=we(),i=On({SearchIcon:She}),r=i.SearchIcon,o=function(l,u){var c,d=u.e,f=u.trigger;(c=e.onChange)===null||c===void 0||c.call(e,{value:l,e:d,trigger:f})},a=kn(e.search)==="object"?e.search:{clearable:!0};return function(){return x("div",{class:"".concat(t.value,"-transfer__search-wrapper")},[x(Do,He(a,{defaultValue:e.value,onChange:o,placeholder:e.placeholder}),{default:function(){return[x(r,{slot:"suffix-icon"},null)]}})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Jwe(n,e,t){var i=oe(null),r=oe(null),o=oe(null),a=function(f){var h=Number(f.target.dataset.index);i.value=h},s=function(f){if(f.preventDefault(),f.currentTarget){var h=f.currentTarget,v=Number(h.dataset.index),g=h.offsetHeight,p=f.clientY-h.getBoundingClientRect().top,m=.3,b=g*m;if(r.value=v,r.value===i.value){o.value="";return}p<b?o.value="top":p>g-b?o.value="bottom":o.value="center"}},l=function(){o.value="",r.value=null},u=function(){i.value=null,r.value=null,o.value=""},c=function(f){f.preventDefault();var h=i.value,v=r.value;if(i.value=null,r.value=null,o.value="",h!==v){var g=Be(n.value),p=e.value[h].value,m=e.value[v].value,b=g.indexOf(p),C=g.indexOf(m);g.splice(b,1),o.value==="bottom"&&(C+=1),g.splice(C,0,p),t==null||t(g,[p,m])}};return{onDragStart:a,onDragEnd:u,onDrop:c,onDragOver:s,onDragLeave:l}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function iV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function q_(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var Qwe={checkboxProps:{type:Object,default:function(){return{}}},dataSource:{type:Array,default:function(){return[]}},listType:{type:String,default:"target"},title:{type:[String,Function]},checkedValue:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},search:{type:[Boolean,Object],default:!1},transferItem:Function,empty:{type:[Function,String]},pagination:[Boolean,Object],footer:[Function,String],checkAll:Boolean,isTreeMode:{type:Boolean,default:!1},onCheckedChange:Function,onPageChange:Function,onScroll:Function,onSearch:Function,onDataChange:Function,draggable:Boolean,currentValue:{type:Array}},eCe=pe({name:"TTransferList",props:Qwe,setup:function(e){var t=we(),i=rt(e),r=i.currentValue,o=Dt("transfer"),a=o.t,s=o.globalConfig,l=oe(""),u=oe(1),c=oe(0),d=R(function(){var Z=e.pagination;return(Z==null?void 0:Z.current)||u.value||(Z==null?void 0:Z.defaultCurrent)}),f=R(function(){var Z=e.pagination;return(Z==null?void 0:Z.pageSize)||c.value||(Z==null?void 0:Z.defaultPageSize)}),h=R(function(){var Z=e.dataSource.some(function(z){return z.children&&z.children.length});return Z?L(e.dataSource,l.value):e.dataSource.filter(function(z){var ie=z&&z.label.toString();return ie.toLowerCase().indexOf(l.value.toLowerCase())>-1})}),v=R(function(){return h.value&&h.value.length||0}),g=R(function(){var Z=h.value;if(!e.pagination||f.value===0)return Z;var z=(d.value-1)*f.value,ie=d.value*f.value;return Z=Z.slice(z,ie),Z}),p=R(function(){var Z={totalContent:!1,pageSizeOptions:[]};return kn(e.pagination)==="object"?nE(nE(nE({},Z),e.pagination),{},{size:"small",theme:"simple",current:d.value,total:v.value,pageSize:f.value}):{}}),m=Jwe(r,g,e.onDataChange),b=m.onDragStart,C=m.onDragEnd,O=m.onDrop,w=m.onDragOver,E=m.onDragLeave,P=R(function(){var Z=ng(e.dataSource,[],{isTreeMode:e.isTreeMode,include:!1});return e.checkedValue.length>0&&(e.isTreeMode?Z.every(function(z){return e.checkedValue.includes(z)}):(e.search?h.value:e.dataSource).every(function(z){return z.disabled||e.checkedValue.includes(z.value)}))}),D=R(function(){return!P.value&&e.checkedValue.length>0}),k=R(function(){return GK(e.dataSource)});Pe(k,function(Z){if(Z<=(d.value-1)*f.value){var z=Math.ceil(Z/f.value);u.value=z}});var L=function(z,ie){var ee=ace(Zo(z),function(K){return!!(K.label.toLowerCase().includes(ie.toLowerCase())||K.children&&K.children.length>0&&(K.children=L(K.children,ie),K.children.length>0))});return ee},M=function(z){var ie;(ie=e.onPageChange)===null||ie===void 0||ie.call(e,z),u.value=z.current,c.value=z.pageSize},A=function(z){var ie;(ie=e.onCheckedChange)===null||ie===void 0||ie.call(e,z)},j=function(z){if(z){var ie=ng(e.search?h.value:e.dataSource,[],{isTreeMode:e.isTreeMode,include:!1});A(ie)}else A([])},V=function(z){var ie;(ie=e.onScroll)===null||ie===void 0||ie.call(e,z)},H=function(z){var ie,ee={query:z.value,type:e.listType,e:z.e,trigger:z.trigger};l.value=z.value,(ie=e.onSearch)===null||ie===void 0||ie.call(e,ee)},N=us(),F=function(){var z=e.title&&kt(e.title)?x("template",null,[e.title]):null,ie=N("title",{defaultNode:z,params:{type:e.listType}});return x("span",null,[ie])},W=function(){var z=e.draggable&&e.listType===ca,ie=null;if(z){var K;ie=x(Kb,{value:e.checkedValue,onChange:A},q_(K=g.value.map(function(J,$){var Y;return x("div",{draggable:z,onDragend:C,onDragstart:b,onDragover:w,onDragleave:E,onDrop:O,"data-index":$},[x(_l,He({disabled:e.disabled||J.disabled,value:J.value,needRipple:!0,class:["".concat(t.value,"-transfer__list-item"),e.checkedValue.includes(J.value)?"".concat(t.value,"-is-checked"):""],key:J.key},e.checkboxProps),q_(Y=N("transferItem",{defaultNode:x("span",null,[J.label]),params:{data:J.data,index:$,type:e.listType}}))?Y:{default:function(){return[Y]}})])}))?K:{default:function(){return[K]}})}else{var ee;ie=x(Kb,{value:e.checkedValue,onChange:A},q_(ee=g.value.map(function(J,$){var Y;return x(_l,He({disabled:e.disabled||J.disabled,value:J.value,needRipple:!0,class:["".concat(t.value,"-transfer__list-item"),e.checkedValue.includes(J.value)?"".concat(t.value,"-is-checked"):""],key:J.key},e.checkboxProps),q_(Y=N("transferItem",{defaultNode:x("span",null,[J.label]),params:{data:J.data,index:$,type:e.listType}}))?Y:{default:function(){return[Y]}})}))?ee:{default:function(){return[ee]}})}return x("div",{class:["".concat(t.value,"-transfer__list-content"),"narrow-scrollbar"],onScroll:V},[N("tree",{defaultNode:ie,params:{data:g.value,value:e.checkedValue,onChange:A}})])},U=function(){var z=e.empty||a(s.value.empty),ie=kt(z)?x("span",null,[z]):null;return x("div",{class:"".concat(t.value,"-transfer__empty")},[N("empty",{defaultNode:ie,params:{type:e.listType}})])},q=function(){var z=kt(e.footer)?x("div",{class:"".concat(t.value,"-transfer__footer")},[e.footer]):null;return N("footer",{defaultNode:z,params:{type:e.listType}})};return function(){return x("div",{class:["".concat(t.value,"-transfer__list"),"".concat(t.value,"-transfer__list-").concat(e.listType)]},[x("div",{class:"".concat(t.value,"-transfer__list-header")},[x("div",null,[e.checkAll&&x(_l,{disabled:e.disabled||!e.dataSource.length,checked:P.value,indeterminate:D.value,onChange:j},null),x("span",null,[a(s.value.title,{checked:e.checkedValue.length,total:k.value})])]),F()]),x("div",{class:["".concat(t.value,"-transfer__list-body"),e.search?"".concat(t.value,"-transfer__list--with-search"):""]},[e.search&&x(Xwe,{searchValue:l.value,placeholder:a(s.value.placeholder),onChange:H,disabled:e.disabled,search:e.search},null),g.value.length>0?W():U()]),e.pagination&&f.value>0&&v.value>0&&x("div",{class:"".concat(t.value,"-transfer__list-pagination")},[x(dM,He(p.value,{onChange:M}),null)]),q()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var YK={checkboxProps:{type:Object},checked:{type:Array,default:void 0},defaultChecked:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},direction:{type:String,default:"both",validator:function(e){return e?["left","right","both"].includes(e):!0}},disabled:{type:[Boolean,Array],default:void 0},empty:{type:[String,Array,Function],default:""},footer:{type:[Array,Function]},keys:{type:Object},operation:{type:[Array,Function]},pagination:{type:[Object,Array]},search:{type:[Boolean,Object,Array],default:!1},showCheckAll:{type:[Boolean,Array],default:!0},targetDraggable:Boolean,targetSort:{type:String,default:"original",validator:function(e){return e?["original","push","unshift"].includes(e):!0}},title:{type:[Array,Function],default:function(){return[]}},transferItem:{type:Function},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function,onCheckedChange:Function,onPageChange:Function,onScroll:Function,onSearch:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var tCe=pe({name:"TTransferOperations",props:{leftDisabled:{type:Boolean,required:!0},rightDisabled:{type:Boolean,required:!0},operation:YK.operation},emits:["moveToRight","moveToLeft"],setup:function(e,t){var i=t.slots,r=t.emit,o=we(),a=On({ChevronRightIcon:_d,ChevronLeftIcon:Cp}),s=a.ChevronRightIcon,l=a.ChevronLeftIcon,u=function(){r("moveToRight")},c=function(){r("moveToLeft")},d=function(){return x(s,null,null)},f=function(){return x(l,null,null)},h=function(p){return qe(e.operation)||p==="right"&&e.operation&&qe(e.operation[0])||p==="left"&&e.operation&&qe(e.operation[1])||i.operation?null:p==="left"?f:d},v=function(p,m){if(qe(i.operation))return i.operation({direction:m});if(qe(e.operation)){var b=e.operation;return b(p,{direction:m})}var C;if(ut(e.operation)){var O=Je(e.operation,2),w=O[0],E=O[1];C=m==="right"?E:w}else C="";return C};return function(){return x("div",{class:"".concat(o.value,"-transfer__operations")},[x(Bt,{variant:"outline",size:"small",shape:ut(e.operation)&&kt(e.operation[1])?"rectangle":"square",key:e.rightDisabled?"right-outline":"right-base",disabled:e.rightDisabled,onClick:u,icon:h("right")},{default:function(){return[i.operation||ut(e.operation)&&e.operation[1]?v(At,"right"):null]}}),x(Bt,{variant:"outline",size:"small",shape:ut(e.operation)&&kt(e.operation[0])?"rectangle":"square",key:e.rightDisabled?"left-outline":"left-base",disabled:e.leftDisabled,onClick:c,icon:h("left")},{default:function(){return[i.operation||ut(e.operation)&&e.operation[0]?v(At,"left"):null]}})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function nCe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var iCe=pe({name:Ywe,props:YK,setup:function(e,t){var i=t.slots,r=xi(),o=we(),a=rt(e),s=a.value,l=a.modelValue,u=a.checked,c=Nn(s,l,e.defaultValue,e.onChange),d=Je(c,2),f=d[0],h=d[1],v=Gi(u,e.defaultChecked,e.onCheckedChange,"checked"),g=Je(v,1),p=g[0],m=R(function(){return f.value}),b=R(function(){var Y=i.tree;return qe(Y)}),C=R(function(){return e.direction==="right"}),O=R(function(){return e.direction==="left"}),w=R(function(){return UK(e.data,e.keys,b.value)}),E=R(function(){return nV(w.value,m.value,!1,b.value)}),P=R(function(){return nV(w.value,m.value,!0,b.value)}),D=R(function(){return X(X({},Na,ng(E.value,p.value,{isTreeMode:b.value})),ca,ng(P.value,p.value,{isTreeMode:b.value}))}),k=R(function(){return!!i.footer||!!e.footer}),L=R(function(){return!!e.pagination&&!i.content}),M=R(function(){return!!e.search}),A=R(function(){var Y=e.footer||"";return Id(Y)}),j=R(function(){return Id(e.empty)}),V=R(function(){return Id(e.search)}),H=R(function(){return Id(e.showCheckAll)}),N=R(function(){return Id(r.value)}),F=R(function(){return Id(e.title)}),W=R(function(){return Id(e.pagination)}),U=function(te,ae){var le,Q=ae===Na?te:D.value[Na],ne=ae===ca?te:D.value[ca],se=[].concat(Be(Q),Be(ne)),de={checked:se,sourceChecked:Q,targetChecked:ne,type:ae};p.value=se,(le=e.onCheckedChange)===null||le===void 0||le.call(e,de)},q=function(te){var ae=JSON.parse(JSON.stringify(m.value)),le,Q=te===ca?D.value[Na]:D.value[ca];if(te===Na)le=ae.filter(function(de){return!Q.includes(de)});else if(e.targetSort==="original"){var ne=w.value.reduce(function(de,he){return ae.includes(he.value)&&he.disabled?de.concat(he.value):de},[]);le=ng(w.value,ae.concat(Q),{isTreeMode:b.value,remainValue:ne})}else e.targetSort==="unshift"?le=Q.concat(ae):le=ae.concat(Q);U([],te===Na?ca:Na);var se={type:te,movedValue:Q};h(le,se)},Z=function(){q(ca)},z=function(){q(Na)},ie=function(te,ae){var le,Q=te.target,ne=Q.scrollHeight-Q.scrollTop-Q.clientHeight,se={e:te,bottomDistance:ne,type:ae};(le=e.onScroll)===null||le===void 0||le.call(e,se)},ee=function(te){var ae;(ae=e.onSearch)===null||ae===void 0||ae.call(e,te)},K=function(te,ae){var le;(le=e.onPageChange)===null||le===void 0||le.call(e,te,{type:ae})},J=function(te,ae){h(te,{type:ca,movedValue:ae})},$=function(te){var ae=bl(i,["title","empty","footer","operation","transferItem","default","tree"]);return x(eCe,{checkboxProps:e.checkboxProps,transferItem:e.transferItem,"list-type":te,title:F.value[te],"data-source":te===Na?E.value:P.value,"checked-value":D.value[te],disabled:N.value[te],search:V.value[te],pagination:W.value[te],"check-all":H.value[te],footer:A.value[te],empty:j.value[te],onCheckedChange:function(Q){return U(Q,te)},onScroll:function(Q){return ie(Q,te)},onSearch:ee,onPageChange:function(Q){return K(Q,te)},isTreeMode:b.value,onDataChange:J,currentValue:m.value,draggable:e.targetDraggable&&te===ca},nCe(ae)?ae:{default:function(){return[ae]}})};return function(){return x("div",{class:["".concat(o.value,"-transfer"),M.value?"".concat(o.value,"-transfer__search"):"",k.value?"".concat(o.value,"-transfer__footer"):"",L.value?"".concat(o.value,"-transfer__pagination"):"",b.value?"".concat(o.value,"-transfer--with-tree"):""]},[$(Na),x(tCe,{leftDisabled:N.value[ca]||C.value||D.value[ca].length===0,rightDisabled:N.value[Na]||O.value||D.value[Na].length===0,operation:e.operation,onMoveToRight:Z,onMoveToLeft:z},{operation:i.operation}),$(ca)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var rCe=Ye(iCe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function rV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function iE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}je.extend(kp);var oCe=pe({name:"TTimePicker",props:pM,setup:function(e){var t=ft(),i=Dt("timePicker"),r=i.globalConfig,o=we("time-picker"),a=Wn(),s=a.STATUS,l=On({TimeIcon:V9}),u=l.TimeIcon,c=oe(""),d=oe(!1),f=sr(),h=rt(e),v=h.value,g=h.modelValue,p=Nn(v,g,e.defaultValue,e.onChange),m=Je(p,2),b=m[0],C=m[1],O=xi(),w=rt(e),E=w.allowInput,P=w.format,D=R(function(){return["".concat(o.value,"__group"),X({},s.value.focused,d.value)]}),k=function(F,W){var U,q;d.value=F,F?(U=e.onOpen)===null||U===void 0||U.call(e,W):(q=e.onClose)===null||q===void 0||q.call(e,W)},L=function(F){var W=F.e;W.stopPropagation(),c.value=null,C(null)},M=function(F){c.value=F},A=function(F,W){var U;if(E.value){var q=g0(c.value,P.value);q&&C(DK(c.value,P.value))}(U=e.onBlur)===null||U===void 0||U.call(e,{value:F,inputValue:W.inputValue,e:W.e})},j=function(){var F=g0(c.value,P.value);F&&C(c.value),d.value=!1},V=function(F,W){var U;c.value=F,(U=e.onPick)===null||U===void 0||U.call(e,F,{e:W})},H=R(function(){var N;return{value:d.value?c.value:(N=b.value)!==null&&N!==void 0?N:void 0}});return Pe(function(){return d.value},function(){var N;c.value=d.value&&(N=b.value)!==null&&N!==void 0?N:""}),function(){var N,F;return x("div",{class:o.value},[x(Pp,He({onFocus:e.onFocus,onClear:L,borderless:e.borderless,disabled:O.value,clearable:e.clearable,allowInput:E.value,class:D.value,label:e.label,suffixIcon:function(){return x(u,null,null)},popupVisible:!f.value&&d.value,onInputChange:M,onBlur:A,onPopupVisibleChange:k,placeholder:b.value?void 0:e.placeholder||r.value.placeholder,value:d.value?c.value:(N=b.value)!==null&&N!==void 0?N:void 0,inputValue:d.value?c.value:(F=b.value)!==null&&F!==void 0?F:void 0,inputProps:iE(iE({},e.inputProps),{},{size:e.size}),popupProps:iE({overlayInnerStyle:{width:"auto",padding:0}},e.popupProps),status:e.status,tips:e.tips,valueDisplay:function(){return t("valueDisplay",{params:H.value})}},e.selectInputProps,{panel:function(){return x(SO,{steps:e.steps,format:P.value,value:c.value,isFooterDisplay:!0,isShowPanel:d.value,disableTime:e.disableTime,onChange:V,hideDisabledTime:e.hideDisabledTime,handleConfirmClick:j,presets:e.presets},null)}}),null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var aCe={allowInput:Boolean,autoSwap:{type:Boolean,default:!0},borderless:Boolean,clearable:Boolean,disableTime:{type:Function},disabled:{type:[Boolean,Array],default:void 0},format:{type:String,default:"HH:mm:ss"},hideDisabledTime:{type:Boolean,default:!0},label:{type:[String,Function]},placeholder:{type:[String,Array],default:void 0},popupProps:{type:Object},presets:{type:Object},rangeInputProps:{type:Object},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},steps:{type:Array,default:function(){return[1,1,1]}},tips:{type:[String,Function]},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},onBlur:Function,onChange:Function,onFocus:Function,onInput:Function,onPick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function oV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function G_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}je.extend(kp);var sCe=pe({name:"TTimeRangePicker",props:G_(G_({},aCe),{},{rangeInputProps:Object,popupProps:Object}),setup:function(e){var t=we("time-range-picker"),i=Dt("timePicker"),r=i.globalConfig,o=Wn(),a=o.STATUS,s=On({TimeIcon:V9}),l=s.TimeIcon,u=xi(),c=oe(void 0),d=oe(rm),f=oe(!1),h=sr(),v=R(function(){return["".concat(t.value,"__group"),X({},a.value.focused,f.value)]}),g=rt(e),p=g.value,m=g.modelValue,b=g.allowInput,C=g.format,O=Nn(p,m,e.defaultValue,e.onChange),w=Je(O,2),E=w[0],P=w[1],D=function(U,q){if(!h.value){if(q.trigger==="trigger-element-click"){f.value=!0;return}f.value=U}},k=function(U){var q=U.e;q.stopPropagation(),d.value=rm,P(null)},L=function(U){var q=U.position;c.value=q==="first"?0:1},M=function(U,q){if(ut(U))d.value=U;else if(c.value===0){var Z;d.value=[U,(Z=d.value[1])!==null&&Z!==void 0?Z:U]}else{var z;d.value=[(z=d.value[0])!==null&&z!==void 0?z:U,U]}F(U,q)},A=function(U,q){var Z,z=q.e;if(b.value){var ie=g0(d.value[c.value],C.value);if(ie){var ee,K,J=DK(d.value[c.value],C.value);c.value===0?d.value=[J,(ee=d.value[1])!==null&&ee!==void 0?ee:J]:d.value=[(K=d.value[0])!==null&&K!==void 0?K:J,J]}}(Z=e.onBlur)===null||Z===void 0||Z.call(e,{value:U,e:z})},j=function(U,q){var Z,z=q.e,ie=q.position;d.value=U,(Z=e.onInput)===null||Z===void 0||Z.call(e,{value:E.value,e:z,position:ie==="first"?"start":"end"})},V=function(){var U=!d.value.find(function(q){return!g0(q,C.value)});U&&P(d.value),e.autoSwap&&N(),f.value=!1},H=function(U,q){var Z,z=q.e,ie=q.position;(Z=e.onFocus)===null||Z===void 0||Z.call(e,{value:U,e:z,position:ie==="first"?"start":"end"})},N=function(){var U=Je(d.value,2),q=U[0],Z=U[1],z=je(q,e.format),ie=je(Z,e.format);z.isAfter(ie,"second")?P([d.value[1],d.value[0]]):P([d.value[0],d.value[1]])},F=function(U,q){var Z,z=[],ie;if(ut(U))z=U,ie={e:q};else if(c.value===0){var ee;z=[U,(ee=d.value[1])!==null&&ee!==void 0?ee:U],ie={e:q,position:"start"}}else{var K;z=[(K=d.value[0])!==null&&K!==void 0?K:U,U],ie={e:q,position:"end"}}(Z=e.onPick)===null||Z===void 0||Z.call(e,z,ie)};return Pe(function(){return f.value},function(){var W;d.value=f.value&&(W=E.value)!==null&&W!==void 0?W:rm,f.value||(c.value=void 0)}),function(){var W,U;return x("div",{class:t.value},[x(mM,{disabled:u.value,popupVisible:f.value,popupProps:G_({overlayInnerStyle:{width:"auto",padding:0},onVisibleChange:D},e.popupProps),onInputChange:j,inputValue:f.value?d.value:(W=E.value)!==null&&W!==void 0?W:rm,rangeInputProps:G_({size:e.size,clearable:e.clearable,class:v.value,value:f.value?d.value:(U=E.value)!==null&&U!==void 0?U:void 0,placeholder:e.placeholder||[r.value.placeholder,r.value.placeholder],borderless:e.borderless,suffixIcon:function(){return x(l,null,null)},onClear:k,onClick:L,onFocus:H,onBlur:A,readonly:h.value||!b.value,activeIndex:c.value},e.rangeInputProps),label:e.label,status:e.status,tips:e.tips,panel:function(){return x(SO,{steps:e.steps,format:C.value,isShowPanel:f.value,disableTime:e.disableTime,hideDisabledTime:e.hideDisabledTime,isFooterDisplay:!0,value:d.value[c.value||0],onChange:M,onPick:F,handleConfirmClick:V,position:c.value===0?"start":"end",activeIndex:c.value,presets:e.presets},null)}},null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var lCe=Ye(oCe),uCe=Ye(sCe),cCe=Ye(SO);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function dCe(n,e,t){var i=R(function(){return Math.max(t.rowHeight||48,48)}),r=oe(!1),o=R(function(){return(t==null?void 0:t.type)==="lazy"&&!r.value}),a=!Dl&&window.requestAnimationFrame||function(l){return setTimeout(l,16.6)},s=function(){r.value||a(function(){r.value=!0})};return mt(function(){(t==null?void 0:t.type)==="lazy"&&tn(function(){var l=Math.max(10,t.bufferSize||10),u=i.value*l;Qy(e.value,n.value,s,u)})}),{hasLazyLoadHolder:o,tRowHeight:i}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wM=function(e,t){var i,r,o=oe([]),a=oe((((i=t.value.data)===null||i===void 0?void 0:i.length)||0)*(((r=t.value.scroll)===null||r===void 0?void 0:r.rowHeight)||50)),s=oe(0),l=[],u=oe(0),c=oe(0),d=oe([0,15]),f=R(function(){var E,P,D=t.value.scroll;return D?{bufferSize:D.bufferSize||10,isFixedRowHeight:(E=D.isFixedRowHeight)!==null&&E!==void 0?E:!1,rowHeight:D.rowHeight||47,threshold:D.threshold||100,type:D.type,fixedRows:(P=D.fixedRows)!==null&&P!==void 0?P:[0,0]}:{}}),h=R(function(){var E=t.value.data;return f.value.type==="virtual"&&f.value.threshold<E.length});function v(){for(var E,P,D=(E=(P=e.value)===null||P===void 0?void 0:P.scrollTop)!==null&&E!==void 0?E:0,k=f.value.fixedRows[0],L=[],M=0,A=-1,j=-1,V=0,H=0,N=t.value.data.length;H<N;H++){var F,W=(F=l[H])!==null&&F!==void 0?F:f.value.rowHeight;if(V=V+W,V>D&&A===-1&&(A=H,A-f.value.bufferSize>0&&(M=V-W-A_(L))),A===-1&&(L.push(W),L.length>f.value.bufferSize&&L.shift()),j===-1&&(V>u.value+D||H===t.value.data.length-1)&&(j=H),A!==-1&&j!==-1)break}var U=xce([A-f.value.bufferSize,0]),q=Pce([j+f.value.bufferSize,t.value.data.length]),Z=A_(l.slice(0,Math.min(U,k)));return{startIndex:U,endIndex:q,translateY:M-Z}}var g=lh(function(){var E=v(),P=E.startIndex,D=E.endIndex,k=E.translateY,L=f.value.fixedRows,M=Je(L,2),A=M[0],j=M[1],V=A?t.value.data.slice(0,A):[];A&&P<A&&(V=V.slice(0,P));var H=j?t.value.data.slice(t.value.data.length-j):[],N=D-t.value.data.length+1+(j??0);j&&N>0&&(H=H.slice(N)),d.value.join()!==[P,D].join()&&P>=0&&(a.value=k,o.value=V.concat(t.value.data.slice(P,D),H),d.value=[P,D])},100),p=function(P){var D;if(!(!h.value||!P||f.value.isFixedRowHeight||!e.value)){var k=((D=P.ref.value)===null||D===void 0?void 0:D.getBoundingClientRect().height)||f.value.rowHeight,L=P.data.VIRTUAL_SCROLL_INDEX;if(l[L]!==k){var M=k-l[L];l[L]=k,s.value=s.value+M}}},m=function(){h.value&&g()},b=function(P){var D=Je(P,1),k=D[0].contentRect;if(!t.value.preventResizeRefresh){var L=16;Math.abs(k.width-c.value)>L&&e.value&&(e.value.scrollTop=0,a.value=0),c.value=k.width,u.value=k.height}},C=function(P){P.forEach(function(D,k){D.VIRTUAL_SCROLL_INDEX=k})},O=function(P){var D=P.index,k=P.top,L=k===void 0?0:k,M=P.behavior,A=A_(l.slice(0,D+1))-L;e.value.scrollTo({top:A,behavior:M||"auto"})},w=function(P){if(O(P),!f.value.isFixedRowHeight)var D,k=(D=P.time)!==null&&D!==void 0?D:60,L=setTimeout(function(){O(P),clearTimeout(L)},k)};return Ep(R(function(){return h.value?e.value:void 0}),b),Pe(function(){return[Be(t.value.data),f.value,h.value,e.value]},function(){if(!(!h.value||!e.value)){var E=t.value.data;if(C(E),u.value=e.value.getBoundingClientRect().height,l.length!==t.value.data.length){var P=Array.from(l);P.length=t.value.data.length,P.fill(f.value.rowHeight||47),l=P}s.value=A_(l),d.value=[0,0],g()}},{immediate:!0}),Pe(function(){return u.value},function(){g()}),{visibleData:o,translateY:a,scrollHeight:s,isVirtualScroll:h,handleScroll:m,handleRowMounted:p,scrollToElement:w}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var fCe={default:void 0},hCe={name:"TTreeNode",inject:{onDrag:fCe}};function vCe(n){return Ye(n)}function ZK(n){return At}function gCe(n){return n.$slots}function rE(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"value",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"defaultValue",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"onChange",o=e.modelValue,a;return t==="value"?a=Nn(e[t],o,n[i],n[r],t):a=Gi(e[t],n[i],n[r],t),a}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Dk=function(n){return n[n.Before=-1]="Before",n[n.Inside=0]="Inside",n[n.After=1]="After",n}(Dk||{});function pCe(n){var e=n.treeItemRef,t=$n({isDragOver:!1,isDragging:!1,dropPosition:0}),i=function(f){var h,v=e.value;if(v){var g=v==null||(h=v.getBoundingClientRect)===null||h===void 0?void 0:h.call(v),p=window.scrollY+g.top,m=f.pageY,b=g.height/4,C=m-p;C<b?t.dropPosition=-1:C<g.height-b?t.dropPosition=0:t.dropPosition=1}},r=function(f,h){var v,g,p,m,b,C=n.node,O=n.treeScope,w=O.drag;if(w)switch(f){case"dragStart":t.isDragging=!0,t.dropPosition=0,(v=w.handleDragStart)===null||v===void 0||v.call(w,{node:C,dragEvent:h});break;case"dragEnd":t.isDragging=!1,t.isDragOver=!1,t.dropPosition=0,c.cancel(),(g=w.handleDragEnd)===null||g===void 0||g.call(w,{node:C,dragEvent:h});break;case"dragOver":t.isDragOver=!0,c(h),(p=w.handleDragOver)===null||p===void 0||p.call(w,{node:C,dragEvent:h});break;case"dragLeave":t.isDragOver=!1,t.dropPosition=0,c.cancel(),(m=w.handleDragLeave)===null||m===void 0||m.call(w,{node:C,dragEvent:h});break;case"drop":(b=w.handleDrop)===null||b===void 0||b.call(w,{node:C,dropPosition:t.dropPosition,dragEvent:h}),t.isDragOver=!1,c.cancel();break}},o=function(f){var h=n.node;if(h.isDraggable()){f.stopPropagation(),r("dragStart",f);try{var v;(v=f.dataTransfer)===null||v===void 0||v.setData("text/plain","")}catch{}}},a=function(f){var h=n.node;h.isDraggable()&&(f.stopPropagation(),r("dragEnd",f))},s=function(f){var h=n.node;h.isDraggable()&&(f.stopPropagation(),f.preventDefault(),r("dragOver",f))},l=function(f){var h=n.node;h.isDraggable()&&(f.stopPropagation(),r("dragLeave",f))},u=function(f){var h=n.node;h.isDraggable()&&(f.stopPropagation(),f.preventDefault(),r("drop",f))},c=lh(function(d){i(d)});return{dragStates:t,handleDragStart:o,handleDragEnd:a,handleDragOver:s,handleDragLeave:l,handleDrop:u}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function aV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mCe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wv(n,e,t){var i=Ja("on-".concat(t));t.replace(/^on/,"").toLowerCase();for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];typeof n[i]=="function"&&n[i].apply(n,o)}function XK(n,e){for(var t=[],i=n;i&&i.parentNode&&(t.push(i),i!==e);)i=i.parentNode;return t}function bCe(n,e,t){var i=XK(e,t);return i.map(function(r){var o={name:n,value:(r==null?void 0:r.getAttribute(n))||"",el:r};return o}).filter(function(r){return r.value})}function yCe(n,e,t){var i=bCe(n,e,t),r=i.pop()||null;return r}function _Ce(n,e,t){var i=XK(e,t),r=i.some(function(o){return o.classList.contains(n)});return r}function xO(n,e){var t=null,i=null,r=mCe({},e);if(typeof n=="function"){var o;i=n(r.createElement,(o=r.node)===null||o===void 0?void 0:o.getModel())}else typeof n=="string"&&(i=n);return(typeof i=="string"||i)&&(t=i),t}function wCe(n){return typeof n=="string"||typeof n=="number"}function ru(n,e){var t=null,i=null;return typeof e=="string"||typeof e=="number"?i=e:e&&wCe(e.value)&&(i=e.value),t=n.getNode(i),t}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function CCe(n){var e=n.props,t=n.context,i=n.scope,r=n.store,o=null,a=function(h){var v=h.dragEvent,g=h.node;o=g;var p={node:g.getModel(),e:v};wv(e,t,"drag-start",p)},s=function(h){var v=h.dragEvent,g=h.node;o=g;var p={node:g.getModel(),e:v};wv(e,t,"drag-end",p)},l=function(h){var v=h.dragEvent,g=h.node,p={node:g.getModel(),e:v};wv(e,t,"drag-over",p)},u=function(h){var v=h.dragEvent,g=h.node,p={node:g.getModel(),e:v};wv(e,t,"drag-leave",p)},c=function(h){var v,g=h.dragEvent,p=h.node,m=h.dropPosition;if(!(p.value===o.value||p.getParents().some(function(O){return O.value===o.value}))){var b={dropNode:p.getModel(),dragNode:o.getModel(),dropPosition:m,e:g};if(((v=e.allowDrop)===null||v===void 0?void 0:v.call(e,b))!==!1){var C=r.getNodes();C.some(function(O){return O.value===p.value?(m===Dk.Inside?o.appendTo(r,O):m===Dk.Before?p.insertBefore(o):p.insertAfter(o),!0):!1}),wv(e,t,"drop",b)}}},d={handleDragStart:a,handleDragEnd:s,handleDragOver:l,handleDragLeave:u,handleDrop:c};return i.drag=d,{drag:d}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function JK(n){var e=n,t=e.store,i=we("tree").value,r=Je(n.vmValue,2),o=r[0],a=r[1],s=Je(n.vmActived,2),l=s[0],u=s[1],c=Je(n.vmExpanded,2),d=c[0],f=c[1],h=function(O,w){var E=ru(t,O),P=e.mouseEvent,D={node:E.getModel(),e:P,trigger:"setItem"};if(P){D.trigger="node-click";var k=P.target,L=P.currentTarget;_Ce("".concat(i,"__icon"),k,L)&&(D.trigger="icon-click")}var M=E.setExpanded(w,{directly:!0});return f(M,D),D.trigger!=="setItem"&&t.replaceExpanded(d.value||[]),M},v=function(O){var w=ru(t,O);if(w.children)return h(w,!w.isExpanded())},g=function(O,w){var E=ru(t,O),P=e.mouseEvent,D={node:E.getModel(),e:P,trigger:"setItem"};P&&(D.trigger="node-click");var k=E.setActived(w,{isAction:D.trigger==="node-click",directly:!0});return u(k,D),D.trigger!=="setItem"&&t.replaceActived(l.value||[]),k},p=function(O){var w=ru(t,O);return g(w,!w.isActived())},m=function(O,w,E){var P=ru(t,O),D=E==null?void 0:E.e,k={node:P.getModel(),e:D,trigger:"setItem"};D&&(k.trigger="node-click");var L=P.setChecked(w,{isAction:k.trigger==="node-click",directly:!0});return a(L,k),k.trigger!=="setItem"&&t.replaceChecked(o.value||[]),L},b=function(O,w){var E=ru(t,O);if(E.isIndeterminate()){var P=E.hasEnableUnCheckedChild();return m(E,P,w)}return m(E,!E.isChecked(),w)};return{setExpanded:h,toggleExpanded:v,setActived:g,toggleActived:p,setChecked:m,toggleChecked:b}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function SCe(n,e){var t=rt(n),i=oe(null),r=n.treeScope,o=r.store,a=o.privateMap.get(n.itemKey),s={stateId:n.stateId,props:n,context:e,treeScope:r,refProps:t,node:a,treeItemRef:i};return{state:s}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function QK(n){var e=n.context,t=we().value,i=function(s,l){var u=n.node,c=new Event("change"),d={event:c,node:u};e.emit("change",d,l)},r=!1,o=function(s){var l,u,c=n.node,d=n.treeScope,f=d.treeProps,h=f===void 0?{}:f,v=h.expandOnClickNode,g=s.target,p=c.children&&v&&(g.className==="".concat(t,"-checkbox__input")||g.tagName.toLowerCase()==="input");if(!(r||p)){r=!0,setTimeout(function(){r=!1}),v&&c.children&&((l=g.className)===null||l===void 0||(u=l.indexOf)===null||u===void 0?void 0:u.call(l,"".concat(t,"-tree__label")))!==-1&&s.preventDefault();var m={mouseEvent:s,event:s,node:c,path:c.getPath()};e.emit("click",m)}};return{handleChange:i,handleClick:o}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function OCe(n){var e=we().value,t=we("tree").value,i=function(s){var l=On({CaretRightSmallIcon:vfe}),u=l.CaretRightSmallIcon;return x(u,null,null)},r=function(s){s.preventDefault()},o=function(s){var l=n.node,u=n.treeScope,c=u.scopedSlots,d=(u==null?void 0:u.treeProps)||{},f=d.icon,h=!1,v=null;f===!0?c!=null&&c.icon?v=c.icon({node:l==null?void 0:l.getModel()}):l.vmIsLeaf?v="":(h=!0,v=i(),l.loading&&l.expanded&&(v=x(ar,null,null))):f&&(v=xO(f,{createElement:s,node:l}));var g=x("span",{class:["".concat(t,"__icon"),"".concat(e,"-folder-icon"),h?"".concat(t,"__icon--default"):""],trigger:"expand",ignore:"active",onmousedown:r},[v]);return g};return{renderIcon:o}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function sV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xCe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}function ECe(n){var e=we().value,t=we("tree").value,i=QK(n),r=i.handleChange,o=function(s){var l=n.node,u=n.treeScope,c=u.scopedSlots,d=u.treeProps,f=d===void 0?{}:d,h=f.label,v=f.expandOnClickNode,g=(f==null?void 0:f.checkProps)||{},p=null;h===!0?c!=null&&c.label?p=c.label({node:l==null?void 0:l.getModel()}):p=l.label||"":p=xO(h,{createElement:s,node:l});var m=["".concat(t,"__label"),X({},"".concat(e,"-is-active"),l.isActivable()?l.actived:!1)],b=R(function(){var P,D=Array.isArray(l.children)&&((P=l.children)===null||P===void 0?void 0:P.length)>0,k=ur(l.children)&&l.children,L=D||k;return v&&L});if(l.vmCheckable){var C=!1;l.vmIsLocked&&!l.vmIsRest&&(C=!0),l.isDisabled()&&(C=!0);var O=lV(lV({},g),{},{disabled:C}),w=function(){return p}();p=x(_l,{class:m,checked:l.checked,indeterminate:l.indeterminate,disabled:C,name:String(l.value),onChange:r,stopLabelTrigger:b.value,ignore:f.expandOnClickNode?"active":"expand,active",props:O},xCe(p)?p:{default:function(){return[w]}})}else{var E=x("span",{style:"position: relative"},[p]);p=l.isActivable()?x("span",{key:"1",ref:"label",class:m,title:l.label},[E]):x("span",{key:"2",class:m,title:l.label},[E])}return p};return{renderLabel:o}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function PCe(n){var e=we("tree").value,t=function(r){var o=n.node,a=n.treeScope,s=a.scopedSlots,l=(a==null?void 0:a.treeProps)||{},u=l.line,c=!!l.icon,d=null;if(u===!0){if(s!=null&&s.line)d=s.line({node:o==null?void 0:o.getModel()});else if(o.parent&&o.tree){var f=o.vmIsLeaf,h=o.vmIsFirst,v=o.level,g=[];g.push("".concat(e,"__line")),(f||!c)&&g.push("".concat(e,"__line--leaf")),h&&c&&g.push("".concat(e,"__line--first"));var p=[],m=o.getParents();m.pop(),m.forEach(function(C,O){C.vmIsLast||p.push("calc(-".concat(O+1," * var(--space)) 0 var(--color)"))});var b={"--level":v?String(v):void 0,"box-shadow":p.join(",")};d=x("span",{class:g,style:b},null)}}else d=xO(u,{createElement:r,node:o});return d};return{renderLine:t}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function kCe(n){var e=we("tree").value,t=function(r){var o=n.node,a=n.treeScope,s=a.scopedSlots,l=(a==null?void 0:a.treeProps)||{},u=l.operations,c=null;return s!=null&&s.operations?c=s.operations({node:o==null?void 0:o.getModel()}):c=xO(u,{createElement:r,node:o}),c&&(c=x("span",{class:"".concat(e,"__operations"),ignore:"active,expand"},[c])),c};return{renderOperations:t}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function uV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function DCe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function TCe(n){var e=n.treeScope,t=n.treeItemRef,i=e.virtualConfig,r=e.treeContentRef,o=e.scrollProps,a=we().value,s=we("tree").value,l=QK(n),u=l.handleClick,c=OCe(n),d=c.renderIcon,f=ECe(n),h=f.renderLabel,v=PCe(n),g=v.renderLine,p=kCe(n),m=p.renderOperations,b=pCe(n),C=b.dragStates,O=b.handleDragStart,w=b.handleDragEnd,E=b.handleDragOver,P=b.handleDragLeave,D=b.handleDrop,k=dCe(r,t,$n(DCe({},o==null?void 0:o.value))),L=k.hasLazyLoadHolder,M=k.tRowHeight;function A(){var F=n.node,W=i==null?void 0:i.isVirtualScroll.value;if(W)var U=setTimeout(function(){i.handleRowMounted({ref:t,data:F}),clearTimeout(U)},100)}mt(function(){A()}),zu(function(){A()});var j=function(){var W=n.node,U=W.level,q="--level: ".concat(U,";"),Z="".concat(q);return Z},V=function(){var W=n.node,U=C.isDragOver,q=C.isDragging,Z=C.dropPosition,z=[];return z.push("".concat(s,"__item")),z.push(X(X(X({},"".concat(s,"__item--open"),W.expanded),"".concat(a,"-is-active"),W.isActivable()?W.actived:!1),"".concat(a,"-is-disabled"),W.isDisabled())),z.push(X({},"".concat(s,"__item--draggable"),W.isDraggable())),W.visible?z.push("".concat(s,"__item--visible")):z.push("".concat(s,"__item--hidden")),W.vmIsLocked&&z.push("".concat(s,"__item--locked")),W.vmIsRest&&z.push("".concat(s,"__item--matched")),z.push(X(X(X(X({},"".concat(s,"__item--dragging"),q),"".concat(s,"__item--tip-top"),U&&Z<0),"".concat(s,"__item--tip-bottom"),U&&Z>0),"".concat(s,"__item--tip-highlight"),!q&&U&&Z===0)),z},H=function(W){var U=[],q=d(W),Z=g(W);Z&&U.push(Z),q&&U.push(q);var z=h(W);z&&U.push(z);var ie=m(W);return ie&&U.push(ie),U},N=function(W){var U=n.node,q=n.props;if(!U)return null;var Z=U.level,z=U.value,ie=j(),ee=V(),K=n;K.stateId=q.stateId;var J=x("div",{ref:"treeItemRef",class:ee,"data-value":z,"data-level":Z,style:ie,onClick:function(Y){return u(Y)},draggable:U.isDraggable(),onDragstart:function(Y){return O(Y)},onDragend:function(Y){return w(Y)},onDragover:function(Y){return E(Y)},onDragleave:function(Y){return P(Y)},onDrop:function(Y){return D(Y)}},[L.value?[x("div",null,null)]:H(W)]);return J};return{hasLazyLoadHolder:L,tRowHeight:M,renderItemNode:N}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function cV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ICe={stateId:{type:String},itemKey:{type:String},rowIndex:{type:Number},treeScope:{type:Object}},LCe=pe(dV(dV({props:ICe},hCe),{},{setup:function(e,t){var i=SCe(e,t),r=i.state,o=r.treeItemRef;oe();var a=TCe(r),s=a.renderItemNode;return{treeItemRef:o,renderItemNode:s}},render:function(e){var t=ZK();return typeof this.renderItemNode=="function"?this.renderItemNode(t):null}}));/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function MCe(n){var e=n,t=e.props,i=e.context,r=JK(n),o=r.toggleExpanded,a=r.toggleActived,s=r.toggleChecked,l=function(d){var f=d.mouseEvent,h=d.event,v=d.node;if(!(!v||!f)){e.mouseEvent=f;var g=t.expandOnClickNode,p=!t.disabled&&!v.disabled&&v.isActivable();["trigger","ignore"].forEach(function(b){var C=yCe(b,h.target,h.currentTarget),O=(C==null?void 0:C.value)||"";O.indexOf("expand")>=0&&(b==="trigger"?g=!0:b==="ignore"&&(g=!1)),O.indexOf("active")>=0&&b==="ignore"&&(p=!1)}),g&&o(v),p&&a(v);var m={node:v.getModel(),e:f};wv(t,i,"click",m),e.mouseEvent=null}},u=function(d,f){var h=t.disabled,v=d.node;!v||h||v.disabled||!v.isCheckable()||s(v,f)};return{handleChange:u,handleClick:l}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function ACe(n){var e=n.store,t=n.scope,i=n.allNodes,r=n.nodes,o=n.virtualConfig,a=MCe(n),s=a.handleClick,l=a.handleChange,u=oe(!1),c=new Map,d=function(){i.value=e.getNodes()},f=function(){var m=o==null?void 0:o.isVirtualScroll.value;if(!m){var b=[],C=!1;i.value.forEach(function(O){O.visible&&(C=!0,c.set(O.value,O.value)),c.has(O.value)&&b.push(O)}),c.forEach(function(O){e.getNode(O)||c.delete(O)}),r.value=b,u.value=!C}},h=function(){var m=o==null?void 0:o.isVirtualScroll.value;if(m){var b=o.visibleData.value;r.value=b,u.value=b.length<=0}},v=function(m,b,C,O){var w=b.VIRTUAL_SCROLL_INDEX||C,E=b[iu],P=x(LCe,{key:E,rowIndex:w,stateId:O,itemKey:E,treeScope:t,onClick:s,onChange:l},null);return P},g=function(m){var b="render-".concat(new Date().getTime()),C=r.value.map(function(O,w){return v(m,O,w,b)});return C};return Pe(i,f),Pe(o.visibleData,h),d(),f(),h(),e.emitter.on("update",d),{nodesEmpty:u,renderTreeNodes:g}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function fV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function oE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function RCe(n){var e=n,t=e.props,i=e.context,r=e.allNodes,o=e.nodes,a=e.scope,s=e.treeContentRef,l=e.isScrolling,u=R(function(){return oE({rowHeight:34},t.scroll)});a.scrollProps=u;var c=R(function(){var b=r.value.filter(function(C){return C.visible});return{data:b,scroll:u.value,preventResizeRefresh:!0}}),d=wM(s,c);a.virtualConfig=d,e.virtualConfig=d,mt(function(){var b=d==null?void 0:d.isVirtualScroll.value;b&&d.handleScroll()});var f=function(C){var O;(O=t.onScroll)===null||O===void 0||O.call(t,{e:C}),i.emit("scroll",{e:C})},h=null,v=function(){l.value=!0,h&&(clearTimeout(h),h=null),h=setTimeout(function(){h=null,l.value=!1},100)},g=0,p=function(C){v();var O=d==null?void 0:d.isVirtualScroll.value,w=C.target||C.srcElement,E=w.scrollTop;g!==E?O&&(d.handleScroll(),o.value=d.visibleData.value):g=0,g=E,f(C)},m=function(C){var O=C.index;if(!O&&O!==0){var w;if(!C.key){Yt.error("Tree","scrollToElement: one of `index` or `key` must exist.");return}if(O=(w=r.value)===null||w===void 0?void 0:w.findIndex(function(E){var P;return[Ze(E.data,"key"),Ze(E.data,((P=t.keys)===null||P===void 0?void 0:P.value)||"value")].includes(C.key)}),O<0){Yt.error("Tree","".concat(C.key," does not exist in data, check `key` or `data` please."));return}}d.scrollToElement(oE(oE({},C),{},{index:O-1}))};return{treeContentRef:s,onInnerVirtualScroll:p,virtualConfig:d,scrollToElement:m}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function NCe(n,e){var t=oe(),i=oe([]),r=oe([]),o=oe(!1),a=rt(n),s=rE(n,a,"value","defaultValue","onChange","change"),l=rE(n,a,"actived","defaultActived","onActive","active"),u=rE(n,a,"expanded","defaultExpanded","onExpand","expand");function c(f){d.store=f,d.scope.store=f,r.value=f.getNodes()}var d={props:n,context:e,store:null,treeContentRef:t,nodes:i,allNodes:r,isScrolling:o,mouseEvent:null,virtualConfig:null,scope:{store:null,treeContentRef:t,treeProps:n,scopedSlots:{},virtualConfig:null},setStore:c,refProps:a,vmValue:s,vmActived:l,vmExpanded:u};return{state:d}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function FCe(n){var e=n.props,t=n.context,i=n.refProps,r=e.valueMode,o=e.filter,a=e.keys,s=new gK({valueMode:r,filter:o}),l=n.vmValue[0],u=n.vmActived[0],c=n.vmExpanded[0],d=function(){var w=bl(e,["expandAll","expandLevel","expandMutex","expandParent","activable","activeMultiple","disabled","disableCheck","checkable","draggable","checkStrictly","load","lazy","valueMode","filter","allowFoldNodeOnFilter"]);s.setConfig(w)},f=function(){var w=e.expandParent;if(Array.isArray(c.value)){var E=new Map;c.value.forEach(function(D){if(E.set(D,!0),w){var k=s.getNode(D);k&&k.getModel().getParents().forEach(function(L){E.set(L.value,!0)})}});var P=Array.from(E.keys());s.setExpanded(P)}},h=!1,v=null,g=function(){if(e.allowFoldNodeOnFilter&&h)if(h=!1,e.filter){v||(v=s.getExpanded());var w=[],E=s.getNodes();E.forEach(function(P){P.vmIsLocked&&w.push(P.value)}),s.setExpanded(w)}else v&&(s.replaceExpanded(v),v=null)},p=function(w,E){e.allowFoldNodeOnFilter&&(h=w!==E)},m=function(w){var E=w.node,P={node:E.getModel()};Array.isArray(l.value)&&l.value.length>0&&s.replaceChecked(l.value),Array.isArray(c.value)&&c.value.length>0&&s.replaceExpanded(c.value),Array.isArray(u.value)&&u.value.length>0&&s.replaceActived(u.value),e!=null&&e.onLoad&&(e==null||e.onLoad(P)),t.emit("load",P)},b=function(w){s.reload(w||[]),s.refreshNodes(),Array.isArray(l.value)&&s.setChecked(l.value),f(),Array.isArray(u.value)&&s.setActived(u.value),s.refreshState()};function C(){s.setConfig({keys:a}),d(),s.append(e.data||[]),s.refreshNodes(),Array.isArray(l.value)&&s.setChecked(l.value),f(),Array.isArray(u.value)&&s.setActived(u.value),s.emitter.on("load",m),s.emitter.on("update",g)}return C(),n.setStore(s),Pe(function(){return Be(l.value||[])},function(O){s.replaceChecked(O)}),Pe(function(){return Be(c.value||[])},function(O){s.replaceExpanded(O)}),Pe(function(){return Be(u.value||[])},function(O){s.replaceActived(O)}),Pe(i.filter,function(O,w){p(O,w)}),Pe(i.keys,function(O){s.setConfig({keys:O})}),Pe(i.expandAll,function(O){if(O){var w=s.getNodes().filter(function(E){return Array.isArray(E.children)&&E.children.length}).map(function(E){return E.value});s.setExpanded(w)}else s.replaceExpanded(v),v=null}),{store:s,rebuild:b,checkFilterExpand:p,updateStoreConfig:d,updateExpanded:f,expandFilterPath:g}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Y_(n){return n&&(isNaN(Number(n))?n:"".concat(n,"px"))}function jCe(n){var e=n.props,t=we("tree").value,i=we().value,r=n.virtualConfig,o=n.isScrolling,a=n.refProps,s=a.height,l=a.maxHeight,u=R(function(){var h=[t],v=e.disabled,g=e.hover,p=e.transition,m=e.checkable,b=e.draggable,C=e.expandOnClickNode,O=e.scroll;v&&h.push("".concat(i,"-is-disabled")),g&&h.push("".concat(t,"--hoverable")),m&&h.push("".concat(t,"--checkable")),b&&h.push("".concat(t,"--draggable")),p&&h.push("".concat(t,"--transition")),C&&h.push("".concat(t,"--block-node"));var w=r==null?void 0:r.isVirtualScroll.value;return w?(h.push("".concat(t,"__vscroll")),o.value&&h.push("".concat(t,"--scrolling"))):O&&O.type==="lazy"&&h.push("".concat(t,"__lazyload")),h}),c=R(function(){return{height:Y_(s.value),maxHeight:Y_(l.value),overflowY:Y_(s.value)||Y_(l.value)?"auto":void 0}}),d=R(function(){var h=r==null?void 0:r.isVirtualScroll.value,v=h?r==null?void 0:r.translateY.value:0,g="translateY(".concat(v,"px)"),p={transform:g,"-ms-transform":g,"-moz-transform":g,"-webkit-transform":g};return p}),f=R(function(){var h=r==null?void 0:r.isVirtualScroll.value,v=h?r==null?void 0:r.translateY.value:0,g="translate(0, ".concat(v,"px)");return{transform:g,"-ms-transform":g,"-moz-transform":g,"-webkit-transform":g}});return{treeClasses:u,treeContentStyles:c,scrollStyles:d,cursorStyles:f}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var HCe={activable:Boolean,activeMultiple:Boolean,actived:{type:Array,default:void 0},defaultActived:{type:Array},allowDrop:{type:Function},allowFoldNodeOnFilter:Boolean,checkProps:{type:Object},checkStrictly:Boolean,checkable:Boolean,data:{type:Array,default:function(){return[]}},disableCheck:{type:[Boolean,Function],default:!1},disabled:Boolean,draggable:Boolean,empty:{type:[String,Function],default:""},expandAll:Boolean,expandLevel:{type:Number,default:0},expandMutex:Boolean,expandOnClickNode:Boolean,expandParent:Boolean,expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:function(){return[]}},filter:{type:Function},height:{type:[String,Number]},hover:Boolean,icon:{type:[Boolean,Function],default:!0},keys:{type:Object},label:{type:[String,Boolean,Function],default:!0},lazy:{type:Boolean,default:!0},line:{type:[Boolean,Function],default:!1},load:{type:Function},maxHeight:{type:[String,Number]},operations:{type:Function},scroll:{type:Object},transition:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueMode:{type:String,default:"onlyLeaf",validator:function(e){return e?["onlyLeaf","parentFirst","all"].includes(e):!0}},onActive:Function,onChange:Function,onClick:Function,onDragEnd:Function,onDragLeave:Function,onDragOver:Function,onDragStart:Function,onDrop:Function,onExpand:Function,onLoad:Function,onScroll:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function hV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function BCe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var $Ce=pe({name:"TTree",model:{prop:"value",event:"change"},props:aE({},HCe),setup:function(e,t){var i=Dt("tree"),r=i.t,o=i.global,a=we(),s=we("tree"),l=NCe(e,t),u=l.state,c=u.treeContentRef,d=u.isScrolling,f=FCe(u),h=f.store,v=f.updateStoreConfig,g=f.rebuild;CCe(u);var p=JK(u),m=p.setActived,b=p.setExpanded,C=p.setChecked,O=RCe(u),w=O.onInnerVirtualScroll,E=O.virtualConfig,P=O.scrollToElement,D=ACe(u),k=D.renderTreeNodes,L=D.nodesEmpty,M=jCe(u),A=M.treeClasses,j=M.treeContentStyles,V=M.scrollStyles,H=M.cursorStyles;return{t:r,global:o,classPrefix:a,componentName:s,state:u,store:h,treeClasses:A,treeContentRef:c,rebuild:g,updateStoreConfig:v,setActived:m,setExpanded:b,setChecked:C,renderTreeNodes:k,nodesEmpty:L,isScrolling:d,onInnerVirtualScroll:w,treeContentStyles:j,scrollStyles:V,cursorStyles:H,virtualConfig:E,scrollToElement:P,scrollTo:P}},watch:{data:function(e){this.rebuild(e)}},methods:{refresh:function(){this.store.refreshState()},setItem:function(e,t){var i=this,r=this.store.getNode(e),o=t,a=Object.keys(o);r&&o&&(["expanded","actived","checked"].forEach(function(s){if(a.includes(s)){var l=o[s];delete o[s];var u="set".concat(JC(s)),c=i[u];qe(c)&&c.call(i,r,l)}}),r.set(o))},getItem:function(e){var t=this.store.getNode(e);return t==null?void 0:t.getModel()},getItems:function(e){var t=this.store.getNodes(e);return t.map(function(i){return i.getModel()})},appendTo:function(e,t){var i=this.store,r=[];Array.isArray(t)?r=t:r=[t],r.forEach(function(o){var a=(o==null?void 0:o.value)||"",s=ru(i,a);s?i.appendNodes(e,s):i.appendNodes(e,o)})},insertBefore:function(e,t){var i=this.store,r=(t==null?void 0:t.value)||"",o=ru(i,r);o?i.insertBefore(e,o):i.insertBefore(e,t)},insertAfter:function(e,t){var i=this.store,r=(t==null?void 0:t.value)||"",o=ru(i,r);o?i.insertAfter(e,o):i.insertAfter(e,t)},remove:function(e){return this.store.remove(e)},getIndex:function(e){return this.store.getNodeIndex(e)},getParent:function(e){var t=this.store.getParent(e);return t==null?void 0:t.getModel()},getParents:function(e){var t=this.store.getParents(e);return t.map(function(i){return i.getModel()})},getPath:function(e){var t=this.store.getNode(e),i=[];return t&&(i=t.getPath().map(function(r){return r.getModel()})),i},getTreeData:function(e){var t=[];if(e){var i=this.store.getNode(e);if(!i)return[];t=this.store.getNodes(e)}else t=this.store.getNodes();var r={},o=[];return t.forEach(function(a){var s=a.value,l=aE(aE({},a.data),{},{value:s});l.children!==!0&&delete l.children,r[s]=l;var u=a.getParent();if(!u)o.push(l);else{var c=r[u.value];c?(Array.isArray(c.children)||(c.children=[]),c.children.push(l)):o.push(l)}}),o}},render:function(e){var t,i,r,o,a=this.state,s=this.treeClasses,l=this.updateStoreConfig,u=this.renderTreeNodes,c=this.nodesEmpty,d=this.isScrolling,f=this.virtualConfig,h=this.treeContentStyles,v=this.scrollStyles,g=this.cursorStyles,p=ZK(),m=a.scope,b=a.allNodes,C=a.refProps;m.scopedSlots=gCe(this),l();var O=u(p),w=this.componentName,E=f.isVirtualScroll.value,P=null;if(c){var D=!this.empty&&!this.$slots.empty,k=D?this.t(this.global.empty):ek(this,"empty");P=x("div",{class:"".concat(w,"__empty")},[k])}else O.length<=0&&(P=x("div",null,null));var L=this.$props,M=L.transition,A=null;!M||E&&d?A=x("div",{class:"".concat(w,"__list"),style:v},[O]):A=x(qz,{tag:"div",class:"".concat(w,"__list"),"enter-active-class":"".concat(w,"__item--enter-active"),"leave-active-class":"".concat(w,"__item--leave-active"),style:v},BCe(O)?O:{default:function(){return[O]}});var j=((t=(i=b.value)===null||i===void 0?void 0:i.filter(function(F){return F.visible}).length)!==null&&t!==void 0?t:0)*((r=(o=C.scroll.value)===null||o===void 0?void 0:o.rowHeight)!==null&&r!==void 0?r:34),V={width:"1px",height:"1px",opacity:0,pointerEvents:"none",position:"absolute",left:0,top:"".concat(j,"px")},H=x("div",{style:V},null),N=x("div",{class:s,ref:"treeContentRef",onScroll:this.onInnerVirtualScroll,style:h},[E&&x("div",{class:"".concat(w,"__vscroll-cursor"),style:g},null),P||A,E&&H]);return N}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var e7=vCe($Ce);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var VCe={autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},data:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:void 0},empty:{type:[String,Function],default:""},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},loading:Boolean,loadingText:{type:[String,Function],default:""},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},selectInputProps:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tagProps:{type:Object},treeProps:{type:Object},value:{type:[String,Number,Object,Array],default:void 0},modelValue:{type:[String,Number,Object,Array],default:void 0},defaultValue:{type:[String,Number,Object,Array]},valueDisplay:{type:Function},valueType:{type:String,default:"value",validator:function(e){return e?["value","object"].includes(e):!0}},onBlur:Function,onChange:Function,onClear:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function WCe(n,e,t,i){var r=e;if(r!=null&&kn(r)==="object"){var o;r=(o=r)===null||o===void 0?void 0:o[t]}if(r==null)return[];function a(s,l){var u=null;return s.some(function(c){var d=[].concat(Be(l),[c[t]]);return c[t]===r?(u=l,!0):!!(Array.isArray(c[i])&&c[i].length&&(u=a(c[i],d),u!==null))}),u}return a(n,[])||[]}function vV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ld(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var zCe=pe({name:"TTreeSelect",props:VCe,setup:function(e,t){var i=t.slots,r=t.expose,o=ft(),a=us(),s=we(),l=Dt("treeSelect"),u=l.globalConfig,c=xi(),d=sr(),f=oe(null),h=oe([]),v=oe([]),g=oe(null),p=oe(0),m=rt(e),b=m.value,C=m.modelValue,O=m.popupVisible,w=m.inputValue,E=Nn(b,C,e.defaultValue,e.onChange),P=Je(E,2),D=P[0],k=P[1],L=Gi(O,!1,e.onPopupVisibleChange,"popupVisible"),M=Je(L,2),A=M[0],j=M[1],V=Gi(w,e.defaultInputValue,e.onInputChange,"inputValue"),H=Je(V,2),N=H[0],F=H[1],W=function(){var Oe=function(lt){return WCe(e.data,lt,Y.value,te.value)},ke=[];D.value&&(Array.isArray(D.value)&&e.multiple?ke=D.value.flatMap(Oe):!Array.isArray(D.value)&&!e.multiple&&(ke=Oe(D.value))),v.value=Array.from(new Set([].concat(Be(v.value),Be(ke))))};Pe(D,Vi(dn.mark(function me(){return dn.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,Te();case 2:e.multiple||(h.value=g.value?[g.value.value]:[]),W();case 4:case"end":return ke.stop()}},me)}))),Pe(function(){return e.data},Vi(dn.mark(function me(){return dn.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,Te();case 2:Ae();case 3:case"end":return ke.stop()}},me)})),{deep:!0});var U=R(function(){var me=N.value||"";return me===""?null:function(Oe){if(qe(e.filter)){var ke=e.filter(String(me),Oe);if(ur(ke))return ke}return Oe.data[$.value].indexOf(me)>=0}}),q=R(function(){return c.value||e.disabled}),Z=R(function(){var me;return A.value&&((me=g.value)===null||me===void 0?void 0:me.label)||e.placeholder||u.value.placeholder}),z=R(function(){return["".concat(s.value,"-select__dropdown"),"narrow-scrollbar"]}),ie=R(function(){return{small:"s",medium:"m",large:"l"}[e.size]}),ee=R(function(){return e.valueType==="object"}),K=R(function(){return e.multiple?ee.value?ut(D.value)?D.value.map(function(me){return me.value}):[]:ut(D.value)?D.value.map(function(me){return me}):[]:[]}),J=R(function(){return e.multiple&&!!e.max&&ut(D.value)&&e.max<=D.value.length}),$=R(function(){var me;return!jo(e.treeProps)&&!jo(e.treeProps.keys)?e.treeProps.keys.label||"label":((me=e.keys)===null||me===void 0?void 0:me.label)||"label"}),Y=R(function(){var me;return!jo(e.treeProps)&&!jo(e.treeProps.keys)?e.treeProps.keys.value||"value":((me=e.keys)===null||me===void 0?void 0:me.value)||"value"}),te=R(function(){var me;return!jo(e.treeProps)&&!jo(e.treeProps.keys)?e.treeProps.keys.children||"children":((me=e.keys)===null||me===void 0?void 0:me.children)||"children"});mt(Vi(dn.mark(function me(){var Oe;return dn.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:W(),!D.value&&e.defaultValue&&ae(e.defaultValue,null,"uncheck"),ee.value?h.value=ut(D.value)?D.value.map(function(lt){return lt==null?void 0:lt.value}):[(Oe=D.value)===null||Oe===void 0?void 0:Oe.value]:h.value=ut(D.value)?D.value:[D.value],Te();case 4:case"end":return Ve.stop()}},me)})));var ae=function(Oe,ke,Ve){k(Oe,{node:ke,trigger:Ve}),Te()},le=function(Oe){var ke,Ve=e.multiple?[]:"";h.value=[],ae(Ve,null,"clear"),(ke=e.onClear)===null||ke===void 0||ke.call(e,{e:Oe.e})},Q=function(Oe,ke){var Ve=Oe;ee.value&&(Ve=Oe.map(Me)),ae(Ve,ke.node,"check")},ne=function(Oe,ke){if(e.multiple||j(!1,ke),!(e.multiple||!ke.node.actived)&&D.value!==ke.node.data[Y.value]){var Ve=Oe;if(ee.value){var lt=jo(Oe)?"":Oe[0];Ve=Me(lt)}else Ve=jo(Oe)?"":Oe[0];ae(Ve,ke.node,"check"),h.value=Oe}},se=function(Oe){v.value=Oe},de=function(){Te()},he=function(Oe){var ke;if(!A.value){var Ve;(Ve=e.onSearch)===null||Ve===void 0||Ve.call(e,String(Oe));return}F(Oe),(ke=e.onSearch)===null||ke===void 0||ke.call(e,String(Oe))},ge=function(Oe,ke){var Ve,lt=ke.trigger,Ge=ke.index;["tag-remove","backspace"].includes(lt)&&ut(D.value)&&D.value.splice(Ge,1),(Ve=e.onRemove)===null||Ve===void 0||Ve.call(e,{value:Oe,data:null,e:ke&&ke.e}),ae(D.value,null,lt)},Se=function(Oe,ke){j(Oe,ke),Oe&&ke.trigger==="trigger-element-click"&&F("")},Te=function(){var me=Vi(dn.mark(function Oe(){return dn.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:e.multiple?e.multiple?ut(D.value)?g.value=xe():g.value=[]:g.value=null:D.value||D.value===0?g.value=Ce():g.value="";case 1:case"end":return Ve.stop()}},Oe)}));return function(){return me.apply(this,arguments)}}(),Ce=function(){var Oe=ee.value?D.value.value:D.value;return Me(Oe)},xe=function(){return D.value.map(function(Oe){var ke=ee.value?Oe.value:Oe;return Me(ke)})},Me=function(Oe){if(f.value){var ke=f.value.getItem(Oe);if(ke)return Ld(Ld({},ke.data),{},{label:ke.data[$.value],value:ke.data[Y.value]})}var Ve=Re(e.data,Oe);return Ve||{label:Oe,value:Oe}},Re=function(Oe,ke){for(var Ve=0,lt=Oe.length;Ve<lt;Ve++){var Ge=Oe[Ve];if(Ge[Y.value]===ke)return Ld(Ld({},Ge),{},{label:Ge[$.value],value:Ge[Y.value]});if(Ge!=null&&Ge[te.value]){var $e=Re(Ge==null?void 0:Ge[te.value],ke);if(!ah($e))return $e}}return null},Ae=function(){p.value+=1},De=function(){return Du(x(e7,He({ref:f,key:p.value,value:Be(K.value),hover:!0,keys:e.keys,data:e.data,activable:!e.multiple,checkable:e.multiple,disabled:q.value||J.value,size:e.size,filter:U.value,icon:!U.value,actived:h.value,expanded:v.value,activeMultiple:e.multiple,onChange:Q,onActive:ne,onExpand:se,onLoad:de,expandOnClickNode:!1},e.treeProps),{empty:function(){return a("empty",{defaultNode:x("div",{class:"".concat(s.value,"-select__empty")},[u.value.empty])})}}),[[ld,!e.loading]])},Ee=function(){return x(df,{isActive:A.value,disabled:e.disabled,overlayClassName:X(X({},"".concat(s.value,"-fake-arrow--highlight"),A.value),"".concat(s.value,"-fake-arrow--disable"),e.disabled)},null)};return r({treeRef:f}),function(){return x(Pp,He({class:"".concat(s.value,"-tree-select"),value:g.value,inputValue:A.value?N.value:"",popupVisible:A.value,disabled:q.value,multiple:e.multiple,loading:e.loading,clearable:e.clearable,autoWidth:e.autoWidth,borderless:e.borderless,readonly:d.value,placeholder:Z.value,allowInput:e.filterable||qe(e.filter),minCollapsedNum:e.minCollapsedNum,"collapsed-items":e.collapsedItems,popupProps:Ld({overlayClassName:z.value},e.popupProps),inputProps:Ld({size:e.size},e.inputProps),tagInputProps:{size:e.size},tagProps:Ld({maxWidth:300},e.tagProps),label:function(){return o("prefixIcon")},suffix:e.suffix,suffixIcon:function(){return e.suffixIcon||i.suffixIcon?o("suffixIcon"):Ee()},onClear:le,onBlur:function(Oe,ke){var Ve;(Ve=e.onBlur)===null||Ve===void 0||Ve.call(e,{value:D.value,e:ke.e})},onFocus:function(Oe,ke){var Ve;(Ve=e.onFocus)===null||Ve===void 0||Ve.call(e,{value:D.value,e:ke.e})},valueDisplay:function(){return o("valueDisplay",{params:e.multiple?{value:g.value,onClose:function(ke){var Ve=g.value.map(function(lt){return lt.value});ge(Ve,{trigger:"tag-remove",index:ke,item:Ve[ke]})}}:{value:g.value||X(X({},$.value,""),Y.value,void 0)}})},onInputChange:he,onTagChange:ge,onPopupVisibleChange:Se},e.selectInputProps),{suffix:i.suffix,panel:function(){return x("div",{class:["".concat(s.value,"-select__dropdown-inner"),"".concat(s.value,"-select__dropdown-inner--size-").concat(ie.value)]},[o("panelTopContent"),Du(x("p",{class:["".concat(s.value,"-select-loading-tips"),"".concat(s.value,"-select__right-icon-polyfill")]},[a("loadingText",{defaultNode:x("div",{class:"".concat(s.value,"-select__empty")},[u.value.loadingText])})]),[[ld,e.loading&&!q.value]]),De(),o("panelBottomContent")])},collapsedItems:i.collapsedItems})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var UCe=Ye(zCe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Dp={borderless:Boolean,clearable:Boolean,closeBtn:{type:[String,Boolean,Function],default:!0},colorModes:{type:Array,default:function(){return["monochrome","linear-gradient"]}},disabled:Boolean,enableAlpha:Boolean,enableMultipleGradient:{type:Boolean,default:!0},format:{type:String,default:"RGB",validator:function(e){return e?["RGB","RGBA","HSL","HSLA","HSB","HSV","HSVA","HEX","CMYK","CSS"].includes(e):!0}},inputProps:{type:Object},multiple:Boolean,popupProps:{type:Object},recentColors:{type:Array,default:void 0},defaultRecentColors:{type:Array,default:function(){return[]}},selectInputProps:{type:Object},showPrimaryColorPreview:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},swatchColors:{type:Array},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},onChange:Function,onClear:Function,onPaletteBarChange:Function,onRecentColorsChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var gV=100,pV={monochrome:"singleColor","linear-gradient":"gradientColor"},KCe="#001F97",mV="linear-gradient(90deg, rgba(241,29,0,1) 0%, rgba(73,106,220,1) 100%);",qCe=["#ECF2FE","#D4E3FC","#BBD3FB","#96BBF8","#699EF5","#4787F0","#266FE8","#0052D9","#0034B5","#001F97","#FDECEE","#F9D7D9","#F8B9BE","#F78D94","#F36D78","#E34D59","#C9353F","#B11F26","#951114","#680506","#FEF3E6","#F9E0C7","#F7C797","#F2995F","#ED7B2F","#D35A21","#BA431B","#9E3610","#842B0B","#5A1907","#E8F8F2","#BCEBDC","#85DBBE","#48C79C","#00A870","#078D5C","#067945","#056334","#044F2A","#033017"],GCe=["HEX","RGB","HSL","HSV","CMYK","CSS"],bV=230,yV=168,_V=186,sE=176;/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var YCe="color-picker",Bs=function(e){var t=we(YCe);return R(function(){return t.value})};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function wV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function CV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SV(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var ZCe=pe({name:"PanelHeader",props:CV(CV({},Dp),{},{mode:{type:String,default:"color"},togglePopup:{type:Function},onModeChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=Dt("colorPicker"),i=t.globalConfig,r=Bs(),o=oe(e.mode),a=function(l){return e.onModeChange(l)};return Pe(function(){return e.mode},function(s){return o.value=s}),function(){var s,l;return((l=e.colorModes)===null||l===void 0?void 0:l.length)===1?null:x("div",{class:"".concat(r.value,"__head")},[x("div",{class:"".concat(r.value,"__mode")},[x(OO,{variant:"default-filled",size:"small",modelValue:o.value,"onUpdate:modelValue":function(c){return o.value=c},onChange:a},SV(s=Object.keys(pV).map(function(u){var c;return x(_M,{key:u,value:u},SV(c=Reflect.get(i.value,pV[u]))?c:{default:function(){return[c]}})}))?s:{default:function(){return[s]}})])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var XCe=function(e,t,i){var r=0,o=0,a=0,s=0,l=parseInt("".concat(e).replace(/\s/g,""),10),u=parseInt("".concat(t).replace(/\s/g,""),10),c=parseInt("".concat(i).replace(/\s/g,""),10);if(l===0&&u===0&&c===0)return s=1,[0,0,0,1];r=1-l/255,o=1-u/255,a=1-c/255;var d=Math.min(r,Math.min(o,a));return r=(r-d)/(1-d),o=(o-d)/(1-d),a=(a-d)/(1-d),s=d,[r,o,a,s]},JCe=function(e,t,i,r){var o=e/100,a=t/100,s=i/100,l=r/100;o=o*(1-l)+l,a=a*(1-l)+l,s=s*(1-l)+l;var u=1-o,c=1-a,d=1-s;return u=Math.round(255*u),c=Math.round(255*c),d=Math.round(255*d),{r:u,g:c,b:d}},QCe=/cmyk\((\d+%?),(\d+%?),(\d+%?),(\d+%?)\)/,Z_=function(e){return Math.max(0,Math.min(255,parseInt(e,10)))},e0e=function(e){if(/cmyk/i.test(e)){var t=e.replace(/\s/g,""),i=t.match(QCe),r=Z_(i[1]),o=Z_(i[2]),a=Z_(i[3]),s=Z_(i[4]),l=JCe(r,o,a,s),u=l.r,c=l.g,d=l.b;return"rgb(".concat(u,", ").concat(c,", ").concat(d,")")}return e},tv=function(e,t){for(var i="",r=0;r<e.length;r++)kt(e[r])?i+=e[r]:i+=e[r].source;return new RegExp(i,t)},t0e=function(){var e="gi",t=/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,i=/to\s+((?:(?:left|right|top|bottom)(?:\s+(?:top|bottom|left|right))?))/,r=/\s*,\s*/,o=/#(?:[a-f0-9]{6}|[a-f0-9]{3})/,a=/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*\)/,s=/\(\s*(?:\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.?\d+\)/,l=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,u=/[_a-z-][_a-z0-9-]*/,c=tv(["(?:",o,"|","(?:rgb|hsl)",a,"|","(?:rgba|hsla)",s,"|",u,")"],""),d=tv([c,"(?:\\s+",l,"(?:\\s+",l,")?)?"],""),f=tv(["(?:",d,r,")*",d],""),h=tv(["(?:(",t,")|",i,")"],""),v=tv(["(?:(",h,")",r,")?(",f,")"],e),g=tv(["\\s*(",c,")","(?:\\s+","(",l,"))?","(?:",r,"\\s*)?"],e);return{gradientSearch:v,colorStopSearch:g}},n0e=function(e,t){var i,r,o;e.gradientSearch.lastIndex=0;var a=e.gradientSearch.exec(t);if(!e0(a))for(i={original:a[0],colorStopList:[]},a[1]&&(i.line=a[1]),a[2]&&(i.angle=a[2]),a[3]&&(i.sideCorner=a[3]),e.colorStopSearch.lastIndex=0,r=e.colorStopSearch.exec(a[4]);!e0(r);)o={color:r[1]},r[2]&&(o.position=r[2]),i.colorStopList.push(o),r=e.colorStopSearch.exec(a[4]);return i},i0e=t0e(),OV=/.*gradient\s*\(((?:\([^)]*\)|[^)(]*)*)\)/gim,t7=function(e){return OV.lastIndex=0,OV.exec(e)},r0e={top:0,right:90,bottom:180,left:270,"top left":225,"left top":225,"top right":135,"right top":135,"bottom left":315,"left bottom":315,"bottom right":45,"right bottom":45},w0=function(e){var t=t7(e);if(!t)return!1;var i={points:[],degree:0},r=n0e(i0e,t[1]);if(r.original.trim()!==t[1].trim())return!1;var o=r.colorStopList.map(function(s){var l=s.color,u=s.position,c=Object.create(null);return c.color=Pt(l).toRgbString(),c.left=parseFloat(u),c});i.points=o;var a=parseInt(r.angle,10);return Number.isNaN(a)&&(a=r0e[r.sideCorner]||90),i.degree=a,i},Tk;function xV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function EV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Sr=Math.round,lE=function(e){return Pt(e).toRgb()},o0e=function(e){return Pt(e).toHsv()},a0e=function(e){return Pt(e).toHsl()},C0=function(e){var t=e.points,i=e.degree,r=t.sort(function(o,a){return o.left-a.left}).map(function(o){return"".concat(o.color," ").concat(Math.round(o.left*100)/100,"%")});return"linear-gradient(".concat(i,"deg,").concat(r.join(","),")")},s0e=function(){return(1+Math.random()*4294967295).toString(16)},n7=function(e,t){return{id:s0e(),left:e,color:t}},ks=function(){function n(e){Zu(this,n),X(this,"states",{s:100,v:100,h:100,a:1}),X(this,"originColor",void 0),X(this,"isGradient",void 0),X(this,"gradientStates",{colors:[],degree:0,selectedId:null,css:""}),this.update(e)}return Xu(n,[{key:"update",value:function(t){if(t!==this.originColor){var i=w0(t);if(this.isGradient&&!i){var r=Pt(t).toHsv();this.states=r,this.updateCurrentGradientColor();return}this.originColor=t,this.isGradient=!1;var o=t;if(i){var a,s;this.isGradient=!0;var l=i,u=l.points.map(function(c){return n7(c.left,c.color)});this.gradientStates={colors:u,degree:l.degree,selectedId:((a=u[0])===null||a===void 0?void 0:a.id)||null},this.gradientStates.css=this.linearGradient,o=(s=this.gradientSelectedPoint)===null||s===void 0?void 0:s.color}this.updateStates(o)}}},{key:"saturation",get:function(){return this.states.s},set:function(t){this.states.s=Math.max(0,Math.min(100,t)),this.updateCurrentGradientColor()}},{key:"value",get:function(){return this.states.v},set:function(t){this.states.v=Math.max(0,Math.min(100,t)),this.updateCurrentGradientColor()}},{key:"hue",get:function(){return this.states.h},set:function(t){this.states.h=Math.max(0,Math.min(360,t)),this.updateCurrentGradientColor()}},{key:"alpha",get:function(){return this.states.a},set:function(t){this.states.a=Math.max(0,Math.min(1,Math.round(t*100)/100)),this.updateCurrentGradientColor()}},{key:"rgb",get:function(){var t=lE(this.states),i=t.r,r=t.g,o=t.b;return"rgb(".concat(Sr(i),", ").concat(Sr(r),", ").concat(Sr(o),")")}},{key:"rgba",get:function(){var t=lE(this.states),i=t.r,r=t.g,o=t.b,a=t.a;return"rgba(".concat(Sr(i),", ").concat(Sr(r),", ").concat(Sr(o),", ").concat(a,")")}},{key:"hsv",get:function(){var t=this.getHsva(),i=t.h,r=t.s,o=t.v;return"hsv(".concat(i,", ").concat(r,"%, ").concat(o,"%)")}},{key:"hsva",get:function(){var t=this.getHsva(),i=t.h,r=t.s,o=t.v,a=t.a;return"hsva(".concat(i,", ").concat(r,"%, ").concat(o,"%, ").concat(a,")")}},{key:"hsl",get:function(){var t=this.getHsla(),i=t.h,r=t.s,o=t.l;return"hsl(".concat(i,", ").concat(r,"%, ").concat(o,"%)")}},{key:"hsla",get:function(){var t=this.getHsla(),i=t.h,r=t.s,o=t.l,a=t.a;return"hsla(".concat(i,", ").concat(r,"%, ").concat(o,"%, ").concat(a,")")}},{key:"hex",get:function(){return Pt(this.states).toHexString()}},{key:"hex8",get:function(){return Pt(this.states).toHex8String()}},{key:"cmyk",get:function(){var t=this.getCmyk(),i=t.c,r=t.m,o=t.y,a=t.k;return"cmyk(".concat(i,", ").concat(r,", ").concat(o,", ").concat(a,")")}},{key:"css",get:function(){return this.isGradient?this.linearGradient:this.rgba}},{key:"linearGradient",get:function(){var t=this.gradientColors,i=this.gradientDegree;return C0({points:t,degree:i})}},{key:"gradientColors",get:function(){return this.gradientStates.colors},set:function(t){this.gradientStates.colors=t,this.gradientStates.css=this.linearGradient}},{key:"gradientSelectedId",get:function(){return this.gradientStates.selectedId},set:function(t){var i;t!==this.gradientSelectedId&&(this.gradientStates.selectedId=t,this.updateStates((i=this.gradientSelectedPoint)===null||i===void 0?void 0:i.color))}},{key:"gradientDegree",get:function(){return this.gradientStates.degree},set:function(t){this.gradientStates.degree=Math.max(0,Math.min(360,t)),this.gradientStates.css=this.linearGradient}},{key:"gradientSelectedPoint",get:function(){var t=this.gradientColors,i=this.gradientSelectedId;return t.find(function(r){return r.id===i})}},{key:"getFormatsColorMap",value:function(){return{HEX:this.hex,CMYK:this.cmyk,RGB:this.rgb,RGBA:this.rgba,HSL:this.hsl,HSLA:this.hsla,HSV:this.hsv,HSVA:this.hsva,CSS:this.css,HEX8:this.hex8}}},{key:"updateCurrentGradientColor",value:function(){var t=this.isGradient,i=this.gradientColors,r=this.gradientSelectedId,o=i.length,a=this.gradientSelectedPoint;if(!t||o===0||!a)return!1;var s=i.findIndex(function(u){return u.id===r}),l=EV(EV({},a),{},{color:this.rgba});return i.splice(s,1,l),this.gradientColors=i.slice(),this}},{key:"updateStates",value:function(t){var i=Pt(e0e(t)),r=i.toHsv();this.states=r}},{key:"getRgba",value:function(){var t=lE(this.states),i=t.r,r=t.g,o=t.b,a=t.a;return{r:Sr(i),g:Sr(r),b:Sr(o),a}}},{key:"getCmyk",value:function(){var t=this.getRgba(),i=t.r,r=t.g,o=t.b,a=XCe(i,r,o),s=Je(a,4),l=s[0],u=s[1],c=s[2],d=s[3];return{c:Sr(l*100),m:Sr(u*100),y:Sr(c*100),k:Sr(d*100)}}},{key:"getHsva",value:function(){var t=o0e(this.states),i=t.h,r=t.s,o=t.v,a=t.a;return i=Sr(i),r=Sr(r*100),o=Sr(o*100),a*=1,{h:i,s:r,v:o,a}}},{key:"getHsla",value:function(){var t=a0e(this.states),i=t.h,r=t.s,o=t.l,a=t.a;return i=Sr(i),r=Sr(r*100),o=Sr(o*100),a*=1,{h:i,s:r,l:o,a}}},{key:"equals",value:function(t){return Pt.equals(this.rgba,t)}}],[{key:"isValid",value:function(t){return w0(t)?!0:Pt(t).isValid()}},{key:"hsva2color",value:function(t,i,r,o){return Pt({h:t,s:i,v:r,a:o}).toHsvString()}},{key:"hsla2color",value:function(t,i,r,o){return Pt({h:t,s:i,l:r,a:o}).toHslString()}},{key:"rgba2color",value:function(t,i,r,o){return Pt({r:t,g:i,b:r,a:o}).toHsvString()}},{key:"hex2color",value:function(t,i){var r=Pt(t);return r.setAlpha(i),r.toHexString()}},{key:"object2color",value:function(t,i){if(i==="CMYK"){var r=t.c,o=t.m,a=t.y,s=t.k;return"cmyk(".concat(r,", ").concat(o,", ").concat(a,", ").concat(s,")")}var l=Pt(t,{format:i});return l.toRgbString()}}])}();Tk=ks;X(ks,"isGradientColor",function(n){return!!t7(n)});X(ks,"compare",function(n,e){var t=Tk.isGradientColor(n),i=Tk.isGradientColor(e);if(t&&i){var r=C0(w0(n)),o=C0(w0(e));return r===o}return!t&&!i?Pt.equals(n,e):!1});var l0e=["alpha","css","hex","hex8","hsl","hsla","hsv","hsva","rgb","rgba","saturation","value","isGradient"],PV=function(e){if(!e)return null;var t=Object.create(null);return l0e.forEach(function(i){t[i]=e[i]}),e.isGradient&&(t.linearGradient=e.linearGradient),t};function kV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function DV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function u0e(n,e){c0e(n,e),e.add(n)}function c0e(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ig(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}var d0e={start:function(e,t){},drag:function(e,t){},end:function(e,t){}},ef=new WeakSet,i7=function(){function n(e,t){Zu(this,n),u0e(this,ef),X(this,"dragging",!1),X(this,"$el",void 0),X(this,"props",void 0),X(this,"handles",void 0),this.$el=e,this.props=DV(DV({},d0e),t),this.handles={start:ig(ef,this,f0e).bind(this),drag:ig(ef,this,h0e).bind(this),end:ig(ef,this,v0e).bind(this)},this.$el.addEventListener("mousedown",this.handles.start,!1)}return Xu(n,[{key:"destroy",value:function(){this.$el.removeEventListener("mousedown",this.handles.start,!1),window.removeEventListener("mousemove",this.handles.drag,!1),window.removeEventListener("mouseup",this.handles.end,!1),window.removeEventListener("contextmenu",this.handles.end,!1)}}])}();function f0e(n){this.dragging||(window.addEventListener("mousemove",this.handles.drag,!1),window.addEventListener("mouseup",this.handles.end,!1),window.addEventListener("contextmenu",this.handles.end,!1),this.dragging=!0,this.props.start(ig(ef,this,CM).call(this,n),n))}function h0e(n){this.dragging&&this.props.drag(ig(ef,this,CM).call(this,n),n)}function v0e(n){var e=this;setTimeout(function(){e.dragging=!1,e.props.end(ig(ef,e,CM).call(e,n),n)},0),window.removeEventListener("mousemove",this.handles.drag,!1),window.removeEventListener("mouseup",this.handles.end,!1),window.removeEventListener("contextmenu",this.handles.end,!1)}function CM(n){var e=this.$el.getBoundingClientRect(),t=n,i=t.clientX-e.left,r=t.clientY-e.top;return{y:Math.min(Math.max(0,r),e.height),x:Math.min(Math.max(0,i),e.width)}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var n_={disabled:Boolean,color:{type:Object},onChange:{type:Function,default:function(){return function(){}}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function TV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function IV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var g0e=["delete","backspace"],p0e=pe({name:"LinearGradient",inheritAttrs:!1,props:IV(IV({},n_),{},{enableMultipleGradient:{type:Boolean,default:!0}}),setup:function(e){var t=Bs(),i=Wn(),r=i.STATUS,o=r.value,a=oe(null),s=$n({left:0,width:sE}),l=oe(!1),u=oe(!1),c=oe(e.color.gradientDegree),d=oe(e.color.gradientSelectedId),f=oe(Zo(e.color.gradientColors));Pe(function(){return e.color.gradientDegree},function(P){return c.value=P}),Pe(function(){return e.color.gradientSelectedId},function(P){return d.value=P}),Pe(function(){return e.color.gradientColors},function(P){f.value=Zo(P)},{deep:!0});var h=function(D,k,L){e.disabled||e.onChange({key:D,payload:k,addUsedColor:L})},v=function(D){e.disabled||D===e.color.gradientDegree||(c.value=D,h("degree",D,!0))},g=function(D){e.disabled||(d.value=D,h("selectedId",D))},p=function(D,k){e.disabled||(f.value=D,h("colors",D,k))},m=function(D){var k=f.value.findIndex(function(A){return A.id===d.value});if(k!==-1){var L=f.value[k];D=Math.max(0,Math.min(s.width,D));var M=D/s.width*100;f.value.splice(k,1,{color:L.color,left:M,id:L.id}),p(f.value)}},b=function(D){var k=a.value.getBoundingClientRect();s.left=k.left,s.width=k.width||sE,!(l.value||e.disabled)&&(u.value=!1,l.value=!0,g(D),a.value.focus(),window.addEventListener("mousemove",C,!1),window.addEventListener("mouseup",O,!1),window.addEventListener("contextmenu",O,!1))},C=function(D){if(!(!l.value||e.disabled)){var k=D.clientX-s.left;u.value=!0,m(k)}},O=function(){l.value&&(setTimeout(function(){l.value=!1},0),u.value&&(p(f.value,!0),u.value=!1),window.removeEventListener("mousemove",C,!1),window.removeEventListener("mouseup",O,!1),window.removeEventListener("contextmenu",O,!1))},w=function(D){if(!e.disabled){var k=f.value,L=k.findIndex(function(j){return j.id===d.value}),M=k.length;if(g0e.includes(D.key.toLocaleLowerCase())&&M>2&&L>=0&&L<=M-1){k.splice(L,1),k[L]||(L=k[L+1]?L+1:k[L-1]?L-1:0);var A=k[L];p(k,!0),g(A==null?void 0:A.id)}}},E=function(D){if(!(e.disabled||!e.enableMultipleGradient)){var k=D.clientX-s.left;k=Math.max(0,Math.min(s.width,k));var L=k/s.width*100,M=n7(L,e.color.rgba);f.value.push(M),p(f.value,!0),g(M.id)}};return mt(function(){var P=a.value.getBoundingClientRect();s.left=P.left,s.width=P.width||sE}),yi(function(){window.removeEventListener("mousemove",C,!1),window.removeEventListener("mouseup",O,!1),window.removeEventListener("contextmenu",O,!1)}),function(){var P=e.color,D=P.linearGradient,k=P.gradientColors,L=C0({points:k,degree:90});return x("div",{class:"".concat(t.value,"__gradient")},[x("div",{class:"".concat(t.value,"__gradient-slider")},[x("div",{class:["".concat(t.value,"__slider"),"".concat(t.value,"--bg-alpha")],onKeyup:w,tabindex:0,ref:a},[x("ul",{class:"gradient-thumbs",onClick:E,style:{background:L}},[f.value.map(function(M){var A="".concat(Math.round(M.left*100)/100,"%");return x("li",{class:["".concat(t.value,"__thumb"),"gradient-thumbs__item",d.value===M.id?o.active:""],key:M.id,title:"".concat(M.color," ").concat(A),style:{color:M.color,left:A},onClick:function(V){return V.stopPropagation()},onMousedown:function(){return b(M.id)}},[x("span",{class:["gradient-thumbs__item-inner","".concat(t.value,"--bg-alpha")]},null)])})])])]),x("div",{class:"".concat(t.value,"__gradient-degree"),title:"".concat(c.value,"deg")},[x(Jy,{size:"small",theme:"normal",min:0,max:360,step:1,format:function(A){return"".concat(A,"°")},modelValue:c.value,"onUpdate:modelValue":function(A){return c.value=A},onBlur:v,onEnter:v,disabled:e.disabled},null)]),x("div",{class:["".concat(t.value,"__gradient-preview"),"".concat(t.value,"--bg-alpha")]},[x("span",{class:"preview-inner",style:{background:D}},null)])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var m0e=pe({name:"SaturationPanel",props:n_,setup:function(e){var t=Bs(),i=oe(null),r=oe(null),o=oe(null),a=$n({width:bV,height:yV}),s=R(function(){var f=e.color,h=f.saturation,v=f.value,g=a.width,p=a.height,m=Math.round((1-v)*p),b=Math.round(h*g);return{color:e.color.rgb,left:"".concat(b,"px"),top:"".concat(m,"px")}}),l=function(h){var v=a.width,g=a.height,p=h.x,m=h.y,b=Math.round(p/v*100),C=Math.round((1-m/g)*100);return{saturation:b,value:C}},u=function(h,v){if(!e.disabled){var g=l(h),p=g.saturation,m=g.value;e.onChange({saturation:p/100,value:m/100,addUsedColor:v})}},c=function(h){e.disabled||tn(function(){u(h,!0)})},d=R(function(){return"hsl(".concat(e.color.hue,", 100%, 50%)")});return mt(function(){a.width=i.value.offsetWidth||bV,a.height=i.value.offsetHeight||yV,o.value=new i7(i.value,{start:function(){a.width=i.value.offsetWidth,a.height=i.value.offsetHeight},drag:function(h){u(h)},end:c})}),yi(function(){o.value.destroy()}),function(){return x("div",{class:["".concat(t.value,"__saturation")],ref:i,style:{background:d.value}},[x("span",{class:["".concat(t.value,"__thumb")],role:"slider",tabindex:0,ref:r,style:s.value},null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function LV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function MV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var r7=pe({name:"ColorSlider",props:MV(MV({},n_),{},{className:{type:String,default:""},value:{type:Number,default:0},maxValue:{type:Number,default:360},railStyle:{type:Object},type:{type:String,default:"hue"}}),setup:function(e){var t=Bs(),i=oe(null),r=oe(null),o=oe(null),a=$n({width:_V}),s=R(function(){var c=a.width;if(c){var d=Math.round(e.value/e.maxValue*100);return{left:"".concat(d,"%"),color:e.color.rgb}}}),l=function(d,f){if(!e.disabled){var h=a.width,v=d.x,g=Math.round(v/h*e.maxValue*100)/100;e.onChange(g,f)}},u=function(d){e.disabled||l(d,!0)};return mt(function(){a.width=i.value.offsetWidth||_V,o.value=new i7(i.value,{start:function(){a.width=i.value.offsetWidth},drag:function(d){l(d)},end:u})}),yi(function(){o.value.destroy()}),function(){var c={background:"linear-gradient(90deg, rgba(0,0,0,.0) 0%, rgba(0,0,0,.0) 93%, ".concat(e.color.rgb," 93%, ").concat(e.color.rgb," 100%)")};return x("div",{class:["".concat(t.value,"__slider-wrapper"),"".concat(t.value,"__slider-wrapper--").concat(e.type,"-type")]},[e.type==="alpha"&&x("div",{class:"".concat(t.value,"__slider-padding"),style:c},null),x("div",{class:["".concat(t.value,"__slider"),e.className],ref:i},[x("div",{class:"".concat(t.value,"__rail"),style:e.railStyle},null),x("span",{class:["".concat(t.value,"__thumb")],role:"slider",tabindex:0,ref:r,style:s.value},null)])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var b0e=pe({name:"HueSlider",inheritAttrs:!1,props:n_,setup:function(e){var t=Bs();return function(){return x(r7,{class:"".concat(t.value,"__hue"),color:e.color,value:e.color.hue,onChange:e.onChange,disabled:e.disabled,type:"hue"},null)}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var y0e=pe({name:"AlphaSlider",inheritAttrs:!1,props:{color:{type:Object},disabled:{type:Boolean,default:!1},onChange:{type:Function,default:function(){return function(){}}}},setup:function(e){var t=Bs(),i=function(a,s){e.onChange(a/100,s)},r=R(function(){return{background:"linear-gradient(to right, rgba(0, 0, 0, 0), ".concat(e.color.rgb,")")}});return function(){return x(r7,{class:["".concat(t.value,"__alpha"),"".concat(t.value,"--bg-alpha")],color:e.color,value:e.color.alpha*100,onChange:i,"rail-style":r.value,"max-value":100,disabled:e.disabled,type:"alpha"},null)}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var _0e={RGB:[{key:"r",min:0,max:255,type:"inputNumber"},{key:"g",min:0,max:255,type:"inputNumber"},{key:"b",min:0,max:255,type:"inputNumber"}],HSV:[{key:"h",min:0,max:360,type:"inputNumber"},{key:"s",min:0,max:100,type:"inputNumber"},{key:"v",min:0,max:100,type:"inputNumber"}],HSL:[{key:"h",min:0,max:360,type:"inputNumber"},{key:"s",min:0,max:100,type:"inputNumber"},{key:"l",min:0,max:100,type:"inputNumber"}],CMYK:[{key:"c",min:0,max:255,type:"inputNumber"},{key:"m",min:0,max:255,type:"inputNumber"},{key:"y",min:0,max:255,type:"inputNumber"},{key:"k",min:0,max:255,type:"inputNumber"}],CSS:[{key:"css",type:"input",flex:3}],HEX:[{key:"hex",type:"input",flex:3}]};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function AV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var w0e=pe({name:"FormatInputs",inheritAttrs:!1,props:uE(uE({},Dp),{},{color:{type:Object},onInputChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=R(function(){var u=Be(_0e[e.format]);return e.enableAlpha&&u.push({type:"inputNumber",key:"a",min:0,max:100,format:function(d){return"".concat(d,"%")},flex:1.15}),u}),i=$n({}),r=$n({}),o=function(c){var d=e.color;return c==="encode"?{HSV:d.getHsva(),HSL:d.getHsla(),RGB:d.getRgba(),CMYK:d.getCmyk(),CSS:{css:d.css},HEX:{hex:d.hex}}:{HSV:ks.object2color(i,"HSV"),HSL:ks.object2color(i,"HSL"),RGB:ks.object2color(i,"RGB"),CMYK:ks.object2color(i,"CMYK"),CSS:i.css,HEX:i.hex}},a=function(){var c=e.format,d=e.color,f=o("encode")[c];f.a=Math.round(d.alpha*100),Object.keys(f).forEach(function(h){i[h]=f[h],r[h]=f[h]})};a();var s=lh(a,100);Pe(function(){var u=e.color,c=u.saturation,d=u.hue,f=u.value,h=u.alpha,v=u.css;return[c,d,f,h,v,e.format]},s);var l=function(c,d){if(d!==r[c]){var f=o("decode")[e.format];e.onInputChange(f,i.a/100,c,d)}};return function(){var u=uE({},e.inputProps||{});return x("div",{class:"input-group"},[t.value.map(function(c){return x("div",{class:"input-group__item",key:c.key,style:{flex:c.flex||1}},[c.type==="input"?x(Do,He(u,{align:"center",size:"small",disabled:e.disabled,modelValue:i[c.key],"onUpdate:modelValue":function(f){return i[c.key]=f},maxlength:e.format==="HEX"?9:void 0,title:i[c.key],onBlur:function(f){return l(c.key,f)},onEnter:function(f){return l(c.key,f)}}),null):x(Jy,He(u,{align:"center",size:"small",disabled:e.disabled,modelValue:i[c.key],"onUpdate:modelValue":function(f){return i[c.key]=f},title:i[c.key],min:c.min,max:c.max,step:1,format:c.format,theme:"normal",onBlur:function(f){return l(c.key,f)},onEnter:function(f){return l(c.key,f)}}),null)])})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function RV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Md(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function C0e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var S0e=pe({name:"FormatPanel",inheritAttrs:!1,props:Md(Md({},Dp),{},{color:{type:Object},onModeChange:{type:Function,default:function(){return function(){}}},onInputChange:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=Bs(),i=oe(e.format);Pe(function(){return[e.format]},function(){return i.value=e.format});var r=function(a){i.value=a,e.onModeChange(a)};return function(){var o,a=Md(Md({},e),{},{format:i.value}),s=Md({},e.selectInputProps||{});return x("div",{class:"".concat(t.value,"__format")},[x("div",{class:"".concat(t.value,"__format--item")},[x(Mu,{size:"small",class:"".concat(t.value,"__format-mode-select"),selectInputProps:Md({},s),popupProps:Md({overlayClassName:"".concat(t.value,"__select-options")},s.popupProps),modelValue:i.value,"onUpdate:modelValue":function(u){return i.value=u},onChange:r},C0e(o=GCe.map(function(l){return x(yO,{key:l,value:l,label:dde(l),style:{fontSize:"12px"}},null)}))?o:{default:function(){return[o]}})]),x("div",{class:"".concat(t.value,"__format--item")},[x(w0e,a,null)])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function NV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function FV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var jV=pe({name:"SwatchesPanel",props:FV(FV({},n_),{},{colors:{type:Array,default:function(){return[]}},title:{type:String,default:"系统色彩"},editable:{type:Boolean,default:!1},onSetColor:{type:Function,default:function(){return function(){}}},handleAddColor:{type:Function,default:function(){return function(){}}}}),setup:function(e){var t=Bs(),i=On({DeleteIcon:ZL,AddIcon:fO}),r=i.DeleteIcon,o=i.AddIcon,a=Wn(),s=a.STATUS,l=s.value,u=oe(!1),c=function(p){u.value=p},d=function(p){return e.onSetColor(p)},f=function(p){return ks.compare(p,e.color.css)},h=R(function(){return e.colors.findIndex(function(g){return f(g)})}),v=function(){var p=e.colors,m=h.value;m!==-1&&(p.splice(m,1),e.onChange(p),c(!1))};return function(){var g="".concat(t.value,"__swatches"),p=function(){return e.editable?x("div",{class:"".concat(g,"--actions")},[x("span",{role:"button",class:"".concat(t.value,"__icon"),onClick:function(){return e.handleAddColor()}},[x(o,null,null)]),e.colors.length>0?x("span",{role:"button",class:"".concat(t.value,"__icon"),onClick:function(){return v()}},[x(r,null,null)]):null]):null};return x("div",{class:g},[x("h3",{class:"".concat(g,"--title")},[x("span",null,[e.title]),p()]),x("ul",{class:["".concat(g,"--items"),"narrow-scrollbar"]},[e.colors.map(function(m){return x("li",{class:["".concat(g,"--item"),f(m)&&e.editable?l.active:""],title:m,key:m,onClick:function(){e.disabled||d(m)}},[x("div",{class:["".concat(g,"--color"),"".concat(t.value,"--bg-alpha")]},[x("span",{class:"".concat(g,"--inner"),style:{background:m}},null)])])})])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function HV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function BV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var o7=pe({name:"ColorPanel",props:BV(BV({},Dp),{},{togglePopup:{type:Function}}),setup:function(e){var t,i,r,o=Bs(),a=Wn(),s=a.STATUS,l=Dt("colorPicker"),u=l.t,c=l.globalConfig,d=s.value,f=rt(e),h=f.value,v=f.modelValue,g=f.recentColors,p=Nn(h,v,e.defaultValue,e.onChange),m=Je(p,2),b=m[0],C=m[1],O=R(function(){return E.value?mV:KCe}),w=oe(((t=e.colorModes)===null||t===void 0?void 0:t.length)!==1&&(i=b.value)!==null&&i!==void 0&&i.includes("linear-gradient")?"linear-gradient":((r=e.colorModes)===null||r===void 0?void 0:r.length)===1?e.colorModes[0]:"monochrome"),E=R(function(){return w.value==="linear-gradient"}),P=oe(new ks(b.value||O.value)),D=function(){return P.value.update(b.value||O.value)},k=oe(P.value.isGradient?"CSS":"RGB"),L=Gi(g,e.defaultRecentColors,e.onRecentColorsChange,"recentColors"),M=Je(L,2),A=M[0],j=M[1],V=function(){if(w.value==="linear-gradient")return P.value.linearGradient;var $=P.value.getFormatsColorMap();return Object.keys($).includes(e.format)?$[e.format]:P.value.css},H=function(){if(!(A.value===null||A.value===!1)){var $=Zo(A.value)||[],Y=P.value.isGradient?P.value.linearGradient:P.value.rgba,te=$.indexOf(Y);te>-1&&$.splice(te,1),$.unshift(Y),$.length>gV&&($.length=gV),N($)}},N=function($){j($)},F=function($){C(V(),{color:PV(P.value),trigger:$||"palette-saturation-brightness"})};Pe(function(){return[e.defaultValue,e.enableAlpha]},D),Pe(function(){return b.value},function(J){J!==V()&&(D(),w.value=P.value.isGradient?"linear-gradient":"monochrome")});var W=function($){w.value=$,$==="linear-gradient"?P.value.update(P.value.gradientColors.length>0?P.value.linearGradient:mV):P.value.update(P.value.rgba),F()},U=function($){return k.value=$},q=function($){var Y=$.saturation,te=$.value,ae=P.value,le=ae.saturation,Q=ae.value,ne="palette-saturation-brightness";if(te!==Q&&Y!==le)P.value.saturation=Y,P.value.value=te,ne="palette-saturation-brightness";else if(Y!==le)P.value.saturation=Y,ne="palette-saturation";else if(te!==Q)P.value.value=te,ne="palette-brightness";else return;P.value.update(P.value.rgba),F(ne)},Z=function($){var Y;P.value.hue=$,F("palette-hue-bar"),(Y=e.onPaletteBarChange)===null||Y===void 0||Y.call(e,{color:PV(P.value)})},z=function($){P.value.alpha=$,F("palette-alpha-bar")},ie=function($,Y){P.value.update($),P.value.alpha=Y,F("input")},ee=function($){var Y=$.key,te=$.payload,ae="palette-saturation-brightness";switch(Y){case"degree":P.value.gradientDegree=te,ae="input";break;case"selectedId":P.value.gradientSelectedId=te;break;case"colors":P.value.gradientColors=te;break}F(ae)},K=function($,Y){var te=ks.isGradientColor(Y);te?e.colorModes.includes("linear-gradient")?(w.value="linear-gradient",P.value.update(Y),P.value.updateCurrentGradientColor()):console.warn("该模式不支持渐变色"):w.value==="linear-gradient"?(P.value.updateStates(Y),P.value.updateCurrentGradientColor()):P.value.update(Y),F()};return function(){var J,$={color:P.value,disabled:e.disabled},Y=A.value!==null&&A.value!==!1,te=e.swatchColors;te===void 0&&(te=Be(qCe));var ae=((J=te)===null||J===void 0?void 0:J.length)>0,le=function(){return!ae&&!Y?null:x(Ft,null,[x("div",{class:"".concat(o.value,"__swatches-wrap")},[Y?x(jV,He($,{title:u(c.value.recentColorTitle),editable:!0,colors:A.value,handleAddColor:H,onSetColor:function(se){return K("used",se)},onChange:N}),null):null,ae?x(jV,He($,{title:u(c.value.swatchColorTitle),colors:te,onSetColor:function(se){return K("system",se)}}),null):null])])};return x("div",{class:["".concat(o.value,"__panel"),e.disabled?d.disabled:!1]},[x(ZCe,He(e,{mode:w.value,onModeChange:W}),null),x("div",{class:["".concat(o.value,"__body")]},[E.value?x(p0e,He($,{onChange:ee,enableMultipleGradient:e.enableMultipleGradient}),null):null,x(m0e,He($,{onChange:q}),null),x("div",{class:["".concat(o.value,"__sliders-wrapper")]},[x("div",{class:["".concat(o.value,"__sliders")]},[x(b0e,He($,{onChange:Z}),null),e.enableAlpha?x(y0e,He($,{onChange:z}),null):null]),e.showPrimaryColorPreview?x("div",{class:["".concat(o.value,"__sliders-preview"),"".concat(o.value,"--bg-alpha")]},[x("span",{class:"".concat(o.value,"__sliders-preview-inner"),style:{background:E.value?P.value.linearGradient:P.value.rgba}},null)]):null]),x(S0e,He(e,{color:P.value,format:k.value,onModeChange:U,onInputChange:ie}),null),le()])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function $V(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function VV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$V(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var O0e=pe({name:"TColorPickerPanel",inheritAttrs:!1,props:Dp,setup:function(e,t){var i=t.attrs,r=R(function(){return Lce(VV(VV({},e),i),function(a){return a!==void 0})}),o=we();return function(){return x(o7,He(r.value,{popupProps:null,"close-btn":!1,class:"".concat(o.value,"-is-inline")}),null)}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var x0e=pe({name:"DefaultTrigger",inheritAttrs:!1,props:{color:{type:String,default:""},disabled:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},inputProps:{type:Object,default:function(){return{autoWidth:!0}}},onTriggerChange:{type:Function,default:function(){return function(){}}},onTriggerClear:{type:Function,default:function(){return function(){}}},size:{type:String,default:"medium"}},setup:function(e){var t=Bs(),i=oe(e.color),r=Wn(),o=r.SIZE;Pe(function(){return[e.color]},function(){return i.value=e.color});var a=function(u){u!==e.color&&(u&&!ks.isValid(u)?i.value=e.color:i.value=u,e.onTriggerChange(i.value))},s=function(u){var c;return(c=e.onTriggerClear)===null||c===void 0?void 0:c.call(e,u)};return function(){var l={label:function(){return x("div",{class:["".concat(t.value,"__trigger--default__color"),"".concat(t.value,"--bg-alpha")]},[x("span",{class:["color-inner",X({},o.value[e.size],e.size!=="medium")],style:{background:i.value}},null)])}};return x(Do,He({borderless:e.borderless,clearable:e.clearable,size:e.size,modelValue:i.value,"onUpdate:modelValue":function(c){return i.value=c},disabled:e.disabled,onBlur:a,onChange:a,onClear:s},e.inputProps),l)}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function WV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var E0e=pe({name:"TColorPicker",props:Dp,setup:function(e){var t=Bs(),i=us(),r=oe(!1),o=function(m){return r.value=m},a=rt(e),s=a.value,l=a.modelValue,u=Nn(s,l,e.defaultValue,e.onChange),c=Je(u,2),d=c[0],f=c[1],h=oe(),v=function(m){var b;return(b=e.onClear)===null||b===void 0?void 0:b.call(e,m)},g=function(){if(e.disabled)return null;var m=cE({},e);return delete m.onChange,x(o7,He(m,{disabled:e.disabled,value:d.value,togglePopup:o,onChange:function(C,O){return f(C,O)}}),null)};return function(){var p=cE(cE({placement:"bottom-left"},e.popupProps||{}),{},{trigger:"click",attach:"body",overlayClassName:[t.value],visible:r.value,overlayInnerStyle:{padding:0},onVisibleChange:function(b,C){C.trigger==="document"&&o(!1)}});return x(Pa,He(p,{content:g}),{default:function(){return[x("div",{class:"".concat(t.value,"__trigger"),onClick:function(){return o(!r.value)},ref:h},[i("default",x(x0e,{borderless:e.borderless,color:d.value,disabled:e.disabled,clearable:e.clearable,"input-props":e.inputProps,onTriggerChange:f,onTriggerClear:v,size:e.size},null))])]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var P0e=Ye(O0e),k0e=Ye(E0e);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var D0e={alt:{type:String,default:""},content:{type:[String,Function]},default:{type:[String,Function]},hideOnLoadFailed:Boolean,icon:{type:Function},image:{type:String,default:""},imageProps:{type:Object},shape:{type:String,default:"circle",validator:function(e){return e?["circle","round"].includes(e):!0}},size:{type:String,default:""},onError:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var T0e={alt:{type:String,default:""},error:{type:[String,Function]},fallback:{type:String,default:""},fit:{type:String,default:"fill",validator:function(e){return e?["contain","cover","fill","none","scale-down"].includes(e):!0}},gallery:Boolean,lazy:Boolean,loading:{type:[String,Function]},overlayContent:{type:[String,Function]},overlayTrigger:{type:String,default:"always",validator:function(e){return e?["always","hover"].includes(e):!0}},placeholder:{type:[String,Function]},position:{type:String,default:"center"},referrerpolicy:{type:String,default:"strict-origin-when-cross-origin",validator:function(e){return e?["no-referrer","no-referrer-when-downgrade","origin","origin-when-cross-origin","same-origin","strict-origin","strict-origin-when-cross-origin","unsafe-url"].includes(e):!0}},shape:{type:String,default:"square",validator:function(e){return e?["circle","round","square"].includes(e):!0}},src:{type:[String,Object]},srcset:{type:Object},onError:Function,onLoad:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var I0e=pe({name:"TImage",props:T0e,setup:function(e){var t=oe(null),i=oe(null),r=null,o=rt(e),a=o.src,s=ft();mt(function(){var H;if((H=i.value)!==null&&H!==void 0&&H.complete&&!e.lazy&&b(),!(!e.lazy||!t.value)){var N=Qy(t.value,null,g,0);r=N}}),Ea(function(){t.value&&r&&r.unobserve(t.value)});var l=Dt("image"),u=l.classPrefix,c=l.globalConfig,d=oe(a.value);Pe([a,c],function(H){var N=Je(H,2),F=N[0],W=N[1],U=W||{},q=U.replaceImageSrc,Z=qe(q)?q(e):F;Z===d.value&&d.value||(d.value=Z)},{immediate:!0});var f=a0(d),h=f.previewUrl;Pe([h],function(){C.value=!1,p.value=!1});var v=oe(!e.lazy),g=function(){v.value=!0},p=oe(!1),m=function(N){var F;p.value=!0,(F=e.onLoad)===null||F===void 0||F.call(e,{e:N})},b=function(){var N=new Event("load");Object.defineProperty(N,"target",{value:i.value,enumerable:!0}),m(N)},C=oe(!1),O=function(N){var F;C.value=!0,(F=e.onError)===null||F===void 0||F.call(e,{e:N}),e.fallback&&(d.value=e.fallback,C.value=!1)},w=R(function(){return e.overlayTrigger==="hover"}),E=R(function(){return["".concat(u.value,"-image"),"".concat(u.value,"-image--fit-").concat(e.fit),"".concat(u.value,"-image--position-").concat(e.position)]}),P=oe(!w.value),D=function(){w.value&&(P.value=!P.value)},k=function(){var N=s("placeholder");return N?x("div",{class:"".concat(u.value,"-image__placeholder")},[N]):null},L=function(){return e.gallery?x("div",{class:"".concat(u.value,"-image__gallery-shadow")},null):null},M=function(){var N=V("overlayContent");return N?x("div",{class:["".concat(u.value,"-image__overlay-content"),!P.value&&"".concat(u.value,"-image__overlay-content--hidden")]},[N]):null};function A(){return x("picture",null,[Object.entries(e.srcset).map(function(H){var N=Je(H,2),F=N[0],W=N[1];return x("source",{type:F,srcset:W},null)}),j()])}function j(){var H=kt(d.value)?d.value:h.value;return x("img",{ref:i,src:H,onError:O,onLoad:m,class:E.value,alt:e.alt,referrerpolicy:e.referrerpolicy},null)}var V=us();return function(){return x("div",He({ref:t,class:["".concat(u.value,"-image__wrapper"),"".concat(u.value,"-image__wrapper--shape-").concat(e.shape),e.gallery&&"".concat(u.value,"-image__wrapper--gallery"),w.value&&"".concat(u.value,"-image__wrapper--need-hover")],onMouseenter:D,onMouseleave:D},br(e,["src","alt","fit","position","shape","placeholder","loading","error","overlayTrigger","overlayContent","lazy","gallery","onLoad","onError"])),[k(),L(),(C.value||!v.value)&&x("div",{class:"".concat(u.value,"-image")},null),!(C.value||!v.value)&&(e.srcset&&Object.keys(e.srcset).length?A():j()),!(C.value||!v.value)&&!p.value&&x("div",{class:"".concat(u.value,"-image__loading")},[s("loading")||x(Iu,{direction:"vertical",size:8,align:"center"},{default:function(){return[x(B9,{size:"24px"},null),kt(e.loading)?e.loading:c.value.loadingText]}})]),C.value&&x("div",{class:"".concat(u.value,"-image__error")},[V("error",{defaultNode:x(Iu,{direction:"vertical",size:8,align:"center"},{default:function(){return[x(H9,{size:"24px"},null),kt(e.error)?e.error:c.value.errorText]}})})]),M()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var wl=Ye(I0e);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function zV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var a7=pe({name:"TAvatar",props:D0e,setup:function(e){var t=we("avatar"),i=Mn(),r=ft(),o=Wn(),a=o.SIZE,s=bn("avatarGroup",void 0),l=oe(null),u=oe(null),c=oe(!0),d=oe(4),f=oe(""),h=R(function(){return e.size||(s==null?void 0:s.size)}),v=R(function(){return h.value&&!a.value[h.value]}),g=R(function(){return v.value?{width:h.value,height:h.value,"font-size":"".concat(Number.parseInt(h.value,10)/2,"px")}:{}}),p=R(function(){return v.value?{height:h.value,width:h.value}:{}}),m=R(function(){return{transform:f.value}}),b=function(w){var E,P=w.e,D=e.hideOnLoadFailed;c.value=!D,(E=e.onError)===null||E===void 0||E.call(e,{e:P})},C=function(){var w=l.value,E=u.value,P=w==null?void 0:w.offsetWidth,D=E==null?void 0:E.offsetWidth;d.value*2<P&&(f.value=D>P-d.value*2?"scale(".concat((P-d.value*2)/D,")"):"scale(1)")};return mt(function(){tn(function(){C()})}),zu(function(){tn(function(){C()})}),Pe(function(){return e.image},function(O){O&&(c.value=!0)}),function(){var O=i("default","content"),w=r("icon"),E=w&&!O,P=e.shape,D=e.image,k=e.alt,L=["".concat(t.value),a.value[h.value],X(X(X({},"".concat(t.value,"--circle"),P==="circle"),"".concat(t.value,"--round"),P==="round"),"".concat(t.value,"__icon"),!!E)];return O=x("span",{ref:u,style:dE({},m.value)},[O]),w&&(O=[w,E?"":O]),D&&c.value&&(O=x(wl,He({style:dE({},p.value),src:D,alt:k,onError:b},e.imageProps),null)),x("div",{ref:l,class:L,style:dE({},g.value)},[O])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var L0e={cascading:{type:String,default:"right-up",validator:function(e){return e?["left-up","right-up"].includes(e):!0}},collapseAvatar:{type:[String,Function]},max:{type:Number},popupProps:{type:Object},size:{type:String,default:""}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function M0e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var A0e=pe({name:"TAvatarGroup",props:L0e,setup:function(e){Xn("avatarGroup",e);var t=ft(),i=we("avatar"),r=we("avatar-group"),o=function(l){if((l==null?void 0:l.length)>e.max){var u=a(l),c=l.slice(0,e.max);return c.push(x(a7,{class:"".concat(i.value,"__collapse"),size:e.size},M0e(u)?u:{default:function(){return[u]}})),c}return l},a=function(l){return t("collapseAvatar")||"+".concat(l.length-e.max)};return function(){var s=t("default"),l=e.cascading,u=e.max,c=["".concat(r.value),X(X({},"".concat(i.value,"--offset-right"),l==="right-up"),"".concat(i.value,"--offset-left"),l==="left-up")],d=u&&u>=0?[o(T9(s))]:[s];return x("div",{class:c},[d])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var R0e=Ye(a7),N0e=Ye(A0e);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var F0e={color:{type:String,default:""},content:{type:[String,Function]},count:{type:[String,Number,Function],default:0},default:{type:[String,Function]},dot:Boolean,maxCount:{type:Number,default:99},offset:{type:Array},shape:{type:String,default:"circle",validator:function(e){return["circle","round"].includes(e)}},showZero:Boolean,size:{type:String,default:"medium",validator:function(e){return["small","medium"].includes(e)}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var j0e=pe({name:"TBadge",inheritAttrs:!1,props:F0e,setup:function(e,t){var i=t.attrs,r=Mn(),o=ft(),a=R(function(){var h=o("count");return Number.isNaN(Number(h))?h:(h=Number(e.count),h>e.maxCount?"".concat(e.maxCount,"+"):h)}),s=function(){if(!e.offset)return{};var v=Je(e.offset,2),g=v[0],p=v[1];return g=Number.isNaN(Number(g))?g:"".concat(g,"px"),p=Number.isNaN(Number(p))?p:"".concat(p,"px"),{xOffset:g,yOffset:p}},l=we(),u=we("badge"),c=R(function(){return!e.showZero&&(a.value===0||a.value==="0")}),d=R(function(){return[X(X(X(X({},"".concat(u.value,"--dot"),!!e.dot),"".concat(u.value,"--circle"),!e.dot&&e.shape==="circle"),"".concat(u.value,"--round"),!e.dot&&e.shape==="round"),"".concat(l.value,"-size-s"),e.size==="small")]}),f=R(function(){var h=s(),v=h.xOffset,g=h.yOffset;return{background:e.color,right:v,top:g}});return function(){return x("div",He({class:u.value},i),[r("default","content"),c.value?null:x("sup",{class:d.value,style:f.value},[e.dot?null:a.value])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var H0e=Ye(j0e);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var B0e={cell:{type:[String,Function]},cellAppend:{type:[String,Function]},controllerConfig:{type:[Boolean,Object],default:void 0},fillWithZero:{type:Boolean,default:void 0},firstDayOfWeek:{type:Number,validator:function(e){return e?[1,2,3,4,5,6,7].includes(e):!0}},format:{type:String,default:"YYYY-MM-DD"},head:{type:[String,Function]},isShowWeekendDefault:{type:Boolean,default:!0},mode:{type:String,default:"month",validator:function(e){return e?["month","year"].includes(e):!0}},month:{type:[String,Number]},multiple:Boolean,preventCellContextmenu:Boolean,range:{type:Array},theme:{type:String,default:"full",validator:function(e){return e?["full","card"].includes(e):!0}},value:{type:[String,Array,Date]},week:{type:[Array,Function]},year:{type:[String,Number]},onCellClick:Function,onCellDoubleClick:Function,onCellRightClick:Function,onControllerChange:Function,onMonthChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Tp="calendar",X_=1970,s7=1,l7=12,UV=4,KV={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var u7=function(e){var t=je(e).day();return t===0&&(t=7),t},$0e=function(e){var t="",i=e.toString();return i in KV&&(t=KV[i]),t},V0e=function(e,t){var i=0,r=u7(t);return r>=e?i=r-e:i=7-e+r,i},fE=function(e,t){var i=new Date(e);return i.setDate(i.getDate()+t),i},W0e=function(e,t){for(var i=t.curSelectedYear,r=t.curDate,o=t.curDateList,a=e.format,s=e.multiple,l=[],u=function(f){var h=new Date(i,f-1),v=s?!!o.find(function(g){return g.year()===i&&parseInt(g.format("M"),10)===f}):r.year()===i&&parseInt(r.format("M"),10)===f;l.push({mode:"year",isCurrent:v,date:h,formattedDate:je(h).format(a),filterDate:null,formattedFilterDate:null,isShowWeekend:!0})},c=s7;c<=l7;c++)u(c);return l},z0e=function(e,t){for(var i=t.curSelectedYear,r=t.curSelectedMonth,o=t.realFirstDayOfWeek,a=t.curDate,s=t.curDateList,l=e.format,u=e.multiple,c=[],d=je("".concat(i,"-").concat(r)).startOf("month").toDate(),f=je(je("".concat(i,"-").concat(r)).endOf("month").format("YYYY-MM-DD")).toDate(),h=f.getDate(),v=V0e(o,d),g=[],p=1,m=function(A,j,V,H){var N=u7(V);return{mode:"month",belongTo:A,isCurrent:j,day:N,weekOrder:H,date:V,formattedDate:je(V).format(l),filterDate:null,formattedFilterDate:null,isShowWeekend:!0}},b=function(A){var j=u?!!s.find(function(V){return V.isSame(je(A))}):a.isSame(je(A));return j},C=0;C<v;C++){var O=fE(d,C-v);g.push(m(-1,!1,O,p)),g.length===7&&(c.push(g),g=[],p+=1)}for(var w=0;w<h;w++){var E=fE(d,w),P=b(E);g.push(m(0,P,E,p)),g.length===7&&(c.push(g),g=[],p+=1)}if(g.length){for(var D=7-g.length,k=0;k<D;k++){var L=fE(f,k+1);g.push(m(1,!1,L,p))}c.push(g)}return c},Ad=function(){return je(je().format("YYYY-MM-DD"))};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function U0e(n){var e=Dt(Tp),t=e.globalConfig,i=$n({realFirstDayOfWeek:1,curDate:null,curDateList:[],curSelectedYear:null,curSelectedMonth:null,curSelectedMode:null,isShowWeekend:!0,controlSize:"medium"});function r(){var c=Ad();i.curDate=c,i.curSelectedYear=c.year(),i.curSelectedMonth=parseInt(c.format("M"),10)}function o(c){var d=c?parseInt("".concat(c),10):Ad().year();!isNaN(d)&&d>0&&(i.curSelectedYear=d)}function a(c){var d=parseInt(c?"".concat(c):Ad().format("M"),10);!isNaN(d)&&d>0&&d<=12&&(i.curSelectedMonth=d)}function s(c){ut(c)?i.curDate=c&&c.length?je(c[0]):Ad():i.curDate=c?je(c):Ad()}function l(c){ut(c)?i.curDateList=c&&c.length?c.map(function(d){return je(d)}):[Ad()]:i.curDateList=c?[je(c)]:[Ad()]}function u(c){var d=!0;return i.isShowWeekend||(d=c!==6&&c!==7),d}return Pe(function(){return n.firstDayOfWeek},function(){var c,d;i.realFirstDayOfWeek=(c=(d=n.firstDayOfWeek)!==null&&d!==void 0?d:t.value.firstDayOfWeek)!==null&&c!==void 0?c:1},{immediate:!0}),Pe(function(){return n.value},function(c){n.multiple?l(c):s(c)},{immediate:!0}),Pe(function(){return n.year},function(c){o(c)},{immediate:!0}),Pe(function(){return n.month},function(c){a(c)},{immediate:!0}),Pe(function(){return n.isShowWeekendDefault},function(c){i.isShowWeekend=c},{immediate:!0}),Pe(function(){return n.mode},function(c){i.curSelectedMode=c},{immediate:!0}),Pe(function(){return n.theme},function(c){c==="card"&&(i.controlSize="small"),c==="full"&&(i.controlSize="medium")},{immediate:!0}),{state:i,toToday:r,checkDayVisible:u}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function K0e(n,e){var t=we(Tp),i=R(function(){return["".concat(t.value),"".concat(t.value,"--").concat(n.theme)]}),r=R(function(){return["".concat(t.value,"__panel"),"".concat(t.value,"__panel--").concat(e.curSelectedMode)]}),o=R(function(){return["".concat(t.value,"__control")]}),a=R(function(){return["".concat(t.value,"__title")]}),s=R(function(){return["".concat(t.value,"__control-section")]}),l=R(function(){return["".concat(t.value,"__control-section-cell")]}),u=R(function(){return["".concat(t.value,"__control-tag")]}),c=R(function(){return["".concat(t.value,"__table")]}),d=R(function(){return["".concat(t.value,"__table-head")]}),f=R(function(){return["".concat(t.value,"__table-head-row")]}),h=R(function(){return["".concat(t.value,"__table-head-cell")]}),v=R(function(){return["".concat(t.value,"__table-body")]}),g=R(function(){return["".concat(t.value,"__table-body-row")]});return{body:i,panel:r,control:o,title:a,controlSection:s,controlSectionCell:l,controlTag:u,table:c,tableHead:d,tableHeadRow:f,tableHeadCell:h,tableBody:v,tableBodyRow:g}}function q0e(){var n=we(Tp),e=R(function(){return["".concat(n.value,"__table-body-cell")]}),t=R(function(){return"".concat(n.value,"__table-body-cell--now")}),i=R(function(){return["".concat(n.value,"__table-body-cell-display")]}),r=R(function(){return["".concat(n.value,"__table-body-cell-content")]});return{tableBodyCell:e,tableBodyCell4Now:t,tableBodyCellDisplay:i,tableBodyCellCsontent:r}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function qV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var GV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return{visible:e,disabled:!1,mode:{visible:!0,radioGroupProps:{}},year:{visible:!0,selectProps:{}},month:{visible:!0,selectProps:{}},weekend:{visible:!0,showWeekendButtonProps:{},hideWeekendButtonProps:{}},current:{visible:!0,currentDayButtonProps:{},currentMonthButtonProps:{}}}};function G0e(n,e){var t=Dt(Tp),i=t.globalConfig,r=R(function(){var c=je("".concat(e.curSelectedYear,"-").concat(e.curSelectedMonth)),d={isShowWeekend:e.isShowWeekend,filterDate:c.toDate(),formattedFilterDate:c.format(n.format),mode:e.curSelectedMode};return d}),o=R(function(){var c,d,f=(c=(d=n.controllerConfig)!==null&&d!==void 0?d:i.value.controllerConfig)!==null&&c!==void 0?c:!0;return ur(f)?GV(f):hE(hE({},GV()),f)}),a=R(function(){return!!o.value&&o.value.visible});function s(c){var d=!0,f=o.value;return(!f||!f.visible||f[c]===!1||f[c]&&!f[c].visible)&&(d=!1),d}function l(c,d){var f=!1,h=o.value;return h&&(h.disabled||h[c]&&h[c][d]&&h[c][d].disabled)&&(f=!0),f}function u(){tn(function(){qe(n.onControllerChange)&&n.onControllerChange(hE({},r.value))})}return{options:r,configData:o,visible:a,checkControllerVisible:s,checkControllerDisabled:l,emitControllerChange:u}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Y0e(n,e){var t=Dt(Tp),i=t.t,r=t.globalConfig,o=R(function(){return n.week||i(r.value.week).split(",")});function a(l){var u=o.value;return Wt(u)&&u[l-1]?u[l-1]:$0e(l)}var s=R(function(){for(var l=[],u=1,c=7,d=e.realFirstDayOfWeek;d<=c;d++)l.push({num:d,display:a(d)});if(e.realFirstDayOfWeek>u)for(var f=u;f<e.realFirstDayOfWeek;f++)l.push({num:f,display:a(f)});return l});return{cellColHeaders:s}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function YV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ZV(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var XV={click:"click",dblclick:"dblclick",contextmenu:"rightclick"},JV=pe({name:"TCalendarCell",inheritAttrs:!1,props:{item:{type:Object,default:function(){return null}},fillWithZero:{type:Boolean,default:void 0},theme:{type:String,default:function(){return null}},t:Function,global:Object,cell:[String,Function],cellAppend:[String,Function]},emits:Be(Object.values(XV)),setup:function(e,t){var i=t.emit,r=Mn(),o=q0e(),a=Wn(),s=a.STATUS,l=R(function(){if(e.item.mode==="month"){var v,g,p=e.item.date.getDate(),m=p<10&&((v=(g=e.fillWithZero)!==null&&g!==void 0?g:e.global.fillWithZero)!==null&&v!==void 0?v:!0);return m?"0".concat(p):p}var b=e.t(e.global.cellMonth).split(",");return b[e.item.date.getMonth().toString()]}),u=R(function(){return e.theme==="full"}),c=R(function(){return e.item.mode==="month"&&e.item.belongTo!==0}),d=R(function(){var v=e.item,g=v.mode,p=v.date,m=v.formattedDate,b=v.isCurrent,C=new Date,O=g==="year"?C.getMonth()===p.getMonth()&&C.getFullYear()===p.getFullYear():m===je().format("YYYY-MM-DD");return[o.tableBodyCell.value,X(X(X({},s.value.disabled,c.value),s.value.checked,b),o.tableBodyCell4Now.value,O)]}),f=function(g){if(!c.value){var p=XV[g.type];i(p,g)}},h=function(){return x(Ft,null,[x("div",{class:o.tableBodyCellDisplay.value},[l.value]),x("div",{class:o.tableBodyCellCsontent.value},[u.value&&r("cellAppend",void 0,{params:ZV({},e.item)})])])};return function(){return e.item&&x("td",{class:d.value,onClick:f,onDblclick:f,onContextmenu:f},[r("cell",void 0,{defaultNode:h(),params:ZV({},e.item)})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function QV(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QV(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QV(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Z0e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var X0e=pe({name:"TCalendar",props:B0e,setup:function(e,t){var i=t.slots,r=Mn(),o=Dt(Tp),a=o.t,s=o.globalConfig,l=U0e(e),u=l.state,c=l.toToday,d=l.checkDayVisible,f=K0e(e,u),h=Y0e(e,u),v=h.cellColHeaders,g=G0e(e,u),p=R(function(){if(!e.range||e.range.length<2)return null;var N=Je(e.range,2),F=N[0],W=N[1];return je(F).isBefore(je(W))?{from:F,to:W}:{from:W,to:F}});function m(N,F){var W=!1;if(p.value&&p.value.from&&p.value.to){var U=je(p.value.from).year(),q=je(p.value.to).year();if(N===U){var Z=parseInt(je(p.value.from).format("M"),10);W=F<Z}else if(N===q){var z=parseInt(je(p.value.to).format("M"),10);W=F>z}}return W}function b(){var N,F;if((N=p.value)!==null&&N!==void 0&&N.from&&(F=p.value)!==null&&F!==void 0&&F.to){var W=je(p.value.from).year(),U=je(p.value.to).year(),q=parseInt(je(p.value.from).format("M"),10);m(u.curSelectedYear,u.curSelectedMonth)&&(u.curSelectedMonth=u.curSelectedYear===W?q:u.curSelectedYear===U?1:u.curSelectedMonth)}}Pe(function(){return{year:"".concat(u.curSelectedYear),month:"".concat(u.curSelectedMonth)}},function(N){qe(e.onMonthChange)&&e.onMonthChange(nv({},N)),g.emitControllerChange()});var C={yearSelectOptionList:R(function(){var N=[],F=u.curSelectedYear-10,W=u.curSelectedYear+10;p.value&&p.value.from&&p.value.to&&(F=je(p.value.from).year(),W=je(p.value.to).year()),F<X_&&(F=X_),W<X_&&(W=X_);for(var U=F;U<=W;U++)N.push({value:U,label:a(s.value.yearSelection,{year:U}),disabled:!1});return N}),isYearSelectVisible:R(function(){return g.checkControllerVisible("year")}),isYearSelectDisabled:R(function(){return g.checkControllerDisabled("year","selectProps")}),monthSelectOptionList:R(function(){b();for(var N=[],F=s7;F<=l7;F++){var W=m(u.curSelectedYear,F);N.push({value:F,label:a(s.value.monthSelection,{month:F}),disabled:W})}return N}),isMonthSelectVisible:R(function(){return u.curSelectedMode==="month"&&g.checkControllerVisible("month")}),isMonthSelectDisabled:R(function(){return g.checkControllerDisabled("month","selectProps")})},O={optionList:R(function(){return[{value:"month",label:a(s.value.monthRadio)},{value:"year",label:a(s.value.yearRadio)}]}),isVisible:R(function(){return g.checkControllerVisible("mode")}),isDisabled:R(function(){return g.checkControllerDisabled("mode","radioGroupProps")})},w={text:R(function(){return u.isShowWeekend?a(s.value.hideWeekend):a(s.value.showWeekend)}),vBind:R(function(){var N=g.configData.value.weekend;return u.isShowWeekend?N.hideWeekendButtonProps:N.showWeekendButtonProps}),isVisible:R(function(){return e.theme==="full"&&g.checkControllerVisible("current")&&g.checkControllerVisible("weekend")}),isDisabled:R(function(){var N=u.isShowWeekend?"hideWeekendButtonProps":"showWeekendButtonProps";return g.checkControllerDisabled("weekend",N)})},E={text:R(function(){return u.curSelectedMode==="month"?a(s.value.today):a(s.value.thisMonth)}),vBind:R(function(){var N=g.configData.value.current;return u.curSelectedMode==="month"?N.currentDayButtonProps:N.currentMonthButtonProps}),isVisible:R(function(){return e.theme==="full"&&g.checkControllerVisible("current")}),isDisabled:R(function(){var N=u.curSelectedMode==="month"?"currentDayButtonProps":"currentMonthButtonProps";return g.checkControllerDisabled("current",N)})},P=function(){var F;return x("div",{class:f.control.value},[x("div",{class:f.title.value},[r("head",void 0,{params:nv({},g.options.value)})]),x("div",{class:f.controlSection.value},[C.isYearSelectVisible.value&&x("div",{class:f.controlSectionCell.value},[x(Mu,He({modelValue:u.curSelectedYear,"onUpdate:modelValue":function(U){return u.curSelectedYear=U},size:u.controlSize,autoWidth:!0},g.configData.value.year.selectProps,{disabled:C.isYearSelectDisabled.value,options:C.yearSelectOptionList.value}),null)]),C.isMonthSelectVisible.value&&x("div",{class:f.controlSectionCell.value},[x(Mu,He({autoWidth:!0,modelValue:u.curSelectedMonth,"onUpdate:modelValue":function(U){return u.curSelectedMonth=U},size:u.controlSize},g.configData.value.month.selectProps,{disabled:C.isMonthSelectDisabled.value,options:C.monthSelectOptionList.value}),null)]),O.isVisible.value&&x("div",{class:f.controlSectionCell.value,style:"height: auto"},[x(OO,He({modelValue:u.curSelectedMode,"onUpdate:modelValue":function(U){return u.curSelectedMode=U},variant:"default-filled",size:u.controlSize},g.configData.value.mode.radioGroupProps,{disabled:O.isDisabled.value,onChange:g.emitControllerChange}),Z0e(F=O.optionList.value.map(function(W){return x(_M,{key:W.value,value:W.value},{default:function(){return[W.label]}})}))?F:{default:function(){return[F]}})]),w.isVisible.value&&x("div",{class:f.controlSectionCell.value},[x(ZU,He({class:f.controlTag.value,theme:u.isShowWeekend?"default":"primary",size:"large"},w.vBind.value,{disabled:w.isDisabled.value,onClick:function(){u.isShowWeekend=!u.isShowWeekend,g.emitControllerChange()}}),{default:function(){return[w.text.value]}})]),E.isVisible.value&&x("div",{class:f.controlSectionCell.value},[x(Bt,He({size:u.controlSize},E.vBind.value,{disabled:E.isDisabled.value,onClick:function(){c()}}),{default:function(){return[E.text.value]}})])])])},D=function(F,W,U){if(qe(e[F])){var q={cell:nv(nv({},U),g.options.value),e:W};e[F](q)}},k=function(F,W){var U=je(W.date);e.multiple?u.curDateList.find(function(q){return q.isSame(U)})?u.curDateList=rde(u.curDateList,function(q){return!q.isSame(U)}):u.curDateList.push(U):u.curDate=U,D("onCellClick",F,W)},L=function(F,W){D("onCellDoubleClick",F,W)},M=function(F,W){e.preventCellContextmenu&&F.preventDefault(),D("onCellRightClick",F,W)},A=R(function(){var N=z0e(e,u);return N}),j=function(){return x("table",{class:f.table.value},[x("thead",{class:f.tableHead.value},[x("tr",{class:f.tableHeadRow.value},[v.value.map(function(F,W){return d(F.num)&&x("th",{class:f.tableHeadCell.value},[ut(e.week)?e.week[W]:r("week",void 0,{defaultNode:x("span",null,[F.display]),params:{day:F.num}})])})])]),x("tbody",{class:f.tableBody.value},[A.value.map(function(F,W){return x("tr",{class:f.tableBodyRow.value},[F.map(function(U,q){return(u.isShowWeekend||U.day<6)&&x(JV,{key:"d-".concat(W,"-").concat(q),item:U,theme:e.theme,t:a,global:s.value,cell:e.cell,cellAppend:e.cellAppend,fillWithZero:e.fillWithZero,onClick:function(z){return k(z,U)},onDblclick:function(z){return L(z,U)},onRightclick:function(z){return M(z,U)}},nv({},i))})])})])])},V=R(function(){for(var N=[],F=W0e(e,u),W=Math.ceil(F.length/UV),U=0,q=1;q<=W;q++){for(var Z=[],z=1;z<=UV;z++)Z.push(F[U]),U+=1;N.push(Z)}return N}),H=function(){return x("table",{class:f.table.value},[x("tbody",{class:f.tableBody.value},[V.value.map(function(F,W){return x("tr",{class:f.tableBodyRow.value},[F.map(function(U,q){return x(JV,{key:"m-".concat(W,"-").concat(q),item:U,theme:e.theme,t:a,global:s.value,cell:e.cell,cellAppend:e.cellAppend,fillWithZero:e.fillWithZero,onClick:function(z){return k(z,U)},onDblclick:function(z){return L(z,U)},onRightclick:function(z){return M(z,U)}},nv({},i))})])})])])};return function(){return x("div",{class:f.body.value},[g.visible.value&&P(),x("div",{class:f.panel.value},[u.curSelectedMode==="month"?j():H()])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var J0e=Ye(X0e);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Q0e={actions:{type:[String,Function]},avatar:{type:[String,Function]},bordered:{type:Boolean,default:!0},content:{type:[String,Function]},cover:{type:[String,Function]},default:{type:[String,Function]},description:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},headerBordered:Boolean,hoverShadow:Boolean,loading:{type:[Boolean,Function],default:!1},loadingProps:{type:Object},shadow:Boolean,size:{type:String,default:"medium",validator:function(e){return e?["medium","small"].includes(e):!0}},status:{type:String,default:""},subtitle:{type:[String,Function]},theme:{type:String,default:"normal",validator:function(e){return e?["normal","poster1","poster2"].includes(e):!0}},title:{type:[String,Function]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function eSe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var tSe=pe({name:"TCard",props:Q0e,setup:function(e,t){var i=t.slots,r=ft(),o=we("card"),a=Wn(),s=a.SIZE,l=R(function(){var q=[o.value];return e.size==="small"&&q.push("".concat(s.value[e.size])),e.bordered&&q.push("".concat(o.value,"--bordered")),e.shadow&&q.push("".concat(o.value,"--shadow")),e.hoverShadow&&q.push("".concat(o.value,"--shadow-hover")),q}),u=R(function(){var q=["".concat(o.value,"__header")];return e.headerBordered?q.concat("".concat(o.value,"__title--bordered")):["".concat(o.value,"__header")]}),c=we("card__header-wrapper"),d=we("card__avatar"),f=we("card__title"),h=we("card__subtitle"),v=we("card__description"),g=we("card__actions"),p=we("card__body"),m=we("card__cover"),b=we("card__footer"),C=we("card__footer-wrapper"),O=R(function(){return e.theme==="poster2"}),w=R(function(){return e.title||i.title}),E=R(function(){return e.header||i.header}),P=R(function(){return e.subtitle||i.subtitle}),D=R(function(){return e.avatar||i.avatar}),k=R(function(){return e.description||i.description}),L=R(function(){return e.status||i.status}),M=R(function(){return e.actions||i.actions}),A=R(function(){return e.footer||i.footer}),j=R(function(){return e.cover||i.cover}),V=R(function(){return e.loading||i.loading}),H=R(function(){return e.content||i.content||e.default||i.default}),N=R(function(){return E.value||w.value||P.value||k.value||D.value||L.value&&O.value||M.value&&!O.value}),F=R(function(){return A.value||M.value&&O.value}),W=function(){return E.value?x("div",{class:u.value},[r("header")]):x("div",{class:u.value},[x("div",{class:c.value},[D.value&&x("div",{class:d.value},[r("avatar")]),x("div",null,[w.value&&x("div",{class:f.value},[r("title")]),P.value&&x("div",{class:h.value},[r("subtitle")]),k.value&&x("p",{class:v.value},[r("description")])])]),M.value&&!O.value&&x("div",{class:g.value},[r("actions")]),L.value&&x("div",{class:g.value},[r("status")])])},U=function(){var Z=kt(e.cover);return x("div",{class:m.value},[Z?x("img",{src:e.cover},null):r("cover")])};return function(){var q=x("div",{class:l.value},[N.value?W():null,j.value?U():null,H.value&&x("div",{class:p.value},[r("default")||r("content")]),F.value&&x("div",{class:b.value},[x("div",{class:C.value},[r("footer")]),M.value&&O.value&&x("div",{class:g.value},[r("actions")])])]);return V.value?r("loading")||x(ar,e.loadingProps,eSe(q)?q:{default:function(){return[q]}}):q}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Nl=Ye(tSe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var nSe={actions:{type:Array},author:{type:[String,Function]},avatar:{type:[String,Object,Function]},content:{type:[String,Function]},datetime:{type:[String,Function]},quote:{type:[String,Function]},reply:{type:[String,Function]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function iSe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var rSe=pe({name:"TComment",props:nSe,setup:function(){var e=we("comment"),t=ft();return function(){var i=t("reply"),r=t("author"),o=t("datetime"),a=t("quote"),s=t("actions"),l=t("content"),u=t("avatar"),c=R(function(){return r||o}),d=i?x("div",{class:"".concat(e.value,"__reply")},[i]):null,f=a?x("div",{class:"".concat(e.value,"__quote")},[a]):null,h=u?x("div",{class:"".concat(e.value,"__avatar")},[kt(u)?x("img",{src:u,alt:"",class:"".concat(e.value,"__avatar-image")},null):u]):null,v=c.value&&x("div",{class:"".concat(e.value,"__author")},[r&&x("span",{class:"".concat(e.value,"__name")},[r]),o&&x("span",{class:"".concat(e.value,"__time")},[o])]),g=function(){return!s||!s.length?null:x("div",{class:"".concat(e.value,"__actions")},[(ut(s)?s:[s]).map(function(b,C){return x(Bt,{key:"action-".concat(C),size:"small",variant:"text"},iSe(b)?b:{default:function(){return[b]}})})])},p=x("div",{class:"".concat(e.value,"__content")},[v,x("div",{class:"".concat(e.value,"__detail")},[l]),f,g()]);return x("div",{class:e.value},[x("div",{class:"".concat(e.value,"__inner")},[h,p]),d])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var oSe=Ye(rSe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var aSe={action:{type:Function},description:{type:[String,Function]},image:{type:[String,Function]},imageStyle:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},title:{type:[String,Function]},type:{type:String,default:"empty",validator:function(e){return e?["empty","success","fail","network-error","maintenance"].includes(e):!0}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var sSe=pe({name:"MaintenanceSvg",setup:function(){return function(){return x("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[x("g",{id:"è·¯åµäºä»¶-traffic-events"},[x("g",{id:"Subtract"},[x("path",{d:"M29.5237 17L24 3.82812L18.4763 17H29.5237Z",fill:"var(--td-text-color-placeholder)"},null),x("path",{d:"M31.2011 21H16.7989L13.6699 28.4615H34.3301L31.2011 21Z",fill:"var(--td-text-color-placeholder)"},null),x("path",{d:"M36.0076 32.4615H11.9924L9.66997 37.9997H6V41.9997H42V37.9997H38.33L36.0076 32.4615Z",fill:"var(--td-text-color-placeholder)"},null)])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var lSe=pe({name:"NetworkErrorSvg",setup:function(){return function(){return x("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[x("g",{id:"æ ç½ç»-no-network"},[x("g",{id:"Union"},[x("path",{d:"M26 17V2H22V17H26Z",fill:"var(--td-text-color-placeholder)"},null),x("path",{d:"M26.0078 20H22V24.0078H26.0078V20Z",fill:"var(--td-text-color-placeholder)"},null),x("path",{d:"M2.75751 13.45C7.29713 9.80916 12.553 7.50276 18 6.53088V28H30V6.53052C35.4475 7.50216 40.7038 9.80854 45.2438 13.4497L46.8021 14.6995L24.0006 43.2016L1.19922 14.6998L2.75751 13.45Z",fill:"var(--td-text-color-placeholder)"},null)])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var uSe=pe({name:"EmptySvg",setup:function(){return function(){return x("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[x("g",{id:"æ ç»æ-no-result"},[x("g",{id:"Union"},[x("path",{d:"M22 0H26V8H22V0Z",fill:"var(--td-text-color-placeholder)"},null),x("path",{d:"M10.002 1.17157L7.17353 4L13.002 9.82843L15.8304 7L10.002 1.17157Z",fill:"var(--td-text-color-placeholder)"},null),x("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 27.4689L10.8394 12H37.1606L46 27.4689V44H2V27.4689ZM13.1606 16L7.44636 26H17.8025L18.1889 27.5015C18.8551 30.0898 21.207 32 24 32C26.793 32 29.1449 30.0898 29.8111 27.5015L30.1975 26H40.5536L34.8394 16H13.1606Z",fill:"var(--td-text-color-placeholder)"},null),x("path",{d:"M37.998 1.17157L32.1696 7L34.998 9.82843L40.8265 4L37.998 1.17157Z",fill:"var(--td-text-color-placeholder)"},null)])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var cSe=pe({name:"FailSvg",setup:function(){return function(){return x("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[x("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6ZM2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24C46 36.1503 36.1503 46 24 46C11.8497 46 2 36.1503 2 24ZM26 13V28H22V13H26ZM22 31H26.0078V35.0078H22V31Z",fill:"#D54941"},null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var dSe=pe({name:"SuccessSvg",setup:function(){return function(){return x("svg",{width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[x("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42ZM46 24C46 36.1503 36.1503 46 24 46C11.8497 46 2 36.1503 2 24C2 11.8497 11.8497 2 24 2C36.1503 2 46 11.8497 46 24ZM21 32.8284L12.1716 24L15 21.1716L21 27.1716L33 15.1716L35.8284 18L21 32.8284Z",fill:"#2BA471"},null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var fSe=pe({name:"TEmpty",components:{TImage:wl},props:aSe,setup:function(e,t){var i=t.slots,r=rt(e),o=r.size,a=r.image,s=r.description,l=r.title,u=r.type,c=Dt("empty"),d=c.globalConfig,f=we("empty"),h=R(function(){return e.action||i.action}),v=Wn(),g=v.SIZE,p=ft(),m={maintenance:{image:d.value.image.maintenance||sSe,title:d.value.titleText.maintenance},success:{image:d.value.image.success||dSe,title:d.value.titleText.success},fail:{image:d.value.image.fail||cSe,title:d.value.titleText.fail},"network-error":{image:d.value.image.networkError||lSe,title:d.value.titleText.networkError},empty:{image:d.value.image.empty||uSe,title:d.value.titleText.empty}},b=R(function(){return[f.value,g.value[o.value]]}),C=["".concat(f.value,"__title")],O=["".concat(f.value,"__image")],w=["".concat(f.value,"__description")],E=["".concat(f.value,"__action")],P=R(function(){var V;return(V=m[u.value])!==null&&V!==void 0?V:null}),D=R(function(){var V,H;return a.value||(i==null||(V=i.image)===null||V===void 0?void 0:V.call(i))||((H=P.value)===null||H===void 0?void 0:H.image)}),k=R(function(){var V,H;return l.value||(i==null||(V=i.title)===null||V===void 0?void 0:V.call(i))||((H=P.value)===null||H===void 0?void 0:H.title)}),L=R(function(){var V;return s.value||(i==null||(V=i.description)===null||V===void 0?void 0:V.call(i))}),M=function(){return k.value?x("div",{class:C},[k.value]):null},A=function(){return L.value?x("div",{class:w},[L.value]):null},j=function(){var H=D.value,N=null;return kt(H)?N=x(wl,{src:H},null):H&&Reflect.has(H,"setup")?N=At(H):tO(H)&&(N=x(wl,H,null)),H?N:null};return function(){return x("div",{class:b.value},[D.value?x("div",{class:O,style:e.imageStyle},[i!=null&&i.image?p("image"):j()]):null,M(),A(),h.value?x("div",{class:E},[p("action")]):null])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var hSe=Ye(fSe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var vSe=1e3,gSe=5e3,pSe=1,mSe=Xu(function n(){var e=this;Zu(this,n),X(this,"popupStack",{popup:new Set,dialog:new Set,message:new Set}),X(this,"getNextZIndex",function(t){var i=t==="message"?Array.from(e.popupStack.message).pop()||gSe:Array.from(e.popupStack.popup).pop()||vSe;return i+pSe}),X(this,"add",function(t){var i=e.getNextZIndex(t);return e.popupStack[t].add(i),t==="dialog"&&e.popupStack.popup.add(i),i}),X(this,"delete",function(t,i){e.popupStack[i].delete(t),i==="dialog"&&e.popupStack.popup.delete(t)}),X(this,"isLastDialog",function(t){return e.popupStack.dialog.size>1?t===Array.from(e.popupStack.dialog).pop():!0})}),vE=new mSe;function c7(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.visible,i=e.runOnMounted,r=oe(0),o=function(){r.value=vE.add(n)},a=function(){vE.delete(r.value,n)},s=function(){return vE.isLastDialog(r.value)};return Pe(function(){return t==null?void 0:t.value},function(l){l?o():a()},{immediate:!0}),i&&(mt(function(){o()}),yi(function(){a()})),{zIndex:gL(r),open:o,close:a,isLastDialog:s}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function eW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function bSe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ySe(n){var e=oe(n),t=function(o){var a=o.pageX,s=o.pageY,l=e.value,u=l.translateX,c=l.translateY,d=function(v){var g=v.pageX,p=v.pageY;e.value={translateX:u+g-a,translateY:c+p-s}},f=function(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",f)},i=function(){e.value=bSe({},n)};return{transform:e,mouseDownHandler:t,resetTransform:i}}function _Se(){var n=oe(1),e=function(){n.value*=-1},t=function(){n.value=1};return{mirror:n,onMirror:e,resetMirror:t}}function wSe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{max:2,min:.5,step:.2},e=n.max,t=n.min,i=n.step,r=n.defaultScale,o=oe(r??1),a=lh(function(){var c=zb(o.value,i);u(c)},50),s=lh(function(){var c=Ub(o.value,i);u(c)},50),l=function(){o.value=r??1},u=function(d){var f=d;d<t&&(f=t),d>e&&(f=e),o.value=f};return Pe(function(){return n},function(){return l()}),{scale:o,onZoomIn:a,onZoomOut:s,resetScale:l}}function CSe(){var n=oe(0),e=90,t=function(){n.value+=e},i=function(){n.value=0};return{rotate:n,onRotate:t,resetRotate:i}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var d7=pe({name:"TImageItem",props:{rotate:Number,scale:Number,mirror:Number,src:[String,Object],placementSrc:[String,Object],isSvg:Boolean,imageReferrerpolicy:String},setup:function(e){var t=rt(e),i=t.src,r=t.placementSrc,o=t.isSvg,a=we(),s=oe(!1),l=oe(!1),u=ySe({translateX:0,translateY:0}),c=u.transform,d=u.mouseDownHandler,f=Dt("imageViewer"),h=f.globalConfig,v=h.value.errorText,g=oe(),p=R(function(){return{transform:"rotate(".concat(e.rotate,"deg) scale(").concat(e.scale,")"),display:!e.placementSrc||l.value?"block":"none"}}),m=R(function(){return{transform:"rotate(".concat(e.rotate,"deg) scale(").concat(e.scale,")"),display:l.value?"none":"block"}}),b=R(function(){var k=c.value,L=k.translateX,M=k.translateY;return{transform:"translate(".concat(L,"px, ").concat(M,"px) scale(").concat(e.mirror,", 1)")}}),C=function(){s.value=!1,l.value=!1,o.value&&O(E.value)},O=function(){var k=Vi(dn.mark(function L(M){var A,j,V,H,N,F,W,U,q,Z,z,ie;return dn.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,fetch(M);case 2:if(j=K.sent,j.ok){K.next=6;break}throw s.value=!0,new Error("Failed to fetch SVG: ".concat(j.statusText));case 6:return K.next=8,j.text();case 8:V=K.sent,H=g.value,H.innerHTML="",(A=H.classList)===null||A===void 0||A.add("".concat(a.value,"-image-viewer__modal-image-svg")),N=H.attachShadow({mode:"closed"}),F=document.createElement("div"),F.style.background="var(--td-bg-color-container)",F.style.padding="4px",F.style.borderRadius="4px",F.style.maxHeight="100%",F.style.maxWidth="100%",F.style.boxSizing="border-box",F.style.height="auto",F.innerHTML=V,N.appendChild(F),W=F.querySelector("svg"),W&&(U=W.getAttribute("viewBox"),U?(q=U.split(/[\s\,]/).filter(function(J){return J}).map(parseFloat),Z=q[2],F.style.width="".concat(Z,"px")):(z=W.getBBox(),ie="".concat(z.x," ").concat(z.y," ").concat(z.width," ").concat(z.height),W.setAttribute("viewBox",ie),F.style.width="".concat(z.width,"px")),W.style.maxHeight="100%",W.style.maxWidth="100%",W.style.height="auto",W.style.display="block",W.style.lineHeight="normal"),l.value=!0;case 26:case"end":return K.stop()}},L)}));return function(M){return k.apply(this,arguments)}}(),w=a0(i),E=w.previewUrl,P=a0(r),D=P.previewUrl;return Pe([E,D],function(){C()}),mt(Vi(dn.mark(function k(){return dn.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!o.value){M.next=3;break}return M.next=3,O(E.value);case 3:case"end":return M.stop()}},k)}))),function(){return x("div",{class:"".concat(a.value,"-image-viewer__modal-pic")},[x("div",{class:"".concat(a.value,"-image-viewer__modal-box"),style:b.value},[s.value&&x("div",{class:"".concat(a.value,"-image-viewer__img-error")},[x("div",{class:"".concat(a.value,"-image-viewer__img-error-content")},[x(H9,{size:"4em"},null),x("div",{class:"".concat(a.value,"-image-viewer__img-error-text")},[v])])]),!s.value&&!!e.placementSrc&&D.value&&x("img",{class:"".concat(a.value,"-image-viewer__modal-image"),onMousedown:function(L){L.stopPropagation(),d(L)},src:D.value,style:m.value,referrerpolicy:e.imageReferrerpolicy,alt:"image",draggable:"false"},null),!s.value&&E.value&&!o.value&&x("img",{class:"".concat(a.value,"-image-viewer__modal-image"),onMousedown:function(L){L.stopPropagation(),d(L)},src:E.value,onLoad:function(){return l.value=!0},onError:function(){return s.value=!0},style:p.value,referrerpolicy:e.imageReferrerpolicy,alt:"image",draggable:"false"},null),!s.value&&E.value&&o.value&&x("div",{ref:g,class:"".concat(a.value,"-image-viewer__modal-image"),onMousedown:function(L){L.stopPropagation(),d(L)},"data-alt":"svg",style:p.value,draggable:"false"},null)])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ql=pe({name:"TImageModalIcon",props:{disabled:Boolean,onClick:Function,label:String,icon:Function},setup:function(e){var t=we(),i=ft(),r=R(function(){return["".concat(t.value,"-image-viewer__modal-icon"),X({},"".concat(t.value,"-is-disabled"),e.disabled)]});return function(){return x("div",{class:r.value,onClick:e.onClick},[i("icon"),e.label&&x("span",{class:"".concat(t.value,"-image-viewer__modal-icon-label")},[e.label])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var f7={attach:{type:[String,Function]},body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function,null]},closeBtn:{type:[String,Boolean,Function],default:!0},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:{type:Boolean,default:void 0},confirmBtn:{type:[String,Object,Function,null]},confirmLoading:{type:Boolean,default:void 0},confirmOnEnter:Boolean,default:{type:[String,Function]},destroyOnClose:Boolean,dialogClassName:{type:String,default:""},dialogStyle:{type:Object},draggable:Boolean,footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},mode:{type:String,default:"modal",validator:function(e){return e?["modal","modeless","normal","full-screen"].includes(e):!0}},placement:{type:String,default:"top",validator:function(e){return e?["top","center"].includes(e):!0}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return e?["default","info","warning","danger","success"].includes(e):!0}},top:{type:[String,Number]},visible:Boolean,width:{type:[String,Number]},zIndex:{type:Number},onBeforeClose:Function,onBeforeOpen:Function,onCancel:Function,onClose:Function,onCloseBtnClick:Function,onClosed:Function,onConfirm:Function,onEscKeydown:Function,onOpened:Function,onOverlayClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function tW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function iv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):tW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function SM(n){var e=Ui(),t=ft(),i=function(u){var c=u.globalConfirm,d=u.theme,f=u.globalConfirmBtnTheme,h=I9(br(f,["info"]),d)||"primary",v={theme:h,size:u.size,onClick:function(p){n.confirmBtnAction(p)}};return kt(c)?v.content=c:Wt(c)&&(v=iv(iv({},v),c)),v},r=function(u){var c=u.globalCancel,d={theme:"default",size:u.size,onClick:function(h){n.cancelBtnAction(h)}};return kt(c)?d.content=c:Wt(c)&&(d=iv(iv({},d),c)),d},o=function(u,c){var d=c.defaultButtonProps,f=c.className,h=c.confirmLoading,v=d;return kt(u)?v.content=u:Wt(u)&&(v=iv(iv({},v),u)),h!==void 0&&(v.loading=h),x(Bt,He({class:f},v),null)},a=function(u){var c=u.confirmBtn,d=u.className,f=u.confirmLoading;if(c===null)return null;c&&e.slots.confirmBtn&&console.warn("Both $props.confirmBtn and $scopedSlots.confirmBtn exist, $props.confirmBtn is preferred.");var h=i(u);return!c&&!e.slots.confirmBtn?x(Bt,He({class:d,loading:f},h),null):c&&["string","object"].includes(kn(c))?o(c,{defaultButtonProps:h,className:d,confirmLoading:f}):t("confirmBtn")},s=function(u){var c=u.cancelBtn,d=u.className;if(c===null)return null;c&&e.slots.cancelBtn&&console.warn("Both $props.cancelBtn and $scopedSlots.cancelBtn exist, $props.cancelBtn is preferred.");var f=r(u);return!c&&!e.slots.cancelBtn?x(Bt,He({class:d},f),null):c&&["string","object"].includes(kn(c))?o(c,{defaultButtonProps:f,className:d}):t("cancelBtn")};return{getConfirmBtn:a,getCancelBtn:s}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function SSe(n){var e=!1,t=!1,i=function(s){e&&t&&n(s),e=!1,t=!1},r=function(s){e=s.target===s.currentTarget},o=function(s){t=s.target===s.currentTarget};return{onClick:i,onMousedown:r,onMouseup:o}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function OSe(){var n=6;if(typeof navigator>"u"||!navigator||/(Chrome|Safari)/i.test(navigator.userAgent))return n;var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),/Firefox/.test(navigator.userAgent)&&(t-=4),Tu()<=11&&(t=12),t}function h7(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body;return n===document.body?window.innerWidth-document.documentElement.clientWidth:n.offsetWidth-n.clientWidth}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function v7(n){return Number.isNaN(Number(n))?n:"".concat(Number(n),"px")}function xSe(n){var e=n,t=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;e.addEventListener("mousedown",function(r){var o=r.clientX-e.offsetLeft,a=r.clientY-e.offsetTop,s=e.offsetWidth,l=e.offsetHeight;if(s>t||l>i)return;function u(d){var f=d.clientX-o,h=d.clientY-a;f<0&&(f=0),h<0&&(h=0),t-e.offsetWidth-f<0&&(f=t-e.offsetWidth),i-e.offsetHeight-h<0&&(h=i-e.offsetHeight),e.style.position="absolute",e.style.left="".concat(f,"px"),e.style.top="".concat(h,"px")}function c(){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c)}document.addEventListener("mousemove",u),document.addEventListener("mouseup",c),document.addEventListener("dragend",c)})}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ESe={body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function]},closeBtn:{type:[String,Boolean,Function],default:!0},confirmBtn:{type:[String,Object,Function]},confirmLoading:{type:Boolean,default:void 0},footer:{type:[Boolean,Function]},header:{type:[String,Boolean,Function],default:!0},theme:{type:String,default:"default",validator:function(e){return e?["default","info","warning","danger","success"].includes(e):!0}},onCancel:Function,onCloseBtnClick:Function,onConfirm:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function nW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function J_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var g7=pe({name:"TDialogCard",directives:{draggable:function(e,t){e&&t&&t.value&&xSe(e)}},props:J_(J_({},f7),ESe),setup:function(e,t){var i=t.expose,r=oe(null),o=we("dialog"),a=we(),s=ft(),l=Mn(),u=Dt("dialog"),c=u.globalConfig,d=On({CloseIcon:js,InfoCircleFilledIcon:Gy,CheckCircleFilledIcon:Yu,ErrorCircleFilledIcon:Al}),f=d.CloseIcon,h=d.InfoCircleFilledIcon,v=d.CheckCircleFilledIcon,g=d.ErrorCircleFilledIcon,p=rt(e),m=p.cancelBtn,b=p.confirmBtn,C=p.confirmLoading,O=function(W){var U;return(U=e.onConfirm)===null||U===void 0?void 0:U.call(e,{e:W})},w=function(W){var U;return(U=e.onCancel)===null||U===void 0?void 0:U.call(e,{e:W})},E=SM({confirmBtnAction:O,cancelBtnAction:w}),P=E.getConfirmBtn,D=E.getCancelBtn,k=R(function(){return e.mode==="modeless"}),L=R(function(){return e.mode==="full-screen"}),M=function(W){var U;return e==null||(U=e.onCloseBtnClick)===null||U===void 0?void 0:U.call(e,{e:W})},A=function(W){k.value&&e!==null&&e!==void 0&&e.draggable&&W.stopPropagation()},j=function(){!r.value&&k.value&&e.draggable||(r.value.style.position="relative",r.value.style.left="unset",r.value.style.top="unset")};i({$el:r,resetPosition:j});var V=R(function(){var F=["".concat(o.value),"".concat(o.value,"__modal-").concat(e.theme),k.value&&e.draggable&&"".concat(o.value,"--draggable"),e.dialogClassName];return L.value?F.push("".concat(o.value,"__fullscreen")):F.push.apply(F,["".concat(o.value,"--default"),"".concat(o.value,"--").concat(e.placement)]),F}),H=R(function(){return L.value?J_({},e.dialogStyle):J_({width:v7(e.width)},e.dialogStyle)}),N=function(){var W=R(function(){var ee;return((ee=b.value)===null||ee===void 0?void 0:ee.loading)||C.value}),U=x("div",null,[D({cancelBtn:m.value,globalCancel:c.value.cancel,className:"".concat(o.value,"__cancel")}),P({theme:e==null?void 0:e.theme,confirmBtn:b.value,globalConfirm:c.value.confirm,globalConfirmBtnTheme:c.value.confirmBtnTheme,className:"".concat(o.value,"__confirm"),confirmLoading:W.value})]),q=s("footer",U),Z=function(){var K,J=(K=s("header",x("h5",{class:"title"},null)))!==null&&K!==void 0?K:!1,$=L.value?["".concat(o.value,"__header"),"".concat(o.value,"__header--fullscreen")]:"".concat(o.value,"__header"),Y=L.value?["".concat(o.value,"__close"),"".concat(o.value,"__close--fullscreen")]:"".concat(o.value,"__close"),te=function(){var le={info:x(h,{class:"".concat(a.value,"-is-info")},null),warning:x(g,{class:"".concat(a.value,"-is-warning")},null),danger:x(g,{class:"".concat(a.value,"-is-error")},null),success:x(v,{class:"".concat(a.value,"-is-success")},null)};return le[e==null?void 0:e.theme]};return(J||(e==null?void 0:e.closeBtn))&&x("div",{class:$,onMousedown:A},[x("div",{class:"".concat(o.value,"__header-content")},[te(),J]),e!=null&&e.closeBtn?x("span",{class:Y,onClick:M},[s("closeBtn",x(f,null,null))]):null])},z=function(){var K=l("default","body"),J=(e==null?void 0:e.theme)==="default"?["".concat(o.value,"__body")]:["".concat(o.value,"__body__icon")];return L.value&&q?J.push("".concat(o.value,"__body--fullscreen")):L.value&&J.push("".concat(o.value,"__body--fullscreen--without-footer")),x("div",{class:J,onMousedown:A},[K])},ie=function(){var K=L.value?["".concat(o.value,"__footer"),"".concat(o.value,"__footer--fullscreen")]:"".concat(o.value,"__footer");return q&&x("div",{class:K,onMousedown:A},[q])};return x(Ft,null,[Z(),z(),!!e.footer&&ie()])};return function(){return Du(x("div",{key:"dialog",ref:r,class:V.value,style:H.value},[N()]),[[rne("draggable"),k.value&&e.draggable]])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var PSe=["theme","onConfirm","onCancel","onCloseBtnClick"],Zm,kSe=function(e){Zm={x:e.clientX,y:e.clientY},setTimeout(function(){Zm=null},100)};typeof window<"u"&&window.document&&window.document.documentElement&&document.documentElement.addEventListener("click",kSe,!0);var DSe=1,p7=pe({name:"TDialog",inheritAttrs:!1,props:f7,emits:["update:visible"],setup:function(e,t){var i=we("dialog"),r=we(),o=oe(null),a=Dt("dialog"),s=a.globalConfig,l=function(K){var J;(J=e.onConfirm)===null||J===void 0||J.call(e,K)},u=function(K){var J;(J=e.onCancel)===null||J===void 0||J.call(e,K),z({e:K.e,trigger:"cancel"})},c=dO(function(){return e.attach});gU();var d=oe(),f=oe(),h=R(function(){return e.mode==="modal"}),v=R(function(){return e.mode==="modeless"}),g=R(function(){return e.mode==="full-screen"}),p=R(function(){return e.visible}),m=R(function(){return["".concat(i.value,"__mask"),!e.showOverlay&&"".concat(r.value,"-is-hidden")]}),b=R(function(){return g.value?["".concat(i.value,"__position_fullscreen")]:h.value||v.value?["".concat(i.value,"__position"),!!e.top&&"".concat(i.value,"--top"),"".concat(e.placement&&!e.top?"".concat(i.value,"--").concat(e.placement):"")]:[]}),C=R(function(){return g.value||h.value||v.value?["".concat(i.value,"__wrap")]:null}),O=R(function(){if(g.value)return{};var ee=e.top,K={};if(ee!==void 0){var J=v7(ee);K={paddingTop:J}}return K}),w=c7("dialog",{visible:p}),E=w.isLastDialog;Pe(function(){return e.visible},function(ee){if(ee){var K;(h.value&&!e.showInAttachedElement||g.value)&&(e.preventScrollThrough&&document.body.appendChild(f.value),tn(function(){var J;if(Zm&&(J=o.value)!==null&&J!==void 0&&J.$el){var $=o.value.$el;$.style.transformOrigin="".concat(Zm.x-$.offsetLeft,"px ").concat(Zm.y-$.offsetTop,"px")}})),(K=document.activeElement)===null||K===void 0||K.blur()}else D();k(ee)});function P(){var ee,K;(ee=f.value.parentNode)===null||ee===void 0||(K=ee.removeChild)===null||K===void 0||K.call(ee,f.value)}function D(){clearTimeout(d.value),d.value=setTimeout(function(){P()},150)}var k=function(K){K?(document.addEventListener("keydown",M),e.confirmOnEnter&&document.addEventListener("keydown",L)):(document.removeEventListener("keydown",M),e.confirmOnEnter&&document.removeEventListener("keydown",L))},L=function(K){var J=K.target;if(J.tagName.toLowerCase()!=="input"){var $=K.code;if(($==="Enter"||$==="NumpadEnter")&&E()){var Y;(Y=e.onConfirm)===null||Y===void 0||Y.call(e,{e:K})}}},M=function(K){if(K.code==="Escape"&&E()){var J,$;(J=e.onEscKeydown)===null||J===void 0||J.call(e,{e:K}),(($=e.closeOnEscKeydown)!==null&&$!==void 0?$:s.value.closeOnEscKeydown)&&z({e:K,trigger:"esc"})}},A=function(K){var J;if(e.showOverlay&&((J=e.closeOnOverlayClick)!==null&&J!==void 0?J:s.value.closeOnOverlayClick)){var $;($=e.onOverlayClick)===null||$===void 0||$.call(e,{e:K}),z({e:K,trigger:"overlay"})}},j=SSe(A),V=j.onClick,H=j.onMousedown,N=j.onMouseup,F=function(K){var J;(J=e.onCloseBtnClick)===null||J===void 0||J.call(e,K),z({trigger:"close-btn",e:K.e})},W=function(){var K;(K=e.onBeforeOpen)===null||K===void 0||K.call(e)},U=function(){var K;(K=e.onOpened)===null||K===void 0||K.call(e)},q=function(){var K;(K=e.onBeforeClose)===null||K===void 0||K.call(e)},Z=function(){var K,J,$;(K=o.value)===null||K===void 0||(J=K.resetPosition)===null||J===void 0||J.call(K),($=e.onClosed)===null||$===void 0||$.call(e)},z=function(K){var J;(J=e.onClose)===null||J===void 0||J.call(e,K),t.emit("update:visible",!1)},ie=function(){var K=e.theme;e.onConfirm,e.onCancel,e.onCloseBtnClick;var J=Gu(e,PSe);return x("div",{class:C.value},[x("div",{class:b.value,style:O.value,onClick:V,onMousedown:H,onMouseup:N},[x(g7,He({ref:o,theme:K},J,{onConfirm:l,onCancel:u,onCloseBtnClick:F}),t.slots)])])};return mt(function(){var ee=document.documentElement.scrollHeight>document.documentElement.clientHeight,K=ee?h7():0;f.value=document.createElement("style"),f.value.dataset.id="td_dialog_".concat(+new Date,"_").concat(DSe+=1),f.value.innerHTML=`
        html body {
          overflow-y: hidden;
          width: calc(100% - `.concat(K,`px);
        }
      `)}),yi(function(){k(!1),P()}),function(){var ee=(h.value||g.value)&&x("div",{key:"mask",class:m.value},null),K=ie(),J=[ee,K],$={zIndex:e.zIndex},Y=["".concat(i.value,"__ctx"),X(X(X({},"".concat(i.value,"__ctx--fixed"),h.value||g.value),"".concat(i.value,"__ctx--absolute"),h.value&&e.showInAttachedElement),"".concat(i.value,"__ctx--modeless"),v.value)];return x(th,{disabled:!e.attach||!c.value,to:c.value},{default:function(){return[x(sd,{duration:300,name:"".concat(i.value,"-zoom__vue"),onBeforeEnter:W,onAfterEnter:U,onBeforeLeave:q,onAfterLeave:Z},{default:function(){return[(!e.destroyOnClose||e.visible)&&Du(x("div",He({class:Y,style:$},t.attrs),[J]),[[ld,e.visible]])]}})]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function iW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ym(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var EO=function(e){var t=ym({},e),i=document.createElement("div"),r=oe(!1),o=t.className,a=t.style,s=o,l=function(g,p){if(g){if(s&&s!==g){var m;(m=i.firstElementChild.classList).remove.apply(m,Be(s.split(" ").map(function(b){return b.trim()})))}g.split(" ").forEach(function(b){i.firstElementChild.classList.add(b.trim())})}p&&(i.firstElementChild.style.cssText+=p),s=g},u=pe({setup:function(g,p){var m=p.expose,b=oe(t);mt(function(){r.value=!0,document.activeElement.blur(),tn(function(){l(o,a)})});var C=function(w){b.value=ym(ym({},t),w)};return m({update:C}),function(){var O=t.onClose||function(){r.value=!1};return delete t.className,delete t.style,At(p7,ym({onClose:O,visible:r.value},b.value))}}}),c=gp(u),d=c.mount(i),f=Lh(t.attach);f?f.appendChild(i):console.error("attach is not exist");var h={show:function(){r.value=!0},hide:function(){r.value=!1},update:function(g){d.update(br(g,["className","style"])),l(g.className,g.style)},destroy:function(){r.value=!1,setTimeout(function(){c.unmount(),i.remove()},300)},setConfirmLoading:function(g){d.update({confirmLoading:g})}};return h},TSe=function(e){return EO(e)},ISe=function(e){var t=ym({},e);return t.cancelBtn=null,EO(t)},S0={confirm:TSe,alert:ISe},PO=EO;PO.install=function(n){n.config.globalProperties.$dialog=EO,Object.keys(S0).forEach(function(e){n.config.globalProperties.$dialog[e]=S0[e]})};Object.keys(S0).forEach(function(n){PO[n]=S0[n]});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var OM=Ye(p7),LSe=Ye(g7);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Ud={attach:{type:[String,Function],default:"body"},closeBtn:{type:[Boolean,Function],default:!0},closeOnEscKeydown:{type:Boolean,default:!0},closeOnOverlay:Boolean,draggable:{type:Boolean,default:void 0},imageReferrerpolicy:{type:String,validator:function(e){return e?["no-referrer","no-referrer-when-downgrade","origin","origin-when-cross-origin","same-origin","strict-origin","strict-origin-when-cross-origin","unsafe-url"].includes(e):!0}},imageScale:{type:Object},images:{type:Array,default:function(){return[]}},index:{type:Number,default:void 0},defaultIndex:{type:Number,default:0},mode:{type:String,default:"modal",validator:function(e){return e?["modal","modeless"].includes(e):!0}},navigationArrow:{type:[Boolean,Function],default:!0},showOverlay:{type:Boolean,default:void 0},title:{type:[String,Function]},trigger:{type:[String,Function]},viewerScale:{type:Object},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,zIndex:{type:Number},onClose:Function,onDownload:Function,onIndexChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var m7=pe({name:"TImageViewerUtils",props:{scale:Number,onRotate:Function,onZoomIn:Function,onZoomOut:Function,onMirror:Function,onReset:Function,onDownload:Function,currentImage:{type:Object,default:function(){return{}}}},setup:function(e){var t=we(),i=R(function(){return e.currentImage.mainImage}),r=a0(i),o=r.previewUrl,a=Dt("imageViewer"),s=a.globalConfig;return function(){return x("div",{class:"".concat(t.value,"-image-viewer__utils")},[x("div",{class:"".concat(t.value,"-image-viewer__utils-content")},[x(So,{overlayClassName:"".concat(t.value,"-image-viewer__utils--tip"),content:s.value.mirrorTipText,destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"},{default:function(){return[x(Ql,{onClick:e.onMirror,icon:function(){return x(dhe,{size:"medium"},null)}},null)]}}),x(So,{overlayClassName:"".concat(t.value,"-image-viewer__utils--tip"),content:s.value.rotateTipText,destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"},{default:function(){return[x(Ql,{onClick:e.onRotate,icon:function(){return x(yhe,{size:"medium"},null)}},null)]}}),x(Ql,{icon:function(){return x(Fhe,{size:"medium"},null)},onClick:e.onZoomOut},null),x(Ql,{class:"".concat(t.value,"-image-viewer__utils-scale"),size:"medium",label:"".concat(l0(String(e.scale*100)),"%")},null),x(Ql,{icon:function(){return x(Rhe,{size:"medium"},null)},onClick:e.onZoomIn},null),x(So,{overlayClassName:"".concat(t.value,"-image-viewer__utils--tip"),content:s.value.originalSizeTipText,destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default"},{default:function(){return[x("div",{class:"".concat(t.value,"-image-viewer__modal-icon")},[x(Ql,{icon:function(){return x(B9,{size:"medium"},null)},onClick:e.onReset},null)])]}}),e.currentImage.download&&x(Ql,{icon:function(){return x(Rfe,{size:"medium"},null)},onClick:function(){e.onDownload(o.value)}},null)])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var MSe=pe({name:"TImageViewerModal",props:{zIndex:Number,visible:Boolean,index:Number,images:Ud.images,scale:Number,rotate:Number,mirror:Number,title:Ud.title,currentImage:{type:Object,default:function(){return{}}},onRotate:Function,onZoomIn:Function,onZoomOut:Function,onMirror:Function,onReset:Function,onClose:Ud.onClose,onDownload:Ud.onDownload,draggable:{type:Boolean,default:!0},viewerScale:{type:Object,default:function(){return{}}},showOverlay:Boolean,closeBtn:Ud.closeBtn,imageReferrerpolicy:Ud.imageReferrerpolicy},setup:function(e){var t=we(),i=ft(),r=R(function(){return{minWidth:e.viewerScale.minWidth,minHeight:e.viewerScale.minHeight}});return function(){return x(OM,{destroyOnClose:!0,attach:"body",onClose:e.onClose,visible:e.visible,placement:"center",mode:"modeless",width:1e3,cancelBtn:null,confirmBtn:null,draggable:e.draggable,zIndex:e.zIndex,showOverlay:e.showOverlay,class:"".concat(t.value,"-image-viewer__dialog"),header:i("title",""),footer:function(){return x("div",{class:"".concat(t.value,"-image-viewer-mini__footer")},[x(m7,{onZoomIn:e.onZoomIn,onZoomOut:e.onZoomOut,scale:e.scale,currentImage:e.currentImage,onRotate:e.onRotate,onMirror:e.onMirror,onReset:e.onReset,onDownload:e.onDownload},null)])}},{default:function(){return[x("div",{class:"".concat(t.value,"-image-viewer-mini__content"),style:r.value},[x(d7,{rotate:e.rotate,scale:e.scale,mirror:e.mirror,src:e.currentImage.mainImage,placementSrc:e.currentImage.thumbnail,isSvg:e.currentImage.isSvg,imageReferrerpolicy:e.imageReferrerpolicy},null)])]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Cv=function(n){return n.left="ArrowLeft",n.up="ArrowUp",n.right="ArrowRight",n.down="ArrowDown",n.esc="Escape",n}(Cv||{});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function rW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ASe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var RSe=function(e){var t,i,r,o=new Image,a=(e==null||(t=e.split)===null||t===void 0||(t=t.call(e,"?"))===null||t===void 0||(t=t[0])===null||t===void 0||(i=t.split)===null||i===void 0||(i=i.call(t,"#"))===null||i===void 0||(i=i[0])===null||i===void 0||(r=i.split)===null||r===void 0?void 0:r.call(i,"/").pop())||Math.random().toString(32).slice(2);o.setAttribute("crossOrigin","anonymous"),o.onload=function(){var s=document.createElement("canvas");s.width=o.width,s.height=o.height;var l=s.getContext("2d");l.drawImage(o,0,0,o.width,o.height),s.toBlob(function(u){var c=URL.createObjectURL(u),d=document.createElement("a");d.download=a,d.href=c,d.click(),d.remove(),URL.revokeObjectURL(c)})},o.src=e},NSe=function(e){return!!e&&!kt(e)&&!(e instanceof File)},FSe=function(e){return ut(e)?e.map(function(t){return NSe(t)?ASe({download:!0,thumbnail:t.mainImage},t):{mainImage:t,thumbnail:t,download:!0}}):[]},jSe=function(e){return e.showOverlay!==void 0?e.showOverlay:e.mode==="modal"};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var HSe=pe({name:"TImageViewer",props:Ud,setup:function(e){var t,i=we(),r=we("image-viewer"),o=ft(),a=oe(!0),s=R(function(){return jSe(e)}),l=rt(e),u=l.index,c=l.visible,d=l.modelValue,f=l.imageReferrerpolicy,h=Gi(u,(t=e.defaultIndex)!==null&&t!==void 0?t:0,e.onIndexChange,"index"),v=Je(h,2),g=v[0],p=v[1],m=Nn(c,d,e.defaultVisible,function(){},"visible"),b=Je(m,2),C=b[0],O=b[1],w=oe(!0),E=oe(),P=dO(function(){return e.attach}),D=R(function(){return[r.value,"".concat(r.value,"-preview-image"),X({},"".concat(i.value,"-is-hide"),!C.value)]}),k=R(function(){return["".concat(i.value,"-image-viewer__modal-header"),X({},"".concat(i.value,"-is-show"),a.value)]}),L=R(function(){var De;return(De=e.zIndex)!==null&&De!==void 0?De:2600}),M=function(){a.value=!a.value},A=_Se(),j=A.mirror,V=A.onMirror,H=A.resetMirror,N=wSe(e.imageScale),F=N.scale,W=N.onZoomIn,U=N.onZoomOut,q=N.resetScale,Z=CSe(),z=Z.rotate,ie=Z.onRotate,ee=Z.resetRotate,K=function(){H(),q(),ee()},J=R(function(){return FSe(e.images)}),$=R(function(){var De;return(De=J.value[g.value])!==null&&De!==void 0?De:{mainImage:""}}),Y=c7("dialog",{visible:C}),te=Y.isLastDialog,ae=function(){var Ee=g.value-1;K(),p(Ee<0?0:Ee,{trigger:"prev"})},le=function(){var Ee=g.value+1;K(),p(Ee>=J.value.length?g.value:Ee,{trigger:"next"})},Q=function(Ee){p(Ee,{trigger:"current"})},ne=function(Ee){e.onDownload?e.onDownload(Ee):RSe(Ee)},se=function(){O(!0)},de=function(Ee){var me;O(!1),(me=e.onClose)===null||me===void 0||me.call(e,Ee)},he=function(Ee){de({e:Ee,trigger:"close-btn"})},ge=function(Ee){e.closeOnOverlay&&de({e:Ee,trigger:"overlay"})},Se=function(Ee){switch(Ee.stopPropagation(),Ee.code){case Cv.left:ae();break;case Cv.right:le();break;case Cv.up:W();break;case Cv.down:U();break;case Cv.esc:e.closeOnEscKeydown&&te()&&de({e:Ee,trigger:"esc"});break}},Te=oe();Pe(function(){return C.value},function(De){clearTimeout(E.value),De?(w.value=!1,tn().then(function(){var Ee,me;(Ee=Te.value)===null||Ee===void 0||(me=Ee.focus)===null||me===void 0||me.call(Ee)}),K()):E.value=setTimeout(function(){w.value=!0},200)});var Ce=function(Ee){Ee.preventDefault();var me=Ee.deltaY;me>0?U():W()},xe=R(function(){return{transform:"translateX(calc(-".concat(g.value," * (40px / 9 * 16 + 4px)))")}}),Me=function(){return x("div",{class:k.value},[x(Ql,{icon:function(){return x(hO,null,null)},class:"".concat(r.value,"__header-pre-bt"),onClick:M},null),x("div",{class:"".concat(r.value,"__header-prev")},[x("div",{class:"".concat(r.value,"__header-trans"),style:xe.value},[J.value.map(function(Ee,me){return x("div",{key:me,class:["".concat(r.value,"__header-box"),X({},"".concat(i.value,"-is-active"),me===g.value)]},[x(wl,{src:Ee.thumbnail||Ee.mainImage,error:"",class:"".concat(r.value,"__header-img"),onClick:function(){return Q(me)}},null)])})])])])},Re=function(Ee){var me=Ee==="prev"?0:180,Oe=o("navigationArrow",x(Cp,{style:{transform:"rotate(".concat(me,"deg)")},size:"24px"},null));return x(Ql,{class:"".concat(r.value,"__modal-").concat(Ee,"-bt"),onClick:Ee==="prev"?ae:le,icon:function(){return Oe}},null)},Ae=function(){if(e.closeBtn!==!1)return x("div",{class:["".concat(r.value,"__modal-icon"),"".concat(r.value,"__modal-close-bt")],onClick:he},[o("closeBtn",x(js,{size:"24px"},null))])};return function(){return e.mode==="modeless"?x(Ft,null,[o("trigger",{params:{open:se}}),x(MSe,{zIndex:L.value,visible:C.value,index:g.value,images:J.value,scale:F.value,rotate:z.value,mirror:j.value,currentImage:$.value,onRotate:ie,onZoomIn:W,onZoomOut:U,onMirror:V,onReset:K,onClose:de,onDownload:ne,draggable:e.draggable,showOverlay:s.value,title:e.title,imageReferrerpolicy:f.value},null)]):x(Ft,null,[o("trigger",{params:{open:se}}),x(th,{disabled:!e.attach||!P.value,to:P.value},{default:function(){return[x(sd,null,{default:function(){return[(C.value||!w.value)&&Du(x("div",{ref:Te,class:D.value,style:{zIndex:L.value},onWheel:Ce,tabindex:-1,onKeydown:Se},[!!s.value&&x("div",{class:"".concat(r.value,"__modal-mask"),onClick:ge},null),J.value.length>1&&x(Ft,null,[Me(),x("div",{class:"".concat(r.value,"__modal-index")},[e.title&&o("title"),"".concat(g.value+1,"/").concat(J.value.length)]),Re("prev"),Re("next")]),Ae(),x(m7,{onZoomIn:W,onZoomOut:U,onMirror:V,onReset:K,onRotate:ie,onDownload:ne,scale:F.value,currentImage:$.value},null),x(d7,{scale:F.value,rotate:z.value,mirror:j.value,src:$.value.mainImage,placementSrc:$.value.thumbnail,isSvg:$.value.isSvg,imageReferrerpolicy:f.value},null)]),[[ld,C.value]])]}})]}})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var kO=Ye(HSe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var BSe={action:{type:[String,Function]},content:{type:[String,Function]},default:{type:[String,Function]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var b7=pe({name:"TListItem",props:BSe,setup:function(){var e=we("list-item"),t=ft();return function(){var i=t("content"),r=t("default"),o=t("action");return x("li",{class:e.value},[x("div",{class:"".concat(e.value,"-main")},[r||i,o&&x("li",{class:"".concat(e.value,"__action")},[o])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var $Se={asyncLoading:{type:[String,Function]},footer:{type:[String,Function]},header:{type:[String,Function]},layout:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},scroll:{type:Object},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},split:Boolean,stripe:Boolean,onLoadMore:Function,onScroll:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var oW="load-more",VSe="loading";/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function aW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function sW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?aW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):aW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function WSe(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=zSe(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw o}}}}function zSe(n,e){if(n){if(typeof n=="string")return lW(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?lW(n,e):void 0}}function lW(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}var USe=function(){var e=Rl(),t=R(function(){var i=[],r=e("ListItem");if(ut(r)){var o=WSe(r),a;try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push(sW(sW({},s.props),{},{slots:s.children}))}}catch(l){o.e(l)}finally{o.f()}}return i});return{listItems:t}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function uW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var KSe=function(e,t,i){var r=R(function(){return{data:i.value,scroll:e}}),o=wM(t,r),a=R(function(){return o.isVirtualScroll.value}),s=-1,l=function(h){var v=h.target||h.srcElement,g=v.scrollTop;s!==g?o.isVirtualScroll.value&&o.handleScroll():s=-1,s=g},u=R(function(){return{position:"absolute",width:"1px",height:"1px",transition:"transform 0.2s",transform:"translate(0, ".concat(o.scrollHeight.value,"px)"),"-ms-transform":"translate(0, ".concat(o.scrollHeight.value,"px)"),"-moz-transform":"translate(0, ".concat(o.scrollHeight.value,"px)"),"-webkit-transform":"translate(0, ".concat(o.scrollHeight.value,"px)")}}),c=R(function(){return{transform:"translate(0, ".concat(o.translateY.value,"px)"),"-ms-transform":"translate(0, ".concat(o.translateY.value,"px)"),"-moz-transform":"translate(0, ".concat(o.translateY.value,"px)"),"-webkit-transform":"translate(0, ".concat(o.translateY.value,"px)")}}),d=function(h){var v=h.index,g=h.key,p=v===0?v:v??Number(g);if(!p&&p!==0){Yt.error("List","scrollTo: `index` or `key` must exist.");return}if(p<0||p>=i.value.length){Yt.error("List","".concat(p," does not exist in data, check `index` or `key` please."));return}o.scrollToElement(cW(cW({},h),{},{index:p-1}))};return{virtualConfig:o,cursorStyle:u,listStyle:c,isVirtualScroll:a,onInnerVirtualScroll:l,scrollToElement:d}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var qSe=pe({name:"TList",props:$Se,setup:function(e,t){var i=t.expose,r=oe(),o=Dt("list"),a=o.globalConfig,s=we("list"),l=Wn(),u=l.SIZE,c=ft(),d=USe(),f=d.listItems,h=KSe(e.scroll,r,f),v=h.virtualConfig,g=h.cursorStyle,p=h.listStyle,m=h.isVirtualScroll,b=h.onInnerVirtualScroll,C=h.scrollToElement,O=R(function(){return["".concat(s.value),u.value[e.size],X(X(X({},"".concat(s.value,"--split"),e.split),"".concat(s.value,"--stripe"),e.stripe),"".concat(s.value,"--vertical-action"),e.layout==="vertical")]}),w=function(){var M=c("header"),A=c("footer"),j=v.isVirtualScroll.value;return x(Ft,null,[M?x("div",{class:"".concat(s.value,"__header")},[M]):null,j?x(Ft,null,[x("div",{style:g.value},null),x("ul",{class:"".concat(s.value,"__inner"),style:p.value},[v.visibleData.value.map(function(V){return x(Ft,null,[x(b7,br(V,"slots"),V.slots)])})])]):x("ul",{class:"".concat(s.value,"__inner")},[c("default")]),A?x("div",{class:"".concat(s.value,"__footer")},[A]):null])},E=function(M){var A,j=M.target,V=j.scrollTop,H=j.scrollHeight,N=j.clientHeight;m.value&&b(M),(A=e.onScroll)===null||A===void 0||A.call(e,{e:M,scrollTop:V,scrollBottom:H-N-V})},P=R(function(){return kt(e.asyncLoading)&&["loading","load-more"].includes(e.asyncLoading)?"".concat(s.value,"__load ").concat(s.value,"__load--").concat(e.asyncLoading):"".concat(s.value,"__load")}),D=function(){if(e.asyncLoading&&kt(e.asyncLoading)){if(e.asyncLoading===VSe)return x("div",null,[x(ar,null,null),x("span",null,[a.value.loadingText])]);if(e.asyncLoading===oW)return x("span",null,[a.value.loadingMoreText])}return c("asyncLoading")},k=function(M){var A;kt(e.asyncLoading)&&e.asyncLoading!==oW||(A=e.onLoadMore)===null||A===void 0||A.call(e,{e:M})};return i({scrollTo:C}),function(){var L=[w(),x("div",{class:P.value,onClick:k},[D()])];return x("div",{class:O.value,onScroll:E,ref:r,style:m.value?"position:relative":void 0},[L])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var GSe={avatar:{type:[String,Function]},description:{type:[String,Function]},image:{type:[String,Function]},title:{type:[String,Function]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var YSe=pe({name:"TListItemMeta",props:GSe,setup:function(e,t){var i=we("list-item__meta"),r=Mn(),o=ft(),a=function(){(e.avatar||t.slots.avatar)&&console.warn("`avatar` is going to be deprecated, please use `image` instead");var l=r("avatar","image");if(l)return kt(l)?x("div",{class:"".concat(i.value,"-avatar")},[x("img",{src:l},null)]):x("div",{class:"".concat(i.value,"-avatar")},[l])};return function(){var s=o("title"),l=o("description"),u=[a(),x("div",{class:"".concat(i.value,"-content")},[s&&x("h3",{class:"".concat(i.value,"-title")},[s]),l&&x("p",{class:"".concat(i.value,"-description")},[l])])];return x("div",{class:i.value},[u])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var ZSe=Ye(qSe),XSe=Ye(b7),JSe=Ye(YSe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var rv={LINE:"line",PLUMP:"plump",CIRCLE:"circle"},Q_={SMALL:"small",MEDIUM:"medium",LARGE:"large"},ou={SMALL:72,MEDIUM:112,LARGE:160},gE={SMALL:14/ou.SMALL,MEDIUM:20/ou.MEDIUM,LARGE:36/ou.LARGE},QSe=["success","error","warning"];/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var e1e={color:{type:[String,Object,Array],default:""},label:{type:[String,Boolean,Function],default:!0},percentage:{type:Number,default:0},size:{type:[String,Number],default:"medium"},status:{type:String,validator:function(e){return e?["success","error","warning","active"].includes(e):!0}},strokeWidth:{type:[String,Number]},theme:{type:String,default:"line",validator:function(e){return e?["line","plump","circle"].includes(e):!0}},trackColor:{type:String,default:""}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var t1e=pe({name:"TProgress",props:e1e,setup:function(e){var t=ft(),i=we("progress"),r=On({CloseCircleFilledIcon:Sp,CheckCircleFilledIcon:Yu,ErrorCircleFilledIcon:Al,CloseIcon:js,CheckIcon:YL,ErrorIcon:$fe}),o=r.CloseCircleFilledIcon,a=r.CheckCircleFilledIcon,s=r.ErrorCircleFilledIcon,l=r.CloseIcon,u=r.CheckIcon,c=r.ErrorIcon,d=R(function(){return!e.status&&e.percentage>=100?"success":e.status||"default"}),f=R(function(){var D={};if(e.strokeWidth){var k=kt(e.strokeWidth)?e.strokeWidth:"".concat(e.strokeWidth,"px");D.height=k,D.borderRadius=k}return e.trackColor&&(D.backgroundColor=e.trackColor),D}),h=R(function(){return{width:"".concat(e.percentage,"%"),background:e.color&&Cde(e.color)}}),v=R(function(){var D=Wt(e.color)?"":e.color;return{stroke:D}}),g=R(function(){var D=Wt(e.trackColor)?"":e.trackColor;return{stroke:D}}),p=R(function(){var D=ou.MEDIUM;if(!e.size)return D;var k=Q_.SMALL,L=Q_.LARGE,M=Q_.MEDIUM;switch(e.size){case k:D=ou.SMALL;break;case M:D=ou.MEDIUM;break;case L:D=ou.LARGE;break;default:D=Number(e.size);break}return D}),m=R(function(){return p.value/2}),b=R(function(){return m.value-O.value/2}),C=R(function(){if(e.theme!==rv.CIRCLE)return{};var D=p.value*gE.MEDIUM;return p.value<=ou.SMALL?D=p.value*gE.SMALL:p.value>=ou.LARGE&&(D=p.value*gE.LARGE),{width:"".concat(p.value,"px"),height:"".concat(p.value,"px"),fontSize:"".concat(D,"px")}}),O=R(function(){var D=e.size===Q_.SMALL?4:6;return e.strokeWidth?Number(e.strokeWidth):D}),w=R(function(){var D=(p.value-O.value)/2,k=Math.PI*2*D,L=e.percentage/100;return"".concat(k*L,"  ").concat(k*(1-L))}),E=function(){var k={success:u,warning:c,error:l},L={success:a,warning:s,error:o};return e.theme===rv.CIRCLE?k:L},P=function(){var k="".concat(e.percentage,"%"),L=e.status||"";if(QSe.includes(L)&&e.theme!==rv.PLUMP){var M=E(),A=M[L];A&&(k=x(A,{class:["".concat(i.value,"__icon")]},null))}return k};return function(){var D=x("div",{class:"".concat(i.value,"__info")},[t("label",P())]),k=10,L=e.percentage>k?"".concat(i.value,"--over-ten"):"".concat(i.value,"--under-ten");return x("div",{class:i.value},[e.theme===rv.LINE&&x("div",{class:"".concat(i.value,"--thin ").concat(i.value,"--status--").concat(d.value)},[x("div",{class:"".concat(i.value,"__bar"),style:f.value},[x("div",{class:"".concat(i.value,"__inner"),style:h.value},null)]),D]),e.theme===rv.PLUMP&&x("div",{class:["".concat(i.value,"__bar ").concat(i.value,"--plump ").concat(L),X({},"".concat(i.value,"--status--").concat(d.value),d.value)],style:f.value},[x("div",{class:"".concat(i.value,"__inner"),style:h.value},[e.percentage>k&&D]),e.percentage<=k&&D]),e.theme===rv.CIRCLE&&x("div",{class:"".concat(i.value,"--circle ").concat(i.value,"--status--").concat(d.value),style:C.value},[D,x("svg",{width:p.value,height:p.value,viewBox:"0 0 ".concat(p.value," ").concat(p.value)},[x("circle",{cx:m.value,cy:m.value,r:b.value,"stroke-width":O.value,fill:"none",class:["".concat(i.value,"__circle-outer")],style:g.value},null),e.percentage>0&&x("circle",{cx:m.value,cy:m.value,r:b.value,"stroke-width":O.value,fill:"none","stroke-linecap":"round",class:["".concat(i.value,"__circle-inner")],transform:"matrix(0,-1,1,0,0,".concat(p.value,")"),"stroke-dasharray":w.value,style:v.value},null)])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var n1e=Ye(t1e);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var i1e={animation:{type:String,default:"none",validator:function(e){return e?["gradient","flashed","none"].includes(e):!0}},delay:{type:Number,default:0},loading:{type:Boolean,default:!0},rowCol:{type:Array},theme:{type:String,validator:function(e){return e?["text","avatar","paragraph","avatar-text","tab","article"].includes(e):!0}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var r1e={text:[1],avatar:[{type:"circle",size:"56px"}],paragraph:[1,1,{width:"70%"}],"avatar-text":[[{type:"circle"},{type:"text",height:"32px"}]],tab:[{height:"30px"},{height:"200px"}],article:[{type:"rect",height:"30px",width:"100%"},{type:"rect",height:"200px",width:"100%"},[{type:"text",height:"30px"},{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}],[{type:"text",height:"30px"},{type:"text",height:"30px"}]]},o1e=function(e){var t=["width","height","marginRight","marginLeft","margin","size","background","backgroundColor"],i=Object.create(null);return t.forEach(function(r){if(r in e){var o=e[r],a=Dn(o)?"".concat(o,"px"):o;if(r==="size"){var s=[a,a];i.width=s[0],i.height=s[1]}else i[r]=a}}),i},a1e=pe({name:"TSkeleton",props:i1e,setup:function(e,t){var i=t.slots,r=oe(!1),o=we("skeleton"),a=Mn(),s=function(f){return["".concat(o.value,"__col"),"".concat(o.value,"--type-").concat(f.type||"text"),X({},"".concat(o.value,"--animation-").concat(e.animation),e.animation)]},l=function(f){var h=[];return ut(f)?h=f:Dn(f)?h=new Array(f).fill({type:"text"}):h=[f],h.map(function(v){return x("div",{class:s(v),style:o1e(v)},[qe(v.content)?v.content(At):v.content])})},u=function(f){var h=f||e.rowCol,v=function(){return["".concat(o.value,"__row")]};return h.map(function(g){return x("div",{class:v()},[l(g)])})},c=null;return Pe(function(){return e.loading},function(d){if(!d){clearTimeout(c),r.value=!1;return}e.delay>0?c=setTimeout(function(){clearTimeout(c),r.value=!0},e.delay):r.value=!0},{immediate:!0}),function(){var d=a("default","content");if(i.default&&!r.value)return x("div",null,[d]);if(r.value){var f=[];return e.theme&&f.push(u(r1e[e.theme])),e.rowCol&&f.push(u(e.rowCol)),!e.theme&&!e.rowCol&&f.push(u([1,1,1,{width:"70%"}])),x("div",{class:o.value},[f])}}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var y7=Ye(a1e);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var s1e={animation:{type:Object},animationStart:Boolean,color:{type:String,validator:function(e){return e?["black","blue","red","orange","green"].includes(e):!0}},decimalPlaces:{type:Number},extra:{type:[String,Function]},format:{type:Function},loading:Boolean,prefix:{type:[String,Function]},separator:{type:String,default:","},suffix:{type:[String,Function]},title:{type:[String,Function]},trend:{type:String,validator:function(e){return e?["increase","decrease"].includes(e):!0}},trendPlacement:{type:String,default:"left",validator:function(e){return e?["left","right"].includes(e):!0}},unit:{type:[String,Function]},value:{type:Number}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var dW=function(e){return 1-Math.abs(Math.pow(e-1,4))},l1e=function(){function n(e){var t=this,i=e.from,r=e.to,o=e.duration,a=o===void 0?200:o,s=e.onStart,l=e.onUpdate,u=l===void 0?function(){}:l,c=e.onFinish;Zu(this,n),X(this,"from",void 0),X(this,"to",void 0),X(this,"duration",void 0),X(this,"onStart",void 0),X(this,"onUpdate",void 0),X(this,"onFinish",void 0),X(this,"startTime",void 0),X(this,"started",void 0),X(this,"finished",void 0),X(this,"timer",void 0),X(this,"keys",void 0),X(this,"time",0),X(this,"elapsed",0),this.from=i,this.to=r,this.duration=a,this.onStart=s,this.onUpdate=u,this.onFinish=c,this.startTime=Date.now(),this.started=!1,this.finished=!1,this.timer=null,this.keys={},Object.entries(i).forEach(function(d){var f=Je(d,2),h=f[0],v=f[1];t.to[h]===void 0&&(t.to[h]=v)}),Object.entries(r).forEach(function(d){var f=Je(d,2),h=f[0],v=f[1];t.from[h]===void 0&&(t.from[h]=v)})}return Xu(n,[{key:"update",value:function(){var t=this;if(this.time=Date.now(),!(this.time<this.startTime||this.finished)){if(this.elapsed>=this.duration){var i;this.finished=!0,(i=this.onFinish)===null||i===void 0||i.call(this,this.keys);return}var r=Math.min(this.time-this.startTime,this.duration);this.elapsed=r;var o=dW(r/this.duration);if(Object.keys(this.to).forEach(function(s){var l=t.to[s]-t.from[s];t.keys[s]=t.from[s]+l*o}),!this.started){var a;(a=this.onStart)===null||a===void 0||a.call(this,this.keys),this.started=!0}this.onUpdate(this.keys)}}},{key:"polyfillStart",value:function(){var t=this,i=Date.now()-this.startTime,r=dW(i/this.duration);this.timer=setInterval(function(){t.update(),t.finished&&clearInterval(t.timer)},r)}},{key:"normalStart",value:function(){var t=this,i=function(){t.update(),t.timer=requestAnimationFrame(i),t.finished&&(cancelAnimationFrame(t.timer),t.timer=null)};i()}},{key:"start",value:function(){this.startTime=Date.now(),Tu()<10?this.polyfillStart():this.normalStart()}},{key:"stop",value:function(){Tu()<10?clearInterval(this.timer):cancelAnimationFrame(this.timer),this.timer=null}}])}(),u1e={black:"var(--td-text-color-primary)",blue:"var(--td-brand-color)",red:"var(--td-error-color)",orange:"var(--td-warning-color)",green:"var(--td-success-color)"};function c1e(n,e,t){var i={minimumFractionDigits:e??0,maximumFractionDigits:e??20,useGrouping:!!t};return n.toLocaleString(void 0,i).replace(/,|，/g,t)}var d1e=pe({name:"TStatistic",props:s1e,setup:function(e,t){var i,r,o=t.expose,a=we("statistic"),s=ft(),l=On({ArrowTriangleUpFilledIcon:afe,ArrowTriangleDownFilledIcon:rfe}),u=l.ArrowTriangleUpFilledIcon,c=l.ArrowTriangleDownFilledIcon,d={increase:x(u,null,null),decrease:x(c,null,null)},f=R(function(){return Dn(e.value)?e.value:0}),h=oe((i=(r=e.animation)===null||r===void 0?void 0:r.valueFrom)!==null&&i!==void 0?i:e.value),v=R(function(){var w,E,P;return(w=(E=e.decimalPlaces)!==null&&E!==void 0?E:(P=f.value.toString().split(".")[1])===null||P===void 0?void 0:P.length)!==null&&w!==void 0?w:0}),g=oe(),p=rt(e),m=p.value,b=function(){var E,P,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(E=(P=e.animation)===null||P===void 0?void 0:P.valueFrom)!==null&&E!==void 0?E:0,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.value;if(D!==k){var L;g.value=new l1e({from:{value:D},to:{value:k},duration:e.animation.duration,onUpdate:function(A){h.value=Number(A.value.toFixed(v.value))},onFinish:function(){h.value=k}}),(L=g.value)===null||L===void 0||L.start()}},C=R(function(){return qe(e.format)?e.format(h.value):c1e(h.value,e.decimalPlaces,e.separator)}),O=R(function(){var w=e.color;return{color:u1e[w]||w}});return Pe(function(){return e.animationStart},function(w){e.animation&&w&&!g.value&&b()}),Pe(m,function(w){if(g.value){var E;(E=g.value)===null||E===void 0||E.stop(),g.value=null}h.value=w,e.animationStart&&e.animation&&b()}),mt(function(){return e.animation&&e.animationStart&&b()}),o({start:b}),function(){var w=e.trend?d[e.trend]:null,E=s("prefix")||(w&&e.trendPlacement!=="right"?w:null),P=s("suffix")||(w&&e.trendPlacement==="right"?w:null),D=s("title"),k=s("unit"),L=s("extra");return x("div",{class:a.value},[D&&x("div",{class:"".concat(a.value,"-title")},[D]),x(y7,{animation:"gradient",theme:"text",loading:!!e.loading},{default:function(){return[x("div",{class:"".concat(a.value,"-content"),style:O.value},[E&&x("span",{class:"".concat(a.value,"-content-prefix")},[E]),x("span",{class:"".concat(a.value,"-content-value")},[C.value]),k&&x("span",{class:"".concat(a.value,"-content-unit")},[k]),P&&x("span",{class:"".concat(a.value,"-content-suffix")},[P])])]}}),L&&x("div",{class:"".concat(a.value,"-extra")},[L])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var f1e=Ye(d1e);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var _7={animation:{type:String,default:"slide",validator:function(e){return e?["slide","fade"].includes(e):!0}},autoplay:{type:Boolean,default:!0},current:{type:Number,default:0},defaultCurrent:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},duration:{type:Number,default:300},height:{type:Number},interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},navigation:{type:[Object,Function]},stopOnHover:{type:Boolean,default:!0},theme:{type:String,default:"light",validator:function(e){return e?["light","dark"].includes(e):!0}},trigger:{type:String,default:"hover",validator:function(e){return e?["hover","click"].includes(e):!0}},type:{type:String,default:"default",validator:function(e){return e?["default","card"].includes(e):!0}},cardScale:{type:Number,default:210/332},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function fW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var h1e={index:{type:Number},currentIndex:{type:Number},isSwitching:{type:Boolean,default:!1},getWrapAttribute:{type:Function},swiperItemLength:{type:Number,default:0}},pE=.415,w7=pe({name:"TSwiperItem",props:hW(hW({},_7),h1e),setup:function(e,t){var i=t.slots,r=we(),o=R(function(){return e.index===e.currentIndex}),a=R(function(){return e.type!=="card"?0:e.currentIndex===0&&e.index===e.swiperItemLength-1?-1:e.currentIndex===e.swiperItemLength-1&&e.index===0?e.swiperItemLength:e.index<e.currentIndex-1&&e.currentIndex-e.index>=e.swiperItemLength/2?e.swiperItemLength+1:e.index>e.currentIndex+1&&e.index-e.currentIndex>=e.swiperItemLength/2?-2:e.index}),s=R(function(){if(e.type!=="card")return 0;var c=e.getWrapAttribute("offsetWidth")||0,d=!o.value&&e.swiperItemLength>2?a.value:e.index,f=Math.abs(d-e.currentIndex)<=1;return f?c*((d-e.currentIndex)*(1-pE*e.cardScale)-pE+1)/2:d<e.currentIndex?-.415*(1+e.cardScale)*c/2:(2+pE*(e.cardScale-1))*c/2}),l=R(function(){if(e.type!=="card")return 0;var c=!o.value&&e.swiperItemLength>2?a.value:e.index,d=c===e.currentIndex,f=Math.round(Math.abs(c-e.currentIndex))<=1;return d?2:f?1:0}),u=R(function(){if(e.animation==="fade")return{opacity:o.value?1:0,transition:e.isSwitching?"opacity ".concat(e.duration/1e3,"s"):"",zIndex:o.value?1:0};if(e.type==="card"){var c=!o.value&&e.swiperItemLength>2?a.value:e.index,d=c===e.currentIndex;return{transform:"translateX(".concat(s.value,"px) scale(").concat(d?1:e.cardScale,")"),transition:"transform ".concat(e.duration/1e3,"s ease"),zIndex:l.value}}return{}});return function(){var c;return x("div",{class:["".concat(r.value,"-swiper__container__item"),X(X(X({},"".concat(r.value,"-swiper__card"),e.type==="card"),"".concat(r.value,"-is-active"),e.type==="card"&&o.value),"".concat(r.value,"-swiper__fade"),e.animation==="fade")],style:u.value},[((c=i.default)===null||c===void 0?void 0:c.call(i,{}))||[]])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function vW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ew(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function v1e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var g1e={placement:"inside",showSlideBtn:"always",size:"medium",type:"bars"},p1e=pe({name:"TSwiper",props:_7,emits:["update:current"],setup:function(e,t){var i=t.emit,r=we(),o=ft(),a=On({ChevronLeftIcon:Cp,ChevronRightIcon:_d}),s=a.ChevronLeftIcon,l=a.ChevronRightIcon,u=null,c=0,d=!1,f=!1,h=oe(e.current||e.defaultCurrent),v=oe(e.current||e.defaultCurrent),g=oe(!1),p=oe(!1),m=oe(!1),b=oe(),C=Rl(),O=oe(0),w=R(function(){return ew(ew({},g1e),Qt(e.navigation)?{}:e.navigation)}),E=R(function(){return e.type==="card"?!e.loop&&h.value+1>=O.value:!e.loop&&h.value+2>=O.value}),P=R(function(){return[e.autoplay,h.value,e.duration,e.interval]}),D=R(function(){return X(X(X(X(X(X({},"".concat(r.value,"-swiper__wrap"),!0),"".concat(r.value,"-swiper--inside"),w.value.placement==="inside"),"".concat(r.value,"-swiper--outside"),w.value.placement==="outside"),"".concat(r.value,"-swiper--vertical"),e.direction==="vertical"),"".concat(r.value,"-swiper--large"),w.value.size==="large"),"".concat(r.value,"-swiper--small"),w.value.size==="small")}),k=R(function(){var K=e.height?"".concat(e.height,"px"):"".concat(q("offsetHeight"),"px");if(e.type==="card"||e.animation==="fade")return{height:K};if(e.animation==="slide"){var J={transition:p.value?"transform ".concat(e.duration/1e3,"s ease"):""},$=h.value;return O.value>1&&($+=1,(d||f)&&(J.transition="")),e.direction==="vertical"?(J.height=K,J.transform="translate3d(0, -".concat($*100,"%, 0px)")):J.transform="translate3d(-".concat($*100,"%, 0px, 0px)"),["msTransform","WebkitTransform"].forEach(function(Y){J[Y]=J.transform}),J}return{}}),L=function(){var J=C("SwiperItem");O.value=J.length;var $=J.map(function(ae,le){var Q,ne=ew(ew({},e),ae.props);return x(w7,He({index:le,currentIndex:h.value,isSwitching:p.value,getWrapAttribute:q,swiperItemLength:O.value},ne),v1e(Q=ae.children.default())?Q:{default:function(){return[Q]}})});if(e.animation==="slide"&&$.length>1){var Y=Pl($[0],{key:"swiper-item-append-".concat(0)}),te=Pl($[$.length-1],{key:"swiper-item-prepend-".concat($.length-1)});$.unshift(te),$.push(Y)}return $},M=function(J,$){var Y,te=J%O.value;v.value=te,i("update:current",te),(Y=e.onChange)===null||Y===void 0||Y.call(e,te,$),p.value=!0,e.animation==="slide"&&O.value>1&&e.type!=="card"&&(te=J,d=!1,f=!1,J>=O.value&&(A(),setTimeout(function(){f=!0,h.value=0},e.duration)),h.value===0&&(O.value>2&&J===O.value-1||O.value===2&&J===0)&&(te=-1,v.value=O.value-1,A(),setTimeout(function(){d=!0,h.value=O.value-1},e.duration))),h.value=te},A=function(){u&&(clearTimeout(u),u=null)},j=function(){e.autoplay&&e.interval>0&&(A(),u=setTimeout(function(){M(h.value+1,{source:"autoplay"})},h.value===0?e.interval-(e.duration+50):e.interval))},V=function(){g.value=!0,e.stopOnHover&&A(),w.value.showSlideBtn==="hover"&&(m.value=!0)},H=function(){g.value=!1,E.value||j(),w.value.showSlideBtn==="hover"&&(m.value=!1)},N=function(J){e.trigger==="hover"&&M(J,{source:"hover"})},F=function(J){e.trigger==="click"&&M(J,{source:"click"})},W=function(J){if(!p.value)return e.type==="card"?M(h.value+1>=O.value?0:h.value+1,J):M(h.value+1,J)},U=function(J){if(!p.value)return h.value-1<0?e.animation==="slide"&&O.value===2?M(0,J):M(O.value-1,J):M(h.value-1,J)},q=function(J){var $;return($=b.value)===null||$===void 0||($=$.parentNode)===null||$===void 0?void 0:$[J]},Z=function(){var J=h.value+1>O.value?1:h.value+1;return x("div",{class:"".concat(r.value,"-swiper__arrow")},[x("div",{class:"".concat(r.value,"-swiper__arrow-left"),onClick:function(){return U({source:"click"})}},[x(s,null,null)]),x("div",{class:"".concat(r.value,"-swiper__navigation-text-fraction")},[J,"/",O.value]),x("div",{class:"".concat(r.value,"-swiper__arrow-right"),onClick:function(){return W({source:"click"})}},[x(l,null,null)])])},z=function(){return m.value?x("div",{class:["".concat(r.value,"-swiper__arrow"),"".concat(r.value,"-swiper__arrow--default")]},[x("div",{class:"".concat(r.value,"-swiper__arrow-left"),onClick:function(){return U({source:"click"})}},[x(s,null,null)]),x("div",{class:"".concat(r.value,"-swiper__arrow-right"),onClick:function(){return W({source:"click"})}},[x(l,null,null)])]):null},ie=function(){if(Qt(e.navigation))return e.navigation;var J=o("navigation");if(J&&Qt(J==null?void 0:J[0]))return J;if(w.value.type==="fraction")return x("div",{class:["".concat(r.value,"-swiper__navigation"),"".concat(r.value,"-swiper__navigation--fraction")]},[Z()]);var $=C("SwiperItem");return x("ul",{class:["".concat(r.value,"-swiper__navigation"),X(X(X({},"".concat(r.value,"-swiper__navigation-bars"),w.value.type==="bars"),"".concat(r.value,"-swiper__navigation-dots"),w.value.type==="dots"),"".concat(r.value,"-swiper__navigation-dots-bar"),w.value.type==="dots-bar")]},[$.map(function(Y,te){return x("li",{key:te,class:["".concat(r.value,"-swiper__navigation-item"),X({},"".concat(r.value,"-is-active"),te===v.value)],onMouseenter:function(){return N(te)},onClick:function(){return F(te)}},[x("span",null,null)])})])},ee=function(){return L()};return Pe(function(){return P.value},function(){j()}),Pe(function(){return p.value},function(){p.value&&(c&&clearTimeout(c),c=setTimeout(function(){p.value=!1,c=0,E.value&&A()},e.duration+50))}),Pe(function(){return e.current},function(){M(e.current,{source:"autoplay"})}),mt(function(){j(),m.value=w.value.showSlideBtn==="always"}),function(){return x("div",{class:["".concat(r.value,"-swiper")],onMouseenter:V,onMouseleave:H,ref:b},[x("div",{class:D.value},[x("div",{class:["".concat(r.value,"-swiper__content"),X(X({},"".concat(r.value,"-swiper-fade"),e.animation==="fade"),"".concat(r.value,"-swiper-card"),e.type==="card")]},[x("div",{class:"".concat(r.value,"-swiper__container"),style:k.value},[ee()])]),ie(),z()])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var m1e=Ye(p1e),b1e=Ye(w7);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var $g={activeRowKeys:{type:Array,default:void 0},defaultActiveRowKeys:{type:Array,default:function(){return[]}},activeRowType:{type:String,default:""},allowResizeColumnWidth:{type:Boolean,default:void 0},attach:{type:[String,Function]},bordered:Boolean,bottomContent:{type:[String,Function]},cellEmptyContent:{type:[String,Function]},columns:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},disableDataPage:Boolean,disableSpaceInactiveRow:{type:Boolean,default:void 0},empty:{type:[String,Function],default:""},firstFullRow:{type:[String,Function]},fixedRows:{type:Array},footData:{type:Array,default:function(){return[]}},footerAffixProps:{type:Object},footerAffixedBottom:{type:[Boolean,Object],default:!1},footerSummary:{type:[String,Function]},headerAffixProps:{type:Object},headerAffixedTop:{type:[Boolean,Object],default:!1},height:{type:[String,Number]},horizontalScrollAffixedBottom:{type:[Boolean,Object]},hover:Boolean,keyboardRowHover:{type:Boolean,default:!0},lastFullRow:{type:[String,Function]},lazyLoad:Boolean,loading:{type:[Boolean,Function],default:void 0},loadingProps:{type:Object},locale:{type:Object},maxHeight:{type:[String,Number]},pagination:{type:Object},paginationAffixedBottom:{type:[Boolean,Object]},resizable:Boolean,rowAttributes:{type:[Object,Array,Function]},rowClassName:{type:[String,Object,Array,Function]},rowKey:{type:String,default:"id",required:!0},rowspanAndColspan:{type:Function},rowspanAndColspanInFooter:{type:Function},scroll:{type:Object},showHeader:{type:Boolean,default:!0},size:{type:String,validator:function(e){return e?["small","medium","large"].includes(e):!0}},stripe:Boolean,tableContentWidth:{type:String,default:""},tableLayout:{type:String,default:"fixed",validator:function(e){return e?["auto","fixed"].includes(e):!0}},topContent:{type:[String,Function]},verticalAlign:{type:String,default:"middle",validator:function(e){return e?["top","middle","bottom"].includes(e):!0}},onActiveChange:Function,onActiveRowAction:Function,onCellClick:Function,onColumnResizeChange:Function,onPageChange:Function,onRowClick:Function,onRowDblclick:Function,onRowMousedown:Function,onRowMouseenter:Function,onRowMouseleave:Function,onRowMouseover:Function,onRowMouseup:Function,onScroll:Function,onScrollX:Function,onScrollY:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function C7(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=t,r=0,o=n.length;r<o;r++){var a,s=n[r];if(e.set(s,t),s!=null&&(a=s.children)!==null&&a!==void 0&&a.length){var l=C7(s.children,e,t+1);l>i&&(i=l)}}return i}function S7(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=e,i=(n==null?void 0:n.children)||[],r=0,o=i.length;r<o;r++){var a=i[r];a.children?t=S7(a,t):t+=1}return t}function y1e(n){var e=new Map,t=C7(n,e),i=new Map,r=function(s,l){for(var u=0,c=s.length;u<c;u++){var d,f=s[u],h=f.children?1:t-e.get(f)+1,v=f.children?S7(f):1,g={};h>1&&(g.rowspan=h),v>1&&(g.colspan=v),i.set(f,g),f!=null&&(d=f.children)!==null&&d!==void 0&&d.length?r(f.children,l):l.push(f)}},o=[];return r(n,o),{rowspanAndColspanMap:i,leafColumns:o}}function _1e(n){var e=function(r,o){for(var a,s=[],l=[],u=0,c=r.length;u<c;u++){var d,f=r[u],h=[f];s=s.concat(h),f!=null&&(d=f.children)!==null&&d!==void 0&&d.length&&(l=l.concat(f.children))}return(a=l)!==null&&a!==void 0&&a.length&&e(l,o),o.push(s),s},t=[];return e(n,t),t=t.reverse(),t}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Qo(){var n=we(),e={classPrefix:n.value,tableBaseClass:{table:"".concat(n.value,"-table"),columnResizableTable:"".concat(n.value,"-table--column-resizable"),overflowVisible:"".concat(n.value,"-table--overflow-visible"),body:"".concat(n.value,"-table__body"),content:"".concat(n.value,"-table__content"),topContent:"".concat(n.value,"-table__top-content"),bottomContent:"".concat(n.value,"-table__bottom-content"),paginationWrap:"".concat(n.value,"-table__pagination-wrap"),tdLastRow:"".concat(n.value,"-table__td-last-row"),tdFirstCol:"".concat(n.value,"-table__td-first-col"),thCellInner:"".concat(n.value,"-table__th-cell-inner"),tableRowEdit:"".concat(n.value,"-table--row-edit"),cellEditable:"".concat(n.value,"-table__cell--editable"),cellEditWrap:"".concat(n.value,"-table__cell-wrap"),bordered:"".concat(n.value,"-table--bordered"),striped:"".concat(n.value,"-table--striped"),hover:"".concat(n.value,"-table--hoverable"),loading:"".concat(n.value,"-table--loading"),rowspanAndColspan:"".concat(n.value,"-table--rowspan-colspan"),empty:"".concat(n.value,"-table__empty"),emptyRow:"".concat(n.value,"-table__empty-row"),headerFixed:"".concat(n.value,"-table--header-fixed"),columnFixed:"".concat(n.value,"-table--column-fixed"),widthOverflow:"".concat(n.value,"-table--width-overflow"),multipleHeader:"".concat(n.value,"-table--multiple-header"),footerAffixed:"".concat(n.value,"-table--footer-affixed"),horizontalBarAffixed:"".concat(n.value,"-table--horizontal-bar-affixed"),affixedHeader:"".concat(n.value,"-table--affixed-header"),affixedHeaderElm:"".concat(n.value,"-table__affixed-header-elm"),affixedFooterElm:"".concat(n.value,"-table__affixed-footer-elm"),affixedFooterWrap:"".concat(n.value,"-table__affixed-footer-wrap"),scrollbarDivider:"".concat(n.value,"-table__scroll-bar-divider"),fullHeight:"".concat(n.value,"-table--full-height"),resizeLine:"".concat(n.value,"-table__resize-line"),obviousScrollbar:"".concat(n.value,"-table__scrollbar--obvious"),affixedHeaderWrap:"".concat(n.value,"-table__affixed-header-elm-wrap")},tdAlignClasses:{left:"".concat(n.value,"-align-left"),right:"".concat(n.value,"-align-right"),center:"".concat(n.value,"-align-center")},tableHeaderClasses:{header:"".concat(n.value,"-table__header"),thBordered:"".concat(n.value,"-table__header-th--bordered"),fixed:"".concat(n.value,"-table__header--fixed"),multipleHeader:"".concat(n.value,"-table__header--multiple")},tableFooterClasses:{footer:"".concat(n.value,"-table__footer"),fixed:"".concat(n.value,"-table__footer--fixed")},tableAlignClasses:{top:"".concat(n.value,"-vertical-align-top"),middle:"".concat(n.value,"-vertical-align-middle"),bottom:"".concat(n.value,"-vertical-align-bottom")},tableRowFixedClasses:{top:"".concat(n.value,"-table__row--fixed-top"),bottom:"".concat(n.value,"-table__row--fixed-bottom"),firstBottom:"".concat(n.value,"-table__row--fixed-bottom-first"),withoutBorderBottom:"".concat(n.value,"-table__row--without-border-bottom")},tableColFixedClasses:{left:"".concat(n.value,"-table__cell--fixed-left"),right:"".concat(n.value,"-table__cell--fixed-right"),lastLeft:"".concat(n.value,"-table__cell--fixed-left-last"),firstRight:"".concat(n.value,"-table__cell--fixed-right-first"),leftShadow:"".concat(n.value,"-table__content--scrollable-to-left"),rightShadow:"".concat(n.value,"-table__content--scrollable-to-right")},tableLayoutClasses:{auto:"".concat(n.value,"-table--layout-auto"),fixed:"".concat(n.value,"-table--layout-fixed")},tdEllipsisClass:"".concat(n.value,"-table-td--ellipsis"),tableFullRowClasses:{base:"".concat(n.value,"-table__row--full"),innerFullRow:"".concat(n.value,"-table__row-full-inner"),innerFullElement:"".concat(n.value,"-table__row-full-element"),firstFullRow:"".concat(n.value,"-table__first-full-row"),lastFullRow:"".concat(n.value,"-table__last-full-row")},tableExpandClasses:{iconBox:"".concat(n.value,"-table__expand-box"),iconCell:"".concat(n.value,"-table__expandable-icon-cell"),rowExpanded:"".concat(n.value,"-table__row--expanded"),rowFolded:"".concat(n.value,"-table__row--folded"),row:"".concat(n.value,"-table__expanded-row"),rowInner:"".concat(n.value,"-table__expanded-row-inner"),expanded:"".concat(n.value,"-table__row--expanded"),collapsed:"".concat(n.value,"-table__row--collapsed")},tableSortClasses:{sortable:"".concat(n.value,"-table__cell--sortable"),sortColumn:"".concat(n.value,"-table__sort-column"),title:"".concat(n.value,"-table__cell--title"),trigger:"".concat(n.value,"-table__cell--sort-trigger"),doubleIcon:"".concat(n.value,"-table__double-icons"),sortIcon:"".concat(n.value,"-table__sort-icon"),iconDirection:{asc:"".concat(n.value,"-table-sort-asc"),desc:"".concat(n.value,"-table-sort-desc")},iconActive:"".concat(n.value,"-table__sort-icon--active"),iconDefault:"".concat(n.value,"-icon-sort--default")},tableSelectedClasses:{selected:"".concat(n.value,"-table__row--selected"),disabled:"".concat(n.value,"-table__row--disabled"),checkCell:"".concat(n.value,"-table__cell-check")},tableFilterClasses:{filterable:"".concat(n.value,"-table__cell--filterable"),popup:"".concat(n.value,"-table__filter-pop"),icon:"".concat(n.value,"-table__filter-icon"),popupContent:"".concat(n.value,"-table__filter-pop-content"),result:"".concat(n.value,"-table__filter-result"),inner:"".concat(n.value,"-table__row-filter-inner"),bottomButtons:"".concat(n.value,"-table__filter--bottom-buttons"),contentInner:"".concat(n.value,"-table__filter-pop-content-inner"),iconWrap:"".concat(n.value,"-table__filter-icon-wrap")},asyncLoadingClass:"".concat(n.value,"-table__async-loading"),isFocusClass:"".concat(n.value,"-is-focus"),isLoadingClass:"".concat(n.value,"-is-loading"),isLoadMoreClass:"".concat(n.value,"-is-load-more"),tableTreeClasses:{col:"".concat(n.value,"-table__tree-col"),inlineCol:"".concat(n.value,"-table__tree-col--inline"),icon:"".concat(n.value,"-table__tree-op-icon"),leafNode:"".concat(n.value,"-table__tree-leaf-node")},tableDraggableClasses:{rowDraggable:"".concat(n.value,"-table--row-draggable"),rowHandlerDraggable:"".concat(n.value,"-table--row-handler-draggable"),colDraggable:"".concat(n.value,"-table--col-draggable"),handle:"".concat(n.value,"-table__handle-draggable"),ghost:"".concat(n.value,"-table__ele--draggable-ghost"),chosen:"".concat(n.value,"-table__ele--draggable-chosen"),dragging:"".concat(n.value,"-table__ele--draggable-dragging"),dragSortTh:"".concat(n.value,"-table__th--drag-sort")},virtualScrollClasses:{cursor:"".concat(n.value,"-table__virtual-scroll-cursor"),header:"".concat(n.value,"-table__virtual-scroll-header")},positiveRotate90:"".concat(n.value,"-positive-rotate-90"),negativeRotate180:"".concat(n.value,"-negative-rotate-180")};return e}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function gW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function w1e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function C1e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var xM=pe({name:"TEllipsis",props:{content:{type:[String,Function]},default:{type:[String,Function]},tooltipContent:{type:[String,Number,Function]},placement:String,attach:[String,Function],tooltipProps:Object,zIndex:Number,overlayClassName:String,classPrefix:{type:String,default:"t"}},setup:function(e){var t=oe(),i=oe(!1),r=oe(!1),o=R(function(){return["".concat(e.classPrefix,"-table__ellipsis"),"".concat(e.classPrefix,"-text-ellipsis")]}),a=R(function(){return["".concat(e.classPrefix,"-table__ellipsis-content"),e.overlayClassName]});mt(function(){r.value=n0(t.value)}),zu(function(){r.value=n0(t.value)});var s=function(){t.value&&(i.value=!0)},l=function(){t.value},u=function(f){f||(i.value=!1)},c=qu(function(d){d.type==="mouseleave"?l():s()},80);return{flag:i,root:t,isOverflow:r,ellipsisClasses:o,innerEllipsisClassName:a,onMouseAround:c,handleVisibleChange:u}},render:function(){var e=Nde(this,"default","content"),t=x("div",{ref:"root",class:this.ellipsisClasses,onMouseenter:this.onMouseAround,onMouseleave:this.onMouseAround,style:{textOverflow:this.isOverflow?"ellipsis":"clip"}},[e]),i=null,r=this.tooltipProps;if(this.isOverflow&&this.flag){var o=w1e({content:this.tooltipContent||function(){return e},destroyOnClose:!0,zIndex:this.zIndex,attach:this.attach,placement:this.placement,overlayClassName:r!=null&&r.overlayClassName?this.innerEllipsisClassName.concat(r.overlayClassName):this.innerEllipsisClassName,onVisibleChange:this.handleVisibleChange},r);i=x(So,o,C1e(t)?t:{default:function(){return[t]}})}else i=t;return i}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function pW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function S1e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}function DO(n,e,t){var i={col:e,colIndex:t};return qe(e.title)?e.title(At,i):kt(e.title)&&n[e.title]?n[e.title](i):qe(e.render)&&e.render(At,mW(mW({},i),{},{type:"title",row:{},rowIndex:-1}))||e.title}function O7(n){var e=Qo(),t=e.tableSortClasses,i=e.tableFilterClasses,r=R(function(){return y1e(n.columns)}),o=R(function(){return _1e(n.columns)}),a=R(function(){return o.value.length>1}),s=function(u,c,d,f,h,v){var g=Je(u,3),p=g[0],m=g[1],b=g[2],C=X(X({},t.sortable,m),i.filterable,b),O=qe(f)?f(At,{col:c,colIndex:d}):void 0,w=f!==void 0?!!f:!!c.ellipsis;return x("div",{class:C},[x("div",{class:t.title},[w?x(xM,{placement:"bottom",attach:n.attach||(h?function(){return h}:void 0),tooltipContent:O&&function(){return O},tooltipProps:kn(f)==="object"?f:void 0,classPrefix:v==null?void 0:v.classPrefix,overlayClassName:v==null?void 0:v.ellipsisOverlayClassName},S1e(p)?p:{default:function(){return[p]}}):x("div",null,[p]),!!(m||b)&&x("div",{class:i.iconWrap},[m,b])])])};return{thList:o,isMultipleHeader:a,spansAndLeafNodes:r,renderTitleWidthIcon:s}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function bW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function O1e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var x1e=80,E1e=600,yW=8;function P1e(n){var e=n.isWidthOverflow,t=n.tableContentRef,i=n.showColumnShadow,r=n.getThWidthList,o=n.updateThWidthList,a=n.setTableElmWidth,s=n.updateTableAfterColumnResize,l=n.onColumnResizeChange,u=oe(),c=oe({}),d=oe([]),f,h;mt(function(){var A=typeof document<"u";f=A?document.onselectstart:null,h=A?document.ondragstart:null});var v=function(j,V,H){for(var N=V;j[N]&&j[N].resizable===!1;)H==="next"?N+=1:N-=1;return j[N]},g=function(j,V){j&&(d.value=j,j.forEach(function(H,N){var F=v(j,N-1,"prev"),W=v(j,N+1,"next"),U=V?c.value[V.colKey].prev:W,q=V?c.value[V.colKey].next:F,Z=N===0?U:F,z=N===j.length-1?q:W;c.value[H.colKey]={prev:Z,next:z,current:{prevSibling:v(j,N-1,"prev"),nextSibling:v(j,N+1,"next")}},g(H.children,H)}))},p={isDragging:!1,draggingCol:null,draggingStart:0,effectCol:"next"},m=$n({display:"none",height:"10px",left:"10px",bottom:"0"}),b=function(j){return j.fixed==="right"&&i.right},C=function(j,V){if(!(!u.value||p.isDragging||!j.target)){var H=j.target.closest("th"),N=H.getAttribute("data-colkey");if(d.value.find(function(te){return te.colKey===N})){var F=H.getBoundingClientRect(),W=F.right-j.pageX<=yW,U=j.pageX-F.left<=yW,q=b(V);if(W||q){var Z,z=(Z=V.resizable)!==null&&Z!==void 0?Z:!0;if(z){H.style.cursor=W||q&&U?"col-resize":"";var ie=W&&!q||q&&U;p.draggingCol=ie?H:H.nextElementSibling,p.effectCol="next";return}}else if(U){var ee=H.previousElementSibling;if(ee){var K,J,$=(K=c.value[V.colKey])===null||K===void 0?void 0:K.prev,Y=(J=$==null?void 0:$.resizable)!==null&&J!==void 0?J:!0;if(Y){H.style.cursor="col-resize",p.draggingCol=ee,p.effectCol="prev";return}}}H.style.cursor="",p.draggingCol=null,p.effectCol=null}}},O=function(j){var V,H,N=Dn(j.minWidth)?j.minWidth:parseInt(j.minWidth||"0",10);return{minColWidth:Math.max(((V=j.resize)===null||V===void 0?void 0:V.minWidth)||x1e,N),maxColWidth:((H=j.resize)===null||H===void 0?void 0:H.maxWidth)||E1e}},w=function(j,V,H,N){var F=H.right-N.left,W=H.left-N.left,U=p.effectCol==="next"?j:V,q=O(U),Z=q.minColWidth,z=q.maxColWidth;return{resizeLinePos:F,minResizeLineLeft:W+Z,maxResizeLineLeft:W+z}},E=function(j,V,H,N,F){var W=N.left-F.left,U=j.dataset.colkey===V.colKey?V:H,q=N.left-F.left,Z=O(U),z=Z.minColWidth,ie=Z.maxColWidth;return{resizeLinePos:W,minResizeLineLeft:q+(N.width-ie),maxResizeLineLeft:q+(N.width-z)}},P=function(j,V){var H=j.left-V.left,N=j.left-V.left;return{resizeLinePos:H,minResizeLineLeft:N,maxResizeLineLeft:N}},D=function(j){var V=0;return d.value.forEach(function(H){V+=j[H.colKey]}),V},k=function(j,V,H,N){var F=!0;if(V){var W=O(V),U=W.minColWidth,q=W.maxColWidth,Z=j[V.colKey]+H;F=Z<U||Z>q}return!(F||e.value||N===d.value.length-1)},L=function(j,V,H,N){return V?w(j,V,H,N):P(H,N)},M=function(j,V,H){var N,F,W;if(p.draggingCol){var U=p.draggingCol,q=U.getBoundingClientRect(),Z=(N=t.value)===null||N===void 0?void 0:N.getBoundingClientRect(),z=(F=c.value[V.colKey])===null||F===void 0?void 0:F.next,ie=(W=c.value[V.colKey])===null||W===void 0?void 0:W.prev,ee=b(V)?E(U,V,z,q,Z):L(V,z,q,Z),K=ee.resizeLinePos,J=ee.minResizeLineLeft,$=ee.maxResizeLineLeft;if(p.isDragging=!0,p.draggingStart=j.x,u!=null&&u.value){m.display="block",m.height="".concat(Z.bottom-q.top,"px"),m.left="".concat(K,"px");var Y=t.value.parentElement.getBoundingClientRect();m.bottom="".concat(Y.bottom-Z.bottom,"px")}var te=function(){var Q;if(p.isDragging){var ne=K-parseFloat(m.left)||0,se=r("calculate"),de=(Q=c.value[V.colKey])===null||Q===void 0?void 0:Q.current;if(de){var he=p.effectCol==="next"?de.nextSibling:de.prevSibling,ge=O1e({},se),Se=V.resizable!==!1?V:he,Te=p.effectCol==="next"?de.nextSibling:V,Ce=k(ge,Te,ne,H);p.effectCol==="next"?b(V)?U.dataset.colkey!==V.colKey?ge[z.colKey]+=ne:ge[Se.colKey]+=ne:(ge[Se.colKey]-=ne,Ce&&(ge[z.colKey]+=ne)):p.effectCol==="prev"&&(Ce&&(ge[Se.colKey]+=ne),ie&&(ge[ie.colKey]-=ne)),o(ge);var xe=D(ge);a(Math.round(xe)),s(),p.isDragging=!1,p.draggingCol=null,p.effectCol=null,U.style.cursor="",m.display="none",m.left="0",Tn(document,"mouseup",te),Tn(document,"mousemove",ae),document.onselectstart=f,document.ondragstart=h,l==null||l({columnsWidth:ge})}}},ae=function(Q){if(p.isDragging){var ne=K+Q.x-p.draggingStart;m.left="".concat(Math.min(Math.max(ne,J),$),"px")}};ai(document,"mouseup",te),ai(document,"mousemove",ae),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}};return{resizeLineRef:u,resizeLineStyle:m,onColumnMouseover:C,onColumnMousedown:M,setEffectColMap:g}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function _W(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ov(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_W(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_W(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function EM(n,e,t,i){var r=t==null?void 0:t.get(n.colKey||e);if(!r)return{};var o=X(X(X(X({},i.left,n.fixed==="left"),i.right,n.fixed==="right"),i.lastLeft,n.fixed==="left"&&r.lastLeftFixedCol),i.firstRight,n.fixed==="right"&&r.firstRightFixedCol),a={left:n.fixed==="left"?"".concat(r.left,"px"):void 0,right:n.fixed==="right"?"".concat(r.right,"px"):void 0};return{style:a,classes:o}}function k1e(n,e,t,i,r,o){var a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0;if(!i||!i.length)return{style:void 0,classes:void 0};var s=e<i[0],l=e>t-1-i[1],u=t-i[1],c=(r==null?void 0:r.get(n))||{},d=X(X(X(X({},o.top,s),o.bottom,l),o.firstBottom,e===u),o.withoutBorderBottom,e===u-1),f={top:s?"".concat(c.top-a,"px"):void 0,bottom:l?"".concat(c.bottom+a,"px"):void 0};return{style:f,classes:d}}function D1e(n,e,t,i){var r=rt(n),o=r.columns,a=r.tableLayout,s=r.tableContentWidth,l=r.fixedRows,u=r.firstFullRow,c=r.lastFullRow,d=r.maxHeight,f=r.headerAffixedTop,h=r.footerAffixedBottom,v=r.bordered,g=r.resizable,p=r.allowResizeColumnWidth,m=oe([]),b=oe(),C=oe(),O=oe(!1),w=oe(!1),E=oe(),P=oe(6),D=oe(new Map),k=$n({left:!1,right:!1}),L=oe({left:0,top:0}),M=oe(0),A=oe(0),j=oe({}),V=oe(!1),H=oe(!1),N=oe(!1),F=R(function(){var Ee,me;return(Ee=(me=p.value)!==null&&me!==void 0?me:g.value)!==null&&Ee!==void 0?Ee:!1}),W=R(function(){var Ee;return!(n.headerAffixedTop||n.footerAffixedBottom||n.horizontalScrollAffixedBottom||((Ee=n.scroll)===null||Ee===void 0?void 0:Ee.type)==="virtual")});function U(Ee){E.value=Ee}function q(Ee){for(var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Map,Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],ke=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Ve=arguments.length>4?arguments[4]:void 0,lt=0,Ge=Ee.length;lt<Ge;lt++){var $e,Fe=Ee[lt];["left","right"].includes(Fe.fixed)&&(V.value=!0),Fe.fixed==="right"&&(H.value=!0),Fe.fixed==="left"&&(N.value=!0);var Ke=Fe.colKey||lt,et={col:Fe,parent:Ve,index:lt};me.set(Ke,et),($e=Fe.children)!==null&&$e!==void 0&&$e.length&&q(Fe.children,me,Oe,ke+1,et),Oe[ke]?Oe[ke].push(et):Oe[ke]=[et]}return{newColumnsMap:me,levelNodes:Oe}}var Z=function(me,Oe){for(var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ve=0,lt=me.length;Ve<lt;Ve++){var Ge,$e=me[Ve];if($e.fixed==="right")return;for(var Fe=Oe.get($e.colKey||Ve),Ke=Ve-1;Ke>=0&&me[Ke].fixed!=="left";)Ke-=1;var et=me[Ke],ot=Ve===0&&(ke==null?void 0:ke.left)||0,Rt=Oe.get((et==null?void 0:et.colKey)||Ve-1);Fe&&(Fe.left=((Rt==null?void 0:Rt.left)||ot)+((Rt==null?void 0:Rt.width)||0)),(Ge=$e.children)!==null&&Ge!==void 0&&Ge.length&&Z($e.children,Oe,Fe)}},z=function(me,Oe){for(var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ve=me.length-1;Ve>=0;Ve--){var lt,Ge=me[Ve];if(Ge.fixed==="left")return;for(var $e=Oe.get(Ge.colKey||Ve),Fe=Ve+1;Fe<me.length&&me[Fe].fixed!=="right";)Fe+=1;var Ke=me[Fe],et=Ve===me.length-1&&(ke==null?void 0:ke.right)||0,ot=Oe.get((Ke==null?void 0:Ke.colKey)||Ve+1);$e&&($e.right=((ot==null?void 0:ot.right)||et)+((ot==null?void 0:ot.width)||0)),(lt=Ge.children)!==null&&lt!==void 0&&lt.length&&z(Ge.children,Oe,$e)}},ie=function(me,Oe){if(me){for(var ke=0,Ve=me.length;ke<Ve;ke++)for(var lt=me[ke].children,Ge=0,$e=lt.length;Ge<$e;Ge++){var Fe,Ke=lt[Ge],et=Ke.dataset.colkey;et||Yt.warn("TDesign Table","".concat(Ke.innerText," missing colKey. colKey is required for fixed column feature."));var ot=Oe.get(et||Ge);ot!=null&&(Fe=ot.col)!==null&&Fe!==void 0&&Fe.fixed&&Oe.set(et,ov(ov({},ot),{},{width:Ke.getBoundingClientRect().width}))}Z(o.value,Oe),z(o.value,Oe)}},ee=function(me,Oe,ke,Ve){for(var lt=l.value||[],Ge=Je(lt,2),$e=Ge[0],Fe=Ge[1],Ke=n.data,et=n.rowKey,ot=et===void 0?"id":et,Rt=0;Rt<$e;Rt++){var zt=me[Rt],ri=Ze(Ke[Rt],ot),qn=Oe.get(ri)||{},Qi=Ze(Ke[Rt-1],ot),Ii=Oe.get(Qi)||{},ye=0;Rt===0&&(ye=(ke==null?void 0:ke.getBoundingClientRect().height)||0),qn.top=(Ii.top||ye)+(Ii.height||0),Oe.set(ri,ov(ov({},qn),{},{height:(zt==null?void 0:zt.getBoundingClientRect().height)||0}))}for(var We=Ke.length-1;We>=Ke.length-Fe;We--){var gt=me[me.length-(Ke.length-We)],jt=Ze(Ke[We],ot),Gn=Oe.get(jt)||{},oi=Ze(Ke[We+1],ot),at=Oe.get(oi)||{},Xe=0;We===Ke.length-1&&(Xe=(Ve==null?void 0:Ve.getBoundingClientRect().height)||0),Gn.bottom=(at.bottom||Xe)+(at.height||0),Oe.set(jt,ov(ov({},Gn),{},{height:(gt==null?void 0:gt.getBoundingClientRect().height)||0}))}},K=function(me,Oe){if(D.value.clear(),!!me){var ke=me.querySelector("thead");ke&&ie(ke.children,Oe);var Ve=me.querySelector("tbody"),lt=me.querySelector("tfoot");Ve&&ee(Ve.children,Oe,ke,lt),D.value=Oe}},J,$=function(me,Oe){if(!(!V.value||!me)){var ke=me.scrollLeft;if(!(J===ke&&(!Oe||!Oe.skipScrollLimit))){J=ke;var Ve=me.clientWidth+ke<me.scrollWidth,lt=ke>0;k.left===lt&&k.right===Ve||(k.left=lt&&N.value,k.right=Ve&&H.value)}}},Y=function(me){for(var Oe=0;Oe<me.length;Oe++)for(var ke=me[Oe],Ve=0,lt=ke.length;Ve<lt;Ve++){var Ge=ke[Ve],$e=ke[Ve+1],Fe=Ge.parent,Ke=!Fe||(Fe==null?void 0:Fe.lastLeftFixedCol);Ke&&Ge.col.fixed==="left"&&($e==null?void 0:$e.col.fixed)!=="left"&&(Ge.lastLeftFixedCol=!0);var et=ke[Ve-1],ot=!Fe||(Fe==null?void 0:Fe.firstRightFixedCol);ot&&Ge.col.fixed==="right"&&(et==null?void 0:et.col.fixed)!=="right"&&(Ge.firstRightFixedCol=!0)}},te=function(){var me=q(o.value),Oe=me.newColumnsMap,ke=me.levelNodes;Y(ke);var Ve=setTimeout(function(){var lt;(V.value||(lt=l.value)!==null&&lt!==void 0&&lt.length)&&K(C.value,Oe),clearTimeout(Ve)},0);return function(){clearTimeout(Ve)}},ae=function(){var me=setTimeout(function(){if(C.value){O.value=C.value.scrollHeight>C.value.clientHeight,w.value=C.value.scrollWidth>C.value.clientWidth;var Oe=C.value.getBoundingClientRect();L.value={top:Oe.top,left:Oe.left},clearTimeout(me)}},0)},le=function(me){A.value!==me&&(A.value=me)},Q=function(){var me,Oe,ke=(me=C.value)===null||me===void 0?void 0:me.getBoundingClientRect();if(ke){var Ve=O.value?P.value:0;M.value=ke.width-Ve-(n.bordered?1:0);var lt=E==null||(Oe=E.value)===null||Oe===void 0?void 0:Oe.getBoundingClientRect();lt!=null&&lt.width&&le(lt.width)}},ne=function(){var me,Oe,ke,Ve,lt,Ge,$e,Fe;(me=i.paginationAffixRef.value)===null||me===void 0||(Oe=me.handleScroll)===null||Oe===void 0||Oe.call(me),(ke=i.horizontalScrollAffixRef.value)===null||ke===void 0||(Ve=ke.handleScroll)===null||Ve===void 0||Ve.call(ke),(lt=i.headerTopAffixRef.value)===null||lt===void 0||(Ge=lt.handleScroll)===null||Ge===void 0||Ge.call(lt),($e=i.footerBottomAffixRef.value)===null||$e===void 0||(Fe=$e.handleScroll)===null||Fe===void 0||Fe.call($e)},se=function(me){for(var Oe={},ke=0,Ve=me.length;ke<Ve;ke++)for(var lt=me[ke].children,Ge=0,$e=lt.length;Ge<$e;Ge++){var Fe=lt[Ge],Ke=Fe.dataset.colkey;Oe[Ke]=Fe.getBoundingClientRect().width}return Oe},de=function(me){if(me instanceof HTMLCollection){if(F.value)return;j.value=se(me)}else j.value=j.value||{},Object.entries(me).forEach(function(Oe){var ke=Je(Oe,2),Ve=ke[0],lt=ke[1];j.value[Ve]=lt});return j.value},he=function(){var me=setTimeout(function(){var Oe;if(Q(),!W.value){var ke=(Oe=C.value)===null||Oe===void 0?void 0:Oe.querySelector("thead");ke&&(de(ke.children),clearTimeout(me))}},0)},ge=function(){j.value={}},Se=function(me){var Oe,ke,Ve;(Oe=n.onScrollX)===null||Oe===void 0||Oe.call(n,{e:me}),(ke=n.onScrollY)===null||ke===void 0||ke.call(n,{e:me}),(Ve=n.onScroll)===null||Ve===void 0||Ve.call(n,{e:me})},Te=function(me){if(me==="calculate"){var Oe,ke=(Oe=C.value)===null||Oe===void 0||(Oe=Oe.querySelector("thead"))===null||Oe===void 0?void 0:Oe.children;return ke?se(ke):{}}return j.value||{}};Pe([m,o,v,a,s,O,w,V,l,u,c],te,{immediate:!0}),Pe([V,o],function(){var Ee=setTimeout(function(){V.value&&$(C.value),clearTimeout(Ee)},0)},{immediate:!0}),Pe([d,m,o,v,C],function(){C.value&&ae()},{immediate:!0}),Pe(t,function(){ge()}),Pe([m,v,a,l,O,f,h,s],function(){var Ee=setTimeout(function(){he(),ne(),clearTimeout(Ee)},60)},{immediate:!0}),Pe([t],function(Ee,me){var Oe=Je(Ee,1),ke=Oe[0],Ve=Je(me,1),lt=Ve[0],Ge=ke.map(function(qn){return qn.colKey}),$e=lt.map(function(qn){return qn.colKey});if(Ge.length<$e.length){var Fe=hde($e,Ge),Ke=Te("calculate"),et=0;Fe.forEach(function(qn){et+=Ke[qn]});var ot=bl(Ke,$e),Rt=Object.values(ot).reduce(function(){var qn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Qi=arguments.length>1?arguments[1]:void 0;return qn+Qi}),zt=C.value.clientWidth,ri=Rt-et;le(Math.max(zt,ri))}});var Ce=function(){he(),ae(),ne(),(V.value||O.value)&&(te(),$(C.value,{skipScrollLimit:!0})),a.value==="auto"&&de(Te("calculate"))},xe=qu(function(){Ce()},30),Me=null;function Re(Ee){typeof window>"u"||Tu()<11||typeof window.ResizeObserver>"u"||(Tn(window,"resize",xe),Me=new window.ResizeObserver(function(){var me=setTimeout(function(){Ce(),clearTimeout(me)},200)}),Me.observe(Ee),b.value=Ee)}mt(function(){var Ee=OSe();P.value=Ee,he();var me=V.value||O.value||!W.value||!m.value.length,Oe=typeof window<"u",ke=Oe&&typeof window.ResizeObserver<"u";(me&&Tu()<11||!ke)&&ai(window,"resize",xe)}),yi(function(){var Ee,me;typeof window<"u"&&Tn(window,"resize",xe),(Ee=Me)===null||Ee===void 0||Ee.unobserve(b.value),(me=Me)===null||me===void 0||me.disconnect()});var Ae=function(me){m.value=me},De=function(){te(),ae()};return{tableWidth:M,tableElmWidth:A,thWidthList:j,isFixedHeader:O,isWidthOverflow:w,tableContentRef:C,isFixedColumn:V,showColumnShadow:k,rowAndColFixedPosition:D,virtualScrollHeaderPos:L,scrollbarWidth:P,setData:Ae,refreshTable:Ce,setTableElmWidth:le,emitScrollEvent:Se,updateThWidthListHandler:he,updateColumnFixedShadow:$,setUseFixedTableElmRef:U,getThWidthList:Te,updateThWidthList:de,addTableResizeObserver:Re,updateTableAfterColumnResize:De}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function wW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function T1e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function I1e(n,e){var t=rt(n),i=t.pagination,r=t.data,o=t.disableDataPage,a=Dt(),s=a.classPrefix,l=oe(n.pagination),u=oe([]),c=oe(!1),d=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,p=n.data,m=!o.value&&p.length>g;if(c.value=m,m){var b=(v-1)*g,C=v*g;u.value=p.slice(b,C)}else u.value=p};Pe(function(){var h,v;return[(h=i.value)===null||h===void 0?void 0:h.current,(v=i.value)===null||v===void 0?void 0:v.pageSize,r.value.length,o]},function(){if(!(!i.value||!i.value.current)){var h=i.value,v=h.current,g=h.pageSize;l.value={current:v,pageSize:g},d(i.value.current,i.value.pageSize)}},{immediate:!0}),Pe([r],function(){var h,v;if(!(!i.value||!i.value.defaultCurrent)){var g=!!i.value.current;g||d((h=l.value.current)!==null&&h!==void 0?h:i.value.defaultCurrent,(v=l.value.pageSize)!==null&&v!==void 0?v:i.value.defaultPageSize)}},{immediate:!0});var f=function(){if(!n.pagination)return null;var v=T1e({},n.pagination);return delete v.onChange,x("div",{class:"".concat(s.value,"-table__pagination")},[x(dM,He({size:n.size==="large"?null:n.size},v,{onChange:function(p){var m,b,C;(m=n.pagination)===null||m===void 0||(b=m.onChange)===null||b===void 0||b.call(m,p),l.value=p,d(p.current,p.pageSize),(C=n.onPageChange)===null||C===void 0||C.call(n,p,u.value)}}),{totalContent:e.slots.totalContent})])};return{isPaginateData:c,dataSource:u,innerPagination:l,renderPagination:f}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function L1e(n){var e=oe(),t=oe(),i=oe(),r=oe(),o=oe(),a=oe(!0),s=oe(!0),l=oe(!0),u=!1,c=!1,d=R(function(){return n.scroll&&n.scroll.type==="virtual"&&(n.scroll.threshold||100)<n.data.length}),f=R(function(){return!!(n.headerAffixedTop||n.footerAffixedBottom||n.horizontalScrollAffixedBottom)}),h=0,v=function(Y){if(!(!f.value&&!d.value)){var te=Y;if(!te&&e.value&&(h=0,te=e.value),!!te){var ae=te.scrollLeft;if(h!==ae){h=ae;for(var le=[e.value,t.value,i.value,r.value],Q=0,ne=le.length;Q<ne;Q++)le[Q]&&Y!==le[Q]&&(le[Q].scrollLeft=ae)}}}},g=function(Y,te,ae){return te.top+ae<Y.top&&Y.top>Y.height},p=function(Y){return ur(Y)?0:Y.offsetTop||0},m=function(){var Y,te,ae;if(!(!f.value&&!d.value&&!e.value)){var le=(Y=e.value)===null||Y===void 0?void 0:Y.getBoundingClientRect(),Q=(te=e.value)===null||te===void 0||(te=te.querySelector("thead"))===null||te===void 0?void 0:te.getBoundingClientRect(),ne=(Q==null?void 0:Q.height)||0,se=(ae=i.value)===null||ae===void 0?void 0:ae.getBoundingClientRect();if((n.headerAffixedTop||d.value)&&t.value){var de=p(n.headerAffixProps||n.headerAffixedTop),he=(se==null?void 0:se.height)||0,ge=Math.abs(le.top)<le.height-ne-de-he;d.value&&(ge=le.top>-1*Q.height),a.value=ge}if(n.footerAffixedBottom&&i!==null&&i!==void 0&&i.value)s.value=g(se,le,ne);else if(n.horizontalScrollAffixedBottom&&r!==null&&r!==void 0&&r.value){var Se=r.value.getBoundingClientRect();s.value=g(Se,le,ne)}if(n.paginationAffixedBottom&&o.value){var Te=o.value.getBoundingClientRect();l.value=g(Te,le,ne)}}},b=function(){m()},C=function(){v(i.value)},O=function(){v(t.value)},w=function(){v(r.value)},E=function(){v(e.value)},P=function(){ai(i.value,"scroll",C)},D=function(){Tn(i.value,"scroll",C)},k=function(){ai(t.value,"scroll",O),F()},L=function(){u||Tn(t.value,"scroll",O),W()},M=function(){ai(r.value,"scroll",w)},A=function(){Tn(r.value,"scroll",w)},j=function(){ai(e.value,"scroll",E),F()},V=function(){u||Tn(e.value,"scroll",E),W()},H=function(){u=!0},N=function(){u=!1,c||(Tn(t.value,"scroll",O),Tn(e.value,"scroll",E))},F=function(){c=!0},W=function(){c=!1},U=[],q=function(Y){var te=qu(function(ne){Tn(Y,"scroll",ne)},200);function ae(){v(Y),te(ae)}function le(ne){ne.composedPath().includes(Y)&&(U.forEach(function(se){return se()}),U.length=0,ai(Y,"scroll",ae),te(ae),U.push(function(){Tn(Y,"scroll",ae)}))}ai(Y,"touchstart",le);function Q(){Tn(Y,"touchstart",le)}return{removeElementTouchScrollListener:Q}},Z=[],z=function(){Z.forEach(function(Y){return Y()}),Z.length=0},ie=function(){Tn(window,"mousedown",H),Tn(window,"mouseup",N),z(),t.value&&(Tn(t.value,"mouseenter",k),Tn(t.value,"mouseleave",L)),i.value&&(Tn(i.value,"mouseenter",P),Tn(i.value,"mouseleave",D)),e.value&&(Tn(e.value,"mouseenter",j),Tn(e.value,"mouseleave",V)),r.value&&(Tn(r.value,"mouseenter",M),Tn(r.value,"mouseleave",A))},ee=function(){if(ai(window,"mousedown",H),ai(window,"mouseup",N),ie(),t.value){ai(t.value,"mouseenter",k),ai(t.value,"mouseleave",L);var Y=q(t.value),te=Y.removeElementTouchScrollListener;Z.push(te)}if(n.footerAffixedBottom&&i.value){ai(i.value,"mouseenter",P),ai(i.value,"mouseleave",D);var ae=q(i.value),le=ae.removeElementTouchScrollListener;Z.push(le)}if(n.horizontalScrollAffixedBottom&&r.value){ai(r.value,"mouseenter",M),ai(r.value,"mouseleave",A);var Q=q(r.value),ne=Q.removeElementTouchScrollListener;Z.push(ne)}if((f.value||d.value)&&e.value){ai(e.value,"mouseenter",j),ai(e.value,"mouseleave",V);var se=q(e.value),de=se.removeElementTouchScrollListener;Z.push(de)}},K=function(){if(!(!f.value&&!n.paginationAffixedBottom))var Y=setTimeout(function(){f.value||n.paginationAffixedBottom?ai(document,"scroll",b):Tn(document,"scroll",b),clearTimeout(Y)})};Pe([t,i,r,e],function(){ee(),v(),m()}),Pe(f,K),Pe(function(){return[n.data,n.columns,n.headerAffixedTop,n.footerAffixedBottom,n.horizontalScrollAffixedBottom]},function(){v()}),yi(function(){Tn(document,"scroll",b),ie(),t.value=null,i.value=null,r.value=null,e.value=null});var J=function(Y){e.value=Y,K()};return{showAffixHeader:a,showAffixFooter:s,showAffixPagination:l,affixHeaderRef:t,affixFooterRef:i,horizontalScrollbarRef:r,paginationRef:o,onHorizontalScroll:v,setTableContentRef:J,updateAffixHeaderOrFooter:m}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function PM(n,e){if(n){for(var t=n instanceof Array?n:[n],i={},r=0;r<t.length;r++){var o=t[r];if(o){var a=qe(o)?o(e):o;i=a instanceof Array?PM(a,e):Object.assign(i,a)}}return i}}function kM(n,e,t){for(var i=n instanceof Array?n:[n],r=e.row,o=e.rowIndex,a=[],s=0,l=i.length;s<l;s++){var u=i[s],c=qe(u)?u(e):u;if(Wt(c)&&!(c instanceof Array)){c[o]&&(c=c[o]);var d=Ze(r,t||"id");c[d]&&(c=c[d])}else c instanceof Array&&(c=kM(c,e,t));a=a.concat(c)}return a}function Ik(n,e){for(var t=n instanceof Array?n:[n],i=[],r=0,o=t.length;r<o;r++){var a=t[r];qe(a)?i.push(a(e)):i.push(a)}return i}function x7(n,e){if(!(!n||!e)){var t=n==null?void 0:n.find(function(s){return s.colKey===e});if(t)return t;for(var i=0,r=n.length;i<r;i++){var o;if((o=n[i])!==null&&o!==void 0&&(o=o.children)!==null&&o!==void 0&&o.length){var a;return x7((a=n[i])===null||a===void 0?void 0:a.children,e)}}}}function tw(n,e){return kn(n)==="object"?n:kn(e)==="object"?e:{}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function M1e(n,e,t){var i=R(function(){return Math.max(t.rowHeight||48,48)}),r=oe(!1),o=R(function(){return(t==null?void 0:t.type)==="lazy"&&!r.value}),a=!Dl&&window.requestAnimationFrame||function(l){return setTimeout(l,16.6)},s=function(){r.value||a(function(){r.value=!0})};return mt(function(){(t==null?void 0:t.type)==="lazy"&&tn(function(){var l=Math.max(10,t.bufferSize||10),u=i.value*l;!(e!=null&&e.value)||!(n!=null&&n.value)||Qy(e.value,n.value,s,u)})}),{hasLazyLoadHolder:o,tRowHeight:i}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function qb(n,e,t,i){var r=Ze(n,e);return r===void 0&&Yt.error("Table","rowKey is wrong, can not get unique identifier of row."),[r,t||i].join("_")}function A1e(n){var e;return(e=n.split("_"))===null||e===void 0?void 0:e[0]}function E7(n,e,t,i){var r=oe(new Map),o=function(l,u){var c=l.rowIndex,d=l.colIndex;if(!(!u.rowspan&&!u.colspan)){for(var f=c+(u.rowspan||1),h=d+(u.colspan||1),v=c;v<f;v++)for(var g=d;g<h;g++)if(v!==c||g!==d){if(!n.value[v]||!e.value[g])return;var p=qb(n.value[v],t.value,e.value[g].colKey,g),m=r.value.get(p)||{};m.skipped=!0,r.value.set(p,m)}}},a=function(l,u,c){var d;if((d=r.value)===null||d===void 0||d.clear(),!(!l||!c))for(var f=0,h=l.length;f<h;f++)for(var v=l[f],g=0,p=u.length;g<p;g++){var m=u[g],b={row:v,col:m,rowIndex:f,colIndex:g},C=qb(v,t.value,m.colKey,g),O=r.value.get(C)||{},w=c(b)||{};(w.rowspan||w.colspan||O.rowspan||O.colspan)&&(w.rowspan&&(O.rowspan=w.rowspan),w.colspan&&(O.colspan=w.colspan),r.value.set(C,O)),o==null||o(b,O)}};return Pe(function(){return[n.value,e.value,i]},function(){a(n.value,e.value,i==null?void 0:i.value)},{immediate:!0}),{skipSpansMap:r}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function CW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Fo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function R1e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var P7=["rowKey","rowClassName","columns","fixedRows","footData","rowAttributes","rowspanAndColspan","scroll","cellEmptyContent","pagination","attach","onCellClick","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup"],DM=["click","dblclick","mouseover","mousedown","mouseenter","mouseleave","mouseup"];function O0(n,e,t){var i=n.col,r=n.row,o=n.rowIndex;if(i.colKey==="serial-number"){var a=(t==null?void 0:t.pagination)||{},s=a.current,l=a.pageSize,u=a.defaultCurrent,c=a.defaultPageSize,d=s||u,f=l||c;return f&&d?f*(d-1)+o+1:o+1}if(qe(i.cell))return i.cell(At,n);if(e[i.colKey])return e[i.colKey](n);if(kt(i.cell)&&e[i.cell])return e[i.cell](n);if(qe(i.render))return i.render(At,Fo(Fo({},n),{},{type:"cell"}));var h=Ze(r,i.colKey);return[void 0,"",null].includes(h)?t!=null&&t.cellEmptyContent?qe(t.cellEmptyContent)?t.cellEmptyContent(At,n):t.cellEmptyContent:e.cellEmptyContent?e.cellEmptyContent(n):e["cell-empty-content"]?e["cell-empty-content"](n):h:h}var N1e=pe({name:"TR",props:Fo(Fo({row:Object,rowIndex:Number,dataLength:Number,ellipsisOverlayClassName:String,classPrefix:String,rowAndColFixedPosition:Map,skipSpansMap:Map,virtualConfig:Object,active:Boolean,isHover:Boolean},bl($g,P7)),{},{tableElm:{},tableContentElm:{}}),emits:["row-mounted"],setup:function(e,t){var i=rt(e),r=i.tableContentElm,o=i.active,a=i.isHover,s=oe(null),l=Qo(),u=l.tdEllipsisClass,c=l.tableBaseClass,d=l.tableColFixedClasses,f=l.tableRowFixedClasses,h=l.tdAlignClasses,v=l.tableDraggableClasses,g=R(function(){return k1e(Ze(e.row,e.rowKey||"id"),e.rowIndex,e.dataLength,e.fixedRows,e.rowAndColFixedPosition,f,e.virtualConfig.isVirtualScroll.value?e.virtualConfig.translateY.value:0)}),p=R(function(){return PM(e.rowAttributes,{row:e.row,rowIndex:e.rowIndex,type:"body"})||{}}),m=R(function(){var k,L=kM(e.rowClassName,{row:e.row,rowKey:e.rowKey,rowIndex:e.rowIndex,type:"body"},e.rowKey||"id");return[(k=g.value)===null||k===void 0?void 0:k.classes,L,X(X({},"".concat(e.classPrefix,"-table__row--active"),o.value),"".concat(e.classPrefix,"-table__row--hover"),a.value)].filter(function(M){return M})}),b=M1e(r,s,$n(Fo(Fo({},e.scroll),{},{rowIndex:e.rowIndex}))),C=b.hasLazyLoadHolder,O=b.tRowHeight,w=function(L,M){var A={};return DM.forEach(function(j){A["on".concat(JC(j))]=function(V){var H,N={e:V,row:L,index:M};(H=e["onRow".concat(JC(j))])===null||H===void 0||H.call(e,N)}}),A},E=function(){var L;(L=e.virtualConfig)!==null&&L!==void 0&&L.isVirtualScroll.value&&t.emit("row-mounted",{ref:s,data:e.row})};mt(function(){tn(function(){E()})}),zu(function(){tn(function(){E()})});function P(k,L){var M=L.cellNode,A=k.col,j=k.colIndex,V;qe(A.ellipsis)?V=A.ellipsis(At,k):kn(A.ellipsis)==="object"&&qe(A.ellipsis.content)?V=A.ellipsis.content(At,k):t.slots["ellipsis-".concat(A.colKey)]?V=t.slots["ellipsis-".concat(A.colKey)](k):t.slots.ellipsis&&(V=t.slots.ellipsis(k));var H={};kn(A.ellipsis)==="object"&&(H="props"in A.ellipsis?A.ellipsis.props:A.ellipsis||void 0);var N=e.tableElm,F=j===0?"top-left":"top";return F=j===e.columns.length-1?"top-right":F,x(xM,{placement:F,attach:N?function(){return N}:void 0,tooltipContent:V&&function(){return V},tooltipProps:H,overlayClassName:e.ellipsisOverlayClassName,classPrefix:e.classPrefix},R1e(M)?M:{default:function(){return[M]}})}function D(k,L){var M=k.col,A=k.colIndex,j=k.rowIndex,V=L.cellSpans,H=L.dataLength,N=L.rowAndColFixedPosition,F=O0(k,t.slots,{cellEmptyContent:L.cellEmptyContent,pagination:e.pagination}),W=EM(M,A,N,d),U=Ik(M.className,Fo(Fo({},k),{},{type:"td"})),q=[W.classes,U,X(X(X(X(X({},u,M.ellipsis),c.tdLastRow,j+V.rowspan===H),c.tdFirstCol,A===0&&e.rowspanAndColspan),h[M.align],M.align&&M.align!=="left"),v.handle,M.colKey==="drag")],Z=function(K){var J,$=Fo(Fo({},k),{},{e:K});M.stopPropagation&&K.stopPropagation(),(J=e.onCellClick)===null||J===void 0||J.call(e,$)},z=qe(M.attrs)?M.attrs(Fo(Fo({},k),{},{type:"td"})):M.attrs,ie=Fo(Fo({},z),V);return x("td",He({key:M.colKey||A,class:q,style:W.style},ie,{onClick:Z}),[M.ellipsis?P(k,{cellNode:F}):F])}return function(){var k,L=e.columns,M=e.skipSpansMap,A=e.row,j=e.dataLength,V=e.rowAndColFixedPosition,H=L==null?void 0:L.map(function(N,F){var W={},U={row:A,col:N,rowIndex:e.rowIndex,colIndex:F},q=null;if(e.skipSpansMap.size){var Z,z,ie=qb(A,e.rowKey,N.colKey,F);if(q=M.get(ie)||{},((Z=q)===null||Z===void 0?void 0:Z.rowspan)>1&&(W.rowspan=q.rowspan),((z=q)===null||z===void 0?void 0:z.colspan)>1&&(W.colspan=q.colspan),q.skipped)return null}return D(U,{dataLength:j,rowAndColFixedPosition:V,columnLength:L.length,cellSpans:W,cellEmptyContent:e.cellEmptyContent})});return x("tr",He({ref:s},p.value,{style:(k=g.value)===null||k===void 0?void 0:k.style,class:m.value},w(A,e.rowIndex)),[C.value?[x("td",{style:{height:"".concat(O.value,"px"),border:"none"}},null)]:H])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function SW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):SW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}[].concat(Be(DM),["cell-click"]);var k7=["bordered","rowKey","rowClassName","rowAttributes","loading","empty","fixedRows","firstFullRow","lastFullRow","rowspanAndColspan","scroll","cellEmptyContent","pagination","attach","onCellClick","onPageChange","onRowClick","onRowDblclick","onRowMouseover","onRowMousedown","onRowMouseenter","onRowMouseleave","onRowMouseup","onScroll","onScrollX","onScrollY"],F1e=pe({name:"TBody",props:nw({classPrefix:String,data:Array,columns:Array,ellipsisOverlayClassName:String,rowAndColFixedPosition:Map,showColumnShadow:Object,tableElm:{},tableWidth:Number,isWidthOverflow:Boolean,virtualConfig:Object,tableContentElm:{},handleRowMounted:Function,renderExpandedRow:Function,firstFullRow:[String,Function],lastFullRow:[String,Function],activeRow:[Array],hoverRow:[String,Number]},bl($g,k7)),setup:function(e){var t=ft(),i=rt(e),r=i.data,o=i.columns,a=i.rowKey,s=i.rowspanAndColspan,l=Dt("table",e.locale),u=l.t,c=l.globalConfig,d=Qo(),f=d.tableFullRowClasses,h=d.tableBaseClass,v=E7(r,o,a,s),g=v.skipSpansMap,p=R(function(){return[h.body]});return{t:u,globalConfig:c,renderTNode:t,tableFullRowClasses:f,tbodyClasses:p,tableBaseClass:h,skipSpansMap:g}},render:function(){var e=this,t,i,r,o,a=function(b){var C=e.bordered?e.tableWidth-2:e.tableWidth;return x("tr",{class:[e.tableBaseClass.emptyRow,X({},e.tableFullRowClasses.base,e.isWidthOverflow)]},[x("td",{colspan:b.length},[x("div",{class:[e.tableBaseClass.empty,X({},e.tableFullRowClasses.innerFullRow,e.isWidthOverflow)],style:e.isWidthOverflow?{width:"".concat(C,"px")}:{}},[e.renderTNode("empty")||e.t(e.globalConfig.empty)])])])},s=function(b,C){var O=Ja(C),w=e.renderTNode(O);if(["",null,void 0,!1].includes(w))return null;var E=e.isWidthOverflow&&e.columns.find(function(k){return k.fixed==="left"}),P=[e.tableFullRowClasses.base,e.tableFullRowClasses[O]],D=e.bordered?e.tableWidth-2:e.tableWidth;return x("tr",{class:P,key:"key-full-row-".concat(C)},[x("td",{colspan:b},[x("div",{class:X({},e.tableFullRowClasses.innerFullRow,E),style:E?{width:"".concat(D,"px")}:{}},[x("div",{class:e.tableFullRowClasses.innerFullElement},[w])])])])},l=this.columns.length,u=(t=this.data)===null||t===void 0?void 0:t.length,c=[],d=["classPrefix","ellipsisOverlayClassName","rowAndColFixedPosition","scroll","tableElm","tableContentElm","pagination","attach"],f=this.virtualConfig.isVirtualScroll.value?this.virtualConfig.visibleData.value:this.data;f==null||f.forEach(function(m,b){var C,O=e.rowKey||"id",w=Ze(m,O),E=nw(nw({},bl(e.$props,P7)),{},{rowKey:O,row:m,columns:e.columns,rowIndex:m.VIRTUAL_SCROLL_INDEX||b,dataLength:u,skipSpansMap:e.skipSpansMap,virtualConfig:e.virtualConfig,active:(C=e.activeRow)===null||C===void 0?void 0:C.includes(w),isHover:e.hoverRow===w},bl(e.$props,d));e.onCellClick&&(E.onCellClick=e.onCellClick);var P=x(N1e,He({key:Ze(m,e.rowKey||"id")||b},E,{onRowMounted:e.handleRowMounted}),e.$slots);if(c.push(P),e.renderExpandedRow){var D={row:m,index:b,columns:e.columns,tableWidth:e.tableWidth,isWidthOverflow:e.isWidthOverflow},k=e.renderExpandedRow(D);k&&c.push(k)}});var h=[s(l,"first-full-row")].concat(c,[s(l,"last-full-row")]),v=!((i=this.data)!==null&&i!==void 0&&i.length)&&!this.loading&&!this.firstFullRow&&!this.lastFullRow,g="translateY(".concat((r=this.virtualConfig)===null||r===void 0?void 0:r.translateY.value,"px)"),p=(o=this.virtualConfig)!==null&&o!==void 0&&o.isVirtualScroll.value?{transform:g,"-ms-transform":g,"-moz-transform":g,"-webkit-transform":g}:void 0;return x("tbody",{class:this.tbodyClasses,style:nw({},p)},[v?a(this.columns):h])}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Xm(n){return n&&(isNaN(Number(n))?n:"".concat(n,"px"))}function D7(n){var e=rt(n),t=e.size,i=e.bordered,r=e.stripe,o=e.hover,a=e.verticalAlign,s=e.height,l=e.maxHeight,u=e.tableContentWidth,c=Qo(),d=c.tableBaseClass,f=c.tableAlignClasses,h=pO(),v=h.sizeClassNames,g=Dt("table",n.locale),p=g.globalConfig,m=R(function(){var w;return(w=t.value)!==null&&w!==void 0?w:p.value.size}),b=R(function(){return[d.table,X(X(X(X(X(X(X(X({},v[m.value],m.value!=="medium"),d.bordered,i.value),d.striped,r.value),d.hover,o.value),d.loading,n.loading),d.affixedHeader,n.headerAffixedTop),d.rowspanAndColspan,n.rowspanAndColspan),f[a.value],a.value!=="middle")]}),C=R(function(){return{height:Xm(s.value),maxHeight:Xm(l.value)}}),O=R(function(){return{width:Xm(u.value)}});return{tableClasses:b,sizeClassNames:v,tableElementStyles:O,tableContentStyles:C}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function OW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function qs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j1e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var xW=pe({name:"THead",props:{classPrefix:String,ellipsisOverlayClassName:String,isFixedHeader:Boolean,thDraggable:Boolean,maxHeight:[String,Number],height:[String,Number],rowAndColFixedPosition:Map,thWidthList:Object,bordered:Boolean,isMultipleHeader:Boolean,resizable:Boolean,attach:[String,Function],spansAndLeafNodes:Object,thList:Array,columnResizeParams:Object,showColumnShadow:Object},setup:function(e,t){var i=t.slots,r=oe(),o=Qo(),a=o.tableHeaderClasses,s=o.tableBaseClass,l=R(function(){return[a.header,X(X(X({},a.fixed,!!(e.maxHeight||e.height)),s.bordered,e.bordered&&e.isMultipleHeader),a.multipleHeader,e.isMultipleHeader)]}),u=R(function(){var d={},f=function(g){for(var p=0,m=g.length;p<m;p++){var b=g[p];if(b.colspan>1)for(var C=p+1;C<p+b.colspan;C++)g[C]&&(d[g[C].colKey]=!0);b.children&&f(b.children)}},h=e.thList[0];return f(h),d}),c=function(f){for(var h=f;h;){var v;if(h=h.parentNode,(v=h)!==null&&v!==void 0&&(v=v.classList)!==null&&v!==void 0&&v.contains("".concat(e.classPrefix,"-table")))break}return h};return qs(qs({},o),{},{colspanSkipMap:u,theadClasses:l,theadRef:r,slots:i,getTableNode:c})},render:function(){var e=this,t=function(r,o){var a=new Map,s=e.spansAndLeafNodes.rowspanAndColspanMap;return e.thList.map(function(l,u){var c=l.map(function(d,f){var h;if(e.colspanSkipMap[d.colKey])return null;var v=s.get(d);if(f===0&&v.rowspan>1)for(var g=u+1;g<u+v.rowspan;g++)a.set(e.thList[g][0],!0);var p=EM(d,f,r,e.tableColFixedClasses),m={col:d,colIndex:f,row:{},rowIndex:-1},b=Ik(d.className,qs(qs({},m),{},{type:"th"})),C=Ik(d.thClassName,qs(qs({},m),{},{type:"th"})),O=e.showColumnShadow.left&&d.fixed==="left",w=e.showColumnShadow.right&&d.fixed==="right",E=e.thDraggable&&!(O||w),P=[p.classes,b,C,X(X(X(X({},e.tableHeaderClasses.thBordered,a.get(d)),"".concat(e.classPrefix,"-table__th-").concat(d.colKey),d.colKey),e.tdAlignClasses[d.align],d.align&&d.align!=="left"),e.tableDraggableClasses.dragSortTh,E)],D=!((h=d.children)!==null&&h!==void 0&&h.length),k=D&&o!==null&&o!==void 0&&o[d.colKey]?"".concat(o==null?void 0:o[d.colKey],"px"):void 0,L=qs(qs({},p.style||{}),{},{width:k}),M=DO(e.slots,d,f),A=e.resizable||!E?{onMousedown:function(F){if(e.resizable){var W,U;(W=e.columnResizeParams)===null||W===void 0||(U=W.onColumnMousedown)===null||U===void 0||U.call(W,F,d,f)}if(!E)var q=setTimeout(function(){var Z,z=e.theadRef.querySelectorAll("th");(Z=z[f])===null||Z===void 0||Z.removeAttribute("draggable"),clearTimeout(q)},10)},onMousemove:function(F){var W,U;e.resizable&&((W=e.columnResizeParams)===null||W===void 0||(U=W.onColumnMouseover)===null||U===void 0||U.call(W,F,d))}}:{},j=qe(d.ellipsisTitle)?d.ellipsisTitle(At,{col:d,colIndex:f}):void 0,V=d.ellipsisTitle!==void 0?!!d.ellipsisTitle:!!d.ellipsis,H=(qe(d.attrs)?d.attrs(qs(qs({},m),{},{type:"th"})):d.attrs)||{};return d.colspan>1&&(H.colspan=d.colspan),x("th",He({key:d.colKey,"data-colkey":d.colKey,class:P,style:L},H,v,A),[x("div",{class:e.tableBaseClass.thCellInner},[V?x(xM,{placement:"bottom",attach:e.attach||(e.theadRef?function(){return e.getTableNode(e.theadRef)}:void 0),tooltipContent:j&&function(){return j},tooltipProps:kn(d.ellipsisTitle)==="object"?d.ellipsisTitle:void 0,overlayClassName:e.ellipsisOverlayClassName,classPrefix:e.classPrefix},j1e(M)?M:{default:function(){return[M]}}):M])])});return x("tr",{key:u},[c])})};return x("thead",{ref:"theadRef",class:this.theadClasses},[t(this.rowAndColFixedPosition,this.thWidthList)])}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function EW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function iw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var PW=pe({name:"TFoot",props:{rowKey:String,isFixedHeader:Boolean,rowAndColFixedPosition:Map,footData:Array,columns:Array,rowAttributes:[Array,Object,Function],rowClassName:[Array,String,Object,Function],thWidthList:[Object],footerSummary:[String,Function],rowspanAndColspanInFooter:Function,virtualScroll:Boolean},setup:function(e,t){var i=ft(),r=Qo(),o=rt(e),a=o.footData,s=o.columns,l=o.rowKey,u=o.rowspanAndColspanInFooter,c=E7(a,s,l,u),d=c.skipSpansMap,f=function(v){var g=v.col,p=v.row;return qe(g.foot)?g.foot(At,v):kt(g.foot)&&t.slots[g.foot]?t.slots[g.foot](v)||g.foot:g.foot||Ze(p,g.colKey)};return iw(iw({skipSpansMap:d},r),{},{renderTFootCell:f,renderTNode:i})},render:function(){var e,t=this;if(!this.columns)return null;var i=[this.tableFooterClasses.footer,X({},this.tableFooterClasses.fixed,this.isFixedHeader)],r=(e=this.footData)===null||e===void 0?void 0:e.map(function(a,s){var l=PM(t.rowAttributes,{row:a,rowIndex:s,type:"foot"}),u=kM(t.rowClassName,{row:a,rowIndex:s,type:"foot"},t.rowKey||"id");return x("tr",He(l,{key:s,class:u}),[t.columns.map(function(c,d){var f,h={},v=null;if(t.skipSpansMap.size){var g,p,m=qb(a,t.rowKey,c.colKey,d);if(v=t.skipSpansMap.get(m)||{},((g=v)===null||g===void 0?void 0:g.rowspan)>1&&(h.rowspan=v.rowspan),((p=v)===null||p===void 0?void 0:p.colspan)>1&&(h.colspan=v.colspan),v.skipped)return null}var b=EM(c,d,t.rowAndColFixedPosition,t.tableColFixedClasses),C=iw({},b.style);return(f=t.thWidthList)!==null&&f!==void 0&&f[c.colKey]&&(C.width="".concat(t.thWidthList[c.colKey],"px")),x("td",He(iw({key:c.colKey},h),{class:b.classes,style:C}),[t.renderTFootCell({row:a,rowIndex:s,col:c,colIndex:d})])})])}),o=this.renderTNode("footerSummary");return!o&&(!this.footData||!this.footData.length)?null:x("tfoot",{ref:"tFooterRef",class:i,style:{visibility:this.virtualScroll?"hidden":"visible"}},[o&&x("tr",{class:this.tableFullRowClasses.base},[x("td",{colspan:this.columns.length},[x("div",{class:this.tableFullRowClasses.innerFullElement},[o])])]),r])}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function H1e(n,e){var t=rt(n),i=t.data,r=t.activeRowType,o=t.activeRowKeys,a=t.defaultActiveRowKeys,s=t.disableSpaceInactiveRow,l=oe(-1),u=oe(!1),c=oe(!1),d=oe(-1),f=Gi(o,a.value,n.onActiveChange,"activeRowKeys"),h=Je(f,2),v=h[0],g=h[1],p=function(j){var V=j.row,H=j.index,N=Ze(V,n.rowKey);if(r.value==="single"){var F=v.value.length>1?[N]:[];g(F,{type:"inactive",activeRowList:[{row:V,rowIndex:H}],currentRowData:V})}else if(r.value==="multiple"){for(var W=v.value.filter(function(ie){return ie!==N}),U=[],q=0,Z=i.value.length;q<Z;q++){var z=i.value[q];W.includes(Ze(z,n.rowKey))&&U.push({row:z,rowIndex:q})}g(W,{type:"inactive",activeRowList:U,currentRowData:V})}},m=function(j){var V=j.row,H=Ze(V,n.rowKey);if(r.value==="single")g([H],{activeRowList:[{row:V,rowIndex:j.index}],currentRowData:V,type:"active"});else{for(var N=v.value.concat(H),F=[],W=0,U=i.value.length;W<U;W++){var q=i.value[W];N.includes(Ze(q,n.rowKey))&&F.push({row:q,rowIndex:W})}g(N,{activeRowList:F,currentRowData:V,type:"active"})}},b=function(j){document.getSelection().removeAllRanges();for(var V=j.row,H=l.value,N=Math.min(d.value,H),F=Math.max(d.value,H),W=[],U=N;U<=F;U++)W.push({row:i.value[U],rowIndex:U});var q=W.map(function(Z){return Ze(Z.row,n.rowKey)});g(q,{activeRowList:W,type:"active",currentRowData:V})},C=function(){for(var j=[],V=0,H=i.value.length;V<H;V++){var N=i.value[V],F=Ze(N,n.rowKey);v.value.includes(F)&&j.push({row:N,rowIndex:V})}return j},O=function(j,V){if(r.value){var H=j.row,N=j.index,F=Ze(H,n.rowKey);u.value?(l.value=N,b(j),c.value=!0):v.value.includes(F)&&(V==null?void 0:V.action)!=="active"?s.value||(p(j),l.value=N):(m(j),l.value=N)}},w=function(){var j;g([],{activeRowList:[],currentRowData:void 0,type:"inactive"}),(j=n.onActiveRowAction)===null||j===void 0||j.call(n,{action:"clear",activeRowList:[]}),l.value=-1},E=function(){var j,V=i.value.map(function(N){return Ze(N,n.rowKey)}),H=i.value.map(function(N,F){return{row:N,rowIndex:F}});g(V,{activeRowList:H,currentRowData:void 0,type:"active"}),(j=n.onActiveRowAction)===null||j===void 0||j.call(n,{action:"select-all",activeRowList:H}),l.value=-1},P=function(){c.value=!1},D=function(j){var V,H=j.code||((V=j.key)===null||V===void 0?void 0:V.trim());if(c0.test(H)){j.preventDefault();var N=Math.min(i.value.length-1,l.value+1);r.value==="single"?O({row:i.value[N],index:N},{action:"active"}):l.value=N}else if(d0.test(H)){j.preventDefault();var F=Math.max(0,l.value-1);r.value==="single"?O({row:i.value[F],index:F},{action:"active"}):l.value=F}else if(f0.test(H)){j.preventDefault();var W=l.value;if(c.value){var U;(U=n.onActiveRowAction)===null||U===void 0||U.call(n,{action:"shift-area-selection",activeRowList:C()})}else if(!s.value)O({row:i.value[W],index:W});else{var q;(q=n.onActiveRowAction)===null||q===void 0||q.call(n,{action:"space-one-selection",activeRowList:C()})}}else NB.test(H)?(u.value=!0,d.value=l.value):KU.test(H)||qU.test(H)?(w(),P()):GU.test(H)&&E();f0.test(H)||P()},k=function(j){var V,H=j.code||((V=j.key)===null||V===void 0?void 0:V.trim());NB.test(H)&&(u.value=!1)},L=function(){ai(e.value,"keydown",D),ai(e.value,"keyup",k)},M=function(){Tn(e.value,"keydown",D),Tn(e.value,"keyup",k)};return{tActiveRow:v,onHighlightRow:O,addHighlightKeyboardListener:L,removeHighlightKeyboardListener:M}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function B1e(n,e){var t=rt(n),i=t.hover,r=t.data,o=t.activeRowType,a=t.keyboardRowHover,s=t.disableSpaceInactiveRow,l=oe(),u=oe(-1),c=oe(0),d=R(function(){return o.value==="single"?!1:o.value==="multiple"?!0:i.value||a.value}),f=function(b,C){var O=Ze(b.row,n.rowKey);l.value===O&&(C==null?void 0:C.action)!=="hover"?s.value||(l.value=void 0):l.value=O,u.value=b.index},h=function(){l.value=void 0,u.value=-1},v=function(b){var C;if(d.value){var O=b.code||((C=b.key)===null||C===void 0?void 0:C.trim());if(c0.test(O)){b.preventDefault();var w=Math.min(r.value.length-1,u.value+1);f({row:r.value[w],index:w},{action:"hover"})}else if(d0.test(O)){b.preventDefault();var E=Math.max(0,u.value-1);f({row:r.value[E],index:E},{action:"hover"})}else if(f0.test(O)&&n.activeRowType!=="multiple"){var P=u.value;if(f({row:r.value[P],index:P}),!n.activeRowType){var D;(D=n.onActiveRowAction)===null||D===void 0||D.call(n,{action:"space-one-selection",activeRowList:[{row:r.value[P],rowIndex:P}]})}}else if(KU.test(O)&&!n.activeRowType){var k;l.value=void 0,(k=n.onActiveRowAction)===null||k===void 0||k.call(n,{action:"clear",activeRowList:[]})}else if(GU.test(O)&&!n.activeRowType){var L;(L=n.onActiveRowAction)===null||L===void 0||L.call(n,{action:"select-all",activeRowList:[]})}else if(qU.test(O)&&!n.activeRowType&&!b.ctrlKey&&!b.metaKey){var M;(M=n.onActiveRowAction)===null||M===void 0||M.call(n,{action:"clear",activeRowList:[]})}Sbe.test(O)||Obe.test(O)?c.value=void 0:c.value=0}},g=function(){ai(e.value,"keydown",v)},p=function(){Tn(e.value,"keydown",v)};return{hoverRow:l,needKeyboardRowHover:d,clearHoverRow:h,addRowHoverKeyboardListener:g,removeRowHoverKeyboardListener:p,tableRefTabIndex:c}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function $1e(n,e){var t=oe(),i=oe(!0),r=function(){if(!(!e.value||!n.value||t.value)){i.value=!1;var a=Qy(n.value,null,function(){i.value=!0},10);t.value=a}};return mt(r),e.value&&Pe([e,n],r),yi(function(){var o,a;e.value&&((o=t.value)===null||o===void 0||(a=o.unobserve)===null||a===void 0||a.call(o,n.value))}),{showElement:i}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function kW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Jr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function DW(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var V1e=["page-change","cell-click","scroll","scrollX","scrollY"];DM.map(function(n){return"row-".concat(n)}).concat(V1e);var T7=pe({name:"TBaseTable",props:Jr(Jr({},$g),{},{renderExpandedRow:Function,onLeafColumnsChange:Function,thDraggable:Boolean}),emits:["show-element-change"],setup:function(e,t){var i=rt(e),r=i.lazyLoad,o=ft(),a=oe(),s=oe(),l=oe(),u=oe(),c=oe(0),d=Qo(),f=d.classPrefix,h=d.virtualScrollClasses,v=d.tableLayoutClasses,g=d.tableBaseClass,p=d.tableColFixedClasses,m=D7(e),b=m.tableClasses,C=m.sizeClassNames,O=m.tableContentStyles,w=m.tableElementStyles,E=Dt("table",e.locale),P=E.globalConfig,D=O7(e),k=D.isMultipleHeader,L=D.spansAndLeafNodes,M=D.thList,A=R(function(){var zn;return((zn=L.value)===null||zn===void 0?void 0:zn.leafColumns)||e.columns}),j=R(function(){var zn;return(zn=e.size)!==null&&zn!==void 0?zn:P.value.size}),V=$1e(a,r),H=V.showElement,N=oe(),F=oe(),W=oe(),U=oe(),q=D1e(e,t,A,{paginationAffixRef:N,horizontalScrollAffixRef:F,headerTopAffixRef:W,footerBottomAffixRef:U}),Z=q.scrollbarWidth,z=q.virtualScrollHeaderPos,ie=q.tableWidth,ee=q.tableElmWidth,K=q.tableContentRef,J=q.isFixedHeader,$=q.isWidthOverflow,Y=q.isFixedColumn,te=q.thWidthList,ae=q.showColumnShadow,le=q.rowAndColFixedPosition,Q=q.setData,ne=q.refreshTable,se=q.setTableElmWidth,de=q.emitScrollEvent,he=q.setUseFixedTableElmRef,ge=q.updateColumnFixedShadow,Se=q.getThWidthList,Te=q.updateThWidthList,Ce=q.addTableResizeObserver,xe=q.updateTableAfterColumnResize,Me=L1e(e),Re=Me.affixHeaderRef,Ae=Me.affixFooterRef,De=Me.horizontalScrollbarRef,Ee=Me.paginationRef,me=Me.showAffixHeader,Oe=Me.showAffixFooter,ke=Me.showAffixPagination,Ve=Me.onHorizontalScroll,lt=Me.setTableContentRef,Ge=Me.updateAffixHeaderOrFooter,$e=I1e(e,t),Fe=$e.dataSource,Ke=$e.innerPagination,et=$e.isPaginateData,ot=$e.renderPagination,Rt=P1e({isWidthOverflow:$,tableContentRef:K,showColumnShadow:ae,getThWidthList:Se,updateThWidthList:Te,setTableElmWidth:se,updateTableAfterColumnResize:xe,onColumnResizeChange:e.onColumnResizeChange}),zt=Rt.resizeLineRef,ri=Rt.resizeLineStyle,qn=Rt.setEffectColMap,Qi=R(function(){return[b.value,X(X(X(X(X(X(X(X({},g.headerFixed,J.value),g.columnFixed,Y.value),g.widthOverflow,$.value),g.multipleHeader,k.value),p.leftShadow,ae.left),p.rightShadow,ae.right),g.columnResizableTable,e.resizable),"".concat(f,"-table__row--active-").concat(e.activeRowType),e.activeRowType)]}),Ii=R(function(){return[[v[e.tableLayout]]]}),ye=R(function(){return e.bordered&&J.value&&(k.value&&$.value||!k.value)}),We=R(function(){var zn,Qn;if(!e.bordered)return 0;var li=(zn=u.value)===null||zn===void 0?void 0:zn.getBoundingClientRect(),ui=(Qn=Ee.value)===null||Qn===void 0?void 0:Qn.getBoundingClientRect();return((li==null?void 0:li.height)||0)+((ui==null?void 0:ui.height)||0)}),gt=H1e(e,a),jt=gt.tActiveRow,Gn=gt.onHighlightRow,oi=gt.addHighlightKeyboardListener,at=gt.removeHighlightKeyboardListener,Xe=B1e(e,a),ct=Xe.hoverRow,An=Xe.needKeyboardRowHover,wn=Xe.clearHoverRow,ji=Xe.addRowHoverKeyboardListener,er=Xe.removeRowHoverKeyboardListener,ka=Xe.tableRefTabIndex;Pe(s,function(){he(s.value)}),Pe(function(){return[e.data,Fe]},function(){Q(et.value?Fe.value:e.data)}),Pe(L,function(){var zn;(zn=e.onLeafColumnsChange)===null||zn===void 0||zn.call(e,L.value.leafColumns),qn(L.value.leafColumns,null)},{immediate:!0});var Da=function(){tn(function(){Ve(),Ge()})},Xr=lh(function(){Te(Se("calculate"))}),ta=R(function(){return{data:e.data,scroll:Jr(Jr({},e.scroll),{},{fixedRows:e.fixedRows})}}),Tr=wM(K,ta),na=-1,en=function(Qn){var li=Qn.target||Qn.srcElement,ui=li.scrollTop;na!==ui?Tr.isVirtualScroll.value&&Tr.handleScroll():(na=-1,ge(li)),na=ui,de(Qn),e.tableLayout==="auto"&&Xr()},ia=function(){var Qn;s.value&&(c.value=(Qn=s.value.querySelector("tfoot"))===null||Qn===void 0?void 0:Qn.getBoundingClientRect().height)},cs=function(Qn){if(K.value){for(var li=K.value.querySelector('th[data-colkey="'.concat(Qn,'"]')),ui=K.value.querySelectorAll("th.t-table__cell--fixed-left"),wr=0,tt=0,Lt=ui.length;tt<Lt;tt++)wr+=ui[tt].getBoundingClientRect().width;var pn=li.getBoundingClientRect(),Fn=K.value.getBoundingClientRect(),_i=pn.left-Fn.left-wr;K.value.scrollTo({left:_i,behavior:"smooth"})}};Pe(K,function(){lt(K.value),e.tableLayout==="auto"&&Xr()}),Pe(function(){return[s.value,e.footData,e.footerSummary,e.columns]},function(){var zn=setTimeout(function(){ia(),clearTimeout(zn)},0)}),Pe(a,function(zn){Ce(zn)}),mt(function(){ia(),lt(K.value),Ce(a.value)});var Hl=function(){e.activeRowType&&oi(),An.value&&ji()},Ws=function(){e.activeRowType&&at(),An.value&&er()},ho=function(Qn){var li;(li=e.onRowClick)===null||li===void 0||li.call(e,Qn),e.activeRowType&&Gn(Qn),An.value&&wn()};Pe([H],function(zn){var Qn=Je(zn,1),li=Qn[0];t.emit("show-element-change",li)},{immediate:!0});var tc=R(function(){return et.value?Fe.value:e.data}),Li=function(Qn){var li=Qn.index;if(!li&&li!==0){var ui;if(!Qn.key){Yt.error("Table","scrollToElement: one of `index` or `key` must exist.");return}li=(ui=tc.value)===null||ui===void 0?void 0:ui.findIndex(function(jr){return Ze(jr,e.rowKey)===Qn.key}),li<0&&Yt.error("Table","".concat(Qn.key," does not exist in data, check `rowKey` or `data` please."))}if(Tr.isVirtualScroll.value)Tr.scrollToElement(Jr(Jr({},Qn),{},{index:li+1}));else{var wr,tt,Lt=(wr=l.value)===null||wr===void 0?void 0:wr.$el,pn=Lt==null||(tt=Lt.children)===null||tt===void 0?void 0:tt[li];if(pn){var Fn,_i,Ir=pn.offsetTop,Ta=K.value.scrollTop,nc=Ir-Ta-((Fn=Qn.top)!==null&&Fn!==void 0?Fn:0);K.value.scrollBy({top:nc,behavior:(_i=Qn.behavior)!==null&&_i!==void 0?_i:"auto"})}}};return{thList:M,classPrefix:f,innerPagination:Ke,globalConfig:P,tableFootHeight:c,virtualScrollHeaderPos:z,tableSize:j,tableWidth:ie,tableElmWidth:ee,tableRef:a,tableElmRef:s,sizeClassNames:C,tableBaseClass:g,spansAndLeafNodes:L,dynamicBaseTableClasses:Qi,tableContentStyles:O,tableElementStyles:w,dividerBottom:We,virtualScrollClasses:h,tableLayoutClasses:v,tableElmClasses:Ii,tableContentRef:K,isFixedHeader:J,isWidthOverflow:$,isFixedColumn:Y,rowAndColFixedPosition:le,showColumnShadow:ae,thWidthList:te,isPaginateData:et,dataSource:Fe,affixHeaderRef:Re,affixFooterRef:Ae,bottomContentRef:u,paginationRef:Ee,showAffixHeader:me,showAffixFooter:Oe,scrollbarWidth:Z,isMultipleHeader:k,showRightDivider:ye,resizeLineRef:zt,resizeLineStyle:ri,columnResizeParams:Rt,horizontalScrollbarRef:De,tableBodyRef:l,virtualConfig:Tr,showAffixPagination:ke,tActiveRow:jt,hoverRow:ct,showElement:H,scrollToElement:Li,renderPagination:ot,renderTNode:o,onFixedChange:Da,onHorizontalScroll:Ve,updateAffixHeaderOrFooter:Ge,onInnerVirtualScroll:en,refreshTable:ne,scrollColumnIntoView:cs,onTableFocus:Hl,onTableBlur:Ws,onInnerRowClick:ho,paginationAffixRef:N,horizontalScrollAffixRef:F,headerTopAffixRef:W,footerBottomAffixRef:U,tableRefTabIndex:ka}},render:function(){var e,t,i=this,r,o,a,s,l,u;if(!this.showElement)return x("div",{ref:"tableRef"},null);var c=this.rowAndColFixedPosition,d=this.tableLayout,f=this.isPaginateData?this.dataSource:this.data,h=((e=this.spansAndLeafNodes)===null||e===void 0?void 0:e.leafColumns)||this.columns,v=(t=this.allowResizeColumnWidth)!==null&&t!==void 0?t:this.resizable;v&&d==="auto"&&Yt.warn("Table","table-layout can not be `auto`, cause you are using column resizable, set `table-layout: fixed` please.");var g=d==="fixed"&&this.isWidthOverflow?"100px":void 0,p=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return x("colgroup",null,[h.map(function(ae){var le={width:Xm((te||v?i.thWidthList[ae.colKey]:void 0)||ae.width)||g};return ae.minWidth&&(le.minWidth=Xm(ae.minWidth)),!le.width&&!ae.minWidth&&i.tableLayout==="fixed"&&(le.minWidth="80px"),x("col",{key:ae.colKey,style:le},null)})])},m=function(){return i.showHeader===!1?null:!!(i.virtualConfig.isVirtualScroll.value||i.headerAffixedTop)&&(i.headerAffixedTop?x(Nv,He({offsetTop:0},tw(i.headerAffixedTop),{onFixedChange:i.onFixedChange,ref:"headerTopAffixRef"}),DW(j)?j:{default:function(){return[j]}}):i.isFixedHeader&&j)},b=function(){return x(Nv,He({offsetBottom:0},tw(i.horizontalScrollAffixedBottom),{style:{marginTop:"-".concat(i.scrollbarWidth*2,"px")},horizontalScrollAffixedBottom:!0,ref:"horizontalScrollAffixRef"}),{default:function(){return[x("div",{ref:"horizontalScrollbarRef",class:["scrollbar",i.tableBaseClass.obviousScrollbar],style:{width:"".concat(i.tableWidth,"px"),overflow:"auto",opacity:Number(i.showAffixFooter)}},[x("div",{style:{width:"".concat(i.tableElmWidth,"px"),height:"5px"}},null)])]}})},C={isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:this.rowAndColFixedPosition,isMultipleHeader:this.isMultipleHeader,bordered:this.bordered,maxHeight:this.maxHeight,height:this.height,spansAndLeafNodes:this.spansAndLeafNodes,thList:this.thList,thWidthList:this.thWidthList,resizable:this.resizable,columnResizeParams:this.columnResizeParams,classPrefix:this.classPrefix,ellipsisOverlayClassName:this.tableSize!=="medium"?this.sizeClassNames[this.tableSize]:"",attach:this.attach,showColumnShadow:this.showColumnShadow,thDraggable:this.thDraggable},O=Tu()<=11?4:0,w=this.isWidthOverflow?this.scrollbarWidth:0,E=oe((((r=this.affixHeaderRef)===null||r===void 0?void 0:r.getBoundingClientRect().height)||0)-O),P=setTimeout(function(){var Y;E.value=(((Y=i.affixHeaderRef)===null||Y===void 0?void 0:Y.getBoundingClientRect().height)||0)-O,clearTimeout(P)},0),D=R(function(){return E.value-w}),k=$g.headerAffixedTop?Number(this.showAffixHeader):1,L=R(function(){return{width:"".concat(i.tableWidth,"px"),height:"".concat(D.value,"px"),opacity:k}}),M=this.bordered?1:0,A=!!((this.headerAffixedTop||this.virtualConfig.isVirtualScroll.value)&&this.tableWidth)&&x("div",{ref:"affixHeaderRef",style:{width:"".concat(this.tableWidth-M,"px"),opacity:Number(this.showAffixHeader)},class:["scrollbar",X({},this.tableBaseClass.affixedHeaderElm,this.headerAffixedTop||this.virtualConfig.isVirtualScroll.value)]},[x("table",{class:this.tableElmClasses,style:Jr(Jr({},this.tableElementStyles),{},{width:"".concat(this.tableElmWidth,"px")})},[p(!0),x(xW,C,this.$slots)])]),j=x("div",{class:this.tableBaseClass.affixedHeaderWrap,style:L.value},[A]),V=this.isWidthOverflow?this.scrollbarWidth:0;this.bordered&&(V+=1);var H=!!(this.virtualConfig.isVirtualScroll.value||this.footerAffixedBottom),N=((o=this.footData)===null||o===void 0?void 0:o.length)||this.footerSummary||this.$slots.footerSummary,F=!!(H&&N&&this.tableWidth)&&x(Nv,He({class:this.tableBaseClass.affixedFooterWrap,onFixedChange:this.onFixedChange,offsetBottom:V||0},tw(this.footerAffixedBottom),{style:{marginTop:"".concat(-1*(((a=this.tableFootHeight)!==null&&a!==void 0?a:0)+V),"px")},ref:"footerBottomAffixRef"}),{default:function(){return[x("div",{ref:"affixFooterRef",style:{width:"".concat(i.tableWidth-M,"px"),opacity:Number(i.showAffixFooter)},class:["scrollbar",X({},i.tableBaseClass.affixedFooterElm,i.footerAffixedBottom||i.virtualConfig.isVirtualScroll.value)]},[x("table",{class:i.tableElmClasses,style:Jr(Jr({},i.tableElementStyles),{},{width:"".concat(i.tableElmWidth,"px")})},[p(!0),x(PW,{rowKey:i.rowKey,isFixedHeader:i.isFixedHeader,rowAndColFixedPosition:c,footData:i.footData,columns:h,rowAttributes:i.rowAttributes,rowClassName:i.rowClassName,thWidthList:i.thWidthList,footerSummary:i.footerSummary,rowspanAndColspanInFooter:i.rowspanAndColspanInFooter},i.$slots)])])]}}),W="translate(0, ".concat(this.virtualConfig.scrollHeight.value+((s=this.tableFootHeight)!==null&&s!==void 0?s:0)+((l=E.value)!==null&&l!==void 0?l:0),"px)"),U={transform:W,"-ms-transform":W,"-moz-transform":W,"-webkit-transform":W},q=Jr(Jr({classPrefix:this.classPrefix,ellipsisOverlayClassName:this.tableSize!=="medium"?this.sizeClassNames[this.tableSize]:"",rowAndColFixedPosition:c,showColumnShadow:this.showColumnShadow,data:f,virtualConfig:this.virtualConfig,columns:this.spansAndLeafNodes.leafColumns,tableElm:this.tableRef,tableWidth:this.tableWidth,isWidthOverflow:this.isWidthOverflow,scroll:this.scroll,cellEmptyContent:this.cellEmptyContent,tableContentElm:this.tableContentRef,handleRowMounted:this.virtualConfig.handleRowMounted,renderExpandedRow:this.renderExpandedRow},bl(this.$props,k7)),{},{pagination:this.innerPagination,attach:this.attach,hoverRow:this.hoverRow,activeRow:this.tActiveRow,onRowClick:this.onInnerRowClick}),Z=x("div",{ref:"tableContentRef",class:this.tableBaseClass.content,style:this.tableContentStyles,onScroll:this.onInnerVirtualScroll},[this.virtualConfig.isVirtualScroll.value&&x("div",{class:this.virtualScrollClasses.cursor,style:U},null),x("table",{ref:"tableElmRef",class:this.tableElmClasses,style:Jr(Jr({},this.tableElementStyles),{},{width:this.resizable&&this.isWidthOverflow&&this.tableElmWidth?"".concat(this.tableElmWidth,"px"):this.tableElementStyles.width})},[p(!1),this.showHeader&&x(xW,Jr(Jr({},C),{},{thWidthList:v?this.thWidthList:{}}),this.$slots),x(F1e,He({ref:"tableBodyRef"},q),this.$slots),x(PW,{rowKey:this.rowKey,isFixedHeader:this.isFixedHeader,rowAndColFixedPosition:c,footData:this.footData,columns:h,rowAttributes:this.rowAttributes,rowClassName:this.rowClassName,footerSummary:this.footerSummary,rowspanAndColspanInFooter:this.rowspanAndColspanInFooter,virtualScroll:this.virtualConfig.isVirtualScroll.value},this.$slots)])]),z=qe(this.loading)?this.loading:this.$slots.loading,ie=this.loading!==void 0&&x(ar,He({loading:!!this.loading,text:z,attach:this.tableRef?function(){return i.tableRef}:void 0,showOverlay:!0,size:"small"},this.loadingProps),null),ee=this.renderTNode("topContent"),K=this.renderTNode("bottomContent"),J=x("div",{ref:"paginationRef",class:this.tableBaseClass.paginationWrap,style:{opacity:Number(this.showAffixPagination)}},[this.renderPagination()]),$=!!K&&x("div",{ref:"bottomContentRef",class:this.tableBaseClass.bottomContent},[K]);return x("div",{ref:"tableRef",tabindex:this.tableRefTabIndex,class:this.dynamicBaseTableClasses,onFocus:this.onTableFocus,onBlur:this.onTableBlur},[!!ee&&x("div",{class:this.tableBaseClass.topContent},[ee]),m(),Z,F,ie,$,this.showRightDivider&&x("div",{class:this.tableBaseClass.scrollbarDivider,style:{right:"".concat(this.scrollbarWidth,"px"),bottom:this.dividerBottom?"".concat(this.dividerBottom,"px"):void 0,height:"".concat((u=this.tableContentRef)===null||u===void 0?void 0:u.getBoundingClientRect().height,"px")}},null),this.horizontalScrollAffixedBottom&&b(),this.paginationAffixedBottom?x(Nv,He({offsetBottom:0},tw(this.paginationAffixedBottom),{ref:"paginationAffixRef"}),DW(J)?J:{default:function(){return[J]}}):J,x("div",{ref:"resizeLineRef",class:this.tableBaseClass.resizeLine,style:this.resizeLineStyle},null)])}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var I7={asyncLoading:{type:[String,Function]},columnController:{type:Object},columnControllerVisible:{type:Boolean,default:void 0},defaultColumnControllerVisible:{type:Boolean,default:void 0},columns:{type:Array,default:function(){return[]}},displayColumns:{type:Array,default:void 0},defaultDisplayColumns:{type:Array},dragSort:{type:String,validator:function(e){return e?["row","row-handler","col","row-handler-col","drag-col"].includes(e):!0}},dragSortOptions:{type:Object},editableCellState:{type:Function},editableRowKeys:{type:Array},expandIcon:{type:[Boolean,Function],default:!0},expandOnRowClick:Boolean,expandedRow:{type:[String,Function]},expandedRowKeys:{type:Array,default:void 0},defaultExpandedRowKeys:{type:Array,default:function(){return[]}},filterIcon:{type:Function},filterRow:{type:[String,Function]},filterValue:{type:Object,default:void 0},defaultFilterValue:{type:Object},hideSortTips:Boolean,indeterminateSelectedRowKeys:{type:Array},multipleSort:Boolean,reserveSelectedRowOnPaginate:{type:Boolean,default:!0},rowSelectionAllowUncheck:Boolean,rowSelectionType:{type:String,validator:function(e){return e?["single","multiple"].includes(e):!0}},selectOnRowClick:Boolean,selectedRowKeys:{type:Array,default:void 0},defaultSelectedRowKeys:{type:Array,default:function(){return[]}},showSortColumnBgColor:Boolean,sort:{type:[Object,Array],default:void 0},defaultSort:{type:[Object,Array]},sortIcon:{type:Function},sortOnRowDraggable:Boolean,onAsyncLoadingClick:Function,onCellClick:Function,onChange:Function,onColumnChange:Function,onColumnControllerVisibleChange:Function,onDataChange:Function,onDisplayColumnsChange:Function,onDragSort:Function,onExpandChange:Function,onFilterChange:Function,onRowEdit:Function,onRowValidate:Function,onSelectChange:Function,onSortChange:Function,onValidate:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function TW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function IW(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var W1e=pe({name:"ColumnCheckboxGroup",props:{checkboxProps:Object,options:{type:Array,default:function(){return[]}},label:String,uniqueKey:String,value:Array,onChange:Function},setup:function(e){var t=rt(e),i=t.checkboxProps,r=t.value,o=t.options,a=we(),s=R(function(){var v=[];return o.value.forEach(function(g){if(kn(g)==="object"){if(g.disabled)return;g.value?v.push(g.value):typeof g.label=="string"&&v.push(g.label)}else v.push(g)}),v}),l=R(function(){return oh(s.value,r.value)}),u=R(function(){var v=l.value.length;return!!(v&&s.value.length===v)}),c=R(function(){var v=l.value.length;return!!(v<s.value.length&&v)}),d=function(g,p){var m={e:p.e,type:"check",current:void 0,option:void 0};if(g){var b,C=Be(new Set(r.value.concat(s.value)));(b=e.onChange)===null||b===void 0||b.call(e,C,m)}else{var O,w=r.value.filter(function(E){return!s.value.includes(E)});(O=e.onChange)===null||O===void 0||O.call(e,w,IW(IW({},m),{},{type:"uncheck"}))}},f=function(g,p){var m;(m=e.onChange)===null||m===void 0||m.call(e,g,p)},h=R(function(){return["".concat(a.value,"-table__column-controller-item"),X({},"".concat(a.value,"-table__").concat(e.uniqueKey),e.uniqueKey)]});return function(){return x("div",{class:h.value},[x("div",{class:"".concat(a.value,"-table__column-controller-block")},[x(_l,{indeterminate:c.value,checked:u.value,onChange:d,disabled:!s.value.length},{default:function(){return[e.label]}})]),x("div",{class:"".concat(a.value,"-table__column-controller-block")},[x(Kb,He({options:o.value},i.value,{modelValue:r.value,onChange:f}),null)])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function LW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Lk(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,t=0,i=n.length;t<i;t++){var r,o=n[t];(r=o.children)!==null&&r!==void 0&&r.length?Lk(o.children,e):o.colKey&&e.add(o.colKey)}return e}function z1e(n,e){var t=Dt("table",n.locale),i=t.classPrefix,r=t.globalConfig,o=On({SettingIcon:xhe}),a=o.SettingIcon,s=rt(n),l=s.columns,u=s.columnController,c=s.displayColumns,d=s.columnControllerVisible,f=oe(null),h=ft(),v=R(function(){var A,j=(((A=u.value)===null||A===void 0?void 0:A.fields)||Be(Lk(l.value))).filter(function(V){return V});return new Set(j)}),g=Be(Lk(l.value)),p=Gi(c,n.defaultDisplayColumns||g,n.onDisplayColumnsChange,"displayColumns"),m=Je(p,2),b=m[0],C=m[1],O=oe(c.value||n.defaultDisplayColumns||g),w=R(function(){var A;if((A=u.value)!==null&&A!==void 0&&(A=A.groupColumns)!==null&&A!==void 0&&A.length)return P(l.value);var j={label:r.value.selectAllText,options:D(l.value)};return[j]});Pe([c],function(A){var j=Je(A,1),V=j[0];O.value=V||n.defaultDisplayColumns||g});function E(A,j){return{label:function(){return DO(e.slots,A,j)},value:A.colKey,disabled:!v.value.has(A.colKey)}}function P(A){var j,V=(j=u.value)===null||j===void 0?void 0:j.groupColumns;if(!(V!=null&&V.length))return[];var H=[],N=function(W){for(var U=0,q=W.length;U<q;U++){for(var Z,z=W[U],ie=E(z,U),ee=0,K=V.length;ee<K;ee++){var J,$=V[ee];$.columns.includes(z.colKey)&&((J=H[ee])!==null&&J!==void 0&&(J=J.options)!==null&&J!==void 0&&J.length?H[ee].options.push(ie):H[ee]=mE(mE({},V[ee]),{},{options:[ie]}))}(Z=z.children)!==null&&Z!==void 0&&Z.length&&N(z.children)}};return N(A),H}function D(A){var j,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if((j=u.value)!==null&&j!==void 0&&(j=j.groupColumns)!==null&&j!==void 0&&j.length)return[];for(var H=0,N=A.length;H<N;H++){var F,W=A[H];(F=W.children)!==null&&F!==void 0&&F.length?D(W.children,V):W.colKey&&V.push(E(W,H))}return V}var k=function(j,V){var H;O.value=j;var N={columns:j,type:V.type,currentColumn:x7(l.value,String(V.current)),e:V.e};(H=n.onColumnChange)===null||H===void 0||H.call(n,N)},L=function(){var j;if(f.value){f.value.show();return}f.value=PO.confirm(mE({header:r.value.columnConfigTitleText,body:function(){var H,N=((H=u.value)===null||H===void 0?void 0:H.displayType)==="fixed-width"?"fixed":"auto",F=u.value||{},W=F.columnControllerTopContent,U=F.columnControllerBottomContent,q=x("div",{class:["".concat(i.value,"-table__column-controller"),"".concat(i.value,"-table__column-controller--").concat(N)]},[x("div",{class:"".concat(i.value,"-table__column-controller-body")},[qe(W)?W(At):h("columnControllerTopContent"),r.value.columnConfigDescriptionText&&x("p",{class:"".concat(i.value,"-table__column-controller-desc")},[r.value.columnConfigDescriptionText]),w.value.map(function(Z,z){var ie,ee,K=(ie=u.value)!==null&&ie!==void 0&&(ie=ie.groupColumns)!==null&&ie!==void 0&&ie.length?String(Z.value||z):void 0;return x(W1e,{key:Z.value||z,uniqueKey:K,value:O.value,label:Z.label,options:Z.options,onChange:k,checkboxProps:(ee=u.value)===null||ee===void 0?void 0:ee.checkboxProps},null)}),qe(U)?U(At):h("columnControllerBottomContent")])]);return q},confirmBtn:r.value.confirmText,cancelBtn:r.value.cancelText,width:612,onConfirm:function(){if(C(Be(O.value)),d.value===void 0)f.value.hide();else{var H;(H=n.onColumnControllerVisibleChange)===null||H===void 0||H.call(n,!1,{trigger:"confirm"}),e.emit("update:columnControllerVisible",!1)}},onClose:function(){if(d.value===void 0)f.value.hide();else{var H;(H=n.onColumnControllerVisibleChange)===null||H===void 0||H.call(n,!1,{trigger:"cancel"}),e.emit("update:columnControllerVisible",!1)}}},((j=u.value)===null||j===void 0?void 0:j.dialogProps)||{}))};Pe([d],function(A){var j=Je(A,1),V=j[0];V!==void 0&&(f.value?V?f.value.show():f.value.hide():V&&L())},{immediate:!0});var M=function(){var j,V=!!(u.value&&Object.keys(u.value).length),H=V?u.value.placement||"top-right":"";if(V&&u.value.hideTriggerButton)return null;var N=["".concat(i.value,"-table__column-controller-trigger"),X({},"".concat(i.value,"-align-").concat(H),!!H)];return x("div",{class:N},[x(Bt,He({theme:"default",variant:"outline",onClick:L,content:r.value.columnConfigButtonText},(j=n.columnController)===null||j===void 0?void 0:j.buttonProps),{icon:function(){return x(a,null,null)}})])};return{tDisplayColumns:b,columnCheckboxKeys:O,renderColumnController:M}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function U1e(n,e){var t=rt(n),i=t.expandedRowKeys,r=ft(),o=Dt("table",n.locale),a=o.t,s=o.globalConfig,l=On({ChevronRightCircleIcon:Cfe}),u=l.ChevronRightCircleIcon,c=Qo(),d=c.tableExpandClasses,f=c.positiveRotate90,h=c.tableFullRowClasses,v=Gi(i,n.defaultExpandedRowKeys||[],n.onExpandChange,"expandedRowKeys"),g=Je(v,2),p=g[0],m=g[1],b=R(function(){return!!(n.expandedRow||e.slots.expandedRow||e.slots["expanded-row"])}),C=R(function(){return n.expandIcon!==!1&&b.value}),O=R(function(){var M;return((M=n.columns)===null||M===void 0||(M=M[0])===null||M===void 0?void 0:M.fixed)==="left"}),w=function(A){var j;if(!b.value)return null;var V=A.row,H=A.rowKey,N=Ze(V,H||"id");return d[(j=p.value)!==null&&j!==void 0&&j.includes(N)?"rowExpanded":"rowFolded"]},E=function(A,j){n.expandOnRowClick&&A.stopPropagation();var V=Ze(j,n.rowKey||"id"),H=p.value.indexOf(V),N=Be(p.value);H!==-1?N.splice(H,1):N.push(V),m(N,{expandedRowData:n.data.filter(function(F){return N.includes(Ze(F,n.rowKey||"id"))}),currentRowData:j})},P=function(A,j){var V=j.row,H=j.rowIndex,N=Ze(V,n.rowKey||"id"),F=p.value.includes(N),W=r("expandIcon",{defaultNode:a(s.value.expandIcon)||x(u,null,null),params:{row:V,index:H}});if(!W)return null;var U=[d.iconBox,d[F?"expanded":"collapsed"],X({},f,F)];return x("span",{class:U,onClick:function(Z){return E(Z,V)}},[W])},D=function(){var A={colKey:"__EXPAND_ROW_ICON_COLUMN__",width:46,className:d.iconCell,fixed:O.value?"left":void 0,cell:P,stopPropagation:!0};return A},k=function(A){var j=Ze(A.row,n.rowKey||"id");if(!p.value||!p.value.includes(j))return null;var V=A.isWidthOverflow&&n.columns.find(function(H){return H.fixed==="left"});return x("tr",{key:"expand_".concat(j),class:[d.row,X({},h.base,V)]},[x("td",{colspan:A.columns.length},[x("div",{class:[d.rowInner,X({},h.innerFullRow,V)],style:V?{width:"".concat(A.tableWidth,"px")}:{}},[x("div",{class:h.innerFullElement},[r("expandedRow",{params:A})])])])])},L=function(A){E(A.e,A.row)};return{showExpandedRow:b,showExpandIconColumn:C,getExpandColumn:D,renderExpandedRow:k,onInnerExpandRowClick:L,getExpandedRowClass:w}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Mk(n,e,t){if(!n)return!1;var i=qe(n.disabled)?n.disabled({row:e,rowIndex:t}):n.disabled;return n.checkProps&&(qe(n.checkProps)?i=i||n.checkProps({row:e,rowIndex:t}).disabled:n.checkProps==="object"&&(i=i||n.checkProps.disabled)),!!i}function K1e(n,e,t){for(var i={},r=0,o=e.length;r<o;r++){var a=Ze(e[r],t);n.includes(a)&&(i[a]=!0)}return i}function x0(n,e){for(var t=0,i=n.length;t<i;t++){var r;if(n[t].colKey===e)return n[t];if((r=n[t].children)!==null&&r!==void 0&&r.length){var o=x0(n[t].children,e);if(o)return o}}return null}function MW(n,e){for(var t=0,i=n.length;t<i;t++){var r;if(n[t].colKey===e)return t;if((r=n[t].children)!==null&&r!==void 0&&r.length){var o=x0(n[t].children,e);if(o)return t}}return-1}function L7(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=0,i=n.length;t<i;t++){var r,o=n[t];o.filter&&"resetValue"in o.filter&&(e[o.colKey]=o.filter.resetValue),(r=o.children)!==null&&r!==void 0&&r.length&&L7(o.children,e)}return e}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function AW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):AW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function q1e(n,e){var t=rt(n),i=t.selectedRowKeys,r=t.columns,o=t.rowKey,a=t.data,s=t.reserveSelectedRowOnPaginate,l=t.pagination,u=oe(l.value?a.value.slice((l.value.current-1)*l.value.pageSize,l.value.current*l.value.pageSize):a.value),c=oe(),d=Gi(i,n.defaultSelectedRowKeys||[],n.onSelectChange,"selectedRowKeys"),f=Je(d,2),h=f[0],v=f[1],g=oe(new Map),p=R(function(){return n.columns.find(function(N){var F=N.type;return["multiple","single"].includes(F)})}),m=R(function(){var N;return n.rowSelectionType||((N=p.value)===null||N===void 0?void 0:N.type)||"single"}),b=R(function(){var N=s.value?a.value:u.value;return N.filter(function(F,W){return!w(F,W)})}),C=R(function(){return oh(h.value,b.value.map(function(N){return Ze(N,n.rowKey||"id")}))}),O=R(function(){var N,F;if(n.rowSelectionAllowUncheck)return!0;var W=m.value==="single";return!W||!((N=p.value)!==null&&N!==void 0&&N.checkProps)||!("allowUncheck"in((F=p.value)===null||F===void 0?void 0:F.checkProps))?!1:p.value.checkProps.allowUncheck});Pe([a,r,h,p,o],function(){var N,F=function(ie){return p.value.disabled(ie)?e.disabled:""},W=(N=p.value)!==null&&N!==void 0&&N.disabled?F:void 0,U=new Set(h.value),q=function(ie){var ee=ie.row,K=Ze(ee,n.rowKey||"id");return U.has(K)?e.selected:""},Z=U.size?q:void 0;c.value=[W,Z]},{immediate:!0}),Pe(a,function(){u.value=a.value});function w(N,F){return Mk(p.value,N,F)}function E(){return function(){var N=C.value.length>0&&C.value.length<b.value.length,F=C.value.length!==0&&b.value.length!==0&&C.value.length===b.value.length;return x(_l,{checked:F,indeterminate:N,disabled:!b.value.length,onChange:L},null)}}function P(N){var F=N.col,W=N.row,U=N.rowIndex,q=qe(F.disabled)?F.disabled({row:W,rowIndex:U}):F.disabled,Z=qe(F.checkProps)?F.checkProps({row:W,rowIndex:U}):F.checkProps;return{disabled:q||(Z==null?void 0:Z.disabled),checkProps:Z}}function D(N){var F=N.col,W=N.row,U=W===void 0?{}:W,q=h.value.includes(Ze(U,n.rowKey||"id")),Z=P(N),z=Z.disabled,ie=Z.checkProps,ee=rw(rw({checked:q,disabled:z},ie),{},{onClick:function(Y){if(kn(Y)==="object"&&"e"in Y){var te;(te=Y.e)===null||te===void 0||te.stopPropagation()}else Y==null||Y.stopPropagation()},onChange:function(){return k(U)}});if(F.type==="single")return x(WK,ee,null);if(F.type==="multiple"){var K,J=(K=n.indeterminateSelectedRowKeys)!==null&&K!==void 0&&K.length?n.indeterminateSelectedRowKeys.includes(Ze(U,n.rowKey)):!1;return x(_l,He({indeterminate:J},ee),null)}return null}function k(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=Be(h.value),W=n.rowKey||"id",U=Ze(N,W),q=F.indexOf(U),Z=q!==-1;if(m.value==="multiple")Z?F.splice(q,1):F.push(U);else if(m.value==="single")F=Z&&O.value?[]:[U];else{Yt.warn("Table","`column.type` must be one of `multiple` and `single`");return}v(F,{selectedRowData:F.map(function(z){return g.value.get(z)}),currentRowKey:U,currentRowData:N,type:Z?"uncheck":"check"})}function L(N){var F,W=n.rowKey||"id",U=b.value.map(function(z){return Ze(z,W)}),q=((F=i.value)===null||F===void 0?void 0:F.filter(function(z){return!U.includes(z)}))||[],Z=N?[].concat(Be(q),Be(U)):Be(q);v(Z,{selectedRowData:N?Z.map(function(z){return g.value.get(z)}):[],type:N?"check":"uncheck",currentRowKey:"CHECK_ALL_BOX"})}function M(N){var F=["multiple","single"].includes(N.type);return F?rw(rw({},N),{},{width:N.width||64,className:[e.checkCell,N.className],cell:function(U,q){return D(q)},title:N.type==="multiple"?E():N.title}):N}var A=function(F){var W=F.row,U=F.index,q=n.columns.findIndex(function(ie){return ie.colKey==="row-select"}),Z=!1;if(q!==-1){var z;Z=(z=P({row:W,rowIndex:U,col:n.columns[q]}))===null||z===void 0?void 0:z.disabled}Z||k(W)};Pe([a,o],function(){for(var N=0,F=a.value.length;N<F;N++)g.value.set(Ze(a.value[N],o.value||"id"),a.value[N])},{immediate:!0});var j=R(function(){return!!(p.value||n.selectOnRowClick||n.selectedRowKeys)}),V=function(){v([],{selectedRowData:[],currentRowKey:void 0,currentRowData:void 0,type:"uncheck"})},H=function(F){var W=F.activeRowList,U=F.action;if(j.value){if(U==="clear"){V();return}if(U==="select-all"){L(!0);return}if(m.value==="single"){U==="space-one-selection"&&k(W[0].row);return}var q=W.filter(function($){var Y=$.row,te=$.rowIndex;return!P({row:Y,rowIndex:te,col:p.value}).disabled});if(q.length){var Z=q.map(function($){var Y=$.row;return Ze(Y,n.rowKey)}),z=oh(h.value,Z),ie=z.length!==Z.length,ee=h.value.filter(function($){return!Z.includes($)}),K=ie?Be(new Set(h.value.concat(Z))):ee,J=U==="space-one-selection"?W[0].row:void 0;v(K,{selectedRowData:W,currentRowKey:Ze(J,n.rowKey),currentRowData:J,type:ie?"check":"uncheck"})}}};return{selectColumn:p,showRowSelect:j,selectedRowClassNames:c,currentPaginateData:u,setTSelectedRowKeys:v,formatToRowSelectColumn:M,onInnerSelectRowClick:A,handleRowSelectWithAreaSelection:H}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function G1e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var Y1e=pe({name:"TSorterButton",props:{sortType:{type:String,default:"all"},sortOrder:{type:String,default:function(){return""}},locale:Object,sortIcon:Function,tooltipProps:Object,hideSortTips:Boolean},emits:["sort-icon-click"],setup:function(e,t){var i=Qo(),r=i.tableSortClasses,o=i.negativeRotate180,a=us(),s=Dt("table",e.locale),l=s.t,u=s.globalConfig,c=On({ChevronDownIcon:hO}),d=c.ChevronDownIcon,f=R(function(){return e.sortType==="all"?["asc","desc"]:[e.sortType]}),h=function(p,m){t.emit("sort-icon-click",p,{descending:m==="desc"})},v=function(p,m){var b=l(u.value.sortIcon)||x(d,null,null),C=a("sortIcon",b),O=[m,r.sortIcon,r.iconDirection[p],X({},o,p==="asc")];return x("span",{class:O,onClick:function(E){return h(E,p)}},[C])};return{t:l,globalConfig:u,tableSortClasses:r,negativeRotate180:o,allowSortTypes:f,getSortIcon:v}},render:function(){var e=this,t=this.tableSortClasses,i=[t.trigger,X({},t.doubleIcon,this.allowSortTypes.length>1)],r={asc:this.globalConfig.sortAscendingOperationText,desc:this.globalConfig.sortDescendingOperationText},o=this.allowSortTypes.map(function(a){var s,l,u=a===e.sortOrder?t.iconActive:t.iconDefault,c=e.globalConfig.sortCancelOperationText,d=a===e.sortOrder?c:r[a];return((l=e.hideSortTips)!==null&&l!==void 0?l:e.globalConfig.hideSortTips)?e.getSortIcon(a,u):x(So,He({content:d,placement:"right",showArrow:!1,class:e.tableSortClasses.iconDirection[a]},e.tooltipProps),G1e(s=e.getSortIcon(a,u))?s:{default:function(){return[s]}})});return x("div",{class:i},[o])}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function RW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Z1e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function X1e(n,e){var t=e.slots,i=rt(n),r=i.sort,o=i.data,a=oe(),s=Gi(r,n.defaultSort,n.onSortChange,"sort"),l=Je(s,2),u=l[0],c=l[1],d=Gi(o,[],n.onDataChange,"data"),f=Je(d,2),h=f[0],v=f[1],g=R(function(){return C(n.columns)}),p=oe(),m=R(function(){var M=u.value;return M?ut(M)?M:[M]:[]}),b=R(function(){var M={};return m.value.forEach(function(A,j){var V=A.sortBy;M[V]=Z1e({index:j},A)}),M});function C(M){for(var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=0,V=M.length;j<V;j++){var H,N=M[j];qe(N.sorter)&&(A[N.colKey]=N.sorter),(H=N.children)!==null&&H!==void 0&&H.length&&C(N.children,A)}return A}function O(M){var A=M;if(Object.keys(g.value).length){a.value||(a.value=h.value);var j=!A||A instanceof Array&&!A.length,V=!(A instanceof Array)&&!(A!=null&&A.sortBy);if(j||V)return v(a.value,{trigger:"sort"}),a.value;var H=A instanceof Array?A:[A],N=h.value.slice().sort(function(F,W){for(var U=0,q=0,Z=H.length;q<Z;q++){var z=H[q],ie=g.value[z.sortBy];if(U===0&&ie)U=z.descending?ie(W,F):ie(F,W);else break}return U});if(JSON.stringify(N)!==JSON.stringify(h.value))return v(N,{trigger:"sort"}),N}}function w(M,A){var j,V;if(n.multipleSort)V=D(M,A);else{var H=u.value instanceof Array?u.value[0]:u.value;V=P(M,H,A)}var N=O(V),F=N||h.value,W=F;c(V,{currentDataSource:W,col:M}),(j=n.onChange)===null||j===void 0||j.call(n,{sorter:V},{currentData:F,trigger:"sorter"}),p.value=V}function E(M){if(M!==void 0)return M?"desc":"asc"}function P(M,A,j){if(!(A&&A.sortBy===M.colKey&&A.descending===j.descending))return{sortBy:M.colKey,descending:j.descending}}function D(M,A){Array.isArray(u.value)||(u.value=u.value?[u.value]:[]);for(var j=u.value,V=M.colKey,H=Be(j),N=0,F=j.length;N<F;N++)if(j[N].sortBy===V){var W=P(M,j[N],A);return W?H[N]=W:H.splice(N,1),H}return H.push({sortBy:V,descending:A.descending}),H}function k(M){var A,j=M.col;if(!j.sorter)return null;var V={sortType:j.sortType,sortOrder:E((A=b.value[j.colKey])===null||A===void 0?void 0:A.descending),sortIcon:n.sortIcon,hideSortTips:n.hideSortTips,locale:n.locale};return x(Y1e,He(V,{onSortIconClick:function(N,F){return w(j,F)}}),{sortIcon:t.sortIcon})}var L=function(A,j){var V=ut(A)?A:[A],H=ut(j)?j:[j];if(V.length&&!j)return!1;for(var N=function(){var Z=V[W],z=H.find(function(ie){return ie.sortBy===Z.sortBy});return z?{v:Z.descending===z.descending}:{v:!1}},F,W=0,U=V.length;W<U;W++)if(F=N(),F)return F.v};return Pe(function(){return[u,n.data]},function(){!u.value||!Object.keys(u.value).length||!h.value.length||L(u.value,p.value)||O(u.value)},{immediate:!0}),{renderSortIcon:k}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function NW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ow(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var J1e=pe({name:"TableFilterController",props:{locale:Object,column:Object,colIndex:Number,tFilterValue:Object,innerFilterValue:Object,tableFilterClasses:Object,isFocusClass:String,primaryTableElement:{},popupProps:Object,attach:[String,Function],onVisibleChange:Function,filterIcon:[Function]},emits:["inner-filter-change","reset","confirm"],setup:function(e,t){var i=oe(null),r=us(),o=Dt("table",e.locale),a=o.t,s=o.globalConfig,l=On({FilterIcon:the}),u=l.FilterIcon,c=oe(!1),d=function(m){var b;c.value=m,(b=e.onVisibleChange)===null||b===void 0||b.call(e,m)},f=function(m,b,C){if(!C)return null;var O=!!C.setup;if(qe(m.filter.component)&&!O)return m.filter.component(function(E,P){var D=kn(P)==="object"&&"attrs"in P?P.attrs:{};return At(E,{props:ow(ow({},b),D)})});var w=m.filter||{};return x(C,He({class:w.classNames,style:w.style},w.attrs,b),null)},h=function(m){var b,C,O,w=["single","multiple","input"];if((b=m.filter)!==null&&b!==void 0&&b.type&&!w.includes(m.filter.type)){console.error("TDesign Table Error: column.filter.type must be the following: ".concat(JSON.stringify(w)));return}var E=e.innerFilterValue,P=E===void 0?{}:E,D={single:OO,multiple:Kb,input:Do}[m.filter.type]||m.filter.component;if(!(!D&&!m.filter.component)){var k=ow(ow({options:["single","multiple"].includes(m.filter.type)?(C=m.filter)===null||C===void 0?void 0:C.list:void 0},((O=m.filter)===null||O===void 0?void 0:O.props)||{}),{},{onChange:function(M,A){var j,V;if(t.emit("inner-filter-change",M,m),(j=m.filter.props)!==null&&j!==void 0&&j.onChange){var H,N;(H=(N=m.filter.props).onChange)===null||H===void 0||H.call(N,M,A)}(V=m.filter)!==null&&V!==void 0&&(V=V.confirmEvents)!==null&&V!==void 0&&V.includes("onChange")&&(c.value=!1)}});return m.colKey&&P&&m.colKey in P&&(k.value=P==null?void 0:P[m.colKey]),m.filter.confirmEvents&&m.filter.confirmEvents.forEach(function(L){L!=="onChange"&&(k[L]=function(){t.emit("confirm",m),c.value=!1})}),x("div",{class:e.tableFilterClasses.contentInner},[f(m,k,D)])}},v=function(m){if(m.filter.showConfirmAndReset)return x("div",{class:e.tableFilterClasses.bottomButtons},[x(Bt,{theme:"default",size:"small",onClick:function(){t.emit("reset",m),c.value=!1}},{default:function(){return[s.value.resetText]}}),x(Bt,{theme:"primary",size:"small",onClick:function(){t.emit("confirm",m),c.value=!1}},{default:function(){return[s.value.confirmText]}})])},g=function(){return x("div",{class:e.tableFilterClasses.popupContent},[h(e.column),v(e.column)])};return{t:a,globalConfig:s,FilterIcon:u,filterPopupVisible:c,triggerElementRef:i,renderTNode:r,getContent:g,onFilterPopupVisibleChange:d}},render:function(){var e,t=this,i=this.column,r=this.popupProps,o=this.FilterIcon;if(!i.filter||i.filter&&!Object.keys(i.filter).length)return null;var a=this.t(this.globalConfig.filterIcon)||x(o,null,null),s=(e=this.tFilterValue)===null||e===void 0?void 0:e[i.colKey],l=kn(s)==="object"&&!jo(s),u=![null,void 0,""].includes(s)&&kn(s)!=="object";return x(Pa,He({attach:this.attach||(this.primaryTableElement?function(){return t.primaryTableElement}:void 0),visible:this.filterPopupVisible,destroyOnClose:!0,trigger:"click",placement:"bottom-right",showArrow:!0,overlayClassName:this.tableFilterClasses.popup,onVisibleChange:function(d){return t.onFilterPopupVisibleChange(d)},class:[this.tableFilterClasses.icon,X({},this.isFocusClass,l||u)],content:this.getContent},r),{default:function(){return[x("div",{ref:"triggerElementRef"},[t.renderTNode("filterIcon",{defaultNode:a,params:{col:i,colIndex:t.colIndex}})])]}})}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function FW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function M7(n){var e=n instanceof Array&&n.length,t=kn(n)==="object"&&!(n instanceof Array),i=n!==null&&t&&Object.keys(n).length;return e||i||!["null","","undefined"].includes(String(n))}function Q1e(n){var e={};return Object.keys(n).forEach(function(t){var i=n[t];M7(i)&&(e[t]=i)}),e}function eOe(n,e){var t=oe(null),i=Dt("table",n.locale),r=i.t,o=i.globalConfig,a=us(),s=rt(n),l=s.filterValue,u=s.columns,c=Qo(),d=c.tableFilterClasses,f=c.isFocusClass,h=oe(),v=Gi(l,n.defaultFilterValue,n.onFilterChange,"filterValue"),g=Je(v,2),p=g[0],m=g[1],b=oe(p.value),C=R(function(){var H=Q1e(p.value||{});return!p.value||!Object.keys(H).length});Pe([p],function(H){var N=Je(H,1),F=N[0];b.value=F});function O(){var H,N;if(C.value)return null;var F=x("div",{class:d.result},[x("span",null,[r(o.value.searchResultText,{result:w(),count:((H=n.pagination)===null||H===void 0?void 0:H.total)||((N=n.data)===null||N===void 0?void 0:N.length)})]),x(Bt,{theme:"primary",variant:"text",onClick:L},{default:function(){return[o.value.clearFilterResultButtonText]}})]),W=a("filterRow");return n.filterRow&&!W||n.filterRow===null?null:x("div",{class:d.inner},[W||F])}function w(){var H=[],N=[];return E(n.columns,N),N.filter(function(F){return F.filter}).forEach(function(F,W){var U=p.value[F.colKey];if(F.filter.list&&!["null"].includes(String(U))){var q=U instanceof Array?U:[U],Z=[];F.filter.list.forEach(function(J){q.includes(J.value)&&Z.push(J.label)}),U=Z.join()}if(M7(U)){var z,ie,ee=qe((z=F.filter)===null||z===void 0?void 0:z.label)?F.filter.label(At):(ie=F.filter)===null||ie===void 0?void 0:ie.label,K=DO(e.slots,F,W);H.push("".concat(ee||K,"：").concat(U))}}),H.join("；")}function E(H,N){H.forEach(function(F){F.children&&E(F.children,N),N.push(F)})}function P(H,N){var F=aw(aw({},b.value),{},X({},N.colKey,H));b.value=F,N.filter.showConfirmAndReset||D(F,"filter-change",N)}function D(H,N,F){var W;m(H,{col:F,trigger:N}),(W=n.onChange)===null||W===void 0||W.call(n,{filter:H},{trigger:"filter"})}function k(H){var N,F,W=aw(aw({},p.value),{},X({},H.colKey,(N=(F=H.filter.resetValue)!==null&&F!==void 0?F:{single:"",multiple:[],input:""}[H.filter.type])!==null&&N!==void 0?N:""));D(W,"reset",H)}function L(){var H=L7(u.value);D(H,"clear",void 0)}function M(H){D(b.value,"confirm",H)}function A(H){var N,F=H.col,W=H.colIndex;return x(J1e,{column:F,colIndex:W,filterIcon:n.filterIcon,tFilterValue:p.value,innerFilterValue:b.value,tableFilterClasses:d,isFocusClass:f,popupProps:F.filter.popupProps,attach:n.attach,locale:n.locale,onReset:k,onConfirm:M,onInnerFilterChange:P,primaryTableElement:(N=t.value)===null||N===void 0?void 0:N.$el,onVisibleChange:V},{filterIcon:e.slots.filterIcon})}function j(H){t.value=H}function V(H){H&&!h.value&&(h.value=!H)}return{hasEmptyCondition:C,isTableOverflowHidden:h,renderFilterIcon:A,renderFirstFilterRow:O,setFilterPrimaryTableRef:j}}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function jW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Il(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jW(Object(t),!0).forEach(function(i){tOe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lC(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lC=function(e){return typeof e}:lC=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lC(n)}function tOe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Au(){return Au=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Au.apply(this,arguments)}function nOe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function iOe(n,e){if(n==null)return{};var t=nOe(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}var rOe="1.15.6";function wu(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Ju=wu(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),i_=wu(/Edge/i),HW=wu(/firefox/i),Jm=wu(/safari/i)&&!wu(/chrome/i)&&!wu(/android/i),TM=wu(/iP(ad|od|hone)/i),A7=wu(/chrome/i)&&wu(/android/i),R7={capture:!1,passive:!1};function Yn(n,e,t){n.addEventListener(e,t,!Ju&&R7)}function Un(n,e,t){n.removeEventListener(e,t,!Ju&&R7)}function E0(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function N7(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ws(n,e,t,i){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&E0(n,e):E0(n,e))||i&&n===t)return n;if(n===t)break}while(n=N7(n))}return null}var BW=/\s+/g;function da(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var i=(" "+n.className+" ").replace(BW," ").replace(" "+e+" "," ");n.className=(i+(t?" "+e:"")).replace(BW," ")}}function hn(n,e,t){var i=n&&n.style;if(i){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=t+(typeof t=="string"?"":"px")}}function rg(n,e){var t="";if(typeof n=="string")t=n;else do{var i=hn(n,"transform");i&&i!=="none"&&(t=i+" "+t)}while(!e&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(t)}function F7(n,e,t){if(n){var i=n.getElementsByTagName(e),r=0,o=i.length;if(t)for(;r<o;r++)t(i[r],r);return i}return[]}function Cl(){var n=document.scrollingElement;return n||document.documentElement}function pr(n,e,t,i,r){if(!(!n.getBoundingClientRect&&n!==window)){var o,a,s,l,u,c,d;if(n!==window&&n.parentNode&&n!==Cl()?(o=n.getBoundingClientRect(),a=o.top,s=o.left,l=o.bottom,u=o.right,c=o.height,d=o.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||t)&&n!==window&&(r=r||n.parentNode,!Ju))do if(r&&r.getBoundingClientRect&&(hn(r,"transform")!=="none"||t&&hn(r,"position")!=="static")){var f=r.getBoundingClientRect();a-=f.top+parseInt(hn(r,"border-top-width")),s-=f.left+parseInt(hn(r,"border-left-width")),l=a+o.height,u=s+o.width;break}while(r=r.parentNode);if(i&&n!==window){var h=rg(r||n),v=h&&h.a,g=h&&h.d;h&&(a/=g,s/=v,d/=v,c/=g,l=a+c,u=s+d)}return{top:a,left:s,bottom:l,right:u,width:d,height:c}}}function $W(n,e,t){for(var i=Ic(n,!0),r=pr(n)[e];i;){var o=pr(i)[t],a=void 0;if(a=r>=o,!a)return i;if(i===Cl())break;i=Ic(i,!1)}return!1}function Vg(n,e,t,i){for(var r=0,o=0,a=n.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==cn.ghost&&(i||a[o]!==cn.dragged)&&ws(a[o],t.draggable,n,!1)){if(r===e)return a[o];r++}o++}return null}function IM(n,e){for(var t=n.lastElementChild;t&&(t===cn.ghost||hn(t,"display")==="none"||e&&!E0(t,e));)t=t.previousElementSibling;return t||null}function Wa(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==cn.clone&&(!e||E0(n,e))&&t++;return t}function VW(n){var e=0,t=0,i=Cl();if(n)do{var r=rg(n),o=r.a,a=r.d;e+=n.scrollLeft*o,t+=n.scrollTop*a}while(n!==i&&(n=n.parentNode));return[e,t]}function oOe(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===n[t][i])return Number(t)}return-1}function Ic(n,e){if(!n||!n.getBoundingClientRect)return Cl();var t=n,i=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var r=hn(t);if(t.clientWidth<t.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Cl();if(i||e)return t;i=!0}}while(t=t.parentNode);return Cl()}function aOe(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function bE(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Qm;function j7(n,e){return function(){if(!Qm){var t=arguments,i=this;t.length===1?n.call(i,t[0]):n.apply(i,t),Qm=setTimeout(function(){Qm=void 0},e)}}}function sOe(){clearTimeout(Qm),Qm=void 0}function H7(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function B7(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function $7(n,e,t){var i={};return Array.from(n.children).forEach(function(r){var o,a,s,l;if(!(!ws(r,e.draggable,n,!1)||r.animated||r===t)){var u=pr(r);i.left=Math.min((o=i.left)!==null&&o!==void 0?o:1/0,u.left),i.top=Math.min((a=i.top)!==null&&a!==void 0?a:1/0,u.top),i.right=Math.max((s=i.right)!==null&&s!==void 0?s:-1/0,u.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var $o="Sortable"+new Date().getTime();function lOe(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(hn(r,"display")==="none"||r===cn.ghost)){n.push({target:r,rect:pr(r)});var o=Il({},n[n.length-1].rect);if(r.thisAnimationDuration){var a=rg(r,!0);a&&(o.top-=a.f,o.left-=a.e)}r.fromRect=o}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(oOe(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var o=!1,a=0;n.forEach(function(s){var l=0,u=s.target,c=u.fromRect,d=pr(u),f=u.prevFromRect,h=u.prevToRect,v=s.rect,g=rg(u,!0);g&&(d.top-=g.f,d.left-=g.e),u.toRect=d,u.thisAnimationDuration&&bE(f,d)&&!bE(c,d)&&(v.top-d.top)/(v.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=cOe(v,f,h,r.options)),bE(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=r.options.animation),r.animate(u,v,d,l)),l&&(o=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),n=[]},animate:function(i,r,o,a){if(a){hn(i,"transition",""),hn(i,"transform","");var s=rg(this.el),l=s&&s.a,u=s&&s.d,c=(r.left-o.left)/(l||1),d=(r.top-o.top)/(u||1);i.animatingX=!!c,i.animatingY=!!d,hn(i,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=uOe(i),hn(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),hn(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){hn(i,"transition",""),hn(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function uOe(n){return n.offsetWidth}function cOe(n,e,t,i){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}var av=[],yE={initializeByDefault:!0},r_={mount:function(e){for(var t in yE)yE.hasOwnProperty(t)&&!(t in e)&&(e[t]=yE[t]);av.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),av.push(e)},pluginEvent:function(e,t,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var o=e+"Global";av.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][o]&&t[a.pluginName][o](Il({sortable:t},i)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](Il({sortable:t},i)))})},initializePlugins:function(e,t,i,r){av.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var u=new s(e,t,e.options);u.sortable=e,u.options=e.options,e[l]=u,Au(i,u.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);typeof a<"u"&&(e.options[o]=a)}},getEventProperties:function(e,t){var i={};return av.forEach(function(r){typeof r.eventProperties=="function"&&Au(i,r.eventProperties.call(t[r.pluginName],e))}),i},modifyOption:function(e,t,i){var r;return av.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(r=o.optionListeners[t].call(e[o.pluginName],i))}),r}};function dOe(n){var e=n.sortable,t=n.rootEl,i=n.name,r=n.targetEl,o=n.cloneEl,a=n.toEl,s=n.fromEl,l=n.oldIndex,u=n.newIndex,c=n.oldDraggableIndex,d=n.newDraggableIndex,f=n.originalEvent,h=n.putSortable,v=n.extraEventProperties;if(e=e||t&&t[$o],!!e){var g,p=e.options,m="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Ju&&!i_?g=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(i,!0,!0)),g.to=a||t,g.from=s||t,g.item=r||t,g.clone=o,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=f,g.pullMode=h?h.lastPutMode:void 0;var b=Il(Il({},v),r_.getEventProperties(i,e));for(var C in b)g[C]=b[C];t&&t.dispatchEvent(g),p[m]&&p[m].call(e,g)}}var fOe=["evt"],Ao=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,o=iOe(i,fOe);r_.pluginEvent.bind(cn)(e,t,Il({dragEl:bt,parentEl:tr,ghostEl:Cn,rootEl:Ki,nextEl:Kd,lastDownEl:uC,cloneEl:Yi,cloneHidden:kc,dragStarted:_m,putSortable:Br,activeSortable:cn.active,originalEvent:r,oldIndex:Fv,oldDraggableIndex:eb,newIndex:fa,newDraggableIndex:Cc,hideGhostForTarget:U7,unhideGhostForTarget:K7,cloneNowHidden:function(){kc=!0},cloneNowShown:function(){kc=!1},dispatchSortableEvent:function(s){go({sortable:t,name:s,originalEvent:r})}},o))};function go(n){dOe(Il({putSortable:Br,cloneEl:Yi,targetEl:bt,rootEl:Ki,oldIndex:Fv,oldDraggableIndex:eb,newIndex:fa,newDraggableIndex:Cc},n))}var bt,tr,Cn,Ki,Kd,uC,Yi,kc,Fv,fa,eb,Cc,sw,Br,Sv=!1,P0=!1,k0=[],Rd,gs,_E,wE,WW,zW,_m,sv,tb,nb=!1,lw=!1,cC,Qr,CE=[],Ak=!1,D0=[],TO=typeof document<"u",uw=TM,UW=i_||Ju?"cssFloat":"float",hOe=TO&&!A7&&!TM&&"draggable"in document.createElement("div"),V7=function(){if(TO){if(Ju)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),W7=function(e,t){var i=hn(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=Vg(e,0,t),a=Vg(e,1,t),s=o&&hn(o),l=a&&hn(a),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+pr(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+pr(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=r&&i[UW]==="none"||a&&i[UW]==="none"&&u+c>r)?"vertical":"horizontal"},vOe=function(e,t,i){var r=i?e.left:e.top,o=i?e.right:e.bottom,a=i?e.width:e.height,s=i?t.left:t.top,l=i?t.right:t.bottom,u=i?t.width:t.height;return r===s||o===l||r+a/2===s+u/2},gOe=function(e,t){var i;return k0.some(function(r){var o=r[$o].options.emptyInsertThreshold;if(!(!o||IM(r))){var a=pr(r),s=e>=a.left-o&&e<=a.right+o,l=t>=a.top-o&&t<=a.bottom+o;if(s&&l)return i=r}}),i},z7=function(e){function t(o,a){return function(s,l,u,c){var d=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(o==null&&(a||d))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return t(o(s,l,u,c),a)(s,l,u,c);var f=(a?s:l).options.group.name;return o===!0||typeof o=="string"&&o===f||o.join&&o.indexOf(f)>-1}}var i={},r=e.group;(!r||lC(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=t(r.pull,!0),i.checkPut=t(r.put),i.revertClone=r.revertClone,e.group=i},U7=function(){!V7&&Cn&&hn(Cn,"display","none")},K7=function(){!V7&&Cn&&hn(Cn,"display","")};TO&&!A7&&document.addEventListener("click",function(n){if(P0)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),P0=!1,!1},!0);var Nd=function(e){if(bt){e=e.touches?e.touches[0]:e;var t=gOe(e.clientX,e.clientY);if(t){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[$o]._onDragOver(i)}}},pOe=function(e){bt&&bt.parentNode[$o]._isOutsideThisEl(e.target)};function cn(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Au({},e),n[$o]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return W7(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:cn.supportPointer!==!1&&"PointerEvent"in window&&(!Jm||TM),emptyInsertThreshold:5};r_.initializePlugins(this,n,t);for(var i in t)!(i in e)&&(e[i]=t[i]);z7(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:hOe,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Yn(n,"pointerdown",this._onTapStart):(Yn(n,"mousedown",this._onTapStart),Yn(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Yn(n,"dragover",this),Yn(n,"dragenter",this)),k0.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Au(this,lOe())}cn.prototype={constructor:cn,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(sv=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,bt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,r=this.options,o=r.preventOnFilter,a=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=r.filter;if(OOe(i),!bt&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Jm&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ws(l,r.draggable,i,!1),!(l&&l.animated)&&uC!==l)){if(Fv=Wa(l),eb=Wa(l,r.draggable),typeof c=="function"){if(c.call(this,e,l,this)){go({sortable:t,rootEl:u,name:"filter",targetEl:l,toEl:i,fromEl:i}),Ao("filter",t,{evt:e}),o&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=ws(u,d.trim(),i,!1),d)return go({sortable:t,rootEl:d,name:"filter",targetEl:l,fromEl:i,toEl:i}),Ao("filter",t,{evt:e}),!0}),c)){o&&e.preventDefault();return}r.handle&&!ws(u,r.handle,i,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,i){var r=this,o=r.el,a=r.options,s=o.ownerDocument,l;if(i&&!bt&&i.parentNode===o){var u=pr(i);if(Ki=o,bt=i,tr=bt.parentNode,Kd=bt.nextSibling,uC=i,sw=a.group,cn.dragged=bt,Rd={target:bt,clientX:(t||e).clientX,clientY:(t||e).clientY},WW=Rd.clientX-u.left,zW=Rd.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,bt.style["will-change"]="all",l=function(){if(Ao("delayEnded",r,{evt:e}),cn.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!HW&&r.nativeDraggable&&(bt.draggable=!0),r._triggerDragStart(e,t),go({sortable:r,name:"choose",originalEvent:e}),da(bt,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){F7(bt,c.trim(),SE)}),Yn(s,"dragover",Nd),Yn(s,"mousemove",Nd),Yn(s,"touchmove",Nd),a.supportPointer?(Yn(s,"pointerup",r._onDrop),!this.nativeDraggable&&Yn(s,"pointercancel",r._onDrop)):(Yn(s,"mouseup",r._onDrop),Yn(s,"touchend",r._onDrop),Yn(s,"touchcancel",r._onDrop)),HW&&this.nativeDraggable&&(this.options.touchStartThreshold=4,bt.draggable=!0),Ao("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(i_||Ju))){if(cn.eventCanceled){this._onDrop();return}a.supportPointer?(Yn(s,"pointerup",r._disableDelayedDrag),Yn(s,"pointercancel",r._disableDelayedDrag)):(Yn(s,"mouseup",r._disableDelayedDrag),Yn(s,"touchend",r._disableDelayedDrag),Yn(s,"touchcancel",r._disableDelayedDrag)),Yn(s,"mousemove",r._delayedDragTouchMoveHandler),Yn(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&Yn(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){bt&&SE(bt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Un(e,"mouseup",this._disableDelayedDrag),Un(e,"touchend",this._disableDelayedDrag),Un(e,"touchcancel",this._disableDelayedDrag),Un(e,"pointerup",this._disableDelayedDrag),Un(e,"pointercancel",this._disableDelayedDrag),Un(e,"mousemove",this._delayedDragTouchMoveHandler),Un(e,"touchmove",this._delayedDragTouchMoveHandler),Un(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?Yn(document,"pointermove",this._onTouchMove):t?Yn(document,"touchmove",this._onTouchMove):Yn(document,"mousemove",this._onTouchMove):(Yn(bt,"dragend",this),Yn(Ki,"dragstart",this._onDragStart));try{document.selection?dC(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Sv=!1,Ki&&bt){Ao("dragStarted",this,{evt:t}),this.nativeDraggable&&Yn(document,"dragover",pOe);var i=this.options;!e&&da(bt,i.dragClass,!1),da(bt,i.ghostClass,!0),cn.active=this,e&&this._appendGhost(),go({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(gs){this._lastX=gs.clientX,this._lastY=gs.clientY,U7();for(var e=document.elementFromPoint(gs.clientX,gs.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(gs.clientX,gs.clientY),e!==t);)t=e;if(bt.parentNode[$o]._isOutsideThisEl(e),t)do{if(t[$o]){var i=void 0;if(i=t[$o]._onDragOver({clientX:gs.clientX,clientY:gs.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=N7(t));K7()}},_onTouchMove:function(e){if(Rd){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,a=Cn&&rg(Cn,!0),s=Cn&&a&&a.a,l=Cn&&a&&a.d,u=uw&&Qr&&VW(Qr),c=(o.clientX-Rd.clientX+r.x)/(s||1)+(u?u[0]-CE[0]:0)/(s||1),d=(o.clientY-Rd.clientY+r.y)/(l||1)+(u?u[1]-CE[1]:0)/(l||1);if(!cn.active&&!Sv){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(Cn){a?(a.e+=c-(_E||0),a.f+=d-(wE||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");hn(Cn,"webkitTransform",f),hn(Cn,"mozTransform",f),hn(Cn,"msTransform",f),hn(Cn,"transform",f),_E=c,wE=d,gs=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Cn){var e=this.options.fallbackOnBody?document.body:Ki,t=pr(bt,!0,uw,!0,e),i=this.options;if(uw){for(Qr=e;hn(Qr,"position")==="static"&&hn(Qr,"transform")==="none"&&Qr!==document;)Qr=Qr.parentNode;Qr!==document.body&&Qr!==document.documentElement?(Qr===document&&(Qr=Cl()),t.top+=Qr.scrollTop,t.left+=Qr.scrollLeft):Qr=Cl(),CE=VW(Qr)}Cn=bt.cloneNode(!0),da(Cn,i.ghostClass,!1),da(Cn,i.fallbackClass,!0),da(Cn,i.dragClass,!0),hn(Cn,"transition",""),hn(Cn,"transform",""),hn(Cn,"box-sizing","border-box"),hn(Cn,"margin",0),hn(Cn,"top",t.top),hn(Cn,"left",t.left),hn(Cn,"width",t.width),hn(Cn,"height",t.height),hn(Cn,"opacity","0.8"),hn(Cn,"position",uw?"absolute":"fixed"),hn(Cn,"zIndex","100000"),hn(Cn,"pointerEvents","none"),cn.ghost=Cn,e.appendChild(Cn),hn(Cn,"transform-origin",WW/parseInt(Cn.style.width)*100+"% "+zW/parseInt(Cn.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,r=e.dataTransfer,o=i.options;if(Ao("dragStart",this,{evt:e}),cn.eventCanceled){this._onDrop();return}Ao("setupClone",this),cn.eventCanceled||(Yi=B7(bt),Yi.removeAttribute("id"),Yi.draggable=!1,Yi.style["will-change"]="",this._hideClone(),da(Yi,this.options.chosenClass,!1),cn.clone=Yi),i.cloneId=dC(function(){Ao("clone",i),!cn.eventCanceled&&(i.options.removeCloneOnHide||Ki.insertBefore(Yi,bt),i._hideClone(),go({sortable:i,name:"clone"}))}),!t&&da(bt,o.dragClass,!0),t?(P0=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Un(document,"mouseup",i._onDrop),Un(document,"touchend",i._onDrop),Un(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(i,r,bt)),Yn(document,"drop",i),hn(bt,"transform","translateZ(0)")),Sv=!0,i._dragStartId=dC(i._dragStarted.bind(i,t,e)),Yn(document,"selectstart",i),_m=!0,window.getSelection().removeAllRanges(),Jm&&hn(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,i=e.target,r,o,a,s=this.options,l=s.group,u=cn.active,c=sw===l,d=s.sort,f=Br||u,h,v=this,g=!1;if(Ak)return;function p(W,U){Ao(W,v,Il({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:a,dragRect:r,targetRect:o,canSort:d,fromSortable:f,target:i,completed:b,onMove:function(Z,z){return cw(Ki,t,bt,r,Z,pr(Z),e,z)},changed:C},U))}function m(){p("dragOverAnimationCapture"),v.captureAnimationState(),v!==f&&f.captureAnimationState()}function b(W){return p("dragOverCompleted",{insertion:W}),W&&(c?u._hideClone():u._showClone(v),v!==f&&(da(bt,Br?Br.options.ghostClass:u.options.ghostClass,!1),da(bt,s.ghostClass,!0)),Br!==v&&v!==cn.active?Br=v:v===cn.active&&Br&&(Br=null),f===v&&(v._ignoreWhileAnimating=i),v.animateAll(function(){p("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(i===bt&&!bt.animated||i===t&&!i.animated)&&(sv=null),!s.dragoverBubble&&!e.rootEl&&i!==document&&(bt.parentNode[$o]._isOutsideThisEl(e.target),!W&&Nd(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function C(){fa=Wa(bt),Cc=Wa(bt,s.draggable),go({sortable:v,name:"change",toEl:t,newIndex:fa,newDraggableIndex:Cc,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=ws(i,s.draggable,t,!0),p("dragOver"),cn.eventCanceled)return g;if(bt.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||v._ignoreWhileAnimating===i)return b(!1);if(P0=!1,u&&!s.disabled&&(c?d||(a=tr!==Ki):Br===this||(this.lastPutMode=sw.checkPull(this,u,bt,e))&&l.checkPut(this,u,bt,e))){if(h=this._getDirection(e,i)==="vertical",r=pr(bt),p("dragOverValid"),cn.eventCanceled)return g;if(a)return tr=Ki,m(),this._hideClone(),p("revert"),cn.eventCanceled||(Kd?Ki.insertBefore(bt,Kd):Ki.appendChild(bt)),b(!0);var O=IM(t,s.draggable);if(!O||_Oe(e,h,this)&&!O.animated){if(O===bt)return b(!1);if(O&&t===e.target&&(i=O),i&&(o=pr(i)),cw(Ki,t,bt,r,i,o,e,!!i)!==!1)return m(),O&&O.nextSibling?t.insertBefore(bt,O.nextSibling):t.appendChild(bt),tr=t,C(),b(!0)}else if(O&&yOe(e,h,this)){var w=Vg(t,0,s,!0);if(w===bt)return b(!1);if(i=w,o=pr(i),cw(Ki,t,bt,r,i,o,e,!1)!==!1)return m(),t.insertBefore(bt,w),tr=t,C(),b(!0)}else if(i.parentNode===t){o=pr(i);var E=0,P,D=bt.parentNode!==t,k=!vOe(bt.animated&&bt.toRect||r,i.animated&&i.toRect||o,h),L=h?"top":"left",M=$W(i,"top","top")||$W(bt,"top","top"),A=M?M.scrollTop:void 0;sv!==i&&(P=o[L],nb=!1,lw=!k&&s.invertSwap||D),E=wOe(e,i,o,h,k?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,lw,sv===i);var j;if(E!==0){var V=Wa(bt);do V-=E,j=tr.children[V];while(j&&(hn(j,"display")==="none"||j===Cn))}if(E===0||j===i)return b(!1);sv=i,tb=E;var H=i.nextElementSibling,N=!1;N=E===1;var F=cw(Ki,t,bt,r,i,o,e,N);if(F!==!1)return(F===1||F===-1)&&(N=F===1),Ak=!0,setTimeout(bOe,30),m(),N&&!H?t.appendChild(bt):i.parentNode.insertBefore(bt,N?H:i),M&&H7(M,0,A-M.scrollTop),tr=bt.parentNode,P!==void 0&&!lw&&(cC=Math.abs(P-pr(i)[L])),C(),b(!0)}if(t.contains(bt))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Un(document,"mousemove",this._onTouchMove),Un(document,"touchmove",this._onTouchMove),Un(document,"pointermove",this._onTouchMove),Un(document,"dragover",Nd),Un(document,"mousemove",Nd),Un(document,"touchmove",Nd)},_offUpEvents:function(){var e=this.el.ownerDocument;Un(e,"mouseup",this._onDrop),Un(e,"touchend",this._onDrop),Un(e,"pointerup",this._onDrop),Un(e,"pointercancel",this._onDrop),Un(e,"touchcancel",this._onDrop),Un(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(fa=Wa(bt),Cc=Wa(bt,i.draggable),Ao("drop",this,{evt:e}),tr=bt&&bt.parentNode,fa=Wa(bt),Cc=Wa(bt,i.draggable),cn.eventCanceled){this._nulling();return}Sv=!1,lw=!1,nb=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Rk(this.cloneId),Rk(this._dragStartId),this.nativeDraggable&&(Un(document,"drop",this),Un(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Jm&&hn(document.body,"user-select",""),hn(bt,"transform",""),e&&(_m&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),Cn&&Cn.parentNode&&Cn.parentNode.removeChild(Cn),(Ki===tr||Br&&Br.lastPutMode!=="clone")&&Yi&&Yi.parentNode&&Yi.parentNode.removeChild(Yi),bt&&(this.nativeDraggable&&Un(bt,"dragend",this),SE(bt),bt.style["will-change"]="",_m&&!Sv&&da(bt,Br?Br.options.ghostClass:this.options.ghostClass,!1),da(bt,this.options.chosenClass,!1),go({sortable:this,name:"unchoose",toEl:tr,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ki!==tr?(fa>=0&&(go({rootEl:tr,name:"add",toEl:tr,fromEl:Ki,originalEvent:e}),go({sortable:this,name:"remove",toEl:tr,originalEvent:e}),go({rootEl:tr,name:"sort",toEl:tr,fromEl:Ki,originalEvent:e}),go({sortable:this,name:"sort",toEl:tr,originalEvent:e})),Br&&Br.save()):fa!==Fv&&fa>=0&&(go({sortable:this,name:"update",toEl:tr,originalEvent:e}),go({sortable:this,name:"sort",toEl:tr,originalEvent:e})),cn.active&&((fa==null||fa===-1)&&(fa=Fv,Cc=eb),go({sortable:this,name:"end",toEl:tr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ao("nulling",this),Ki=bt=tr=Cn=Kd=Yi=uC=kc=Rd=gs=_m=fa=Cc=Fv=eb=sv=tb=Br=sw=cn.dragged=cn.ghost=cn.clone=cn.active=null,D0.forEach(function(e){e.checked=!0}),D0.length=_E=wE=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":bt&&(this._onDragOver(e),mOe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,i=this.el.children,r=0,o=i.length,a=this.options;r<o;r++)t=i[r],ws(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||SOe(t));return e},sort:function(e,t){var i={},r=this.el;this.toArray().forEach(function(o,a){var s=r.children[a];ws(s,this.options.draggable,r,!1)&&(i[o]=s)},this),t&&this.captureAnimationState(),e.forEach(function(o){i[o]&&(r.removeChild(i[o]),r.appendChild(i[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ws(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(t===void 0)return i[e];var r=r_.modifyOption(this,e,t);typeof r<"u"?i[e]=r:i[e]=t,e==="group"&&z7(i)},destroy:function(){Ao("destroy",this);var e=this.el;e[$o]=null,Un(e,"mousedown",this._onTapStart),Un(e,"touchstart",this._onTapStart),Un(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Un(e,"dragover",this),Un(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),k0.splice(k0.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!kc){if(Ao("hideClone",this),cn.eventCanceled)return;hn(Yi,"display","none"),this.options.removeCloneOnHide&&Yi.parentNode&&Yi.parentNode.removeChild(Yi),kc=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(kc){if(Ao("showClone",this),cn.eventCanceled)return;bt.parentNode==Ki&&!this.options.group.revertClone?Ki.insertBefore(Yi,bt):Kd?Ki.insertBefore(Yi,Kd):Ki.appendChild(Yi),this.options.group.revertClone&&this.animate(bt,Yi),hn(Yi,"display",""),kc=!1}}};function mOe(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function cw(n,e,t,i,r,o,a,s){var l,u=n[$o],c=u.options.onMove,d;return window.CustomEvent&&!Ju&&!i_?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=n,l.dragged=t,l.draggedRect=i,l.related=r||e,l.relatedRect=o||pr(e),l.willInsertAfter=s,l.originalEvent=a,n.dispatchEvent(l),c&&(d=c.call(u,l,a)),d}function SE(n){n.draggable=!1}function bOe(){Ak=!1}function yOe(n,e,t){var i=pr(Vg(t.el,0,t.options,!0)),r=$7(t.el,t.options,Cn),o=10;return e?n.clientX<r.left-o||n.clientY<i.top&&n.clientX<i.right:n.clientY<r.top-o||n.clientY<i.bottom&&n.clientX<i.left}function _Oe(n,e,t){var i=pr(IM(t.el,t.options.draggable)),r=$7(t.el,t.options,Cn),o=10;return e?n.clientX>r.right+o||n.clientY>i.bottom&&n.clientX>i.left:n.clientY>r.bottom+o||n.clientX>i.right&&n.clientY>i.top}function wOe(n,e,t,i,r,o,a,s){var l=i?n.clientY:n.clientX,u=i?t.height:t.width,c=i?t.top:t.left,d=i?t.bottom:t.right,f=!1;if(!a){if(s&&cC<u*r){if(!nb&&(tb===1?l>c+u*o/2:l<d-u*o/2)&&(nb=!0),nb)f=!0;else if(tb===1?l<c+cC:l>d-cC)return-tb}else if(l>c+u*(1-r)/2&&l<d-u*(1-r)/2)return COe(e)}return f=f||a,f&&(l<c+u*o/2||l>d-u*o/2)?l>c+u/2?1:-1:0}function COe(n){return Wa(bt)<Wa(n)?1:-1}function SOe(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function OOe(n){D0.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&D0.push(i)}}function dC(n){return setTimeout(n,0)}function Rk(n){return clearTimeout(n)}TO&&Yn(document,"touchmove",function(n){(cn.active||Sv)&&n.cancelable&&n.preventDefault()});cn.utils={on:Yn,off:Un,css:hn,find:F7,is:function(e,t){return!!ws(e,t,e,!1)},extend:aOe,throttle:j7,closest:ws,toggleClass:da,clone:B7,index:Wa,nextTick:dC,cancelNextTick:Rk,detectDirection:W7,getChild:Vg,expando:$o};cn.get=function(n){return n[$o]};cn.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(cn.utils=Il(Il({},cn.utils),i.utils)),r_.mount(i)})};cn.create=function(n,e){return new cn(n,e)};cn.version=rOe;var vr=[],wm,Nk,Fk=!1,OE,xE,T0,Cm;function xOe(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?Yn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Yn(document,"pointermove",this._handleFallbackAutoScroll):i.touches?Yn(document,"touchmove",this._handleFallbackAutoScroll):Yn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Un(document,"dragover",this._handleAutoScroll):(Un(document,"pointermove",this._handleFallbackAutoScroll),Un(document,"touchmove",this._handleFallbackAutoScroll),Un(document,"mousemove",this._handleFallbackAutoScroll)),KW(),fC(),sOe()},nulling:function(){T0=Nk=wm=Fk=Cm=OE=xE=null,vr.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var r=this,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(o,a);if(T0=t,i||this.options.forceAutoScrollFallback||i_||Ju||Jm){EE(t,this.options,s,i);var l=Ic(s,!0);Fk&&(!Cm||o!==OE||a!==xE)&&(Cm&&KW(),Cm=setInterval(function(){var u=Ic(document.elementFromPoint(o,a),!0);u!==l&&(l=u,fC()),EE(t,r.options,u,i)},10),OE=o,xE=a)}else{if(!this.options.bubbleScroll||Ic(s,!0)===Cl()){fC();return}EE(t,this.options,Ic(s,!1),!1)}}},Au(n,{pluginName:"scroll",initializeByDefault:!0})}function fC(){vr.forEach(function(n){clearInterval(n.pid)}),vr=[]}function KW(){clearInterval(Cm)}var EE=j7(function(n,e,t,i){if(e.scroll){var r=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,l=Cl(),u=!1,c;Nk!==t&&(Nk=t,fC(),wm=e.scroll,c=e.scrollFn,wm===!0&&(wm=Ic(t,!0)));var d=0,f=wm;do{var h=f,v=pr(h),g=v.top,p=v.bottom,m=v.left,b=v.right,C=v.width,O=v.height,w=void 0,E=void 0,P=h.scrollWidth,D=h.scrollHeight,k=hn(h),L=h.scrollLeft,M=h.scrollTop;h===l?(w=C<P&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),E=O<D&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(w=C<P&&(k.overflowX==="auto"||k.overflowX==="scroll"),E=O<D&&(k.overflowY==="auto"||k.overflowY==="scroll"));var A=w&&(Math.abs(b-r)<=a&&L+C<P)-(Math.abs(m-r)<=a&&!!L),j=E&&(Math.abs(p-o)<=a&&M+O<D)-(Math.abs(g-o)<=a&&!!M);if(!vr[d])for(var V=0;V<=d;V++)vr[V]||(vr[V]={});(vr[d].vx!=A||vr[d].vy!=j||vr[d].el!==h)&&(vr[d].el=h,vr[d].vx=A,vr[d].vy=j,clearInterval(vr[d].pid),(A!=0||j!=0)&&(u=!0,vr[d].pid=setInterval((function(){i&&this.layer===0&&cn.active._onTouchMove(T0);var H=vr[this.layer].vy?vr[this.layer].vy*s:0,N=vr[this.layer].vx?vr[this.layer].vx*s:0;typeof c=="function"&&c.call(cn.dragged.parentNode[$o],N,H,n,T0,vr[this.layer].el)!=="continue"||H7(vr[this.layer].el,N,H)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=Ic(f,!1)));Fk=u}},30),q7=function(e){var t=e.originalEvent,i=e.putSortable,r=e.dragEl,o=e.activeSortable,a=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var u=i||o;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(a("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function LM(){}LM.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=Vg(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:q7};Au(LM,{pluginName:"revertOnSpill"});function MM(){}MM.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:q7};Au(MM,{pluginName:"removeOnSpill"});cn.mount(new xOe);cn.mount(MM,LM);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function qW(n,e,t){var i=Be(n);return t-e>0?(i.splice(t+1,0,i[e]),i.splice(e,1)):(i.splice(t,0,i[e]),i.splice(e+1,1)),i}function GW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function om(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function YW(n){n.parentElement!==null&&n.parentElement.removeChild(n)}function ZW(n,e,t){var i=t===0?n.children[0]:n.children[t-1].nextSibling;n.insertBefore(e,i)}function EOe(n,e,t){var i=rt(n),r=i.sortOnRowDraggable,o=i.dragSort,a=i.data,s=oe(n.pagination),l=Qo(),u=l.tableDraggableClasses,c=l.tableBaseClass,d=l.tableFullRowClasses,f=l.tableExpandClasses,h=oe(n.columns||[]),v=oe(null),g=R(function(){return h.value.find(function(L){return L.colKey==="drag"})}),p=R(function(){return r.value||["row","row-handler-col"].includes(o.value)}),m=R(function(){return["row-handler","row-handler-col"].includes(o.value)&&!!g.value}),b=R(function(){return["col","row-handler-col"].includes(o.value)});n.sortOnRowDraggable&&Yt.error("Table","`sortOnRowDraggable` is going to be deprecated, use dragSort='row' instead.");function C(L,M){var A,j,V=(A=M.current)!==null&&A!==void 0?A:M.defaultCurrent,H=(j=M.pageSize)!==null&&j!==void 0?j:M.defaultPageSize;return!n.disableDataPage&&M&&a.value.length>H?H*(V-1)+L:L}var O=function(M){var A;if(!((M==null||(A=M.children)===null||A===void 0?void 0:A.length)===0||!m.value&&!p.value)){var j=M==null?void 0:M.querySelector("tbody");if(!j)return console.error("tbody does not exist."),null;var V=om({animation:150,ghostClass:u.ghost,chosenClass:u.chosen,dragClass:u.dragging,filter:".".concat(d.base,",.").concat(f.row),onMove:function(N){return!zL(N.related,d.base)},onEnd:function(N){var F;if(N.newIndex!==N.oldIndex){YW(N.item),ZW(N.from,N.item,N.oldIndex);var W=N.oldIndex,U=N.newIndex;(qe(n.firstFullRow)&&n.firstFullRow(At)||e.slots.firstFullRow||e.slots["first-full-row"])&&(W-=1,U-=1),s.value&&(W=C(W,s.value),U=C(U,s.value));var q={data:a.value,currentIndex:W,current:a.value[W],targetIndex:U,target:a.value[U],newData:qW(Be(n.data),W,U),e:N,sort:"row"};q.currentData=q.newData,(F=n.onDragSort)===null||F===void 0||F.call(n,q)}}},n.dragSortOptions);j&&(p.value?new cn(j,om({},V)):new cn(j,om(om({},V),{},{handle:".".concat(u.handle)})))}},w=function(M,A){var j=om({animation:150,dataIdAttr:"data-colkey",direction:"vertical",ghostClass:u.ghost,chosenClass:u.chosen,dragClass:u.dragging,handle:".".concat(c.thCellInner),onEnd:function(H){var N;if(H.newIndex!==H.oldIndex){A&&(YW(H.item),ZW(H.from,H.item,H.oldIndex));var F=H.oldIndex,W=H.newIndex,U=H.target,q=A?F:W,Z=A?W:F,z=U.children[q],ie=U.children[Z],ee=x0(h.value,z.dataset.colkey),K=x0(h.value,ie.dataset.colkey);(!ee||!ee.colKey)&&Yt.error("Table","colKey is missing in ".concat(JSON.stringify(ee))),(!K||!K.colKey)&&Yt.error("Table","colKey is missing in ".concat(JSON.stringify(K))),q=MW(n.columns,ee.colKey),Z=MW(n.columns,K.colKey);var J={data:h.value,currentIndex:q,current:ee,targetIndex:Z,target:K,newData:qW(Be(n.columns),q,Z),e:H,sort:"col"};J.currentData=J.newData,(N=n.onDragSort)===null||N===void 0||N.call(n,J)}}},n.dragSortOptions);M&&new cn(M,j)},E=function(M){if(!(!b.value||!M)){var A=M.querySelectorAll("thead > tr");if(A.length<=1){var j=Je(A,1),V=j[0];w(V,!0)}else A==null||A.forEach(function(H){w(H,!1)})}};function P(L){v.value=L}function D(L){h.value=L}Pe([v,h,o,t],function(L){var M=Je(L,4),A=M[0];M[1],M[2];var j=M[3];k(A,j)});function k(L,M){var A=L;if(!(!L||!A.$el||!M.showElement))var j=setTimeout(function(){O(A.$el),E(A.$el);var V=setTimeout(function(){A.$refs.affixHeaderRef&&E(A.$refs.affixHeaderRef),clearTimeout(V)});clearTimeout(j)},60)}return{innerPagination:s,isRowDraggable:p,isRowHandlerDraggable:m,isColDraggable:b,setDragSortPrimaryTableRef:P,setDragSortColumns:D}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function POe(n){var e=ft(),t=Dt("table",n.locale),i=t.globalConfig,r=Qo(),o=r.isLoadingClass,a=r.isLoadMoreClass,s=r.asyncLoadingClass,l=R(function(){return[s,X(X({},o,n.asyncLoading==="loading"),a,n.asyncLoading==="load-more")]});function u(){var d;kt(n.asyncLoading)&&((d=n.onAsyncLoadingClick)===null||d===void 0||d.call(n,{status:n.asyncLoading}))}function c(){var d=e("asyncLoading");if(kt(d)){var f=n.asyncLoading,h={"load-more":i.value.loadingMoreText,loading:i.value.loadingText}[String(f)];return x("div",{class:l.value,onClick:u},[x(ar,{indicator:f==="loading",loading:!!f,size:"small",text:h},null)])}return[null,!1,void 0].includes(d)?null:x("div",{class:l.value,onClick:u},[d])}return{renderAsyncLoading:c}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function G7(n){return _9(n)||t8(n)||EL(n)||w9()}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function XW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var kOe=pe({name:"TableEditableCell",props:{row:Object,rowKey:String,rowIndex:Number,col:Object,colIndex:Number,oldCell:[Function,String],tableBaseClass:Object,cellEmptyContent:[Function,String],editable:{type:Boolean,default:void 0},readonly:{type:Boolean},errors:{type:Array,default:void 0},onChange:Function,onValidate:Function,onRuleChange:Function,onEditableChange:Function},emits:["update-edited-cell"],setup:function(e,t){var i,r=rt(e),o=r.row,a=r.col;oe(null);var s=R(function(){var H;return(H=a.value.edit)===null||H===void 0?void 0:H.keepEditMode}),l=oe(s.value||((i=e.col.edit)===null||i===void 0?void 0:i.defaultEditable)||!1),u=oe(),c=oe(),d=we(),f=On({Edit1Icon:Ffe}),h=f.Edit1Icon,v=function(N){if(kn(N)==="object"&&("rowValue"in N||N.isUpdateCurrentRow)){var F=N.isUpdateCurrentRow?Ze(o.value,e.rowKey):N.rowValue;delete N.rowValue,delete N.isUpdateCurrentRow,t.emit("update-edited-cell",F,o.value,N)}else u.value=N};Pe([s],function(H){H&&(l.value=!0)});var g=R(function(){var H,N;return((H=a.value.edit)===null||H===void 0||(N=H.on)===null||N===void 0?void 0:N.call(H,gi(gi({},p.value),{},{editedRow:m.value,updateEditedCellValue:v})))||{}}),p=R(function(){return{rowIndex:e.rowIndex,colIndex:e.colIndex,col:e.col,row:e.row}}),m=R(function(){var H=a.value.colKey,N=H.split(".")||[],F=G7(N),W=F[0],U=F.slice(1),q=gi({},o.value);return U.length?(q[W]=Zo(o.value[W]),sh(q[W],U.join("."),u.value)):sh(q,H,u.value),q}),b=R(function(){var H=O0({row:m.value,col:gi(gi({},a.value),{},{cell:e.oldCell}),rowIndex:e.rowIndex,colIndex:e.colIndex},t.slots,{cellEmptyContent:e.cellEmptyContent});return H}),C=R(function(){var H=a.value.edit;return qe(H.props)?H.props(gi(gi({},p.value),{},{editedRow:m.value,updateEditedCellValue:v})):gi({},H.props)}),O=R(function(){var H,N=a.value.edit;if(!N)return{};var F=gi({},C.value);return delete F.onChange,delete F.value,(H=N.abortEditOnEvent)===null||H===void 0||H.forEach(function(W){delete F[W]}),F}),w=R(function(){var H,N=a.value.edit;return N?!!(!((H=N.abortEditOnEvent)===null||H===void 0)&&H.includes("onChange")):!1}),E=function(N){return new Promise(function(F){var W={result:[gi(gi({},p.value),{},{errorList:[],value:u.value})],trigger:N},U=qe(a.value.edit.rules)?a.value.edit.rules(p.value):a.value.edit.rules;if(!a.value.edit||!U||!U.length){var q;(q=e.onValidate)===null||q===void 0||q.call(e,W),F(!0);return}bM(u.value,U).then(function(Z){var z,ie=Z==null?void 0:Z.filter(function(ee){return!ee.result});W.result[0].errorList=ie,(z=e.onValidate)===null||z===void 0||z.call(e,W),!ie||!ie.length?(c.value=[],F(!0)):(c.value=ie,F(ie))})})},P=function(N,F){return Wt(N)&&Wt(F)?JSON.stringify(N)===JSON.stringify(F):N===F},D=function(N,F){for(var W=arguments.length,U=new Array(W>2?W-2:0),q=2;q<W;q++)U[q-2]=arguments[q];E("self").then(function(Z){var z,ie;if(Z===!0){var ee=Ze(o.value,a.value.colKey);P(u.value,ee)||(u.value=ee,N==null||N.apply(void 0,U)),(z=(ie=g.value)[F])===null||z===void 0||z.call(ie,U[2]);var K=setTimeout(function(){var J;s.value||(l.value=!1),c.value=[],(J=e.onEditableChange)===null||J===void 0||J.call(e,gi(gi({},p.value),{},{value:u.value,editedRow:gi(gi({},e.row),{},X({},e.col.colKey,u.value)),validateEdit:E,isEdit:!1})),clearTimeout(K)},0)}})},k=R(function(){var H,N=a.value.edit,F=e.editable===void 0;if(!(!l.value||!F)){if(!(N!=null&&(H=N.abortEditOnEvent)!==null&&H!==void 0&&H.length))return{};var W={},U=N==null?void 0:N.onEdited;return N.abortEditOnEvent.forEach(function(q){q!=="onChange"&&(W[q]=function(){for(var Z=arguments.length,z=new Array(Z),ie=0;ie<Z;ie++)z[ie]=arguments[ie];D.apply(void 0,[U,q,gi(gi({},p.value),{},{trigger:q,newRowData:m.value})].concat(z))})}),W}}),L=function(N){var F,W,U,q,Z,z,ie;u.value=N;for(var ee=gi(gi({},p.value),{},{value:N,editedRow:gi(gi({},e.row),{},X({},e.col.colKey,N))}),K=arguments.length,J=new Array(K>1?K-1:0),$=1;$<K;$++)J[$-1]=arguments[$];(F=C.value)===null||F===void 0||(W=F.onChange)===null||W===void 0||W.call.apply(W,[F,N].concat(J)),(U=e.onChange)===null||U===void 0||U.call(e,ee),(q=e.onRuleChange)===null||q===void 0||q.call(e,ee),(Z=g.value)===null||Z===void 0||(z=Z.onChange)===null||z===void 0||z.call(Z,ee);var Y=e.editable===void 0;if(Y&&w.value){var te,ae=(te=a.value.edit)===null||te===void 0?void 0:te.onEdited;D.apply(void 0,[ae,"change",gi(gi({},p.value),{},{trigger:"onChange",newRowData:m.value})].concat(J))}((ie=a.value.edit)===null||ie===void 0?void 0:ie.validateTrigger)==="change"&&E("self")},M=function(N){var F;if(!(!a.value.edit||!a.value.edit.component)&&l.value){var W=((F=N.composedPath)===null||F===void 0?void 0:F.call(N))||N.path||[],U=W.find(function(Z){var z;return(z=Z.classList)===null||z===void 0?void 0:z.contains("".concat(d.value,"-popup__content"))});if(!U){var q=a.value.edit.onEdited;D(q,"",gi(gi({},p.value),{},{trigger:"document",newRowData:m.value}))}}},A=function(){var N;(N=e.onEditableChange)===null||N===void 0||N.call(e,gi(gi({},p.value),{},{value:u.value,editedRow:e.row,isEdit:!0,validateEdit:E}))},j=function(N){l.value=!0,A(),N.stopPropagation()};mt(function(){var H;(H=e.col.edit)!==null&&H!==void 0&&H.defaultEditable&&A()});var V=R(function(){return Ze(o.value,a.value.colKey)});return Pe(V,function(H){u.value=H},{immediate:!0}),Pe(l,function(H){var N=e.editable===void 0;!a.value.edit||!a.value.edit.component||!N||(H?ai(document,"click",M):Tn(document,"click",M))},{immediate:!0}),Pe(function(){return[e.editable,e.row,e.col,e.rowIndex,e.colIndex]},function(H){var N=Je(H,1),F=N[0];if(F===!1)u.value=V.value;else if(F===!0){var W;(W=e.onRuleChange)===null||W===void 0||W.call(e,gi(gi({},p.value),{},{value:V.value,editedRow:o.value}))}},{immediate:!0}),Pe(function(){return e.errors},function(H){c.value=H}),function(){var H,N,F,W;if(e.readonly)return b.value;if(e.editable===void 0&&!l.value||e.editable===!1){var U;return x("div",{class:e.tableBaseClass.cellEditable,onClick:j},[b.value,((U=a.value.edit)===null||U===void 0?void 0:U.showEditIcon)!==!1&&x(h,null,null)])}var q=(H=a.value.edit)===null||H===void 0?void 0:H.component;if(!q)return Yt.error("Table","edit.component is required."),null;var Z=(N=c.value)===null||N===void 0||(N=N[0])===null||N===void 0?void 0:N.message,z=gi({},g.value);return delete z.onChange,(F=a.value.edit)!==null&&F!==void 0&&(F=F.abortEditOnEvent)!==null&&F!==void 0&&F.length&&a.value.edit.abortEditOnEvent.forEach(function(ie){z[ie]&&delete z[ie]}),x("div",{class:e.tableBaseClass.cellEditWrap,onClick:function(ee){ee.stopPropagation()},ref:"tableEditableCellRef"},[x(q,He({status:Z?((W=c.value)===null||W===void 0||(W=W[0])===null||W===void 0?void 0:W.type)||"error":void 0,tips:Z},O.value,k.value,z,{value:u.value,onChange:L}),null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function JW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function am(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function DOe(n){var e=rt(n),t=e.editableRowKeys,i=new Map,r=oe({}),o=R(function(){return K1e(n.editableRowKeys,n.data,n.rowKey||"id")}),a=oe({}),s=oe({}),l=function(C){var O={};return C.forEach(function(w){var E=w.row,P=w.col,D=w.errorList,k=Ze(E,n.rowKey||"id"),L=[k,P.colKey].join("__");D!=null&&D.length?O[L]=D:delete O[L]}),O},u=function(C){var O=i.get(C);if(O){var w=O.map(function(E){return new Promise(function(P){var D=E.editedRow,k=E.col,L=qe(k.edit.rules)?k.edit.rules(E):k.edit.rules;if(!k.edit||!L||!L.length){P(am(am({},E),{},{errorList:[]}));return}bM(Ze(D,k.colKey),L).then(function(M){P(am(am({},E),{},{errorList:M.filter(function(A){return!A.result})}))})})});return new Promise(function(E,P){Promise.all(w).then(function(D){E({errors:D.filter(function(k){var L;return(L=k.errorList)===null||L===void 0?void 0:L.length}),errorMap:l(D)})},P)})}},c=function(C){return new Promise(function(O,w){u(C).then(function(E){var P,D=E.errors,k=E.errorMap;r.value=k;var L="parent";(P=n.onRowValidate)===null||P===void 0||P.call(n,{trigger:L,result:D}),O({trigger:L,result:D})},w)})},d=function(){var C=Object.keys(a.value),O=n.data.map(function(E){var P;return(P=E[n.rowKey])===null||P===void 0?void 0:P.toString()}),w=C.filter(function(E){return O.includes(A1e(E))}).map(function(E){return a.value[E].validateEdit("parent")});return new Promise(function(E,P){Promise.all(w).then(function(D){var k,L={};D.forEach(function(M,A){M!==!0&&(L[C[A]]=M)}),(k=n.onValidate)===null||k===void 0||k.call(n,{result:L}),E({result:L})},P)})},f=function(){if(Object.keys(a.value).length)return d();for(var C=[],O=n.data||[],w=0,E=O.length;w<E;w++){var P=Ze(O[w],n.rowKey||"id");C.push(u(P))}return new Promise(function(D,k){Promise.all(C).then(function(L){var M,A={};L.forEach(function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{errorMap:{}},V=j.errorMap;V&&Object.assign(A,V)}),r.value=A,(M=n.onValidate)===null||M===void 0||M.call(n,{result:A}),D({result:A})},k)})},h=function(C,O,w){s.value[C]||(s.value[C]=Zo(O)),Object.entries(w).forEach(function(E){var P=Je(E,2),D=P[0],k=P[1];sh(s.value[C],D,k)})},v=function(C){if(n.editableRowKeys){var O=Ze(C.row,n.rowKey||"id"),w=i.get(O);if(w){var E=w.findIndex(function(P){return P.col.colKey===C.col.colKey});E===-1?w.push(C):w[E]=C,i.set(O,w)}else i.set(O,[C])}},g=function(){r.value={}},p=function(C){var O=qb(C.row,n.rowKey,C.col.colKey,C.colIndex);C.isEdit?a.value[O]=C:delete a.value[O]},m=function(C){var O,w=C.row,E=C.col,P=Ze(w,n.rowKey||"id"),D=s.value[P];if(D&&(O=n.editableRowKeys)!==null&&O!==void 0&&O.includes(P)){var k=am({},D);return sh(k,E.colKey,Ze(D,E.colKey)),k}return w};return Pe(function(){var b;return(b=t.value)===null||b===void 0?void 0:b.join(",")},function(b){var C=b.split(","),O=Object.keys(s.value);O.forEach(function(w){C.includes(w)||delete s.value[w]})}),{editedFormData:s,errorListMap:r,editableKeysMap:o,validateTableData:f,validateTableCellData:d,validateRowData:c,onRuleChange:v,clearValidateData:g,onUpdateEditedCell:h,getEditRowData:m,onPrimaryTableCellEditChange:p}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function QW(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Kl(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QW(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QW(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var TOe=["hideSortTips","dragSort","defaultExpandedRowKeys","defaultSelectedRowKeys","columnController","filterRow","sortOnRowDraggable","expandOnRowClick","expand-on-row-click","expanded-row","editable-row-keys","editable-cell-state","filter-value","multipleSort","expandIcon","expand-icon","reserveSelectedRowOnPaginate","expandedRowKeys","expandedRow","reserve-selected-row-on-paginate","reserveSelectedRowOnPaginate","selected-row-keys","selectedRowKeys","selectOnRowClick","column-controller","columnController","dragSort","drag-sort","hideSortTips","showSortColumnBgColor","filter-row","filterRow","multiple-sort","multipleSort","async-loading","onChange","onAsyncLoadingClick","onColumnChange","onColumnControllerVisibleChange","onDataChange","onDisplayColumnsChange","onDragSort","onExpandChange","onFilterChange","onSelectChange","onSortChange"],AM=pe({name:"TPrimaryTable",props:Kl(Kl({},$g),I7),setup:function(e,t){var i=ft(),r=rt(e),o=r.columns,a=r.columnController,s=oe(null),l=oe(!1),u=Qo(),c=u.classPrefix,d=u.tableDraggableClasses,f=u.tableBaseClass,h=u.tableSelectedClasses,v=u.tableSortClasses,g=Dt("table",e.locale),p=g.globalConfig,m=D7(e),b=m.sizeClassNames,C=R(function(){var at;return(at=e.size)!==null&&at!==void 0?at:p.value.size}),O=z1e(e,t),w=O.tDisplayColumns,E=O.renderColumnController,P=U1e(e,t),D=P.showExpandedRow,k=P.showExpandIconColumn,L=P.getExpandColumn,M=P.renderExpandedRow,A=P.onInnerExpandRowClick,j=P.getExpandedRowClass,V=X1e(e,t),H=V.renderSortIcon,N=q1e(e,h),F=N.selectColumn,W=N.showRowSelect,U=N.selectedRowClassNames,q=N.currentPaginateData,Z=N.formatToRowSelectColumn,z=N.setTSelectedRowKeys,ie=N.onInnerSelectRowClick,ee=N.handleRowSelectWithAreaSelection,K=eOe(e,t),J=K.hasEmptyCondition,$=K.isTableOverflowHidden,Y=K.renderFilterIcon,te=K.renderFirstFilterRow,ae=K.setFilterPrimaryTableRef,le=R(function(){return{showElement:l.value}}),Q=EOe(e,t,le),ne=Q.isRowHandlerDraggable,se=Q.isRowDraggable,de=Q.isColDraggable,he=Q.innerPagination,ge=Q.setDragSortPrimaryTableRef,Se=Q.setDragSortColumns,Te=O7(e),Ce=Te.renderTitleWidthIcon,xe=POe(e),Me=xe.renderAsyncLoading,Re=DOe(e),Ae=Re.errorListMap,De=Re.editableKeysMap,Ee=Re.validateRowData,me=Re.validateTableData,Oe=Re.validateTableCellData,ke=Re.onRuleChange,Ve=Re.clearValidateData,lt=Re.onUpdateEditedCell,Ge=Re.getEditRowData,$e=Re.onPrimaryTableCellEditChange,Fe=R(function(){return!!(D.value||W.value)}),Ke=R(function(){return!!(D.value||W.value)}),et=R(function(){var at;return X(X(X(X(X(X(X(X({},d.colDraggable,de.value),d.rowHandlerDraggable,ne.value),d.rowDraggable,se.value),f.overflowVisible,$.value===!1),f.tableRowEdit,e.editableRowKeys),"".concat(c,"-table--select-").concat((at=F.value)===null||at===void 0?void 0:at.type),F.value),"".concat(c,"-table--row-select"),W.value),"".concat(c,"-table--row-expandable"),D.value)}),ot=R(function(){var at=[e.rowClassName,U.value,j];return at.filter(function(Xe){return Xe})}),Rt=R(function(){var at=[e.rowAttributes];return(ne.value||se.value)&&at.push(function(Xe){var ct=Xe.row;return{"data-id":Ze(ct,e.rowKey||"id")}}),at.filter(function(Xe){return Xe})});mt(function(){ae(s.value),ge(s.value)}),t.expose({validateRowData:Ee,validateTableData:me,validateTableCellData:Oe,clearValidateData:Ve,refreshTable:function(){s.value.refreshTable()},scrollToElement:function(Xe){s.value.scrollToElement(Xe)},scrollColumnIntoView:function(Xe){s.value.scrollColumnIntoView(Xe)},baseTableRef:s});var zt=function(Xe){var ct;(ct=e.onRowEdit)===null||ct===void 0||ct.call(e,Xe);var An=Ze(Xe.editedRow,e.rowKey||"id");lt(An,Xe.row,X({},Xe.col.colKey,Xe.value))},ri=function(Xe){for(var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,An=[],wn=function(){var Da,Xr,ta,Tr,na,en=Kl({},Xe[ji]),ia=((Da=en.children)===null||Da===void 0?void 0:Da.length)||((Xr=w.value)===null||Xr===void 0?void 0:Xr.includes(en.colKey));if(!ia&&(e.columnController||e.displayColumns||e.defaultDisplayColumns)&&!ct)return 1;en=Z(en);var cs=e.sort;if(en.sorter&&e.showSortColumnBgColor){var Hl=cs instanceof Array?cs:[cs],Ws=Hl.find(function(li){return li&&li.sortBy===en.colKey&&li.descending!==void 0});Ws&&(en.className=en.className instanceof Array?en.className.concat(v.sortColumn):[en.className,v.sortColumn])}if(en.sorter||en.filter){var ho=DO(t.slots,en,ji),tc=en,Li=tc.ellipsisTitle;en.title=function(li,ui){var wr,tt=en.sorter?H(ui):null,Lt=en.filter?Y(ui):null,pn=(wr=s.value)===null||wr===void 0?void 0:wr.tableContentRef;return Ce([ho,tt,Lt],ui.col,ui.colIndex,Li,pn,{classPrefix:c,ellipsisOverlayClassName:C.value!=="medium"?b[C.value]:""})},en.ellipsisTitle=!1}if((ta=en.edit)!==null&&ta!==void 0&&ta.component){var zn=en.cell;en.cell=function(li,ui){var wr=Kl(Kl({},ui),{},{row:Ge(ui),oldCell:zn,rowKey:e.rowKey||"id",tableBaseClass:f,cellEmptyContent:e.cellEmptyContent,onChange:zt,onValidate:e.onRowValidate,onRuleChange:ke,onEditableChange:$e});if(e.editableRowKeys){var tt,Lt=Ze(ui.row,e.rowKey||"id");wr.editable=De.value[Lt]||!1;var pn=[Lt,ui.col.colKey].join("__"),Fn=(tt=Ae.value)===null||tt===void 0?void 0:tt[pn];Fn&&(wr.errors=Fn)}return e.editableCellState&&(wr.readonly=!e.editableCellState(ui)),x(kOe,He(wr,{onUpdateEditedCell:lt}),t.slots)}}if((Tr=en.children)!==null&&Tr!==void 0&&Tr.length){var Qn;en.children=ri(en.children,ct||((Qn=w.value)===null||Qn===void 0?void 0:Qn.includes(en.colKey)))}(!en.children||(na=en.children)!==null&&na!==void 0&&na.length)&&An.push(en)},ji=0,er=Xe.length;ji<er;ji++)wn();return An},qn=R(function(){var at=ri(o.value);return k.value&&at.unshift(L()),at}),Qi=function(Xe,ct){var An,wn;he.value=Kl(Kl({},he.value),Xe),q.value=ct,(An=e.onPageChange)===null||An===void 0||An.call(e,Xe,ct);var ji=[{pagination:Xe},{trigger:"pagination",currentData:ct}];(wn=e.onChange)===null||wn===void 0||wn.call.apply(wn,[e].concat(ji)),e.reserveSelectedRowOnPaginate||z([],{selectedRowData:[],type:"uncheck",currentRowKey:"CLEAR_ON_PAGINATE"})},Ii=function(Xe){var ct;(ct=e.onActiveRowAction)===null||ct===void 0||ct.call(e,Xe),ee(Xe)},ye=function(Xe){e.expandOnRowClick&&A(Xe),e.selectOnRowClick&&ie(Xe)},We,gt=250,jt=function(Xe){if(!e.onRowDblclick){ye(Xe);return}We?(clearTimeout(We),We=void 0):We=setTimeout(function(){ye(Xe),We=void 0},gt)},Gn=function(Xe){l.value=Xe},oi=function(Xe,ct,An,wn){if(!An)return e[Xe];var ji=ct(At),er=i(Xe);return ji&&!er?function(){return ji}:er&&!ji?function(){return er}:ji&&er?function(){return wn!=null&&wn.reverse?x("div",null,[ji,er]):x("div",null,[er,ji])}:null};return function(){var at,Xe,ct=!!(a.value&&Object.keys(a.value).length),An=ct?a.value.placement||"top-right":"",wn=ct&&(An==null?void 0:An.indexOf("bottom"))!==-1,ji=oi("topContent",E,ct&&!wn),er=oi("bottomContent",E,wn,{reverse:!0}),ka=oi("firstFullRow",te,!J.value),Da=oi("lastFullRow",Me,!!e.asyncLoading),Xr=Ui(),ta=Xr.vnode,Tr=Kl(Kl({},br(ta.props,TOe)),{},{rowKey:e.rowKey,rowClassName:ot.value,rowAttributes:Rt.value,columns:qn.value,keyboardRowHover:(at=e.keyboardRowHover)!==null&&at!==void 0?at:Fe.value,disableSpaceInactiveRow:(Xe=e.disableSpaceInactiveRow)!==null&&Xe!==void 0?Xe:Ke.value,topContent:ji,bottomContent:er,firstFullRow:ka,lastFullRow:Da,thDraggable:["col","row-handler-col"].includes(e.dragSort),onShowElementChange:Gn,onPageChange:Qi,renderExpandedRow:D.value?M:void 0,onActiveRowAction:Ii});return(e.expandOnRowClick||e.selectOnRowClick)&&(Tr.onRowClick=jt),x(T7,He(Tr,{ref:s,class:et.value,onLeafColumnsChange:Se}),t.slots)}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var IOe={beforeDragSort:{type:Function},expandedTreeNodes:{type:Array,default:void 0},defaultExpandedTreeNodes:{type:Array,default:function(){return[]}},tree:{type:Object},treeExpandAndFoldIcon:{type:Function},onAbnormalDragSort:Function,onExpandedTreeNodesChange:Function,onTreeExpandChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function e4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):e4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var t4={code:1001,reason:"The same level of rows can not be swapped."};function eu(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=Ze(n,e);return t||i?"".concat(r,"_").concat(t||0,"_").concat(i||0,"}"):r}var LOe=function(){function n(){Zu(this,n),X(this,"treeDataMap",new Map),X(this,"expandAllRowIndex",void 0),this.treeDataMap=new Map}return Xu(n,[{key:"initialTreeStore",value:function(t,i,r){var o;(o=this.treeDataMap)===null||o===void 0||o.clear(),this.initialTreeDataMap(this.treeDataMap,t,i.find(function(a){return a.colKey==="row-select"}),r)}},{key:"getAllUniqueKeys",value:function(t,i){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=0,a=t.length;o<a;o++){var s=t[o];r.push(eu(s,i.rowKey));var l=Ze(s,i.childrenKey);l!=null&&l.length&&this.getAllUniqueKeys(l,i,r)}return r}},{key:"getExpandedChildrenKeys",value:function(t,i){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=0,a=t.length;o<a;o++){var s=t[o],l=eu(s,i.rowKey),u=this.treeDataMap.get(l);u.expanded&&r.push(l);var c=Ze(s,i.childrenKey);c!=null&&c.length&&this.getExpandedChildrenKeys(c,i,r)}return r}},{key:"expandTreeNode",value:function(t,i,r){var o=this;return t.length&&t.forEach(function(a){var s=o.treeDataMap.get(a);s&&o.toggleExpandData({row:s.row,rowIndex:s.rowIndex},i,r,"expand")}),i}},{key:"foldTreeNode",value:function(t,i,r){var o=this;return t.length&&t.forEach(function(a){var s=o.treeDataMap.get(a);s&&o.toggleExpandData({row:s.row,rowIndex:s.rowIndex},i,r,"fold")}),i}},{key:"toggleExpandData",value:function(t,i,r,o){var a;if(!t)return Yt.error("EnhancedTable","the node toggleExpanded doest not exist in `data`"),i;var s=Ze(t.row,r.rowKey);if(Nr(s))return Yt.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`."),[];var l=Ze(t.row,r.childrenKey);if(l===!0)return i;var u=this.treeDataMap.get(s);return o==="expand"&&u.expanded||o==="fold"&&!u.expanded?i:(u.rowIndex=(a=u.rowIndex)!==null&&a!==void 0?a:t.rowIndex,u.expanded=!u.expanded,this.treeDataMap.set(s,u),this.updateExpandRow(u,i,r))}},{key:"updateExpandRow",value:function(t,i,r){var o=t.row,a=t.rowIndex,s=t.expanded,l=this.treeDataMap,u=Ze(o,r.childrenKey);if(!o||!u)return i;if(s)jk(l,t,s,r),lv(l,o,u.length,"expand",r),i.splice.apply(i,[a+1,0].concat(u));else{jk(l,t,s,r);var c=t.expandChildrenLength||u.length;lv(l,o,-1*c,"fold",r),i.splice(a+1,c)}return Fd(l,i,{rowKey:r.rowKey,minRowIndex:a+1}),i}},{key:"getData",value:function(t){return this.treeDataMap.get(t)}},{key:"updateData",value:function(t,i,r,o){var a=eu(i,o.rowKey),s=this.treeDataMap.get(t);if(!s||s.rowIndex===-1)return Z7(r,t,i,{rowKey:o.rowKey,childrenKey:o.childrenKey}),-1;if(Ze(i,o.childrenKey)===!0){var l=Ze(s.row,o.childrenKey);if(l!=null&&l.length)for(var u=0,c=l.length;u<c;u++){var d=eu(l[u],o.rowKey),f=this.treeDataMap.get(d);f&&this.treeDataMap.delete(d)}}var h=s.rowIndex;if(s.row=i,s.id=a,s.parent){var v=Ze(s.parent.row,o.childrenKey),g=v.findIndex(function(p){return eu(p,o.rowKey)===t});v[g]=i}return this.treeDataMap.set(a,s),t!==a&&this.treeDataMap.delete(t),h}},{key:"remove",value:function(t,i,r){var o=this.treeDataMap.get(t);if(o&&o.rowIndex>=0){var a=(o.expandChildrenLength||0)+1;if(i.splice(o.rowIndex,a),o.parent){var s=Ze(o.parent.row,r.childrenKey),l=s.findIndex(function(u){return Ze(u,r.rowKey)===t});s.splice(l,1),lv(this.treeDataMap,o.parent.row,-1*a,"delete",r)}this.treeDataMap.delete(t),Fd(this.treeDataMap,i,{minRowIndex:o.rowIndex,rowKey:r.rowKey})}else Yt.warn("EnhancedTable","Can not remove this node, which is not appeared.");return i}},{key:"removeChildren",value:function(t,i,r){var o=this.treeDataMap.get(t);if(o&&o.rowIndex>=0){var a=o.expandChildrenLength||0;a&&i.splice(o.rowIndex+1,a),o.parent&&lv(this.treeDataMap,o.parent.row,-1*a,"delete",r),o.expandChildrenLength=0,o.expanded=!1,sh(o.row,r.childrenKey,void 0),this.treeDataMap.set(t,o),a&&Fd(this.treeDataMap,i,{minRowIndex:o.rowIndex+1,rowKey:r.rowKey})}else Yt.warn("EnhancedTable","Can not remove this node's children, which is not appeared.");return i}},{key:"appendTo",value:function(t,i,r,o){var a=this.treeDataMap.get(t);if(!this.validateDataExist(a,t))return r;for(var s=Ze(a.row,o.childrenKey),l=a.expanded||!(s!=null&&s.length),u=i instanceof Array?i:[i],c=[],d=-1,f=0,h=u.length;f<h;f++){var v=u[f],g=eu(v,o.rowKey),p=this.treeDataMap.get(g);if(!this.validateDataDoubleExist(p,g))Yt.warn("Table","Duplicated Data `".concat(g,"` has been removed."));else{var m=l?a.rowIndex+(a.expandChildrenLength||0)+(f+1):-1;f===0&&(d=m);var b={id:g,row:v,rowIndex:m,level:a.level+1,expanded:!1,expandChildrenLength:0,disabled:!1,path:Be(a.path),parent:a};b.path=b.path.concat(b),c.push(v),this.treeDataMap.set(g,b)}}if(!c.length)return r;if(s!=null&&s.length?a.row[o.childrenKey]=a.row[o.childrenKey].concat(c):(a.row[o.childrenKey]=c,a.expanded=!0),l){r.splice.apply(r,[d,0].concat(c));var C=c.length||1;lv(this.treeDataMap,a.row,C,"insert",{rowKey:o.rowKey,childrenKey:o.childrenKey}),Fd(this.treeDataMap,r,{minRowIndex:d+c.length-1,rowKey:o.rowKey,count:1})}return r}},{key:"appendToRoot",value:function(t,i,r){for(var o=i.concat(t),a=t instanceof Array?t:[t],s=i.length,l=0,u=a.length;l<u;l++){var c=Ze(a[l],r.rowKey);if(!c){Yt.error("Table","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");continue}var d={id:c,row:a[l],rowIndex:s+l,level:0,expanded:!1,expandChildrenLength:0,disabled:!1};d.path=[d],this.treeDataMap.set(c,d)}return o}},{key:"insertAfter",value:function(t,i,r,o){return this.insert(t,i,r,o,"after")}},{key:"insertBefore",value:function(t,i,r,o){return this.insert(t,i,r,o,"before")}},{key:"insert",value:function(t,i,r,o,a){var s=this.treeDataMap.get(t);if(!this.validateDataExist(s,t))return r;var l=Ze(i,o.rowKey),u=this.treeDataMap.get(l);if(!this.validateDataDoubleExist(u,l))return r;var c=a==="after"?s.rowIndex+1:s.rowIndex,d={id:l,row:i,rowIndex:c,level:s.level,expanded:!1,expandChildrenLength:0,disabled:!1,path:s.path.slice(0,-1),parent:s.parent};d.path=d.path.concat(d);var f=a==="after"?s.rowIndex+(s.expandChildrenLength+1):s.rowIndex;r.splice(f,0,i);var h=a==="after"?1:0;if(s.parent){var v=s.parent.row[o.childrenKey].findIndex(function(g){return t===Ze(g,o.rowKey)});s.parent.row[o.childrenKey].splice(v+h,0,i),lv(this.treeDataMap,s.parent.row,1,"insert",o)}return this.treeDataMap.set(l,d),Fd(this.treeDataMap,r,{rowKey:o.rowKey,minRowIndex:s.rowIndex+1}),r}},{key:"swapData",value:function(t,i,r){var o=i.currentIndex,a=i.targetIndex;if(o===a)return{dataSource:t,result:!0};var s=Ze(i.current,r.rowKey),l=Ze(i.target,r.rowKey),u=this.treeDataMap.get(s),c=this.treeDataMap.get(l);if(u.level!==c.level)return{dataSource:t,result:!1,code:t4.code,reason:t4.reason};var d=o+u.expandChildrenLength+1,f=a+c.expandChildrenLength+1,h=t.slice(o,d),v=t.slice(a,f);if(o>a){var g=t.slice(f,o),p=h.concat(v,g);t.splice(a,p.length),t.splice.apply(t,[a,0].concat(Be(p))),Fd(this.treeDataMap,t,{rowKey:r.rowKey,minRowIndex:a,maxRowIndex:d})}else{var m=t.slice(d,a),b=m.concat(v,h);t.splice(o,b.length),t.splice.apply(t,[o,0].concat(Be(b))),Fd(this.treeDataMap,t,{rowKey:r.rowKey,minRowIndex:o,maxRowIndex:f})}if(u.parent){for(var C=u.parent.row[r.childrenKey],O=0,w=-1,E=-1,P=0,D=C.length;P<D&&(Ze(C[P],r.rowKey)===s&&(E=P,O+=1),Ze(C[P],r.rowKey)===l&&(w=P,O+=1),!(O>=2));P++);E<w?(C.splice(w+1,0,i.current),C.splice(E,1)):(C.splice(E,1),C.splice(w,0,i.current))}return{dataSource:t,result:!0}}},{key:"expandAll",value:function(t,i){var r=this;this.expandAllRowIndex=0;var o=[],a=function(l,u){for(var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,d=0,f=l.length;d<f;d++){var h=l[d],v=Ze(h,u.rowKey),g=r.treeDataMap.get(v),p=Ze(h,u.childrenKey);if(g.rowIndex=r.expandAllRowIndex,p!==!0&&p!==null&&p!==void 0&&p.length&&(g.expanded=!0),g.expandChildrenLength=(p==null?void 0:p.length)||0,r.expandAllRowIndex+=1,o.push(h),r.treeDataMap.set(v,g),p!=null&&p.length){for(var m=c;(b=m)!==null&&b!==void 0&&b.row;){var b;m.expandChildrenLength+=p.length,r.treeDataMap.set(m.id,m),m=m.parent}a(p,u,g)}}};return a(t,i),o}},{key:"foldAll",value:function(t,i){for(var r=[],o=0,a=0,s=t.length;a<s;a++){var l=t[a],u=Ze(l,i.rowKey),c=this.treeDataMap.get(u);c.rowIndex=c.level===0?o:-1,c.expanded=!1,c.expandChildrenLength=0,c.level===0&&(r.push(l),o+=1);var d=Ze(l,i.childrenKey);d!=null&&d.length&&this.foldAll(d,i)}return r}},{key:"getTreeNode",value:function(t,i){for(var r=[],o=0,a=t.length;o<a;o++){var s=t[o],l=Ze(s,i.rowKey),u=this.treeDataMap.get(l);u.level===0&&r.push(s)}return r}},{key:"getTreeExpandedRow",value:function(t,i){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"data",a=[];return t.forEach(function(s){var l=Ze(s,i.rowKey),u=r.treeDataMap.get(l);u.expanded&&(o==="unique"?a.push(l):o==="data"?a.push(s):a.push(u))}),a}},{key:"initialTreeDataMap",value:function(t,i,r,o){for(var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=0,u=i.length;l<u;l++){var c=i[l],d=eu(c,o.rowKey);if(Nr(d)){Yt.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");return}var f=Ze(c,o.childrenKey),h={id:d,row:c,rowIndex:a===0?l:-1,level:a,expanded:!1,expandChildrenLength:0,disabled:Mk(r,c,l),parent:s};h.path=s?s.path.concat(h):[h],t.set(d,h),f!=null&&f.length&&this.initialTreeDataMap(t,f,r,o,a+1,h)}}},{key:"updateDisabledState",value:function(t,i,r){for(var o=0,a=t.length;o<a;o++){var s=t[o],l=Ze(s,r.rowKey);if(Nr(l)){Yt.error("EnhancedTable","`rowKey` could be wrong, can not get rowValue from `data` by `rowKey`.");return}var u=this.treeDataMap.get(l);u.disabled=Mk(i,s,o),this.treeDataMap.set(l,u);var c=Ze(s,r.childrenKey);c!=null&&c.length&&this.updateDisabledState(c,i,r)}}},{key:"validateDataExist",value:function(t,i){return t?!0:(Yt.warn("EnhancedTable","".concat(i," does not exist.")),!1)}},{key:"validateDataDoubleExist",value:function(t,i){return t?(Yt.warn("EnhancedTable","Duplicated Key. ".concat(i," already exists.")),!1):!0}}])}();function lv(n,e,t,i,r){for(var o=e;o;){var a,s=n.get(Ze(o,r.rowKey)),l=(s.expandChildrenLength||0)+t;s.expandChildrenLength=Math.max(0,l),o=s==null||(a=s.parent)===null||a===void 0?void 0:a.row}i==="fold"&&Y7(n,e,r)}function Y7(n,e,t){var i=Ze(e,t.childrenKey);i!=null&&i.length&&i.forEach(function(r){var o=n.get(Ze(r,t.rowKey));o&&(o.expandChildrenLength=0,Y7(n,o.row,t))})}function jk(n,e,t,i){var r=e.row,o=e.rowIndex,a=Ze(r,i.childrenKey);a.forEach(function(s,l){var u=Ze(s,i.rowKey),c=t?o+1+l:-1,d=n.get(u),f=dw(dw({},d),{},{row:s,rowIndex:c,expanded:!1,parent:e});if(n.set(u,f),!t){var h=Ze(s,i.childrenKey);h!=null&&h.length&&jk(n,dw(dw({},f),{},{rowIndex:-1,expanded:!1}),t,i)}})}function Z7(n,e,t,i){for(var r=0,o=n.length;r<o;r++){var a=n[r];if(Ze(a,i.rowKey)===e){n[r]=t;return}var s=Ze(a,i.childrenKey)||[];s!=null&&s.length&&Z7(s,e,t,i)}}function Fd(n,e,t){for(var i=t.minRowIndex||0,r=t.maxRowIndex||e.length,o=i;o<r;o++){var a=e[o],s=n.get(Ze(a,t.rowKey));s||Yt.warn("Table","tree map went wrong"),s.rowIndex=o+((t==null?void 0:t.count)||1)-1}}function MOe(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],i=[],r=new Map,o=new Map,a=0,s=n.length;a<s;a++)r.set(n[a],!0);for(var l=0,u=e.length;l<u;l++)o.set(e[l],!0);for(var c=0,d=n.length;c<d;c++)o.get(n[c])||i.push(n[c]);for(var f=0,h=e.length;f<h;f++)r.get(e[f])||t.push(e[f]);return{removedList:t,addedList:i}}function n4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function PE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function AOe(n,e){var t=e.store,i=e.dataSource,r=e.rowDataKeys,o=rt(n),a=o.data,s=o.expandedTreeNodes,l=o.tree,u=oe(!1),c=oe(!1),d=Gi(s,n.defaultExpandedTreeNodes,n.onExpandedTreeNodesChange,"expandedTreeNodes"),f=Je(d,2),h=f[0],v=f[1],g=oe({type:"props-change"});function p(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"expand-all",E=arguments.length>1?arguments[1]:void 0,P=E||a.value;i.value=t.value.expandAll(P,r.value);var D=i.value.map(function(k){return eu(k,r.value.rowKey)});v(D,{row:void 0,rowState:void 0,rowIndex:void 0,type:"expand",trigger:w}),g.value.type="expand-all"}function m(){i.value=Be(t.value.foldAll(i.value,r.value)),v([],{row:void 0,rowState:void 0,rowIndex:void 0,type:"fold",trigger:"fold-all"})}function b(w,E){var P,D=w.row,k=w.rowIndex;g.value=PE({type:"user-reaction-change"},w);var L=eu(D,r.value.rowKey),M=t.value.treeDataMap.get(L),A=Be(h.value);if(M.expanded){for(var j=t.value.getExpandedChildrenKeys([D],r.value),V=0,H=A.length;V<H;V++){var N=A[V];j.includes(N)&&(A[V]=void 0)}A=A.filter(Boolean)}else A.push(L);var F={row:D,rowIndex:k,rowState:M,trigger:E};v(A,PE(PE({},F),{},{type:M.expanded?"fold":"expand"})),(P=n.onTreeExpandChange)===null||P===void 0||P.call(n,F)}function C(w,E){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],D=MOe(E,P),k=D.addedList,L=D.removedList;return t.value.expandTreeNode(k,w,r.value),t.value.foldTreeNode(L,w,r.value),Be(w)}Pe([h,a],function(w,E){var P=Je(w,1),D=P[0],k=Je(E,1),L=k[0];if(!(!t.value.treeDataMap.size||!a.value.length)){if(g.value.type==="user-reaction-change"){var M=g.value||{},A=M.row,j=M.rowIndex;i.value=Be(t.value.toggleExpandData({row:A,rowIndex:j},Be(i.value),r.value))}else g.value.type==="props-change"&&C(i.value,D,L);g.value.type="props-change"}});var O=function(E){var P,D;(P=l.value)!==null&&P!==void 0&&P.defaultExpandAll&&!u.value?(p("default-expand-all",Be(E)),u.value=!0):(D=h.value)!==null&&D!==void 0&&D.length&&tn(function(){i.value=C(Be(E),h.value,[])})};return{tExpandedTreeNode:h,isDefaultExpandAllExecute:u,isDefaultExpandedTreeNodesExecute:c,expandAll:p,foldAll:m,onExpandFoldIconClick:b,updateExpandOnDataChange:O}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function i4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Fa(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ROe(n,e){var t=rt(n),i=t.data,r=t.columns,o=Dt("table",n.locale),a=o.t,s=o.globalConfig,l=On({AddRectangleIcon:tfe,MinusRectangleIcon:uhe}),u=l.AddRectangleIcon,c=l.MinusRectangleIcon,d=oe(new LOe),f=VC(),h=oe([]),v=Qo(),g=v.tableTreeClasses,p=us(),m=R(function(){var Y;return{rowKey:n.rowKey||"id",childrenKey:((Y=n.tree)===null||Y===void 0?void 0:Y.childrenKey)||"children"}}),b=AOe(n,{store:d,dataSource:h,rowDataKeys:m}),C=b.tExpandedTreeNode,O=b.isDefaultExpandAllExecute,w=b.isDefaultExpandedTreeNodesExecute,E=b.expandAll,P=b.foldAll,D=b.updateExpandOnDataChange,k=b.onExpandFoldIconClick,L=R(function(){return r.value.find(function(Y){return Y.colKey==="row-select"})});Pe(L,function(Y){d.value&&d.value.updateDisabledState(h.value,Y,m.value)});var M=function(te){var ae=Fa(Fa({},te),{},{type:"fold"}),le=a(s.value.treeExpandAndFoldIcon,At,ae)||x(c,null,null);return p("treeExpandAndFoldIcon",{defaultNode:le,params:ae})},A=function(te){var ae=Fa(Fa({},te),{},{type:"expand"}),le=a(s.value.treeExpandAndFoldIcon,At,ae)||x(u,null,null);return p("treeExpandAndFoldIcon",{defaultNode:le,params:ae})};Pe([i],function(){n.tree?j(i.value):h.value=i.value},{immediate:!0}),Ea(function(){var Y;n.tree&&((Y=d.value.treeDataMap)===null||Y===void 0||Y.clear(),d.value=null)}),Pe(function(){var Y;return[r,(Y=n.tree)===null||Y===void 0?void 0:Y.treeNodeColumnIndex]},function(){f.value=N()},{immediate:!0});function j(Y){var te,ae=n.columns,le=n.expandedTreeNodes,Q=n.defaultExpandedTreeNodes,ne=n.tree;d.value.initialTreeStore(Y,ae,m.value);var se=!!(!w.value&&(Q!=null&&Q.length)),de=!!(ne!=null&&ne.defaultExpandAll&&!O.value);(te=C.value)!==null&&te!==void 0&&te.length&&(le||se)||de?(D(Y),w.value=!0):h.value=Be(Y)}function V(Y){var te,ae;if(Y!==void 0){var le=((te=n.tree)===null||te===void 0?void 0:te.indent)===void 0?24:(ae=n.tree)===null||ae===void 0?void 0:ae.indent;return le?{paddingLeft:"".concat(Y*le||1,"px")}:{}}}function H(Y,te){var ae,le,Q=Fa({},Y);Y.row.VIRTUAL_SCROLL_INDEX!==void 0&&(Q.rowIndex=Y.row.VIRTUAL_SCROLL_INDEX),h.value=Be(d.value.toggleExpandData(Q,h.value,m.value));var ne=Ze(Y.row,m.value.rowKey),se=(ae=d.value)===null||ae===void 0||(ae=ae.treeDataMap)===null||ae===void 0?void 0:ae.get(ne);(le=n.onTreeExpandChange)===null||le===void 0||le.call(n,{row:Y.row,rowIndex:Y.rowIndex,rowState:se,trigger:te})}function N(){for(var Y,te=n.columns,ae=((Y=n.tree)===null||Y===void 0?void 0:Y.treeNodeColumnIndex)||0;(le=te[ae])!==null&&le!==void 0&&le.type||((Q=te[ae])===null||Q===void 0?void 0:Q.colKey)==="__EXPAND_ROW_ICON_COLUMN__";){var le,Q;ae+=1}return te[ae]}function F(Y){if(!n.tree||Y.colKey!==f.value.colKey)return Y;var te=Fa({},f.value);return te.cell=function(ae,le){var Q=O0(Fa(Fa({},le),{},{col:Fa({},f.value)}),e.slots,{cellEmptyContent:n.cellEmptyContent}),ne=d.value.treeDataMap.get(Ze(le.row,m.value.rowKey)),se=V(ne==null?void 0:ne.level),de=X({},g.inlineCol,!!Y.ellipsis),he=Ze(le.row,m.value.childrenKey);if(he&&he instanceof Array||he===!0){var ge,Se=(ge=d.value.treeDataMap.get(Ze(le.row,m.value.rowKey)))!==null&&ge!==void 0&&ge.expanded?M(le):A(le);return x("div",{class:[g.col,de],style:se},[!!(he.length||he===!0)&&x("span",{class:g.icon,onClick:function(Ce){k(le,"expand-fold-icon"),Ce.stopPropagation()}},[Se]),Q])}return x("div",{style:se,class:[de,g.leafNode]},[x("span",{class:g.icon},null),Q])},te.ellipsis===!0&&(te.ellipsis=function(ae,le){return O0(Fa(Fa({},le),{},{col:Fa({},f.value)}),e.slots)}),te}function W(Y,te){var ae=d.value.updateData(Y,te,h.value,m.value),le=Be(h.value);le[ae]=te,h.value=le}function U(Y){return d.value.getData(Y)}function q(Y){h.value=Be(d.value.remove(Y,h.value,m.value))}function Z(Y){h.value=Be(d.value.removeChildren(Y,h.value,m.value))}function z(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",te=arguments.length>1?arguments[1]:void 0;if(!Y){h.value=d.value.appendToRoot(te,h.value,m.value);return}h.value=Be(d.value.appendTo(Y,te,h.value,m.value))}function ie(Y,te){h.value=Be(d.value.insertAfter(Y,te,h.value,m.value))}function ee(Y,te){h.value=Be(d.value.insertBefore(Y,te,h.value,m.value))}function K(Y){var te=d.value.swapData(h.value,Y,m.value);if(te.result)h.value=Be(te.dataSource);else{var ae,le={code:te.code,reason:te.reason};(ae=n.onAbnormalDragSort)===null||ae===void 0||ae.call(n,le)}}function J(){return d.value.getTreeNode(h.value,m.value)}function $(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data";return d.value.getTreeExpandedRow(h.value,m.value,Y)}return{store:d,rowDataKeys:m,dataSource:h,swapData:K,setData:W,getData:U,remove:q,removeChildren:Z,appendTo:z,insertAfter:ie,insertBefore:ee,formatTreeColumn:F,toggleExpandData:H,expandAll:E,foldAll:P,getTreeNode:J,resetData:j,getTreeExpandedRow:$,onExpandFoldIconClick:k}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function r4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Hk=new Map;function Sm(n,e,t,i){if(Hk.get(e))return Hk.get(e);var r=i||{allChildren:[],allChildrenKeys:[],leafNodeKeys:[]},o=Ze(e,t.childrenKey);if(!o||!o.length)return r;var a=o.filter(function(m){var b;return!((b=n.get(Ze(m,t.rowKey)))!==null&&b!==void 0&&b.disabled)});r.allChildren=Be(new Set(r.allChildren.concat(a)));for(var s=0,l=o.length;s<l;s++){var u=o[s],c=Ze(u,t.childrenKey);if(c!=null&&c.length){var d=Sm(n,u,t,r);r.allChildren=Be(new Set(r.allChildren.concat(d.allChildren)))}}for(var f=0,h=r.allChildren.length;f<h;f++){var v=r.allChildren[f],g=Ze(v,t.childrenKey),p=Ze(v,t.rowKey);r.allChildrenKeys.push(p),(!g||!g.length)&&r.leafNodeKeys.push(p)}return r.allChildrenKeys=Be(new Set(r.allChildrenKeys)),r.leafNodeKeys=Be(new Set(r.leafNodeKeys)),r}function NOe(n,e){for(var t=n.selectedRowKeys,i=n.removeKeys,r={data:[],keys:[]},o=0,a=t.length;o<a;o++){var s=t[o];i.includes(s)||r.keys.push(s)}return r}function FOe(n){for(var e=n.treeDataMap,t=n.selectedRowKeys,i=[],r=0,o=t.length;r<o;r++){var a=t[r];i.push(e.get(a))}return i}function jOe(n,e){var t=rt(n),i=t.selectedRowKeys,r=t.tree,o=t.data,a=t.indeterminateSelectedRowKeys,s=oe([]),l=Gi(i,n.defaultSelectedRowKeys||[],n.onSelectChange,"selectedRowKeys"),u=Je(l,2),c=u[0],d=u[1],f=R(function(){var b;return{rowKey:n.rowKey||"id",childrenKey:((b=n.tree)===null||b===void 0?void 0:b.childrenKey)||"children"}});Pe([r,e,o,c],function(b){var C=Je(b,2),O=C[0],w=C[1];!O||!w.size||O.checkStrictly||h()});function h(){if(!(!r.value||r.value.checkStrictly)){if(!c.value.length){s.value=[];return}for(var b=[],C={},O=0,w=c.value.length;O<w;O++){var E=c.value[O],P=e.value.get(E);if(P){var D=Ze(P.row,f.value.childrenKey);if(!D||!D.length)for(var k=P.parent;k;){C[k.id]||(C[k.id]=[]),C[k.id].push(P.row);var L=C[k.id].length,M=Sm(e.value,k.row,f.value),A=M.allChildrenKeys,j=b.indexOf(k.id),V=c.value.indexOf(k.id);L>0&&L<A.length&&V===-1?j===-1&&b.push(k.id):j!==-1&&b.splice(j,1),k=k.parent}}}s.value=b}}function v(b,C,O){if(!(!r.value||r.value.checkStrictly)){for(var w=Be(b),E=e.value.get(C),P=E.parent;P;){var D=Sm(e.value,P.row,f.value),k=D.leafNodeKeys,L=oh(k,b),M=w.indexOf(P.id);O==="uncheck"?M!==-1&&w.splice(M,1):L.length===k.length&&M===-1&&w.push(P.id),P=P.parent}return w}}function g(b,C){if(!r.value||r.value.checkStrictly){d(b,C);return}C.currentRowKey==="CHECK_ALL_BOX"?p(C):m(b,C)}function p(b){var C=[],O=[];if(b.type==="check")for(var w=Be(e.value.values()),E=0,P=w.length;E<P;E++){var D=w[E];D.disabled||(O.push(D.row),C.push(Ze(D.row,f.value.rowKey)))}var k=fw(fw({},b),{},{selectedRowData:O||[]});d(C,k)}function m(b,C){var O,w=Be(b);if(((O=n.tree)===null||O===void 0?void 0:O.checkStrictly)===!1){if((C==null?void 0:C.type)==="check"){var E=Sm(e.value,C.currentRowData,f.value),P=E.allChildrenKeys;Hk.set(C.currentRowData,E),w=Be(new Set(w.concat(P)))}else if((C==null?void 0:C.type)==="uncheck"){var D=Sm(e.value,C.currentRowData,f.value),k=NOe({selectedRowKeys:b,removeKeys:D.allChildrenKeys});w=k.keys}}w=v(w,C.currentRowKey,C.type);var L=FOe({treeDataMap:e.value,selectedRowKeys:w}),M=fw(fw({},C),{},{selectedRowData:L});d(w,M)}return{tIndeterminateSelectedRowKeys:a.value?a:s,onInnerSelectChange:g}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var HOe=["store","dataSource","formatTreeColumn","swapData","onExpandFoldIconClick"];function o4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Gs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var BOe=pe({name:"TEnhancedTable",props:Gs(Gs(Gs({},$g),I7),IOe),setup:function(e,t){var i=oe(null),r=ROe(e,t),o=r.store,a=r.dataSource,s=r.formatTreeColumn,l=r.swapData,u=r.onExpandFoldIconClick,c=Gu(r,HOe),d=we(),f=oe(o.value.treeDataMap),h=jOe(e,f),v=h.tIndeterminateSelectedRowKeys,g=h.onInnerSelectChange,p=function(P){for(var D=[],k=0,L=P.length;k<L;k++){var M,A,j=Gs({},P[k]);j=s(j),(M=j.children)!==null&&M!==void 0&&M.length&&(j.children=p(j.children)),(!j.children||(A=j.children)!==null&&A!==void 0&&A.length)&&D.push(j)}return D},m=R(function(){var E=!e.tree||!Object.keys(e.tree).length;return E?e.columns:p(e.columns)}),b=function(P){var D;e.beforeDragSort&&!e.beforeDragSort(P)||(l({current:P.current,target:P.target,currentIndex:P.currentIndex,targetIndex:P.targetIndex}),(D=e.onDragSort)===null||D===void 0||D.call(e,P))},C=function(P){var D,k;(D=e.tree)!==null&&D!==void 0&&D.expandTreeNodeOnClick&&u({row:P.row,rowIndex:P.index},"row-click"),(k=e.onRowClick)===null||k===void 0||k.call(e,P)},O=function(P,D){if(!P)return-1;if(P.rowIndex>=0)return P.rowIndex;if(P.rowIndex<0)return O(P.parent)},w=function(P){var D=P.index;if(!D&&D!==0){if(!P.key){Yt.error("Table","scrollToElement: one of `index` or `key` must exist.");return}var k=f.value.get(P.key);D=O(k,P.key),(D<0||D===void 0)&&Yt.error("Table","".concat(P.key," does not exist in data, check `rowKey` or `data` please."))}i.value.scrollToElement(Gs(Gs({},P),{},{index:D}))};return t.expose(Gs(Gs({store:o.value,dataSource:a.value},c),{},{primaryTableRef:i,validateRowData:function(P){return i.value.validateRowData(P)},validateTableData:function(){return i.value.validateTableData()},clearValidateData:function(){i.value.clearValidateData()},refreshTable:function(){i.value.refreshTable()},scrollToElement:w})),function(){var E,P=Ui(),D=P.vnode,k=Gs(Gs({},D.props),{},{rowKey:e.rowKey||"id",data:a.value,columns:m.value,indeterminateSelectedRowKeys:v.value,disableDataPage:!!(e.tree&&Object.keys(e.tree).length)||e.disableDataPage,onSelectChange:g,onDragSort:b,rowClassName:function(M){var A=M.row,j=Ze(A,e.rowKey||"id"),V=f.value.get(j);return V?["".concat(d.value,"-table-tr--level-").concat(V.level),e.rowClassName]:[e.rowClassName]}});return(E=e.tree)!==null&&E!==void 0&&E.expandTreeNodeOnClick&&(k.onRowClick=C),x(AM,He(k,{ref:i}),t.slots)}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var $Oe=Ye(T7),VOe=Ye(AM),WOe=Ye(BOe),zOe=Zo(AM),Ip=Ye(zOe,"TTable");/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var UOe={labelAlign:{type:String,default:"left",validator:function(e){return e?["left","right","alternate","top","bottom"].includes(e):!0}},layout:{type:String,default:"vertical",validator:function(e){return e?["horizontal","vertical"].includes(e):!0}},mode:{type:String,default:"alternate",validator:function(e){return e?["alternate","same"].includes(e):!0}},reverse:Boolean,theme:{type:String,default:"default",validator:function(e){return e?["default","dot"].includes(e):!0}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var hw={vertical:["left","right"],horizontal:["top","bottom"]},X7=Symbol("timeLineProvide"),KOe=R(function(){return{theme:"default",reverse:!1,itemsStatus:[],layout:"horizontal",renderAlign:"left",mode:"alternate"}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var qOe={content:{type:[String,Function]},dot:{type:Function},dotColor:{type:String,default:"primary"},label:{type:[String,Function]},labelAlign:{type:String,validator:function(e){return e?["left","right","top","bottom"].includes(e):!0}},loading:Boolean,onClick:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function a4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function s4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var l4=["default","primary","success","warning","error"],J7=pe({name:"TTimelineItem",props:s4(s4({},qOe),{},{index:{type:Number}}),setup:function(e){var t=we("timeline-item"),i=bn(X7,KOe),r=Mn(),o=ft(),a=function(u){var c,d=i.value,f=d.layout,h=d.renderAlign,v=(c=e.labelAlign)!==null&&c!==void 0?c:h,g=f==="horizontal"?"top":"left",p=f==="horizontal"?"bottom":"right";return v==="alternate"?u%2===0?"".concat(t.value,"-").concat(g):"".concat(t.value,"-").concat(p):v==="left"||v==="top"?"".concat(t.value,"-").concat(g):v==="right"||v==="bottom"?"".concat(t.value,"-").concat(p):""},s=function(u){var c;(c=e.onClick)===null||c===void 0||c.call(e,{e:u,item:br(e,["index"])})};return function(){var l=i.value,u=l.mode,c=l.theme,d=l.itemsStatus,f=l.reverse,h=e.loading,v=e.dotColor,g=e.index,p=o("label"),m=o("dot"),b="".concat(t.value,"__dot-content");if(m!=null&&m.props){var C,O=m==null||(C=m.props)===null||C===void 0?void 0:C.class;m.props.class=O?[b,O].join(" "):b}return x("li",{class:["".concat(t.value),"".concat(a(e.index))],onClick:s},[u==="alternate"&&p&&x("div",{class:["".concat(t.value,"__label"),"".concat(t.value,"__label--").concat(u)]},[p]),x("div",{class:"".concat(t.value,"__wrapper")},[x("div",{class:X(X(X({},"".concat(t.value,"__dot"),!0),"".concat(t.value,"__dot--custom"),!!m||!m&&h),"".concat(t.value,"__dot--").concat(v),l4.includes(v)),style:{borderColor:!l4.includes(v)&&v}},[!m&&h&&x(ar,{size:"12px",class:b},null),m]),x("div",{class:X(X(X({},"".concat(t.value,"__tail"),!0),"".concat(t.value,"__tail--theme-").concat(c),!0),"".concat(t.value,"__tail--status-").concat(d[g]),f)},null)]),x("div",{class:"".concat(t.value,"__content")},[r("default","content"),u==="same"&&p&&x("div",{class:["".concat(t.value,"__label"),"".concat(t.value,"__label--").concat(u)]},[p])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var GOe=pe({name:"TTimeline",props:UOe,setup:function(e){var t=we("timeline"),i=R(function(){var a=e.labelAlign,s=e.layout,l=s==="vertical"?"left":"top";if(s==="vertical"&&a){var u=hw.horizontal.indexOf(a),c=u!==-1;c&&Yt.warn("Timeline",'If layout is vertical, align should be "left","alternate" or "right" '),l=c?hw.vertical[u]:a}if(s==="horizontal"&&a){var d=hw.vertical.indexOf(a),f=d!==-1;f&&Yt.warn("Timeline",'If layout is horizontal, align should be "top","alternate" or "bottom" '),l=f?hw.horizontal[d]:a}return l}),r=R(function(){var a=e.theme,s=e.reverse,l=e.layout,u=e.labelAlign,c=e.mode;return{theme:a,reverse:s,itemsStatus:[""],layout:l,globalAlign:u,mode:c,renderAlign:i.value}}),o=1;return Xn(X7,r),function(){var a=Rl(),s=a("TTimelineItem");return e.reverse&&(s=s.reverse()),x("ul",{class:["".concat(t.value),X(X(X(X(X({},"".concat(t.value,"-").concat(i.value),!0),"".concat(t.value,"-reverse"),e.reverse),"".concat(t.value,"-").concat(e.layout),!0),"".concat(t.value,"-label"),o),"".concat(t.value,"-label--").concat(e.mode),!0)]},[s.map(function(l,u){return x(J7,He(l.props,{index:u,class:X({},"".concat(t.value,"-item--last"),u===s.length-1)}),l.children)})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var YOe=Ye(GOe),ZOe=Ye(J7);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var XOe={borderless:Boolean,defaultExpandAll:Boolean,disabled:Boolean,expandIcon:{type:[Boolean,Function],default:!0},expandIconPlacement:{type:String,default:"left",validator:function(e){return e?["left","right"].includes(e):!0}},expandMutex:Boolean,expandOnRowClick:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var JOe=pe({name:"TCollapse",props:XOe,setup:function(e){var t=we("collapse"),i=we("-border-less"),r=ft(),o=rt(e),a=o.value,s=o.expandMutex,l=o.borderless,u=o.modelValue,c=Nn(a,u,e.defaultValue,e.onChange),d=Je(c,2),f=d[0],h=d[1],v=function(b){var C=[].concat(f.value||[]),O=C.indexOf(b);O>=0?C.splice(O,1):s.value?C=[b]:C.push(b),h(C)},g=R(function(){return[t.value,X({},i.value,!!l.value)]}),p=function(){var m=0;return function(){return m++}}();return Xn("collapseValue",f),Xn("updateCollapseValue",v),Xn("collapseProps",rt(e)),Xn("getUniqId",p),Xn("renderParentTNode",r),function(){var m=r("default");return x("div",{class:g.value},[m])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var QOe={content:{type:[String,Function]},default:{type:[String,Function]},destroyOnCollapse:Boolean,disabled:{type:Boolean,default:void 0},expandIcon:{type:[Boolean,Function],default:void 0},header:{type:[String,Function]},headerRightContent:{type:[String,Function]},value:{type:[String,Number]}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function exe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var txe=pe({name:"TCollapsePanel",props:QOe,setup:function(e,t){var i=t.slots,r=ft(),o=Mn(),a=we("collapse-panel"),s=we("is-disabled"),l=we("is-clickable"),u=we("slide-down"),c=rt(e),d=c.value,f=c.disabled,h=c.destroyOnCollapse,v=bn("collapseValue"),g=bn("updateCollapseValue"),p=bn("getUniqId",function(){},!1),m=bn("collapseProps"),b=m.defaultExpandAll,C=m.disabled,O=m.expandIconPlacement,w=m.expandOnRowClick,E=bn("renderParentTNode"),P=d.value||p();b.value&&g(P);var D=LU(),k=D.beforeEnter,L=D.enter,M=D.afterEnter,A=D.beforeLeave,j=D.leave,V=D.afterLeave,H=oe(),N=R(function(){return f.value||C.value}),F=R(function(){return v.value instanceof Array?v.value.includes(P):v.value===P}),W=R(function(){return[a.value,X({},s.value,N.value)]}),U=R(function(){return i.expandIcon||e.expandIcon}),q=function(le){var Q=w.value||le.currentTarget===H.value;Q&&!N.value&&g(P),le.stopPropagation()},Z=function(le){le.stopPropagation()},z=function(){return x(df,{overlayClassName:"".concat(a.value,"__icon--default")},null)},ie=function(){var le=U.value===void 0?E:r;return x("div",{ref:H,class:"".concat(a.value,"__icon ").concat(a.value,"__icon--").concat(O.value," ").concat(F.value?"".concat(a.value,"__icon--active"):""),onClick:q},[le("expandIcon",z())])},ee=function(){return x("div",{class:"".concat(a.value,"__header--blank")},null)},K=function(){var le=r("headerRightContent");return le?x("div",{onClick:Z},[le]):null},J=function(){var le=["".concat(a.value,"__header"),X({},l.value,w.value&&!N.value)];return x("div",{class:le,onClick:q},[O.value==="left"&&ie(),r("header"),ee(),K(),O.value==="right"&&ie()])},$=function(){return Du(x("div",{class:"".concat(a.value,"__body")},[x("div",{class:"".concat(a.value,"__content")},[o("default","content")])]),[[ld,F.value]])},Y=function(){return F.value?x("div",{class:"".concat(a.value,"__body")},[x("div",{class:"".concat(a.value,"__content")},[o("default","content")])]):null},te=function(){return h.value?Y():$()};return function(){var ae;return x("div",{class:W.value},[x("div",{class:"".concat(a.value,"__wrapper")},[J(),x(sd,{name:u.value,onBeforeEnter:k,onEnter:L,onAfterEnter:M,onBeforeLeave:A,onLeave:j,onAfterLeave:V},exe(ae=te())?ae:{default:function(){return[ae]}})])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var RM=Ye(JOe),NM=Ye(txe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var nxe={alpha:{type:Number,default:1},content:{type:[String,Function]},default:{type:[String,Function]},height:{type:Number},isRepeat:{type:Boolean,default:!0},lineSpace:{type:Number,default:16},movable:Boolean,moveInterval:{type:Number,default:3e3},offset:{type:Array},removable:{type:Boolean,default:!0},rotate:{type:Number,default:-22},watermarkContent:{type:[Object,Array]},width:{type:Number},x:{type:Number},y:{type:Number},zIndex:{type:Number}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function u4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ixe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rxe(n,e){var t=n.width,i=n.height,r=n.gapX,o=n.gapY,a=n.offsetLeft,s=n.offsetTop,l=n.rotate,u=n.alpha,c=n.watermarkContent,d=n.lineSpace,f=document.createElement("canvas"),h=f.getContext("2d");if(!h){console.warn("当前环境不支持Canvas, 无法绘制水印"),e("");return}var v=window.devicePixelRatio||1,g=(r+t)*v,p=(o+i)*v;f.width=g,f.height=p,f.style.width="".concat(r+t,"px"),f.style.height="".concat(o+i,"px"),h.translate(a*v,s*v),h.rotate(Math.PI/180*Number(l)),h.globalAlpha=u;var m=t*v,b=i*v;h.fillStyle="transparent",h.fillRect(0,0,m,b);var C=Array.isArray(c)?c:[ixe({},c)],O=0;C.forEach(function(w){if(w.url){var E=w.url,P=w.isGrayscale,D=P===void 0?!1:P;w.top=O,O+=i;var k=new Image;k.crossOrigin="anonymous",k.referrerPolicy="no-referrer",k.src=E,k.onload=function(){if(h.drawImage(k,0,w.top*v,t*v,i*v),D){for(var q=h.getImageData(0,0,h.canvas.width,h.canvas.height),Z=q.data,z=0;z<Z.length;z+=4){var ie=(Z[z]+Z[z+1]+Z[z+2])/3;Z[z]=ie,Z[z+1]=ie,Z[z+2]=ie}h.putImageData(q,0,0)}e(f.toDataURL())}}else if(w.text){var L=w.text,M=w.fontColor,A=M===void 0?"rgba(0, 0, 0, 0.1)":M,j=w.fontSize,V=j===void 0?16:j,H=w.fontFamily,N=H===void 0?void 0:H,F=w.fontWeight,W=F===void 0?"normal":F;w.top=O,O+=d;var U=Number(V)*v;h.font="normal normal ".concat(W," ").concat(U,"px/").concat(b,"px ").concat(N),h.textAlign="start",h.textBaseline="top",h.fillStyle=A,h.fillText(L,0,w.top*v)}}),e(f.toDataURL())}function oxe(){var n=Math.floor(Math.random()*4),e=Math.floor(Math.random()*70)+30,t=0,i=95,r=90,o=`
  @keyframes watermark {
    0%   {left: `.concat(n===1?r:n===3?t:e,"%; top: ").concat(n===0?t:n===2?i:e,`%;}
    25% {left: `).concat(n===0?r:n===2?t:100-e,"%; top: ").concat(n===1?i:n===3?t:e,`%;}
    50% {left: `).concat(n===1?t:n===3?r:100-e,"%; top: ").concat(n===0?i:n===2?t:100-e,`%; transform: translateX(-100%);}
    75% {left: `).concat(n===0?t:n===2?r:e,"%; top: ").concat(n===1?t:n===3?i:100-e,`%;}
    100% {left: `).concat(n===1?r:n===3?t:e,"%; top: ").concat(n===0?t:n===2?i:e,`%;}
  }
  `);return o}var axe=function(e){var t=document.createElement("style"),i=null;document.head.appendChild(t),i=t.sheet,i.insertRule(e,i.cssRules.length)};function sxe(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=lxe(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var u=t.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw o}}}}function lxe(n,e){if(n){if(typeof n=="string")return c4(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c4(n,e):void 0}}function c4(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}var uxe=pe({name:"TWatermark",props:nxe,setup:function(e){var t=oe(""),i=VC(),r=VC(),o=$n(e.offset||[]),a=R(function(){return e.movable?0:e.x}),s=R(function(){return e.movable?0:e.y}),l=R(function(){return e.movable?0:e.rotate}),u=R(function(){return e.movable?"no-repeat":e.isRepeat?"repeat":"no-repeat"}),c=R(function(){return o[0]||a.value/2}),d=R(function(){return o[1]||s.value/2}),f=R(function(){return{width:e.width,height:e.height,rotate:l.value,lineSpace:e.lineSpace,alpha:e.alpha,gapX:a.value,gapY:s.value,watermarkContent:e.watermarkContent,offsetLeft:c.value,offsetTop:d.value}}),h=function(){r.value&&(r.value.remove(),r.value=null)},v=function(){if(rxe(f.value,function(m){var b;h(),t.value=m,r.value=document.createElement("div"),kl(r.value,{zIndex:e.zIndex,position:"absolute",left:0,right:0,top:0,bottom:0,width:"100%",height:"100%",backgroundSize:"".concat(a.value+e.width,"px"),pointerEvents:"none",backgroundRepeat:u.value,backgroundImage:"url('".concat(t.value,"')"),animation:e.movable?"watermark infinite ".concat(e.moveInterval*4/60,"s"):"none"}),(b=i.value)===null||b===void 0||b.append(r.value)}),e.movable){var p=oxe();axe(p)}};return mt(function(){v(),VK(i.value,function(g){if(!(e.removable||!r.value)){var p=sxe(g),m;try{for(p.s();!(m=p.n()).done;){var b=m.value,C=Array.from(b.removedNodes).includes(r.value),O=b.type==="attributes"&&r.value===b.target;if(C||O){v();break}}}catch(w){p.e(w)}finally{p.f()}}},{attributes:!0,childList:!0,characterData:!0,subtree:!0})}),Pe(function(){return e},v,{deep:!0,flush:"post"}),function(){var g=we("watermark"),p=Mn();return x("div",{style:{position:"relative",overflow:"hidden",width:"100%"},class:g.value,ref:i},[p("default","content")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var cxe=Ye(uxe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var dxe={allowHalf:Boolean,clearable:Boolean,color:{type:[String,Array],default:"#ED7B2F"},count:{type:Number,default:5},disabled:{type:Boolean,default:void 0},gap:{type:Number,default:4},icon:{type:Function},showText:Boolean,size:{type:String,default:"24px"},texts:{type:Array,default:function(){return[]}},value:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultValue:{type:Number,default:0},onChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var fxe=pe({name:"TRate",props:dxe,setup:function(e,t){var i=t.slots,r=ft(),o=Dt("rate"),a=o.globalConfig,s=ut(e.color)?e.color[0]:e.color,l=ut(e.color)?e.color[1]:"var(--td-bg-color-component)",u=rt(e),c=u.value,d=u.modelValue,f=Nn(c,d,e.defaultValue,e.onChange),h=Je(f,2),v=h[0],g=h[1],p=oe(void 0),m=oe(),b=R(function(){return Number(p.value||v.value)}),C=R(function(){return e.texts.length===0?a.value.rateText:e.texts}),O=R(function(){return C.value[Math.ceil(b.value-1)]}),w=function(V){return i.icon!==void 0?r("icon",{params:V}):x(Phe,V,null)},E=function(V,H){if(e.allowHalf){var N=m.value.getBoundingClientRect(),F=N.left,W=m.value.firstChild.nextSibling,U=W.getBoundingClientRect(),q=U.width,Z=V.clientX,z=q*(H-.5)+e.gap*(H-1);if(Z-F>=z)return H;if(Z-F<z)return H-.5}return H},P=function(V,H){e.disabled||(p.value=E(V,H))},D=function(){e.disabled||(p.value=void 0)},k=function(V,H){if(!e.disabled){var N=E(V,H);e.clearable&&N===v.value?(p.value=void 0,g(0)):g(N)}},L=function(V){if(e.allowHalf&&V+.5===b.value)return"".concat(A.value,"-rate__item--half");if(V>=b.value)return"";if(V<b.value)return"".concat(A.value,"-rate__item--full")},M=Dt("classPrefix"),A=M.classPrefix;return function(){return x("div",{class:"".concat(A.value,"-rate"),onMouseleave:D},[x("ul",{class:"".concat(A.value,"-rate__list"),style:{gap:"".concat(e.gap,"px")},ref:m},[Be(Array(Number(e.count))).map(function(j,V){return x("li",{key:V,class:["".concat(A.value,"-rate__item"),L(V)],onClick:function(N){return k(N,V+1)},onMousemove:function(N){return P(N,V+1)}},[e.showText?x(So,{key:V,content:O.value},{default:function(){return[x("div",{class:"".concat(A.value,"-rate__star-top")},[x(w,{size:e.size,color:s},null)]),x("div",{class:"".concat(A.value,"-rate__star-bottom")},[x(w,{size:e.size,color:l},null)])]}}):x(Ft,null,[x("div",{class:"".concat(A.value,"-rate__star-top")},[x(w,{size:e.size,color:s},null)]),x("div",{class:"".concat(A.value,"-rate__star-bottom")},[x(w,{size:e.size,color:l},null)])])])})]),e.showText&&x("div",{class:"".concat(A.value,"-rate__text")},[O.value])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var hxe=Ye(fxe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var vxe={code:Boolean,content:{type:[String,Function]},copyable:{type:[Boolean,Object],default:!1},default:{type:[String,Function]},delete:Boolean,disabled:Boolean,ellipsis:{type:[Boolean,Object],default:!1},italic:Boolean,keyboard:Boolean,mark:{type:[String,Boolean],default:!1},strong:Boolean,theme:{type:String,validator:function(e){return e?["primary","secondary","success","warning","error"].includes(e):!0}},underline:Boolean};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var gxe="Copy to clipboard: #{key}, Enter",pxe=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)},mxe=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,i=[],r=0;r<e.rangeCount;r++)i.push(e.getRangeAt(r));var o=t.tagName.toUpperCase();switch(o){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||i.forEach(function(a){e.addRange(a)}),t&&t.focus()}},bxe=function(e,t){var i,r,o,a,s,l=!1;t||(t={});try{r=mxe(),o=document.createRange(),a=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.style.all="unset",s.style.position="fixed",s.style.top="0",s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(c){c.stopPropagation(),t.format&&(c.preventDefault(),c.clipboardData.clearData(),c.clipboardData.setData(t.format,e)),t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))}),document.body.appendChild(s),o.selectNodeContents(s),a.addRange(o);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch{try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch{i=pxe("message"in t?t.message:gxe),window.prompt(i,e)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(o):a.removeAllRanges()),s&&document.body.removeChild(s),r()}return l};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Q7={content:{type:[String,Function]},default:{type:[String,Function]},ellipsis:{type:[Boolean,Object],default:!1}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function d4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function f4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function yxe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var FM=pe({name:"TEllipsis",components:{TTooltip:So},props:f4({},Q7),setup:function(e,t){var i=t.slots,r=we("typography"),o=Dt("typography"),a=o.globalConfig,s=R(function(){return e.content||(i==null?void 0:i.default())}),l=R(function(){var v=e.ellipsis;return f4({row:1,expandable:!1},kn(v)==="object"?v:null)}),u=R(function(){var v=l.value,g={overflow:e.ellipsis?"hidden":"visible",textOverflow:e.ellipsis?"ellipsis":"initial",whiteSpace:e.ellipsis?"normal":"nowrap",display:"-webkit-box",WebkitLineClamp:v.row,WebkitBoxOrient:"vertical"};return c.value&&(g.overflow="visible",g.whiteSpace="normal",g.display="initial"),g}),c=oe(!1),d=function(){var g,p;c.value=!0,kn(e.ellipsis)==="object"&&((g=(p=e.ellipsis).onExpand)===null||g===void 0||g.call(p,!0))},f=function(){var g,p;c.value=!1,kn(e.ellipsis)==="object"&&((g=(p=e.ellipsis).onExpand)===null||g===void 0||g.call(p,!1))},h=function(){var g=l.value.suffix,p=x("span",{class:"".concat(r.value,"-ellipsis-symbol"),onClick:d,style:"text-decoration:none;white-space:nowrap;flex: 1;"},[g||a.value.expandText]),m=l.value,b=m.tooltipProps,C=m.expandable,O=m.collapsible;if(!c.value&&C)return b&&b.content?x(So,He(b,{content:b.content}),yxe(p)?p:{default:function(){return[p]}}):p;if(C&&c.value&&O)return x("span",{class:"".concat(r.value,"-ellipsis-symbol"),onClick:f,style:"text-decoration:none;white-space:nowrap;flex: 1;"},[a.value.collapseText])};return function(){var v=l.value.tooltipProps;return x("div",{style:{display:"flex",alignItems:"flex-end"}},[v&&x(So,{content:v.content,placement:"top-right"},null),x("p",{style:e.ellipsis?u.value:{}},[s.value]),h()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function _xe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var eq=pe({name:"TTypographyText",props:vxe,setup:function(e,t){var i=t.slots,r=we("typography"),o=Dt("typography"),a=o.globalConfig,s=oe(!1),l=Mn(),u=function(m,b){var C=m.code,O=m.underline,w=m.delete,E=m.strong,P=m.keyboard,D=m.mark,k=m.italic,L=b;function M(A,j){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(A){var H=function(){return L}();L=x(j,{style:V},_xe(L)?L:{default:function(){return[H]}})}}return M(E,"strong"),M(O,"u"),M(w,"del"),M(C,"code"),M(D!==!1,"mark",D?{color:D}:{}),M(P,"kbd"),M(k,"i"),L},c=R(function(){var p=e.theme,m=e.disabled,b=r.value,C=[b];return m?C.push("".concat(b,"--disabled")):p&&["primary","secondary","success","warning","error"].includes(p)&&C.push("".concat(b,"--").concat(p)),C}),d=R(function(){var p,m=e.copyable;return s.value?a.value.copiedText:kn(m)==="object"?(p=m.tooltipProps)===null||p===void 0?void 0:p.content:null}),f=R(function(){return e.content||(i==null?void 0:i.default())}),h=function(){var m=e.copyable;if(m){var b=s.value?function(){return x(YL,null,null)}:function(){return x(Tfe,null,null)},C={theme:"default"},O=function(){};return kn(m)==="object"&&(m.suffix&&!s.value&&(b=m.suffix),m.tooltipProps&&(C=m.tooltipProps),typeof m.onCopy=="function"&&(O=m.onCopy)),x(So,He(C,{content:d.value}),{default:function(){return[x(Bt,{icon:b,shape:"square",theme:"primary",variant:"text",onClick:function(P){return g(P,O)}},null)]}})}},v=function(){if(typeof f.value=="string")return f.value;if(Array.isArray(f.value))return f.value.map(function(m){return m.children}).join("")},g=function(m,b){m.preventDefault(),m.stopPropagation(),s.value=!0,setTimeout(function(){s.value=!1},1500),bxe(v()),b==null||b()};return function(){var p=l("default","content");return e.ellipsis?x(FM,He(e,{class:c.value}),{default:function(){return[u(e,p),e.copyable?h():null]}}):x("span",{class:c.value},[u(e,p),e.copyable?h():null])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function wxe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var Cxe=pe({name:"TTypography",setup:function(){var e=ft();return function(){var t;return x(eq,null,wxe(t=e("default"))?t:{default:function(){return[t]}})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Sxe={content:{type:[String,Function]},default:{type:[String,Function]},ellipsis:{type:[Boolean,Object],default:!1},level:{type:String,default:"h1",validator:function(e){return e?["h1","h2","h3","h4","h5","h6"].includes(e):!0}}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Oxe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var xxe=pe({name:"TTypographyTitle",props:Sxe,setup:function(e){var t=we("typography"),i=Mn();return function(){var r,o=e.level,a=i("default","content");return e.ellipsis?x(FM,He(e,{class:t.value}),Oxe(r=At.apply(void 0,[o].concat(Be(a))))?r:{default:function(){return[r]}}):x(Ft,null,[At.apply(void 0,[o,{class:t.value}].concat(Be(a)))])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function h4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Exe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Pxe=pe({name:"TTypographyParagraph",components:{TTooltip:So},props:Exe({style:{type:Object,default:function(){return{}}}},Q7),setup:function(e,t){var i=t.slots,r=we("typography"),o=R(function(){return e.content||(i==null?void 0:i.default())});return function(){return e.ellipsis?x(FM,He(e,{class:r.value}),{default:function(){return[o.value]}}):x("p",{class:r.value},[o.value])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var kxe=Ye(Cxe),Dxe=Ye(eq),Txe=Ye(xxe),Ixe=Ye(Pxe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Lxe={close:{type:[String,Boolean,Function],default:!1},default:{type:[String,Function]},icon:{type:Function},maxLine:{type:Number,default:0},message:{type:[String,Function]},operation:{type:Function},theme:{type:String,default:"info",validator:function(e){return["success","info","warning","error"].includes(e)}},title:{type:[String,Function]},onClose:Function,onClosed:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Mxe=pe({name:"TAlert",props:Lxe,setup:function(e){var t=Dt("alert"),i=t.globalConfig,r=t.classPrefix,o=On({CheckCircleFilledIcon:Yu,CloseIcon:js,ErrorCircleFilledIcon:Al,HelpCircleFilledIcon:j9,InfoCircleFilledIcon:Gy}),a=o.CheckCircleFilledIcon,s=o.CloseIcon,l=o.ErrorCircleFilledIcon,u=o.HelpCircleFilledIcon,c=o.InfoCircleFilledIcon,d=we("alert"),f=ft(),h=Xge(),v=oe(null),g=oe(null),p=oe(0),m=oe(!0),b=oe(!0),C=function(){var A={info:c,success:a,warning:l,error:l,question:u},j=h("icon",A);return j?x("div",{class:"".concat(d.value,"__icon")},[j]):null},O=function(){var A=e.close,j=null;return A===!0||A===""?j=x(s,null,null):kt(A)?j=A:j=h("close"),j?x("div",{class:"".concat(d.value,"__close"),onClick:k},[j]):null},w=function(){var A=f("title");return A?x("div",{class:"".concat(d.value,"__title")},[" ",A]):null},E=function(){var A=f("operation");return x("div",{class:"".concat(d.value,"__message")},[P(),A?x("div",{class:"".concat(d.value,"__operation")},[A]):null])},P=function(){var A,j;j=f("default"),j||(j=f("message"));var V=ut(j)?j.length:1,H=e.maxLine>0&&e.maxLine<V,N=(A=g.value)===null||A===void 0||(A=A.children[0])===null||A===void 0?void 0:A.offsetHeight;return H&&b.value?(j=j.slice(0,e.maxLine),N&&(g.value.style.height="".concat(p.value,"px"))):H&&N&&(g.value.style.height="".concat(N*(V-e.maxLine)+p.value,"px")),x("div",{class:"".concat(d.value,"__description"),ref:g},[H?j.map(function(F){return x("div",null,[F])}):j,H?x("div",{class:"".concat(d.value,"__collapse"),onClick:function(){b.value=!b.value}},[b.value?i.value.expandText:i.value.collapseText]):null])},D=function(){return x("div",{class:"".concat(d.value,"__content")},[w(),E()])},k=function(A){var j;(j=e.onClose)===null||j===void 0||j.call(e,{e:A}),$b(v.value,"".concat(d.value,"--closing"))},L=function(A){var j=A.target===v.value;if(A.propertyName==="opacity"&&j){var V;m.value=!1,(V=e.onClosed)===null||V===void 0||V.call(e,{e:A})}};return mt(function(){ai(v.value,"transitionend",L),p.value=g.value.offsetHeight}),yi(function(){Tn(v.value,"transitionend",L)}),function(){return x("div",{ref:v,class:["".concat(d.value),"".concat(d.value,"--").concat(e.theme),X({},"".concat(r.value,"-is-hidden"),!m.value)]},[C(),D(),O()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var tq=Ye(Mxe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Axe={attach:{type:[String,Function]},body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function]},closeBtn:{type:[String,Boolean,Function]},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:{type:Boolean,default:void 0},confirmBtn:{type:[String,Object,Function]},default:{type:[String,Function]},destroyOnClose:Boolean,drawerClassName:{type:String,default:""},footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},mode:{type:String,default:"overlay",validator:function(e){return e?["overlay","push"].includes(e):!0}},placement:{type:String,default:"right",validator:function(e){return e?["left","right","top","bottom"].includes(e):!0}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},size:{type:String,default:void 0},sizeDraggable:{type:[Boolean,Object],default:!1},visible:Boolean,zIndex:{type:Number},onBeforeClose:Function,onBeforeOpen:Function,onCancel:Function,onClose:Function,onCloseBtnClick:Function,onConfirm:Function,onEscKeydown:Function,onOverlayClick:Function,onSizeDragEnd:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Rxe(n,e){return typeof n=="boolean"?{allowSizeDraggable:n,max:e.max,min:e.min}:{allowSizeDraggable:!0,max:n.max,min:n.min}}function vw(n,e,t){return Math.min(Math.max(n,e),t)}function Nxe(n,e){var t=e.x,i=e.y,r=e.max,o=e.min,a=e.maxWidth,s=e.maxHeight,l;switch(n){case"right":l=vw(a-t,o,r);break;case"left":l=vw(t,o,r);break;case"top":l=vw(i,o,r);break;case"bottom":l=vw(s-i,o,r);break;default:return l}return l}var Fxe=function(e){var t=oe(!1),i=oe(null),r=function(c){c.stopPropagation(),document.addEventListener("mouseup",o,!0),document.addEventListener("mousemove",a,!0),t.value=!0},o=function(){document.removeEventListener("mouseup",o,!0),document.removeEventListener("mousemove",a,!0),t.value=!1},a=function(c){var d,f=c.x,h=c.y,v=document.documentElement.clientHeight,g=document.documentElement.clientWidth,p=8,m=8,b=e.placement==="left"||e.placement==="right"?g:v,C=e.placement==="left"||e.placement==="right"?m:p,O=Rxe(e.sizeDraggable,{max:b,min:C}),w=O.allowSizeDraggable,E=O.max,P=O.min;if(!(!w||!t.value)){var D=Nxe(e.placement,{x:f,y:h,maxWidth:g,maxHeight:v,max:E,min:P});typeof D>"u"||(i.value="".concat(D,"px"),(d=e.onSizeDragEnd)===null||d===void 0||d.call(e,{e:c,size:D}))}},s=R(function(){var u=["right","left"].includes(e.placement),c={left:"right",right:"left",top:"bottom",bottom:"top"};return X(X(X(X({zIndex:1,position:"absolute",background:"transparent"},c[e.placement],0),"width",u?"16px":"100%"),"height",u?"100%":"16px"),"cursor",u?"col-resize":"row-resize")}),l=R(function(){return t.value?{userSelect:"none"}:{}});return{draggedSizeValue:i,enableDrag:r,draggableLineStyles:s,draggingStyles:l}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function v4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function g4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var jxe=1,nq=pe({name:"TDrawer",inheritAttrs:!1,props:Axe,emits:["update:visible"],setup:function(e,t){var i=oe(!1),r=oe(!1),o=oe(),a=oe(),s=Dt("drawer"),l=s.globalConfig,u=On({CloseIcon:js}),c=u.CloseIcon,d=ft(),f=Mn(),h=we("drawer"),v=Fxe(e),g=v.draggedSizeValue,p=v.enableDrag,m=v.draggableLineStyles,b=v.draggingStyles,C=dO(function(){return e.attach}),O=function(J){var $;($=e.onConfirm)===null||$===void 0||$.call(e,{e:J})},w=function(J){var $;($=e.onCancel)===null||$===void 0||$.call(e,{e:J}),ee({trigger:"cancel",e:J})},E=SM({confirmBtnAction:O,cancelBtnAction:w}),P=E.getConfirmBtn,D=E.getCancelBtn,k=oe(null),L=R(function(){return[h.value,"".concat(h.value,"--").concat(e.placement),X(X(X({},"".concat(h.value,"--open"),r.value),"".concat(h.value,"--attach"),e.showInAttachedElement),"".concat(h.value,"--without-mask"),!e.showOverlay),e==null?void 0:e.drawerClassName]}),M=R(function(){var K;if(g.value)return g.value;var J=(K=e.size)!==null&&K!==void 0?K:l.value.size,$=isNaN(Number(J))?J:"".concat(J,"px");return{small:"300px",medium:"500px",large:"760px"}[J]||$}),A=R(function(){return{transform:r.value?"translateX(0)":void 0,width:["left","right"].includes(e.placement)?M.value:"",height:["top","bottom"].includes(e.placement)?M.value:""}}),j=R(function(){return["".concat(h.value,"__content-wrapper"),"".concat(h.value,"__content-wrapper--").concat(e.placement)]}),V=R(function(){return k.value&&k.value.parentNode}),H=R(function(){return[e.mode,e.placement].join()}),N=R(function(){return{display:"flex",justifyContent:e.placement==="right"?"flex-start":"flex-end"}}),F=function(J){var $;if((($=e.closeOnEscKeydown)!==null&&$!==void 0?$:l.value.closeOnEscKeydown)&&J.key==="Escape"&&r.value){var Y;(Y=e.onEscKeydown)===null||Y===void 0||Y.call(e,{e:J}),ee({trigger:"esc",e:J})}},W=function(){clearTimeout(a.value),a.value=setTimeout(function(){var J,$;(J=o.value)===null||J===void 0||(J=J.parentNode)===null||J===void 0||($=J.removeChild)===null||$===void 0||$.call(J,o.value)},150)},U=function(){e.mode==="push"&&tn(function(){V.value&&(V.value.style.cssText="transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;")})},q=function(){if(V.value&&!(e.mode!=="push"||!V.value)){var J={left:"margin: 0 0 0 ".concat(M.value),right:"margin: 0 0 0 -".concat(M.value),top:"margin: ".concat(M.value," 0 0 0"),bottom:"margin: -".concat(M.value," 0 0 0")}[e.placement];r.value?V.value.style.cssText+=J:V.value.style.cssText=V.value.style.cssText.replace(/margin:.+;/,"")}},Z=function(){var J=P({confirmBtn:e.confirmBtn,globalConfirm:l.value.confirm,className:"".concat(h.value,"__confirm")}),$=D({cancelBtn:e.cancelBtn,globalCancel:l.value.cancel,className:"".concat(h.value,"__cancel")});return x("div",{style:N.value},[e.placement==="right"?J:null,$,e.placement!=="right"?J:null])};Pe(H,function(){U()},{immediate:!0}),Pe(function(){return e.visible},function(K){var J,$;Dl||(K?!e.showInAttachedElement&&e.preventScrollThrough&&o.value&&document.head.appendChild(o.value):W(),K?(J=e.onBeforeOpen)===null||J===void 0||J.call(e):($=e.onBeforeClose)===null||$===void 0||$.call(e),e.destroyOnClose?K?(i.value=!1,setTimeout(function(){r.value=!0})):(r.value=!1,setTimeout(function(){i.value=!0},200)):i.value===!0&&K?(i.value=!1,setTimeout(function(){r.value=!0})):setTimeout(function(){r.value=K}))},{immediate:!0});var z=function(J){var $;($=e.onCloseBtnClick)===null||$===void 0||$.call(e,{e:J}),ee({trigger:"close-btn",e:J})},ie=function(J){var $,Y;($=e.onOverlayClick)===null||$===void 0||$.call(e,{e:J}),((Y=e.closeOnOverlayClick)!==null&&Y!==void 0?Y:l.value.closeOnOverlayClick)&&ee({trigger:"overlay",e:J})},ee=function(J){var $;($=e.onClose)===null||$===void 0||$.call(e,J),t.emit("update:visible",!1)};return zu(function(){q()}),mt(function(){var K=window.innerWidth>document.documentElement.clientWidth,J=K?h7():0;o.value=document.createElement("style"),o.value.dataset.id="td_drawer_".concat(+new Date,"_").concat(jxe+=1),o.value.innerHTML=`
        html body {
          overflow-y: hidden;
          transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;
          `.concat(e.mode==="push"?"":"width: calc(100% - ".concat(J,"px);"),`
        }
      `),r.value&&!e.showInAttachedElement&&e.preventScrollThrough&&document.head.appendChild(o.value),window.addEventListener("keydown",F)}),yi(function(){W(),window.removeEventListener("keydown",F)}),function(){if(!i.value){var K=f("body","default"),J=d("header"),$=Z();return x(th,{disabled:!e.attach||!C.value,to:C.value},{default:function(){return[x("div",He({ref:k,class:L.value,style:{zIndex:e.zIndex},onKeydown:F,tabindex:0},t.attrs),[e.showOverlay&&x("div",{class:"".concat(h.value,"__mask"),onClick:ie},null),x("div",{class:j.value,style:g4(g4({},A.value),b.value)},[J&&x("div",{class:"".concat(h.value,"__header")},[J]),e.closeBtn&&x("div",{class:"".concat(h.value,"__close-btn"),onClick:z},[d("closeBtn",x(c,null,null))]),x("div",{class:["".concat(h.value,"__body"),"narrow-scrollbar"]},[K]),e.footer&&x("div",{class:"".concat(h.value,"__footer")},[d("footer",$)]),e.sizeDraggable&&x("div",{style:m.value,onMousedown:p},null)])])]}})}}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function p4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var iq=function(e){var t=gw({},e),i=document.createElement("div"),r=oe(!1),o=t.style,a=function(v){v&&(i.firstElementChild.style.cssText+=v)},s=pe({setup:function(v,g){var p=g.expose,m=oe(t);mt(function(){r.value=!0,document.activeElement.blur(),tn(function(){a(o)})});var b=function(O){m.value=gw(gw({},t),O)};return p({update:b}),function(){var C,O=t.onClose||function(){r.value=!1};return delete t.style,At(nq,gw({onClose:O,visible:r.value,drawerClassName:(C=m.value)===null||C===void 0?void 0:C.className},m.value))}}}),l=gp(s),u=l.mount(i),c=function(){r.value=!1,setTimeout(function(){l.unmount(),i.remove()},300)},d=Lh(t.attach);d?d.appendChild(i):console.error("attach is not exist");var f={show:function(){r.value=!0},hide:function(){r.value=!1},update:function(v){u.update(br(v,["style"])),a(v.style)},destroy:function(){c()}};return f},rq=iq;rq.install=function(n){n.config.globalProperties.$drawer=iq};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Hxe=Ye(nq);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Bxe={counter:{type:Function},current:{type:Number,default:void 0},modelValue:{type:Number,default:void 0},defaultCurrent:{type:Number},finishButtonProps:{type:Object},hideCounter:Boolean,hidePrev:Boolean,hideSkip:Boolean,highlightPadding:{type:Number,default:8},mode:{type:String,default:"popup",validator:function(e){return e?["popup","dialog"].includes(e):!0}},nextButtonProps:{type:Object},prevButtonProps:{type:Object},showOverlay:{type:Boolean,default:!0},skipButtonProps:{type:Object},steps:{type:Array},zIndex:{type:Number,default:999999},onChange:Function,onFinish:Function,onNextStepClick:Function,onPrevStepClick:Function,onSkip:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function $xe(n){var e=window.getComputedStyle(n),t=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.body;for(var r=n;r.parentElement;)if(r=r.parentElement,e=window.getComputedStyle(r),!(t&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return r;return document.body}function m4(n){var e=$xe(n);e!==document.body&&(P9(n,e)||(e.scrollTop=n.offsetTop-e.offsetTop))}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Vxe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body,t=D9(),i=t.scrollTop,r=t.scrollLeft,o=n.getBoundingClientRect(),a=o.top,s=o.left,l=e.getBoundingClientRect(),u=l.top,c=l.left,d=k9(e,"position");return e.tagName.toLowerCase()!=="body"&&d==="relative"||d==="sticky"?{top:a-u,left:s-c}:KL(n)?{top:a,left:s}:{top:a+i,left:s+r}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function Wxe(n){if(n){var e,t=null;if(kt(n))t=document.querySelector(n);else if(qe(n))t=n();else throw new Error("elm should be string or function");if(t)return t;if(((e=process)===null||e===void 0||(e=e.env)===null||e===void 0?void 0:e.NODE_ENV)!=="test")throw new Error("There is no element with given.")}else return document.body}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function b4(n){var e=n.getBoundingClientRect();if(!P9(n)){var t=Ade().height;UL(e.top-(t/2-e.height/2),{})}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var zxe=pe({name:"TGuide",props:Bxe,setup:function(e,t){var i=ft(),r=we("guide"),o=we("guide--lock"),a=Dt("guide"),s=a.globalConfig,l=rt(e),u=l.current,c=l.modelValue,d=l.hideCounter,f=l.hidePrev,h=l.hideSkip,v=l.steps,g=l.zIndex,p=Nn(u,c,e.defaultCurrent,e.onChange,"current"),m=Je(p,2),b=m[0],C=m[1],O=oe(),w=oe(),E=oe(),P=oe(),D=oe(),k=oe(),L=oe(),M=oe(!1),A=R(function(){return v.value.length}),j=R(function(){return v.value[b.value]}),V=R(function(){return N("mode")==="popup"}),H=R(function(){return KL(P.value||document.body)}),N=function(se){var de;return(de=j.value[se])!==null&&de!==void 0?de:e[se]},F=R(function(){var ne=j.value.highlightContent,se=ne;return qe(ne)?se=ne(q()):t.slots.highlightContent?se=t.slots.highlightContent(q()):t.slots["highlight-content"]?se=t.slots["highlight-content"](q()):ne&&(se=x(se,null,null)),se&&(se.props||(se.props={}),se.props.class=se.props.class||""),se}),W=R(function(){return!!(F.value&&V.value)}),U=oe(!1),q=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{currentStepInfo:j.value},de=new Function("return "+At.toString())();return Object.assign({},de,se)},Z=function(se){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,he=Vxe(P.value),ge=he.top,Se=he.left,Te=P.value.getBoundingClientRect(),Ce=Te.width,xe=Te.height,Me=N("highlightPadding");if(V.value)Ce+=Me*2,xe+=Me*2,ge-=Me,Se-=Me;else{var Re=D9(),Ae=Re.scrollTop,De=Re.scrollLeft;ge+=Ae,Se+=De}var Ee={top:"".concat(ge,"px"),left:"".concat(Se,"px")};if(W.value)if(de){var me=w.value.getBoundingClientRect(),Oe=me.width,ke=me.height;Object.assign(Ee,{width:"".concat(Oe,"px"),height:"".concat(ke,"px")})}else Object.assign(Ee,{width:"auto",height:"auto"});else Object.assign(Ee,{width:"".concat(Ce,"px"),height:"".concat(xe,"px")});kl(se,Ee)},z=function(){tn(function(){var se;P.value=Wxe(j.value.element),P.value&&(m4(P.value),Z(w.value),Z(E.value,!0),b4(P.value),(se=L.value)===null||se===void 0||se.update())})},ie=function(){var se;(se=E.value)===null||se===void 0||se.parentNode.removeChild(E.value)},ee=function(){tn(function(){P.value=k.value,m4(P.value),Z(w.value),b4(P.value)})},K=function(){var se,de;(se=k.value)===null||se===void 0||se.parentNode.removeChild(k.value),(de=D.value)===null||de===void 0||de.parentNode.removeChild(D.value)},J=function(){V.value?(K(),z()):(ie(),ee()),U.value=!0},$=function(){var se,de;ie(),K(),(se=w.value)===null||se===void 0||se.parentNode.removeChild(w.value),(de=O.value)===null||de===void 0||de.parentNode.removeChild(O.value),t0(document.body,o.value)},Y=function(se){var de,he=A.value;M.value=!1,C(-1,{e:se,total:he}),(de=e.onSkip)===null||de===void 0||de.call(e,{e:se,current:b.value,total:he})},te=function(se){var de,he=A.value;C(b.value-1,{e:se,total:he}),(de=e.onPrevStepClick)===null||de===void 0||de.call(e,{e:se,prev:b.value-1,current:b.value,total:he})},ae=function(se){var de,he=A.value;C(b.value+1,{e:se,total:he}),(de=e.onNextStepClick)===null||de===void 0||de.call(e,{e:se,next:b.value+1,current:b.value,total:he})},le=function(se){var de,he=A.value;M.value=!1,C(-1,{e:se,total:he}),(de=e.onFinish)===null||de===void 0||de.call(e,{e:se,current:b.value,total:he})},Q=function(){b.value>=0&&b.value<v.value.length&&(M.value||(M.value=!0,$b(document.body,o.value)),J())};return Pe(b,function(ne){ne>=0&&ne<v.value.length?(U.value=!1,Q()):(M.value=!1,$())}),mt(function(){Q()}),function(){var ne=function(){return x("div",{ref:O,class:"".concat(r.value,"__overlay"),style:{zIndex:g.value-2}},null)},se=function(){var Ae={zIndex:g.value-1},De=["".concat(r.value,"__highlight"),"".concat(r.value,"__highlight--").concat(V.value?"popup":"dialog"),"".concat(r.value,"--").concat(H.value&&V.value?"fixed":"absolute")],Ee=N("showOverlay"),me=["".concat(r.value,"__highlight--").concat(Ee?"mask":"nomask")];return x("div",{ref:w,class:[].concat(De,me),style:Ae},[W.value&&F.value])},de=function(){var Ae=i("counter",{params:{total:A.value,current:b.value}}),De=x("div",{class:"".concat(r.value,"__counter")},[Ae||"".concat(b.value+1,"/").concat(A.value)]);return x(Ft,null,[!d.value&&De])},he=function(Ae){var De,Ee,me,Oe,ke=b.value===A.value-1,Ve=b.value===0,lt=Ae==="popup"?"small":"medium";return x("div",{class:"".concat(r.value,"__action")},[!h.value&&!ke&&x(Bt,He({key:"skip",class:"".concat(r.value,"__skip"),theme:"default",size:lt,variant:"base",onClick:Y},(De=N("skipButtonProps"))!==null&&De!==void 0?De:s.value.skipButtonProps),null),!f.value&&!Ve&&x(Bt,He({key:"prev",class:"".concat(r.value,"__prev"),theme:"default",size:lt,variant:"base",onClick:te},(Ee=N("prevButtonProps"))!==null&&Ee!==void 0?Ee:s.value.prevButtonProps),null),!ke&&x(Bt,He({key:"next",class:"".concat(r.value,"__next"),theme:"primary",size:lt,variant:"base",onClick:ae},(me=N("nextButtonProps"))!==null&&me!==void 0?me:s.value.nextButtonProps),null),ke&&x(Bt,He({key:"finish",class:"".concat(r.value,"__finish"),theme:"primary",size:lt,variant:"base",onClick:le},(Oe=e.finishButtonProps)!==null&&Oe!==void 0?Oe:s.value.finishButtonProps),null)])},ge=function(){var Ae=qe(j.value.title)?j.value.title():void 0,De=t.slots.title?t.slots.title(q()):void 0;return Ae||De||j.value.title},Se=function(){var Ae=x("div",{class:"".concat(r.value,"__title")},[ge()]),De=j.value.body,Ee;qe(De)?Ee=De(q()):t.slots.body?Ee=t.slots.body({currentStepInfo:j.value}):typeof De=="string"?Ee=De:Ee=x(De,null,null);var me=x("div",{class:"".concat(r.value,"__desc")},[Ee]);return x(Ft,null,[Ae,me])},Te=function(){var Ae=["".concat(r.value,"__footer"),"".concat(r.value,"__footer--popup")],De=x("div",{class:Ae},[de(),he("popup")]);return x("div",{class:"".concat(r.value,"__tooltip")},[Se(),De])},Ce=function(){var Ae,De=j.value.content,Ee={handlePrev:te,handleNext:ae,handleSkip:Y,handleFinish:le,current:b.value,total:A.value},me;qe(De)?me=function(){return De(q(Ee))}:t.slots.content?me=function(){return t.slots.content(q(Ee))}:De?me=function(){return x(De,Ee,null)}:me=Te;var Oe=["".concat(r.value,"__reference"),"".concat(r.value,"--").concat(H.value?"fixed":"absolute")],ke=[X({},"".concat(r.value,"__popup--content"),!!De)];return x(Pa,He({ref:L,visible:U.value,"show-arrow":!De,zIndex:g.value,placement:j.value.placement},j.value.popupProps,{content:me,overlayClassName:["".concat(r.value,"__popup"),j.value.stepOverlayClass],overlayInnerClassName:ke.concat((Ae=j.value.popupProps)===null||Ae===void 0?void 0:Ae.overlayInnerClassName)}),{default:function(){return[x("div",{ref:E,class:Oe},null)]}})},xe=function(){var Ae={zIndex:g.value},De=["".concat(r.value,"__wrapper"),X({},"".concat(r.value,"__wrapper--center"),j.value.placement==="center")],Ee=["".concat(r.value,"__reference"),"".concat(r.value,"--absolute"),"".concat(r.value,"__dialog"),X(X({},"".concat(r.value,"__dialog--nomask"),!N("showOverlay")),j.value.stepOverlayClass,!!j.value.stepOverlayClass)],me=["".concat(r.value,"__footer"),"".concat(r.value,"__footer--popup")];return x(Ft,null,[x("div",{ref:D,class:De,style:Ae},[x("div",{ref:k,class:Ee},[Se(),x("div",{class:me},[de(),he("dialog")])])])])},Me=function(){return x(Ft,null,[x(th,{to:"body"},{default:function(){return[ne(),se(),V.value?Ce():xe()]}})])};return x(Ft,null,[M.value&&Me()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Uxe=Ye(zxe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Kxe=Ye(oU);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var qxe={closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},default:{type:[String,Function]},duration:{type:Number,default:3e3},footer:{type:[String,Function]},icon:{type:[Boolean,Function],default:!0},theme:{type:String,default:"info",validator:function(e){return e?["info","success","warning","error"].includes(e):!0}},title:{type:[String,Function]},onCloseBtnClick:Function,onDurationEnd:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var Gxe=6e3,Xl="16px",oq={"top-left":{left:Xl,top:Xl},"top-right":{right:Xl,top:Xl},"bottom-right":{right:Xl,bottom:Xl},"bottom-left":{left:Xl,bottom:Xl}},aq=Object.keys(oq);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var sq={duration:200,easing:"linear"},Yxe=function(e,t,i){if(!aq.includes(e))return null;if(e==="top-right")return[{opacity:0,transform:"translateX(".concat(t,"px)")},{opacity:1,transform:"translateX(0px)"}];if(e==="bottom-right")return[{opacity:0,transform:"translateX(".concat(t,"px)"),marginBottom:"-".concat(i,"px")},{opacity:1,transform:"translateX(0px)"}];if(e==="top-left")return[{opacity:0,transform:"translateX(-".concat(t,"px)")},{opacity:1,transform:"translateX(0px)"}];if(e==="bottom-left")return[{opacity:0,transform:"translateX(-".concat(t,"px)"),marginBottom:"-".concat(i,"px")},{opacity:1,transform:"translateX(0px)"}]},Zxe=function(e,t,i){if(!aq.includes(e))return null;if(e==="top-right")return[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(".concat(t,"px)"),marginBottom:"-".concat(i,"px")}];if(e==="bottom-right")return[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(".concat(t,"px)")}];if(e==="top-left")return[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(-".concat(t,"px)"),marginBottom:"-".concat(i,"px")}];if(e==="bottom-left")return[{opacity:1,transform:"translateX(0px)"},{opacity:0,transform:"translateX(-".concat(t,"px)")}]},Xxe=function(e,t){if(e){var i=(e==null?void 0:e.offsetHeight)||0,r=(e==null?void 0:e.offsetWidth)||0,o=Yxe(t,r,i);o&&e.animate&&e.animate(o,sq)}},y4=function(e,t,i){if(e){var r=(e==null?void 0:e.offsetHeight)||0,o=(e==null?void 0:e.offsetWidth)||0,a=Zxe(t,o,r);if(!a)return i();var s=e.animate&&e.animate(a,sq);s?s.onfinish=function(){i()}:(e.style.display="none",i())}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function _4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function w4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var lq=pe({name:"TNotification",props:w4(w4({},qxe),{},{placement:String}),setup:function(e,t){var i=t.slots,r=t.expose,o=we("notification"),a=Dt("classPrefix"),s=a.classPrefix,l=On({InfoCircleFilledIcon:Gy,CheckCircleFilledIcon:Yu,CloseIcon:js}),u=l.InfoCircleFilledIcon,c=l.CheckCircleFilledIcon,d=l.CloseIcon,f=ft(),h=Mn(),v=oe(null),g=oe(null),p=function(P){var D=g.value;y4(D,e.placement,function(){var k;(k=e.onCloseBtnClick)===null||k===void 0||k.call(e,{e:P})})},m=function(){var P;if(e.icon===!1)return null;if(qe(e.icon))P=e.icon(At);else if(i.icon)P=i.icon(null);else if(e.theme){var D=e.theme==="success"?x(c,{class:"".concat(s.value,"-is-").concat(e.theme)},null):x(u,{class:"".concat(s.value,"-is-").concat(e.theme)},null);P=x("div",{class:"".concat(s.value,"-notification__icon")},[D])}return P},b=function(){var P=x(d,null,null);return x("span",{class:"".concat(s.value,"-message__close"),onClick:p},[f("closeBtn",P)])},C=function(){return x("div",{class:"".concat(o.value,"__content")},[h("default","content")])},O=function(){e.duration&&clearTimeout(v.value)},w=function(){e.duration&&(v.value=Number(setTimeout(function(){O();var P=g.value;y4(P,e.placement,function(){var D;(D=e.onDurationEnd)===null||D===void 0||D.call(e)})},e.duration)))};return $1(function(){e.duration&&w()}),mt(function(){var E=g.value;Xxe(E,e.placement)}),r({close:p}),function(){return x("div",{ref:g,class:"".concat(o.value),onMouseenter:O,onMouseleave:w},[m(),x("div",{class:"".concat(o.value,"__main")},[x("div",{class:"".concat(o.value,"__title__wrap")},[x("span",{class:"".concat(o.value,"__title")},[f("title")]),b()]),C(),f("footer")])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function C4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function kE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Jxe=pe({props:{placement:{type:String,default:"top-right",validator:function(e){return["top-left","top-right","bottom-left","bottom-right"].indexOf(e)>-1}}},setup:function(e,t){var i=t.expose,r=we("notification-list"),o=e.placement,a=oe([]),s=oe([]),l=R(function(){return kE({zIndex:Gxe},oq[o])}),u=function(m){return a.value.push(m),a.value.length-1},c=function(m){a.value.splice(m,1)},d=function(){a.value=[]},f=function(m){if(m)return isNaN(Number(m))?m:"".concat(m,"px")},h=function(m){var b={marginBottom:Xl};return m.offset&&(b.position="relative",b.left=f(m.offset[0]),b.top=f(m.offset[1])),m.zIndex&&(b["z-index"]=m.zIndex),b},v=function(m,b){return kE(kE({},b),{},{onCloseBtnClick:function(O){return b.onCloseBtnClick&&b.onCloseBtnClick(O),c(m)},onDurationEnd:function(){return b.onDurationEnd&&b.onDurationEnd(),c(m)}})},g=function(m){m&&s.value.push(m)};return i({add:u,remove:c,removeAll:d,list:a,notificationList:s}),function(){if(a.value.length)return x("div",{class:"".concat(r.value,"__show"),style:l.value},[a.value.map(function(p,m){return x(lq,He({ref:g,key:p.id,style:h(p)},v(m,p)),null)})])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function S4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Bk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var O4=0,Ov=new Map,Qxe=function(e){O4+=1;var t=Bk({placement:"top-right",zIndex:6e3,attach:"body",id:O4},e);t.content=e.content?e.content:"";var i=Lh(t.attach);Ov.get(i)||Ov.set(i,{});var r=Ov.get(i)[t.placement];if(r)r.add(t);else{var o=document.createElement("div"),a=gp(Jxe,{placement:t.placement}).mount(o);a.add(t),Ov.get(i)[t.placement]=a,r=a,i.appendChild(a.$el)}return new Promise(function(s){var l=Ov.get(i)[t.placement];tn(function(){var u=l.notificationList;s(u==null?void 0:u.find(function(c){var d;return((d=c.$)===null||d===void 0||(d=d.vnode)===null||d===void 0?void 0:d.key)===t.id}))})})},jv=function(e,t){var i=Bk(Bk({},t),{},{theme:e});return Qxe(i)},I0={info:function(e){return jv("info",e)},success:function(e){return jv("success",e)},warning:function(e){return jv("warning",e)},error:function(e){return jv("error",e)},close:function(e){e.then(function(t){return t.close()})},closeAll:function(){Ov.forEach(function(e){Object.keys(e).forEach(function(t){e[t].removeAll()})})}},jM=jv;jM.install=function(n){n.config.globalProperties.$notify=jv,Object.keys(I0).forEach(function(e){n.config.globalProperties.$notify[e]=I0[e]})};Object.keys(I0).forEach(function(n){jM[n]=I0[n]});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var eEe=Ye(lq);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var tEe={cancelBtn:{type:[String,Object,Function],default:""},confirmBtn:{type:[String,Object,Function],default:""},content:{type:[String,Function]},default:{type:[String,Function]},destroyOnClose:{type:Boolean,default:!0},icon:{type:Function},placement:{type:String,default:"top",validator:function(e){return e?["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(e):!0}},popupProps:{type:Object},showArrow:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return e?["default","warning","danger"].includes(e):!0}},triggerElement:{type:[String,Function]},visible:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultVisible:Boolean,onCancel:Function,onConfirm:Function,onVisibleChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function x4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nEe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):x4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var iEe=pe({name:"TPopconfirm",props:tEe,setup:function(e){var t=Dt("popconfirm"),i=t.globalConfig,r=we("popconfirm"),o=On({InfoCircleFilledIcon:Gy,ErrorCircleFilledIcon:Al}),a=o.InfoCircleFilledIcon,s=o.ErrorCircleFilledIcon,l=rt(e),u=l.visible,c=l.modelValue,d=Nn(u,c,e.defaultVisible,e.onVisibleChange,"visible"),f=Je(d,2),h=f[0],v=f[1],g=function(M){var A;(A=e.onConfirm)===null||A===void 0||A.call(e,{e:M}),v(!1,{e:M,trigger:"confirm"})},p=function(M){var A;(A=e.onCancel)===null||A===void 0||A.call(e,{e:M}),v(!1,{e:M,trigger:"cancel"})},m=SM({confirmBtnAction:g,cancelBtnAction:p}),b=m.getConfirmBtn,C=m.getCancelBtn,O=ft(),w=R(function(){return nEe({showArrow:e.showArrow,overlayClassName:r.value,trigger:"click",destroyOnClose:e.destroyOnClose,placement:e.placement},e.popupProps)}),E=us(),P=function(){var M=C({cancelBtn:e.cancelBtn,globalCancel:i.value.cancel,className:"".concat(r.value,"__cancel"),size:"small"}),A=b({theme:e.theme,confirmBtn:e.confirmBtn,globalConfirm:i.value.confirm,globalConfirmBtnTheme:i.value.confirmBtnTheme,className:"".concat(r.value,"__confirm"),size:"small"}),j=function(){var H={default:a,warning:s,danger:s}[e.theme],N=e.theme||"default";return E("icon",x(H,{class:"".concat(r.value,"__icon--").concat(N)},null))};return x("div",{class:"".concat(r.value,"__content")},[x("div",{class:"".concat(r.value,"__body")},[j(),x("div",{class:"".concat(r.value,"__inner")},[O("content")])]),!!(M||A)&&x("div",{class:"".concat(r.value,"__buttons")},[M,A])])},D=function(M,A){v(M,A)},k=Mn();return function(){return x(Pa,He({visible:h.value},w.value,{onVisibleChange:D}),{default:function(){return[k("default","triggerElement")]},content:P})}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var rEe=Ye(iEe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var oEe={abridgeName:{type:Array},accept:{type:String,default:""},action:{type:String,default:""},allowUploadDuplicateFile:Boolean,autoUpload:{type:Boolean,default:!0},beforeAllFilesUpload:{type:Function},beforeUpload:{type:Function},cancelUploadButton:{type:[Object,Function]},data:{type:[Object,Function]},default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},dragContent:{type:[String,Function]},draggable:{type:Boolean,default:void 0},fileListDisplay:{type:Function},files:{type:Array,default:void 0},defaultFiles:{type:Array,default:function(){return[]}},format:{type:Function},formatRequest:{type:Function},formatResponse:{type:Function},headers:{type:Object},imageViewerProps:{type:Object},inputAttributes:{type:Object},isBatchUpload:Boolean,locale:{type:Object},max:{type:Number,default:0},method:{type:String,default:"POST",validator:function(e){return e?["POST","GET","PUT","OPTION","PATCH","post","get","put","option","patch"].includes(e):!0}},mockProgressDuration:{type:Number},multiple:Boolean,name:{type:String,default:"file"},placeholder:{type:String,default:""},requestMethod:{type:Function},showImageFileName:{type:Boolean,default:!0},showThumbnail:Boolean,showUploadProgress:{type:Boolean,default:!0},sizeLimit:{type:[Number,Object]},status:{type:String,validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},theme:{type:String,default:"file",validator:function(e){return e?["custom","file","file-input","file-flow","image","image-flow"].includes(e):!0}},tips:{type:[String,Function]},trigger:{type:Function},triggerButtonProps:{type:Object},uploadAllFilesInOneRequest:Boolean,uploadButton:{type:[Object,Function]},uploadPastedFiles:{type:Boolean,default:!0},useMockProgress:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},withCredentials:Boolean,onCancelUpload:Function,onChange:Function,onDragenter:Function,onDragleave:Function,onDrop:Function,onFail:Function,onOneFileFail:Function,onOneFileSuccess:Function,onPreview:Function,onProgress:Function,onRemove:Function,onSelectChange:Function,onSuccess:Function,onValidate:Function,onWaitingUploadFilesChange:Function};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var o_={accept:String,files:Array,toUploadFiles:Array,displayFiles:Array,theme:String,abridgeName:Array,placeholder:String,classPrefix:String,tips:[String,Function],status:String,locale:Object,sizeOverLimitMessage:String,autoUpload:Boolean,uploadPastedFiles:Boolean,onPasteFileChange:Function,disabled:Boolean,uploading:Boolean,tipsClasses:[String,Array,Object],errorClasses:[String,Array,Object],placeholderClass:[String,Array,Object],showUploadProgress:Boolean,default:Function,fileListDisplay:Function,onRemove:Function,imageViewerProps:Object};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function E4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aEe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function sEe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var lEe=pe({name:"UploadNormalFile",props:aEe({multiple:Boolean},o_),setup:function(e,t){var i=t.slots,r=rt(e),o=r.theme,a=r.disabled,s=r.classPrefix,l=R(function(){return e.locale}),u=On({CloseIcon:js,TimeFilledIcon:$9,CheckCircleFilledIcon:Yu,ErrorCircleFilledIcon:Al,CloseCircleFilledIcon:Sp}),c=u.CloseIcon,d=u.TimeFilledIcon,f=u.CheckCircleFilledIcon,h=u.ErrorCircleFilledIcon,v=u.CloseCircleFilledIcon,g=ft(),p="".concat(s.value,"-upload"),m=function(w){return x("div",{class:"".concat(p,"__single-progress")},[x(ar,null,null),e.showUploadProgress&&x("span",{class:"".concat(p,"__single-percent")},[w||0,"%"])])},b=function(w){var E;return o.value!=="file"||!e.multiple&&((E=w[0])===null||E===void 0?void 0:E.status)==="fail"&&e.autoUpload?null:w.map(function(P,D){var k=e.abridgeName&&P.name?Ng.apply(void 0,[P.name].concat(Be(e.abridgeName))):P.name;return x("div",{class:"".concat(p,"__single-display-text ").concat(p,"__display-text--margin"),key:P.name+D+P.percent+P.status},[P.url?x(Yy,{href:P.url,target:"_blank",hover:"color",size:"small",class:"".concat(p,"__single-name"),disabled:!1},sEe(k)?k:{default:function(){return[k]}}):x("span",{class:"".concat(p,"__single-name")},[k]),P.status==="fail"&&x("div",{class:"".concat(p,"__flow-status ").concat(p,"__file-fail")},[x(h,null,null)]),P.status==="waiting"&&x("div",{class:"".concat(p,"__flow-status ").concat(p,"__file-waiting")},[x(d,null,null)]),P.status==="progress"&&m(P.percent),!a.value&&P.status!=="progress"&&x(c,{class:"".concat(p,"__icon-delete"),onClick:function(M){var A=M.e;return e.onRemove({e:A,file:P,index:D})}},null)])})},C=function(){var w;if(o.value==="file-input"){var E=e.displayFiles[0]||[],P=["".concat(s.value,"-input__inner"),X({},"".concat(p,"__placeholder"),!e.displayFiles[0])],D=a.value?"".concat(s.value,"-is-disabled"):"",k=(w=e.abridgeName)!==null&&w!==void 0&&w.length&&E!==null&&E!==void 0&&E.name?Ng.apply(void 0,[E.name].concat(Be(e.abridgeName))):E==null?void 0:E.name;return x("div",{class:"".concat(p,"__single-input-preview ").concat(s.value,"-input ").concat(D)},[x("div",{class:P},[x("span",{class:["".concat(p,"__single-input-text"),X({},e.placeholderClass,e.placeholder&&!(E!=null&&E.name))]},[E!=null&&E.name?k:e.placeholder]),(E==null?void 0:E.status)==="progress"&&m(E.percent),(E==null?void 0:E.status)==="waiting"&&x(d,{class:"".concat(p,"__status-icon ").concat(p,"__file-waiting")},null),E.status==="success"&&x(f,{class:"".concat(p,"__status-icon")},null),(E==null?void 0:E.name)&&E.status==="fail"&&x(h,{class:"".concat(p,"__status-icon ").concat(p,"__file-fail")},null),!!(!a.value&&E.name)&&x(v,{class:"".concat(p,"__single-input-clear"),onClick:function(M){var A=M.e;return e.onRemove({e:A,file:E,index:0})}},null)])])}};return function(){var O,w,E,P=["".concat(p,"__single"),"".concat(p,"__single-").concat(o.value)],D=g("fileListDisplay",{params:{onRemove:e.onRemove,toUploadFiles:e.toUploadFiles,sizeOverLimitMessage:e.sizeOverLimitMessage,locale:e.locale,files:e.displayFiles}});(e.fileListDisplay===null||D===null)&&(D=null);var k=e.displayFiles;return x("div",{class:P},[o.value==="file-input"&&C(),(O=i.default)===null||O===void 0?void 0:O.call(i),o.value==="file"&&e.placeholder&&!k[0]&&x("small",{class:[e.tipsClasses,e.placeholderClass]},[e.placeholder]),D===null?null:D||b(k),!e.multiple&&((w=k[0])===null||w===void 0?void 0:w.status)==="fail"&&o.value==="file"?x("small",{class:[e.errorClasses,e.placeholderClass]},[((E=k[0].response)===null||E===void 0?void 0:E.error)||l.value.progress.failText]):null])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function HM(n,e){var t=oe(null),i=oe(!1),r=function(u){var c;u.preventDefault(),i.value=!1;var d=u.dataTransfer.files,f=bU(d,e.value);if((c=n.onDrop)===null||c===void 0||c.call(n,{e:u}),f!=null&&f.length){var h;(h=n.onDragFileChange)===null||h===void 0||h.call(n,f)}},o=function(u){var c;u.preventDefault(),t.value=u.target,(c=n.onDragenter)===null||c===void 0||c.call(n,{e:u}),i.value=!0},a=function(u){var c;u.target===t.value&&(u.preventDefault(),(c=n.onDragleave)===null||c===void 0||c.call(n,{e:u}),i.value=!1)},s=function(u){u.preventDefault()};return{target:t,dragActive:i,handleDrop:r,handleDragenter:o,handleDragleave:a,handleDragover:s}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function P4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function k4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var uEe=pe({name:"UploadDraggerFile",props:k4(k4({},o_),{},{trigger:Function,triggerUpload:Function,uploadFiles:Function,cancelUpload:Function,dragEvents:Object}),setup:function(e,t){var i=t.slots,r=rt(e),o=r.displayFiles,a=r.disabled,s=r.accept,l=R(function(){return e.locale}),u=ft(),c=pO(),d=c.sizeClassNames,f="".concat(e.classPrefix,"-upload"),h=HM(e.dragEvents,s),v=h.dragActive,g=oe(),p=R(function(){var k;return["".concat(f,"__dragger"),X({},"".concat(f,"__dragger-center"),!o.value[0]),X({},"".concat(f,"__dragger-error"),((k=o.value[0])===null||k===void 0?void 0:k.status)==="fail")]}),m=On({CheckCircleFilledIcon:Yu,ErrorCircleFilledIcon:Al}),b=m.CheckCircleFilledIcon,C=m.ErrorCircleFilledIcon,O=function(){var L;if(e.displayFiles.length){var M=o.value[0];if(!M)return null;var A=(M==null?void 0:M.url)||(M==null||(L=M.response)===null||L===void 0?void 0:L.url);return x("div",{class:"".concat(f,"__dragger-img-wrap")},[x(kO,He({images:[A],trigger:function(V,H){var N=H.open;return x(wl,{src:A||M.raw,onClick:N,error:"",loading:""},null)}},e.imageViewerProps),null)])}},w=function(){if(e.displayFiles.length){var L=o.value[0];if(!L)return null;if((L==null?void 0:L.status)==="progress")return x("div",{class:"".concat(f,"__single-progress")},[x(ar,null,null),e.showUploadProgress&&x("span",{class:"".concat(f,"__single-percent")},[L.percent,"%"])])}},E=function(){var L,M=o.value[0],A=e.abridgeName?Ng.apply(void 0,[M.name].concat(Be(e.abridgeName))):M.name,j=[x("div",{class:"".concat(f,"__dragger-text"),key:"info"},[x("span",{class:"".concat(f,"__single-name")},[A]),M.status==="progress"&&w(),M.status==="success"&&x(b,null,null),M.status==="fail"&&x(C,null,null)]),x("small",{class:"".concat(d.small),key:"size"},[l.value.file.fileSizeText,"：",lpe(M.size)]),x("small",{class:"".concat(d.small),key:"time"},[l.value.file.fileOperationDateText,"：",M.uploadTime||"-"])];return x("div",{class:"".concat(f,"__dragger-progress")},[e.theme==="image"&&O(),x("div",{class:"".concat(f,"__dragger-progress-info")},[u("fileListDisplay",{params:{files:e.displayFiles}})||j,x("div",{class:"".concat(f,"__dragger-btns")},[["progress","waiting"].includes(M.status)&&!a.value&&x(Bt,{theme:"primary",variant:"text",class:"".concat(f,"__dragger-progress-cancel"),onClick:function(H){var N;return(N=e.cancelUpload)===null||N===void 0?void 0:N.call(e,{e:H,file:e.toUploadFiles[0]||e.files[0]})}},{default:function(){return[(L=l.value)===null||L===void 0?void 0:L.cancelUploadText]}}),!e.autoUpload&&M.status==="waiting"&&x(Bt,{theme:"primary",variant:"text",disabled:a.value,onClick:function(){var H;return(H=e.uploadFiles)===null||H===void 0?void 0:H.call(e)},class:"".concat(f,"__dragger-upload-btn")},{default:function(){return[l.value.triggerUploadText.normal]}})]),["fail","success"].includes(M==null?void 0:M.status)&&!a.value&&x("div",{class:"".concat(f,"__dragger-btns")},[x(Bt,{theme:"primary",variant:"text",disabled:a.value,class:"".concat(f,"__dragger-progress-cancel"),onClick:e.triggerUpload},{default:function(){return[l.value.triggerUploadText.reupload]}}),x(Bt,{theme:"danger",variant:"text",disabled:a.value,class:"".concat(f,"__dragger-delete-btn"),onClick:function(H){return e.onRemove({e:H,index:0,file:M})}},{default:function(){return[l.value.triggerUploadText.delete]}})])])])},P=function(){var L,M=x("div",null,[x("span",{class:"".concat(f,"--highlight")},[(L=l.value.triggerUploadText)===null||L===void 0?void 0:L.normal]),x("span",null,["  /  ",l.value.dragger.draggingText])]),A=x("div",null,[l.value.dragger.dragDropText]);return v.value?A:M},D=function(){var L,M=o.value[0];return M&&(["progress","success","fail","waiting"].includes(M.status)||!M.status)?E():x("div",{class:"".concat(f,"__trigger"),onClick:e.triggerUpload},[((L=i.default)===null||L===void 0?void 0:L.call(i))||P()])};return function(){var k;return x("div",{ref:g,class:p.value,onDrop:h.handleDrop,onDragenter:h.handleDragenter,onDragover:h.handleDragover,onDragleave:h.handleDragleave},[((k=e.trigger)===null||k===void 0?void 0:k.call(e,At,{files:o.value,dragActive:v.value}))||D()])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function D4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function T4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cEe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var dEe=pe({name:"UploadImageCard",props:T4(T4({},o_),{},{multiple:Boolean,max:Number,disabled:Boolean,showUploadProgress:Boolean,triggerUpload:Function,uploadFiles:Function,cancelUpload:Function,onPreview:Function,showImageFileName:Boolean}),setup:function(e){var t=rt(e),i=t.displayFiles,r=t.classPrefix,o=t.multiple,a=t.max,s=R(function(){return e.locale}),l=On({AddIcon:fO,BrowseIcon:GL,DeleteIcon:ZL,ErrorCircleFilledIcon:Al}),u=l.BrowseIcon,c=l.DeleteIcon,d=l.AddIcon,f=l.ErrorCircleFilledIcon,h=ft(),v=R(function(){var b;return o.value?!a.value||i.value.length<a.value:!((b=i.value)!==null&&b!==void 0&&b[0])}),g=function(C,O){return x("div",{class:"".concat(r.value,"-upload__card-content ").concat(r.value,"-upload__card-box")},[x(wl,{class:"".concat(r.value,"-upload__card-image"),src:C.url||C.raw,error:"",fit:"contain"},null),x("div",{class:"".concat(r.value,"-upload__card-mask")},[x("span",{class:"".concat(r.value,"-upload__card-mask-item"),onClick:function(E){return E.stopPropagation()}},[x(kO,He({images:i.value.map(function(w){return w.url||w.raw}),defaultIndex:O,trigger:function(E,P){var D=P.open;return x(u,{onClick:function(L){var M,A=L.e;(M=e.onPreview)===null||M===void 0||M.call(e,{file:C,index:O,e:A}),D()}},null)}},e.imageViewerProps),null)]),!e.disabled&&x(Ft,null,[x("span",{class:"".concat(r.value,"-upload__card-mask-item-divider")},null),x("span",{class:"".concat(r.value,"-upload__card-mask-item"),onClick:function(E){return E.stopPropagation()}},[x(c,{onClick:function(E){var P,D=E.e;return e==null||(P=e.onRemove)===null||P===void 0?void 0:P.call(e,{e:D,file:C,index:O})}},null)])])])])},p=function(C,O){var w;return x("div",{class:[O,"".concat(r.value,"-upload__").concat(e.theme,"-").concat(C.status)]},[x(ar,{loading:!0,size:"medium"},null),x("p",null,[(w=s.value)===null||w===void 0||(w=w.progress)===null||w===void 0?void 0:w.uploadingText,e.showUploadProgress?" ".concat(C.percent,"%"):""])])},m=function(C,O,w){var E,P;return x("div",{class:w},[x(f,null,null),x("p",null,[((E=C.response)===null||E===void 0?void 0:E.error)||((P=s.value)===null||P===void 0||(P=P.progress)===null||P===void 0?void 0:P.failText)]),x("div",{class:"".concat(r.value,"-upload__card-mask")},[x("span",{class:"".concat(r.value,"-upload__card-mask-item"),onClick:function(k){return k.stopPropagation()}},[x(c,{onClick:function(k){var L,M=k.e;return e==null||(L=e.onRemove)===null||L===void 0?void 0:L.call(e,{e:M,file:C,index:O})}},null)])])])};return function(){var b,C,O=h("fileListDisplay",{params:{triggerUpload:e.triggerUpload,uploadFiles:e.uploadFiles,cancelUpload:e.cancelUpload,onPreview:e.onPreview,onRemove:e.onRemove,toUploadFiles:e.toUploadFiles,sizeOverLimitMessage:e.sizeOverLimitMessage,locale:e.locale,files:i.value}});if(O)return O;var w="".concat(r.value,"-upload__card-item ").concat(r.value,"-is-background");return x("div",null,[x("ul",{class:"".concat(r.value,"-upload__card")},[(b=i.value)===null||b===void 0?void 0:b.map(function(E,P){var D="".concat(r.value,"-upload__card-name"),k="".concat(r.value,"-upload__card-container ").concat(r.value,"-upload__card-box"),L=e.abridgeName?Ng.apply(void 0,[E.name].concat(Be(e.abridgeName))):E.name;return x("li",{class:w,key:P},[E.status==="progress"&&p(E,k),E.status==="fail"&&m(E,P,k),!["progress","fail"].includes(E.status)&&g(E,P),!!(L&&e.showImageFileName)&&(E.url?x(Yy,{href:E.url,class:D,target:"_blank",hover:"color",size:"small",disabled:!1},cEe(L)?L:{default:function(){return[L]}}):x("span",{class:D},[L]))])}),v.value&&x("li",{class:w,onClick:e.triggerUpload},[x("div",{class:["".concat(r.value,"-upload__image-add"),"".concat(r.value,"-upload__card-container"),"".concat(r.value,"-upload__card-box"),X({},"".concat(r.value,"-is-disabled"),e.disabled)]},[x(d,null,null),x("p",{class:["".concat(r.value,"-size-s"),"".concat(r.value,"-upload__add-text")]},[(C=s.value)===null||C===void 0||(C=C.triggerUploadText)===null||C===void 0?void 0:C.image])])])])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function I4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function L4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function fEe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}var hEe=pe({name:"UploadMultipleFlowList",props:L4(L4({},o_),{},{showThumbnail:Boolean,uploadFiles:Function,cancelUpload:Function,dragEvents:Object,disabled:Boolean,isBatchUpload:Boolean,draggable:Boolean,showImageFileName:Boolean,uploadButton:Object,cancelUploadButton:Object,onPreview:Function}),setup:function(e,t){var i=t.slots,r=rt(e),o=r.uploading,a=r.disabled,s=r.displayFiles,l=r.classPrefix,u=r.accept,c=R(function(){return"".concat(l.value,"-upload")}),d=R(function(){return e.locale}),f=ft(),h=On({BrowseIcon:GL,DeleteIcon:ZL,CheckCircleFilledIcon:Yu,ErrorCircleFilledIcon:Al,TimeFilledIcon:$9,FileExcelIcon:Ufe,FilePdfIcon:qfe,FileWordIcon:Xfe,FilePowerpointIcon:Yfe,FileIcon:Qfe,VideoIcon:Mhe}),v=h.BrowseIcon,g=h.DeleteIcon,p=h.CheckCircleFilledIcon,m=h.ErrorCircleFilledIcon,b=h.TimeFilledIcon,C=h.FileExcelIcon,O=h.FilePdfIcon,w=h.FileWordIcon,E=h.FilePowerpointIcon,P=h.FileIcon,D=h.VideoIcon,k=HM(e.dragEvents,u),L=oe([]),M=oe(0),A=R(function(){return o.value?"".concat(d.value.progress.uploadingText):d.value.triggerUploadText.normal}),j=R(function(){var ee=e.draggable===void 0?!0:e.draggable;return ee?{onDrop:k.handleDrop,onDragenter:k.handleDragenter,onDragover:k.handleDragover,onDragleave:k.handleDragleave}:{}}),V=function(){var K={success:x(p,null,null),fail:x(m,null,null),progress:x(ar,null,null),waiting:x(b,null,null)},J=d.value.progress,$={success:J==null?void 0:J.successText,fail:J==null?void 0:J.failText,progress:J==null?void 0:J.uploadingText,waiting:J==null?void 0:J.waitingText};return{iconMap:K,textMap:$}},H=function(){return x("div",{class:"".concat(c.value,"__flow-empty")},[k.dragActive.value?d.value.dragger.dragDropText:d.value.dragger.clickAndDragText])},N=function(K,J){var $,Y=V(),te=Y.iconMap,ae=Y.textMap,le=e.abridgeName&&K.name?Ng.apply(void 0,[K.name].concat(Be(e.abridgeName))):K.name;return x("li",{class:"".concat(c.value,"__card-item"),key:K.name+J+K.percent+K.status||"0"},[x("div",{class:["".concat(c.value,"__card-content"),X({},"".concat(l.value,"-is-bordered"),K.status!=="waiting")]},[K.status==="progress"&&x("div",{class:"".concat(c.value,"__card-status-wrap ").concat(c.value,"__").concat(e.theme,"-progress")},[te[K.status],x("p",null,[ae[K.status],e.showUploadProgress&&" ".concat(K.percent,"%")])]),K.status==="fail"&&x("div",{class:"".concat(c.value,"__card-status-wrap ").concat(c.value,"__").concat(e.theme,"-fail")},[te[K.status],x("p",null,[(($=K.response)===null||$===void 0?void 0:$.error)||ae[K.status]])]),(["waiting","success"].includes(K.status)||!K.status&&K.url)&&x(wl,{class:"".concat(c.value,"__card-image"),src:K.url||K.raw,error:"",loading:"",fit:"contain"},null),x("div",{class:"".concat(c.value,"__card-mask")},[(K.url||K.raw)&&!["progress","fail"].includes(K.status)&&x("span",{class:"".concat(c.value,"__card-mask-item")},[x(v,{onClick:function(ne){var se,de=ne.e;M.value=J,L.value=s.value,(se=e.onPreview)===null||se===void 0||se.call(e,{file:K,index:J,e:de})}},null),x("span",{class:"".concat(c.value,"__card-mask-item-divider")},null)]),!a.value&&x("span",{class:"".concat(c.value,"__card-mask-item ").concat(c.value,"__delete"),onClick:function(ne){return e.onRemove({e:ne,index:J,file:K})}},[x(g,null,null)])])]),e.showImageFileName&&x("p",{class:["".concat(c.value,"__card-name"),"".concat(c.value,"__flow-status")]},[["success","waiting"].includes(K.status)&&te[K.status],le])])},F=function(K){var J,$,Y=V(),te=Y.iconMap,ae=Y.textMap;return x("div",{class:"".concat(c.value,"__flow-status")},[te[K.status],x("span",{class:"".concat(c.value,"__").concat(e.theme,"-").concat(K.status)},[(J=K.response)!==null&&J!==void 0&&J.error&&(($=K.response)===null||$===void 0?void 0:$.error)||ae[K.status],e.showUploadProgress&&K.status==="progress"?" ".concat(K.percent||0,"%"):""])])},W=function(K,J){var $;return x("td",null,[x(Bt,{theme:"primary",variant:"text",content:($=d.value)===null||$===void 0||($=$.triggerUploadText)===null||$===void 0?void 0:$.delete,class:"".concat(c.value,"__delete"),onClick:function(te){return e.onRemove({e:te,index:J,file:K})}},null)])},U=function(K){var J;return K===0?x("td",{rowspan:s.value.length,class:"".concat(c.value,"__flow-table__batch-row")},[x(Bt,{theme:"primary",variant:"text",content:(J=d.value)===null||J===void 0||(J=J.triggerUploadText)===null||J===void 0?void 0:J.delete,class:"".concat(c.value,"__delete"),onClick:function(Y){return e.onRemove({e:Y,index:-1,file:void 0})}},null)]):null},q=function(K){return npe.test(K)?x(O,null,null):ipe.test(K)?x(C,null,null):rpe.test(K)?x(w,null,null):ope.test(K)?x(E,null,null):pU.test(K)?x(D,null,null):x(P,null,null)},Z=function(K){if(!K||!K.raw&&K.url)return null;var J=K.raw.type,$="".concat(c.value,"__file-thumbnail");return epe.test(J)?x(wl,{class:$,src:K.url||K.raw,fit:"scale-down",error:"",loading:"",onClick:function(te){var ae;te.preventDefault(),L.value=[K],M.value=0,(ae=e.onPreview)===null||ae===void 0||ae.call(e,{file:K,index:0,e:te})}},null):x("div",{class:$},[q(J)])},z=function(){var K,J,$,Y,te=f("fileListDisplay",{params:{cancelUpload:e.cancelUpload,uploadFiles:e.uploadFiles,onPreview:e.onPreview,onRemove:e.onRemove,toUploadFiles:e.toUploadFiles,sizeOverLimitMessage:e.sizeOverLimitMessage,locale:e.locale,files:e.displayFiles,dragEvents:j.value}});return te||e.fileListDisplay?te:x("table",He({class:"".concat(c.value,"__flow-table")},j.value),[x("thead",null,[x("tr",null,[x("th",null,[(K=d.value.file)===null||K===void 0?void 0:K.fileNameText]),x("th",{style:{minWidth:"120px"}},[(J=d.value.file)===null||J===void 0?void 0:J.fileSizeText]),x("th",{style:{minWidth:"120px"}},[($=d.value.file)===null||$===void 0?void 0:$.fileStatusText]),a.value?null:x("th",null,[(Y=d.value.file)===null||Y===void 0?void 0:Y.fileOperationText])])]),x("tbody",null,[!s.value.length&&x("tr",null,[x("td",{colspan:4},[H()])]),s.value.map(function(ae,le){var Q,ne=e.isBatchUpload,se=ne&&s.value.every(function(Se){return Se.status==="success"||!Se.status})?U(le):W(ae,le),de=(Q=e.abridgeName)!==null&&Q!==void 0&&Q.length?Ng.apply(void 0,[ae.name].concat(Be(e.abridgeName))):ae.name,he=e.showThumbnail?x("div",{class:"".concat(c.value,"__file-info")},[Z(ae),de]):de,ge=ae.url?x(Yy,{href:ae.url,target:"_blank",hover:"color",disabled:!1},fEe(he)?he:{default:function(){return[he]}}):he;return x("tr",{key:ae.name+le+ae.size},[x("td",{class:"".concat(c.value,"__file-name"),key:ae.name+ae.url},[ge]),x("td",null,[spe(ae.size)]),x("td",null,[F(ae)]),a.value?null:se])})])])},ie=function(){var K=f("fileListDisplay",{params:{cancelUpload:e.cancelUpload,uploadFiles:e.uploadFiles,onRemove:e.onRemove,onPreview:e.onPreview,toUploadFiles:e.toUploadFiles,sizeOverLimitMessage:e.sizeOverLimitMessage,locale:e.locale,files:e.displayFiles,dragEvents:j.value}});return K||e.fileListDisplay?K:x("ul",{class:"".concat(c.value,"__card clearfix")},[e.displayFiles.map(function(J,$){return N(J,$)})])};return function(){var ee,K,J,$="".concat(c.value,"__flow-card-area"),Y=a.value||!o.value,te=i.uploadButton||qe(e.uploadButton),ae=!!(a.value||o.value||!s.value.length),le=i.cancelUploadButton||qe(e.cancelUploadButton);return x("div",{class:"".concat(c.value,"__flow ").concat(c.value,"__flow-").concat(e.theme)},[x("div",{class:"".concat(c.value,"__flow-op")},[(ee=i.default)===null||ee===void 0?void 0:ee.call(i),e.placeholder&&x("small",{class:"".concat(c.value,"__flow-placeholder ").concat(c.value,"__placeholder")},[e.placeholder])]),e.theme==="image-flow"&&x("div",He({class:$},j.value),[s.value.length?ie():H()]),e.theme==="file-flow"&&(s.value.length?z():x("div",He({class:$},j.value),[H()])),!e.autoUpload&&(e.uploadButton!==null||e.cancelUploadButton!==null)&&x("div",{class:"".concat(c.value,"__flow-bottom")},[e.cancelUploadButton!==null&&(te?f("cancelUploadButton",{params:{disabled:Y,cancelUploadText:(K=d.value)===null||K===void 0?void 0:K.cancelUploadText,cancelUpload:e.cancelUpload}}):x(Bt,He({theme:"default",disabled:Y,content:(J=d.value)===null||J===void 0?void 0:J.cancelUploadText,class:"".concat(c.value,"__cancel"),onClick:function(ne){var se;return(se=e.cancelUpload)===null||se===void 0?void 0:se.call(e,{e:ne})}},Wt(e.cancelUploadButton)?e.cancelUploadButton:{}),null)),e.uploadButton!==null&&(le?f("uploadButton",{params:{disabled:ae,uploading:o.value,uploadText:A.value,uploadFiles:e.uploadFiles}}):x(Bt,He({disabled:ae,theme:"primary",loading:o.value,class:"".concat(c.value,"__continue"),content:A.value,onClick:function(){var ne;return(ne=e.uploadFiles)===null||ne===void 0?void 0:ne.call(e)}},Wt(e.uploadButton)?e.uploadButton:{}),null))]),x(kO,He({images:L.value.map(function(Q){return Q.url||Q.raw}),visible:!!L.value.length,onClose:function(){L.value=[]},index:M.value,onIndexChange:function(ne){return M.value=ne}},e.imageViewerProps),null)])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function M4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function A4(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var vEe=pe({name:"UploadCustomFile",props:A4(A4({},o_),{},{dragEvents:Object,draggable:Boolean,dragContent:Function,trigger:Function,triggerUpload:Function,childrenNode:[String,Function]}),setup:function(e,t){var i=t.slots,r=rt(e),o=r.classPrefix,a=r.displayFiles,s=r.accept,l=HM(e.dragEvents,s),u=l.dragActive,c=Mn(),d=function(){var h,v={dragActive:u.value||!1,files:a.value};return x("div",{class:"".concat(o.value,"-upload__dragger ").concat(o.value,"-upload__dragger-center"),onDrop:l.handleDrop,onDragenter:l.handleDragenter,onDragover:l.handleDragover,onDragleave:l.handleDragleave,onClick:e.triggerUpload},[x("div",{class:"".concat(o.value,"-upload__trigger")},[c("dragContent","trigger",{params:v})||((h=e.childrenNode)===null||h===void 0?void 0:h.call(e,v))])])};return function(){var f,h;return x(Ft,null,[e.draggable?d():x("div",{class:"".concat(o.value,"-upload__trigger"),onClick:e.triggerUpload},[((f=e.childrenNode)===null||f===void 0?void 0:f.call(e,{files:a.value}))||((h=i.default)===null||h===void 0?void 0:h.call(i))])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function R4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gEe(n){var e,t=n.method,i=t===void 0?"POST":t,r=n.action,o=n.withCredentials,a=o===void 0?!1:o,s=n.headers,l=s===void 0?{}:s,u=n.data,c=u===void 0?{}:u,d=n.file,f=n.files,h=f===void 0?[]:f,v=n.name,g=v===void 0?"file":v,p=n.useMockProgress,m=p===void 0?!0:p,b=n.mockProgressDuration,C=b===void 0?300:b,O=n.formatRequest,w=n.onError,E=n.onProgress,P=n.onSuccess,D=h||[],k=0,L=new XMLHttpRequest;a&&(L.withCredentials=!0);var M,A;if(m&&((e=h[0])===null||e===void 0?void 0:e.status)==="progress")var j=setTimeout(function(){M=setInterval(function(){k+10<100?(k=Math.max(k+10,k),h[0]&&k!==h[0].percent&&(h[0].percent=k,E({percent:k,file:d||D[0],files:D.map(function(F){return pw(pw({},F),{},{percent:k})}),type:"mock",XMLHttpRequest:L}))):clearInterval(M)},C),clearTimeout(j)},C);var V={};if(c){var H=qe(c)?c(D):c;Object.assign(V,H)}D.forEach(function(F,W){var U=D.length>1?"".concat(g,"[").concat(W,"]"):g;V[U]=F.raw}),D.length===1?V[g]=D[0].raw:V[g]=D.map(function(F){return F.raw}),V.length=D.length,O&&(V=O(V));var N=new FormData;return Object.keys(V).forEach(function(F){N.append(F,V[F])}),L.open(i,r,!0),Object.keys(l).forEach(function(F){L.setRequestHeader(F,l[F])}),L.onerror=function(F){w({event:F,file:d,files:D,XMLHttpRequest:L}),clearInterval(M),clearTimeout(A)},L.ontimeout=function(F){w({event:F,file:d,files:D,XMLHttpRequest:L})},L.upload&&(L.upload.onprogress=function(F){var W,U=0;if(F.total>0&&(U=Math.round(F.loaded/F.total*100)),k=Math.max(U,k),k!==U&&((W=D[0])===null||W===void 0?void 0:W.percent)!==k){var q=D.map(function(Z){return pw(pw({},Z),{},{percent:k})});E({event:F,percent:k,file:d||q[0],files:q,type:"real",XMLHttpRequest:L})}}),L.onload=function(F){var W={};W.XMLHttpRequest=L;var U=L.status<200||L.status>=300;if(U)return w({event:F,file:d,files:D,response:W,XMLHttpRequest:L});var q=L.responseText||L.response;try{W=JSON.parse(q)}catch{W=q,Yt.error("Upload","response does not a valid json")}clearInterval(M),clearTimeout(A),D.forEach(function(Z){var z;Z.percent=100,Z.status="success",Z.uploadTime=((z=W)===null||z===void 0?void 0:z.uploadTime)||mU()}),kn(W)==="object"&&(W.XMLHttpRequest=L),P({event:F,file:d||D[0],files:Be(D),XMLHttpRequest:L,response:W})},L.send(N),L.upload.requestParams=V,L.upload.requestHeaders=l,L}function N4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function eo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function pEe(n,e){var t=e.sizeLimit,i=e.beforeUpload,r=new Promise(function(l){var u=null;if(t){var c=Dn(t)?{size:t,unit:"KB"}:t,d=upe(n.size,c.size,c.unit);d&&(u=c)}l(u)}),o=[r,void 0];if(qe(i)){var a=i(n),s=a instanceof Promise?a:new Promise(function(l){return l(a)});o[1]=s}return new Promise(function(l){Promise.all(o).then(function(u){l(u)})})}function F4(n){var e=n.event,t=n.files,i=n.response,r=n.XMLHttpRequest,o=n.formatResponse,a=i;return qe(o)&&(a=o(i,{file:t[0],currentFiles:t})),t.forEach(function(s){s.status="fail",s.response=a}),{response:a,event:e,files:t,XMLHttpRequest:r}}function mEe(n){var e=n.event,t=n.files,i=n.response,r=n.XMLHttpRequest;(t==null?void 0:t.length)<=0&&Yt.error("Upload","Empty File in Success Callback"),t.forEach(function(a){var s;a.percent=100,a.status="success",(s=a.response)===null||s===void 0||delete s.error});var o=i;return t[0].url=o.url||t[0].url,{response:o,event:e,files:t,XMLHttpRequest:r}}function bEe(n){return n?n.status?["success","fail"].includes(n.status)?(n.status==="success"&&(!n.response||!n.response.url&&!n.response.files)&&Yt.warn("Upload","`requestMethodResponse.response.url` or `requestMethodResponse.response.files` is required if `status` is `success`"),!0):(Yt.error("Upload","`requestMethodResponse.status` must be `success` or `fail`, examples `{ status: 'success', response: { url: '' } }`"),!1):(Yt.error("Upload","`requestMethodResponse.status` is missing, which value only can be `success` or `fail`"),!1):(Yt.error("Upload","`requestMethodResponse` is required."),!1)}function j4(n){var e=n.action,t=n.toUploadFiles,i=n.requestMethod;return new Promise(function(r){if(!e&&!i){Yt.error("Upload","one of action and requestMethod must be exist."),r({});return}if(!t||!t.length){Yt.warn("Upload","No files need to be uploaded"),r({});return}if(t.forEach(function(s){s.status="progress"}),i)i(n.multiple?t:t[0]).then(function(s){if(!bEe(s)){r({});return}var l=s.response||{};qe(n.formatResponse)&&(l=n.formatResponse(l,{file:t[0],currentFiles:t})),s.status==="fail"&&(l.error=s.error||l.error);var u=[];s.status==="success"&&l.files?u=l.files.map(function(h){var v=t.find(function(g){return h.name&&g.name===h.name||h.raw&&g.raw===h.raw});return eo(eo(eo({},v),h),{},{status:s.status,response:l})}):(t.forEach(function(h){var v;h.status=s.status,h.response=l,h.url=l.url,h.percent=s.status==="success"?100:0,h.uploadTime=((v=l)===null||v===void 0?void 0:v.uploadTime)||mU()}),u=t);var c={response:l,file:u[0],files:u};if(s.status==="success"){var d;(d=n.onResponseSuccess)===null||d===void 0||d.call(n,c)}else if(s.status==="fail"){var f;(f=n.onResponseError)===null||f===void 0||f.call(n,c)}r({status:s.status,data:c})});else{var o,a=gEe({action:n.action,files:n.toUploadFiles,useMockProgress:n.useMockProgress,mockProgressDuration:n.mockProgressDuration,onError:function(l){var u,c=F4(eo(eo({},l),{},{formatResponse:n.formatResponse}));(u=n.onResponseError)===null||u===void 0||u.call(n,c),r({status:"fail",data:c})},onProgress:n.onResponseProgress,onSuccess:function(l){var u=n.formatResponse,c=l.response;if(qe(u)&&(c=u(l.response,{file:l.file,currentFiles:l.files})),c.error){var d,f=F4(eo(eo({},l),{},{response:c}));(d=n.onResponseError)===null||d===void 0||d.call(n,f),r({status:"fail",data:f})}else{var h;l.file.response=c,l.files[0].response=c;var v=mEe(eo(eo({},l),{},{response:c}));(h=n.onResponseSuccess)===null||h===void 0||h.call(n,v),r({status:"success",data:v})}},formatRequest:n.formatRequest,data:n.data,name:n.name,headers:n.headers,withCredentials:n.withCredentials,method:n.method});(o=n.setXhrObject)===null||o===void 0||o.call(n,{files:n.toUploadFiles,xhrReq:a})}})}function yEe(n,e){for(var t=n.filter(function(s){return s.url}),i=t,r=function(){var l=e[o],u=n.findIndex(function(d){return d.raw&&d.raw===l.raw||d.name&&d.name===l.name}),c=u>=0?eo(eo({},n[u]),l):l;i.push(c)},o=0,a=e.length;o<a;o++)r();return i}function _Ee(n){var e=n.uploadAllFilesInOneRequest,t=n.toUploadFiles,i=n.uploadedFiles,r=n.isBatchUpload,o=t.filter(function(a){return!a.response||a.response&&!a.response.error});return new Promise(function(a){if(e||!n.multiple){j4(n).then(function(l){l.status==="success"&&(l.data.files=r||!n.multiple?l.data.files:yEe(i,l.data.files));var u=l.status==="fail"?l.data.files:[];a(eo(eo({},l),{},{failedFiles:u}))});return}var s=o.map(function(l){return j4(eo(eo({},n),{},{toUploadFiles:[l]}))});Promise.all(s).then(function(l){var u=[],c=[];l.forEach(function(h){h.status==="success"?u.push(h.data.files[0]):h.status==="fail"&&c.push(h.data.files[0])});var d=n.autoUpload?i.concat(u):i,f=r||!n.multiple?u:d;a({status:u.length?"success":"fail",data:{files:f},failedFiles:c,list:l})})})}function $k(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return n.map(function(r){var o=r;qe(e)&&(o=e(r));var a=eo({raw:r,lastModified:r.lastModified,name:r.name,size:r.size,type:r.type,percent:i,status:t},o);return a})}function wEe(n){var e=n.files,t=n.uploadValue,i=n.max,r=n.allowUploadDuplicateFile;return new Promise(function(o){var a=e.filter(function(p){var m=t.find(function(b){return b.name===p.name});return r||!m}),s=!1;if(a.length<e.length&&(s=!0),!a.length){var l=$k(e,n.format,n.autoUpload?"progress":"waiting");o({hasSameNameFile:s,file:l==null?void 0:l[0],files:l,validateResult:{type:"FILTER_FILE_SAME_NAME"}});return}var u=!1;if(i&&a.length&&!n.isBatchUpload){var c=a.length;a=a.slice(0,i-t.length),c+t.length>i&&(u=!0)}var d=$k(a,n.format,n.autoUpload?"progress":"waiting"),f;if(n.beforeAllFilesUpload){var h,v=(h=n.beforeAllFilesUpload)===null||h===void 0?void 0:h.call(n,d);f=v instanceof Promise?v:new Promise(function(p){return p(v)})}var g=d.map(function(p){return new Promise(function(m){pEe(p,{beforeUpload:n.beforeUpload,sizeLimit:n.sizeLimit}).then(function(b){var C=Je(b,2),O=C[0],w=C[1];O?m({file:p,validateResult:{type:"FILE_OVER_SIZE_LIMIT",extra:O}}):w===!1&&m({file:p,validateResult:{type:"CUSTOM_BEFORE_UPLOAD"}}),m({file:p})})})});Promise.all([f].concat(g)).then(function(p){var m=G7(p),b=m[0],C=m.slice(1);o(b===!1?{lengthOverLimit:u,hasSameNameFile:s,validateResult:{type:"BEFORE_ALL_FILES_UPLOAD"},files:d}:{lengthOverLimit:u,hasSameNameFile:s,fileValidateList:C,files:d})})})}function CEe(n,e){var t=[],i=[],r=[];return n.forEach(function(o){var a,s;if(((a=o.validateResult)===null||a===void 0?void 0:a.type)==="CUSTOM_BEFORE_UPLOAD"){i.push(o.file);return}if(((s=o.validateResult)===null||s===void 0?void 0:s.type)==="FILE_OVER_SIZE_LIMIT"){o.file.response||(o.file.response={}),o.file.response.error=o.file.response.error||e(o.validateResult.extra),t.push(o);return}r.push(o.file)}),{sizeLimitErrors:t,beforeUploadErrorFiles:i,toFiles:r}}function SEe(n){return n.isBatchUpload&&n.status||n.status==="fail"?"reupload":n.status==="progress"?"uploading":n.status==="success"||!n.autoUpload&&n.status==="waiting"?n.multiple?"continueUpload":"reupload":"fileInput"}function OEe(n){var e=n.multiple,t=n.uploadValue,i=n.toUploadFiles,r=n.autoUpload,o=r?i:i.filter(function(a){return a.status!=="success"});return e&&!n.isBatchUpload?r?(o.length?t.concat(o):t)||[]:t:(o.length?o:t)||[]}function H4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mw(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):H4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xEe(n){var e=oe(),t=rt(n),i=t.disabled,r=t.autoUpload,o=t.isBatchUpload,a=t.multiple,s=t.files,l=t.modelValue,u=t.defaultFiles,c=Dt("upload"),d=c.globalConfig,f=c.t,h=c.classPrefix,v=Nn(s,l,u.value,n.onChange,"files"),g=Je(v,2),p=g[0],m=g[1],b=oe([]),C=oe([]),O=oe(""),w=R(function(){return aO({},d.value,n.locale)}),E="".concat(h.value,"-upload__tips ").concat(h.value,"-size-s"),P=[E].concat("".concat(h.value,"-upload__tips-error")),D="".concat(h.value,"-upload__placeholder"),k=R(function(){var $,Y=SEe({isBatchUpload:o.value,multiple:a.value,status:($=p.value)===null||$===void 0||($=$[0])===null||$===void 0?void 0:$.status,autoUpload:r.value});return w.value.triggerUploadText[Y]}),L=oe(!1),M=R(function(){return OEe({multiple:n.multiple,toUploadFiles:C.value,uploadValue:p.value,autoUpload:r.value,isBatchUpload:o.value})}),A=function(Y){var te=Y.file,ae=Y.percent,le=r.value?C:p,Q=le.value.findIndex(function(ne){return te.raw===ne.raw});le.value[Q]=mw(mw({},le.value[Q]),{},{percent:ae})},j=function(){n.autoUpload&&(C.value=Be(C.value))},V=function(Y){var te;if(!(!Y||!Y.files||!Y.files[0])){var ae=Y.response,le=Y.event,Q=Y.files;j(),(te=n.onOneFileFail)===null||te===void 0||te.call(n,{e:le,file:Q==null?void 0:Q[0],currentFiles:Q,failedFiles:Q,response:ae}),(!n.multiple||n.isBatchUpload)&&m([],{trigger:"progress-fail",e:Y.event,file:Y.files[0]})}},H=function(Y){var te;j(),(te=n.onProgress)===null||te===void 0||te.call(n,{e:Y.event,file:Y.file,currentFiles:Y.files,percent:Y.percent,type:Y.type,XMLHttpRequest:Y.XMLHttpRequest})},N=function(Y){if(n.multiple&&!n.uploadAllFilesInOneRequest){var te;j(),(te=n.onOneFileSuccess)===null||te===void 0||te.call(n,{e:Y.event,file:Y.files[0],response:Y.response})}};function F($){var Y=$;return Y.message?f(Y.message,{sizeLimit:Y.size}):"".concat(f(w.value.sizeLimitMessage,{sizeLimit:Y.size})," ").concat(Y.unit)}var W=function(Y){var te=n.multiple&&!o.value?p.value.concat(Y):Y;te.length&&(m(te,{trigger:"add",index:p.value.length,file:Y[0],files:Y}),C.value=[])},U=function(Y){var te;if(!i.value){var ae={currentSelectedFiles:$k(Be(Y),n.format)};(te=n.onSelectChange)===null||te===void 0||te.call(n,Be(Y),ae),wEe({uploadValue:p.value,files:Be(Y),allowUploadDuplicateFile:n.allowUploadDuplicateFile,max:n.multiple?n.max:0,sizeLimit:n.sizeLimit,isBatchUpload:o.value,autoUpload:r.value,format:n.format,beforeUpload:n.beforeUpload,beforeAllFilesUpload:n.beforeAllFilesUpload}).then(function(le){var Q;if(((Q=le.validateResult)===null||Q===void 0?void 0:Q.type)==="BEFORE_ALL_FILES_UPLOAD"){var ne,se={type:"BEFORE_ALL_FILES_UPLOAD",files:le.files};(ne=n.onValidate)===null||ne===void 0||ne.call(n,se);return}if(le.lengthOverLimit){var de,he={type:"FILES_OVER_LENGTH_LIMIT",files:le.files};if((de=n.onValidate)===null||de===void 0||de.call(n,he),!le.files.length)return}if(le.hasSameNameFile){var ge,Se={type:"FILTER_FILE_SAME_NAME",files:le.files};(ge=n.onValidate)===null||ge===void 0||ge.call(n,Se)}if(le.fileValidateList instanceof Array){var Te,Ce=CEe(le.fileValidateList,F),xe=Ce.sizeLimitErrors,Me=Ce.beforeUploadErrorFiles,Re=Ce.toFiles,Ae=r.value?Re:C.value.concat(Re);if(C.value=Ae,(Te=n.onWaitingUploadFilesChange)===null||Te===void 0||Te.call(n,{files:Ae,trigger:"validate"}),xe[0]){var De;O.value=xe[0].file.response.error,(De=n.onValidate)===null||De===void 0||De.call(n,{type:"FILE_OVER_SIZE_LIMIT",files:xe.map(function(Oe){return Oe.file})})}else if(O.value="",Me.length){var Ee,me={type:"CUSTOM_BEFORE_UPLOAD",files:Me};(Ee=n.onValidate)===null||Ee===void 0||Ee.call(n,me)}r.value?ie(Ae):W(Ae)}}),e.value.value=null}},q=function(Y){var te=bU(Y.target.files);U==null||U(te)};function Z($){U==null||U($)}function z($){U==null||U(Be($.clipboardData.files))}function ie($){var Y=p.value.filter(function(ae){return ae.status!=="success"}),te=r.value?$||C.value:Y;!te||!te.length||(L.value=!0,b.value=[],_Ee({action:n.action,headers:n.headers,method:n.method,name:n.name,withCredentials:n.withCredentials,uploadedFiles:p.value,toUploadFiles:te,multiple:n.multiple,isBatchUpload:o.value,autoUpload:n.autoUpload,uploadAllFilesInOneRequest:n.uploadAllFilesInOneRequest,useMockProgress:n.useMockProgress,data:n.data,mockProgressDuration:n.mockProgressDuration,requestMethod:n.requestMethod,formatRequest:n.formatRequest,formatResponse:n.formatResponse,onResponseProgress:H,onResponseSuccess:N,onResponseError:V,setXhrObject:function(le){var Q;(Q=le.files[0])!==null&&Q!==void 0&&Q.raw&&b.value.find(function(ne){var se;return((se=ne.files[0])===null||se===void 0?void 0:se.raw)===le.files[0].raw})||(b.value=b.value.concat(le))}}).then(function(ae){var le=ae.status,Q=ae.data,ne=ae.list,se=ae.failedFiles;if(L.value=!1,le==="success"){var de;m(Be(Q.files),{trigger:"add",file:Q.files[0]}),b.value=[],(de=n.onSuccess)===null||de===void 0||de.call(n,{fileList:Q.files,currentFiles:te,file:te[0],results:ne==null?void 0:ne.map(function(Se){return Se.data}),response:Q.response||ne.map(function(Se){return Se.data.response}),XMLHttpRequest:Q.XMLHttpRequest})}else if(se!=null&&se[0]){var he;(he=n.onFail)===null||he===void 0||he.call(n,{e:Q.event,file:se[0],failedFiles:se,currentFiles:te,response:Q.response,XMLHttpRequest:Q.XMLHttpRequest})}if(r.value){var ge;C.value=se,(ge=n.onWaitingUploadFilesChange)===null||ge===void 0||ge.call(n,{files:se,trigger:"uploaded"})}}))}function ee($){var Y,te,ae;O.value="",(Y=(te=$.e).stopPropagation)===null||Y===void 0||Y.call(te);var le={e:$.e,trigger:"remove",index:$.index,file:$.file};if(n.isBatchUpload||!n.multiple){var Q;C.value=[],(Q=n.onWaitingUploadFilesChange)===null||Q===void 0||Q.call(n,{files:[],trigger:"remove"}),m([],le)}else if(!n.autoUpload)p.value.splice($.index,1),m(Be(p.value),le);else if($.index<p.value.length)p.value.splice($.index,1),m(Be(p.value),le);else{var ne;C.value.splice($.index-p.value.length,1),C.value=Be(C.value),(ne=n.onWaitingUploadFilesChange)===null||ne===void 0||ne.call(n,{files:Be(C.value),trigger:"remove"})}(ae=n.onRemove)===null||ae===void 0||ae.call(n,$)}var K=function(Y){var te;i.value||!e.value||(Y==null||(te=Y.stopPropagation)===null||te===void 0||te.call(Y),e.value.click())},J=function(Y){var te,ae;(te=b.value)===null||te===void 0||te.forEach(function(le){var Q;(Q=le.xhrReq)===null||Q===void 0||Q.abort()}),L.value=!1,r.value?C.value=[]:m(p.value.map(function(le){return le.status!=="success"?mw(mw({},le),{},{status:"waiting"}):le}),{trigger:"abort"}),Y!=null&&Y.file&&!r.value&&(ee==null||ee({file:Y.file,e:Y.e,index:0})),(ae=n.onCancelUpload)===null||ae===void 0||ae.call(n)};return{t:f,locale:w,classPrefix:h,triggerUploadText:k,toUploadFiles:C,uploadValue:p,displayFiles:M,sizeOverLimitMessage:O,uploading:L,tipsClasses:E,errorClasses:P,placeholderClass:D,inputRef:e,disabled:i,xhrReq:b,uploadFilePercent:A,uploadFiles:ie,onFileChange:U,onNormalFileChange:q,onDragFileChange:Z,onPasteFileChange:z,onInnerRemove:ee,triggerUpload:K,cancelUpload:J}}/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function B4(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function EEe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(t),!0).forEach(function(i){X(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B4(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var PEe=pe({name:"TUpload",props:oEe,setup:function(e,t){var i=t.slots,r=t.expose,o=Mn(),a=ft(),s=xEe(e),l=s.locale,u=s.classPrefix,c=s.triggerUploadText,d=s.toUploadFiles,f=s.displayFiles,h=s.uploadValue,v=s.sizeOverLimitMessage,g=s.uploading,p=s.tipsClasses,m=s.errorClasses,b=s.placeholderClass,C=s.inputRef,O=s.onInnerRemove,w=s.uploadFiles,E=s.onNormalFileChange,P=s.onDragFileChange,D=s.onPasteFileChange,k=s.triggerUpload,L=s.cancelUpload,M=s.uploadFilePercent,A=xi(),j=On({UploadIcon:Ihe}),V=j.UploadIcon,H=R(function(){var K,J;return((K=e.triggerButtonProps)===null||K===void 0?void 0:K.default)||((J=e.triggerButtonProps)===null||J===void 0?void 0:J.content)||c.value});r({upload:C.value,uploading:g,triggerUpload:k,uploadFiles:w,cancelUpload:L,uploadFilePercent:M});var N=function(){var J=function(){return e.theme==="file-input"?x(Bt,He({disabled:A.value,variant:"outline"},e.triggerButtonProps),{default:function(){return[H.value]}}):x(Bt,He({disabled:A.value,variant:"outline",icon:function(){return x(V,null,null)}},e.triggerButtonProps),{default:function(){return[H.value]}})};return o("default","trigger",{params:{dragActive:!1,files:h.value}})||J()},F=R(function(){return{accept:e.accept,files:h.value,toUploadFiles:d.value,displayFiles:f.value,theme:e.theme,placeholder:e.placeholder,disabled:A.value,tips:e.tips,status:e.status,sizeOverLimitMessage:v.value,uploading:g.value,classPrefix:u.value,tipsClasses:p,errorClasses:m,placeholderClass:b,locale:l.value,autoUpload:e.autoUpload,abridgeName:e.abridgeName,showUploadProgress:e.showUploadProgress,fileListDisplay:e.fileListDisplay,onRemove:O,uploadPastedFiles:e.uploadPastedFiles,onPasteFileChange:D,imageViewerProps:e.imageViewerProps}}),W={onDragFileChange:P,onDragenter:e.onDragenter,onDragleave:e.onDragleave,onDrop:e.onDrop},U=R(function(){return["".concat(u.value,"-upload"),X({},"".concat(u.value,"-upload--theme-").concat(e.theme),e.theme==="file-input")]}),q=function(){return x(lEe,He(F.value,{multiple:e.multiple}),{default:function(){return[x("div",{class:"".concat(u.value,"-upload__trigger"),onClick:k},[N()])]},fileListDisplay:i.fileListDisplay,"file-list-display":i["file-list-display"]})},Z=function(){return x(uEe,He(F.value,{dragEvents:W,trigger:e.trigger,cancelUpload:L,triggerUpload:k,uploadFiles:w,onCancelUpload:e.onCancelUpload}),{fileListDisplay:i.fileListDisplay,"file-list-display":i["file-list-display"]})},z=function(){return x(dEe,He(F.value,{multiple:e.multiple,max:e.max,showUploadProgress:e.showUploadProgress,triggerUpload:k,uploadFiles:w,cancelUpload:L,onPreview:e.onPreview,showImageFileName:e.showImageFileName}),{fileListDisplay:i.fileListDisplay,"file-list-display":i["file-list-display"]})},ie=function(){return x(hEe,He(F.value,{isBatchUpload:e.isBatchUpload,draggable:e.draggable,dragEvents:W,uploadFiles:w,cancelUpload:L,onPreview:e.onPreview,showImageFileName:e.showImageFileName,showThumbnail:e.showThumbnail,uploadButton:e.uploadButton,cancelUploadButton:e.cancelUploadButton}),{default:function(){return[x("div",{class:"".concat(u.value,"-upload__trigger"),onClick:k},[!e.draggable&&N()])]},fileListDisplay:i.fileListDisplay,"file-list-display":i["file-list-display"],uploadButton:i.uploadButton,"upload-button":i["upload-button"],cancelUploadButton:i.cancelUploadButton,"cancel-upload-button":i["cancel-upload-button"]})},ee=function(){return x(vEe,He(F.value,{draggable:e.draggable,dragContent:e.dragContent,dragEvents:W,triggerUpload:k,trigger:e.trigger,childrenNode:i.default}),{default:function(){return[N()]},dragContent:i.dragContent,"drag-content":i["drag-content"],trigger:i.trigger})};return function(){return x("div",{class:U.value,onPaste:e.uploadPastedFiles?D:void 0},[x("input",He({ref:C,type:"file",disabled:A.value,onChange:E,multiple:e.multiple,accept:e.accept,hidden:!0},e.inputAttributes?EEe({},e.inputAttributes):{}),null),["file","file-input"].includes(e.theme)&&!e.draggable&&q(),["file","image"].includes(e.theme)&&e.draggable&&Z(),e.theme==="image"&&!e.draggable&&z(),["image-flow","file-flow"].includes(e.theme)&&ie(),e.theme==="custom"&&ee(),!!(e.tips||i.tips)&&x("small",{class:[p,X({},"".concat(u.value,"-upload__tips-").concat(e.status),e.status)]},[a("tips")]),v.value&&x("small",{class:m},[v.value])])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var kEe=Ye(PEe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var DEe={globalConfig:{type:Object}};/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var TEe=pe({name:"TConfigProvider",props:DEe,setup:function(e){yde(e);var t=ft();return function(){return x(Ft,null,[t("default")])}}});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var IEe=Ye(TEe);/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */var DE=Object.freeze({__proto__:null,Button:Bt,Icon:XL,Link:Yy,Row:Op,Col:xp,Aside:K9,Layout:q9,Header:G9,Footer:hve,Content:Y9,Divider:rk,Space:Iu,Descriptions:JL,DescriptionsItem:QL,Affix:Nv,Anchor:Cpe,AnchorItem:Spe,AnchorTarget:Ope,Breadcrumb:Rpe,BreadcrumbItem:Npe,Dropdown:$pe,DropdownItem:Vpe,DropdownMenu:Wpe,Menu:MU,HeadMenu:AU,Submenu:RU,MenuItem:uM,MenuGroup:NU,Pagination:dM,PaginationMini:rK,Steps:Oye,StepItem:xye,Tabs:TU,TabPanel:IU,StickyItem:Pye,StickyTool:kye,BackTop:lK,AutoComplete:Rye,HighlightOption:Nye,Cascader:s_e,CascaderPanel:l_e,Checkbox:_l,CheckboxGroup:Kb,DatePicker:lwe,DatePickerPanel:uwe,DateRangePicker:RK,DateRangePickerPanel:cwe,Form:e_,FormItem:t_,InputAdornment:iK,Input:Do,InputGroup:Pme,InputNumber:Jy,Radio:WK,RadioGroup:OO,RadioButton:_M,Select:Mu,Option:yO,OptionGroup:fye,Slider:Fwe,SliderButton:jwe,Switch:$we,TagInput:XU,SelectInput:Pp,Textarea:qwe,Transfer:rCe,TimePicker:lCe,TimeRangePicker:uCe,TimePickerPanel:cCe,TreeSelect:UCe,ColorPickerPanel:P0e,ColorPicker:k0e,RangeInput:iwe,RangeInputPopup:mM,Avatar:R0e,AvatarGroup:N0e,Badge:H0e,Calendar:J0e,Card:Nl,Comment:oSe,Empty:hSe,Image:wl,ImageViewer:kO,List:ZSe,ListItem:XSe,ListItemMeta:JSe,Progress:n1e,Skeleton:y7,Statistic:f1e,Swiper:m1e,SwiperItem:b1e,BaseTable:$Oe,PrimaryTable:VOe,EnhancedTable:WOe,Table:Ip,Tag:pk,CheckTag:ZU,CheckTagGroup:Dbe,Timeline:YOe,TimelineItem:ZOe,Tooltip:So,Tree:e7,Collapse:RM,CollapsePanel:NM,Watermark:cxe,Rate:hxe,Typography:kxe,Text:Dxe,Title:Txe,Paragraph:Ixe,Alert:tq,DialogPlugin:PO,Dialog:OM,DialogCard:LSe,DrawerPlugin:rq,Drawer:Hxe,Guide:Uxe,LoadingPlugin:qL,LoadingDirective:M9,Loading:ar,MessagePlugin:vO,Message:Kxe,NotifyPlugin:jM,Notification:eEe,Popconfirm:rEe,Popup:Pa,Upload:kEe,ConfigProvider:IEe});/**
 * tdesign v1.12.0
 * (c) 2025 tdesign
 * @license MIT
 */function LEe(n,e){Object.keys(DE).forEach(function(t){/directive/i.test(t)||(/plugin/i.test(t)?n.use(DE[t]):n.use(DE[t],e))})}var MEe={install:LEe,version:"1.12.0"};function uq(n,e){return function(){return n.apply(e,arguments)}}const{toString:AEe}=Object.prototype,{getPrototypeOf:BM}=Object,IO=(n=>e=>{const t=AEe.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),$s=n=>(n=n.toLowerCase(),e=>IO(e)===n),LO=n=>e=>typeof e===n,{isArray:Lp}=Array,Gb=LO("undefined");function REe(n){return n!==null&&!Gb(n)&&n.constructor!==null&&!Gb(n.constructor)&&Ca(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const cq=$s("ArrayBuffer");function NEe(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&cq(n.buffer),e}const FEe=LO("string"),Ca=LO("function"),dq=LO("number"),MO=n=>n!==null&&typeof n=="object",jEe=n=>n===!0||n===!1,hC=n=>{if(IO(n)!=="object")return!1;const e=BM(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},HEe=$s("Date"),BEe=$s("File"),$Ee=$s("Blob"),VEe=$s("FileList"),WEe=n=>MO(n)&&Ca(n.pipe),zEe=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ca(n.append)&&((e=IO(n))==="formdata"||e==="object"&&Ca(n.toString)&&n.toString()==="[object FormData]"))},UEe=$s("URLSearchParams"),[KEe,qEe,GEe,YEe]=["ReadableStream","Request","Response","Headers"].map($s),ZEe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function a_(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Lp(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),a=o.length;let s;for(i=0;i<a;i++)s=o[i],e.call(null,n[s],s,n)}}function fq(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const tf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hq=n=>!Gb(n)&&n!==tf;function Vk(){const{caseless:n}=hq(this)&&this||{},e={},t=(i,r)=>{const o=n&&fq(e,r)||r;hC(e[o])&&hC(i)?e[o]=Vk(e[o],i):hC(i)?e[o]=Vk({},i):Lp(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&a_(arguments[i],t);return e}const XEe=(n,e,t,{allOwnKeys:i}={})=>(a_(e,(r,o)=>{t&&Ca(r)?n[o]=uq(r,t):n[o]=r},{allOwnKeys:i}),n),JEe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),QEe=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},ePe=(n,e,t,i)=>{let r,o,a;const s={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),o=r.length;o-- >0;)a=r[o],(!i||i(a,n,e))&&!s[a]&&(e[a]=n[a],s[a]=!0);n=t!==!1&&BM(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},tPe=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},nPe=n=>{if(!n)return null;if(Lp(n))return n;let e=n.length;if(!dq(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},iPe=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&BM(Uint8Array)),rPe=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(n,o[0],o[1])}},oPe=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},aPe=$s("HTMLFormElement"),sPe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),$4=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),lPe=$s("RegExp"),vq=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};a_(t,(r,o)=>{let a;(a=e(r,o,n))!==!1&&(i[o]=a||r)}),Object.defineProperties(n,i)},uPe=n=>{vq(n,(e,t)=>{if(Ca(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Ca(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},cPe=(n,e)=>{const t={},i=r=>{r.forEach(o=>{t[o]=!0})};return Lp(n)?i(n):i(String(n).split(e)),t},dPe=()=>{},fPe=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function hPe(n){return!!(n&&Ca(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const vPe=n=>{const e=new Array(10),t=(i,r)=>{if(MO(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=Lp(i)?[]:{};return a_(i,(a,s)=>{const l=t(a,r+1);!Gb(l)&&(o[s]=l)}),e[r]=void 0,o}}return i};return t(n,0)},gPe=$s("AsyncFunction"),pPe=n=>n&&(MO(n)||Ca(n))&&Ca(n.then)&&Ca(n.catch),gq=((n,e)=>n?setImmediate:e?((t,i)=>(tf.addEventListener("message",({source:r,data:o})=>{r===tf&&o===t&&i.length&&i.shift()()},!1),r=>{i.push(r),tf.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ca(tf.postMessage)),mPe=typeof queueMicrotask<"u"?queueMicrotask.bind(tf):typeof process<"u"&&process.nextTick||gq,Ue={isArray:Lp,isArrayBuffer:cq,isBuffer:REe,isFormData:zEe,isArrayBufferView:NEe,isString:FEe,isNumber:dq,isBoolean:jEe,isObject:MO,isPlainObject:hC,isReadableStream:KEe,isRequest:qEe,isResponse:GEe,isHeaders:YEe,isUndefined:Gb,isDate:HEe,isFile:BEe,isBlob:$Ee,isRegExp:lPe,isFunction:Ca,isStream:WEe,isURLSearchParams:UEe,isTypedArray:iPe,isFileList:VEe,forEach:a_,merge:Vk,extend:XEe,trim:ZEe,stripBOM:JEe,inherits:QEe,toFlatObject:ePe,kindOf:IO,kindOfTest:$s,endsWith:tPe,toArray:nPe,forEachEntry:rPe,matchAll:oPe,isHTMLForm:aPe,hasOwnProperty:$4,hasOwnProp:$4,reduceDescriptors:vq,freezeMethods:uPe,toObjectSet:cPe,toCamelCase:sPe,noop:dPe,toFiniteNumber:fPe,findKey:fq,global:tf,isContextDefined:hq,isSpecCompliantForm:hPe,toJSONObject:vPe,isAsyncFn:gPe,isThenable:pPe,setImmediate:gq,asap:mPe};function En(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Ue.inherits(En,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ue.toJSONObject(this.config),code:this.code,status:this.status}}});const pq=En.prototype,mq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{mq[n]={value:n}});Object.defineProperties(En,mq);Object.defineProperty(pq,"isAxiosError",{value:!0});En.from=(n,e,t,i,r,o)=>{const a=Object.create(pq);return Ue.toFlatObject(n,a,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),En.call(a,n.message,e,t,i,r),a.cause=n,a.name=n.name,o&&Object.assign(a,o),a};const bPe=null;function Wk(n){return Ue.isPlainObject(n)||Ue.isArray(n)}function bq(n){return Ue.endsWith(n,"[]")?n.slice(0,-2):n}function V4(n,e,t){return n?n.concat(e).map(function(r,o){return r=bq(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function yPe(n){return Ue.isArray(n)&&!n.some(Wk)}const _Pe=Ue.toFlatObject(Ue,{},null,function(e){return/^is[A-Z]/.test(e)});function AO(n,e,t){if(!Ue.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ue.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!Ue.isUndefined(p[g])});const i=t.metaTokens,r=t.visitor||c,o=t.dots,a=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Ue.isSpecCompliantForm(e);if(!Ue.isFunction(r))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Ue.isDate(v))return v.toISOString();if(!l&&Ue.isBlob(v))throw new En("Blob is not supported. Use a Buffer instead.");return Ue.isArrayBuffer(v)||Ue.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,g,p){let m=v;if(v&&!p&&typeof v=="object"){if(Ue.endsWith(g,"{}"))g=i?g:g.slice(0,-2),v=JSON.stringify(v);else if(Ue.isArray(v)&&yPe(v)||(Ue.isFileList(v)||Ue.endsWith(g,"[]"))&&(m=Ue.toArray(v)))return g=bq(g),m.forEach(function(C,O){!(Ue.isUndefined(C)||C===null)&&e.append(a===!0?V4([g],O,o):a===null?g:g+"[]",u(C))}),!1}return Wk(v)?!0:(e.append(V4(p,g,o),u(v)),!1)}const d=[],f=Object.assign(_Pe,{defaultVisitor:c,convertValue:u,isVisitable:Wk});function h(v,g){if(!Ue.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(v),Ue.forEach(v,function(m,b){(!(Ue.isUndefined(m)||m===null)&&r.call(e,m,Ue.isString(b)?b.trim():b,g,f))===!0&&h(m,g?g.concat(b):[b])}),d.pop()}}if(!Ue.isObject(n))throw new TypeError("data must be an object");return h(n),e}function W4(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function $M(n,e){this._pairs=[],n&&AO(n,this,e)}const yq=$M.prototype;yq.append=function(e,t){this._pairs.push([e,t])};yq.toString=function(e){const t=e?function(i){return e.call(this,i,W4)}:W4;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function wPe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _q(n,e,t){if(!e)return n;const i=t&&t.encode||wPe;Ue.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=Ue.isURLSearchParams(e)?e.toString():new $M(e,t).toString(i),o){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class z4{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ue.forEach(this.handlers,function(i){i!==null&&e(i)})}}const wq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CPe=typeof URLSearchParams<"u"?URLSearchParams:$M,SPe=typeof FormData<"u"?FormData:null,OPe=typeof Blob<"u"?Blob:null,xPe={isBrowser:!0,classes:{URLSearchParams:CPe,FormData:SPe,Blob:OPe},protocols:["http","https","file","blob","url","data"]},VM=typeof window<"u"&&typeof document<"u",zk=typeof navigator=="object"&&navigator||void 0,EPe=VM&&(!zk||["ReactNative","NativeScript","NS"].indexOf(zk.product)<0),PPe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kPe=VM&&window.location.href||"http://localhost",DPe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VM,hasStandardBrowserEnv:EPe,hasStandardBrowserWebWorkerEnv:PPe,navigator:zk,origin:kPe},Symbol.toStringTag,{value:"Module"})),ro={...DPe,...xPe};function TPe(n,e){return AO(n,new ro.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,o){return ro.isNode&&Ue.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function IPe(n){return Ue.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LPe(n){const e={},t=Object.keys(n);let i;const r=t.length;let o;for(i=0;i<r;i++)o=t[i],e[o]=n[o];return e}function Cq(n){function e(t,i,r,o){let a=t[o++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=o>=t.length;return a=!a&&Ue.isArray(r)?r.length:a,l?(Ue.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!s):((!r[a]||!Ue.isObject(r[a]))&&(r[a]=[]),e(t,i,r[a],o)&&Ue.isArray(r[a])&&(r[a]=LPe(r[a])),!s)}if(Ue.isFormData(n)&&Ue.isFunction(n.entries)){const t={};return Ue.forEachEntry(n,(i,r)=>{e(IPe(i),r,t,0)}),t}return null}function MPe(n,e,t){if(Ue.isString(n))try{return(e||JSON.parse)(n),Ue.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const s_={transitional:wq,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,o=Ue.isObject(e);if(o&&Ue.isHTMLForm(e)&&(e=new FormData(e)),Ue.isFormData(e))return r?JSON.stringify(Cq(e)):e;if(Ue.isArrayBuffer(e)||Ue.isBuffer(e)||Ue.isStream(e)||Ue.isFile(e)||Ue.isBlob(e)||Ue.isReadableStream(e))return e;if(Ue.isArrayBufferView(e))return e.buffer;if(Ue.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return TPe(e,this.formSerializer).toString();if((s=Ue.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return AO(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),MPe(e)):e}],transformResponse:[function(e){const t=this.transitional||s_.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(Ue.isResponse(e)||Ue.isReadableStream(e))return e;if(e&&Ue.isString(e)&&(i&&!this.responseType||r)){const a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(s){if(a)throw s.name==="SyntaxError"?En.from(s,En.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ro.classes.FormData,Blob:ro.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ue.forEach(["delete","get","head","post","put","patch"],n=>{s_.headers[n]={}});const APe=Ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RPe=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(a){r=a.indexOf(":"),t=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!t||e[t]&&APe[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},U4=Symbol("internals");function sm(n){return n&&String(n).trim().toLowerCase()}function vC(n){return n===!1||n==null?n:Ue.isArray(n)?n.map(vC):String(n)}function NPe(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const FPe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function TE(n,e,t,i,r){if(Ue.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!Ue.isString(e)){if(Ue.isString(i))return e.indexOf(i)!==-1;if(Ue.isRegExp(i))return i.test(e)}}function jPe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function HPe(n,e){const t=Ue.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,o,a){return this[i].call(this,e,r,o,a)},configurable:!0})})}let Go=class{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function o(s,l,u){const c=sm(l);if(!c)throw new Error("header name must be a non-empty string");const d=Ue.findKey(r,c);(!d||r[d]===void 0||u===!0||u===void 0&&r[d]!==!1)&&(r[d||l]=vC(s))}const a=(s,l)=>Ue.forEach(s,(u,c)=>o(u,c,l));if(Ue.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Ue.isString(e)&&(e=e.trim())&&!FPe(e))a(RPe(e),t);else if(Ue.isHeaders(e))for(const[s,l]of e.entries())o(l,s,i);else e!=null&&o(t,e,i);return this}get(e,t){if(e=sm(e),e){const i=Ue.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return NPe(r);if(Ue.isFunction(t))return t.call(this,r,i);if(Ue.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=sm(e),e){const i=Ue.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||TE(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function o(a){if(a=sm(a),a){const s=Ue.findKey(i,a);s&&(!t||TE(i,i[s],s,t))&&(delete i[s],r=!0)}}return Ue.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const o=t[i];(!e||TE(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,i={};return Ue.forEach(this,(r,o)=>{const a=Ue.findKey(i,o);if(a){t[a]=vC(r),delete t[o];return}const s=e?jPe(o):String(o).trim();s!==o&&delete t[o],t[s]=vC(r),i[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ue.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&Ue.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[U4]=this[U4]={accessors:{}}).accessors,r=this.prototype;function o(a){const s=sm(a);i[s]||(HPe(r,a),i[s]=!0)}return Ue.isArray(e)?e.forEach(o):o(e),this}};Go.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ue.reduceDescriptors(Go.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Ue.freezeMethods(Go);function IE(n,e){const t=this||s_,i=e||t,r=Go.from(i.headers);let o=i.data;return Ue.forEach(n,function(s){o=s.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function Sq(n){return!!(n&&n.__CANCEL__)}function Mp(n,e,t){En.call(this,n??"canceled",En.ERR_CANCELED,e,t),this.name="CanceledError"}Ue.inherits(Mp,En,{__CANCEL__:!0});function Oq(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new En("Request failed with status code "+t.status,[En.ERR_BAD_REQUEST,En.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function BPe(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function $Pe(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,o=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[o];a||(a=u),t[r]=l,i[r]=u;let d=o,f=0;for(;d!==r;)f+=t[d++],d=d%n;if(r=(r+1)%n,r===o&&(o=(o+1)%n),u-a<e)return;const h=c&&u-c;return h?Math.round(f*1e3/h):void 0}}function VPe(n,e){let t=0,i=1e3/e,r,o;const a=(u,c=Date.now())=>{t=c,r=null,o&&(clearTimeout(o),o=null),n.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-t;d>=i?a(u,c):(r=u,o||(o=setTimeout(()=>{o=null,a(r)},i-d)))},()=>r&&a(r)]}const L0=(n,e,t=3)=>{let i=0;const r=$Pe(50,250);return VPe(o=>{const a=o.loaded,s=o.lengthComputable?o.total:void 0,l=a-i,u=r(l),c=a<=s;i=a;const d={loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&c?(s-a)/u:void 0,event:o,lengthComputable:s!=null,[e?"download":"upload"]:!0};n(d)},t)},K4=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},q4=n=>(...e)=>Ue.asap(()=>n(...e)),WPe=ro.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ro.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ro.origin),ro.navigator&&/(msie|trident)/i.test(ro.navigator.userAgent)):()=>!0,zPe=ro.hasStandardBrowserEnv?{write(n,e,t,i,r,o){const a=[n+"="+encodeURIComponent(e)];Ue.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),Ue.isString(i)&&a.push("path="+i),Ue.isString(r)&&a.push("domain="+r),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UPe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function KPe(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function xq(n,e,t){let i=!UPe(e);return n&&i||t==!1?KPe(n,e):e}const G4=n=>n instanceof Go?{...n}:n;function fh(n,e){e=e||{};const t={};function i(u,c,d,f){return Ue.isPlainObject(u)&&Ue.isPlainObject(c)?Ue.merge.call({caseless:f},u,c):Ue.isPlainObject(c)?Ue.merge({},c):Ue.isArray(c)?c.slice():c}function r(u,c,d,f){if(Ue.isUndefined(c)){if(!Ue.isUndefined(u))return i(void 0,u,d,f)}else return i(u,c,d,f)}function o(u,c){if(!Ue.isUndefined(c))return i(void 0,c)}function a(u,c){if(Ue.isUndefined(c)){if(!Ue.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function s(u,c,d){if(d in e)return i(u,c);if(d in n)return i(void 0,u)}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(u,c,d)=>r(G4(u),G4(c),d,!0)};return Ue.forEach(Object.keys(Object.assign({},n,e)),function(c){const d=l[c]||r,f=d(n[c],e[c],c);Ue.isUndefined(f)&&d!==s||(t[c]=f)}),t}const Eq=n=>{const e=fh({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:a,auth:s}=e;e.headers=a=Go.from(a),e.url=_q(xq(e.baseURL,e.url),n.params,n.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let l;if(Ue.isFormData(t)){if(ro.hasStandardBrowserEnv||ro.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if(ro.hasStandardBrowserEnv&&(i&&Ue.isFunction(i)&&(i=i(e)),i||i!==!1&&WPe(e.url))){const u=r&&o&&zPe.read(o);u&&a.set(r,u)}return e},qPe=typeof XMLHttpRequest<"u",GPe=qPe&&function(n){return new Promise(function(t,i){const r=Eq(n);let o=r.data;const a=Go.from(r.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=r,c,d,f,h,v;function g(){h&&h(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let p=new XMLHttpRequest;p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout;function m(){if(!p)return;const C=Go.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:C,config:n,request:p};Oq(function(P){t(P),g()},function(P){i(P),g()},w),p=null}"onloadend"in p?p.onloadend=m:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(m)},p.onabort=function(){p&&(i(new En("Request aborted",En.ECONNABORTED,n,p)),p=null)},p.onerror=function(){i(new En("Network Error",En.ERR_NETWORK,n,p)),p=null},p.ontimeout=function(){let O=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||wq;r.timeoutErrorMessage&&(O=r.timeoutErrorMessage),i(new En(O,w.clarifyTimeoutError?En.ETIMEDOUT:En.ECONNABORTED,n,p)),p=null},o===void 0&&a.setContentType(null),"setRequestHeader"in p&&Ue.forEach(a.toJSON(),function(O,w){p.setRequestHeader(w,O)}),Ue.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),s&&s!=="json"&&(p.responseType=r.responseType),u&&([f,v]=L0(u,!0),p.addEventListener("progress",f)),l&&p.upload&&([d,h]=L0(l),p.upload.addEventListener("progress",d),p.upload.addEventListener("loadend",h)),(r.cancelToken||r.signal)&&(c=C=>{p&&(i(!C||C.type?new Mp(null,n,p):C),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const b=BPe(r.url);if(b&&ro.protocols.indexOf(b)===-1){i(new En("Unsupported protocol "+b+":",En.ERR_BAD_REQUEST,n));return}p.send(o||null)})},YPe=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const o=function(u){if(!r){r=!0,s();const c=u instanceof Error?u:this.reason;i.abort(c instanceof En?c:new Mp(c instanceof Error?c.message:c))}};let a=e&&setTimeout(()=>{a=null,o(new En(`timeout ${e} of ms exceeded`,En.ETIMEDOUT))},e);const s=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),n=null)};n.forEach(u=>u.addEventListener("abort",o));const{signal:l}=i;return l.unsubscribe=()=>Ue.asap(s),l}},ZPe=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},XPe=async function*(n,e){for await(const t of JPe(n))yield*ZPe(t,e)},JPe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Y4=(n,e,t,i)=>{const r=XPe(n,e);let o=0,a,s=l=>{a||(a=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await r.next();if(u){s(),l.close();return}let d=c.byteLength;if(t){let f=o+=d;t(f)}l.enqueue(new Uint8Array(c))}catch(u){throw s(u),u}},cancel(l){return s(l),r.return()}},{highWaterMark:2})},RO=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pq=RO&&typeof ReadableStream=="function",QPe=RO&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),kq=(n,...e)=>{try{return!!n(...e)}catch{return!1}},eke=Pq&&kq(()=>{let n=!1;const e=new Request(ro.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Z4=64*1024,Uk=Pq&&kq(()=>Ue.isReadableStream(new Response("").body)),M0={stream:Uk&&(n=>n.body)};RO&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!M0[e]&&(M0[e]=Ue.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new En(`Response type '${e}' is not supported`,En.ERR_NOT_SUPPORT,i)})})})(new Response);const tke=async n=>{if(n==null)return 0;if(Ue.isBlob(n))return n.size;if(Ue.isSpecCompliantForm(n))return(await new Request(ro.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ue.isArrayBufferView(n)||Ue.isArrayBuffer(n))return n.byteLength;if(Ue.isURLSearchParams(n)&&(n=n+""),Ue.isString(n))return(await QPe(n)).byteLength},nke=async(n,e)=>{const t=Ue.toFiniteNumber(n.getContentLength());return t??tke(e)},ike=RO&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=Eq(n);u=u?(u+"").toLowerCase():"text";let h=YPe([r,o&&o.toAbortSignal()],a),v;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(l&&eke&&t!=="get"&&t!=="head"&&(p=await nke(c,i))!==0){let w=new Request(e,{method:"POST",body:i,duplex:"half"}),E;if(Ue.isFormData(i)&&(E=w.headers.get("content-type"))&&c.setContentType(E),w.body){const[P,D]=K4(p,L0(q4(l)));i=Y4(w.body,Z4,P,D)}}Ue.isString(d)||(d=d?"include":"omit");const m="credentials"in Request.prototype;v=new Request(e,{...f,signal:h,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",credentials:m?d:void 0});let b=await fetch(v);const C=Uk&&(u==="stream"||u==="response");if(Uk&&(s||C&&g)){const w={};["status","statusText","headers"].forEach(k=>{w[k]=b[k]});const E=Ue.toFiniteNumber(b.headers.get("content-length")),[P,D]=s&&K4(E,L0(q4(s),!0))||[];b=new Response(Y4(b.body,Z4,P,()=>{D&&D(),g&&g()}),w)}u=u||"text";let O=await M0[Ue.findKey(M0,u)||"text"](b,n);return!C&&g&&g(),await new Promise((w,E)=>{Oq(w,E,{data:O,headers:Go.from(b.headers),status:b.status,statusText:b.statusText,config:n,request:v})})}catch(m){throw g&&g(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new En("Network Error",En.ERR_NETWORK,n,v),{cause:m.cause||m}):En.from(m,m&&m.code,n,v)}}),Kk={http:bPe,xhr:GPe,fetch:ike};Ue.forEach(Kk,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const X4=n=>`- ${n}`,rke=n=>Ue.isFunction(n)||n===null||n===!1,Dq={getAdapter:n=>{n=Ue.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let o=0;o<e;o++){t=n[o];let a;if(i=t,!rke(t)&&(i=Kk[(a=String(t)).toLowerCase()],i===void 0))throw new En(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(X4).join(`
`):" "+X4(o[0]):"as no adapter specified";throw new En("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Kk};function LE(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Mp(null,n)}function J4(n){return LE(n),n.headers=Go.from(n.headers),n.data=IE.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Dq.getAdapter(n.adapter||s_.adapter)(n).then(function(i){return LE(n),i.data=IE.call(n,n.transformResponse,i),i.headers=Go.from(i.headers),i},function(i){return Sq(i)||(LE(n),i&&i.response&&(i.response.data=IE.call(n,n.transformResponse,i.response),i.response.headers=Go.from(i.response.headers))),Promise.reject(i)})}const Tq="1.8.2",NO={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{NO[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Q4={};NO.transitional=function(e,t,i){function r(o,a){return"[Axios v"+Tq+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,s)=>{if(e===!1)throw new En(r(a," has been removed"+(t?" in "+t:"")),En.ERR_DEPRECATED);return t&&!Q4[a]&&(Q4[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,a,s):!0}};NO.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function oke(n,e,t){if(typeof n!="object")throw new En("options must be an object",En.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const o=i[r],a=e[o];if(a){const s=n[o],l=s===void 0||a(s,o,n);if(l!==!0)throw new En("option "+o+" must be "+l,En.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new En("Unknown option "+o,En.ERR_BAD_OPTION)}}const gC={assertOptions:oke,validators:NO},Ys=gC.validators;let ff=class{constructor(e){this.defaults=e,this.interceptors={request:new z4,response:new z4}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=fh(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:o}=t;i!==void 0&&gC.assertOptions(i,{silentJSONParsing:Ys.transitional(Ys.boolean),forcedJSONParsing:Ys.transitional(Ys.boolean),clarifyTimeoutError:Ys.transitional(Ys.boolean)},!1),r!=null&&(Ue.isFunction(r)?t.paramsSerializer={serialize:r}:gC.assertOptions(r,{encode:Ys.function,serialize:Ys.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),gC.assertOptions(t,{baseUrl:Ys.spelling("baseURL"),withXsrfToken:Ys.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&Ue.merge(o.common,o[t.method]);o&&Ue.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),t.headers=Go.concat(a,o);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!l){const v=[J4.bind(this),void 0];for(v.unshift.apply(v,s),v.push.apply(v,u),f=v.length,c=Promise.resolve(t);d<f;)c=c.then(v[d++],v[d++]);return c}f=s.length;let h=t;for(d=0;d<f;){const v=s[d++],g=s[d++];try{h=v(h)}catch(p){g.call(this,p);break}}try{c=J4.call(this,h)}catch(v){return Promise.reject(v)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=fh(this.defaults,e);const t=xq(e.baseURL,e.url,e.allowAbsoluteUrls);return _q(t,e.params,e.paramsSerializer)}};Ue.forEach(["delete","get","head","options"],function(e){ff.prototype[e]=function(t,i){return this.request(fh(i||{},{method:e,url:t,data:(i||{}).data}))}});Ue.forEach(["post","put","patch"],function(e){function t(i){return function(o,a,s){return this.request(fh(s||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}ff.prototype[e]=t(),ff.prototype[e+"Form"]=t(!0)});let ake=class Iq{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const a=new Promise(s=>{i.subscribe(s),o=s}).then(r);return a.cancel=function(){i.unsubscribe(o)},a},e(function(o,a,s){i.reason||(i.reason=new Mp(o,a,s),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Iq(function(r){e=r}),cancel:e}}};function ske(n){return function(t){return n.apply(null,t)}}function lke(n){return Ue.isObject(n)&&n.isAxiosError===!0}const qk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qk).forEach(([n,e])=>{qk[e]=n});function Lq(n){const e=new ff(n),t=uq(ff.prototype.request,e);return Ue.extend(t,ff.prototype,e,{allOwnKeys:!0}),Ue.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return Lq(fh(n,r))},t}const fr=Lq(s_);fr.Axios=ff;fr.CanceledError=Mp;fr.CancelToken=ake;fr.isCancel=Sq;fr.VERSION=Tq;fr.toFormData=AO;fr.AxiosError=En;fr.Cancel=fr.CanceledError;fr.all=function(e){return Promise.all(e)};fr.spread=ske;fr.isAxiosError=lke;fr.mergeConfig=fh;fr.AxiosHeaders=Go;fr.formToJSON=n=>Cq(Ue.isHTMLForm(n)?new FormData(n):n);fr.getAdapter=Dq.getAdapter;fr.HttpStatusCode=qk;fr.default=fr;const{Axios:q$e,AxiosError:G$e,CanceledError:Y$e,isCancel:Z$e,CancelToken:X$e,VERSION:J$e,all:Q$e,Cancel:eVe,isAxiosError:tVe,spread:nVe,toFormData:iVe,AxiosHeaders:rVe,HttpStatusCode:oVe,formToJSON:aVe,getAdapter:sVe,mergeConfig:lVe}=fr,uke={"r-admin":["i-manage","i-manage-problem","i-manage-judge"]};function cke(n){if(n==null)return[];const e=[];for(const t of n){const i=uke[t];i!=null&&e.push(...i)}return[...new Set(e)]}function dke(n,e){if(n==null||e==null)return!1;const t=cke(n);for(const i of e)if(!t.includes(i))return!1;return!0}const Wg=U1("user",{state:()=>({token:"",userId:-1,username:"",nickname:"",roles:[]}),getters:{getToken(){return this.token},getUserId(){return this.userId},getUsername(){return this.username},getNickname(){return this.nickname}},actions:{clear(){this.$patch({token:"",userId:-1,username:"",nickname:"",roles:[]})},loadResponse(n){this.$patch({token:n.token,userId:n.user_id,username:n.username,nickname:n.nickname,roles:n.roles})},isLogin(){return this.token!=null&&this.token!=""},hasAllAuths(n){return n?dke(this.roles,n):!0}},persist:!0}),fke="https://oj-api.didapipa.com/",ea=fr.create({baseURL:fke,timeout:6e4,withCredentials:!0,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});ea.interceptors.request.use(n=>{const t=Wg().getToken;return t&&(n.headers["X-Token"]=t),n},n=>Promise.reject(n));ea.interceptors.response.use(function(n){return n.data},function(n){return Promise.reject(n)});function hke(n,e){return ea({url:"/user/login",method:"post",data:{username:n,password:e}})}function vke(){return ea({url:"/user/login/refresh",method:"post"})}const Mq=U1("login",{state:()=>({Loaded:!1}),getters:{isLoaded(){return this.Loaded}}}),WM=U1("webStyle",{state:()=>({title:""}),getters:{getTitle(){return this.title}},actions:{setTitle(n){this.title=n}}}),FO=U1("sidebarStyle",{state:()=>({showSidebar:!1,forceHiddenSidebar:!1,menuActiveName:"",menuList:[]}),getters:{getMenuList(){return this.menuList}},actions:{setSidebarShow(n){this.showSidebar=n},setForceHiddenSidebar(n){this.forceHiddenSidebar=n},setMenuActiveName(n){this.menuActiveName=n},clearMenuList(){this.menuList=[]},setMenuList(n){this.menuList=n},addMenuList(n){this.menuList.push(n)}}}),kr=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},gke={},pke={class:"sh-main"};function mke(n,e){const t=Nl,i=xp,r=Op;return sn(),xr("div",pke,[x(r,null,{default:ze(()=>[x(i,{span:6},{default:ze(()=>[x(t,{title:"正在完善，欢迎提供意见建议"},{default:ze(()=>e[0]||(e[0]=[Si("p",null,[Si("a",{href:"https://codeoj.cn/",target:"_blank"},"CodeOJ"),rn("的迁移计划")],-1),Si("p",null,"正在开发中",-1)])),_:1})]),_:1})]),_:1})])}const bke=kr(gke,[["render",mke],["__scopeId","data-v-13691e65"]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const xv=typeof document<"u";function Aq(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function yke(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Aq(n.default)}const pi=Object.assign;function ME(n,e){const t={};for(const i in e){const r=e[i];t[i]=Ls(r)?r.map(n):n(r)}return t}const ib=()=>{},Ls=Array.isArray,Rq=/#/g,_ke=/&/g,wke=/\//g,Cke=/=/g,Ske=/\?/g,Nq=/\+/g,Oke=/%5B/g,xke=/%5D/g,Fq=/%5E/g,Eke=/%60/g,jq=/%7B/g,Pke=/%7C/g,Hq=/%7D/g,kke=/%20/g;function zM(n){return encodeURI(""+n).replace(Pke,"|").replace(Oke,"[").replace(xke,"]")}function Dke(n){return zM(n).replace(jq,"{").replace(Hq,"}").replace(Fq,"^")}function Gk(n){return zM(n).replace(Nq,"%2B").replace(kke,"+").replace(Rq,"%23").replace(_ke,"%26").replace(Eke,"`").replace(jq,"{").replace(Hq,"}").replace(Fq,"^")}function Tke(n){return Gk(n).replace(Cke,"%3D")}function Ike(n){return zM(n).replace(Rq,"%23").replace(Ske,"%3F")}function Lke(n){return n==null?"":Ike(n).replace(wke,"%2F")}function Yb(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const Mke=/\/$/,Ake=n=>n.replace(Mke,"");function AE(n,e,t="/"){let i,r={},o="",a="";const s=e.indexOf("#");let l=e.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(i=e.slice(0,l),o=e.slice(l+1,s>-1?s:e.length),r=n(o)),s>-1&&(i=i||e.slice(0,s),a=e.slice(s,e.length)),i=jke(i??e,t),{fullPath:i+(o&&"?")+o+a,path:i,query:r,hash:Yb(a)}}function Rke(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function e5(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function Nke(n,e,t){const i=e.matched.length-1,r=t.matched.length-1;return i>-1&&i===r&&zg(e.matched[i],t.matched[r])&&Bq(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function zg(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function Bq(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!Fke(n[t],e[t]))return!1;return!0}function Fke(n,e){return Ls(n)?t5(n,e):Ls(e)?t5(e,n):n===e}function t5(n,e){return Ls(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function jke(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let o=t.length-1,a,s;for(a=0;a<i.length;a++)if(s=i[a],s!==".")if(s==="..")o>1&&o--;else break;return t.slice(0,o).join("/")+"/"+i.slice(a).join("/")}const cc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Zb;(function(n){n.pop="pop",n.push="push"})(Zb||(Zb={}));var rb;(function(n){n.back="back",n.forward="forward",n.unknown=""})(rb||(rb={}));function Hke(n){if(!n)if(xv){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Ake(n)}const Bke=/^[^#]+#/;function $ke(n,e){return n.replace(Bke,"#")+e}function Vke(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const jO=()=>({left:window.scrollX,top:window.scrollY});function Wke(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=Vke(r,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function n5(n,e){return(history.state?history.state.position-e:-1)+n}const Yk=new Map;function zke(n,e){Yk.set(n,e)}function Uke(n){const e=Yk.get(n);return Yk.delete(n),e}let Kke=()=>location.protocol+"//"+location.host;function $q(n,e){const{pathname:t,search:i,hash:r}=e,o=n.indexOf("#");if(o>-1){let s=r.includes(n.slice(o))?n.slice(o).length:1,l=r.slice(s);return l[0]!=="/"&&(l="/"+l),e5(l,"")}return e5(t,n)+i+r}function qke(n,e,t,i){let r=[],o=[],a=null;const s=({state:f})=>{const h=$q(n,location),v=t.value,g=e.value;let p=0;if(f){if(t.value=h,e.value=f,a&&a===v){a=null;return}p=g?f.position-g.position:0}else i(h);r.forEach(m=>{m(t.value,v,{delta:p,type:Zb.pop,direction:p?p>0?rb.forward:rb.back:rb.unknown})})};function l(){a=t.value}function u(f){r.push(f);const h=()=>{const v=r.indexOf(f);v>-1&&r.splice(v,1)};return o.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(pi({},f.state,{scroll:jO()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function i5(n,e,t,i=!1,r=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:r?jO():null}}function Gke(n){const{history:e,location:t}=window,i={value:$q(n,t)},r={value:e.state};r.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const d=n.indexOf("#"),f=d>-1?(t.host&&document.querySelector("base")?n:n.slice(d))+l:Kke()+n+l;try{e[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(h){console.error(h),t[c?"replace":"assign"](f)}}function a(l,u){const c=pi({},e.state,i5(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});o(l,c,!0),i.value=l}function s(l,u){const c=pi({},r.value,e.state,{forward:l,scroll:jO()});o(c.current,c,!0);const d=pi({},i5(i.value,l,null),{position:c.position+1},u);o(l,d,!1),i.value=l}return{location:i,state:r,push:s,replace:a}}function Yke(n){n=Hke(n);const e=Gke(n),t=qke(n,e.state,e.location,e.replace);function i(o,a=!0){a||t.pauseListeners(),history.go(o)}const r=pi({location:"",base:n,go:i,createHref:$ke.bind(null,n)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Zke(n){return typeof n=="string"||n&&typeof n=="object"}function Vq(n){return typeof n=="string"||typeof n=="symbol"}const Wq=Symbol("");var r5;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(r5||(r5={}));function Ug(n,e){return pi(new Error,{type:n,[Wq]:!0},e)}function ql(n,e){return n instanceof Error&&Wq in n&&(e==null||!!(n.type&e))}const o5="[^/]+?",Xke={sensitive:!1,strict:!1,start:!0,end:!0},Jke=/[.+*?^${}()[\]/\\]/g;function Qke(n,e){const t=pi({},Xke,e),i=[];let r=t.start?"^":"";const o=[];for(const u of n){const c=u.length?[]:[90];t.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(t.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(Jke,"\\$&"),h+=40;else if(f.type===1){const{value:v,repeatable:g,optional:p,regexp:m}=f;o.push({name:v,repeatable:g,optional:p});const b=m||o5;if(b!==o5){h+=10;try{new RegExp(`(${b})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${v}" (${b}): `+O.message)}}let C=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(C=p&&u.length<2?`(?:/${C})`:"/"+C),p&&(C+="?"),r+=C,h+=20,p&&(h+=-8),g&&(h+=-20),b===".*"&&(h+=-50)}c.push(h)}i.push(c)}if(t.strict&&t.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,t.sensitive?"":"i");function s(u){const c=u.match(a),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",v=o[f-1];d[v.name]=h&&v.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of n){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:v,repeatable:g,optional:p}=h,m=v in u?u[v]:"";if(Ls(m)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const b=Ls(m)?m.join("/"):m;if(!b)if(p)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${v}"`);c+=b}}return c||"/"}return{re:a,score:i,keys:o,parse:s,stringify:l}}function eDe(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function zq(n,e){let t=0;const i=n.score,r=e.score;for(;t<i.length&&t<r.length;){const o=eDe(i[t],r[t]);if(o)return o;t++}if(Math.abs(r.length-i.length)===1){if(a5(i))return 1;if(a5(r))return-1}return r.length-i.length}function a5(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const tDe={type:0,value:""},nDe=/[a-zA-Z0-9_]/;function iDe(n){if(!n)return[[]];if(n==="/")return[[tDe]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(h){throw new Error(`ERR (${t})/"${u}": ${h}`)}let t=0,i=t;const r=[];let o;function a(){o&&r.push(o),o=[]}let s=0,l,u="",c="";function d(){u&&(t===0?o.push({type:0,value:u}):t===1||t===2||t===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;s<n.length;){if(l=n[s++],l==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),t=1):f();break;case 4:f(),t=i;break;case 1:l==="("?t=2:nDe.test(l)?f():(d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:t=3:c+=l;break;case 3:d(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),a(),r}function rDe(n,e,t){const i=Qke(iDe(n.path),t),r=pi(i,{record:n,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function oDe(n,e){const t=[],i=new Map;e=c5({strict:!1,end:!0,sensitive:!1},e);function r(d){return i.get(d)}function o(d,f,h){const v=!h,g=l5(d);g.aliasOf=h&&h.record;const p=c5(e,d),m=[g];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const w of O)m.push(l5(pi({},g,{components:h?h.record.components:g.components,path:w,aliasOf:h?h.record:g})))}let b,C;for(const O of m){const{path:w}=O;if(f&&w[0]!=="/"){const E=f.record.path,P=E[E.length-1]==="/"?"":"/";O.path=f.record.path+(w&&P+w)}if(b=rDe(O,f,p),h?h.alias.push(b):(C=C||b,C!==b&&C.alias.push(b),v&&d.name&&!u5(b)&&a(d.name)),Uq(b)&&l(b),g.children){const E=g.children;for(let P=0;P<E.length;P++)o(E[P],b,h&&h.children[P])}h=h||b}return C?()=>{a(C)}:ib}function a(d){if(Vq(d)){const f=i.get(d);f&&(i.delete(d),t.splice(t.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=t.indexOf(d);f>-1&&(t.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function s(){return t}function l(d){const f=lDe(d,t);t.splice(f,0,d),d.record.name&&!u5(d)&&i.set(d.record.name,d)}function u(d,f){let h,v={},g,p;if("name"in d&&d.name){if(h=i.get(d.name),!h)throw Ug(1,{location:d});p=h.record.name,v=pi(s5(f.params,h.keys.filter(C=>!C.optional).concat(h.parent?h.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),d.params&&s5(d.params,h.keys.map(C=>C.name))),g=h.stringify(v)}else if(d.path!=null)g=d.path,h=t.find(C=>C.re.test(g)),h&&(v=h.parse(g),p=h.record.name);else{if(h=f.name?i.get(f.name):t.find(C=>C.re.test(f.path)),!h)throw Ug(1,{location:d,currentLocation:f});p=h.record.name,v=pi({},f.params,d.params),g=h.stringify(v)}const m=[];let b=h;for(;b;)m.unshift(b.record),b=b.parent;return{name:p,path:g,params:v,matched:m,meta:sDe(m)}}n.forEach(d=>o(d));function c(){t.length=0,i.clear()}return{addRoute:o,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:s,getRecordMatcher:r}}function s5(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function l5(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:aDe(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function aDe(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="object"?t[i]:t;return e}function u5(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function sDe(n){return n.reduce((e,t)=>pi(e,t.meta),{})}function c5(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function lDe(n,e){let t=0,i=e.length;for(;t!==i;){const o=t+i>>1;zq(n,e[o])<0?i=o:t=o+1}const r=uDe(n);return r&&(i=e.lastIndexOf(r,i-1)),i}function uDe(n){let e=n;for(;e=e.parent;)if(Uq(e)&&zq(n,e)===0)return e}function Uq({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function cDe(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<i.length;++r){const o=i[r].replace(Nq," "),a=o.indexOf("="),s=Yb(a<0?o:o.slice(0,a)),l=a<0?null:Yb(o.slice(a+1));if(s in e){let u=e[s];Ls(u)||(u=e[s]=[u]),u.push(l)}else e[s]=l}return e}function d5(n){let e="";for(let t in n){const i=n[t];if(t=Tke(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Ls(i)?i.map(o=>o&&Gk(o)):[i&&Gk(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+t,o!=null&&(e+="="+o))})}return e}function dDe(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=Ls(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const fDe=Symbol(""),f5=Symbol(""),HO=Symbol(""),UM=Symbol(""),Zk=Symbol("");function lm(){let n=[];function e(i){return n.push(i),()=>{const r=n.indexOf(i);r>-1&&n.splice(r,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function Sc(n,e,t,i,r,o=a=>a()){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((s,l)=>{const u=f=>{f===!1?l(Ug(4,{from:t,to:e})):f instanceof Error?l(f):Zke(f)?l(Ug(2,{from:e,to:f})):(a&&i.enterCallbacks[r]===a&&typeof f=="function"&&a.push(f),s())},c=o(()=>n.call(i&&i.instances[r],e,t,u));let d=Promise.resolve(c);n.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function RE(n,e,t,i,r=o=>o()){const o=[];for(const a of n)for(const s in a.components){let l=a.components[s];if(!(e!=="beforeRouteEnter"&&!a.instances[s]))if(Aq(l)){const c=(l.__vccOpts||l)[e];c&&o.push(Sc(c,t,i,a,s,r))}else{let u=l();o.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${s}" at "${a.path}"`);const d=yke(c)?c.default:c;a.mods[s]=c,a.components[s]=d;const h=(d.__vccOpts||d)[e];return h&&Sc(h,t,i,a,s,r)()}))}}return o}function h5(n){const e=bn(HO),t=bn(UM),i=R(()=>{const l=Uo(n.to);return e.resolve(l)}),r=R(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],d=t.matched;if(!c||!d.length)return-1;const f=d.findIndex(zg.bind(null,c));if(f>-1)return f;const h=v5(l[u-2]);return u>1&&v5(c)===h&&d[d.length-1].path!==h?d.findIndex(zg.bind(null,l[u-2])):f}),o=R(()=>r.value>-1&&mDe(t.params,i.value.params)),a=R(()=>r.value>-1&&r.value===t.matched.length-1&&Bq(t.params,i.value.params));function s(l={}){if(pDe(l)){const u=e[Uo(n.replace)?"replace":"push"](Uo(n.to)).catch(ib);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:i,href:R(()=>i.value.href),isActive:o,isExactActive:a,navigate:s}}function hDe(n){return n.length===1?n[0]:n}const vDe=pe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:h5,setup(n,{slots:e}){const t=$n(h5(n)),{options:i}=bn(HO),r=R(()=>({[g5(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[g5(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const o=e.default&&hDe(e.default(t));return n.custom?o:At("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},o)}}}),gDe=vDe;function pDe(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function mDe(n,e){for(const t in e){const i=e[t],r=n[t];if(typeof i=="string"){if(i!==r)return!1}else if(!Ls(r)||r.length!==i.length||i.some((o,a)=>o!==r[a]))return!1}return!0}function v5(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const g5=(n,e,t)=>n??e??t,bDe=pe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const i=bn(Zk),r=R(()=>n.route||i.value),o=bn(f5,0),a=R(()=>{let u=Uo(o);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),s=R(()=>r.value.matched[a.value]);Xn(f5,R(()=>a.value+1)),Xn(fDe,s),Xn(Zk,r);const l=oe();return Pe(()=>[l.value,s.value,n.name],([u,c,d],[f,h,v])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!zg(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=r.value,c=n.name,d=s.value,f=d&&d.components[c];if(!f)return p5(t.default,{Component:f,route:u});const h=d.props[c],v=h?h===!0?u.params:typeof h=="function"?h(u):h:null,p=At(f,pi({},v,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return p5(t.default,{Component:p,route:u})||p}}});function p5(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const yDe=bDe;function _De(n){const e=oDe(n.routes,n),t=n.parseQuery||cDe,i=n.stringifyQuery||d5,r=n.history,o=lm(),a=lm(),s=lm(),l=VC(cc);let u=cc;xv&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ME.bind(null,$=>""+$),d=ME.bind(null,Lke),f=ME.bind(null,Yb);function h($,Y){let te,ae;return Vq($)?(te=e.getRecordMatcher($),ae=Y):ae=$,e.addRoute(ae,te)}function v($){const Y=e.getRecordMatcher($);Y&&e.removeRoute(Y)}function g(){return e.getRoutes().map($=>$.record)}function p($){return!!e.getRecordMatcher($)}function m($,Y){if(Y=pi({},Y||l.value),typeof $=="string"){const se=AE(t,$,Y.path),de=e.resolve({path:se.path},Y),he=r.createHref(se.fullPath);return pi(se,de,{params:f(de.params),hash:Yb(se.hash),redirectedFrom:void 0,href:he})}let te;if($.path!=null)te=pi({},$,{path:AE(t,$.path,Y.path).path});else{const se=pi({},$.params);for(const de in se)se[de]==null&&delete se[de];te=pi({},$,{params:d(se)}),Y.params=d(Y.params)}const ae=e.resolve(te,Y),le=$.hash||"";ae.params=c(f(ae.params));const Q=Rke(i,pi({},$,{hash:Dke(le),path:ae.path})),ne=r.createHref(Q);return pi({fullPath:Q,hash:le,query:i===d5?dDe($.query):$.query||{}},ae,{redirectedFrom:void 0,href:ne})}function b($){return typeof $=="string"?AE(t,$,l.value.path):pi({},$)}function C($,Y){if(u!==$)return Ug(8,{from:Y,to:$})}function O($){return P($)}function w($){return O(pi(b($),{replace:!0}))}function E($){const Y=$.matched[$.matched.length-1];if(Y&&Y.redirect){const{redirect:te}=Y;let ae=typeof te=="function"?te($):te;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=b(ae):{path:ae},ae.params={}),pi({query:$.query,hash:$.hash,params:ae.path!=null?{}:$.params},ae)}}function P($,Y){const te=u=m($),ae=l.value,le=$.state,Q=$.force,ne=$.replace===!0,se=E(te);if(se)return P(pi(b(se),{state:typeof se=="object"?pi({},le,se.state):le,force:Q,replace:ne}),Y||te);const de=te;de.redirectedFrom=Y;let he;return!Q&&Nke(i,ae,te)&&(he=Ug(16,{to:de,from:ae}),Z(ae,ae,!0,!1)),(he?Promise.resolve(he):L(de,ae)).catch(ge=>ql(ge)?ql(ge,2)?ge:q(ge):W(ge,de,ae)).then(ge=>{if(ge){if(ql(ge,2))return P(pi({replace:ne},b(ge.to),{state:typeof ge.to=="object"?pi({},le,ge.to.state):le,force:Q}),Y||de)}else ge=A(de,ae,!0,ne,le);return M(de,ae,ge),ge})}function D($,Y){const te=C($,Y);return te?Promise.reject(te):Promise.resolve()}function k($){const Y=ee.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext($):$()}function L($,Y){let te;const[ae,le,Q]=wDe($,Y);te=RE(ae.reverse(),"beforeRouteLeave",$,Y);for(const se of ae)se.leaveGuards.forEach(de=>{te.push(Sc(de,$,Y))});const ne=D.bind(null,$,Y);return te.push(ne),J(te).then(()=>{te=[];for(const se of o.list())te.push(Sc(se,$,Y));return te.push(ne),J(te)}).then(()=>{te=RE(le,"beforeRouteUpdate",$,Y);for(const se of le)se.updateGuards.forEach(de=>{te.push(Sc(de,$,Y))});return te.push(ne),J(te)}).then(()=>{te=[];for(const se of Q)if(se.beforeEnter)if(Ls(se.beforeEnter))for(const de of se.beforeEnter)te.push(Sc(de,$,Y));else te.push(Sc(se.beforeEnter,$,Y));return te.push(ne),J(te)}).then(()=>($.matched.forEach(se=>se.enterCallbacks={}),te=RE(Q,"beforeRouteEnter",$,Y,k),te.push(ne),J(te))).then(()=>{te=[];for(const se of a.list())te.push(Sc(se,$,Y));return te.push(ne),J(te)}).catch(se=>ql(se,8)?se:Promise.reject(se))}function M($,Y,te){s.list().forEach(ae=>k(()=>ae($,Y,te)))}function A($,Y,te,ae,le){const Q=C($,Y);if(Q)return Q;const ne=Y===cc,se=xv?history.state:{};te&&(ae||ne?r.replace($.fullPath,pi({scroll:ne&&se&&se.scroll},le)):r.push($.fullPath,le)),l.value=$,Z($,Y,te,ne),q()}let j;function V(){j||(j=r.listen(($,Y,te)=>{if(!K.listening)return;const ae=m($),le=E(ae);if(le){P(pi(le,{replace:!0,force:!0}),ae).catch(ib);return}u=ae;const Q=l.value;xv&&zke(n5(Q.fullPath,te.delta),jO()),L(ae,Q).catch(ne=>ql(ne,12)?ne:ql(ne,2)?(P(pi(b(ne.to),{force:!0}),ae).then(se=>{ql(se,20)&&!te.delta&&te.type===Zb.pop&&r.go(-1,!1)}).catch(ib),Promise.reject()):(te.delta&&r.go(-te.delta,!1),W(ne,ae,Q))).then(ne=>{ne=ne||A(ae,Q,!1),ne&&(te.delta&&!ql(ne,8)?r.go(-te.delta,!1):te.type===Zb.pop&&ql(ne,20)&&r.go(-1,!1)),M(ae,Q,ne)}).catch(ib)}))}let H=lm(),N=lm(),F;function W($,Y,te){q($);const ae=N.list();return ae.length?ae.forEach(le=>le($,Y,te)):console.error($),Promise.reject($)}function U(){return F&&l.value!==cc?Promise.resolve():new Promise(($,Y)=>{H.add([$,Y])})}function q($){return F||(F=!$,V(),H.list().forEach(([Y,te])=>$?te($):Y()),H.reset()),$}function Z($,Y,te,ae){const{scrollBehavior:le}=n;if(!xv||!le)return Promise.resolve();const Q=!te&&Uke(n5($.fullPath,0))||(ae||!te)&&history.state&&history.state.scroll||null;return tn().then(()=>le($,Y,Q)).then(ne=>ne&&Wke(ne)).catch(ne=>W(ne,$,Y))}const z=$=>r.go($);let ie;const ee=new Set,K={currentRoute:l,listening:!0,addRoute:h,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:p,getRoutes:g,resolve:m,options:n,push:O,replace:w,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:N.add,isReady:U,install($){const Y=this;$.component("RouterLink",gDe),$.component("RouterView",yDe),$.config.globalProperties.$router=Y,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Uo(l)}),xv&&!ie&&l.value===cc&&(ie=!0,O(r.location).catch(le=>{}));const te={};for(const le in cc)Object.defineProperty(te,le,{get:()=>l.value[le],enumerable:!0});$.provide(HO,Y),$.provide(UM,G6(te)),$.provide(Zk,l);const ae=$.unmount;ee.add($),$.unmount=function(){ee.delete($),ee.size<1&&(u=cc,j&&j(),j=null,l.value=cc,ie=!1,F=!1),ae()}}};function J($){return $.reduce((Y,te)=>Y.then(()=>k(te)),Promise.resolve())}return K}function wDe(n,e){const t=[],i=[],r=[],o=Math.max(e.matched.length,n.matched.length);for(let a=0;a<o;a++){const s=e.matched[a];s&&(n.matched.find(u=>zg(u,s))?i.push(s):t.push(s));const l=n.matched[a];l&&(e.matched.find(u=>zg(u,l))||r.push(l))}return[t,i,r]}function BO(){return bn(HO)}function Qu(n){return bn(UM)}const CDe={class:"sh-main"},SDe=pe({__name:"View404",setup(n){let e=Qu(),t=oe(e.fullPath);return(i,r)=>{const o=Bt;return sn(),xr("div",CDe,[Si("p",null,$i(Uo(t)),1),r[2]||(r[2]=Si("p",null,"该页面无效或已被迁移，请重新选择访问目标",-1)),x(o,{theme:"primary",onClick:r[0]||(r[0]=()=>i.$router.push("/"))},{default:ze(()=>r[1]||(r[1]=[rn("返回首页")])),_:1})])}}}),Kq=kr(SDe,[["__scopeId","data-v-d4218944"]]);let Xk=null;async function ODe(){Xk=await EDe()}function xDe(n,e="zh"){if(Xk==null)return[!1,n.toString()];const t=Xk[n.toString()];if(!t)return[!1,n.toString()];let i=t[e];return i||(e="zh",i=t[e]),i?[!0,i]:[!1,n.toString()]}async function EDe(){return new Promise((n,e)=>{n({404:{zh:"接口未找到"},1e3:{zh:"系统错误"},10001:{zh:"权限异常，请重新登陆后再试"},10002:{zh:"参数不符合要求"},10003:{zh:"未找到目标数据"},100001:{zh:"用户名不存在或密码不匹配"}})})}function Fl(){const{appContext:n}=Ui();return{globalProperties:n.config.globalProperties}}function $O(){return 1e3}function hh(n,e,t=3e3){n.$message.info({duration:t,content:e})}function pC(n,e,t=3e3){n.$message.error({duration:t,content:e})}function Oo(n,e,t=3e3){const[i,r]=xDe(e),o=i?r:`系统错误，错误提示[${r}]`;n.$message.error({duration:t,content:o})}const PDe={class:"dida-login-footer"},kDe=pe({__name:"LoginView",setup(n){const{globalProperties:e}=Fl(),t=Wg(),i=oe(!1),r=oe({account:"",password:""}),o=()=>{hh(e,"重置成功")},a=({validateResult:s,firstError:l})=>{i.value||hke(r.value.account,r.value.password).then(u=>{if(u.code===0){t.loadResponse(u.data),hh(e,"登录成功");let c=e.$route.query.redirect_uri;c||(c="/user/"+u.data.username),e.$router.push({path:c})}else Oo(e,u.code)}).catch(u=>{console.error("Login error",u),pC(e,"登录失败")})};return mt(()=>{if(t.isLogin()){e.$router.push({path:"/user"});return}}),(s,l)=>{const u=Do,c=t_,d=Bt,f=e_,h=Yy,v=Nl;return sn(),di(v,{class:"yj-login-card",title:"欢迎使用DidaOJ~"},{default:ze(()=>[x(f,{ref:"form",data:r.value,colon:!0,onReset:o,onSubmit:a,class:"yj-login-form","label-width":0},{default:ze(()=>[x(c,{name:"account"},{default:ze(()=>[x(u,{modelValue:r.value.account,"onUpdate:modelValue":l[0]||(l[0]=g=>r.value.account=g),clearable:"",placeholder:"请输入账户名"},{"prefix-icon":ze(()=>[x(Uo(Mfe))]),_:1},8,["modelValue"])]),_:1}),x(c,{name:"password"},{default:ze(()=>[x(u,{modelValue:r.value.password,"onUpdate:modelValue":l[1]||(l[1]=g=>r.value.password=g),type:"password",clearable:"",placeholder:"请输入密码"},{"prefix-icon":ze(()=>[x(Uo(she))]),_:1},8,["modelValue"])]),_:1}),x(c,null,{default:ze(()=>[x(d,{theme:"primary",type:"submit",block:"",loading:i.value},{default:ze(()=>l[2]||(l[2]=[rn("登录")])),_:1},8,["loading"])]),_:1})]),_:1},8,["data"]),Si("div",PDe,[x(h,null,{default:ze(()=>l[3]||(l[3]=[rn("忘记密码")])),_:1}),x(h,null,{default:ze(()=>l[4]||(l[4]=[rn("注册账户")])),_:1})])]),_:1})}}}),DDe=kr(kDe,[["__scopeId","data-v-b3cb57db"]]),TDe={};function IDe(n,e){return" TODO "}const LDe=kr(TDe,[["render",IDe]]),KM=[{name:"home",path:"/",title:"首页",showSidebar:!1,disableGenerateTab:!0,component:bke},{name:"problem",path:"/problem",title:"题目",icon:"dashboard",showSidebar:!0,redirect:"problem-list"},{name:"judge",path:"/judge",title:"评测",icon:"dashboard",showSidebar:!0,redirect:"judge-list"},{name:"contest",path:"/contest",title:"比赛",icon:"dashboard",showSidebar:!0,redirect:"contest-list"},{name:"contest-detail",title:"比赛",path:"/contest",showSidebar:!0,disableGenerateTab:!0,redirect:"contest-list"},{name:"manage",path:"/manage",title:"管理",icon:"dashboard",showSidebar:!0,redirect:"manage-problem",auths:["i-manage"]},{name:"login",path:"/login",title:"登陆",showSidebar:!1,disableGenerateTab:!0,component:DDe},{name:"user",path:"/user/:username+",title:"用户",showSidebar:!1,needLogin:!0,disableGenerateTab:!0,component:LDe},{name:"404",path:"/404",title:"404",showSidebar:!1,disableGenerateTab:!0,component:Kq}],MDe=n=>KM.find(e=>e.name==n),ADe=n=>{const e=[];return KM.forEach(t=>{!t.disableGenerateTab&&n.hasAllAuths(t.auths)&&e.push(t)}),e},RDe=n=>{KM.forEach(e=>{const t={name:e.name,path:e.path,meta:{title:e.title,tab:e.name,showSidebar:e.showSidebar,needLogin:e.needLogin,redirect:e.redirect,tabAuths:e.auths},component:e.component};n.push(t)})},NDe=pe({__name:"HeaderContent",setup(n){const e=Mq(),t=Wg(),{globalProperties:i}=Fl(),r=oe(e.isLoaded),o=oe(!1),a=oe(t.getUsername),s=oe(t.getNickname),l=oe(),u=()=>{l.value=ADe(t)};e.$subscribe((f,h)=>{r.value=h.Loaded}),t.$subscribe((f,h)=>{a.value=h.username,s.value=h.nickname,o.value=h.token!="",u()});const c=()=>{i.$router.currentRoute.value.name!=="login"&&i.$router.push({name:"login",query:{redirect_uri:i.$router.currentRoute.value.fullPath}})},d=()=>{t.clear(),i.$message.success({duration:3e3,content:"注销成功"}),i.$router.push({path:"/login",query:{redirect_uri:i.$router.currentRoute.value.fullPath}})};return mt(()=>{u()}),(f,h)=>{const v=mz("router-link"),g=XL,p=uM,m=RU,b=AU;return sn(),di(b,{modelValue:f.$route.meta.tab,"onUpdate:modelValue":h[0]||(h[0]=C=>f.$route.meta.tab=C),class:"sh-menu","expand-type":"popup"},{logo:ze(()=>[x(v,{to:"/",class:"sh-logo"},{default:ze(()=>h[1]||(h[1]=[rn("DidaOJ")])),_:1})]),operations:ze(()=>[r.value&&o.value?(sn(),di(m,{key:0,title:s.value},{icon:ze(()=>[x(g,{name:"user"})]),default:ze(()=>[x(p,{value:"user",to:{path:"/user/"+a.value}},{default:ze(()=>h[2]||(h[2]=[rn("个人空间")])),_:1},8,["to"]),x(p,{value:"user_logout",onClick:d},{default:ze(()=>h[3]||(h[3]=[rn(" 注销")])),_:1})]),_:1},8,["title"])):r.value?(sn(),di(p,{key:2,value:"login",onClick:c},{icon:ze(()=>[x(g,{name:"login"})]),default:ze(()=>[h[5]||(h[5]=rn(" 登录 "))]),_:1})):(sn(),di(p,{key:1,value:"login"},{icon:ze(()=>[x(g,{name:"login"})]),default:ze(()=>[h[4]||(h[4]=rn(" ... "))]),_:1}))]),default:ze(()=>[(sn(!0),xr(Ft,null,El(l.value,C=>(sn(),di(p,{key:C.name,value:C.name,to:{name:C.name}},{icon:ze(()=>[C.icon?(sn(),di(g,{key:0,name:C.icon},null,8,["name"])):ad("",!0)]),default:ze(()=>[rn(" "+$i(C.title),1)]),_:2},1032,["value","to"]))),128))]),_:1},8,["modelValue"])}}}),FDe=kr(NDe,[["__scopeId","data-v-9fdb245f"]]);function qq(n){return n.children!==void 0}function jDe(n){return n.children!==void 0}const HDe={id:"menu-container"},BDe=pe({__name:"SidebarContent",setup(n){const e=FO(),t=oe(!1),i=oe(null),r=oe(e.menuActiveName),o=oe(e.menuList),a=oe([]),s=oe(!1),l=()=>{r.value=e.menuActiveName;const c=JSON.stringify(o.value),d=JSON.stringify(e.menuList);c!==d&&(a.value.push([...e.menuList]),u())},u=async()=>{if(a.value.length>0&&!s.value){for(s.value=!0;a.value.length>1;)a.value.shift();const c=a.value.shift();t.value=c.length<=0,o.value=[],await tn(),i.value&&i.value.updateActiveName(),await new Promise(f=>setTimeout(f,300)),o.value=c,await tn(),i.value&&i.value.updateActiveName();const d=300;await new Promise(f=>setTimeout(f,d)),s.value=!1,await u()}};return e.$subscribe((c,d)=>{l()}),mt(()=>{l()}),(c,d)=>{const f=XL,h=uM,v=NU,g=MU,p=ar;return sn(),xr(Ft,null,[Si("div",HDe,[x(g,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=m=>r.value=m),theme:"light",class:"sh-menu-container"},{default:ze(()=>[x(qz,{name:"move-left"},{default:ze(()=>[(sn(!0),xr(Ft,null,El(o.value,(m,b)=>(sn(),xr(Ft,{key:b},[Uo(jDe)(m)?(sn(),di(v,{key:0,title:m.title},{default:ze(()=>[(sn(!0),xr(Ft,null,El(m.children,(C,O)=>(sn(),di(h,{key:C.name,value:C.name,to:C.to},IP({default:ze(()=>[rn(" "+$i(C.title),1)]),_:2},[C.icon?{name:"icon",fn:ze(()=>[x(f,{name:C.icon,class:Pg(C.iconClass)},null,8,["name","class"])]),key:"0"}:void 0]),1032,["value","to"]))),128))]),_:2},1032,["title"])):(sn(),di(h,{key:m.name,value:m.name,to:m.to},IP({default:ze(()=>[rn(" "+$i(m.title),1)]),_:2},[m.icon?{name:"icon",fn:ze(()=>[x(f,{name:m.icon,class:Pg(m.iconClass)},null,8,["name","class"])]),key:"0"}:void 0]),1032,["value","to"]))],64))),128))]),_:1})]),_:1},8,["modelValue"])]),x(p,{size:"small",loading:t.value,"show-overlay":!0,attach:"#menu-container",class:"sh-sidebar-loading",style:{"align-items":"flex-start","padding-top":"100px"}},null,8,["loading"])],64)}}}),$De=kr(BDe,[["__scopeId","data-v-96e2d89f"]]),VDe={};function WDe(n,e){return null}const zDe=kr(VDe,[["render",WDe]]),UDe={class:"footer"},KDe={class:"footer-left"},qDe={class:"foot-time"},GDe={class:"footer-center"},YDe={href:"https://boiltask.com",target:"_blank"},ZDe={class:"footer-right"},XDe={class:"foot-text"},JDe={href:"https://github.com/hpu-user/DiDaOJ-web",target:"_blank"},QDe=pe({__name:"FooterContent",setup(n){const e=oe("");function t(){e.value=new Date().toLocaleString()}return mt(()=>{t(),setInterval(()=>{t()},1e3)}),(i,r)=>{const o=Bt;return sn(),xr("div",UDe,[Si("div",KDe,[Si("p",qDe,$i(e.value),1)]),Si("div",GDe,[Si("a",YDe,[x(o,{theme:"default",variant:"outline",ghost:!0},{default:ze(()=>r[0]||(r[0]=[rn("@BoilTask")])),_:1})])]),Si("div",ZDe,[Si("p",XDe,[Si("a",JDe,[x(o,{theme:"default",variant:"outline",ghost:!0},{default:ze(()=>r[1]||(r[1]=[rn("@didaoj-web")])),_:1})])])])])}}}),eTe=kr(QDe,[["__scopeId","data-v-400ac98b"]]),bw=20,NE=100,FE=50,tTe=pe({__name:"ForceHiddenSidebarButton",setup(n){let e=FO();const t=oe({x:window.innerWidth-NE-bw,y:window.innerHeight-FE-bw}),i=oe(window.innerWidth),r=oe(window.innerHeight);let o=!1,a={x:0,y:0};const s=m=>{o=!0;const b=m.clientX??m.touches[0].clientX,C=m.clientY??m.touches[0].clientY;a={x:b-t.value.x,y:C-t.value.y},document.addEventListener("mousemove",l),document.addEventListener("touchmove",l),document.addEventListener("mouseup",u),document.addEventListener("touchend",u)},l=m=>{if(!o)return;const b=m.clientX??m.touches[0].clientX,C=m.clientY??m.touches[0].clientY;let O=b-a.x,w=C-a.y;O=Math.max(0,Math.min(O,i.value-NE)),w=Math.max(0,Math.min(w,r.value-FE)),t.value={x:O,y:w}},u=()=>{o=!1,document.removeEventListener("mousemove",l),document.removeEventListener("touchmove",l),document.removeEventListener("mouseup",u),document.removeEventListener("touchend",u)},c=()=>{i.value=window.innerWidth,r.value=window.innerHeight,t.value={x:Math.min(t.value.x,i.value-NE-bw),y:Math.min(t.value.y,r.value-FE-bw)}};let d=oe(e.forceHiddenSidebar),f=oe(e.forceHiddenSidebar);const h=()=>{d.value=!d.value,e.setForceHiddenSidebar(d.value)},v=()=>{f.value||(f.value=!0,e.setForceHiddenSidebar(d.value))},g=()=>{f.value&&(f.value=!1,e.setForceHiddenSidebar(!1))},p=m=>{m>=800?g():v()};return p(i.value),Pe(i,m=>{p(m)}),mt(()=>{window.addEventListener("resize",c)}),yi(()=>{window.removeEventListener("resize",c)}),(m,b)=>{const C=Bt;return Uo(f)?(sn(),di(C,{key:0,class:"draggable-button",style:N1({top:`${t.value.y}px`,left:`${t.value.x}px`}),onMousedown:s,onTouchstart:s,variant:"dashed",theme:"primary",onClick:h},{default:ze(()=>[rn($i(Uo(d)?"显示":"隐藏"),1)]),_:1},8,["style"])):ad("",!0)}}}),nTe=kr(tTe,[["__scopeId","data-v-1aee5506"]]),iTe={class:"sh-main"},rTe=pe({__name:"View403",setup(n){let e=Qu();const t=oe("");return mt(()=>{e.query.target?t.value=e.query.target:t.value=e.fullPath}),(i,r)=>{const o=Bt;return sn(),xr("div",iTe,[Si("p",null,$i(t.value),1),r[2]||(r[2]=Si("p",null,"该页面无访问权限，请更换访问目标或重新登陆后再试",-1)),x(o,{theme:"primary",onClick:r[0]||(r[0]=()=>i.$router.push("/"))},{default:ze(()=>r[1]||(r[1]=[rn("返回首页")])),_:1})])}}}),Gq=kr(rTe,[["__scopeId","data-v-777362b3"]]),yw="DidaOJ",oTe=pe({__name:"App",setup(n){const{globalProperties:e}=Fl(),t=Mq(),i=Wg(),r=WM(),o=FO();t.$patch({Loaded:!1});const a=i.getToken,s=oe(!1),l=oe(!1);r.title&&r.title.length>0?document.title=r.title+" - "+yw:document.title=yw,r.$subscribe((f,h)=>{h.title&&h.title.length>0?document.title=h.title+" - "+yw:document.title=yw}),o.$subscribe((f,h)=>{s.value=h.showSidebar,l.value=s.value&&!h.forceHiddenSidebar});const u=Qu(),c=R(()=>{const f=u.meta.auths;return f?!i.hasAllAuths(f):!1});function d(){e.$message.warning({duration:3e3,content:"登陆状态失效"}),t.$patch({Loaded:!0}),i.clear()}return mt(()=>{if(a==""){t.$patch({Loaded:!0});return}vke().then(f=>{f.code==0?(i.loadResponse(f.data),t.$patch({Loaded:!0})):(Oo(e,f.code),t.$patch({Loaded:!0}),i.clear())}).catch(f=>{console.log(f),d()})}),(f,h)=>{const v=G9,g=K9,p=mz("RouterView"),m=Y9,b=q9,C=lK;return sn(),xr(Ft,null,[x(b,null,{default:ze(()=>[x(v,{class:"sh-header"},{default:ze(()=>[x(FDe)]),_:1}),x(b,null,{default:ze(()=>[x(sd,{name:"slide"},{default:ze(()=>[l.value?(sn(),di(g,{key:0,class:"sh-sidebar"},{default:ze(()=>[x($De)]),_:1})):ad("",!0)]),_:1}),x(b,{class:Pg(["sh-main-layout",{expanded:!l.value}])},{default:ze(()=>[x(zDe),x(m,{class:"sh-main-content"},{default:ze(()=>[c.value?(sn(),di(Gq,{key:0})):(sn(),di(p,{key:1}))]),_:1}),x(eTe)]),_:1},8,["class"])]),_:1})]),_:1}),s.value?(sn(),di(nTe,{key:0})):ad("",!0),x(C,{container:"body",offset:["24px","80px"],size:"small"})],64)}}}),aTe=kr(oTe,[["__scopeId","data-v-044043ee"]]);var Yq=(n=>(n[n.Unknown=-1]="Unknown",n[n.C=0]="C",n[n.Cpp=1]="Cpp",n[n.Java=2]="Java",n[n.Python=3]="Python",n[n.Pascal=4]="Pascal",n[n.Golang=5]="Golang",n[n.Max=6]="Max",n))(Yq||{});function Zq(){const n=[-1,4,5,6];return Object.values(Yq).filter(e=>typeof e=="number"&&!n.includes(e)).map(e=>({value:e,label:Xq(e)}))}function sTe(n){return n>-1&&n<6}function Xq(n){switch(n){case 0:return"C";case 1:return"C++";case 2:return"Java";case 3:return"Python";case 4:return"Pascal";case 5:return"Golang";default:return"Unknown"}}function Jq(n){switch(n){case 0:return"c";case 1:return"cpp";case 2:return"java";case 3:return"python";case 4:return"pascal";case 5:return"golang";default:return"text"}}var gr=(n=>(n[n.Init=0]="Init",n[n.Rejudge=1]="Rejudge",n[n.Submitting=2]="Submitting",n[n.Queuing=3]="Queuing",n[n.Compiling=4]="Compiling",n[n.Running=5]="Running",n[n.Accept=6]="Accept",n[n.PE=7]="PE",n[n.WA=8]="WA",n[n.TLE=9]="TLE",n[n.MLE=10]="MLE",n[n.OLE=11]="OLE",n[n.RE=12]="RE",n[n.CE=13]="CE",n[n.CLE=14]="CLE",n[n.JudgeFail=15]="JudgeFail",n[n.SubmitFail=16]="SubmitFail",n[n.Unknown=17]="Unknown",n))(gr||{});const lTe=n=>{switch(n){case 0:return"普通评测";case 1:return"特殊评测";default:return"未知"}},A0=n=>{switch(n){case 0:return"等待处理";case 1:return"重新评测";case 2:return"提交中";case 3:return"队列中";case 4:return"编译中";case 5:return"运行中";case 6:return"通过";case 7:return"格式错误";case 8:return"答案错误";case 9:return"超时";case 10:return"内存超限";case 11:return"输出超限";case 12:return"运行错误";case 13:return"编译错误";case 14:return"编译超限";case 15:return"评测失败";case 16:return"提交失败";case 17:return"未知";default:return n}};function uTe(){const n=[17];return Object.values(gr).filter(e=>typeof e=="number"&&!n.includes(e)).map(e=>({value:e,label:A0(e)}))}function Xb(n){switch(n){case 0:case 1:case 2:case 4:case 5:return!0;default:return!1}}function Qq(n){var t;const e={};if(e.id=n.id,e.problemId=n.problem_id,e.status=n.status,Xb(n.status)?e.score="-":e.score=n.score.toString(),n.time?e.time=Math.ceil(n.time/1e6)+"ms":e.time="-",n.memory?e.memory=(n.memory/1024/1024).toFixed(2)+"MB":e.memory="-",e.language=Xq(n.language),e.codeLength=n.code_length,n.approve_time?e.approveTime=new Date(n.approve_time).toLocaleString():e.approveTime="-",e.author=n.author,e.authorUsername=n.author_username,e.authorNickname=n.author_nickname,e.code=n.code,e.compileMessage=n.compile_message,e.task=[],n.task)for(let i=0;i<((t=n.task)==null?void 0:t.length);i++){const r=n.task[i],o={};o.taskId=r.task_id,o.status=r.status,r.time?o.time=Math.ceil(r.time/1e6)+"ms":o.time="-",r.memory?o.memory=(r.memory/1024/1024).toFixed(2)+"MB":o.memory="-",o.score=r.score,o.content=r.content,o.waHint=r.wa_hint,!o.content&&!o.waHint&&(o.content="无提示信息"),e.task.push(o)}return e}function cTe(n,e,t){return ea({url:"/judge/approve",method:"post",data:{problem_id:n,language:e,code:t}})}function dTe(n){return ea({url:"/judge?id="+n,method:"get"})}function fTe(n,e,t,i,r,o){const a=new URLSearchParams({problem_id:n,username:e,language:String(t),status:String(i),page:String(r),page_size:String(o)});return ea({url:`/judge/list?${a.toString()}`,method:"get"})}function hTe(){return ea({url:"/judge/rejudge/recently",method:"post"})}var Jk=(n=>(n[n.None=0]="None",n[n.Attempt=1]="Attempt",n[n.Accept=2]="Accept",n))(Jk||{});function eG(n,e){const t={};if(t.id=n.id,t.author=n.author,t.title=n.title,t.tags=[],n.tags)for(const i of n.tags){const r=e[i];r&&t.tags.push(r)}return t.accept=n.accept,t.attempt=n.attempt,n.description!=null&&(t.description=n.description),n.time_limit!=null&&(t.timeLimit=n.time_limit.toString()+" ms"),n.memory_limit!=null&&(t.memoryLimit=(n.memory_limit/1024).toFixed(2)+" MB"),n.judge_type!=null&&(t.judgeType=lTe(n.judge_type)),n.insert_time!=null&&(t.insertTime=new Date(n.insert_time).toLocaleString()),n.update_time!=null&&(t.updateTime=new Date(n.update_time).toLocaleString()),n.creator_nickname!=null&&(t.creatorNickname=n.creator_nickname),n.source!=null&&(t.source=n.source),t}function vTe(n){return ea({url:"/problem?id="+n,method:"get"})}function gTe(n){return ea({url:"/problem/tag/list?max_count="+n,method:"get"})}function pTe(n,e,t,i){return ea({url:"/problem/list?title="+n+"&tag="+e+"&page="+t+"&page_size="+i,method:"get"})}const mTe={style:{margin:"10px"}};function bTe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}const yTe=pe({__name:"ProblemList",setup(n){const e=Qu(),t=BO(),{globalProperties:i}=Fl();let r=null;const o=oe(!1),a={};let s={};const l=oe([{title:"ID",colKey:"id",cell:(E,P)=>{let D=m(P.row.id);return x(Bt,{variant:"dashed",theme:D,onClick:()=>p(P.row.id)},{default:()=>[P.row.id]})}},{title:"标题",colKey:"title",cell:(E,P)=>x(Bt,{variant:"text",onClick:()=>p(P.row.id)},{default:()=>[P.row.title]})},{title:"标签",colKey:"tags",cell:(E,P)=>{const D=P.row.tags;if(!D||D.length===0)return"";let k=[];for(let L=0;L<D.length;L++){const M=D[L];k.push(x(Bt,{key:L,theme:"default",variant:"outline"},{default:()=>[M.name]}))}return x(Iu,null,bTe(k)?k:{default:()=>[k]})}},{title:"正确",colKey:"accept"},{title:"提交",colKey:"attempt"}]),u=oe(!1);let c=1,d=50;const f=oe({defaultPageSize:d,defaultCurrent:c,total:0,pageSizeOptions:[50,100]}),h=oe(),v=oe(),g=oe({title:"",tag:""}),p=E=>{E&&t.push({path:"/problem/"+E})},m=E=>{if(!E||!s)return"default";const P=s[E];if(!P)return"default";switch(P){case Jk.Accept:return"success";case Jk.Attempt:return"warning";default:return"default"}},b=async()=>{await t.push({query:{...e.query,title:g.value.title,tag:g.value.tag,page:1,page_size:f.value.defaultPageSize}})},C=E=>{E&&t.push({query:{...e.query,title:"",tag:E.name,page:1,page_size:f.value.defaultPageSize}})},O=async(E,P)=>{u.value=!0;try{const{current:D,pageSize:k}=E,L=await pTe(g.value.title,g.value.tag,D,k);if(h.value=[],L.code===0){const M=L.data.list;if(!M||M.length<=0){f.value={...f.value,total:0},s=null,hh(i,"未找到记录");return}M.forEach(A=>{var V;const j=eG(A,a);(V=h.value)==null||V.push(j)}),f.value={...f.value,total:L.data.total_count},s=L.data.problem_attempt_status}else P&&Oo(i,L.code)}catch(D){console.error(D),Oo(i,$O())}finally{u.value=!1}},w=async E=>{await t.push({query:{...e.query,page:E.current,page_size:E.pageSize}})};return mt(async()=>{v.value=[],gTe(-1).then(E=>{if(E.code===0){v.value=E.data.list,o.value=E.data.total_count>E.data.list.length;for(let P=0;P<E.data.list.length;P++){const D=E.data.list[P];a[D.id]=D}r=Pe(()=>e.query,P=>{g.value.title=P.title||"",g.value.tag=P.tag||"";const D=parseInt(P.page)||f.value.defaultCurrent,k=parseInt(P.page_size)||f.value.defaultPageSize;c=D,d=k,f.value={...f.value,defaultCurrent:c,defaultPageSize:d},O({current:c,pageSize:d},!0)},{immediate:!0})}else o.value=!0}).catch(E=>{console.error(E),o.value=!0})}),yi(()=>{r&&r()}),(E,P)=>{const D=Ip,k=Nl,L=xp,M=Do,A=t_,j=Bt,V=e_,H=Op;return sn(),di(H,null,{default:ze(()=>[x(L,{span:9},{default:ze(()=>[x(k,{style:{margin:"10px"}},{default:ze(()=>[x(D,{data:h.value,columns:l.value,"row-key":"id","vertical-align":"top",hover:!0,pagination:f.value,loading:u.value,onPageChange:w},null,8,["data","columns","pagination","loading"])]),_:1})]),_:1}),x(L,{span:3},{default:ze(()=>[Si("div",mTe,[x(k,{class:"sh-card"},{default:ze(()=>[x(V,{model:g.value},{default:ze(()=>[x(A,{label:"标题"},{default:ze(()=>[x(M,{modelValue:g.value.title,"onUpdate:modelValue":P[0]||(P[0]=N=>g.value.title=N),placeholder:"暂不支持模糊查询"},null,8,["modelValue"])]),_:1}),x(A,{label:"标签"},{default:ze(()=>[x(M,{modelValue:g.value.tag,"onUpdate:modelValue":P[1]||(P[1]=N=>g.value.tag=N),placeholder:"暂不支持模糊查询"},null,8,["modelValue"])]),_:1}),x(A,null,{default:ze(()=>[x(j,{theme:"primary",onClick:b},{default:ze(()=>P[3]||(P[3]=[rn("搜索")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),x(k,{class:"sh-card sh-background-black"},{default:ze(()=>[(sn(!0),xr(Ft,null,El(v.value,N=>(sn(),di(j,{class:"sh-tag-button",theme:"default",variant:"outline",ghost:!0,onClick:()=>C(N)},{default:ze(()=>[rn($i(N.name),1)]),_:2},1032,["onClick"]))),256)),o.value?(sn(),di(j,{key:0,class:"sh-tag-button",theme:"default",variant:"outline",ghost:!0,onClick:P[2]||(P[2]=()=>E.$router.push("/problem/tags"))},{default:ze(()=>P[4]||(P[4]=[rn(" ... ")])),_:1})):ad("",!0)]),_:1})])]),_:1})]),_:1})}}}),m5=kr(yTe,[["__scopeId","data-v-e53dbd2f"]]);var mC={exports:{}};/*!
 * Vditor v3.11.0 - A markdown editor written in TypeScript.
 *
 * MIT License
 *
 * Copyright (c) 2018-present B3log 开源, b3log.org
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */var _Te=mC.exports,b5;function wTe(){return b5||(b5=1,function(n,e){(function(i,r){n.exports=r()})(_Te,function(){return(()=>{var t={173:a=>{var s=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},l=-1,u=1,c=0;s.Diff=function(d,f){return[d,f]},s.prototype.diff_main=function(d,f,h,v){typeof v>"u"&&(this.Diff_Timeout<=0?v=Number.MAX_VALUE:v=new Date().getTime()+this.Diff_Timeout*1e3);var g=v;if(d==null||f==null)throw new Error("Null input. (diff_main)");if(d==f)return d?[new s.Diff(c,d)]:[];typeof h>"u"&&(h=!0);var p=h,m=this.diff_commonPrefix(d,f),b=d.substring(0,m);d=d.substring(m),f=f.substring(m),m=this.diff_commonSuffix(d,f);var C=d.substring(d.length-m);d=d.substring(0,d.length-m),f=f.substring(0,f.length-m);var O=this.diff_compute_(d,f,p,g);return b&&O.unshift(new s.Diff(c,b)),C&&O.push(new s.Diff(c,C)),this.diff_cleanupMerge(O),O},s.prototype.diff_compute_=function(d,f,h,v){var g;if(!d)return[new s.Diff(u,f)];if(!f)return[new s.Diff(l,d)];var p=d.length>f.length?d:f,m=d.length>f.length?f:d,b=p.indexOf(m);if(b!=-1)return g=[new s.Diff(u,p.substring(0,b)),new s.Diff(c,m),new s.Diff(u,p.substring(b+m.length))],d.length>f.length&&(g[0][0]=g[2][0]=l),g;if(m.length==1)return[new s.Diff(l,d),new s.Diff(u,f)];var C=this.diff_halfMatch_(d,f);if(C){var O=C[0],w=C[1],E=C[2],P=C[3],D=C[4],k=this.diff_main(O,E,h,v),L=this.diff_main(w,P,h,v);return k.concat([new s.Diff(c,D)],L)}return h&&d.length>100&&f.length>100?this.diff_lineMode_(d,f,v):this.diff_bisect_(d,f,v)},s.prototype.diff_lineMode_=function(d,f,h){var v=this.diff_linesToChars_(d,f);d=v.chars1,f=v.chars2;var g=v.lineArray,p=this.diff_main(d,f,!1,h);this.diff_charsToLines_(p,g),this.diff_cleanupSemantic(p),p.push(new s.Diff(c,""));for(var m=0,b=0,C=0,O="",w="";m<p.length;){switch(p[m][0]){case u:C++,w+=p[m][1];break;case l:b++,O+=p[m][1];break;case c:if(b>=1&&C>=1){p.splice(m-b-C,b+C),m=m-b-C;for(var E=this.diff_main(O,w,!1,h),P=E.length-1;P>=0;P--)p.splice(m,0,E[P]);m=m+E.length}C=0,b=0,O="",w="";break}m++}return p.pop(),p},s.prototype.diff_bisect_=function(d,f,h){for(var v=d.length,g=f.length,p=Math.ceil((v+g)/2),m=p,b=2*p,C=new Array(b),O=new Array(b),w=0;w<b;w++)C[w]=-1,O[w]=-1;C[m+1]=0,O[m+1]=0;for(var E=v-g,P=E%2!=0,D=0,k=0,L=0,M=0,A=0;A<p&&!(new Date().getTime()>h);A++){for(var j=-A+D;j<=A-k;j+=2){var V=m+j,H;j==-A||j!=A&&C[V-1]<C[V+1]?H=C[V+1]:H=C[V-1]+1;for(var N=H-j;H<v&&N<g&&d.charAt(H)==f.charAt(N);)H++,N++;if(C[V]=H,H>v)k+=2;else if(N>g)D+=2;else if(P){var F=m+E-j;if(F>=0&&F<b&&O[F]!=-1){var W=v-O[F];if(H>=W)return this.diff_bisectSplit_(d,f,H,N,h)}}}for(var U=-A+L;U<=A-M;U+=2){var F=m+U,W;U==-A||U!=A&&O[F-1]<O[F+1]?W=O[F+1]:W=O[F-1]+1;for(var q=W-U;W<v&&q<g&&d.charAt(v-W-1)==f.charAt(g-q-1);)W++,q++;if(O[F]=W,W>v)M+=2;else if(q>g)L+=2;else if(!P){var V=m+E-U;if(V>=0&&V<b&&C[V]!=-1){var H=C[V],N=m+H-V;if(W=v-W,H>=W)return this.diff_bisectSplit_(d,f,H,N,h)}}}}return[new s.Diff(l,d),new s.Diff(u,f)]},s.prototype.diff_bisectSplit_=function(d,f,h,v,g){var p=d.substring(0,h),m=f.substring(0,v),b=d.substring(h),C=f.substring(v),O=this.diff_main(p,m,!1,g),w=this.diff_main(b,C,!1,g);return O.concat(w)},s.prototype.diff_linesToChars_=function(d,f){var h=[],v={};h[0]="";function g(C){for(var O="",w=0,E=-1,P=h.length;E<C.length-1;){E=C.indexOf(`
`,w),E==-1&&(E=C.length-1);var D=C.substring(w,E+1);(v.hasOwnProperty?v.hasOwnProperty(D):v[D]!==void 0)?O+=String.fromCharCode(v[D]):(P==p&&(D=C.substring(w),E=C.length),O+=String.fromCharCode(P),v[D]=P,h[P++]=D),w=E+1}return O}var p=4e4,m=g(d);p=65535;var b=g(f);return{chars1:m,chars2:b,lineArray:h}},s.prototype.diff_charsToLines_=function(d,f){for(var h=0;h<d.length;h++){for(var v=d[h][1],g=[],p=0;p<v.length;p++)g[p]=f[v.charCodeAt(p)];d[h][1]=g.join("")}},s.prototype.diff_commonPrefix=function(d,f){if(!d||!f||d.charAt(0)!=f.charAt(0))return 0;for(var h=0,v=Math.min(d.length,f.length),g=v,p=0;h<g;)d.substring(p,g)==f.substring(p,g)?(h=g,p=h):v=g,g=Math.floor((v-h)/2+h);return g},s.prototype.diff_commonSuffix=function(d,f){if(!d||!f||d.charAt(d.length-1)!=f.charAt(f.length-1))return 0;for(var h=0,v=Math.min(d.length,f.length),g=v,p=0;h<g;)d.substring(d.length-g,d.length-p)==f.substring(f.length-g,f.length-p)?(h=g,p=h):v=g,g=Math.floor((v-h)/2+h);return g},s.prototype.diff_commonOverlap_=function(d,f){var h=d.length,v=f.length;if(h==0||v==0)return 0;h>v?d=d.substring(h-v):h<v&&(f=f.substring(0,h));var g=Math.min(h,v);if(d==f)return g;for(var p=0,m=1;;){var b=d.substring(g-m),C=f.indexOf(b);if(C==-1)return p;m+=C,(C==0||d.substring(g-m)==f.substring(0,m))&&(p=m,m++)}},s.prototype.diff_halfMatch_=function(d,f){if(this.Diff_Timeout<=0)return null;var h=d.length>f.length?d:f,v=d.length>f.length?f:d;if(h.length<4||v.length*2<h.length)return null;var g=this;function p(k,L,M){for(var A=k.substring(M,M+Math.floor(k.length/4)),j=-1,V="",H,N,F,W;(j=L.indexOf(A,j+1))!=-1;){var U=g.diff_commonPrefix(k.substring(M),L.substring(j)),q=g.diff_commonSuffix(k.substring(0,M),L.substring(0,j));V.length<q+U&&(V=L.substring(j-q,j)+L.substring(j,j+U),H=k.substring(0,M-q),N=k.substring(M+U),F=L.substring(0,j-q),W=L.substring(j+U))}return V.length*2>=k.length?[H,N,F,W,V]:null}var m=p(h,v,Math.ceil(h.length/4)),b=p(h,v,Math.ceil(h.length/2)),C;if(!m&&!b)return null;b?m?C=m[4].length>b[4].length?m:b:C=b:C=m;var O,w,E,P;d.length>f.length?(O=C[0],w=C[1],E=C[2],P=C[3]):(E=C[0],P=C[1],O=C[2],w=C[3]);var D=C[4];return[O,w,E,P,D]},s.prototype.diff_cleanupSemantic=function(d){for(var f=!1,h=[],v=0,g=null,p=0,m=0,b=0,C=0,O=0;p<d.length;)d[p][0]==c?(h[v++]=p,m=C,b=O,C=0,O=0,g=d[p][1]):(d[p][0]==u?C+=d[p][1].length:O+=d[p][1].length,g&&g.length<=Math.max(m,b)&&g.length<=Math.max(C,O)&&(d.splice(h[v-1],0,new s.Diff(l,g)),d[h[v-1]+1][0]=u,v--,v--,p=v>0?h[v-1]:-1,m=0,b=0,C=0,O=0,g=null,f=!0)),p++;for(f&&this.diff_cleanupMerge(d),this.diff_cleanupSemanticLossless(d),p=1;p<d.length;){if(d[p-1][0]==l&&d[p][0]==u){var w=d[p-1][1],E=d[p][1],P=this.diff_commonOverlap_(w,E),D=this.diff_commonOverlap_(E,w);P>=D?(P>=w.length/2||P>=E.length/2)&&(d.splice(p,0,new s.Diff(c,E.substring(0,P))),d[p-1][1]=w.substring(0,w.length-P),d[p+1][1]=E.substring(P),p++):(D>=w.length/2||D>=E.length/2)&&(d.splice(p,0,new s.Diff(c,w.substring(0,D))),d[p-1][0]=u,d[p-1][1]=E.substring(0,E.length-D),d[p+1][0]=l,d[p+1][1]=w.substring(D),p++),p++}p++}},s.prototype.diff_cleanupSemanticLossless=function(d){function f(D,k){if(!D||!k)return 6;var L=D.charAt(D.length-1),M=k.charAt(0),A=L.match(s.nonAlphaNumericRegex_),j=M.match(s.nonAlphaNumericRegex_),V=A&&L.match(s.whitespaceRegex_),H=j&&M.match(s.whitespaceRegex_),N=V&&L.match(s.linebreakRegex_),F=H&&M.match(s.linebreakRegex_),W=N&&D.match(s.blanklineEndRegex_),U=F&&k.match(s.blanklineStartRegex_);return W||U?5:N||F?4:A&&!V&&H?3:V||H?2:A||j?1:0}for(var h=1;h<d.length-1;){if(d[h-1][0]==c&&d[h+1][0]==c){var v=d[h-1][1],g=d[h][1],p=d[h+1][1],m=this.diff_commonSuffix(v,g);if(m){var b=g.substring(g.length-m);v=v.substring(0,v.length-m),g=b+g.substring(0,g.length-m),p=b+p}for(var C=v,O=g,w=p,E=f(v,g)+f(g,p);g.charAt(0)===p.charAt(0);){v+=g.charAt(0),g=g.substring(1)+p.charAt(0),p=p.substring(1);var P=f(v,g)+f(g,p);P>=E&&(E=P,C=v,O=g,w=p)}d[h-1][1]!=C&&(C?d[h-1][1]=C:(d.splice(h-1,1),h--),d[h][1]=O,w?d[h+1][1]=w:(d.splice(h+1,1),h--))}h++}},s.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,s.whitespaceRegex_=/\s/,s.linebreakRegex_=/[\r\n]/,s.blanklineEndRegex_=/\n\r?\n$/,s.blanklineStartRegex_=/^\r?\n\r?\n/,s.prototype.diff_cleanupEfficiency=function(d){for(var f=!1,h=[],v=0,g=null,p=0,m=!1,b=!1,C=!1,O=!1;p<d.length;)d[p][0]==c?(d[p][1].length<this.Diff_EditCost&&(C||O)?(h[v++]=p,m=C,b=O,g=d[p][1]):(v=0,g=null),C=O=!1):(d[p][0]==l?O=!0:C=!0,g&&(m&&b&&C&&O||g.length<this.Diff_EditCost/2&&m+b+C+O==3)&&(d.splice(h[v-1],0,new s.Diff(l,g)),d[h[v-1]+1][0]=u,v--,g=null,m&&b?(C=O=!0,v=0):(v--,p=v>0?h[v-1]:-1,C=O=!1),f=!0)),p++;f&&this.diff_cleanupMerge(d)},s.prototype.diff_cleanupMerge=function(d){d.push(new s.Diff(c,""));for(var f=0,h=0,v=0,g="",p="",m;f<d.length;)switch(d[f][0]){case u:v++,p+=d[f][1],f++;break;case l:h++,g+=d[f][1],f++;break;case c:h+v>1?(h!==0&&v!==0&&(m=this.diff_commonPrefix(p,g),m!==0&&(f-h-v>0&&d[f-h-v-1][0]==c?d[f-h-v-1][1]+=p.substring(0,m):(d.splice(0,0,new s.Diff(c,p.substring(0,m))),f++),p=p.substring(m),g=g.substring(m)),m=this.diff_commonSuffix(p,g),m!==0&&(d[f][1]=p.substring(p.length-m)+d[f][1],p=p.substring(0,p.length-m),g=g.substring(0,g.length-m))),f-=h+v,d.splice(f,h+v),g.length&&(d.splice(f,0,new s.Diff(l,g)),f++),p.length&&(d.splice(f,0,new s.Diff(u,p)),f++),f++):f!==0&&d[f-1][0]==c?(d[f-1][1]+=d[f][1],d.splice(f,1)):f++,v=0,h=0,g="",p="";break}d[d.length-1][1]===""&&d.pop();var b=!1;for(f=1;f<d.length-1;)d[f-1][0]==c&&d[f+1][0]==c&&(d[f][1].substring(d[f][1].length-d[f-1][1].length)==d[f-1][1]?(d[f][1]=d[f-1][1]+d[f][1].substring(0,d[f][1].length-d[f-1][1].length),d[f+1][1]=d[f-1][1]+d[f+1][1],d.splice(f-1,1),b=!0):d[f][1].substring(0,d[f+1][1].length)==d[f+1][1]&&(d[f-1][1]+=d[f+1][1],d[f][1]=d[f][1].substring(d[f+1][1].length)+d[f+1][1],d.splice(f+1,1),b=!0)),f++;b&&this.diff_cleanupMerge(d)},s.prototype.diff_xIndex=function(d,f){var h=0,v=0,g=0,p=0,m;for(m=0;m<d.length&&(d[m][0]!==u&&(h+=d[m][1].length),d[m][0]!==l&&(v+=d[m][1].length),!(h>f));m++)g=h,p=v;return d.length!=m&&d[m][0]===l?p:p+(f-g)},s.prototype.diff_prettyHtml=function(d){for(var f=[],h=/&/g,v=/</g,g=/>/g,p=/\n/g,m=0;m<d.length;m++){var b=d[m][0],C=d[m][1],O=C.replace(h,"&amp;").replace(v,"&lt;").replace(g,"&gt;").replace(p,"&para;<br>");switch(b){case u:f[m]='<ins style="background:#e6ffe6;">'+O+"</ins>";break;case l:f[m]='<del style="background:#ffe6e6;">'+O+"</del>";break;case c:f[m]="<span>"+O+"</span>";break}}return f.join("")},s.prototype.diff_text1=function(d){for(var f=[],h=0;h<d.length;h++)d[h][0]!==u&&(f[h]=d[h][1]);return f.join("")},s.prototype.diff_text2=function(d){for(var f=[],h=0;h<d.length;h++)d[h][0]!==l&&(f[h]=d[h][1]);return f.join("")},s.prototype.diff_levenshtein=function(d){for(var f=0,h=0,v=0,g=0;g<d.length;g++){var p=d[g][0],m=d[g][1];switch(p){case u:h+=m.length;break;case l:v+=m.length;break;case c:f+=Math.max(h,v),h=0,v=0;break}}return f+=Math.max(h,v),f},s.prototype.diff_toDelta=function(d){for(var f=[],h=0;h<d.length;h++)switch(d[h][0]){case u:f[h]="+"+encodeURI(d[h][1]);break;case l:f[h]="-"+d[h][1].length;break;case c:f[h]="="+d[h][1].length;break}return f.join("	").replace(/%20/g," ")},s.prototype.diff_fromDelta=function(d,f){for(var h=[],v=0,g=0,p=f.split(/\t/g),m=0;m<p.length;m++){var b=p[m].substring(1);switch(p[m].charAt(0)){case"+":try{h[v++]=new s.Diff(u,decodeURI(b))}catch{throw new Error("Illegal escape in diff_fromDelta: "+b)}break;case"-":case"=":var C=parseInt(b,10);if(isNaN(C)||C<0)throw new Error("Invalid number in diff_fromDelta: "+b);var O=d.substring(g,g+=C);p[m].charAt(0)=="="?h[v++]=new s.Diff(c,O):h[v++]=new s.Diff(l,O);break;default:if(p[m])throw new Error("Invalid diff operation in diff_fromDelta: "+p[m])}}if(g!=d.length)throw new Error("Delta length ("+g+") does not equal source text length ("+d.length+").");return h},s.prototype.match_main=function(d,f,h){if(d==null||f==null||h==null)throw new Error("Null input. (match_main)");return h=Math.max(0,Math.min(h,d.length)),d==f?0:d.length?d.substring(h,h+f.length)==f?h:this.match_bitap_(d,f,h):-1},s.prototype.match_bitap_=function(d,f,h){if(f.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var v=this.match_alphabet_(f),g=this;function p(H,N){var F=H/f.length,W=Math.abs(h-N);return g.Match_Distance?F+W/g.Match_Distance:W?1:F}var m=this.Match_Threshold,b=d.indexOf(f,h);b!=-1&&(m=Math.min(p(0,b),m),b=d.lastIndexOf(f,h+f.length),b!=-1&&(m=Math.min(p(0,b),m)));var C=1<<f.length-1;b=-1;for(var O,w,E=f.length+d.length,P,D=0;D<f.length;D++){for(O=0,w=E;O<w;)p(D,h+w)<=m?O=w:E=w,w=Math.floor((E-O)/2+O);E=w;var k=Math.max(1,h-w+1),L=Math.min(h+w,d.length)+f.length,M=Array(L+2);M[L+1]=(1<<D)-1;for(var A=L;A>=k;A--){var j=v[d.charAt(A-1)];if(D===0?M[A]=(M[A+1]<<1|1)&j:M[A]=(M[A+1]<<1|1)&j|((P[A+1]|P[A])<<1|1)|P[A+1],M[A]&C){var V=p(D,A-1);if(V<=m)if(m=V,b=A-1,b>h)k=Math.max(1,2*h-b);else break}}if(p(D+1,h)>m)break;P=M}return b},s.prototype.match_alphabet_=function(d){for(var f={},h=0;h<d.length;h++)f[d.charAt(h)]=0;for(var h=0;h<d.length;h++)f[d.charAt(h)]|=1<<d.length-h-1;return f},s.prototype.patch_addContext_=function(d,f){if(f.length!=0){if(d.start2===null)throw Error("patch not initialized");for(var h=f.substring(d.start2,d.start2+d.length1),v=0;f.indexOf(h)!=f.lastIndexOf(h)&&h.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)v+=this.Patch_Margin,h=f.substring(d.start2-v,d.start2+d.length1+v);v+=this.Patch_Margin;var g=f.substring(d.start2-v,d.start2);g&&d.diffs.unshift(new s.Diff(c,g));var p=f.substring(d.start2+d.length1,d.start2+d.length1+v);p&&d.diffs.push(new s.Diff(c,p)),d.start1-=g.length,d.start2-=g.length,d.length1+=g.length+p.length,d.length2+=g.length+p.length}},s.prototype.patch_make=function(d,f,h){var v,g;if(typeof d=="string"&&typeof f=="string"&&typeof h>"u")v=d,g=this.diff_main(v,f,!0),g.length>2&&(this.diff_cleanupSemantic(g),this.diff_cleanupEfficiency(g));else if(d&&typeof d=="object"&&typeof f>"u"&&typeof h>"u")g=d,v=this.diff_text1(g);else if(typeof d=="string"&&f&&typeof f=="object"&&typeof h>"u")v=d,g=f;else if(typeof d=="string"&&typeof f=="string"&&h&&typeof h=="object")v=d,g=h;else throw new Error("Unknown call format to patch_make.");if(g.length===0)return[];for(var p=[],m=new s.patch_obj,b=0,C=0,O=0,w=v,E=v,P=0;P<g.length;P++){var D=g[P][0],k=g[P][1];switch(!b&&D!==c&&(m.start1=C,m.start2=O),D){case u:m.diffs[b++]=g[P],m.length2+=k.length,E=E.substring(0,O)+k+E.substring(O);break;case l:m.length1+=k.length,m.diffs[b++]=g[P],E=E.substring(0,O)+E.substring(O+k.length);break;case c:k.length<=2*this.Patch_Margin&&b&&g.length!=P+1?(m.diffs[b++]=g[P],m.length1+=k.length,m.length2+=k.length):k.length>=2*this.Patch_Margin&&b&&(this.patch_addContext_(m,w),p.push(m),m=new s.patch_obj,b=0,w=E,C=O);break}D!==u&&(C+=k.length),D!==l&&(O+=k.length)}return b&&(this.patch_addContext_(m,w),p.push(m)),p},s.prototype.patch_deepCopy=function(d){for(var f=[],h=0;h<d.length;h++){var v=d[h],g=new s.patch_obj;g.diffs=[];for(var p=0;p<v.diffs.length;p++)g.diffs[p]=new s.Diff(v.diffs[p][0],v.diffs[p][1]);g.start1=v.start1,g.start2=v.start2,g.length1=v.length1,g.length2=v.length2,f[h]=g}return f},s.prototype.patch_apply=function(d,f){if(d.length==0)return[f,[]];d=this.patch_deepCopy(d);var h=this.patch_addPadding(d);f=h+f+h,this.patch_splitMax(d);for(var v=0,g=[],p=0;p<d.length;p++){var m=d[p].start2+v,b=this.diff_text1(d[p].diffs),C,O=-1;if(b.length>this.Match_MaxBits?(C=this.match_main(f,b.substring(0,this.Match_MaxBits),m),C!=-1&&(O=this.match_main(f,b.substring(b.length-this.Match_MaxBits),m+b.length-this.Match_MaxBits),(O==-1||C>=O)&&(C=-1))):C=this.match_main(f,b,m),C==-1)g[p]=!1,v-=d[p].length2-d[p].length1;else{g[p]=!0,v=C-m;var w;if(O==-1?w=f.substring(C,C+b.length):w=f.substring(C,O+this.Match_MaxBits),b==w)f=f.substring(0,C)+this.diff_text2(d[p].diffs)+f.substring(C+b.length);else{var E=this.diff_main(b,w,!1);if(b.length>this.Match_MaxBits&&this.diff_levenshtein(E)/b.length>this.Patch_DeleteThreshold)g[p]=!1;else{this.diff_cleanupSemanticLossless(E);for(var P=0,D,k=0;k<d[p].diffs.length;k++){var L=d[p].diffs[k];L[0]!==c&&(D=this.diff_xIndex(E,P)),L[0]===u?f=f.substring(0,C+D)+L[1]+f.substring(C+D):L[0]===l&&(f=f.substring(0,C+D)+f.substring(C+this.diff_xIndex(E,P+L[1].length))),L[0]!==l&&(P+=L[1].length)}}}}}return f=f.substring(h.length,f.length-h.length),[f,g]},s.prototype.patch_addPadding=function(d){for(var f=this.Patch_Margin,h="",v=1;v<=f;v++)h+=String.fromCharCode(v);for(var v=0;v<d.length;v++)d[v].start1+=f,d[v].start2+=f;var g=d[0],p=g.diffs;if(p.length==0||p[0][0]!=c)p.unshift(new s.Diff(c,h)),g.start1-=f,g.start2-=f,g.length1+=f,g.length2+=f;else if(f>p[0][1].length){var m=f-p[0][1].length;p[0][1]=h.substring(p[0][1].length)+p[0][1],g.start1-=m,g.start2-=m,g.length1+=m,g.length2+=m}if(g=d[d.length-1],p=g.diffs,p.length==0||p[p.length-1][0]!=c)p.push(new s.Diff(c,h)),g.length1+=f,g.length2+=f;else if(f>p[p.length-1][1].length){var m=f-p[p.length-1][1].length;p[p.length-1][1]+=h.substring(0,m),g.length1+=m,g.length2+=m}return h},s.prototype.patch_splitMax=function(d){for(var f=this.Match_MaxBits,h=0;h<d.length;h++)if(!(d[h].length1<=f)){var v=d[h];d.splice(h--,1);for(var g=v.start1,p=v.start2,m="";v.diffs.length!==0;){var b=new s.patch_obj,C=!0;for(b.start1=g-m.length,b.start2=p-m.length,m!==""&&(b.length1=b.length2=m.length,b.diffs.push(new s.Diff(c,m)));v.diffs.length!==0&&b.length1<f-this.Patch_Margin;){var O=v.diffs[0][0],w=v.diffs[0][1];O===u?(b.length2+=w.length,p+=w.length,b.diffs.push(v.diffs.shift()),C=!1):O===l&&b.diffs.length==1&&b.diffs[0][0]==c&&w.length>2*f?(b.length1+=w.length,g+=w.length,C=!1,b.diffs.push(new s.Diff(O,w)),v.diffs.shift()):(w=w.substring(0,f-b.length1-this.Patch_Margin),b.length1+=w.length,g+=w.length,O===c?(b.length2+=w.length,p+=w.length):C=!1,b.diffs.push(new s.Diff(O,w)),w==v.diffs[0][1]?v.diffs.shift():v.diffs[0][1]=v.diffs[0][1].substring(w.length))}m=this.diff_text2(b.diffs),m=m.substring(m.length-this.Patch_Margin);var E=this.diff_text1(v.diffs).substring(0,this.Patch_Margin);E!==""&&(b.length1+=E.length,b.length2+=E.length,b.diffs.length!==0&&b.diffs[b.diffs.length-1][0]===c?b.diffs[b.diffs.length-1][1]+=E:b.diffs.push(new s.Diff(c,E))),C||d.splice(++h,0,b)}}},s.prototype.patch_toText=function(d){for(var f=[],h=0;h<d.length;h++)f[h]=d[h];return f.join("")},s.prototype.patch_fromText=function(d){var f=[];if(!d)return f;for(var h=d.split(`
`),v=0,g=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;v<h.length;){var p=h[v].match(g);if(!p)throw new Error("Invalid patch string: "+h[v]);var m=new s.patch_obj;for(f.push(m),m.start1=parseInt(p[1],10),p[2]===""?(m.start1--,m.length1=1):p[2]=="0"?m.length1=0:(m.start1--,m.length1=parseInt(p[2],10)),m.start2=parseInt(p[3],10),p[4]===""?(m.start2--,m.length2=1):p[4]=="0"?m.length2=0:(m.start2--,m.length2=parseInt(p[4],10)),v++;v<h.length;){var b=h[v].charAt(0);try{var C=decodeURI(h[v].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+C)}if(b=="-")m.diffs.push(new s.Diff(l,C));else if(b=="+")m.diffs.push(new s.Diff(u,C));else if(b==" ")m.diffs.push(new s.Diff(c,C));else{if(b=="@")break;if(b!=="")throw new Error('Invalid patch mode "'+b+'" in: '+C)}v++}}return f},s.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},s.patch_obj.prototype.toString=function(){var d,f;this.length1===0?d=this.start1+",0":this.length1==1?d=this.start1+1:d=this.start1+1+","+this.length1,this.length2===0?f=this.start2+",0":this.length2==1?f=this.start2+1:f=this.start2+1+","+this.length2;for(var h=["@@ -"+d+" +"+f+` @@
`],v,g=0;g<this.diffs.length;g++){switch(this.diffs[g][0]){case u:v="+";break;case l:v="-";break;case c:v=" ";break}h[g+1]=v+encodeURI(this.diffs[g][1])+`
`}return h.join("").replace(/%20/g," ")},a.exports=s,a.exports.diff_match_patch=s,a.exports.DIFF_DELETE=l,a.exports.DIFF_INSERT=u,a.exports.DIFF_EQUAL=c},408:(a,s,l)=>{l.d(s,{default:()=>J});var u=l(135),c=l(840),d=l(775),f=l(428),h=l(325),v=l(483),g=l(999),p=function($){$===void 0&&($=document);var Y=function(te){var ae=document.createElement("img");ae.src=te.getAttribute("data-src"),ae.addEventListener("load",function(){!te.getAttribute("style")&&!te.getAttribute("class")&&!te.getAttribute("width")&&!te.getAttribute("height")&&ae.naturalHeight>ae.naturalWidth&&ae.naturalWidth/ae.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&ae.naturalHeight>window.innerHeight-40&&(te.style.height=window.innerHeight-40+"px"),te.src=ae.src}),te.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return $.querySelectorAll("img").forEach(function(te){te.getAttribute("data-src")&&Y(te)}),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),$.querySelectorAll("img").forEach(function(te){window.vditorImageIntersectionObserver.observe(te)})):(window.vditorImageIntersectionObserver=new IntersectionObserver(function(te){te.forEach(function(ae){(typeof ae.isIntersecting>"u"?ae.intersectionRatio!==0:ae.isIntersecting)&&ae.target.getAttribute("data-src")&&Y(ae.target)})}),$.querySelectorAll("img").forEach(function(te){window.vditorImageIntersectionObserver.observe(te)}))},m=l(472),b=l(280),C=l(637),O=l(825),w=l(11),E=l(194),P=l(436),D=l(229),k=l(145),L=l(538),M=l(413),A=l(106),j=l(673),V=function($){document.querySelectorAll(".vditor-anchor").forEach(function(Y){$===1&&Y.classList.add("vditor-anchor--left"),Y.onclick=function(){var te=Y.getAttribute("href").substr(1),ae=document.getElementById("vditorAnchor-"+te).offsetTop;document.querySelector("html").scrollTop=ae}}),window.onhashchange=function(){var Y=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));Y&&(document.querySelector("html").scrollTop=Y.offsetTop)}},H=l(214),N=l(810),F=function($,Y){if(Y===void 0&&(Y="zh_CN"),!(typeof speechSynthesis>"u"||typeof SpeechSynthesisUtterance>"u")){var te=function(){var de=speechSynthesis.getVoices(),he,ge;return de.forEach(function(Se){Se.lang===Y.replace("_","-")&&(he=Se),Se.default&&(ge=Se)}),he||(he=ge),he},ae='<svg><use xlink:href="#vditor-icon-play"></use></svg>',le='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(ae='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',le='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var Q=document.querySelector(".vditor-speech");Q||(Q=document.createElement("button"),Q.className="vditor-speech",$.insertAdjacentElement("beforeend",Q),speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=te));var ne=te(),se=new SpeechSynthesisUtterance;se.voice=ne,se.onend=se.onerror=function(){Q.style.display="none",speechSynthesis.cancel(),Q.classList.remove("vditor-speech--current"),Q.innerHTML=ae},$.addEventListener(window.ontouchstart!==void 0?"touchend":"click",function(de){var he=de.target;if(he.classList.contains("vditor-speech")||he.parentElement.classList.contains("vditor-speech")){Q.classList.contains("vditor-speech--current")?speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),Q.innerHTML=le):(speechSynthesis.pause(),Q.innerHTML=ae)):(se.text=Q.getAttribute("data-text"),speechSynthesis.speak(se),Q.classList.add("vditor-speech--current"),Q.innerHTML=le),(0,N.Hc)(window.vditorSpeechRange),$.focus();return}if(Q.style.display="none",speechSynthesis.cancel(),Q.classList.remove("vditor-speech--current"),Q.innerHTML=ae,getSelection().rangeCount!==0){var ge=getSelection().getRangeAt(0),Se=ge.toString().trim();if(Se){window.vditorSpeechRange=ge.cloneRange();var Te=ge.getBoundingClientRect();Q.innerHTML=ae,Q.style.display="block",Q.style.top=Te.top+Te.height+document.querySelector("html").scrollTop-20+"px",window.ontouchstart!==void 0?Q.style.left=de.changedTouches[de.changedTouches.length-1].pageX+2+"px":Q.style.left=de.clientX+2+"px",Q.setAttribute("data-text",Se)}}})}},W=function($,Y,te,ae){function le(Q){return Q instanceof te?Q:new te(function(ne){ne(Q)})}return new(te||(te=Promise))(function(Q,ne){function se(ge){try{he(ae.next(ge))}catch(Se){ne(Se)}}function de(ge){try{he(ae.throw(ge))}catch(Se){ne(Se)}}function he(ge){ge.done?Q(ge.value):le(ge.value).then(se,de)}he((ae=ae.apply($,Y||[])).next())})},U=function($,Y){var te={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},ae,le,Q,ne;return ne={next:se(0),throw:se(1),return:se(2)},typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function se(he){return function(ge){return de([he,ge])}}function de(he){if(ae)throw new TypeError("Generator is already executing.");for(;ne&&(ne=0,he[0]&&(te=0)),te;)try{if(ae=1,le&&(Q=he[0]&2?le.return:he[0]?le.throw||((Q=le.return)&&Q.call(le),0):le.next)&&!(Q=Q.call(le,he[1])).done)return Q;switch(le=0,Q&&(he=[he[0]&2,Q.value]),he[0]){case 0:case 1:Q=he;break;case 4:return te.label++,{value:he[1],done:!1};case 5:te.label++,le=he[1],he=[0];continue;case 7:he=te.ops.pop(),te.trys.pop();continue;default:if(Q=te.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(he[0]===6||he[0]===2)){te=0;continue}if(he[0]===3&&(!Q||he[1]>Q[0]&&he[1]<Q[3])){te.label=he[1];break}if(he[0]===6&&te.label<Q[1]){te.label=Q[1],Q=he;break}if(Q&&te.label<Q[2]){te.label=Q[2],te.ops.push(he);break}Q[2]&&te.ops.pop(),te.trys.pop();continue}he=Y.call($,te)}catch(ge){he=[6,ge],le=0}finally{ae=Q=0}if(he[0]&5)throw he[1];return{value:he[0]?he[1]:void 0,done:!0}}},q=function($){var Y,te={anchor:0,cdn:k.g.CDN,customEmoji:{},emojiPath:"".concat(k.g.CDN,"/dist/images/emoji"),hljs:k.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:k.g.MARKDOWN_OPTIONS,math:k.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},render:{media:{enable:!0}},theme:k.g.THEME_OPTIONS};return $.cdn&&(!((Y=$.theme)===null||Y===void 0)&&Y.path||(te.theme.path="".concat($.cdn,"/dist/css/content-theme")),$.emojiPath||(te.emojiPath="".concat($.cdn,"/dist/images/emoji"))),(0,j.T)(te,$)},Z=function($,Y){var te=q(Y);return(0,M.G)("".concat(te.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){var ae=(0,H.X)({autoSpace:te.markdown.autoSpace,gfmAutoLink:te.markdown.gfmAutoLink,codeBlockPreview:te.markdown.codeBlockPreview,emojiSite:te.emojiPath,emojis:te.customEmoji,fixTermTypo:te.markdown.fixTermTypo,footnotes:te.markdown.footnotes,headingAnchor:te.anchor!==0,inlineMathDigit:te.math.inlineDigit,lazyLoadImage:te.lazyLoadImage,linkBase:te.markdown.linkBase,linkPrefix:te.markdown.linkPrefix,listStyle:te.markdown.listStyle,mark:te.markdown.mark,mathBlockPreview:te.markdown.mathBlockPreview,paragraphBeginningSpace:te.markdown.paragraphBeginningSpace,sanitize:te.markdown.sanitize,toc:te.markdown.toc});return Y!=null&&Y.renderers&&ae.SetJSRenderers({renderers:{Md2HTML:Y.renderers}}),ae.SetHeadingID(!0),ae.Md2HTML($)})},z=function($,Y,te){return W(void 0,void 0,void 0,function(){var ae,le,Q,ne;return U(this,function(se){switch(se.label){case 0:return ae=q(te),[4,Z(Y,ae)];case 1:if(le=se.sent(),ae.transform&&(le=ae.transform(le)),$.innerHTML=le,$.classList.add("vditor-reset"),ae.i18n)return[3,5];if(["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(ae.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return Q="vditorI18nScript",ne=Q+ae.lang,document.querySelectorAll('head script[id^="'.concat(Q,'"]')).forEach(function(de){de.id!==ne&&document.head.removeChild(de)}),[4,(0,M.G)("".concat(ae.cdn,"/dist/js/i18n/").concat(ae.lang,".js"),ne)];case 3:se.sent(),se.label=4;case 4:return[3,6];case 5:window.VditorI18n=ae.i18n,se.label=6;case 6:return ae.icon?[4,(0,M.G)("".concat(ae.cdn,"/dist/js/icons/").concat(ae.icon,".js"),"vditorIconScript")]:[3,8];case 7:se.sent(),se.label=8;case 8:return(0,L.Z)(ae.theme.current,ae.theme.path),ae.anchor===1&&$.classList.add("vditor-reset--anchor"),(0,f.O)($,ae.hljs),(0,g.s)(ae.hljs,$,ae.cdn),(0,m.H)($,{cdn:ae.cdn,math:ae.math}),(0,C.i)($,ae.cdn,ae.mode),(0,O.J)($,ae.cdn,ae.mode),(0,w.K)($,ae.cdn),(0,h.P)($,ae.cdn),(0,v.v)($,ae.cdn),(0,d.p)($,ae.cdn,ae.mode),(0,E.P)($,ae.cdn,ae.mode),(0,D.B)($,ae.cdn),(0,u.Q)($,ae.cdn),ae.render.media.enable&&(0,b.Y)($),ae.speech.enable&&F($),ae.anchor!==0&&V(ae.anchor),ae.after&&ae.after(),ae.lazyLoadImage&&p($),$.addEventListener("click",function(de){var he=(0,A.lG)(de.target,"SPAN");if(he&&(0,A.fb)(he,"vditor-toc")){var ge=$.querySelector("#"+he.getAttribute("data-target-id"));ge&&window.scrollTo(window.scrollX,ge.offsetTop);return}}),[2]}})})},ie=l(190),ee=l(580),K=function(){function $(){}return $.adapterRender=c,$.previewImage=ie.E,$.codeRender=f.O,$.graphvizRender=v.v,$.highlightRender=g.s,$.mathRender=m.H,$.mermaidRender=C.i,$.SMILESRender=O.J,$.markmapRender=w.K,$.flowchartRender=h.P,$.chartRender=d.p,$.abcRender=u.Q,$.mindmapRender=E.P,$.plantumlRender=D.B,$.outlineRender=P.k,$.mediaRender=b.Y,$.speechRender=F,$.lazyLoadImageRender=p,$.md2html=Z,$.preview=z,$.setCodeTheme=ee.Y,$.setContentTheme=L.Z,$}();const J=K},145:(a,s,l)=>{l.d(s,{H:()=>u,g:()=>c});var u="3.11.0",c=function(){function d(){}return d.ZWSP="​",d.DROP_EDITOR="application/editor",d.MOBILE_WIDTH=520,d.CLASS_MENU_DISABLED="vditor-menu--disabled",d.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],d.CODE_THEME=["a11y-dark","agate","an-old-hope","androidstudio","arta","atom-one-dark","atom-one-dark-reasonable","base16/3024","base16/apathy","base16/apprentice","base16/ashes","base16/atelier-cave","base16/atelier-dune","base16/atelier-estuary","base16/atelier-forest","base16/atelier-heath","base16/atelier-lakeside","base16/atelier-plateau","base16/atelier-savanna","base16/atelier-seaside","base16/atelier-sulphurpool","base16/atlas","base16/bespin","base16/black-metal","base16/black-metal-bathory","base16/black-metal-burzum","base16/black-metal-dark-funeral","base16/black-metal-gorgoroth","base16/black-metal-immortal","base16/black-metal-khold","base16/black-metal-marduk","base16/black-metal-mayhem","base16/black-metal-nile","base16/black-metal-venom","base16/brewer","base16/bright","base16/brogrammer","base16/brush-trees-dark","base16/chalk","base16/circus","base16/classic-dark","base16/codeschool","base16/colors","base16/danqing","base16/darcula","base16/dark-violet","base16/darkmoss","base16/darktooth","base16/decaf","base16/default-dark","base16/dracula","base16/edge-dark","base16/eighties","base16/embers","base16/equilibrium-dark","base16/equilibrium-gray-dark","base16/espresso","base16/eva","base16/eva-dim","base16/flat","base16/framer","base16/gigavolt","base16/google-dark","base16/grayscale-dark","base16/green-screen","base16/gruvbox-dark-hard","base16/gruvbox-dark-medium","base16/gruvbox-dark-pale","base16/gruvbox-dark-soft","base16/hardcore","base16/harmonic16-dark","base16/heetch-dark","base16/helios","base16/hopscotch","base16/horizon-dark","base16/humanoid-dark","base16/ia-dark","base16/icy-dark","base16/ir-black","base16/isotope","base16/kimber","base16/london-tube","base16/macintosh","base16/marrakesh","base16/materia","base16/material","base16/material-darker","base16/material-palenight","base16/material-vivid","base16/mellow-purple","base16/mocha","base16/monokai","base16/nebula","base16/nord","base16/nova","base16/ocean","base16/oceanicnext","base16/onedark","base16/outrun-dark","base16/papercolor-dark","base16/paraiso","base16/pasque","base16/phd","base16/pico","base16/pop","base16/porple","base16/qualia","base16/railscasts","base16/rebecca","base16/ros-pine","base16/ros-pine-moon","base16/sandcastle","base16/seti-ui","base16/silk-dark","base16/snazzy","base16/solar-flare","base16/solarized-dark","base16/spacemacs","base16/summercamp","base16/summerfruit-dark","base16/synth-midnight-terminal-dark","base16/tango","base16/tender","base16/tomorrow-night","base16/twilight","base16/unikitty-dark","base16/vulcan","base16/windows-10","base16/windows-95","base16/windows-high-contrast","base16/windows-nt","base16/woodland","base16/xcode-dusk","base16/zenburn","codepen-embed","dark","devibeans","far","felipec","github-dark","github-dark-dimmed","gml","gradient-dark","hybrid","ir-black","isbl-editor-dark","kimbie-dark","lioshi","monokai","monokai-sublime","night-owl","nnfx-dark","nord","obsidian","panda-syntax-dark","paraiso-dark","pojoaque","qtcreator-dark","rainbow","shades-of-purple","srcery","stackoverflow-dark","sunburst","tomorrow-night-blue","tomorrow-night-bright","tokyo-night-dark","vs2015","xt256","ant-design","a11y-light","arduino-light","ascetic","atom-one-light","base16/atelier-cave-light","base16/atelier-dune-light","base16/atelier-estuary-light","base16/atelier-forest-light","base16/atelier-heath-light","base16/atelier-lakeside-light","base16/atelier-plateau-light","base16/atelier-savanna-light","base16/atelier-seaside-light","base16/atelier-sulphurpool-light","base16/brush-trees","base16/classic-light","base16/cupcake","base16/cupertino","base16/default-light","base16/dirtysea","base16/edge-light","base16/equilibrium-gray-light","base16/equilibrium-light","base16/fruit-soda","base16/github","base16/google-light","base16/grayscale-light","base16/gruvbox-light-hard","base16/gruvbox-light-medium","base16/gruvbox-light-soft","base16/harmonic16-light","base16/heetch-light","base16/humanoid-light","base16/horizon-light","base16/ia-light","base16/material-lighter","base16/mexico-light","base16/one-light","base16/papercolor-light","base16/ros-pine-dawn","base16/sagelight","base16/shapeshifter","base16/silk-light","base16/solar-flare-light","base16/solarized-light","base16/summerfruit-light","base16/synth-midnight-terminal-light","base16/tomorrow","base16/unikitty-light","base16/windows-10-light","base16/windows-95-light","base16/windows-high-contrast-light","brown-paper","base16/windows-nt-light","color-brewer","docco","foundation","github","googlecode","gradient-light","grayscale","idea","intellij-light","isbl-editor-light","kimbie-light","lightfair","magula","mono-blue","nnfx-light","panda-syntax-light","paraiso-light","purebasic","qtcreator-light","routeros","school-book","stackoverflow-light","tokyo-night-light","vs","xcode","default"],d.ALIAS_CODE_LANGUAGES=["abc","plantuml","mermaid","flowchart","echarts","mindmap","graphviz","math","markmap","smiles","js","ts","html","toml","c#","bat"],d.CDN="https://unpkg.com/vditor@".concat("3.11.0"),d.MARKDOWN_OPTIONS={autoSpace:!1,gfmAutoLink:!0,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},d.HLJS_OPTIONS={enable:!0,lineNumber:!1,defaultLang:"",style:"github"},d.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},d.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:"".concat(d.CDN,"/dist/css/content-theme")},d}()},825:(a,s,l)=>{l.d(s,{J:()=>h});var u=l(145),c=l(413),d=l(840),f=l(494),h=function(v,g,p){v===void 0&&(v=document),g===void 0&&(g=u.g.CDN);var m=d.SMILESRenderAdapter.getElements(v);m.length>0&&(0,c.G)("".concat(g,"/dist/js/smiles-drawer/smiles-drawer.min.js?v=2.1.7"),"vditorAbcjsScript").then(function(){var b=new SmiDrawer({},{});m.forEach(function(C){var O=d.SMILESRenderAdapter.getCode(C).trim();if(!(C.getAttribute("data-processed")==="true"||O.trim()==="")){var w="smiles"+(0,f.Wb)();C.innerHTML='<svg id="'.concat(w,'"></svg>'),b.draw(O,"#"+w,p==="dark"?"dark":void 0),C.setAttribute("data-processed","true")}})})}},135:(a,s,l)=>{l.d(s,{Q:()=>f});var u=l(145),c=l(413),d=l(840),f=function(h,v){h===void 0&&(h=document),v===void 0&&(v=u.g.CDN);var g=d.abcRenderAdapter.getElements(h);g.length>0&&(0,c.G)("".concat(v,"/dist/js/abcjs/abcjs_basic.min.js"),"vditorAbcjsScript").then(function(){g.forEach(function(p){p.parentElement.classList.contains("vditor-wysiwyg__pre")||p.parentElement.classList.contains("vditor-ir__marker--pre")||p.getAttribute("data-processed")!=="true"&&(ABCJS.renderAbc(p,d.abcRenderAdapter.getCode(p).trim()),p.style.overflowX="auto",p.setAttribute("data-processed","true"))})})}},840:(a,s,l)=>{l.r(s),l.d(s,{mathRenderAdapter:()=>u,SMILESRenderAdapter:()=>c,mermaidRenderAdapter:()=>d,markmapRenderAdapter:()=>f,mindmapRenderAdapter:()=>h,chartRenderAdapter:()=>v,abcRenderAdapter:()=>g,graphvizRenderAdapter:()=>p,flowchartRenderAdapter:()=>m,plantumlRenderAdapter:()=>b});var u={getCode:function(C){return C.textContent},getElements:function(C){return C.querySelectorAll(".language-math")}},c={getCode:function(C){return C.textContent},getElements:function(C){return C.querySelectorAll(".language-smiles")}},d={getCode:function(C){return C.textContent},getElements:function(C){return C.querySelectorAll(".language-mermaid")}},f={getCode:function(C){return C.textContent},getElements:function(C){return C.querySelectorAll(".language-markmap")}},h={getCode:function(C){return C.getAttribute("data-code")},getElements:function(C){return C.querySelectorAll(".language-mindmap")}},v={getCode:function(C){return C.innerText},getElements:function(C){return C.querySelectorAll(".language-echarts")}},g={getCode:function(C){return C.textContent},getElements:function(C){return C.querySelectorAll(".language-abc")}},p={getCode:function(C){return C.textContent},getElements:function(C){return C.querySelectorAll(".language-graphviz")}},m={getCode:function(C){return C.textContent},getElements:function(C){return C.querySelectorAll(".language-flowchart")}},b={getCode:function(C){return C.textContent},getElements:function(C){return C.querySelectorAll(".language-plantuml")}}},775:(a,s,l)=>{l.d(s,{p:()=>g});var u=l(145),c=l(413),d=l(840),f=l(494),h=function(p,m,b,C){function O(w){return w instanceof b?w:new b(function(E){E(w)})}return new(b||(b=Promise))(function(w,E){function P(L){try{k(C.next(L))}catch(M){E(M)}}function D(L){try{k(C.throw(L))}catch(M){E(M)}}function k(L){L.done?w(L.value):O(L.value).then(P,D)}k((C=C.apply(p,m||[])).next())})},v=function(p,m){var b={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},C,O,w,E;return E={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function P(k){return function(L){return D([k,L])}}function D(k){if(C)throw new TypeError("Generator is already executing.");for(;E&&(E=0,k[0]&&(b=0)),b;)try{if(C=1,O&&(w=k[0]&2?O.return:k[0]?O.throw||((w=O.return)&&w.call(O),0):O.next)&&!(w=w.call(O,k[1])).done)return w;switch(O=0,w&&(k=[k[0]&2,w.value]),k[0]){case 0:case 1:w=k;break;case 4:return b.label++,{value:k[1],done:!1};case 5:b.label++,O=k[1],k=[0];continue;case 7:k=b.ops.pop(),b.trys.pop();continue;default:if(w=b.trys,!(w=w.length>0&&w[w.length-1])&&(k[0]===6||k[0]===2)){b=0;continue}if(k[0]===3&&(!w||k[1]>w[0]&&k[1]<w[3])){b.label=k[1];break}if(k[0]===6&&b.label<w[1]){b.label=w[1],w=k;break}if(w&&b.label<w[2]){b.label=w[2],b.ops.push(k);break}w[2]&&b.ops.pop(),b.trys.pop();continue}k=m.call(p,b)}catch(L){k=[6,L],O=0}finally{C=w=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},g=function(p,m,b){p===void 0&&(p=document),m===void 0&&(m=u.g.CDN);var C=d.chartRenderAdapter.getElements(p);C.length>0&&(0,c.G)("".concat(m,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){C.forEach(function(O){return h(void 0,void 0,void 0,function(){var w,E,P;return v(this,function(D){switch(D.label){case 0:if(O.parentElement.classList.contains("vditor-wysiwyg__pre")||O.parentElement.classList.contains("vditor-ir__marker--pre"))return[2];if(w=d.chartRenderAdapter.getCode(O).trim(),!w)return[2];D.label=1;case 1:return D.trys.push([1,3,,4]),O.getAttribute("data-processed")==="true"?[2]:[4,(0,f.Qf)(w)];case 2:return E=D.sent(),echarts.init(O,b==="dark"?"dark":void 0).setOption(E),O.setAttribute("data-processed","true"),[3,4];case 3:return P=D.sent(),O.className="vditor-reset--error",O.innerHTML="echarts render error: <br>".concat(P),[3,4];case 4:return[2]}})})})})}},428:(a,s,l)=>{l.d(s,{O:()=>d});var u=l(105),c=l(145),d=function(f,h){Array.from(f.querySelectorAll("pre > code")).filter(function(v,g){return!(v.parentElement.classList.contains("vditor-wysiwyg__pre")||v.parentElement.classList.contains("vditor-ir__marker--pre")||v.classList.contains("language-mermaid")||v.classList.contains("language-flowchart")||v.classList.contains("language-echarts")||v.classList.contains("language-mindmap")||v.classList.contains("language-plantuml")||v.classList.contains("language-markmap")||v.classList.contains("language-abc")||v.classList.contains("language-graphviz")||v.classList.contains("language-math")||v.classList.contains("language-smiles")||v.style.maxHeight.indexOf("px")>-1||f.classList.contains("vditor-preview")&&g>5)}).forEach(function(v){var g,p,m,b=v.innerText;if(v.classList.contains("highlight-chroma")){var C=v.cloneNode(!0);C.querySelectorAll(".highlight-ln").forEach(function(P){P.remove()}),b=C.innerText}else b.endsWith(`
`)&&(b=b.substr(0,b.length-1));var O='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(O='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var w=document.createElement("div");w.className="vditor-copy",w.innerHTML='<span aria-label="'.concat(((g=window.VditorI18n)===null||g===void 0?void 0:g.copy)||"复制",`"
onmouseover="this.setAttribute('aria-label', '`).concat(((p=window.VditorI18n)===null||p===void 0?void 0:p.copy)||"复制",`')"
class="vditor-tooltipped vditor-tooltipped__w"
onclick="event.stopPropagation();this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '`).concat(((m=window.VditorI18n)===null||m===void 0?void 0:m.copied)||"已复制",`');this.previousElementSibling.blur()">`).concat(O,"</span>");var E=document.createElement("textarea");E.value=(0,u.X)(b),w.insertAdjacentElement("afterbegin",E),h&&h.renderMenu&&h.renderMenu(v,w),v.before(w),v.style.maxHeight=window.outerHeight-40+"px",v.insertAdjacentHTML("afterend",'<span style="position: absolute">'.concat(c.g.ZWSP,"</span>"))})}},325:(a,s,l)=>{l.d(s,{P:()=>f});var u=l(145),c=l(413),d=l(840),f=function(h,v){v===void 0&&(v=u.g.CDN);var g=d.flowchartRenderAdapter.getElements(h);g.length!==0&&(0,c.G)("".concat(v,"/dist/js/flowchart.js/flowchart.min.js"),"vditorFlowchartScript").then(function(){g.forEach(function(p){if(p.getAttribute("data-processed")!=="true"){var m=flowchart.parse(d.flowchartRenderAdapter.getCode(p));p.innerHTML="",m.drawSVG(p),p.setAttribute("data-processed","true")}})})}},483:(a,s,l)=>{l.d(s,{v:()=>f});var u=l(145),c=l(413),d=l(840),f=function(h,v){v===void 0&&(v=u.g.CDN);var g=d.graphvizRenderAdapter.getElements(h);g.length!==0&&(0,c.G)("".concat(v,"/dist/js/graphviz/viz.js"),"vditorGraphVizScript").then(function(){g.forEach(function(p){var m=d.graphvizRenderAdapter.getCode(p);if(!(p.parentElement.classList.contains("vditor-wysiwyg__pre")||p.parentElement.classList.contains("vditor-ir__marker--pre"))&&!(p.getAttribute("data-processed")==="true"||m.trim()==="")){try{var b=new Blob(["importScripts('".concat(document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js"),"');")],{type:"application/javascript"}),C=window.URL||window.webkitURL,O=C.createObjectURL(b),w=new Worker(O);new Viz({worker:w}).renderSVGElement(m).then(function(E){p.innerHTML=E.outerHTML}).catch(function(E){p.innerHTML="graphviz render error: <br>".concat(E),p.className="vditor-reset--error"})}catch(E){console.error("graphviz error",E)}p.setAttribute("data-processed","true")}})})}},999:(a,s,l)=>{l.d(s,{s:()=>f});var u=l(145),c=l(413),d=l(290),f=function(h,v,g){v===void 0&&(v=document),g===void 0&&(g=u.g.CDN);var p=h.style;u.g.CODE_THEME.includes(p)||(p="github");var m=document.getElementById("vditorHljsStyle"),b="".concat(g,"/dist/js/highlight.js/styles/").concat(p,".min.css");if(m&&m.getAttribute("href")!==b&&m.remove(),(0,d.c)("".concat(g,"/dist/js/highlight.js/styles/").concat(p,".min.css"),"vditorHljsStyle"),h.enable!==!1){var C=v.querySelectorAll("pre > code");C.length!==0&&(0,c.G)("".concat(g,"/dist/js/highlight.js/highlight.min.js?v=11.7.0"),"vditorHljsScript").then(function(){(0,c.G)("".concat(g,"/dist/js/highlight.js/third-languages.js?v=1.0.1"),"vditorHljsThirdScript").then(function(){v.querySelectorAll("pre > code").forEach(function(O){if(!(O.parentElement.classList.contains("vditor-ir__marker--pre")||O.parentElement.classList.contains("vditor-wysiwyg__pre"))&&!(O.classList.contains("language-mermaid")||O.classList.contains("language-flowchart")||O.classList.contains("language-echarts")||O.classList.contains("language-mindmap")||O.classList.contains("language-plantuml")||O.classList.contains("language-smiles")||O.classList.contains("language-abc")||O.classList.contains("language-graphviz")||O.classList.contains("language-math"))){h.defaultLang!==""&&O.className.indexOf("language-")===-1&&O.classList.add("language-"+h.defaultLang);var w=O.className.replace("language-","");if(window.hljs.getLanguage(w)||(w="plaintext"),O.innerHTML=window.hljs.highlight(O.textContent,{language:w,ignoreIllegals:!0}).value,O.classList.add("hljs"),!!h.lineNumber){O.classList.add("vditor-linenumber");var E=O.querySelector(".vditor-linenumber__temp");E||(E=document.createElement("div"),E.className="vditor-linenumber__temp",O.insertAdjacentElement("beforeend",E));var P=getComputedStyle(O).whiteSpace,D=!1;(P==="pre-wrap"||P==="pre-line")&&(D=!0);var k="",L=O.textContent.split(/\r\n|\r|\n/g);L.pop(),L.map(function(M){var A="";D&&(E.textContent=M||`
`,A=' style="height:'.concat(E.getBoundingClientRect().height,'px"')),k+="<span".concat(A,"></span>")}),E.style.display="none",k='<span class="vditor-linenumber__rows">'.concat(k,"</span>"),O.insertAdjacentHTML("beforeend",k)}}})})})}}},11:(a,s,l)=>{l.d(s,{K:()=>g});var u=l(145),c=l(413),d=l(840),f={},h=function(p,m){var b=p.transform(m),C=Object.keys(b.features).filter(function(D){return!f[D]});C.forEach(function(D){f[D]=!0});var O=p.getAssets(C),w=O.styles,E=O.scripts,P=window.markmap;return w&&P.loadCSS(w),E&&P.loadJS(E),b},v=function(p,m){var b=window.markmap,C=b.Transformer,O=b.Markmap,w=b.deriveOptions;b.globalCSS;var E=new C;p.innerHTML='<svg style="width:100%"></svg>';var P=p.firstChild,D=O.create(P,null),k=h(E,m),L=k.root,M=k.frontmatter,A=M==null?void 0:M.markmap,j=w(A);D.setData(L,j),D.fit()},g=function(p,m){p===void 0&&(p=document),m===void 0&&(m=u.g.CDN);var b=d.markmapRenderAdapter.getElements(p);b.length!==0&&(0,c.G)("".concat(m,"/dist/js/markmap/markmap.min.js"),"vditorMarkerScript").then(function(){b.forEach(function(C){var O=d.markmapRenderAdapter.getCode(C);if(!(C.getAttribute("data-processed")==="true"||O.trim()==="")){var w=document.createElement("div");w.className="language-markmap",C.parentNode.appendChild(w),v(w,O),C.parentNode.childNodes[0].nodeName=="CODE"&&C.parentNode.removeChild(C.parentNode.childNodes[0])}})})}},472:(a,s,l)=>{l.d(s,{H:()=>v});var u=l(145),c=l(413),d=l(290),f=l(105),h=l(840),v=function(g,p){g===void 0&&(g=document);var m=h.mathRenderAdapter.getElements(g);if(m.length!==0){var b={cdn:u.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(p&&p.math&&(p.math=Object.assign({},b.math,p.math)),p=Object.assign({},b,p),p.math.engine==="KaTeX")(0,d.c)("".concat(p.cdn,"/dist/js/katex/katex.min.css?v=0.16.9"),"vditorKatexStyle"),(0,c.G)("".concat(p.cdn,"/dist/js/katex/katex.min.js?v=0.16.9"),"vditorKatexScript").then(function(){(0,c.G)("".concat(p.cdn,"/dist/js/katex/mhchem.min.js?v=0.16.9"),"vditorKatexChemScript").then(function(){m.forEach(function(w){if(!(w.parentElement.classList.contains("vditor-wysiwyg__pre")||w.parentElement.classList.contains("vditor-ir__marker--pre"))&&!w.getAttribute("data-math")){var E=(0,f.X)(h.mathRenderAdapter.getCode(w));w.setAttribute("data-math",E);try{w.innerHTML=katex.renderToString(E,{displayMode:w.tagName==="DIV",output:"html",macros:p.math.macros})}catch(P){w.innerHTML=P.message,w.className="language-math vditor-reset--error"}w.addEventListener("copy",function(P){P.stopPropagation(),P.preventDefault();var D=P.currentTarget.closest(".language-math");P.clipboardData.setData("text/html",D.innerHTML),P.clipboardData.setData("text/plain",D.getAttribute("data-math"))})}})})});else if(p.math.engine==="MathJax"){var C=function(w){if(w.length!==0){var E=0,P=w[w.length-1],D=function(){var k=w[E++];k===P?k():k(D)};D()}};window.MathJax||(window.MathJax={loader:{paths:{mathjax:"".concat(p.cdn,"/dist/js/mathjax")}},startup:{typeset:!1},tex:{macros:p.math.macros}},Object.assign(window.MathJax,p.math.mathJaxOptions)),(0,c.J)("".concat(p.cdn,"/dist/js/mathjax/tex-svg-full.js"),"protyleMathJaxScript");var O=function(w,E){var P=(0,f.X)(w.textContent).trim(),D=window.MathJax.getMetricsFor(w);D.display=w.tagName==="DIV",window.MathJax.tex2svgPromise(P,D).then(function(k){w.innerHTML="",w.setAttribute("data-math",P),w.append(k),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var L=k.querySelector('[data-mml-node="merror"]');L&&L.textContent.trim()!==""&&(w.innerHTML=L.textContent.trim(),w.className="vditor-reset--error"),E&&E()})};window.MathJax.startup.promise.then(function(){for(var w=[],E=function(D){var k=m[D];!k.parentElement.classList.contains("vditor-wysiwyg__pre")&&!k.parentElement.classList.contains("vditor-ir__marker--pre")&&!k.getAttribute("data-math")&&(0,f.X)(k.textContent).trim()&&w.push(function(L){D===m.length-1?O(k):O(k,L)})},P=0;P<m.length;P++)E(P);C(w)})}}}},280:(a,s,l)=>{l.d(s,{Y:()=>h});var u=l(494),c=function(v,g){v.insertAdjacentHTML("afterend",'<video controls="controls" src="'.concat(g,'"></video>')),v.remove()},d=function(v,g){v.insertAdjacentHTML("afterend",'<audio controls="controls" src="'.concat(g,'"></audio>')),v.remove()},f=function(v,g){var p=g.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),m=g.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),b=g.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),C=g.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),O=g.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),w=g.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),E=g.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),P=g.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);if(p&&p[1].length===11)v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'.concat(p[1]+(p[2]?"?start="+p[2]:""),'"></iframe>')),v.remove();else if(m&&m[1])v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'.concat(m[1],'"></iframe>')),v.remove();else if(b&&b[1])v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='.concat(b[1],'"></iframe>')),v.remove();else if(C&&C[1])v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="//coub.com/embed/`.concat(C[1],'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>')),v.remove();else if(O&&O[0])v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.facebook.com/plugins/video.php?href=`.concat(encodeURIComponent(O[0]),'"></iframe>')),v.remove();else if(w&&w[2])v.insertAdjacentHTML("afterend",`<iframe class="iframe__video"
 src="https://www.dailymotion.com/embed/video/`.concat(w[2],'"></iframe>')),v.remove();else if(g.indexOf("bilibili.com")>-1&&(g.indexOf("bvid=")>-1||E&&E[1])){var D={bvid:(0,u.on)("bvid",g)||E&&E[1],page:"1",high_quality:"1",as_wide:"1",allowfullscreen:"true",autoplay:"0"};new URL(g.startsWith("http")?g:"https:"+g).search.split("&").forEach(function(M,A){if(M){A===0&&(M=M.substr(1));var j=M.split("=");D[j[0]]=j[1]}});var k="https://player.bilibili.com/player.html?",L=Object.keys(D);L.forEach(function(M,A){k+="".concat(M,"=").concat(D[M]),A<L.length-1&&(k+="&")}),v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="'.concat(k,'"></iframe>')),v.remove()}else P&&P[1]&&(v.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'.concat(P[1],'"></iframe>')),v.remove())},h=function(v){v&&v.querySelectorAll("a").forEach(function(g){var p=g.getAttribute("href");p&&(p.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?c(g,p):p.match(/^.+.(mp3|wav|flac)$/)?d(g,p):f(g,p))})}},637:(a,s,l)=>{l.d(s,{i:()=>g});var u=l(145),c=l(413),d=l(840),f=l(494),h=function(p,m,b,C){function O(w){return w instanceof b?w:new b(function(E){E(w)})}return new(b||(b=Promise))(function(w,E){function P(L){try{k(C.next(L))}catch(M){E(M)}}function D(L){try{k(C.throw(L))}catch(M){E(M)}}function k(L){L.done?w(L.value):O(L.value).then(P,D)}k((C=C.apply(p,m||[])).next())})},v=function(p,m){var b={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},C,O,w,E;return E={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function P(k){return function(L){return D([k,L])}}function D(k){if(C)throw new TypeError("Generator is already executing.");for(;E&&(E=0,k[0]&&(b=0)),b;)try{if(C=1,O&&(w=k[0]&2?O.return:k[0]?O.throw||((w=O.return)&&w.call(O),0):O.next)&&!(w=w.call(O,k[1])).done)return w;switch(O=0,w&&(k=[k[0]&2,w.value]),k[0]){case 0:case 1:w=k;break;case 4:return b.label++,{value:k[1],done:!1};case 5:b.label++,O=k[1],k=[0];continue;case 7:k=b.ops.pop(),b.trys.pop();continue;default:if(w=b.trys,!(w=w.length>0&&w[w.length-1])&&(k[0]===6||k[0]===2)){b=0;continue}if(k[0]===3&&(!w||k[1]>w[0]&&k[1]<w[3])){b.label=k[1];break}if(k[0]===6&&b.label<w[1]){b.label=w[1],w=k;break}if(w&&b.label<w[2]){b.label=w[2],b.ops.push(k);break}w[2]&&b.ops.pop(),b.trys.pop();continue}k=m.call(p,b)}catch(L){k=[6,L],O=0}finally{C=w=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}},g=function(p,m,b){p===void 0&&(p=document),m===void 0&&(m=u.g.CDN);var C=d.mermaidRenderAdapter.getElements(p);C.length!==0&&(0,c.G)("".concat(m,"/dist/js/mermaid/mermaid.min.js?v=11.6.0"),"vditorMermaidScript").then(function(){var O={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8,showSequenceNumbers:!0},gantt:{leftPadding:75,rightPadding:20}};b==="dark"&&(O.theme="dark"),mermaid.initialize(O),C.forEach(function(w){return h(void 0,void 0,void 0,function(){var E,P,D,k,L;return v(this,function(M){switch(M.label){case 0:if(E=d.mermaidRenderAdapter.getCode(w),w.getAttribute("data-processed")==="true"||E.trim()==="")return[2];P="mermaid"+(0,f.Wb)(),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,mermaid.render(P,w.textContent)];case 2:return D=M.sent(),w.innerHTML=D.svg,[3,4];case 3:return k=M.sent(),L=document.querySelector("#"+P),w.innerHTML="".concat(L.outerHTML,`<br>
<div style="text-align: left"><small>`).concat(k.message.replace(/\n/,"<br>"),"</small></div>"),L.parentElement.remove(),[3,4];case 4:return w.setAttribute("data-processed","true"),[2]}})})})})}},194:(a,s,l)=>{l.d(s,{P:()=>f});var u=l(145),c=l(413),d=l(840),f=function(h,v,g){h===void 0&&(h=document),v===void 0&&(v=u.g.CDN);var p=d.mindmapRenderAdapter.getElements(h);p.length>0&&(0,c.G)("".concat(v,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){p.forEach(function(m){if(!(m.parentElement.classList.contains("vditor-wysiwyg__pre")||m.parentElement.classList.contains("vditor-ir__marker--pre"))){var b=d.mindmapRenderAdapter.getCode(m);if(b)try{if(m.getAttribute("data-processed")==="true")return;echarts.init(m,g==="dark"?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(b))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(C,O){var w;return!((w=O==null?void 0:O.data)===null||w===void 0)&&w.children?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),m.setAttribute("data-processed","true")}catch(C){m.className="vditor-reset--error",m.innerHTML="mindmap render error: <br>".concat(C)}}})})}},436:(a,s,l)=>{l.d(s,{k:()=>d});var u=l(771),c=l(472),d=function(f,h,v){var g="",p=[];if(Array.from(f.children).forEach(function(O,w){if((0,u.W)(O)){if(v){var E=O.id.lastIndexOf("_");O.id=O.id.substring(0,E===-1?void 0:E)+"_"+w}p.push(O.id),g+=O.outerHTML.replace("<wbr>","")}}),g==="")return h.innerHTML="","";var m=document.createElement("div");if(v)v.lute.SetToC(!0),v.currentMode==="wysiwyg"&&!v.preview.element.contains(f)?m.innerHTML=v.lute.SpinVditorDOM("<p>[ToC]</p>"+g):v.currentMode==="ir"&&!v.preview.element.contains(f)?m.innerHTML=v.lute.SpinVditorIRDOM("<p>[ToC]</p>"+g):m.innerHTML=v.lute.HTML2VditorDOM("<p>[ToC]</p>"+g),v.lute.SetToC(v.options.preview.markdown.toc);else{h.classList.add("vditor-outline");var b=Lute.New();b.SetToC(!0),m.innerHTML=b.HTML2VditorDOM("<p>[ToC]</p>"+g)}var C=m.firstElementChild.querySelectorAll("li > span[data-target-id]");return C.forEach(function(O,w){if(O.nextElementSibling&&O.nextElementSibling.tagName==="UL"){var E="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(E='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),O.innerHTML="".concat(E,"<span>").concat(O.innerHTML,"</span>")}else O.innerHTML="<svg></svg><span>".concat(O.innerHTML,"</span>");O.setAttribute("data-target-id",p[w])}),g=m.firstElementChild.innerHTML,C.length===0?(h.innerHTML="",g):(h.innerHTML=g,v&&(0,c.H)(h,{cdn:v.options.cdn,math:v.options.preview.math}),h.firstElementChild.addEventListener("click",function(O){for(var w=O.target;w&&!w.isEqualNode(h);){if(w.classList.contains("vditor-outline__action")){w.classList.contains("vditor-outline__action--close")?(w.classList.remove("vditor-outline__action--close"),w.parentElement.nextElementSibling.setAttribute("style","display:block")):(w.classList.add("vditor-outline__action--close"),w.parentElement.nextElementSibling.setAttribute("style","display:none")),O.preventDefault(),O.stopPropagation();break}else if(w.getAttribute("data-target-id")){O.preventDefault(),O.stopPropagation();var E=document.getElementById(w.getAttribute("data-target-id"));if(!E)return;if(v)if(v.options.height==="auto"){var P=E.offsetTop+v.element.offsetTop;v.options.toolbarConfig.pin||(P+=v.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,P)}else v.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,v.element.offsetTop),v.preview.element.contains(f)?f.parentElement.scrollTop=E.offsetTop:f.scrollTop=E.offsetTop;else window.scrollTo(window.scrollX,E.offsetTop);break}w=w.parentElement}}),g)}},229:(a,s,l)=>{l.d(s,{B:()=>f});var u=l(145),c=l(413),d=l(840),f=function(h,v){h===void 0&&(h=document),v===void 0&&(v=u.g.CDN);var g=d.plantumlRenderAdapter.getElements(h);g.length!==0&&(0,c.G)("".concat(v,"/dist/js/plantuml/plantuml-encoder.min.js"),"vditorPlantumlScript").then(function(){g.forEach(function(p){if(!(p.parentElement.classList.contains("vditor-wysiwyg__pre")||p.parentElement.classList.contains("vditor-ir__marker--pre"))){var m=d.plantumlRenderAdapter.getCode(p).trim();if(m)try{p.innerHTML='<object type="image/svg+xml" data="https://www.plantuml.com/plantuml/svg/~1'.concat(plantumlEncoder.encode(m),'"/>')}catch(b){p.className="vditor-reset--error",p.innerHTML="plantuml render error: <br>".concat(b)}}})})}},214:(a,s,l)=>{l.d(s,{X:()=>u});var u=function(c){var d=Lute.New();return d.PutEmojis(c.emojis),d.SetEmojiSite(c.emojiSite),d.SetHeadingAnchor(c.headingAnchor),d.SetInlineMathAllowDigitAfterOpenMarker(c.inlineMathDigit),d.SetAutoSpace(c.autoSpace),d.SetToC(c.toc),d.SetFootnotes(c.footnotes),d.SetFixTermTypo(c.fixTermTypo),d.SetVditorCodeBlockPreview(c.codeBlockPreview),d.SetVditorMathBlockPreview(c.mathBlockPreview),d.SetSanitize(c.sanitize),d.SetChineseParagraphBeginningSpace(c.paragraphBeginningSpace),d.SetRenderListStyle(c.listStyle),d.SetLinkBase(c.linkBase),d.SetLinkPrefix(c.linkPrefix),d.SetMark(c.mark),d.SetGFMAutoLink(c.gfmAutoLink),c.lazyLoadImage&&d.SetImageLazyLoading(c.lazyLoadImage),d}},190:(a,s,l)=>{l.d(s,{E:()=>u});var u=function(c,d,f){f===void 0&&(f="classic");var h=c.getBoundingClientRect(),v=36;document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'.concat(f==="dark"?" vditor--dark":"",`">
    <div class="vditor-img__bar">
      <span class="vditor-img__btn" data-deg="0">
        <svg><use xlink:href="#vditor-icon-redo"></use></svg>
        `).concat(window.VditorI18n.spin,`
      </span>
      <span class="vditor-img__btn"  onclick="this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''">
        X &nbsp;`).concat(window.VditorI18n.close,`
      </span>
    </div>
    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = '';document.body.style.overflow = ''">
      <img style="width: `).concat(c.width,"px;height:").concat(c.height,"px;transform: translate3d(").concat(h.left,"px, ").concat(h.top-v,'px, 0)" src="').concat(c.getAttribute("src"),`">
    </div>
</div>`)),document.body.style.overflow="hidden";var g=document.querySelector(".vditor-img img"),p="translate3d(".concat(Math.max(0,window.innerWidth-c.naturalWidth)/2,"px, ").concat(Math.max(0,window.innerHeight-v-c.naturalHeight)/2,"px, 0)");setTimeout(function(){g.setAttribute("style","transition: transform .3s ease-in-out;transform: ".concat(p)),setTimeout(function(){g.parentElement.scrollTo((g.parentElement.scrollWidth-g.parentElement.clientWidth)/2,(g.parentElement.scrollHeight-g.parentElement.clientHeight)/2)},400)});var m=document.querySelector(".vditor-img__btn");m.addEventListener("click",function(){var b=parseInt(m.getAttribute("data-deg"),10)+90;b/90%2===1&&c.naturalWidth>g.parentElement.clientHeight?g.style.transform="translate3d(".concat(Math.max(0,window.innerWidth-c.naturalWidth)/2,"px, ").concat(c.naturalWidth/2-c.naturalHeight/2,"px, 0) rotateZ(").concat(b,"deg)"):g.style.transform="".concat(p," rotateZ(").concat(b,"deg)"),m.setAttribute("data-deg",b.toString()),setTimeout(function(){g.parentElement.scrollTo((g.parentElement.scrollWidth-g.parentElement.clientWidth)/2,(g.parentElement.scrollHeight-g.parentElement.clientHeight)/2)},400)})}},580:(a,s,l)=>{l.d(s,{Y:()=>d});var u=l(145),c=l(290),d=function(f,h){h===void 0&&(h=u.g.CDN),u.g.CODE_THEME.includes(f)||(f="github");var v=document.getElementById("vditorHljsStyle"),g="".concat(h,"/dist/js/highlight.js/styles/").concat(f,".min.css");v?v.getAttribute("href")!==g&&(v.remove(),(0,c.c)(g,"vditorHljsStyle")):(0,c.c)(g,"vditorHljsStyle")}},538:(a,s,l)=>{l.d(s,{Z:()=>c});var u=l(290),c=function(d,f){if(!(!d||!f)){var h=document.getElementById("vditorContentTheme"),v="".concat(f,"/").concat(d,".css");h?h.getAttribute("href")!==v&&(h.remove(),(0,u.c)(v,"vditorContentTheme")):(0,u.c)(v,"vditorContentTheme")}}},413:(a,s,l)=>{l.d(s,{J:()=>u,G:()=>c});var u=function(d,f){if(document.getElementById(f))return!1;var h=new XMLHttpRequest;h.open("GET",d,!1),h.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),h.send("");var v=document.createElement("script");v.type="text/javascript",v.text=h.responseText,v.id=f,document.head.appendChild(v)},c=function(d,f){return new Promise(function(h,v){if(document.getElementById(f))return h(!0),!1;var g=document.createElement("script");g.src=d,g.async=!0,document.head.appendChild(g),g.onerror=function(p){v(p)},g.onload=function(){if(document.getElementById(f))return g.remove(),h(!0),!1;g.id=f,h(!0)}})}},290:(a,s,l)=>{l.d(s,{c:()=>u});var u=function(c,d){if(!document.getElementById(d)){var f=document.createElement("link");f.id=d,f.rel="stylesheet",f.type="text/css",f.href=c,document.getElementsByTagName("head")[0].appendChild(f)}}},105:(a,s,l)=>{l.d(s,{X:()=>u});var u=function(c){return c.replace(/\u00a0/g," ")}},410:(a,s,l)=>{l.d(s,{G6:()=>u,vU:()=>c,pK:()=>d,Le:()=>f,yl:()=>h,ns:()=>v,i7:()=>g});var u=function(){return navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")===-1},c=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},d=function(){try{return typeof localStorage<"u"}catch{return!1}},f=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},h=function(p){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!!(p.metaKey&&!p.ctrlKey):!!(!p.metaKey&&p.ctrlKey)},v=function(p){return/Mac/.test(navigator.platform)||navigator.platform==="iPhone"?p.indexOf("⇧")>-1&&c()&&(p=p.replace(";",":").replace("=","+").replace("-","_")):(p.startsWith("⌘")?p=p.replace("⌘","⌘+"):p.startsWith("⌥")&&p.substr(1,1)!=="⌘"?p=p.replace("⌥","⌥+"):p=p.replace("⇧⌘","⌘+⇧+").replace("⌥⌘","⌥+⌘+"),p=p.replace("⌘","Ctrl").replace("⇧","Shift").replace("⌥","Alt"),p.indexOf("Shift")>-1&&(p=p.replace(";",":").replace("=","+").replace("-","_"))),p},g=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},494:(a,s,l)=>{l.d(s,{Wb:()=>u,on:()=>c,Qf:()=>d});var u=function(){return([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(f){return(parseInt(f,10)^window.crypto.getRandomValues(new Uint32Array(1))[0]&15>>parseInt(f,10)/4).toString(16)})},c=function(f,h){h===void 0&&(h=window.location.search);var v=h.substring(h.indexOf("?")),g=v.indexOf("#"),p=new URLSearchParams(v.substring(0,g>=0?g:void 0));return p.get(f)},d=function(f){return Function('"use strict";return ('.concat(f,")"))()}},106:(a,s,l)=>{l.d(s,{JQ:()=>c,E2:()=>d,O9:()=>f,a1:()=>h,F9:()=>v,lG:()=>g,fb:()=>p,DX:()=>m});var u=l(771),c=function(b,C){for(var O=p(b,C),w=!1,E=!1;O&&!O.classList.contains("vditor-reset")&&!E;)w=p(O.parentElement,C),w?O=w:E=!0;return O||!1},d=function(b,C){for(var O=(0,u.S)(b,C),w=!1,E=!1;O&&!O.classList.contains("vditor-reset")&&!E;)w=(0,u.S)(O.parentElement,C),w?O=w:E=!0;return O||!1},f=function(b){var C=d(b,"UL"),O=d(b,"OL"),w=C;return O&&(!C||C&&O.contains(C))&&(w=O),w},h=function(b,C,O){if(!b)return!1;b.nodeType===3&&(b=b.parentElement);for(var w=b,E=!1;w&&!E&&!w.classList.contains("vditor-reset");)w.getAttribute(C)===O?E=!0:w=w.parentElement;return E&&w},v=function(b){if(!b)return!1;b.nodeType===3&&(b=b.parentElement);var C=b,O=!1,w=h(b,"data-block","0");if(w)return w;for(;C&&!O&&!C.classList.contains("vditor-reset");)C.tagName==="H1"||C.tagName==="H2"||C.tagName==="H3"||C.tagName==="H4"||C.tagName==="H5"||C.tagName==="H6"||C.tagName==="P"||C.tagName==="BLOCKQUOTE"||C.tagName==="OL"||C.tagName==="UL"?O=!0:C=C.parentElement;return O&&C},g=function(b,C){if(!b)return!1;b.nodeType===3&&(b=b.parentElement);for(var O=b,w=!1;O&&!w&&!O.classList.contains("vditor-reset");)O.nodeName===C?w=!0:O=O.parentElement;return w&&O},p=function(b,C){if(!b)return!1;b.nodeType===3&&(b=b.parentElement);for(var O=b,w=!1;O&&!w&&!O.classList.contains("vditor-reset");)O.classList.contains(C)?w=!0:O=O.parentElement;return w&&O},m=function(b){for(;b&&b.lastChild;)b=b.lastChild;return b}},771:(a,s,l)=>{l.d(s,{S:()=>u,W:()=>c});var u=function(d,f){if(!d)return!1;d.nodeType===3&&(d=d.parentElement);for(var h=d,v=!1;h&&!v&&!h.classList.contains("vditor-reset");)h.nodeName.indexOf(f)===0?v=!0:h=h.parentElement;return v&&h},c=function(d){var f=u(d,"H");return f&&f.tagName.length===2&&f.tagName!=="HR"?f:!1}},673:(a,s,l)=>{l.d(s,{T:()=>u});var u=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];for(var f={},h=function(g){for(var p in g)g.hasOwnProperty(p)&&(Object.prototype.toString.call(g[p])==="[object Object]"?f[p]=u(f[p],g[p]):f[p]=g[p])},v=0;v<c.length;v++)h(c[v]);return f}},810:(a,s,l)=>{l.d(s,{zh:()=>f,Ny:()=>h,Gb:()=>v,Hc:()=>g,im:()=>p,$j:()=>m,ib:()=>b,oC:()=>C});var u=l(145),c=l(410),d=l(106),f=function(O){var w,E=O[O.currentMode].element;return getSelection().rangeCount>0&&(w=getSelection().getRangeAt(0),E.isEqualNode(w.startContainer)||E.contains(w.startContainer))?w:O[O.currentMode].range?O[O.currentMode].range:(E.focus(),w=E.ownerDocument.createRange(),w.setStart(E,0),w.collapse(!0),w)},h=function(O){var w=window.getSelection().getRangeAt(0);if(!O.contains(w.startContainer)&&!(0,d.fb)(w.startContainer,"vditor-panel--none"))return{left:0,top:0};var E=O.parentElement.getBoundingClientRect(),P;if(w.getClientRects().length===0)if(w.startContainer.nodeType===3){var D=w.startContainer.parentElement;if(D&&D.getClientRects().length>0)P=D.getClientRects()[0];else return{left:0,top:0}}else{var k=w.startContainer.children;if(k[w.startOffset]&&k[w.startOffset].getClientRects().length>0)P=k[w.startOffset].getClientRects()[0];else if(w.startContainer.childNodes.length>0){var L=w.cloneRange();w.selectNode(w.startContainer.childNodes[Math.max(0,w.startOffset-1)]),P=w.getClientRects()[0],w.setEnd(L.endContainer,L.endOffset),w.setStart(L.startContainer,L.startOffset)}else P=w.startContainer.getClientRects()[0];if(!P){for(var M=w.startContainer.childNodes[w.startOffset];!M.getClientRects||M.getClientRects&&M.getClientRects().length===0;)M=M.parentElement;P=M.getClientRects()[0]}}else P=w.getClientRects()[0];return{left:P.left-E.left,top:P.top-E.top}},v=function(O,w){if(!w){if(getSelection().rangeCount===0)return!1;w=getSelection().getRangeAt(0)}var E=w.commonAncestorContainer;return O.isEqualNode(E)||O.contains(E)},g=function(O){var w=window.getSelection();w.removeAllRanges(),w.addRange(O)},p=function(O,w,E){var P={end:0,start:0};if(!E){if(getSelection().rangeCount===0)return P;E=window.getSelection().getRangeAt(0)}if(v(w,E)){var D=E.cloneRange();O.childNodes[0]&&O.childNodes[0].childNodes[0]?D.setStart(O.childNodes[0].childNodes[0],0):D.selectNodeContents(O),D.setEnd(E.startContainer,E.startOffset),P.start=D.toString().length,P.end=P.start+E.toString().length}return P},m=function(O,w,E){var P=0,D=0,k=E.childNodes[D],L=!1,M=!1;O=Math.max(0,O),w=Math.max(0,w);var A=E.ownerDocument.createRange();for(A.setStart(k||E,0),A.collapse(!0);!M&&k;){var j=P+k.textContent.length;if(!L&&O>=P&&O<=j&&(O===0?A.setStart(k,0):k.childNodes[0].nodeType===3?A.setStart(k.childNodes[0],O-P):k.nextSibling?A.setStartBefore(k.nextSibling):A.setStartAfter(k),L=!0,O===w)){M=!0;break}L&&w>=P&&w<=j&&(w===0?A.setEnd(k,0):k.childNodes[0].nodeType===3?A.setEnd(k.childNodes[0],w-P):k.nextSibling?A.setEndBefore(k.nextSibling):A.setEndAfter(k),M=!0),P=j,k=E.childNodes[++D]}return!M&&E.childNodes[D-1]&&A.setStartBefore(E.childNodes[D-1]),g(A),A},b=function(O,w){var E=O.querySelector("wbr");if(E){if(!E.previousElementSibling)E.previousSibling?w.setStart(E.previousSibling,E.previousSibling.textContent.length):E.nextSibling?E.nextSibling.nodeType===3?w.setStart(E.nextSibling,0):w.setStartBefore(E.nextSibling):w.setStart(E.parentElement,0);else if(E.previousElementSibling.isSameNode(E.previousSibling))if(E.previousElementSibling.lastChild){w.setStartBefore(E),w.collapse(!0),g(w),(0,c.i7)()&&(E.previousElementSibling.tagName==="EM"||E.previousElementSibling.tagName==="STRONG"||E.previousElementSibling.tagName==="S")&&(w.insertNode(document.createTextNode(u.g.ZWSP)),w.collapse(!1)),E.remove();return}else w.setStartAfter(E.previousElementSibling);else w.setStart(E.previousSibling,E.previousSibling.textContent.length);w.collapse(!0),E.remove(),g(w)}},C=function(O,w){var E=document.createElement("div");E.innerHTML=O;var P=E.querySelectorAll("p");P.length===1&&!P[0].previousSibling&&!P[0].nextSibling&&w[w.currentMode].element.children.length>0&&E.firstElementChild.tagName==="P"&&(O=P[0].innerHTML.trim());var D=document.createElement("div");D.innerHTML=O;var k=f(w);if(k.toString()!==""&&(w[w.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),D.firstElementChild&&D.firstElementChild.getAttribute("data-block")==="0"){D.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var L=(0,d.F9)(k.startContainer);L?L.insertAdjacentHTML("afterend",D.innerHTML):w[w.currentMode].element.insertAdjacentHTML("beforeend",D.innerHTML),b(w[w.currentMode].element,k)}else{var M=document.createElement("template");M.innerHTML=O,k.insertNode(M.content.cloneNode(!0)),k.collapse(!1),g(k)}}}},i={};function r(a){var s=i[a];if(s!==void 0)return s.exports;var l=i[a]={exports:{}};return t[a](l,l.exports,r),l.exports}r.d=(a,s)=>{for(var l in s)r.o(s,l)&&!r.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},r.o=(a,s)=>Object.prototype.hasOwnProperty.call(a,s),r.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{r.d(o,{default:()=>WX});var a=r(408),s=r(145),l=r(105),u=function(y){return y.currentMode==="sv"?(0,l.X)("".concat(y.sv.element.textContent,`
`).replace(/\n\n$/,`
`)):y.currentMode==="wysiwyg"?y.lute.VditorDOM2Md(y.wysiwyg.element.innerHTML):y.currentMode==="ir"?y.lute.VditorIRDOM2Md(y.ir.element.innerHTML):""},c=r(413),d=function(){function y(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return y.prototype.renderEchart=function(_){var S=this;_.devtools.element.style.display==="block"&&(0,c.G)("".concat(_.options.cdn,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then(function(){S.ASTChart||(S.ASTChart=echarts.init(_.devtools.element.lastElementChild));try{S.element.lastElementChild.style.display="block",S.element.firstElementChild.innerHTML="",S.ASTChart.setOption({series:[{data:JSON.parse(_.lute.RenderEChartsJSON(u(_))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),S.ASTChart.resize()}catch(T){S.element.lastElementChild.style.display="none",S.element.firstElementChild.innerHTML=T}})},y}(),f=r(410),h=function(y,_){_.forEach(function(S){if(y[S]){var T=y[S].children[0];T&&T.classList.contains("vditor-menu--current")&&T.classList.remove("vditor-menu--current")}})},v=function(y,_){_.forEach(function(S){if(y[S]){var T=y[S].children[0];T&&!T.classList.contains("vditor-menu--current")&&T.classList.add("vditor-menu--current")}})},g=function(y,_){_.forEach(function(S){if(y[S]){var T=y[S].children[0];T&&T.classList.contains(s.g.CLASS_MENU_DISABLED)&&T.classList.remove(s.g.CLASS_MENU_DISABLED)}})},p=function(y,_){_.forEach(function(S){if(y[S]){var T=y[S].children[0];T&&!T.classList.contains(s.g.CLASS_MENU_DISABLED)&&T.classList.add(s.g.CLASS_MENU_DISABLED)}})},m=function(y,_){_.forEach(function(S){y[S]&&y[S]&&(y[S].style.display="none")})},b=function(y,_){_.forEach(function(S){y[S]&&y[S]&&(y[S].style.display="block")})},C=function(y,_,S){_.includes("subToolbar")&&(y.toolbar.element.querySelectorAll(".vditor-hint").forEach(function(T){S&&T.isEqualNode(S)||(T.style.display="none")}),y.toolbar.elements.emoji&&(y.toolbar.elements.emoji.lastElementChild.style.display="none")),_.includes("hint")&&(y.hint.element.style.display="none"),y.wysiwyg.popover&&_.includes("popover")&&(y.wysiwyg.popover.style.display="none")},O=function(y,_,S,T){S.addEventListener((0,f.Le)(),function(I){I.preventDefault(),I.stopPropagation(),!S.classList.contains(s.g.CLASS_MENU_DISABLED)&&(y.toolbar.element.querySelectorAll(".vditor-hint--current").forEach(function(B){B.classList.remove("vditor-hint--current")}),_.style.display==="block"?_.style.display="none":(C(y,["subToolbar","hint","popover"],S.parentElement.parentElement),S.classList.contains("vditor-tooltipped")||S.classList.add("vditor-hint--current"),_.style.display="block",y.toolbar.element.getBoundingClientRect().right-S.getBoundingClientRect().right<250?_.classList.add("vditor-panel--left"):_.classList.remove("vditor-panel--left")))})},w=r(106),E=r(771),P=function(y,_,S,T){T&&console.log("".concat(y," - ").concat(S,": ").concat(_))},D=r(135),k=r(775),L=r(428),M=r(325),A=r(483),j=r(999),V=r(472),H=r(637),N=r(11),F=r(194),W=r(229),U=r(825),q=function(y,_,S){S===void 0&&(S="sv");var T=document.createElement("div");T.innerHTML=y;var I=!1;T.childElementCount===1&&T.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(I=!0);var B=T.querySelectorAll("pre");if(T.childElementCount===1&&B.length===1&&B[0].className!=="vditor-wysiwyg"&&B[0].className!=="vditor-sv"&&(I=!0),y.indexOf(`
<p class="p1">`)===0&&(I=!0),T.childElementCount===1&&T.firstElementChild.tagName==="TABLE"&&T.querySelector(".line-number")&&T.querySelector(".line-content")&&(I=!0),I){var re=_||y;return/\n/.test(re)||B.length===1?S==="wysiwyg"?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'.concat(re.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"<wbr></code></pre></div>"):"\n```\n"+re.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":S==="wysiwyg"?"<code>".concat(re.replace(/&/g,"&amp;").replace(/</g,"&lt;"),"</code><wbr>"):"`".concat(re,"`")}return!1},Z=function(y,_){if(y){if(y.parentElement.getAttribute("data-type")==="html-block"){y.setAttribute("data-render","1");return}var S=y.firstElementChild.className.replace("language-","");if(S==="abc")(0,D.Q)(y,_.options.cdn);else if(S==="mermaid")(0,H.i)(y,_.options.cdn,_.options.theme);else if(S==="smiles")(0,U.J)(y,_.options.cdn,_.options.theme);else if(S==="markmap")(0,N.K)(y,_.options.cdn);else if(S==="flowchart")(0,M.P)(y,_.options.cdn);else if(S==="echarts")(0,k.p)(y,_.options.cdn,_.options.theme);else if(S==="mindmap")(0,F.P)(y,_.options.cdn,_.options.theme);else if(S==="plantuml")(0,W.B)(y,_.options.cdn);else if(S==="graphviz")(0,A.v)(y,_.options.cdn);else if(S==="math")(0,V.H)(y,{cdn:_.options.cdn,math:_.options.preview.math});else{var T=_.options.customRenders.find(function(I){if(I.language===S)return I.render(y,_),!0});T||((0,j.s)(Object.assign({},_.options.preview.hljs),y,_.options.cdn),(0,L.O)(y,_.options.preview.hljs))}y.setAttribute("data-render","1")}},z=r(810),ie=function(y){if(y.currentMode!=="sv"){var _=y[y.currentMode].element,S=y.outline.render(y);S===""&&(S="[ToC]"),_.querySelectorAll('[data-type="toc-block"]').forEach(function(T){T.innerHTML=S,(0,V.H)(T,{cdn:y.options.cdn,math:y.options.preview.math})})}},ee=function(y,_){var S=(0,w.lG)(y.target,"SPAN");if(S&&(0,w.fb)(S,"vditor-toc")){var T=_[_.currentMode].element.querySelector("#"+S.getAttribute("data-target-id"));if(T)if(_.options.height==="auto"){var I=T.offsetTop+_.element.offsetTop;_.options.toolbarConfig.pin||(I+=_.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,I)}else _.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,_.element.offsetTop),_[_.currentMode].element.scrollTop=T.offsetTop;return}},K=function(y,_,S,T){if(y.previousElementSibling&&y.previousElementSibling.classList.contains("vditor-toc")){if(S.key==="Backspace"&&(0,z.im)(y,_[_.currentMode].element,T).start===0)return y.previousElementSibling.remove(),Jt(_),!0;if(ds(_,S,T,y,y.previousElementSibling))return!0}if(y.nextElementSibling&&y.nextElementSibling.classList.contains("vditor-toc")){if(S.key==="Delete"&&(0,z.im)(y,_[_.currentMode].element,T).start>=y.textContent.trimRight().length)return y.nextElementSibling.remove(),Jt(_),!0;if(xd(_,S,T,y,y.nextElementSibling))return!0}if(S.key==="Backspace"||S.key==="Delete"){var I=(0,w.fb)(T.startContainer,"vditor-toc");if(I)return I.remove(),Jt(_),!0}},J=function(y,_,S,T){S===void 0&&(S=!1);var I=(0,w.F9)(_.startContainer);if(I&&!S&&I.getAttribute("data-type")!=="code-block"){if(vn(I.innerHTML)&&I.previousElementSibling||Hh(I.innerHTML))return;for(var B=(0,z.im)(I,y.ir.element,_).start,re=!0,ue=B-1;ue>I.textContent.substr(0,B).lastIndexOf(`
`);ue--)if(I.textContent.charAt(ue)!==" "&&I.textContent.charAt(ue)!=="	"){re=!1;break}B===0&&(re=!1);for(var fe=!0,ue=B-1;ue<I.textContent.length;ue++)if(I.textContent.charAt(ue)!==" "&&I.textContent.charAt(ue)!==`
`){fe=!1;break}if(re){typeof y.options.input=="function"&&y.options.input(u(y));return}if(fe&&/^#{1,6} $/.test(I.textContent)&&(fe=!1),fe){var ce=(0,w.fb)(_.startContainer,"vditor-ir__marker");if(!ce){var _e=_.startContainer.previousSibling;_e&&_e.nodeType!==3&&_e.classList.contains("vditor-ir__node--expand")&&_e.classList.remove("vditor-ir__node--expand"),typeof y.options.input=="function"&&y.options.input(u(y));return}}}if(y.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(Pn){Pn.classList.remove("vditor-ir__node--expand")}),I||(I=y.ir.element),!I.querySelector("wbr")){var Ie=(0,w.fb)(_.startContainer,"vditor-ir__preview");Ie?Ie.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):_.insertNode(document.createElement("wbr"))}I.querySelectorAll("[style]").forEach(function(Pn){Pn.removeAttribute("style")}),I.getAttribute("data-type")==="link-ref-defs-block"&&(I=y.ir.element);var ht=I.isEqualNode(y.ir.element),vt=(0,w.a1)(I,"data-type","footnotes-block"),it="";if(ht)it=I.innerHTML;else{var Mt=(0,E.S)(_.startContainer,"BLOCKQUOTE"),wt=(0,w.O9)(_.startContainer);if(wt&&(I=wt),Mt&&(!wt||wt&&!Mt.contains(wt))&&(I=Mt),vt&&(I=vt),it=I.outerHTML,I.tagName==="UL"||I.tagName==="OL"){var nt=I.previousElementSibling,Gt=I.nextElementSibling;nt&&(nt.tagName==="UL"||nt.tagName==="OL")&&(it=nt.outerHTML+it,nt.remove()),Gt&&(Gt.tagName==="UL"||Gt.tagName==="OL")&&(it=it+Gt.outerHTML,Gt.remove()),it=it.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else I.previousElementSibling&&I.previousElementSibling.textContent.replace(s.g.ZWSP,"")!==""&&T&&T.inputType==="insertParagraph"&&(it=I.previousElementSibling.outerHTML+it,I.previousElementSibling.remove());I.innerText.startsWith("```")||(y.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(Pn){Pn&&!I.isEqualNode(Pn)&&(it+=Pn.outerHTML,Pn.remove())}),y.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(Pn){Pn&&!I.isEqualNode(Pn)&&(it+=Pn.outerHTML,Pn.remove())}))}if(P("SpinVditorIRDOM",it,"argument",y.options.debugger),it=y.lute.SpinVditorIRDOM(it),P("SpinVditorIRDOM",it,"result",y.options.debugger),ht)I.innerHTML=it;else if(I.outerHTML=it,vt){var Tt=(0,w.a1)(y.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(Tt){var un=Tt.textContent,Pi=un.substring(1,un.indexOf("]:")),Ci=y.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(Pi,'"]'));Ci&&Ci.setAttribute("aria-label",un.substr(Pi.length+3).trim().substr(0,24))}}var Mi,Io=y.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");Io.forEach(function(Pn,hr){hr===0?Mi=Pn:(Mi.insertAdjacentHTML("beforeend",Pn.innerHTML),Pn.remove())}),Io.length>0&&y.ir.element.insertAdjacentElement("beforeend",Io[0]);var Hr,Lo=y.ir.element.querySelectorAll("[data-type='footnotes-block']");Lo.forEach(function(Pn,hr){hr===0?Hr=Pn:(Hr.insertAdjacentHTML("beforeend",Pn.innerHTML),Pn.remove())}),Lo.length>0&&y.ir.element.insertAdjacentElement("beforeend",Lo[0]),(0,z.ib)(y.ir.element,_),y.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(Pn){Z(Pn,y)}),ie(y),Bl(y,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},$=function(y,_){if(y==="")return!1;if(y.indexOf("⇧")===-1&&y.indexOf("⌘")===-1&&y.indexOf("⌥")===-1)return!(0,f.yl)(_)&&!_.altKey&&!_.shiftKey&&_.code===y;if(y==="⇧Tab")return!!(!(0,f.yl)(_)&&!_.altKey&&_.shiftKey&&_.code==="Tab");var S=y.split("");if(y.startsWith("⌥")){var T=S.length===3?S[2]:S[1];return!!((S.length===3?(0,f.yl)(_):!(0,f.yl)(_))&&_.altKey&&!_.shiftKey&&_.code===(/^[0-9]$/.test(T)?"Digit":"Key")+T)}y==="⌘Enter"&&(S=["⌘","Enter"]);var I=S.length>2&&S[0]==="⇧",B=I?S[2]:S[1];return I&&((0,f.vU)()||!/Mac/.test(navigator.platform))&&(B==="-"?B="_":B==="="&&(B="+")),!!((0,f.yl)(_)&&_.key.toLowerCase()===B.toLowerCase()&&!_.altKey&&(!I&&!_.shiftKey||I&&_.shiftKey))},Y=function(y){var _=y.startContainer;if(_.nodeType===3&&_.nodeValue.length!==y.startOffset)return!1;for(var S=_.nextSibling;S&&S.textContent==="";)S=S.nextSibling;if(S){if(S&&S.nodeType!==3&&S.classList.contains("vditor-ir__node")&&!S.getAttribute("data-block"))return S}else{var T=(0,w.fb)(_,"vditor-ir__marker");if(T&&!T.nextSibling){var I=_.parentElement.parentElement.nextSibling;if(I&&I.nodeType!==3&&I.classList.contains("vditor-ir__node"))return I}return!1}return!1},te=function(y){var _=y.startContainer,S=_.previousSibling;return _.nodeType===3&&y.startOffset===0&&S&&S.nodeType!==3&&S.classList.contains("vditor-ir__node")&&!S.getAttribute("data-block")?S:!1},ae=function(y,_){_.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach(function(re){re.classList.remove("vditor-ir__node--expand")});var S=(0,w.JQ)(y.startContainer,"vditor-ir__node"),T=!y.collapsed&&(0,w.JQ)(y.endContainer,"vditor-ir__node");if(!(!y.collapsed&&(!S||S!==T))){S&&(S.classList.add("vditor-ir__node--expand"),S.classList.remove("vditor-ir__node--hidden"),(0,z.Hc)(y));var I=Y(y);if(I){I.classList.add("vditor-ir__node--expand"),I.classList.remove("vditor-ir__node--hidden");return}var B=te(y);if(B){B.classList.add("vditor-ir__node--expand"),B.classList.remove("vditor-ir__node--hidden");return}}},le=function(y,_){if(y.ir.composingLock=_.isComposing,_.isComposing)return!1;_.key.indexOf("Arrow")===-1&&_.key!=="Meta"&&_.key!=="Control"&&_.key!=="Alt"&&_.key!=="Shift"&&_.key!=="CapsLock"&&_.key!=="Escape"&&!/^F\d{1,2}$/.test(_.key)&&y.undo.recordFirstPosition(y,_);var S=(0,z.zh)(y),T=S.startContainer;if(!ra(_,y,T)||(Bp(S,y,_),UA(S),_.key!=="Enter"&&_.key!=="Tab"&&_.key!=="Backspace"&&_.key.indexOf("Arrow")===-1&&!(0,f.yl)(_)&&_.key!=="Escape"&&_.key!=="Delete"))return!1;var I=(0,w.a1)(T,"data-newline","1");if(!(0,f.yl)(_)&&!_.altKey&&!_.shiftKey&&_.key==="Enter"&&I&&S.startOffset<I.textContent.length){var B=I.previousElementSibling;B&&(S.insertNode(document.createTextNode(B.textContent)),S.collapse(!1));var re=I.nextSibling;re&&(S.insertNode(document.createTextNode(re.textContent)),S.collapse(!0))}var ue=(0,w.lG)(T,"P");if(zs(_,y,ue,S)||wi(S,y,ue,_)||Ia(y,S,_,ue))return!0;var fe=(0,w.fb)(T,"vditor-ir__marker--pre");if(fe&&fe.tagName==="PRE"){var ce=fe.firstChild;if(Cr(y,_,fe,S)||(ce.getAttribute("data-type")==="math-block"||ce.getAttribute("data-type")==="html-block")&&ds(y,_,S,ce,fe.parentElement)||xd(y,_,S,ce,fe.parentElement))return!0}var _e=(0,w.a1)(T,"data-type","code-block-info");if(_e){if(_.key==="Enter"||_.key==="Tab")return S.selectNodeContents(_e.nextElementSibling.firstChild),S.collapse(!0),_.preventDefault(),C(y,["hint"]),!0;if(_.key==="Backspace"){var Ie=(0,z.im)(_e,y.ir.element).start;Ie===1&&S.setStart(T,0),Ie===2&&(y.hint.recentLanguage="")}if(ds(y,_,S,_e,_e.parentElement))return C(y,["hint"]),!0}var ht=(0,w.lG)(T,"TD")||(0,w.lG)(T,"TH");if(_.key.indexOf("Arrow")>-1&&ht){var vt=cx(ht);if(vt&&ds(y,_,S,ht,vt))return!0;var it=dx(ht);if(it&&xd(y,_,S,ht,it))return!0}if(ci(y,_,S)||__(y,S,_)||oc(y,S,_))return!0;var Mt=(0,E.W)(T);if(Mt){if($("⌘=",_)){var wt=Mt.querySelector(".vditor-ir__marker--heading");return wt&&wt.textContent.trim().length>1&&Wp(y,wt.textContent.substr(1)),_.preventDefault(),!0}if($("⌘-",_)){var wt=Mt.querySelector(".vditor-ir__marker--heading");return wt&&wt.textContent.trim().length<6&&Wp(y,wt.textContent.trim()+"# "),_.preventDefault(),!0}}var nt=(0,w.F9)(T);if(_.key==="Backspace"&&!(0,f.yl)(_)&&!_.shiftKey&&!_.altKey&&S.toString()===""){if(w_(y,S,_,ue))return!0;if(nt&&nt.previousElementSibling&&nt.tagName!=="UL"&&nt.tagName!=="OL"&&(nt.previousElementSibling.getAttribute("data-type")==="code-block"||nt.previousElementSibling.getAttribute("data-type")==="math-block")){var Gt=(0,z.im)(nt,y.ir.element,S).start;if(Gt===0||Gt===1&&nt.innerText.startsWith(s.g.ZWSP))return S.selectNodeContents(nt.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),S.collapse(!1),ae(S,y),nt.textContent.trim().replace(s.g.ZWSP,"")===""&&(nt.remove(),Bl(y)),_.preventDefault(),!0}if(Mt){var Tt=Mt.firstElementChild.textContent.length;(0,z.im)(Mt,y.ir.element).start===Tt&&Tt!==0&&(S.setStart(Mt.firstElementChild.firstChild,Tt-1),S.collapse(!0),(0,z.Hc)(S))}}return(_.key==="ArrowUp"||_.key==="ArrowDown")&&nt&&(nt.querySelectorAll(".vditor-ir__node").forEach(function(un){un.contains(T)||un.classList.add("vditor-ir__node--hidden")}),KA(_,nt,S))?!0:($p(S,_.key),nt&&K(nt,y,_,S)?(_.preventDefault(),!0):!1)},Q=r(190),ne=function(y,_){y.querySelectorAll("[data-type=footnotes-link]").forEach(function(S){for(var T=S.parentElement,I=T.nextSibling;I&&I.textContent.startsWith("    ");){var B=I;B.childNodes.forEach(function(re){T.append(re.cloneNode(!0))}),I=I.nextSibling,B.remove()}_&&_(T)})},se=function(y,_){var S,T=getSelection().getRangeAt(0).cloneRange(),I=T.startContainer;T.startContainer.nodeType!==3&&T.startContainer.tagName==="DIV"&&(I=T.startContainer.childNodes[T.startOffset-1]);var B=(0,w.a1)(I,"data-block","0");if(B&&_&&(_.inputType==="deleteContentBackward"||_.data===" ")){for(var re=(0,z.im)(B,y.sv.element,T).start,ue=!0,fe=re-1;fe>B.textContent.substr(0,re).lastIndexOf(`
`);fe--)if(B.textContent.charAt(fe)!==" "&&B.textContent.charAt(fe)!=="	"){ue=!1;break}if(re===0&&(ue=!1),ue){Li(y);return}if(_.inputType==="deleteContentBackward"){var ce=(0,w.a1)(I,"data-type","code-block-open-marker")||(0,w.a1)(I,"data-type","code-block-close-marker");if(ce){if(ce.getAttribute("data-type")==="code-block-close-marker"){var _e=Ws(I,"code-block-open-marker");if(_e){_e.textContent=ce.textContent,Li(y);return}}if(ce.getAttribute("data-type")==="code-block-open-marker"){var _e=Ws(I,"code-block-close-marker",!1);if(_e){_e.textContent=ce.textContent,Li(y);return}}}var Ie=(0,w.a1)(I,"data-type","math-block-open-marker");if(Ie){var ht=Ie.nextElementSibling.nextElementSibling;ht&&ht.getAttribute("data-type")==="math-block-close-marker"&&(ht.remove(),Li(y));return}B.querySelectorAll('[data-type="code-block-open-marker"]').forEach(function(nt){nt.textContent.length===1&&nt.remove()}),B.querySelectorAll('[data-type="code-block-close-marker"]').forEach(function(nt){nt.textContent.length===1&&nt.remove()});var vt=(0,w.a1)(I,"data-type","heading-marker");if(vt&&vt.textContent.indexOf("#")===-1){Li(y);return}}if((_.data===" "||_.inputType==="deleteContentBackward")&&((0,w.a1)(I,"data-type","padding")||(0,w.a1)(I,"data-type","li-marker")||(0,w.a1)(I,"data-type","task-marker")||(0,w.a1)(I,"data-type","blockquote-marker"))){Li(y);return}}if(B&&B.textContent.trimRight()==="$$"){Li(y);return}B||(B=y.sv.element),((S=B.firstElementChild)===null||S===void 0?void 0:S.getAttribute("data-type"))==="link-ref-defs-block"&&(B=y.sv.element),(0,w.a1)(I,"data-type","footnotes-link")&&(B=y.sv.element),B.textContent.indexOf(Lute.Caret)===-1&&T.insertNode(document.createTextNode(Lute.Caret)),B.querySelectorAll("[style]").forEach(function(nt){nt.removeAttribute("style")}),B.querySelectorAll("font").forEach(function(nt){nt.outerHTML=nt.innerHTML});var it=B.textContent,Mt=B.isEqualNode(y.sv.element);if(Mt)it=B.textContent;else{B.previousElementSibling&&(it=B.previousElementSibling.textContent+it,B.previousElementSibling.remove()),B.previousElementSibling&&it.indexOf(`---
`)===0&&(it=B.previousElementSibling.textContent+it,B.previousElementSibling.remove());var wt="";y.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(nt,Gt){nt&&!B.isEqualNode(nt.parentElement)&&(wt+=nt.parentElement.textContent+`
`,nt.parentElement.remove())}),y.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach(function(nt,Gt){nt&&!B.isEqualNode(nt.parentElement)&&(wt+=nt.parentElement.textContent+`
`,nt.parentElement.remove())}),it=wt+it}it=ho(it,y),Mt?B.innerHTML=it:B.outerHTML=it,y.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(nt){y.sv.element.insertAdjacentElement("beforeend",nt.parentElement)}),ne(y.sv.element,function(nt){y.sv.element.insertAdjacentElement("beforeend",nt)}),(0,z.ib)(y.sv.element,T),en(y),Li(y,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},de=function(y,_){var S,T,I,B,re;if(y.sv.composingLock=_.isComposing,_.isComposing||(_.key.indexOf("Arrow")===-1&&_.key!=="Meta"&&_.key!=="Control"&&_.key!=="Alt"&&_.key!=="Shift"&&_.key!=="CapsLock"&&_.key!=="Escape"&&!/^F\d{1,2}$/.test(_.key)&&y.undo.recordFirstPosition(y,_),_.key!=="Enter"&&_.key!=="Tab"&&_.key!=="Backspace"&&_.key.indexOf("Arrow")===-1&&!(0,f.yl)(_)&&_.key!=="Escape"))return!1;var ue=(0,z.zh)(y),fe=ue.startContainer;ue.startContainer.nodeType!==3&&ue.startContainer.tagName==="DIV"&&(fe=ue.startContainer.childNodes[ue.startOffset-1]);var ce=(0,w.a1)(fe,"data-type","text"),_e=(0,w.a1)(fe,"data-type","blockquote-marker");if(!_e&&ue.startOffset===0&&ce&&ce.previousElementSibling&&ce.previousElementSibling.getAttribute("data-type")==="blockquote-marker"&&(_e=ce.previousElementSibling),_e&&_.key==="Enter"&&!(0,f.yl)(_)&&!_.altKey&&_e.nextElementSibling.textContent.trim()===""&&(0,z.im)(_e,y.sv.element,ue).start===_e.textContent.length)return((S=_e.previousElementSibling)===null||S===void 0?void 0:S.getAttribute("data-type"))==="padding"&&_e.previousElementSibling.setAttribute("data-action","enter-remove"),_e.remove(),Li(y),_.preventDefault(),!0;var Ie=(0,w.a1)(fe,"data-type","li-marker"),ht=(0,w.a1)(fe,"data-type","task-marker"),vt=Ie;if(vt||ht&&ht.nextElementSibling.getAttribute("data-type")!=="task-marker"&&(vt=ht),!vt&&ue.startOffset===0&&ce&&ce.previousElementSibling&&(ce.previousElementSibling.getAttribute("data-type")==="li-marker"||ce.previousElementSibling.getAttribute("data-type")==="task-marker")&&(vt=ce.previousElementSibling),vt){var it=(0,z.im)(vt,y.sv.element,ue).start,Mt=vt.getAttribute("data-type")==="task-marker",wt=vt;if(Mt&&(wt=vt.previousElementSibling.previousElementSibling.previousElementSibling),it===vt.textContent.length){if(_.key==="Enter"&&!(0,f.yl)(_)&&!_.altKey&&!_.shiftKey&&vt.nextElementSibling.textContent.trim()==="")return((T=wt.previousElementSibling)===null||T===void 0?void 0:T.getAttribute("data-type"))==="padding"?(wt.previousElementSibling.remove(),se(y)):(Mt&&(wt.remove(),vt.previousElementSibling.previousElementSibling.remove(),vt.previousElementSibling.remove()),vt.nextElementSibling.remove(),vt.remove(),Li(y)),_.preventDefault(),!0;if(_.key==="Tab")return _.shiftKey?wt.previousElementSibling.getAttribute("data-type")==="padding"&&wt.previousElementSibling.remove():wt.insertAdjacentHTML("beforebegin",'<span data-type="padding">'.concat(wt.textContent.replace(/\S/g," "),"</span>")),/^\d/.test(wt.textContent)&&(wt.textContent=wt.textContent.replace(/^\d{1,}/,"1"),ue.selectNodeContents(vt.firstChild),ue.collapse(!1)),se(y),_.preventDefault(),!0}}if(oc(y,ue,_))return!0;var nt=(0,w.a1)(fe,"data-block","0"),Gt=(0,E.S)(fe,"SPAN");if(_.key==="Enter"&&!(0,f.yl)(_)&&!_.altKey&&!_.shiftKey&&nt){var Tt=!1,un=nt.textContent.match(/^\n+/);(0,z.im)(nt,y.sv.element).start<=(un?un[0].length:0)&&(Tt=!0);var Pi=`
`;if(Gt){if(((I=Gt.previousElementSibling)===null||I===void 0?void 0:I.getAttribute("data-action"))==="enter-remove")return Gt.previousElementSibling.remove(),Li(y),_.preventDefault(),!0;Pi+=tc(Gt)}return ue.insertNode(document.createTextNode(Pi)),ue.collapse(!1),nt&&nt.textContent.trim()!==""&&!Tt?se(y):Li(y),_.preventDefault(),!0}if(_.key==="Backspace"&&!(0,f.yl)(_)&&!_.altKey&&!_.shiftKey){if(Gt&&((B=Gt.previousElementSibling)===null||B===void 0?void 0:B.getAttribute("data-type"))==="newline"&&(0,z.im)(Gt,y.sv.element,ue).start===1&&Gt.getAttribute("data-type").indexOf("code-block-")===-1)return ue.setStart(Gt,0),ue.extractContents(),Gt.textContent.trim()!==""?se(y):Li(y),_.preventDefault(),!0;if(nt&&(0,z.im)(nt,y.sv.element,ue).start===0&&nt.previousElementSibling){ue.extractContents();var Ci=nt.previousElementSibling.lastElementChild;return Ci.getAttribute("data-type")==="newline"&&(Ci.remove(),Ci=nt.previousElementSibling.lastElementChild),Ci.getAttribute("data-type")!=="newline"&&(Ci.insertAdjacentHTML("afterend",nt.innerHTML),nt.remove()),nt.textContent.trim()!==""&&!(!((re=nt.previousElementSibling)===null||re===void 0)&&re.querySelector('[data-type="code-block-open-marker"]'))?se(y):(Ci.getAttribute("data-type")!=="newline"&&(ue.selectNodeContents(Ci.lastChild),ue.collapse(!1)),Li(y)),_.preventDefault(),!0}}return!1},he=r(538),ge=function(y){y.options.theme==="dark"?y.element.classList.add("vditor--dark"):y.element.classList.remove("vditor--dark")},Se=function(y){y.element.innerHTML="",y.element.classList.add("vditor"),y.options.rtl&&y.element.setAttribute("dir","rtl"),ge(y),(0,he.Z)(y.options.preview.theme.current,y.options.preview.theme.path),typeof y.options.height=="number"?y.element.style.height=y.options.height+"px":y.element.style.height=y.options.height,typeof y.options.minHeight=="number"&&(y.element.style.minHeight=y.options.minHeight+"px"),typeof y.options.width=="number"?y.element.style.width=y.options.width+"px":y.element.style.width=y.options.width,y.element.appendChild(y.toolbar.element);var _=document.createElement("div");if(_.className="vditor-content",y.options.outline.position==="left"&&_.appendChild(y.outline.element),_.appendChild(y.wysiwyg.element.parentElement),_.appendChild(y.sv.element),_.appendChild(y.ir.element.parentElement),_.appendChild(y.preview.element),y.toolbar.elements.devtools&&_.appendChild(y.devtools.element),y.options.outline.position==="right"&&(y.outline.element.classList.add("vditor-outline--right"),_.appendChild(y.outline.element)),y.upload&&_.appendChild(y.upload.element),y.options.resize.enable&&_.appendChild(y.resize.element),_.appendChild(y.hint.element),_.appendChild(y.tip.element),y.element.appendChild(_),_.addEventListener("click",function(){C(y,["subToolbar"])}),y.toolbar.elements.export&&y.element.insertAdjacentHTML("beforeend",'<iframe id="vditorExportIframe" style="width: 100%;height: 0;border: 0"></iframe>'),wn(y,y.options.mode,Re(y)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&typeof window.visualViewport<"u"){var S=!1,T=function(I){S||(S=!0,requestAnimationFrame(function(){S=!1;var B=y.toolbar.element;B.style.transform="none",B.getBoundingClientRect().top<0&&(B.style.transform="translate(0, ".concat(-B.getBoundingClientRect().top,"px)"))}))};window.visualViewport.addEventListener("scroll",T),window.visualViewport.addEventListener("resize",T)}},Te=function(y){var _=window.innerWidth<=s.g.MOBILE_WIDTH?10:35;if(y.wysiwyg.element.parentElement.style.display!=="none"){var S=(y.wysiwyg.element.parentElement.clientWidth-y.options.preview.maxWidth)/2;y.wysiwyg.element.style.padding="10px ".concat(Math.max(_,S),"px")}if(y.ir.element.parentElement.style.display!=="none"){var S=(y.ir.element.parentElement.clientWidth-y.options.preview.maxWidth)/2;y.ir.element.style.padding="10px ".concat(Math.max(_,S),"px")}y.preview.element.style.display!=="block"?y.toolbar.element.style.paddingLeft=Math.max(5,parseInt(y[y.currentMode].element.style.paddingLeft||"0",10)+(y.options.outline.position==="left"?y.outline.element.offsetWidth:0))+"px":y.toolbar.element.style.paddingLeft=5+(y.options.outline.position==="left"?y.outline.element.offsetWidth:0)+"px"},Ce=function(y){if(y.options.typewriterMode){var _=window.innerHeight;typeof y.options.height=="number"?(_=y.options.height,typeof y.options.minHeight=="number"&&(_=Math.max(_,y.options.minHeight)),_=Math.min(window.innerHeight,_)):_=y.element.clientHeight,y.element.classList.contains("vditor--fullscreen")&&(_=window.innerHeight),y[y.currentMode].element.style.setProperty("--editor-bottom",(_-y.toolbar.element.offsetHeight)/2+"px")}},xe;function Me(){window.removeEventListener("resize",xe)}var Re=function(y){Ce(y),Me(),window.addEventListener("resize",xe=function(){Te(y),Ce(y)});var _=(0,f.pK)()&&localStorage.getItem(y.options.cache.id);return(!y.options.cache.enable||!_)&&(y.options.value?_=y.options.value:y.originalInnerHTML?_=y.lute.HTML2Md(y.originalInnerHTML):y.options.cache.enable||(_="")),_||""},Ae=function(y){clearTimeout(y[y.currentMode].hlToolbarTimeoutId),y[y.currentMode].hlToolbarTimeoutId=window.setTimeout(function(){if(y[y.currentMode].element.getAttribute("contenteditable")!=="false"&&(0,z.Gb)(y[y.currentMode].element)){h(y.toolbar.elements,s.g.EDIT_TOOLBARS),g(y.toolbar.elements,s.g.EDIT_TOOLBARS);var _=(0,z.zh)(y),S=_.startContainer;_.startContainer.nodeType===3&&(S=_.startContainer.parentElement),S.classList.contains("vditor-reset")&&(S=S.childNodes[_.startOffset]);var T=y.currentMode==="sv"?(0,w.a1)(S,"data-type","heading"):(0,E.W)(S);T&&v(y.toolbar.elements,["headings"]);var I=y.currentMode==="sv"?(0,w.a1)(S,"data-type","blockquote"):(0,w.lG)(S,"BLOCKQUOTE");I&&v(y.toolbar.elements,["quote"]);var B=(0,w.a1)(S,"data-type","strong");B&&v(y.toolbar.elements,["bold"]);var re=(0,w.a1)(S,"data-type","em");re&&v(y.toolbar.elements,["italic"]);var ue=(0,w.a1)(S,"data-type","s");ue&&v(y.toolbar.elements,["strike"]);var fe=(0,w.a1)(S,"data-type","a");fe&&v(y.toolbar.elements,["link"]);var ce=(0,w.lG)(S,"LI");ce?(ce.classList.contains("vditor-task")?v(y.toolbar.elements,["check"]):ce.parentElement.tagName==="OL"?v(y.toolbar.elements,["ordered-list"]):ce.parentElement.tagName==="UL"&&v(y.toolbar.elements,["list"]),g(y.toolbar.elements,["outdent","indent"])):p(y.toolbar.elements,["outdent","indent"]);var _e=(0,w.a1)(S,"data-type","code-block");_e&&(p(y.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),v(y.toolbar.elements,["code"]));var Ie=(0,w.a1)(S,"data-type","code");Ie&&(p(y.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),v(y.toolbar.elements,["inline-code"]));var ht=(0,w.a1)(S,"data-type","table");ht&&p(y.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}},200)},De=function(y,_){_===void 0&&(_={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),_.enableHint&&y.hint.render(y),clearTimeout(y.wysiwyg.afterRenderTimeoutId),y.wysiwyg.afterRenderTimeoutId=window.setTimeout(function(){if(!y.wysiwyg.composingLock){var S=u(y);typeof y.options.input=="function"&&_.enableInput&&y.options.input(S),y.options.counter.enable&&y.counter.render(y,S),y.options.cache.enable&&(0,f.pK)()&&(localStorage.setItem(y.options.cache.id,S),y.options.cache.after&&y.options.cache.after(S)),y.devtools&&y.devtools.renderEchart(y),_.enableAddUndoStack&&y.undo.addToUndoStack(y)}},y.options.undoDelay)},Ee=function(y){for(var _=y.previousSibling;_;){if(_.nodeType!==3&&_.tagName==="A"&&!_.previousSibling&&_.innerHTML.replace(s.g.ZWSP,"")===""&&_.nextSibling)return _;_=_.previousSibling}return!1},me=function(y){for(var _=y.startContainer.nextSibling;_&&_.textContent==="";)_=_.nextSibling;return!!(_&&_.nodeType!==3&&(_.tagName==="CODE"||_.getAttribute("data-type")==="math-inline"||_.getAttribute("data-type")==="html-entity"||_.getAttribute("data-type")==="html-inline"))},Oe=function(y){for(var _="",S=y.nextSibling;S;)S.nodeType===3?_+=S.textContent:_+=S.outerHTML,S=S.nextSibling;return _},ke=function(y){for(var _="",S=y.previousSibling;S;)S.nodeType===3?_=S.textContent+_:_=S.outerHTML+_,S=S.previousSibling;return _},Ve=function(y){for(var _=y;_&&!_.nextSibling;)_=_.parentElement;return _.nextSibling},lt=function(y){var _=ke(y.startContainer),S=Oe(y.startContainer),T=y.startContainer.textContent,I=y.startOffset,B="",re="";return(T.substr(0,I)!==""&&T.substr(0,I)!==s.g.ZWSP||_)&&(B="".concat(_).concat(T.substr(0,I))),(T.substr(I)!==""&&T.substr(I)!==s.g.ZWSP||S)&&(re="".concat(T.substr(I)).concat(S)),{afterHTML:re,beforeHTML:B}},Ge=function(y,_){Array.from(y.wysiwyg.element.childNodes).find(function(S){if(S.nodeType===3){var T=document.createElement("p");T.setAttribute("data-block","0"),T.textContent=S.textContent;var I=_.startContainer.nodeType===3?_.startOffset:S.textContent.length;return S.parentNode.insertBefore(T,S),S.remove(),_.setStart(T.firstChild,Math.min(T.firstChild.textContent.length,I)),_.collapse(!0),(0,z.Hc)(_),!0}else if(!S.getAttribute("data-block"))return S.tagName==="P"?S.remove():(S.tagName==="DIV"?(_.insertNode(document.createElement("wbr")),S.outerHTML='<p data-block="0">'.concat(S.innerHTML,"</p>")):S.tagName==="BR"?S.outerHTML='<p data-block="0">'.concat(S.outerHTML,"<wbr></p>"):(_.insertNode(document.createElement("wbr")),S.outerHTML='<p data-block="0">'.concat(S.outerHTML,"</p>")),(0,z.ib)(y.wysiwyg.element,_),_=getSelection().getRangeAt(0)),!0})},$e=function(y,_){var S=(0,z.zh)(y),T=(0,w.F9)(S.startContainer);T||(T=S.startContainer.childNodes[S.startOffset]),!T&&y.wysiwyg.element.children.length===0&&(T=y.wysiwyg.element),T&&!T.classList.contains("vditor-wysiwyg__block")&&(S.insertNode(document.createElement("wbr")),T.innerHTML.trim()==="<wbr>"&&(T.innerHTML="<wbr><br>"),T.tagName==="BLOCKQUOTE"||T.classList.contains("vditor-reset")?T.innerHTML="<".concat(_,' data-block="0">').concat(T.innerHTML.trim(),"</").concat(_,">"):T.outerHTML="<".concat(_,' data-block="0">').concat(T.innerHTML.trim(),"</").concat(_,">"),(0,z.ib)(y.wysiwyg.element,S),ie(y))},Fe=function(y){var _=getSelection().getRangeAt(0),S=(0,w.F9)(_.startContainer);S||(S=_.startContainer.childNodes[_.startOffset]),S&&(_.insertNode(document.createElement("wbr")),S.outerHTML='<p data-block="0">'.concat(S.innerHTML,"</p>"),(0,z.ib)(y.wysiwyg.element,_)),y.wysiwyg.popover.style.display="none"},Ke=function(y,_,S){S===void 0&&(S=!0);var T=y.previousElementSibling,I=T.ownerDocument.createRange();T.tagName==="CODE"?(T.style.display="inline-block",S?I.setStart(T.firstChild,1):I.selectNodeContents(T)):(T.style.display="block",T.firstChild.firstChild||T.firstChild.appendChild(document.createTextNode("")),I.selectNodeContents(T.firstChild)),S?I.collapse(!0):I.collapse(!1),(0,z.Hc)(I),!y.firstElementChild.classList.contains("language-mindmap")&&en(_)},et=function(y,_){if(y.wysiwyg.composingLock=_.isComposing,_.isComposing)return!1;_.key.indexOf("Arrow")===-1&&_.key!=="Meta"&&_.key!=="Control"&&_.key!=="Alt"&&_.key!=="Shift"&&_.key!=="CapsLock"&&_.key!=="Escape"&&!/^F\d{1,2}$/.test(_.key)&&y.undo.recordFirstPosition(y,_);var S=(0,z.zh)(y),T=S.startContainer;if(!ra(_,y,T)||(Bp(S,y,_),UA(S),_.key!=="Enter"&&_.key!=="Tab"&&_.key!=="Backspace"&&_.key.indexOf("Arrow")===-1&&!(0,f.yl)(_)&&_.key!=="Escape"&&_.key!=="Delete"))return!1;var I=(0,w.F9)(T),B=(0,w.lG)(T,"P");if(zs(_,y,B,S)||wi(S,y,B,_)||ci(y,_,S))return!0;var re=(0,w.fb)(T,"vditor-wysiwyg__block");if(re){if(_.key==="Escape"&&re.children.length===2)return y.wysiwyg.popover.style.display="none",re.firstElementChild.style.display="none",y.wysiwyg.element.blur(),_.preventDefault(),!0;if(!(0,f.yl)(_)&&!_.shiftKey&&_.altKey&&_.key==="Enter"&&re.getAttribute("data-type")==="code-block"){var ue=y.wysiwyg.popover.querySelector(".vditor-input");return ue.focus(),ue.select(),_.preventDefault(),!0}if(re.getAttribute("data-block")==="0"&&(Cr(y,_,re.firstElementChild,S)||xd(y,_,S,re.firstElementChild,re)||re.getAttribute("data-type")!=="yaml-front-matter"&&ds(y,_,S,re.firstElementChild,re)))return!0}if(Ia(y,S,_,B))return!0;var fe=(0,w.E2)(T,"BLOCKQUOTE");if(fe&&!_.shiftKey&&_.altKey&&_.key==="Enter"){(0,f.yl)(_)?S.setStartBefore(fe):S.setStartAfter(fe),(0,z.Hc)(S);var ce=document.createElement("p");return ce.setAttribute("data-block","0"),ce.innerHTML=`
`,S.insertNode(ce),S.collapse(!0),(0,z.Hc)(S),De(y),en(y),_.preventDefault(),!0}var _e=(0,E.W)(T);if(_e){if(_e.tagName==="H6"&&T.textContent.length===S.startOffset&&!(0,f.yl)(_)&&!_.shiftKey&&!_.altKey&&_.key==="Enter"){var Ie=document.createElement("p");return Ie.textContent=`
`,Ie.setAttribute("data-block","0"),T.parentElement.insertAdjacentElement("afterend",Ie),S.setStart(Ie,0),(0,z.Hc)(S),De(y),en(y),_.preventDefault(),!0}if($("⌘=",_)){var ht=parseInt(_e.tagName.substr(1),10)-1;return ht>0&&($e(y,"h".concat(ht)),De(y)),_.preventDefault(),!0}if($("⌘-",_)){var ht=parseInt(_e.tagName.substr(1),10)+1;return ht<7&&($e(y,"h".concat(ht)),De(y)),_.preventDefault(),!0}_.key==="Backspace"&&!(0,f.yl)(_)&&!_.shiftKey&&!_.altKey&&_e.textContent.length===1&&Fe(y)}if(__(y,S,_))return!0;if(_.altKey&&_.key==="Enter"&&!(0,f.yl)(_)&&!_.shiftKey){var vt=(0,w.lG)(T,"A"),it=(0,w.a1)(T,"data-type","link-ref"),Mt=(0,w.a1)(T,"data-type","footnotes-ref");if(vt||it||Mt||_e&&_e.tagName.length===2){var wt=y.wysiwyg.popover.querySelector("input");wt.focus(),wt.select()}}if(ot(y,_))return!0;if($("⇧⌘U",_)){var nt=y.wysiwyg.popover.querySelector('[data-type="up"]');if(nt)return nt.click(),_.preventDefault(),!0}if($("⇧⌘D",_)){var nt=y.wysiwyg.popover.querySelector('[data-type="down"]');if(nt)return nt.click(),_.preventDefault(),!0}if(oc(y,S,_))return!0;if(!(0,f.yl)(_)&&_.shiftKey&&!_.altKey&&_.key==="Enter"&&T.parentElement.tagName!=="LI"&&T.parentElement.tagName!=="P")return["STRONG","STRIKE","S","I","EM","B"].includes(T.parentElement.tagName)?S.insertNode(document.createTextNode(`
`+s.g.ZWSP)):S.insertNode(document.createTextNode(`
`)),S.collapse(!1),(0,z.Hc)(S),De(y),en(y),_.preventDefault(),!0;if(_.key==="Backspace"&&!(0,f.yl)(_)&&!_.shiftKey&&!_.altKey&&S.toString()===""){if(w_(y,S,_,B))return!0;if(I){if(I.previousElementSibling&&I.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&I.previousElementSibling.getAttribute("data-block")==="0"&&I.tagName!=="UL"&&I.tagName!=="OL"){var Gt=(0,z.im)(I,y.wysiwyg.element,S).start;if(Gt===0&&S.startOffset===0||Gt===1&&I.innerText.startsWith(s.g.ZWSP))return Ke(I.previousElementSibling.lastElementChild,y,!1),I.innerHTML.trim().replace(s.g.ZWSP,"")===""&&(I.remove(),De(y)),_.preventDefault(),!0}var Tt=S.startOffset;if(S.toString()===""&&T.nodeType===3&&T.textContent.charAt(Tt-2)===`
`&&T.textContent.charAt(Tt-1)!==s.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(T.parentElement.tagName))return T.textContent=T.textContent.substring(0,Tt-1)+s.g.ZWSP,S.setStart(T,Tt),S.collapse(!0),De(y),_.preventDefault(),!0;T.textContent===s.g.ZWSP&&S.startOffset===1&&!T.previousSibling&&me(S)&&(T.textContent=""),I.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach(function(Pi){Pi.firstElementChild.style.display="inline",Pi.lastElementChild.style.display="none"}),I.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach(function(Pi){Pi.firstElementChild.style.display="inline",Pi.lastElementChild.style.display="none"})}}if((0,f.vU)()&&S.startOffset===1&&T.textContent.indexOf(s.g.ZWSP)>-1&&T.previousSibling&&T.previousSibling.nodeType!==3&&T.previousSibling.tagName==="CODE"&&(_.key==="Backspace"||_.key==="ArrowLeft"))return S.selectNodeContents(T.previousSibling),S.collapse(!1),_.preventDefault(),!0;if(KA(_,I,S))return _.preventDefault(),!0;if($p(S,_.key),_.key==="ArrowDown"){var un=T.nextSibling;un&&un.nodeType!==3&&un.getAttribute("data-type")==="math-inline"&&S.setStartAfter(un)}return I&&K(I,y,_,S)?(_.preventDefault(),!0):!1},ot=function(y,_){if($("⇧⌘X",_)){var S=y.wysiwyg.popover.querySelector('[data-type="remove"]');return S&&S.click(),_.preventDefault(),!0}},Rt=function(y){clearTimeout(y.wysiwyg.hlToolbarTimeoutId),y.wysiwyg.hlToolbarTimeoutId=window.setTimeout(function(){if(y.wysiwyg.element.getAttribute("contenteditable")!=="false"&&(0,z.Gb)(y.wysiwyg.element)){h(y.toolbar.elements,s.g.EDIT_TOOLBARS),g(y.toolbar.elements,s.g.EDIT_TOOLBARS);var _=getSelection().getRangeAt(0),S=_.startContainer;_.startContainer.nodeType===3?S=_.startContainer.parentElement:S=S.childNodes[_.startOffset>=S.childNodes.length?S.childNodes.length-1:_.startOffset];var T=(0,w.a1)(S,"data-type","footnotes-block");if(T){y.wysiwyg.popover.innerHTML="",Ii(T,y),zt(y,T);return}var I=(0,w.lG)(S,"LI");I?(I.classList.contains("vditor-task")?v(y.toolbar.elements,["check"]):I.parentElement.tagName==="OL"?v(y.toolbar.elements,["ordered-list"]):I.parentElement.tagName==="UL"&&v(y.toolbar.elements,["list"]),g(y.toolbar.elements,["outdent","indent"])):p(y.toolbar.elements,["outdent","indent"]),(0,w.lG)(S,"BLOCKQUOTE")&&v(y.toolbar.elements,["quote"]),((0,w.lG)(S,"B")||(0,w.lG)(S,"STRONG"))&&v(y.toolbar.elements,["bold"]),((0,w.lG)(S,"I")||(0,w.lG)(S,"EM"))&&v(y.toolbar.elements,["italic"]),((0,w.lG)(S,"STRIKE")||(0,w.lG)(S,"S"))&&v(y.toolbar.elements,["strike"]),y.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach(function(It){It.classList.remove("vditor-comment--focus")});var B=(0,w.fb)(S,"vditor-comment");if(B){var re=B.getAttribute("data-cmtids").split(" ");if(re.length>1&&B.nextSibling.isSameNode(B.nextElementSibling)){var ue=B.nextElementSibling.getAttribute("data-cmtids").split(" ");re.find(function(It){if(ue.includes(It))return re=[It],!0})}y.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(It){It.getAttribute("data-cmtids").indexOf(re[0])>-1&&It.classList.add("vditor-comment--focus")})}var fe=(0,w.lG)(S,"A");fe&&v(y.toolbar.elements,["link"]);var ce=(0,w.lG)(S,"TABLE"),_e=(0,E.W)(S);(0,w.lG)(S,"CODE")?(0,w.lG)(S,"PRE")?(p(y.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),v(y.toolbar.elements,["code"])):(p(y.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),v(y.toolbar.elements,["inline-code"])):_e?(p(y.toolbar.elements,["bold"]),v(y.toolbar.elements,["headings"])):ce&&p(y.toolbar.elements,["table"]);var Ie=(0,w.fb)(S,"vditor-toc");if(Ie){y.wysiwyg.popover.innerHTML="",Ii(Ie,y),zt(y,Ie);return}var ht=(0,E.S)(S,"BLOCKQUOTE");if(ht&&(y.wysiwyg.popover.innerHTML="",qn(_,ht,y),Qi(_,ht,y),Ii(ht,y),zt(y,ht)),I&&(y.wysiwyg.popover.innerHTML="",qn(_,I,y),Qi(_,I,y),Ii(I,y),zt(y,I)),ce){y.options.lang,y.options,y.wysiwyg.popover.innerHTML="";var vt=function(){var It=ce.rows.length,jn=ce.rows[0].cells.length,sc=parseInt(hr.value,10)||It,lc=parseInt(aa.value,10)||jn;if(!(sc===It&&jn===lc)){if(jn!==lc)for(var Up=lc-jn,Us=0;Us<ce.rows.length;Us++)if(Up>0)for(var nR=0;nR<Up;nR++)Us===0?ce.rows[Us].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):ce.rows[Us].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var vx=jn-1;vx>=lc;vx--)ce.rows[Us].cells[vx].remove();if(It!==sc){var iR=sc-It;if(iR>0){for(var gx="<tr>",zh=0;zh<lc;zh++)gx+="<td> </td>";for(var rR=0;rR<iR;rR++)ce.querySelector("tbody")?ce.querySelector("tbody").insertAdjacentHTML("beforeend",gx):ce.querySelector("thead").insertAdjacentHTML("afterend",gx+"</tr>")}else for(var zh=It-1;zh>=sc;zh--)ce.rows[zh].remove(),ce.rows.length===1&&ce.querySelector("tbody").remove()}typeof y.options.input=="function"&&y.options.input(u(y))}},it=function(It){rc(ce,It),It==="right"?(Gt.classList.remove("vditor-icon--current"),Tt.classList.remove("vditor-icon--current"),un.classList.add("vditor-icon--current")):It==="center"?(Gt.classList.remove("vditor-icon--current"),un.classList.remove("vditor-icon--current"),Tt.classList.add("vditor-icon--current")):(Tt.classList.remove("vditor-icon--current"),un.classList.remove("vditor-icon--current"),Gt.classList.add("vditor-icon--current")),(0,z.Hc)(_),De(y)},Mt=(0,w.lG)(S,"TD"),wt=(0,w.lG)(S,"TH"),nt="left";Mt?nt=Mt.getAttribute("align")||"left":wt&&(nt=wt.getAttribute("align")||"center");var Gt=document.createElement("button");Gt.setAttribute("type","button"),Gt.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,f.ns)("⇧⌘L")+">"),Gt.setAttribute("data-type","left"),Gt.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',Gt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(nt==="left"?" vditor-icon--current":""),Gt.onclick=function(){it("left")};var Tt=document.createElement("button");Tt.setAttribute("type","button"),Tt.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,f.ns)("⇧⌘C")+">"),Tt.setAttribute("data-type","center"),Tt.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',Tt.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(nt==="center"?" vditor-icon--current":""),Tt.onclick=function(){it("center")};var un=document.createElement("button");un.setAttribute("type","button"),un.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,f.ns)("⇧⌘R")+">"),un.setAttribute("data-type","right"),un.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',un.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+(nt==="right"?" vditor-icon--current":""),un.onclick=function(){it("right")};var Pi=document.createElement("button");Pi.setAttribute("type","button"),Pi.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,f.ns)("⌘=")+">"),Pi.setAttribute("data-type","insertRow"),Pi.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',Pi.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Pi.onclick=function(){var It=getSelection().getRangeAt(0).startContainer,jn=(0,w.lG)(It,"TD")||(0,w.lG)(It,"TH");jn&&Bh(y,_,jn)};var Ci=document.createElement("button");Ci.setAttribute("type","button"),Ci.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,f.ns)("⇧⌘F")+">"),Ci.setAttribute("data-type","insertRow"),Ci.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',Ci.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Ci.onclick=function(){var It=getSelection().getRangeAt(0).startContainer,jn=(0,w.lG)(It,"TD")||(0,w.lG)(It,"TH");jn&&$h(y,_,jn)};var Mi=document.createElement("button");Mi.setAttribute("type","button"),Mi.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,f.ns)("⇧⌘=")+">"),Mi.setAttribute("data-type","insertColumn"),Mi.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',Mi.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Mi.onclick=function(){var It=getSelection().getRangeAt(0).startContainer,jn=(0,w.lG)(It,"TD")||(0,w.lG)(It,"TH");jn&&Ct(y,ce,jn)};var Io=document.createElement("button");Io.setAttribute("type","button"),Io.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,f.ns)("⇧⌘G")+">"),Io.setAttribute("data-type","insertColumn"),Io.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',Io.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Io.onclick=function(){var It=getSelection().getRangeAt(0).startContainer,jn=(0,w.lG)(It,"TD")||(0,w.lG)(It,"TH");jn&&Ct(y,ce,jn,"beforebegin")};var Hr=document.createElement("button");Hr.setAttribute("type","button"),Hr.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,f.ns)("⌘-")+">"),Hr.setAttribute("data-type","deleteRow"),Hr.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',Hr.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Hr.onclick=function(){var It=getSelection().getRangeAt(0).startContainer,jn=(0,w.lG)(It,"TD")||(0,w.lG)(It,"TH");jn&&Vt(y,_,jn)};var Lo=document.createElement("button");Lo.setAttribute("type","button"),Lo.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,f.ns)("⇧⌘-")+">"),Lo.setAttribute("data-type","deleteColumn"),Lo.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',Lo.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",Lo.onclick=function(){var It=getSelection().getRangeAt(0).startContainer,jn=(0,w.lG)(It,"TD")||(0,w.lG)(It,"TH");jn&&xn(y,_,ce,jn)};var Pn=document.createElement("span");Pn.setAttribute("aria-label",window.VditorI18n.row),Pn.className="vditor-tooltipped vditor-tooltipped__n";var hr=document.createElement("input");Pn.appendChild(hr),hr.type="number",hr.min="1",hr.className="vditor-input",hr.style.width="42px",hr.style.textAlign="center",hr.setAttribute("placeholder",window.VditorI18n.row),hr.value=ce.rows.length.toString(),hr.oninput=function(){vt()},hr.onkeydown=function(It){if(!It.isComposing){if(It.key==="Tab"){aa.focus(),aa.select(),It.preventDefault();return}ot(y,It)||jt(It,_)}};var O_=document.createElement("span");O_.setAttribute("aria-label",window.VditorI18n.column),O_.className="vditor-tooltipped vditor-tooltipped__n";var aa=document.createElement("input");O_.appendChild(aa),aa.type="number",aa.min="1",aa.className="vditor-input",aa.style.width="42px",aa.style.textAlign="center",aa.setAttribute("placeholder",window.VditorI18n.column),aa.value=ce.rows[0].cells.length.toString(),aa.oninput=function(){vt()},aa.onkeydown=function(It){if(!It.isComposing){if(It.key==="Tab"){hr.focus(),hr.select(),It.preventDefault();return}ot(y,It)||jt(It,_)}},qn(_,ce,y),Qi(_,ce,y),Ii(ce,y),y.wysiwyg.popover.insertAdjacentElement("beforeend",Gt),y.wysiwyg.popover.insertAdjacentElement("beforeend",Tt),y.wysiwyg.popover.insertAdjacentElement("beforeend",un),y.wysiwyg.popover.insertAdjacentElement("beforeend",Ci),y.wysiwyg.popover.insertAdjacentElement("beforeend",Pi),y.wysiwyg.popover.insertAdjacentElement("beforeend",Io),y.wysiwyg.popover.insertAdjacentElement("beforeend",Mi),y.wysiwyg.popover.insertAdjacentElement("beforeend",Hr),y.wysiwyg.popover.insertAdjacentElement("beforeend",Lo),y.wysiwyg.popover.insertAdjacentElement("beforeend",Pn),y.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),y.wysiwyg.popover.insertAdjacentElement("beforeend",O_),zt(y,ce)}var hx=(0,w.a1)(S,"data-type","link-ref");hx&&ri(y,hx,_);var Vh=(0,w.a1)(S,"data-type","footnotes-ref");if(Vh){y.options.lang,y.options,y.wysiwyg.popover.innerHTML="";var Pn=document.createElement("span");Pn.setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,f.ns)("⌥Enter")+">"),Pn.className="vditor-tooltipped vditor-tooltipped__n";var $l=document.createElement("input");Pn.appendChild($l),$l.className="vditor-input",$l.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,f.ns)("⌥Enter")+">"),$l.style.width="120px",$l.value=Vh.getAttribute("data-footnotes-label"),$l.oninput=function(){$l.value.trim()!==""&&Vh.setAttribute("data-footnotes-label",$l.value),typeof y.options.input=="function"&&y.options.input(u(y))},$l.onkeydown=function(jn){jn.isComposing||ot(y,jn)||jt(jn,_)},Ii(Vh,y),y.wysiwyg.popover.insertAdjacentElement("beforeend",Pn),zt(y,Vh)}var Lr=(0,w.fb)(S,"vditor-wysiwyg__block"),eR=Lr?Lr.getAttribute("data-type").indexOf("block")>-1:!1;if(y.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(It){if(!Lr||Lr&&eR&&!Lr.contains(It)){var jn=It.previousElementSibling;jn.style.display="none"}}),Lr&&eR){if(y.wysiwyg.popover.innerHTML="",qn(_,Lr,y),Qi(_,Lr,y),Ii(Lr,y),Lr.getAttribute("data-type")==="code-block"){var x_=document.createElement("span");x_.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,f.ns)("⌥Enter")+">"),x_.className="vditor-tooltipped vditor-tooltipped__n";var fs=document.createElement("input");x_.appendChild(fs);var zp=Lr.firstElementChild.firstElementChild;fs.className="vditor-input",fs.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,f.ns)("⌥Enter")+">"),fs.value=zp.className.indexOf("language-")>-1?zp.className.split("-")[1].split(" ")[0]:"",fs.oninput=function(It){fs.value.trim()!==""?zp.className="language-".concat(fs.value):(zp.className="",y.hint.recentLanguage=""),Lr.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(Lr.lastElementChild.innerHTML=Lr.firstElementChild.innerHTML,Z(Lr.lastElementChild,y)),De(y),It.detail===1&&(_.setStart(zp.firstChild,0),_.collapse(!0),(0,z.Hc)(_))},fs.onkeydown=function(It){if(!It.isComposing&&!ot(y,It)){if(It.key==="Escape"&&y.hint.element.style.display==="block"){y.hint.element.style.display="none",It.preventDefault();return}y.hint.select(It,y),jt(It,_)}},fs.onkeyup=function(It){var jn,sc;if(!(It.isComposing||It.key==="Enter"||It.key==="ArrowUp"||It.key==="Escape"||It.key==="ArrowDown")){var lc=[],Up=fs.value.substring(0,fs.selectionStart);(y.options.preview.hljs.langs||s.g.ALIAS_CODE_LANGUAGES.concat(((sc=(jn=window.hljs)===null||jn===void 0?void 0:jn.listLanguages())!==null&&sc!==void 0?sc:[]).sort())).forEach(function(Us){Us.indexOf(Up.toLowerCase())>-1&&lc.push({html:Us,value:Us})}),y.hint.genHTML(lc,Up,y),It.preventDefault()}},y.wysiwyg.popover.insertAdjacentElement("beforeend",x_)}zt(y,Lr)}else Lr=void 0;if(_e){y.wysiwyg.popover.innerHTML="";var Pn=document.createElement("span");Pn.setAttribute("aria-label","ID<"+(0,f.ns)("⌥Enter")+">"),Pn.className="vditor-tooltipped vditor-tooltipped__n";var ac=document.createElement("input");Pn.appendChild(ac),ac.className="vditor-input",ac.setAttribute("placeholder","ID<"+(0,f.ns)("⌥Enter")+">"),ac.style.width="120px",ac.value=_e.getAttribute("data-id")||"",ac.oninput=function(){_e.setAttribute("data-id",ac.value),typeof y.options.input=="function"&&y.options.input(u(y))},ac.onkeydown=function(jn){jn.isComposing||ot(y,jn)||jt(jn,_)},qn(_,_e,y),Qi(_,_e,y),Ii(_e,y),y.wysiwyg.popover.insertAdjacentElement("beforeend",Pn),zt(y,_e)}if(fe&&We(y,fe,_),!ht&&!I&&!ce&&!Lr&&!fe&&!hx&&!Vh&&!_e&&!Ie){var Wh=(0,w.a1)(S,"data-block","0");Wh&&Wh.parentElement.isEqualNode(y.wysiwyg.element)?(y.wysiwyg.popover.innerHTML="",qn(_,Wh,y),Qi(_,Wh,y),Ii(Wh,y),zt(y,Wh)):y.wysiwyg.popover.style.display="none"}y.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach(function(It){It.style.display="none"});var tR=(0,w.a1)(_.startContainer,"data-type","backslash");tR&&(tR.querySelector("span").style.display="inline")}},200)},zt=function(y,_){var S=_,T=(0,w.lG)(_,"TABLE");T&&(S=T),y.wysiwyg.popover.style.left="0",y.wysiwyg.popover.style.display="block",y.wysiwyg.popover.style.top=Math.max(-8,S.offsetTop-21-y.wysiwyg.element.scrollTop)+"px",y.wysiwyg.popover.style.left=Math.min(S.offsetLeft,y.wysiwyg.element.clientWidth-y.wysiwyg.popover.clientWidth)+"px",y.wysiwyg.popover.setAttribute("data-top",(S.offsetTop-21).toString())},ri=function(y,_,S){S===void 0&&(S=getSelection().getRangeAt(0)),y.wysiwyg.popover.innerHTML="";var T=function(){B.value.trim()!==""&&(_.tagName==="IMG"?_.setAttribute("alt",B.value):_.textContent=B.value),ue.value.trim()!==""&&_.setAttribute("data-link-label",ue.value),typeof y.options.input=="function"&&y.options.input(u(y))},I=document.createElement("span");I.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),I.className="vditor-tooltipped vditor-tooltipped__n";var B=document.createElement("input");I.appendChild(B),B.className="vditor-input",B.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),B.style.width="120px",B.value=_.getAttribute("alt")||_.textContent,B.oninput=function(){T()},B.onkeydown=function(fe){ot(y,fe)||jt(fe,S)||ye(y,_,fe,ue)};var re=document.createElement("span");re.setAttribute("aria-label",window.VditorI18n.linkRef),re.className="vditor-tooltipped vditor-tooltipped__n";var ue=document.createElement("input");re.appendChild(ue),ue.className="vditor-input",ue.setAttribute("placeholder",window.VditorI18n.linkRef),ue.value=_.getAttribute("data-link-label"),ue.oninput=function(){T()},ue.onkeydown=function(fe){ot(y,fe)||jt(fe,S)||ye(y,_,fe,B)},Ii(_,y),y.wysiwyg.popover.insertAdjacentElement("beforeend",I),y.wysiwyg.popover.insertAdjacentElement("beforeend",re),zt(y,_)},qn=function(y,_,S){var T=_.previousElementSibling;if(!(!T||!_.parentElement.isEqualNode(S.wysiwyg.element)&&_.tagName!=="LI")){var I=document.createElement("button");I.setAttribute("type","button"),I.setAttribute("data-type","up"),I.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,f.ns)("⇧⌘U")+">"),I.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',I.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",I.onclick=function(){y.insertNode(document.createElement("wbr")),T.insertAdjacentElement("beforebegin",_),(0,z.ib)(S.wysiwyg.element,y),De(S),Rt(S),en(S)},S.wysiwyg.popover.insertAdjacentElement("beforeend",I)}},Qi=function(y,_,S){var T=_.nextElementSibling;if(!(!T||!_.parentElement.isEqualNode(S.wysiwyg.element)&&_.tagName!=="LI")){var I=document.createElement("button");I.setAttribute("type","button"),I.setAttribute("data-type","down"),I.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,f.ns)("⇧⌘D")+">"),I.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',I.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",I.onclick=function(){y.insertNode(document.createElement("wbr")),T.insertAdjacentElement("afterend",_),(0,z.ib)(S.wysiwyg.element,y),De(S),Rt(S),en(S)},S.wysiwyg.popover.insertAdjacentElement("beforeend",I)}},Ii=function(y,_){var S=document.createElement("button");S.setAttribute("type","button"),S.setAttribute("data-type","remove"),S.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,f.ns)("⇧⌘X")+">"),S.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',S.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",S.onclick=function(){var T=(0,z.zh)(_);T.setStartAfter(y),(0,z.Hc)(T),y.remove(),De(_),Rt(_),["H1","H2","H3","H4","H5","H6"].includes(y.tagName)&&ie(_)},_.wysiwyg.popover.insertAdjacentElement("beforeend",S)},ye=function(y,_,S,T){if(!S.isComposing){if(S.key==="Tab"){T.focus(),T.select(),S.preventDefault();return}if(!(0,f.yl)(S)&&!S.shiftKey&&S.altKey&&S.key==="Enter"){var I=(0,z.zh)(y);_.insertAdjacentHTML("afterend",s.g.ZWSP),I.setStartAfter(_.nextSibling),I.collapse(!0),(0,z.Hc)(I),S.preventDefault()}}},We=function(y,_,S){y.wysiwyg.popover.innerHTML="";var T=function(){B.value.trim()!==""&&(_.innerHTML=B.value),_.setAttribute("href",ue.value),_.setAttribute("title",ce.value),De(y)};_.querySelectorAll("[data-marker]").forEach(function(_e){_e.removeAttribute("data-marker")});var I=document.createElement("span");I.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),I.className="vditor-tooltipped vditor-tooltipped__n";var B=document.createElement("input");I.appendChild(B),B.className="vditor-input",B.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),B.style.width="120px",B.value=_.innerHTML||"",B.oninput=function(){T()},B.onkeydown=function(_e){ot(y,_e)||jt(_e,S)||ye(y,_,_e,ue)};var re=document.createElement("span");re.setAttribute("aria-label",window.VditorI18n.link),re.className="vditor-tooltipped vditor-tooltipped__n";var ue=document.createElement("input");re.appendChild(ue),ue.className="vditor-input",ue.setAttribute("placeholder",window.VditorI18n.link),ue.value=_.getAttribute("href")||"",ue.oninput=function(){T()},ue.onkeydown=function(_e){ot(y,_e)||jt(_e,S)||ye(y,_,_e,ce)};var fe=document.createElement("span");fe.setAttribute("aria-label",window.VditorI18n.tooltipText),fe.className="vditor-tooltipped vditor-tooltipped__n";var ce=document.createElement("input");fe.appendChild(ce),ce.className="vditor-input",ce.setAttribute("placeholder",window.VditorI18n.tooltipText),ce.style.width="60px",ce.value=_.getAttribute("title")||"",ce.oninput=function(){T()},ce.onkeydown=function(_e){ot(y,_e)||jt(_e,S)||ye(y,_,_e,B)},Ii(_,y),y.wysiwyg.popover.insertAdjacentElement("beforeend",I),y.wysiwyg.popover.insertAdjacentElement("beforeend",re),y.wysiwyg.popover.insertAdjacentElement("beforeend",fe),zt(y,_)},gt=function(y,_){var S=y.target;_.wysiwyg.popover.innerHTML="";var T=function(){S.setAttribute("src",B.value),S.setAttribute("alt",ue.value),S.setAttribute("title",ce.value),typeof _.options.input=="function"&&_.options.input(u(_))},I=document.createElement("span");I.setAttribute("aria-label",window.VditorI18n.imageURL),I.className="vditor-tooltipped vditor-tooltipped__n";var B=document.createElement("input");I.appendChild(B),B.className="vditor-input",B.setAttribute("placeholder",window.VditorI18n.imageURL),B.value=S.getAttribute("src")||"",B.oninput=function(){T()},B.onkeydown=function(_e){ot(_,_e)};var re=document.createElement("span");re.setAttribute("aria-label",window.VditorI18n.alternateText),re.className="vditor-tooltipped vditor-tooltipped__n";var ue=document.createElement("input");re.appendChild(ue),ue.className="vditor-input",ue.setAttribute("placeholder",window.VditorI18n.alternateText),ue.style.width="52px",ue.value=S.getAttribute("alt")||"",ue.oninput=function(){T()},ue.onkeydown=function(_e){ot(_,_e)};var fe=document.createElement("span");fe.setAttribute("aria-label",window.VditorI18n.title),fe.className="vditor-tooltipped vditor-tooltipped__n";var ce=document.createElement("input");fe.appendChild(ce),ce.className="vditor-input",ce.setAttribute("placeholder",window.VditorI18n.title),ce.value=S.getAttribute("title")||"",ce.oninput=function(){T()},ce.onkeydown=function(_e){ot(_,_e)},Ii(S,_),_.wysiwyg.popover.insertAdjacentElement("beforeend",I),_.wysiwyg.popover.insertAdjacentElement("beforeend",re),_.wysiwyg.popover.insertAdjacentElement("beforeend",fe),zt(_,S)},jt=function(y,_){if(!(0,f.yl)(y)&&!y.shiftKey&&y.key==="Enter"||y.key==="Escape")return _&&(0,z.Hc)(_),y.preventDefault(),y.stopPropagation(),!0},Gn=function(y){y.currentMode==="wysiwyg"?Rt(y):y.currentMode==="ir"&&Ae(y)},oi=function(y,_,S){S===void 0&&(S={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var T=y.wysiwyg.element;T.innerHTML=y.lute.Md2VditorDOM(_),T.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(I){Z(I,y),I.previousElementSibling.setAttribute("style","display:none")}),De(y,S)},at=function(y,_,S){for(var T=y.startContainer.parentElement,I=!1,B="",re="",ue=lt(y),fe=ue.beforeHTML,ce=ue.afterHTML;T&&!I;){var _e=T.tagName;if(_e==="STRIKE"&&(_e="S"),_e==="I"&&(_e="EM"),_e==="B"&&(_e="STRONG"),_e==="S"||_e==="STRONG"||_e==="EM"){var Ie="",ht="",vt="";T.parentElement.getAttribute("data-block")!=="0"&&(ht=ke(T),vt=Oe(T)),(fe||ht)&&(Ie="".concat(ht,"<").concat(_e,">").concat(fe,"</").concat(_e,">"),fe=Ie),(S==="bold"&&_e==="STRONG"||S==="italic"&&_e==="EM"||S==="strikeThrough"&&_e==="S")&&(Ie+="".concat(B).concat(s.g.ZWSP,"<wbr>").concat(re),I=!0),(ce||vt)&&(ce="<".concat(_e,">").concat(ce,"</").concat(_e,">").concat(vt),Ie+=ce),T.parentElement.getAttribute("data-block")!=="0"?(T=T.parentElement,T.innerHTML=Ie):(T.outerHTML=Ie,T=T.parentElement),B="<".concat(_e,">")+B,re="</".concat(_e,">")+re}else I=!0}(0,z.ib)(_.wysiwyg.element,y)},Xe=function(y,_,S){if(!(y.wysiwyg.composingLock&&S instanceof CustomEvent)){var T=!0,I=!0;y.wysiwyg.element.querySelector("wbr")&&y.wysiwyg.element.querySelector("wbr").remove();var B=(0,z.zh)(y),re=_.getAttribute("data-type");if(_.classList.contains("vditor-menu--current"))if(re==="strike"&&(re="strikeThrough"),re==="quote"){var ue=(0,w.lG)(B.startContainer,"BLOCKQUOTE");ue||(ue=B.startContainer.childNodes[B.startOffset]),ue&&(T=!1,_.classList.remove("vditor-menu--current"),B.insertNode(document.createElement("wbr")),ue.outerHTML=ue.innerHTML.trim()===""?'<p data-block="0">'.concat(ue.innerHTML,"</p>"):ue.innerHTML,(0,z.ib)(y.wysiwyg.element,B))}else if(re==="inline-code"){var fe=(0,w.lG)(B.startContainer,"CODE");fe||(fe=B.startContainer.childNodes[B.startOffset]),fe&&(fe.outerHTML=fe.innerHTML.replace(s.g.ZWSP,"")+"<wbr>",(0,z.ib)(y.wysiwyg.element,B))}else re==="link"?(B.collapsed&&B.selectNode(B.startContainer.parentElement),document.execCommand("unlink",!1,"")):re==="check"||re==="list"||re==="ordered-list"?(Ed(y,B,re),(0,z.ib)(y.wysiwyg.element,B),T=!1,_.classList.remove("vditor-menu--current")):(T=!1,_.classList.remove("vditor-menu--current"),B.toString()===""?at(B,y,re):document.execCommand(re,!1,""));else{y.wysiwyg.element.childNodes.length===0&&(y.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,z.ib)(y.wysiwyg.element,B));var ce=(0,w.F9)(B.startContainer);if(re==="quote"){if(ce||(ce=B.startContainer.childNodes[B.startOffset]),ce){T=!1,_.classList.add("vditor-menu--current"),B.insertNode(document.createElement("wbr"));var _e=(0,w.lG)(B.startContainer,"LI");_e&&ce.contains(_e)?_e.innerHTML='<blockquote data-block="0">'.concat(_e.innerHTML,"</blockquote>"):ce.outerHTML='<blockquote data-block="0">'.concat(ce.outerHTML,"</blockquote>"),(0,z.ib)(y.wysiwyg.element,B)}}else if(re==="check"||re==="list"||re==="ordered-list")Ed(y,B,re,!1),(0,z.ib)(y.wysiwyg.element,B),T=!1,h(y.toolbar.elements,["check","list","ordered-list"]),_.classList.add("vditor-menu--current");else if(re==="inline-code"){if(B.toString()===""){var Ie=document.createElement("code");Ie.textContent=s.g.ZWSP,B.insertNode(Ie),B.setStart(Ie.firstChild,1),B.collapse(!0),(0,z.Hc)(B)}else if(B.startContainer.nodeType===3){var Ie=document.createElement("code");B.surroundContents(Ie),B.insertNode(Ie),(0,z.Hc)(B)}_.classList.add("vditor-menu--current")}else if(re==="code"){var Ie=document.createElement("div");Ie.className="vditor-wysiwyg__block",Ie.setAttribute("data-type","code-block"),Ie.setAttribute("data-block","0"),Ie.setAttribute("data-marker","```"),B.toString()===""?Ie.innerHTML=`<pre><code><wbr>
</code></pre>`:(Ie.innerHTML="<pre><code>".concat(B.toString(),"<wbr></code></pre>"),B.deleteContents()),B.insertNode(Ie),ce&&(ce.outerHTML=y.lute.SpinVditorDOM(ce.outerHTML)),(0,z.ib)(y.wysiwyg.element,B),y.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(Pi){Z(Pi,y)}),_.classList.add("vditor-menu--disabled")}else if(re==="link"){if(B.toString()===""){var ht=document.createElement("a");ht.innerText=s.g.ZWSP,B.insertNode(ht),B.setStart(ht.firstChild,1),B.collapse(!0),We(y,ht,B);var vt=y.wysiwyg.popover.querySelector("input");vt.value="",vt.focus(),I=!1}else{var Ie=document.createElement("a");Ie.setAttribute("href",""),Ie.innerHTML=B.toString(),B.surroundContents(Ie),B.insertNode(Ie),(0,z.Hc)(B),We(y,Ie,B);var it=y.wysiwyg.popover.querySelectorAll("input");it[0].value=Ie.innerText,it[1].focus()}T=!1,_.classList.add("vditor-menu--current")}else if(re==="table"){var Mt='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(B.toString().trim()==="")ce&&ce.innerHTML.trim().replace(s.g.ZWSP,"")===""?ce.outerHTML=Mt:document.execCommand("insertHTML",!1,Mt),B.selectNode(y.wysiwyg.element.querySelector("wbr").previousSibling),y.wysiwyg.element.querySelector("wbr").remove(),(0,z.Hc)(B);else{Mt='<table data-block="0"><thead><tr>';var wt=B.toString().split(`
`),nt=wt[0].split(",").length>wt[0].split("	").length?",":"	";wt.forEach(function(un,Pi){Pi===0?(un.split(nt).forEach(function(Ci,Mi){Mi===0?Mt+="<th>".concat(Ci,"<wbr></th>"):Mt+="<th>".concat(Ci,"</th>")}),Mt+="</tr></thead>"):(Pi===1?Mt+="<tbody><tr>":Mt+="<tr>",un.split(nt).forEach(function(Ci){Mt+="<td>".concat(Ci,"</td>")}),Mt+="</tr>")}),Mt+="</tbody></table>",document.execCommand("insertHTML",!1,Mt),(0,z.ib)(y.wysiwyg.element,B)}T=!1,_.classList.add("vditor-menu--disabled")}else if(re==="line"){if(ce){var Gt=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;ce.innerHTML.trim()===""?ce.outerHTML=Gt:ce.insertAdjacentHTML("afterend",Gt),(0,z.ib)(y.wysiwyg.element,B)}}else if(T=!1,_.classList.add("vditor-menu--current"),re==="strike"&&(re="strikeThrough"),B.toString()===""&&(re==="bold"||re==="italic"||re==="strikeThrough")){var Tt="strong";re==="italic"?Tt="em":re==="strikeThrough"&&(Tt="s");var Ie=document.createElement(Tt);Ie.textContent=s.g.ZWSP,B.insertNode(Ie),Ie.previousSibling&&Ie.previousSibling.textContent===s.g.ZWSP&&(Ie.previousSibling.textContent=""),B.setStart(Ie.firstChild,1),B.collapse(!0),(0,z.Hc)(B)}else document.execCommand(re,!1,"")}T&&Rt(y),I&&De(y)}},ct=function(){function y(_,S){var T,I=this;this.element=document.createElement("div"),S.className&&(T=this.element.classList).add.apply(T,S.className.split(" "));var B=S.hotkey?" <".concat((0,f.ns)(S.hotkey),">"):"";S.level===2&&(B=S.hotkey?" &lt;".concat((0,f.ns)(S.hotkey),"&gt;"):"");var re=S.tip?S.tip+B:"".concat(window.VditorI18n[S.name]).concat(B),ue=S.name==="upload"?"div":"button";if(S.level===2)this.element.innerHTML="<".concat(ue,' data-type="').concat(S.name,'">').concat(re,"</").concat(ue,">");else{this.element.classList.add("vditor-toolbar__item");var fe=document.createElement(ue);fe.setAttribute("data-type",S.name),fe.className="vditor-tooltipped vditor-tooltipped__".concat(S.tipPosition),fe.setAttribute("aria-label",re),fe.innerHTML=S.icon,this.element.appendChild(fe)}S.prefix&&this.element.children[0].addEventListener((0,f.Le)(),function(ce){ce.preventDefault(),!I.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)&&(_.currentMode==="wysiwyg"?Xe(_,I.element.children[0],ce):_.currentMode==="ir"?DZ(_,I.element.children[0],S.prefix||"",S.suffix||""):Qn(_,I.element.children[0],S.prefix||"",S.suffix||""))})}return y}(),An=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),wn=function(y,_,S){var T;if(typeof S!="string"?(C(y,["subToolbar","hint"]),S.preventDefault(),T=u(y)):T=S,!(y.currentMode===_&&typeof S!="string")){if(y.devtools&&y.devtools.renderEchart(y),y.options.preview.mode==="both"&&_==="sv"?y.preview.element.style.display="block":y.preview.element.style.display="none",g(y.toolbar.elements,s.g.EDIT_TOOLBARS),h(y.toolbar.elements,s.g.EDIT_TOOLBARS),p(y.toolbar.elements,["outdent","indent"]),_==="ir")m(y.toolbar.elements,["both"]),b(y.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),y.sv.element.style.display="none",y.wysiwyg.element.parentElement.style.display="none",y.ir.element.parentElement.style.display="block",y.lute.SetVditorIR(!0),y.lute.SetVditorWYSIWYG(!1),y.lute.SetVditorSV(!1),y.currentMode="ir",y.ir.element.innerHTML=y.lute.Md2VditorIRDOM(T),Bl(y,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Te(y),y.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(B){Z(B,y)}),y.ir.element.querySelectorAll(".vditor-toc").forEach(function(B){(0,V.H)(B,{cdn:y.options.cdn,math:y.options.preview.math})});else if(_==="wysiwyg")m(y.toolbar.elements,["both"]),b(y.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),y.sv.element.style.display="none",y.wysiwyg.element.parentElement.style.display="block",y.ir.element.parentElement.style.display="none",y.lute.SetVditorIR(!1),y.lute.SetVditorWYSIWYG(!0),y.lute.SetVditorSV(!1),y.currentMode="wysiwyg",Te(y),oi(y,T,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),y.wysiwyg.element.querySelectorAll(".vditor-toc").forEach(function(B){(0,V.H)(B,{cdn:y.options.cdn,math:y.options.preview.math})}),y.wysiwyg.popover.style.display="none";else if(_==="sv"){b(y.toolbar.elements,["both"]),m(y.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),y.wysiwyg.element.parentElement.style.display="none",y.ir.element.parentElement.style.display="none",(y.options.preview.mode==="both"||y.options.preview.mode==="editor")&&(y.sv.element.style.display="block"),y.lute.SetVditorIR(!1),y.lute.SetVditorWYSIWYG(!1),y.lute.SetVditorSV(!0),y.currentMode="sv";var I=ho(T,y);I==="<div data-block='0'></div>"&&(I=""),y.sv.element.innerHTML=I,ne(y.sv.element),Li(y,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),Te(y)}y.undo.resetIcon(y),typeof S!="string"&&(y[y.currentMode].element.focus(),Gn(y)),ie(y),Ce(y),y.toolbar.elements["edit-mode"]&&(y.toolbar.elements["edit-mode"].querySelectorAll("button").forEach(function(B){B.classList.remove("vditor-menu--current")}),y.toolbar.elements["edit-mode"].querySelector('button[data-mode="'.concat(y.currentMode,'"]')).classList.add("vditor-menu--current")),y.outline.toggle(y,y.currentMode!=="sv"&&y.options.outline.enable,typeof S!="string")}},ji=function(y){An(_,y);function _(S,T){var I=y.call(this,S,T)||this,B=document.createElement("div");return B.className="vditor-hint".concat(T.level===2?"":" vditor-panel--arrow"),B.innerHTML='<button data-mode="wysiwyg">'.concat(window.VditorI18n.wysiwyg," &lt;").concat((0,f.ns)("⌥⌘7"),`></button>
<button data-mode="ir">`).concat(window.VditorI18n.instantRendering," &lt;").concat((0,f.ns)("⌥⌘8"),`></button>
<button data-mode="sv">`).concat(window.VditorI18n.splitView," &lt;").concat((0,f.ns)("⌥⌘9"),"></button>"),I.element.appendChild(B),I._bindEvent(S,B,T),I}return _.prototype._bindEvent=function(S,T,I){var B=this.element.children[0];O(S,T,B,I.level),T.children.item(0).addEventListener((0,f.Le)(),function(re){wn(S,"wysiwyg",re),re.preventDefault(),re.stopPropagation()}),T.children.item(1).addEventListener((0,f.Le)(),function(re){wn(S,"ir",re),re.preventDefault(),re.stopPropagation()}),T.children.item(2).addEventListener((0,f.Le)(),function(re){wn(S,"sv",re),re.preventDefault(),re.stopPropagation()})},_}(ct),er=function(y,_){return(0,z.Gb)(y,_)?getSelection().toString():""},ka=function(y,_){_.addEventListener("focus",function(){y.options.focus&&y.options.focus(u(y)),C(y,["subToolbar","hint"])})},Da=function(y,_){_.addEventListener("dblclick",function(S){S.target.tagName==="IMG"&&(y.options.image.preview?y.options.image.preview(S.target):y.options.image.isPreview&&(0,Q.E)(S.target,y.options.lang,y.options.theme))})},Xr=function(y,_){_.addEventListener("blur",function(S){if(y.currentMode==="ir"){var T=y.ir.element.querySelector(".vditor-ir__node--expand");T&&T.classList.remove("vditor-ir__node--expand")}else y.currentMode==="wysiwyg"&&!y.wysiwyg.selectPopover.contains(S.relatedTarget)&&y.wysiwyg.hideComment();y[y.currentMode].range=(0,z.zh)(y),y.options.blur&&y.options.blur(u(y))})},ta=function(y,_){_.addEventListener("dragstart",function(S){S.dataTransfer.setData(s.g.DROP_EDITOR,s.g.DROP_EDITOR)}),_.addEventListener("drop",function(S){S.dataTransfer.getData(s.g.DROP_EDITOR)?Jt(y):(S.dataTransfer.types.includes("Files")||S.dataTransfer.types.includes("text/html"))&&C_(y,S,{pasteCode:function(T){document.execCommand("insertHTML",!1,T)}})})},Tr=function(y,_,S){_.addEventListener("copy",function(T){return S(T,y)})},na=function(y,_,S){_.addEventListener("cut",function(T){S(T,y),y.options.comment.enable&&y.currentMode==="wysiwyg"&&y.wysiwyg.getComments(y),document.execCommand("delete")})},en=function(y){if(y.currentMode==="wysiwyg"&&y.options.comment.enable&&y.options.comment.adjustTop(y.wysiwyg.getComments(y,!0)),!!y.options.typewriterMode){var _=y[y.currentMode].element,S=(0,z.Ny)(_).top;y.options.height==="auto"&&!y.element.classList.contains("vditor--fullscreen")&&window.scrollTo(window.scrollX,S+y.element.offsetTop+y.toolbar.element.offsetHeight-window.innerHeight/2+10),(y.options.height!=="auto"||y.element.classList.contains("vditor--fullscreen"))&&(_.scrollTop=S+_.scrollTop-_.clientHeight/2+10)}},ia=function(y,_){_.addEventListener("keydown",function(S){if(!S.isComposing&&y.options.keydown&&y.options.keydown(S),!((y.options.hint.extend.length>1||y.toolbar.elements.emoji)&&y.hint.select(S,y))){if(y.options.comment.enable&&y.currentMode==="wysiwyg"&&(S.key==="Backspace"||$("⌘X",S))&&y.wysiwyg.getComments(y),y.currentMode==="sv"){if(de(y,S))return}else if(y.currentMode==="wysiwyg"){if(et(y,S))return}else if(y.currentMode==="ir"&&le(y,S))return;if(y.options.ctrlEnter&&$("⌘Enter",S)){y.options.ctrlEnter(u(y)),S.preventDefault();return}if($("⌘Z",S)&&!y.toolbar.elements.undo){y.undo.undo(y),S.preventDefault();return}if($("⌘Y",S)&&!y.toolbar.elements.redo){y.undo.redo(y),S.preventDefault();return}if(S.key==="Escape"){y.hint.element.style.display==="block"?y.hint.element.style.display="none":y.options.esc&&!S.isComposing&&y.options.esc(u(y)),S.preventDefault();return}if((0,f.yl)(S)&&S.altKey&&!S.shiftKey&&/^Digit[1-6]$/.test(S.code)){if(y.currentMode==="wysiwyg"){var T=S.code.replace("Digit","H");(0,w.lG)(getSelection().getRangeAt(0).startContainer,T)?Fe(y):$e(y,T),De(y)}else y.currentMode==="sv"?zn(y,"#".repeat(parseInt(S.code.replace("Digit",""),10))+" "):y.currentMode==="ir"&&Wp(y,"#".repeat(parseInt(S.code.replace("Digit",""),10))+" ");return S.preventDefault(),!0}if((0,f.yl)(S)&&S.altKey&&!S.shiftKey&&/^Digit[7-9]$/.test(S.code))return S.code==="Digit7"?wn(y,"wysiwyg",S):S.code==="Digit8"?wn(y,"ir",S):S.code==="Digit9"&&wn(y,"sv",S),!0;y.options.toolbar.find(function(I){if(!I.hotkey||I.toolbar){if(I.toolbar){var B=I.toolbar.find(function(re){if(!re.hotkey)return!1;if($(re.hotkey,S))return y.toolbar.elements[re.name].children[0].dispatchEvent(new CustomEvent((0,f.Le)())),S.preventDefault(),!0});return!!B}return!1}if($(I.hotkey,S))return y.toolbar.elements[I.name].children[0].dispatchEvent(new CustomEvent((0,f.Le)())),S.preventDefault(),!0})}})},cs=function(y,_){_.addEventListener("selectstart",function(S){_.onmouseup=function(){setTimeout(function(){var T=er(y[y.currentMode].element);T.trim()?(y.currentMode==="wysiwyg"&&y.options.comment.enable&&(!(0,w.a1)(S.target,"data-type","footnotes-block")&&!(0,w.a1)(S.target,"data-type","link-ref-defs-block")?y.wysiwyg.showComment():y.wysiwyg.hideComment()),y.options.select&&y.options.select(T)):(y.currentMode==="wysiwyg"&&y.options.comment.enable&&y.wysiwyg.hideComment(),typeof y.options.unSelect=="function"&&y.options.unSelect())})}})},Hl=function(y,_){var S=(0,z.zh)(y);S.extractContents(),S.insertNode(document.createTextNode(Lute.Caret)),S.insertNode(document.createTextNode(_));var T=(0,w.a1)(S.startContainer,"data-block","0");T||(T=y.sv.element);var I=y.lute.SpinVditorSVDOM(T.textContent);I="<div data-block='0'>"+I.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",T.isEqualNode(y.sv.element)?T.innerHTML=I:T.outerHTML=I,ne(y.sv.element),(0,z.ib)(y.sv.element,S),en(y)},Ws=function(y,_,S){S===void 0&&(S=!0);var T=y;for(T.nodeType===3&&(T=T.parentElement);T;){if(T.getAttribute("data-type")===_)return T;S?T=T.previousElementSibling:T=T.nextElementSibling}return!1},ho=function(y,_){P("SpinVditorSVDOM",y,"argument",_.options.debugger);var S=_.lute.SpinVditorSVDOM(y);return y="<div data-block='0'>"+S.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,`<span data-type="newline"><br /><span style="display: none">
</span></span><span data-type="newline"><br /><span style="display: none">
</span></span></div><div data-block="0"><`)+"</div>",P("SpinVditorSVDOM",y,"result",_.options.debugger),y},tc=function(y){var _=y.getAttribute("data-type"),S=y.previousElementSibling,T=_&&_!=="text"&&_!=="table"&&_!=="heading-marker"&&_!=="newline"&&_!=="yaml-front-matter-open-marker"&&_!=="yaml-front-matter-close-marker"&&_!=="code-block-info"&&_!=="code-block-close-marker"&&_!=="code-block-open-marker"?y.textContent:"",I=!1;for(_==="newline"&&(I=!0);S&&!I;){var B=S.getAttribute("data-type");if(B==="li-marker"||B==="blockquote-marker"||B==="task-marker"||B==="padding"){var re=S.textContent;if(B==="li-marker"&&(_==="code-block-open-marker"||_==="code-block-info"))T=re.replace(/\S/g," ")+T;else if(_==="code-block-close-marker"&&S.nextElementSibling.isSameNode(y)){var ue=Ws(y,"code-block-open-marker");ue&&ue.previousElementSibling&&(S=ue.previousElementSibling,T=re+T)}else T=re+T}else B==="newline"&&(I=!0);S=S.previousElementSibling}return T},Li=function(y,_){_===void 0&&(_={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),_.enableHint&&y.hint.render(y),y.preview.render(y);var S=u(y);typeof y.options.input=="function"&&_.enableInput&&y.options.input(S),y.options.counter.enable&&y.counter.render(y,S),y.options.cache.enable&&(0,f.pK)()&&(localStorage.setItem(y.options.cache.id,S),y.options.cache.after&&y.options.cache.after(S)),y.devtools&&y.devtools.renderEchart(y),clearTimeout(y.sv.processTimeoutId),y.sv.processTimeoutId=window.setTimeout(function(){_.enableAddUndoStack&&!y.sv.composingLock&&y.undo.addToUndoStack(y)},y.options.undoDelay)},zn=function(y,_){var S=(0,z.zh)(y),T=(0,E.S)(S.startContainer,"SPAN");T&&T.textContent.trim()!==""&&(_=`
`+_),S.collapse(!0),document.execCommand("insertHTML",!1,_)},Qn=function(y,_,S,T){var I=(0,z.zh)(y),B=_.getAttribute("data-type");y.sv.element.childNodes.length===0&&(y.sv.element.innerHTML=`<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">
</span></span>`,(0,z.ib)(y.sv.element,I));var re=(0,w.F9)(I.startContainer),ue=(0,E.S)(I.startContainer,"SPAN");if(re){if(B==="link"){var fe=void 0;I.toString()===""?fe="".concat(S).concat(Lute.Caret).concat(T):fe="".concat(S).concat(I.toString()).concat(T.replace(")",Lute.Caret+")")),document.execCommand("insertHTML",!1,fe);return}else if(B==="italic"||B==="bold"||B==="strike"||B==="inline-code"||B==="code"||B==="table"||B==="line"){var fe=void 0;I.toString()===""?fe="".concat(S).concat(Lute.Caret).concat(B==="code"?"":T):fe="".concat(S).concat(I.toString()).concat(Lute.Caret).concat(B==="code"?"":T),B==="table"||B==="code"&&ue&&ue.textContent!==""?fe=`

`+fe:B==="line"&&(fe=`

`.concat(S,`
`).concat(Lute.Caret)),document.execCommand("insertHTML",!1,fe);return}else if((B==="check"||B==="list"||B==="ordered-list"||B==="quote")&&ue){var ce="* ";B==="check"?ce="* [ ] ":B==="ordered-list"?ce="1. ":B==="quote"&&(ce="> ");var _e=Ws(ue,"newline");_e?_e.insertAdjacentText("afterend",ce):re.insertAdjacentText("afterbegin",ce),se(y);return}(0,z.ib)(y.sv.element,I),Li(y)}},li=function(y){switch(y.currentMode){case"ir":return y.ir.element;case"wysiwyg":return y.wysiwyg.element;case"sv":return y.sv.element}},ui=function(y,_){y.options.upload.setHeaders&&(y.options.upload.headers=y.options.upload.setHeaders()),y.options.upload.headers&&Object.keys(y.options.upload.headers).forEach(function(S){_.setRequestHeader(S,y.options.upload.headers[S])})},wr=function(y,_,S,T){function I(B){return B instanceof S?B:new S(function(re){re(B)})}return new(S||(S=Promise))(function(B,re){function ue(_e){try{ce(T.next(_e))}catch(Ie){re(Ie)}}function fe(_e){try{ce(T.throw(_e))}catch(Ie){re(Ie)}}function ce(_e){_e.done?B(_e.value):I(_e.value).then(ue,fe)}ce((T=T.apply(y,_||[])).next())})},tt=function(y,_){var S={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},T,I,B,re;return re={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(re[Symbol.iterator]=function(){return this}),re;function ue(ce){return function(_e){return fe([ce,_e])}}function fe(ce){if(T)throw new TypeError("Generator is already executing.");for(;re&&(re=0,ce[0]&&(S=0)),S;)try{if(T=1,I&&(B=ce[0]&2?I.return:ce[0]?I.throw||((B=I.return)&&B.call(I),0):I.next)&&!(B=B.call(I,ce[1])).done)return B;switch(I=0,B&&(ce=[ce[0]&2,B.value]),ce[0]){case 0:case 1:B=ce;break;case 4:return S.label++,{value:ce[1],done:!1};case 5:S.label++,I=ce[1],ce=[0];continue;case 7:ce=S.ops.pop(),S.trys.pop();continue;default:if(B=S.trys,!(B=B.length>0&&B[B.length-1])&&(ce[0]===6||ce[0]===2)){S=0;continue}if(ce[0]===3&&(!B||ce[1]>B[0]&&ce[1]<B[3])){S.label=ce[1];break}if(ce[0]===6&&S.label<B[1]){S.label=B[1],B=ce;break}if(B&&S.label<B[2]){S.label=B[2],S.ops.push(ce);break}B[2]&&S.ops.pop(),S.trys.pop();continue}ce=_.call(y,S)}catch(_e){ce=[6,_e],I=0}finally{T=B=0}if(ce[0]&5)throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}},Lt=function(){function y(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"}return y}(),pn=function(y,_){y.tip.hide();var S=[],T="",I="";y.options.lang,y.options;for(var B=function(ce,_e){var Ie=_[_e],ht=!0;Ie.name||(T+="<li>".concat(window.VditorI18n.nameEmpty,"</li>"),ht=!1),Ie.size>y.options.upload.max&&(T+="<li>".concat(Ie.name," ").concat(window.VditorI18n.over," ").concat(y.options.upload.max/1024/1024,"M</li>"),ht=!1);var vt=Ie.name.lastIndexOf("."),it=Ie.name.substr(vt),Mt=y.options.upload.filename(Ie.name.substr(0,vt))+it;if(y.options.upload.accept){var wt=y.options.upload.accept.split(",").some(function(nt){var Gt=nt.trim();if(Gt.indexOf(".")===0){if(it.toLowerCase()===Gt.toLowerCase())return!0}else if(Ie.type.split("/")[0]===Gt.split("/")[0])return!0;return!1});wt||(T+="<li>".concat(Ie.name," ").concat(window.VditorI18n.fileTypeError,"</li>"),ht=!1)}ht&&(S.push(Ie),I+="<li>".concat(Mt," ").concat(window.VditorI18n.uploading,' <a class="vditorCancelUpload" href="javascript:void(0)">').concat(window.VditorI18n.cancelUpload,"</a></li>"))},re=_.length,ue=0;ue<re;ue++)B(re,ue);if(y.tip.show("<ul>".concat(T).concat(I,"</ul>")),y.options.upload.cancel){var fe=y.tip.element.querySelector(".vditorCancelUpload");fe&&fe.addEventListener("click",function(){y.options.upload.cancel(S),y.tip.hide(),y.upload.isUploading=!1})}return S},Fn=function(y,_){var S=li(_);S.focus();var T=JSON.parse(y),I="";T.code===1&&(I="".concat(T.msg)),T.data.errFiles&&T.data.errFiles.length>0&&(I="<ul><li>".concat(I,"</li>"),T.data.errFiles.forEach(function(re){var ue=re.lastIndexOf("."),fe=_.options.upload.filename(re.substr(0,ue))+re.substr(ue);I+="<li>".concat(fe," ").concat(window.VditorI18n.uploadError,"</li>")}),I+="</ul>"),I?_.tip.show(I):_.tip.hide();var B="";Object.keys(T.data.succMap).forEach(function(re){var ue=T.data.succMap[re],fe=re.lastIndexOf("."),ce=re.substr(fe),_e=_.options.upload.filename(re.substr(0,fe))+ce;ce=ce.toLowerCase(),ce.indexOf(".wav")===0||ce.indexOf(".mp3")===0||ce.indexOf(".ogg")===0?_.currentMode==="wysiwyg"?B+=`<div class="vditor-wysiwyg__block" data-type="html-block"
 data-block="0"><pre><code>&lt;audio controls="controls" src="`.concat(ue,'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="').concat(ue,`"></audio></pre></div>
`):_.currentMode==="ir"?B+='<audio controls="controls" src="'.concat(ue,`"></audio>
`):B+="[".concat(_e,"](").concat(ue,`)
`):ce.indexOf(".apng")===0||ce.indexOf(".bmp")===0||ce.indexOf(".gif")===0||ce.indexOf(".ico")===0||ce.indexOf(".cur")===0||ce.indexOf(".jpg")===0||ce.indexOf(".jpeg")===0||ce.indexOf(".jfif")===0||ce.indexOf(".pjp")===0||ce.indexOf(".pjpeg")===0||ce.indexOf(".png")===0||ce.indexOf(".svg")===0||ce.indexOf(".webp")===0?_.currentMode==="wysiwyg"?B+='<img alt="'.concat(_e,'" src="').concat(ue,`">
`):B+="![".concat(_e,"](").concat(ue,`)
`):_.currentMode==="wysiwyg"?B+='<a href="'.concat(ue,'">').concat(_e,`</a>
`):B+="[".concat(_e,"](").concat(ue,`)
`)}),(0,z.Hc)(_.upload.range),document.execCommand("insertHTML",!1,B),_.upload.range=getSelection().getRangeAt(0).cloneRange()},_i=function(y,_,S){return wr(void 0,void 0,void 0,function(){var T,I,it,B,re,re,ue,fe,ce,_e,Ie,ht,vt,it,Mt,wt;return tt(this,function(nt){switch(nt.label){case 0:for(T=[],I=y.options.upload.multiple===!0?_.length:1,it=0;it<I;it++)B=_[it],B instanceof DataTransferItem&&(B=B.getAsFile()),T.push(B);return y.options.upload.handler?[4,y.options.upload.handler(T)]:[3,2];case 1:return re=nt.sent(),S&&(S.value=""),typeof re=="string"?(y.tip.show(re),[2]):[2];case 2:return!y.options.upload.url||!y.upload?(S&&(S.value=""),y.tip.show("please config: options.upload.url"),[2]):y.options.upload.file?[4,y.options.upload.file(T)]:[3,4];case 3:T=nt.sent(),nt.label=4;case 4:if(y.options.upload.validate&&(re=y.options.upload.validate(T),typeof re=="string"))return y.tip.show(re),[2];if(ue=li(y),y.upload.range=(0,z.zh)(y),fe=pn(y,T),fe.length===0)return S&&(S.value=""),[2];for(ce=new FormData,_e=y.options.upload.extraData,Ie=0,ht=Object.keys(_e);Ie<ht.length;Ie++)vt=ht[Ie],ce.append(vt,_e[vt]);for(it=0,Mt=fe.length;it<Mt;it++)ce.append(y.options.upload.fieldName,fe[it]);return wt=new XMLHttpRequest,wt.open("POST",y.options.upload.url),y.options.upload.token&&wt.setRequestHeader("X-Upload-Token",y.options.upload.token),y.options.upload.withCredentials&&(wt.withCredentials=!0),ui(y,wt),y.upload.isUploading=!0,ue.setAttribute("contenteditable","false"),wt.onreadystatechange=function(){if(wt.readyState===XMLHttpRequest.DONE){if(y.upload.isUploading=!1,ue.setAttribute("contenteditable","true"),wt.status>=200&&wt.status<300)if(y.options.upload.success)y.options.upload.success(ue,wt.responseText);else{var Gt=wt.responseText;y.options.upload.format&&(Gt=y.options.upload.format(_,wt.responseText)),Fn(Gt,y)}else y.options.upload.error?y.options.upload.error(wt.responseText):y.tip.show(wt.responseText);S&&(S.value=""),y.upload.element.style.display="none"}},wt.upload.onprogress=function(Gt){if(Gt.lengthComputable){var Tt=Gt.loaded/Gt.total*100;y.upload.element.style.display="block";var un=y.upload.element;un.style.width=Tt+"%"}},wt.send(ce),[2]}})})},Ir=function(y,_,S){var T,I=(0,w.F9)(_.startContainer);if(I||(I=y.wysiwyg.element),S&&S.inputType!=="formatItalic"&&S.inputType!=="deleteByDrag"&&S.inputType!=="insertFromDrop"&&S.inputType!=="formatBold"&&S.inputType!=="formatRemove"&&S.inputType!=="formatStrikeThrough"&&S.inputType!=="insertUnorderedList"&&S.inputType!=="insertOrderedList"&&S.inputType!=="formatOutdent"&&S.inputType!=="formatIndent"&&S.inputType!==""||!S){var B=Ee(_.startContainer);B&&B.remove(),y.wysiwyg.element.querySelectorAll("wbr").forEach(function(Tt){Tt.remove()}),_.insertNode(document.createElement("wbr")),I.querySelectorAll("[style]").forEach(function(Tt){Tt.removeAttribute("style")}),I.querySelectorAll(".vditor-comment").forEach(function(Tt){Tt.textContent.trim()===""&&(Tt.classList.remove("vditor-comment","vditor-comment--focus"),Tt.removeAttribute("data-cmtids"))}),(T=I.previousElementSibling)===null||T===void 0||T.querySelectorAll(".vditor-comment").forEach(function(Tt){Tt.textContent.trim()===""&&(Tt.classList.remove("vditor-comment","vditor-comment--focus"),Tt.removeAttribute("data-cmtids"))});var re="";I.getAttribute("data-type")==="link-ref-defs-block"&&(I=y.wysiwyg.element);var ue=I.isEqualNode(y.wysiwyg.element),fe=(0,w.a1)(I,"data-type","footnotes-block");if(ue)re=I.innerHTML;else{var ce=(0,w.O9)(_.startContainer);if(ce&&!fe){var _e=(0,E.S)(_.startContainer,"BLOCKQUOTE");_e?I=(0,w.F9)(_.startContainer)||I:I=ce}if(fe&&(I=fe),re=I.outerHTML,I.tagName==="UL"||I.tagName==="OL"){var Ie=I.previousElementSibling,ht=I.nextElementSibling;Ie&&(Ie.tagName==="UL"||Ie.tagName==="OL")&&(re=Ie.outerHTML+re,Ie.remove()),ht&&(ht.tagName==="UL"||ht.tagName==="OL")&&(re=re+ht.outerHTML,ht.remove()),re=re.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}I.innerText.startsWith("```")||(y.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach(function(Tt){Tt&&!I.isEqualNode(Tt)&&(re+=Tt.outerHTML,Tt.remove())}),y.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach(function(Tt){Tt&&!I.isEqualNode(Tt)&&(re+=Tt.outerHTML,Tt.remove())}))}if(re=re.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""),re==='<p data-block="0">```<wbr></p>'&&y.hint.recentLanguage&&(re='<p data-block="0">```<wbr></p>'.replace("```","```"+y.hint.recentLanguage)),P("SpinVditorDOM",re,"argument",y.options.debugger),re=y.lute.SpinVditorDOM(re),P("SpinVditorDOM",re,"result",y.options.debugger),ue)I.innerHTML=re;else if(I.outerHTML=re,fe){var vt=(0,w.E2)(y.wysiwyg.element.querySelector("wbr"),"LI");if(vt){var it=y.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'.concat(vt.getAttribute("data-marker"),'"]'));it&&it.setAttribute("aria-label",vt.textContent.trim().substr(0,24))}}var Mt,wt=y.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");wt.forEach(function(Tt,un){un===0?Mt=Tt:(Mt.insertAdjacentHTML("beforeend",Tt.innerHTML),Tt.remove())}),wt.length>0&&y.wysiwyg.element.insertAdjacentElement("beforeend",wt[0]);var nt,Gt=y.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");Gt.forEach(function(Tt,un){un===0?nt=Tt:(nt.insertAdjacentHTML("beforeend",Tt.innerHTML),Tt.remove())}),Gt.length>0&&y.wysiwyg.element.insertAdjacentElement("beforeend",Gt[0]),(0,z.ib)(y.wysiwyg.element,_),y.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach(function(Tt){Z(Tt,y)}),S&&(S.inputType==="deleteContentBackward"||S.inputType==="deleteContentForward")&&y.options.comment.enable&&(y.wysiwyg.triggerRemoveComment(y),y.options.comment.adjustTop(y.wysiwyg.getComments(y,!0)))}ie(y),De(y,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},Ta=function(y,_){return Object.defineProperty?Object.defineProperty(y,"raw",{value:_}):y.raw=_,y},nc=function(y,_,S,T){function I(B){return B instanceof S?B:new S(function(re){re(B)})}return new(S||(S=Promise))(function(B,re){function ue(_e){try{ce(T.next(_e))}catch(Ie){re(Ie)}}function fe(_e){try{ce(T.throw(_e))}catch(Ie){re(Ie)}}function ce(_e){_e.done?B(_e.value):I(_e.value).then(ue,fe)}ce((T=T.apply(y,_||[])).next())})},jr=function(y,_){var S={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},T,I,B,re;return re={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(re[Symbol.iterator]=function(){return this}),re;function ue(ce){return function(_e){return fe([ce,_e])}}function fe(ce){if(T)throw new TypeError("Generator is already executing.");for(;re&&(re=0,ce[0]&&(S=0)),S;)try{if(T=1,I&&(B=ce[0]&2?I.return:ce[0]?I.throw||((B=I.return)&&B.call(I),0):I.next)&&!(B=B.call(I,ce[1])).done)return B;switch(I=0,B&&(ce=[ce[0]&2,B.value]),ce[0]){case 0:case 1:B=ce;break;case 4:return S.label++,{value:ce[1],done:!1};case 5:S.label++,I=ce[1],ce=[0];continue;case 7:ce=S.ops.pop(),S.trys.pop();continue;default:if(B=S.trys,!(B=B.length>0&&B[B.length-1])&&(ce[0]===6||ce[0]===2)){S=0;continue}if(ce[0]===3&&(!B||ce[1]>B[0]&&ce[1]<B[3])){S.label=ce[1];break}if(ce[0]===6&&S.label<B[1]){S.label=B[1],B=ce;break}if(B&&S.label<B[2]){S.label=B[2],S.ops.push(ce);break}B[2]&&S.ops.pop(),S.trys.pop();continue}ce=_.call(y,S)}catch(_e){ce=[6,_e],I=0}finally{T=B=0}if(ce[0]&5)throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}},ra=function(y,_,S){if(y.keyCode===229&&y.code===""&&y.key==="Unidentified"&&_.currentMode!=="sv"){var T=(0,w.F9)(S);if(T&&T.textContent.trim()==="")return _[_.currentMode].composingLock=!0,!1}return!0},Bp=function(y,_,S){if(!(S.key==="Enter"||S.key==="Tab"||S.key==="Backspace"||S.key.indexOf("Arrow")>-1||(0,f.yl)(S)||S.key==="Escape"||S.shiftKey||S.altKey)){var T=(0,w.lG)(y.startContainer,"P")||(0,w.lG)(y.startContainer,"LI");if(T&&(0,z.im)(T,_[_.currentMode].element,y).start===0){T.nodeValue&&(T.nodeValue=T.nodeValue.replace(/\u2006/g,""));var I=document.createTextNode(s.g.ZWSP);y.insertNode(I),y.setStartAfter(I)}}},$p=function(y,_){if(_==="ArrowDown"||_==="ArrowUp"){var S=(0,w.a1)(y.startContainer,"data-type","math-inline")||(0,w.a1)(y.startContainer,"data-type","html-entity")||(0,w.a1)(y.startContainer,"data-type","html-inline");S&&(_==="ArrowDown"&&y.setStartAfter(S.parentElement),_==="ArrowUp"&&y.setStartBefore(S.parentElement))}},ic=function(y,_){var S=(0,z.zh)(y),T=(0,w.F9)(S.startContainer);T&&(T.insertAdjacentHTML(_,'<p data-block="0">'.concat(s.g.ZWSP,`<wbr>
</p>`)),(0,z.ib)(y[y.currentMode].element,S),Gn(y),Jt(y))},cx=function(y){var _=(0,w.lG)(y,"TABLE");return _&&_.rows[0].cells[0].isSameNode(y)?_:!1},dx=function(y){var _=(0,w.lG)(y,"TABLE");return _&&_.lastElementChild.lastElementChild.lastElementChild.isSameNode(y)?_:!1},y_=function(y,_,S){S===void 0&&(S=!0);var T=y.previousElementSibling;return T||(y.parentElement.previousElementSibling?T=y.parentElement.previousElementSibling.lastElementChild:y.parentElement.parentElement.tagName==="TBODY"&&y.parentElement.parentElement.previousElementSibling?T=y.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:T=null),T&&(_.selectNodeContents(T),S||_.collapse(!1),(0,z.Hc)(_)),T},xd=function(y,_,S,T,I){var B=(0,z.im)(T,y[y.currentMode].element,S);if(_.key==="ArrowDown"&&T.textContent.trimRight().substr(B.start).indexOf(`
`)===-1||_.key==="ArrowRight"&&B.start>=T.textContent.trimRight().length){var re=I.nextElementSibling;return!re||re&&(re.tagName==="TABLE"||re.getAttribute("data-type"))?(I.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(s.g.ZWSP,"<wbr></p>")),(0,z.ib)(y[y.currentMode].element,S)):(S.selectNodeContents(re),S.collapse(!0),(0,z.Hc)(S)),_.preventDefault(),!0}return!1},ds=function(y,_,S,T,I){var B=(0,z.im)(T,y[y.currentMode].element,S);if(_.key==="ArrowUp"&&T.textContent.substr(0,B.start).indexOf(`
`)===-1||(_.key==="ArrowLeft"||_.key==="Backspace"&&S.toString()==="")&&B.start===0){var re=I.previousElementSibling;return!re||re&&(re.tagName==="TABLE"||re.getAttribute("data-type"))?(I.insertAdjacentHTML("beforebegin",'<p data-block="0">'.concat(s.g.ZWSP,"<wbr></p>")),(0,z.ib)(y[y.currentMode].element,S)):(S.selectNodeContents(re),S.collapse(!1),(0,z.Hc)(S)),_.preventDefault(),!0}return!1},Ed=function(y,_,S,T){T===void 0&&(T=!0);var I=(0,w.lG)(_.startContainer,"LI");if(y[y.currentMode].element.querySelectorAll("wbr").forEach(function(_e){_e.remove()}),_.insertNode(document.createElement("wbr")),T&&I){for(var B="",re=0;re<I.parentElement.childElementCount;re++){var ue=I.parentElement.children[re].querySelector("input");ue&&ue.remove(),B+='<p data-block="0">'.concat(I.parentElement.children[re].innerHTML.trimLeft(),"</p>")}I.parentElement.insertAdjacentHTML("beforebegin",B),I.parentElement.remove()}else if(I)if(S==="check")I.parentElement.querySelectorAll("li").forEach(function(_e){_e.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'.concat(_e.textContent.indexOf(" ")===0?"":" ")),_e.classList.add("vditor-task")});else{I.querySelector("input")&&I.parentElement.querySelectorAll("li").forEach(function(_e){_e.querySelector("input").remove(),_e.classList.remove("vditor-task")});var ce=void 0;S==="list"?(ce=document.createElement("ul"),ce.setAttribute("data-marker","*")):(ce=document.createElement("ol"),ce.setAttribute("data-marker","1.")),ce.setAttribute("data-block","0"),ce.setAttribute("data-tight",I.parentElement.getAttribute("data-tight")),ce.innerHTML=I.parentElement.innerHTML,I.parentElement.parentNode.replaceChild(ce,I.parentElement)}else{var fe=(0,w.a1)(_.startContainer,"data-block","0");fe||(y[y.currentMode].element.querySelector("wbr").remove(),fe=y[y.currentMode].element.querySelector("p"),fe.innerHTML="<wbr>"),S==="check"?(fe.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '.concat(fe.innerHTML,"</li></ul>")),fe.remove()):S==="list"?(fe.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'.concat(fe.innerHTML,"</li></ul>")),fe.remove()):S==="ordered-list"&&(fe.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'.concat(fe.innerHTML,"</li></ol>")),fe.remove())}},oa=function(y,_,S){var T=_.previousElementSibling;if(_&&T){var I=[_];Array.from(S.cloneContents().children).forEach(function(fe,ce){fe.nodeType!==3&&_&&fe.textContent.trim()!==""&&_.getAttribute("data-node-id")===fe.getAttribute("data-node-id")&&(ce!==0&&I.push(_),_=_.nextElementSibling)}),y[y.currentMode].element.querySelectorAll("wbr").forEach(function(fe){fe.remove()}),S.insertNode(document.createElement("wbr"));var B=T.parentElement,re="";I.forEach(function(fe){var ce=fe.getAttribute("data-marker");ce.length!==1&&(ce="1".concat(ce.slice(-1))),re+='<li data-node-id="'.concat(fe.getAttribute("data-node-id"),'" data-marker="').concat(ce,'">').concat(fe.innerHTML,"</li>"),fe.remove()}),T.insertAdjacentHTML("beforeend","<".concat(B.tagName,' data-block="0">').concat(re,"</").concat(B.tagName,">")),y.currentMode==="wysiwyg"?B.outerHTML=y.lute.SpinVditorDOM(B.outerHTML):B.outerHTML=y.lute.SpinVditorIRDOM(B.outerHTML),(0,z.ib)(y[y.currentMode].element,S);var ue=(0,w.O9)(S.startContainer);ue&&ue.querySelectorAll(".vditor-".concat(y.currentMode,"__preview[data-render='2']")).forEach(function(fe){Z(fe,y),y.currentMode==="wysiwyg"&&fe.previousElementSibling.setAttribute("style","display:none")}),Jt(y),Gn(y)}else y[y.currentMode].element.focus()},Vp=function(y,_,S,T){var I=(0,w.lG)(_.parentElement,"LI");if(I){y[y.currentMode].element.querySelectorAll("wbr").forEach(function(Ie){Ie.remove()}),S.insertNode(document.createElement("wbr"));var B=_.parentElement,re=B.cloneNode(),ue=[_];Array.from(S.cloneContents().children).forEach(function(Ie,ht){Ie.nodeType!==3&&_&&Ie.textContent.trim()!==""&&_.getAttribute("data-node-id")===Ie.getAttribute("data-node-id")&&(ht!==0&&ue.push(_),_=_.nextElementSibling)});var fe=!1,ce="";B.querySelectorAll("li").forEach(function(Ie){fe&&(ce+=Ie.outerHTML,!Ie.nextElementSibling&&!Ie.previousElementSibling?Ie.parentElement.remove():Ie.remove()),Ie.isSameNode(ue[ue.length-1])&&(fe=!0)}),ue.reverse().forEach(function(Ie){I.insertAdjacentElement("afterend",Ie)}),ce&&(re.innerHTML=ce,ue[0].insertAdjacentElement("beforeend",re)),y.currentMode==="wysiwyg"?T.outerHTML=y.lute.SpinVditorDOM(T.outerHTML):T.outerHTML=y.lute.SpinVditorIRDOM(T.outerHTML),(0,z.ib)(y[y.currentMode].element,S);var _e=(0,w.O9)(S.startContainer);_e&&_e.querySelectorAll(".vditor-".concat(y.currentMode,"__preview[data-render='2']")).forEach(function(Ie){Z(Ie,y),y.currentMode==="wysiwyg"&&Ie.previousElementSibling.setAttribute("style","display:none")}),Jt(y),Gn(y)}else y[y.currentMode].element.focus()},rc=function(y,_){for(var S=getSelection().getRangeAt(0).startContainer.parentElement,T=y.rows[0].cells.length,I=y.rows.length,B=0,re=0;re<I;re++)for(var ue=0;ue<T;ue++)if(y.rows[re].cells[ue].isSameNode(S)){B=ue;break}for(var fe=0;fe<I;fe++)y.rows[fe].cells[B].setAttribute("align",_)},vn=function(y){var _=y.trimRight().split(`
`).pop();return _===""?!1:(_.replace(/ |-/g,"")===""||_.replace(/ |_/g,"")===""||_.replace(/ |\*/g,"")==="")&&_.replace(/ /g,"").length>2?!(_.indexOf("-")>-1&&_.trimLeft().indexOf(" ")===-1&&y.trimRight().split(`
`).length>1||_.indexOf("    ")===0||_.indexOf("	")===0):!1},Hh=function(y){var _=y.trimRight().split(`
`);return y=_.pop(),y.indexOf("    ")===0||y.indexOf("	")===0||(y=y.trimLeft(),y===""||_.length===0)?!1:y.replace(/-/g,"")===""||y.replace(/=/g,"")===""},Jt=function(y,_){_===void 0&&(_={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),y.currentMode==="wysiwyg"?De(y,_):y.currentMode==="ir"?Bl(y,_):y.currentMode==="sv"&&Li(y,_)},wi=function(y,_,S,T){var I,B=y.startContainer,re=(0,w.lG)(B,"LI");if(re){if(!(0,f.yl)(T)&&!T.altKey&&T.key==="Enter"&&!T.shiftKey&&S&&re.contains(S)&&S.nextElementSibling)return re&&!re.textContent.endsWith(`
`)&&re.insertAdjacentText("beforeend",`
`),y.insertNode(document.createTextNode(`

`)),y.collapse(!1),Jt(_),T.preventDefault(),!0;if(!(0,f.yl)(T)&&!T.shiftKey&&!T.altKey&&T.key==="Backspace"&&!re.previousElementSibling&&y.toString()===""&&(0,z.im)(re,_[_.currentMode].element,y).start===0)return re.nextElementSibling?(re.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(re.innerHTML,"</p>")),re.remove()):re.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(re.innerHTML,"</p>"),(0,z.ib)(_[_.currentMode].element,y),Jt(_),T.preventDefault(),!0;if(!(0,f.yl)(T)&&!T.shiftKey&&!T.altKey&&T.key==="Backspace"&&re.textContent.trim().replace(s.g.ZWSP,"")===""&&y.toString()===""&&((I=re.previousElementSibling)===null||I===void 0?void 0:I.tagName)==="LI")return re.previousElementSibling.insertAdjacentText("beforeend",`

`),y.selectNodeContents(re.previousElementSibling),y.collapse(!1),re.remove(),(0,z.ib)(_[_.currentMode].element,y),Jt(_),T.preventDefault(),!0;if(!(0,f.yl)(T)&&!T.altKey&&T.key==="Tab"){var ue=!1;if((y.startOffset===0&&(B.nodeType===3&&!B.previousSibling||B.nodeType!==3&&B.nodeName==="LI")||re.classList.contains("vditor-task")&&y.startOffset===1&&B.previousSibling.nodeType!==3&&B.previousSibling.tagName==="INPUT")&&(ue=!0),ue||y.toString()!=="")return T.shiftKey?Vp(_,re,y,re.parentElement):oa(_,re,y),T.preventDefault(),!0}}return!1},oc=function(y,_,S){if(y.options.tab&&S.key==="Tab")return S.shiftKey||(_.toString()===""?(_.insertNode(document.createTextNode(y.options.tab)),_.collapse(!1)):(_.extractContents(),_.insertNode(document.createTextNode(y.options.tab)),_.collapse(!1))),(0,z.Hc)(_),Jt(y),S.preventDefault(),!0},zs=function(y,_,S,T){if(S){if(!(0,f.yl)(y)&&!y.altKey&&y.key==="Enter"){var I=String.raw(qA||(qA=Ta(["",""],["",""])),S.textContent).replace(/\\\|/g,"").trim(),B=I.split("|");if(I.startsWith("|")&&I.endsWith("|")&&B.length>3){var re=B.map(function(){return"---"}).join("|");return re=S.textContent+`
`+re.substring(3,re.length-3)+`
|<wbr>`,S.outerHTML=_.lute.SpinVditorDOM(re),(0,z.ib)(_[_.currentMode].element,T),Jt(_),en(_),y.preventDefault(),!0}if(vn(S.innerHTML)&&S.previousElementSibling){var ue="",fe=S.innerHTML.trimRight().split(`
`);return fe.length>1&&(fe.pop(),ue='<p data-block="0">'.concat(fe.join(`
`),"</p>")),S.insertAdjacentHTML("afterend","".concat(ue,`<hr data-block="0"><p data-block="0"><wbr>
</p>`)),S.remove(),(0,z.ib)(_[_.currentMode].element,T),Jt(_),en(_),y.preventDefault(),!0}if(Hh(S.innerHTML))return _.currentMode==="wysiwyg"?S.outerHTML=_.lute.SpinVditorDOM(S.innerHTML+`<p data-block="0"><wbr>
</p>`):S.outerHTML=_.lute.SpinVditorIRDOM(S.innerHTML+`<p data-block="0"><wbr>
</p>`),(0,z.ib)(_[_.currentMode].element,T),Jt(_),en(_),y.preventDefault(),!0}if(T.collapsed&&S.previousElementSibling&&y.key==="Backspace"&&!(0,f.yl)(y)&&!y.altKey&&!y.shiftKey&&S.textContent.trimRight().split(`
`).length>1&&(0,z.im)(S,_[_.currentMode].element,T).start===0){var ce=(0,w.DX)(S.previousElementSibling);return ce.textContent.endsWith(`
`)||(ce.textContent=ce.textContent+`
`),ce.parentElement.insertAdjacentHTML("beforeend","<wbr>".concat(S.innerHTML)),S.remove(),(0,z.ib)(_[_.currentMode].element,T),!1}return!1}},Bh=function(y,_,S){for(var T="",I=0;I<S.parentElement.childElementCount;I++)T+='<td align="'.concat(S.parentElement.children[I].getAttribute("align"),'"> </td>');S.tagName==="TH"?S.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>".concat(T,"</tr></tbody>")):S.parentElement.insertAdjacentHTML("afterend","<tr>".concat(T,"</tr>")),Jt(y)},$h=function(y,_,S){for(var T="",I=0;I<S.parentElement.childElementCount;I++)S.tagName==="TH"?T+='<th align="'.concat(S.parentElement.children[I].getAttribute("align"),'"> </th>'):T+='<td align="'.concat(S.parentElement.children[I].getAttribute("align"),'"> </td>');if(S.tagName==="TH"){S.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>".concat(T,"</tr></thead>")),_.insertNode(document.createElement("wbr"));var B=S.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");S.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",B),S.parentElement.parentElement.remove(),(0,z.ib)(y.ir.element,_)}else S.parentElement.insertAdjacentHTML("beforebegin","<tr>".concat(T,"</tr>"));Jt(y)},Ct=function(y,_,S,T){T===void 0&&(T="afterend");for(var I=0,B=S.previousElementSibling;B;)I++,B=B.previousElementSibling;for(var re=0;re<_.rows.length;re++)re===0?_.rows[re].cells[I].insertAdjacentHTML(T,"<th> </th>"):_.rows[re].cells[I].insertAdjacentHTML(T,"<td> </td>");Jt(y)},Vt=function(y,_,S){if(S.tagName==="TD"){var T=S.parentElement.parentElement;S.parentElement.previousElementSibling?_.selectNodeContents(S.parentElement.previousElementSibling.lastElementChild):_.selectNodeContents(T.previousElementSibling.lastElementChild.lastElementChild),T.childElementCount===1?T.remove():S.parentElement.remove(),_.collapse(!1),(0,z.Hc)(_),Jt(y)}},xn=function(y,_,S,T){for(var I=0,B=T.previousElementSibling;B;)I++,B=B.previousElementSibling;(T.previousElementSibling||T.nextElementSibling)&&(_.selectNodeContents(T.previousElementSibling||T.nextElementSibling),_.collapse(!0));for(var re=0;re<S.rows.length;re++){var ue=S.rows[re].cells;if(ue.length===1){S.remove(),Gn(y);break}ue[I].remove()}(0,z.Hc)(_),Jt(y)},ci=function(y,_,S){var T=S.startContainer,I=(0,w.lG)(T,"TD")||(0,w.lG)(T,"TH");if(I){if(!(0,f.yl)(_)&&!_.altKey&&_.key==="Enter"){(!I.lastElementChild||I.lastElementChild&&(!I.lastElementChild.isSameNode(I.lastChild)||I.lastElementChild.tagName!=="BR"))&&I.insertAdjacentHTML("beforeend","<br>");var B=document.createElement("br");return S.insertNode(B),S.setStartAfter(B),Jt(y),en(y),_.preventDefault(),!0}if(_.key==="Tab"){if(_.shiftKey)return y_(I,S),_.preventDefault(),!0;var re=I.nextElementSibling;return re||(I.parentElement.nextElementSibling?re=I.parentElement.nextElementSibling.firstElementChild:I.parentElement.parentElement.tagName==="THEAD"&&I.parentElement.parentElement.nextElementSibling?re=I.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:re=null),re&&(S.selectNodeContents(re),(0,z.Hc)(S)),_.preventDefault(),!0}var ue=I.parentElement.parentElement.parentElement;if(_.key==="ArrowUp"){if(_.preventDefault(),I.tagName==="TH")return ue.previousElementSibling?(S.selectNodeContents(ue.previousElementSibling),S.collapse(!1),(0,z.Hc)(S)):ic(y,"beforebegin"),!0;for(var fe=0,ce=I.parentElement;fe<ce.cells.length&&!ce.cells[fe].isSameNode(I);fe++);var _e=ce.previousElementSibling;return _e||(_e=ce.parentElement.previousElementSibling.firstChild),S.selectNodeContents(_e.cells[fe]),S.collapse(!1),(0,z.Hc)(S),!0}if(_.key==="ArrowDown"){_.preventDefault();var ce=I.parentElement;if(!ce.nextElementSibling&&I.tagName==="TD")return ue.nextElementSibling?(S.selectNodeContents(ue.nextElementSibling),S.collapse(!0),(0,z.Hc)(S)):ic(y,"afterend"),!0;for(var fe=0;fe<ce.cells.length&&!ce.cells[fe].isSameNode(I);fe++);var re=ce.nextElementSibling;return re||(re=ce.parentElement.nextElementSibling.firstChild),S.selectNodeContents(re.cells[fe]),S.collapse(!0),(0,z.Hc)(S),!0}if(y.currentMode==="wysiwyg"&&!(0,f.yl)(_)&&_.key==="Enter"&&!_.shiftKey&&_.altKey){var Ie=y.wysiwyg.popover.querySelector(".vditor-input");return Ie.focus(),Ie.select(),_.preventDefault(),!0}if(!(0,f.yl)(_)&&!_.shiftKey&&!_.altKey&&_.key==="Backspace"&&S.startOffset===0&&S.toString()===""){var ht=y_(I,S,!1);return!ht&&ue&&(ue.textContent.trim()===""?(ue.outerHTML=`<p data-block="0"><wbr>
</p>`,(0,z.ib)(y[y.currentMode].element,S)):(S.setStartBefore(ue),S.collapse(!0)),Jt(y)),_.preventDefault(),!0}if($("⇧⌘F",_))return $h(y,S,I),_.preventDefault(),!0;if($("⌘=",_))return Bh(y,S,I),_.preventDefault(),!0;if($("⇧⌘G",_))return Ct(y,ue,I,"beforebegin"),_.preventDefault(),!0;if($("⇧⌘=",_))return Ct(y,ue,I),_.preventDefault(),!0;if($("⌘-",_))return Vt(y,S,I),_.preventDefault(),!0;if($("⇧⌘-",_))return xn(y,S,ue,I),_.preventDefault(),!0;if($("⇧⌘L",_)){if(y.currentMode==="ir")return rc(ue,"left"),Jt(y),_.preventDefault(),!0;var vt=y.wysiwyg.popover.querySelector('[data-type="left"]');if(vt)return vt.click(),_.preventDefault(),!0}if($("⇧⌘C",_)){if(y.currentMode==="ir")return rc(ue,"center"),Jt(y),_.preventDefault(),!0;var vt=y.wysiwyg.popover.querySelector('[data-type="center"]');if(vt)return vt.click(),_.preventDefault(),!0}if($("⇧⌘R",_)){if(y.currentMode==="ir")return rc(ue,"right"),Jt(y),_.preventDefault(),!0;var vt=y.wysiwyg.popover.querySelector('[data-type="right"]');if(vt)return vt.click(),_.preventDefault(),!0}}return!1},Cr=function(y,_,S,T){if(S.tagName==="PRE"&&$("⌘A",_))return T.selectNodeContents(S.firstElementChild),_.preventDefault(),!0;if(y.options.tab&&_.key==="Tab"&&!_.shiftKey&&T.toString()==="")return T.insertNode(document.createTextNode(y.options.tab)),T.collapse(!1),Jt(y),_.preventDefault(),!0;if(_.key==="Backspace"&&!(0,f.yl)(_)&&!_.shiftKey&&!_.altKey){var I=(0,z.im)(S,y[y.currentMode].element,T);if((I.start===0||I.start===1&&S.innerText===`
`)&&T.toString()==="")return S.parentElement.outerHTML='<p data-block="0"><wbr>'.concat(S.firstElementChild.innerHTML,"</p>"),(0,z.ib)(y[y.currentMode].element,T),Jt(y),_.preventDefault(),!0}return!(0,f.yl)(_)&&!_.altKey&&_.key==="Enter"?(S.firstElementChild.textContent.endsWith(`
`)||S.firstElementChild.insertAdjacentText("beforeend",`
`),T.extractContents(),T.insertNode(document.createTextNode(`
`)),T.collapse(!1),(0,z.Hc)(T),(0,f.vU)()||(y.currentMode==="wysiwyg"?Ir(y,T):J(y,T)),en(y),_.preventDefault(),!0):!1},Ia=function(y,_,S,T){var I=_.startContainer,B=(0,w.lG)(I,"BLOCKQUOTE");if(B&&_.toString()===""){if(S.key==="Backspace"&&!(0,f.yl)(S)&&!S.shiftKey&&!S.altKey&&(0,z.im)(B,y[y.currentMode].element,_).start===0)return _.insertNode(document.createElement("wbr")),B.outerHTML=B.innerHTML,(0,z.ib)(y[y.currentMode].element,_),Jt(y),S.preventDefault(),!0;if(T&&S.key==="Enter"&&!(0,f.yl)(S)&&!S.shiftKey&&!S.altKey&&T.parentElement.tagName==="BLOCKQUOTE"){var re=!1;if(T.innerHTML.replace(s.g.ZWSP,"")===`
`||T.innerHTML.replace(s.g.ZWSP,"")===""?(re=!0,T.remove()):T.innerHTML.endsWith(`

`)&&(0,z.im)(T,y[y.currentMode].element,_).start===T.textContent.length-1&&(T.innerHTML=T.innerHTML.substr(0,T.innerHTML.length-2),re=!0),re)return B.insertAdjacentHTML("afterend",'<p data-block="0">'.concat(s.g.ZWSP,`<wbr>
</p>`)),(0,z.ib)(y[y.currentMode].element,_),Jt(y),S.preventDefault(),!0}var ue=(0,w.F9)(I);if(y.currentMode==="wysiwyg"&&ue&&$("⇧⌘;",S))return _.insertNode(document.createElement("wbr")),ue.outerHTML='<blockquote data-block="0">'.concat(ue.outerHTML,"</blockquote>"),(0,z.ib)(y.wysiwyg.element,_),De(y),S.preventDefault(),!0;if(xd(y,S,_,B,B)||ds(y,S,_,B,B))return!0}return!1},__=function(y,_,S){var T=_.startContainer,I=(0,w.lG)(T,"li");if(I&&I.classList.contains("vditor-task")){if($("⇧⌘J",S)){var B=I.firstElementChild;return B.checked?B.removeAttribute("checked"):B.setAttribute("checked","checked"),Jt(y),S.preventDefault(),!0}if(S.key==="Backspace"&&!(0,f.yl)(S)&&!S.shiftKey&&!S.altKey&&_.toString()===""&&_.startOffset===1&&(T.nodeType===3&&T.previousSibling&&T.previousSibling.tagName==="INPUT"||T.nodeType!==3)){var re=I.previousElementSibling;if(I.querySelector("input").remove(),re){var ue=(0,w.DX)(re);ue.parentElement.insertAdjacentHTML("beforeend","<wbr>"+I.innerHTML.trim()),I.remove()}else I.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'.concat(I.innerHTML.trim()||`
`,"</p>")),I.nextElementSibling?I.remove():I.parentElement.remove();return(0,z.ib)(y[y.currentMode].element,_),Jt(y),S.preventDefault(),!0}if(S.key==="Enter"&&!(0,f.yl)(S)&&!S.shiftKey&&!S.altKey){if(I.textContent.trim()==="")if((0,w.fb)(I.parentElement,"vditor-task")){var fe=(0,w.O9)(T);fe&&Vp(y,I,_,fe)}else if(I.nextElementSibling){var ce="",_e="",Ie=!1;Array.from(I.parentElement.children).forEach(function(Mt){I.isSameNode(Mt)?Ie=!0:Ie?ce+=Mt.outerHTML:_e+=Mt.outerHTML});var ht=I.parentElement.tagName,vt=I.parentElement.tagName==="OL"?"":' data-marker="'.concat(I.parentElement.getAttribute("data-marker"),'"'),it="";_e&&(it=I.parentElement.tagName==="UL"?"":' start="1"',_e="<".concat(ht,' data-tight="true"').concat(vt,' data-block="0">').concat(_e,"</").concat(ht,">")),I.parentElement.outerHTML="".concat(_e,`<p data-block="0"><wbr>
</p><`).concat(ht,`
 data-tight="true"`).concat(vt,' data-block="0"').concat(it,">").concat(ce,"</").concat(ht,">")}else I.parentElement.insertAdjacentHTML("afterend",`<p data-block="0"><wbr>
</p>`),I.parentElement.querySelectorAll("li").length===1?I.parentElement.remove():I.remove();else T.nodeType!==3&&_.startOffset===0&&T.firstChild.tagName==="INPUT"?_.setStart(T.childNodes[1],1):(_.setEndAfter(I.lastChild),I.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'.concat(I.getAttribute("data-marker"),'"><input type="checkbox"> <wbr></li>')),document.querySelector("wbr").after(_.extractContents()));return(0,z.ib)(y[y.currentMode].element,_),Jt(y),en(y),S.preventDefault(),!0}}return!1},w_=function(y,_,S,T){if(_.startContainer.nodeType!==3){var I=_.startContainer.children[_.startOffset];if(I&&I.tagName==="HR")return _.selectNodeContents(I.previousElementSibling),_.collapse(!1),S.preventDefault(),!0}if(T){var B=T.previousElementSibling;if(B&&(0,z.im)(T,y[y.currentMode].element,_).start===0&&((0,f.vU)()&&B.tagName==="HR"||B.tagName==="TABLE")){if(B.tagName==="TABLE"){var re=B.lastElementChild.lastElementChild.lastElementChild;re.innerHTML=re.innerHTML.trimLeft()+"<wbr>"+T.textContent.trim(),T.remove()}else B.remove();return(0,z.ib)(y[y.currentMode].element,_),Jt(y),S.preventDefault(),!0}}return!1},UA=function(y){(0,f.vU)()&&y.startContainer.nodeType!==3&&y.startContainer.tagName==="HR"&&y.setStartBefore(y.startContainer)},KA=function(y,_,S){var T,I;if(!(0,f.vU)())return!1;if(y.key==="ArrowUp"&&_&&((T=_.previousElementSibling)===null||T===void 0?void 0:T.tagName)==="TABLE"){var B=_.previousElementSibling;return S.selectNodeContents(B.rows[B.rows.length-1].lastElementChild),S.collapse(!1),y.preventDefault(),!0}return y.key==="ArrowDown"&&_&&((I=_.nextElementSibling)===null||I===void 0?void 0:I.tagName)==="TABLE"?(S.selectNodeContents(_.nextElementSibling.rows[0].cells[0]),S.collapse(!0),y.preventDefault(),!0):!1},C_=function(y,_,S){return nc(void 0,void 0,void 0,function(){var T,I,B,re,ue,fe,ce,_e,Ie,ht,vt,it,Mt,nt,wt,nt,Gt;return jr(this,function(Tt){switch(Tt.label){case 0:return y[y.currentMode].element.getAttribute("contenteditable")!=="true"?[2]:(_.stopPropagation(),_.preventDefault(),"clipboardData"in _?(T=_.clipboardData.getData("text/html"),I=_.clipboardData.getData("text/plain"),B=_.clipboardData.files):(T=_.dataTransfer.getData("text/html"),I=_.dataTransfer.getData("text/plain"),_.dataTransfer.types.includes("Files")&&(B=_.dataTransfer.items)),re={},ue=function(un,Pi){if(!Pi)return["",Lute.WalkContinue];if(y.options.upload.renderLinkDest)return y.options.upload.renderLinkDest(y,un,Pi);var Ci=un.TokensStr();if(un.__internal_object__.Parent.Type===34&&Ci&&Ci.indexOf("file://")===-1&&y.options.upload.linkToImgUrl){var Mi=new XMLHttpRequest;Mi.open("POST",y.options.upload.linkToImgUrl),y.options.upload.token&&Mi.setRequestHeader("X-Upload-Token",y.options.upload.token),y.options.upload.withCredentials&&(Mi.withCredentials=!0),ui(y,Mi),Mi.setRequestHeader("Content-Type","application/json; charset=utf-8"),Mi.onreadystatechange=function(){if(Mi.readyState===XMLHttpRequest.DONE){if(Mi.status===200){var Io=Mi.responseText;y.options.upload.linkToImgFormat&&(Io=y.options.upload.linkToImgFormat(Mi.responseText));var Hr=JSON.parse(Io);if(Hr.code!==0){y.tip.show(Hr.msg);return}var Lo=Hr.data.originalURL;if(y.currentMode==="sv")y.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach(function(hr){hr.textContent===Lo&&(hr.textContent=Hr.data.url)});else{var Pn=y[y.currentMode].element.querySelector('img[src="'.concat(Lo,'"]'));Pn.src=Hr.data.url,y.currentMode==="ir"&&(Pn.previousElementSibling.previousElementSibling.innerHTML=Hr.data.url)}Jt(y)}else y.tip.show(Mi.responseText);y.options.upload.linkToImgCallback&&y.options.upload.linkToImgCallback(Mi.responseText)}},Mi.send(JSON.stringify({url:Ci}))}return y.currentMode==="ir"?['<span class="vditor-ir__marker vditor-ir__marker--link">'.concat(Lute.EscapeHTMLStr(Ci),"</span>"),Lute.WalkContinue]:y.currentMode==="wysiwyg"?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'.concat(Lute.EscapeHTMLStr(Ci),"</span>"),Lute.WalkContinue]},(T.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<a href="'.concat(I,'">').concat(I,"</a>")||T.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/ig,"").trim()==='<!--StartFragment--><a href="'.concat(I,'">').concat(I,"</a><!--EndFragment-->"))&&(T=""),fe=new DOMParser().parseFromString(T,"text/html"),fe.body&&(T=fe.body.innerHTML),T=Lute.Sanitize(T),y.wysiwyg.getComments(y),ce=y[y.currentMode].element.scrollHeight,_e=q(T,I,y.currentMode),Ie=y.currentMode==="sv"?(0,w.a1)(_.target,"data-type","code-block"):(0,w.lG)(_.target,"CODE"),Ie?(y.currentMode==="sv"?document.execCommand("insertHTML",!1,I.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(ht=(0,z.im)(_.target,y[y.currentMode].element),Ie.parentElement.tagName!=="PRE"&&(I+=s.g.ZWSP),Ie.textContent=Ie.textContent.substring(0,ht.start)+I+Ie.textContent.substring(ht.end),(0,z.$j)(ht.start+I.length,ht.start+I.length,Ie.parentElement),!((Gt=Ie.parentElement)===null||Gt===void 0)&&Gt.nextElementSibling.classList.contains("vditor-".concat(y.currentMode,"__preview"))&&(Ie.parentElement.nextElementSibling.innerHTML=Ie.outerHTML,Z(Ie.parentElement.nextElementSibling,y))),[3,8]):[3,1]);case 1:return _e?(S.pasteCode(_e),[3,8]):[3,2];case 2:return T.trim()===""?[3,3]:(vt=document.createElement("div"),vt.innerHTML=T,vt.querySelectorAll("[style]").forEach(function(un){un.removeAttribute("style")}),vt.querySelectorAll(".vditor-copy").forEach(function(un){un.remove()}),y.currentMode==="ir"?(re.HTML2VditorIRDOM={renderLinkDest:ue},y.lute.SetJSRenderers({renderers:re}),(0,z.oC)(y.lute.HTML2VditorIRDOM(vt.innerHTML),y)):y.currentMode==="wysiwyg"?(re.HTML2VditorDOM={renderLinkDest:ue},y.lute.SetJSRenderers({renderers:re}),(0,z.oC)(y.lute.HTML2VditorDOM(vt.innerHTML),y)):(re.Md2VditorSVDOM={renderLinkDest:ue},y.lute.SetJSRenderers({renderers:re}),Hl(y,y.lute.HTML2Md(vt.innerHTML).trimRight())),y.outline.render(y),[3,8]);case 3:return B.length>0?y.options.upload.url||y.options.upload.handler?[4,_i(y,B)]:[3,5]:[3,7];case 4:return Tt.sent(),[3,6];case 5:it=new FileReader,"clipboardData"in _?(B=_.clipboardData.files,Mt=B[0]):_.dataTransfer.types.includes("Files")&&(B=_.dataTransfer.items,Mt=B[0].getAsFile()),Mt&&Mt.type.startsWith("image")&&(it.readAsDataURL(Mt),it.onload=function(){var un="";y.currentMode==="wysiwyg"?un+='<img alt="'.concat(Mt.name,'" src="').concat(it.result.toString(),`">
`):un+="![".concat(Mt.name,"](").concat(it.result.toString(),`)
`),document.execCommand("insertHTML",!1,un)}),Tt.label=6;case 6:return[3,8];case 7:I.trim()!==""&&B.length===0&&(nt=(0,z.zh)(y),nt.toString()!==""&&y.lute.IsValidLinkDest(I)&&(I="[".concat(nt.toString(),"](").concat(I,")")),y.currentMode==="ir"?(re.Md2VditorIRDOM={renderLinkDest:ue},y.lute.SetJSRenderers({renderers:re}),(0,z.oC)(y.lute.Md2VditorIRDOM(I),y)):y.currentMode==="wysiwyg"?(re.Md2VditorDOM={renderLinkDest:ue},y.lute.SetJSRenderers({renderers:re}),(0,z.oC)(y.lute.Md2VditorDOM(I),y)):(re.Md2VditorSVDOM={renderLinkDest:ue},y.lute.SetJSRenderers({renderers:re}),Hl(y,I)),y.outline.render(y)),Tt.label=8;case 8:return y.currentMode!=="sv"&&(wt=(0,w.F9)((0,z.zh)(y).startContainer),wt&&(nt=(0,z.zh)(y),y[y.currentMode].element.querySelectorAll("wbr").forEach(function(un){un.remove()}),nt.insertNode(document.createElement("wbr")),y.currentMode==="wysiwyg"?wt.outerHTML=y.lute.SpinVditorDOM(wt.outerHTML):wt.outerHTML=y.lute.SpinVditorIRDOM(wt.outerHTML),(0,z.ib)(y[y.currentMode].element,nt)),y[y.currentMode].element.querySelectorAll(".vditor-".concat(y.currentMode,"__preview[data-render='2']")).forEach(function(un){Z(un,y)})),y.wysiwyg.triggerRemoveComment(y),Jt(y),y[y.currentMode].element.scrollHeight-ce>Math.min(y[y.currentMode].element.clientHeight,window.innerHeight)/2&&en(y),[2]}})})},qA,GA=function(y){var _,S;y.hint.render(y);var T=(0,z.zh)(y).startContainer,I=(0,w.a1)(T,"data-type","code-block-info");if(I)if(I.textContent.replace(s.g.ZWSP,"")===""&&y.hint.recentLanguage){I.textContent=s.g.ZWSP+y.hint.recentLanguage;var B=(0,z.zh)(y);B.selectNodeContents(I)}else{var re=[],ue=I.textContent.substring(0,(0,z.im)(I,y.ir.element).start).replace(s.g.ZWSP,"");(y.options.preview.hljs.langs||s.g.ALIAS_CODE_LANGUAGES.concat(((S=(_=window.hljs)===null||_===void 0?void 0:_.listLanguages())!==null&&S!==void 0?S:[]).sort())).forEach(function(fe){fe.indexOf(ue.toLowerCase())>-1&&re.push({html:fe,value:fe})}),y.hint.genHTML(re,ue,y)}},Bl=function(y,_){_===void 0&&(_={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),_.enableHint&&GA(y),clearTimeout(y.ir.processTimeoutId),y.ir.processTimeoutId=window.setTimeout(function(){if(!y.ir.composingLock){var S=u(y);typeof y.options.input=="function"&&_.enableInput&&y.options.input(S),y.options.counter.enable&&y.counter.render(y,S),y.options.cache.enable&&(0,f.pK)()&&(localStorage.setItem(y.options.cache.id,S),y.options.cache.after&&y.options.cache.after(S)),y.devtools&&y.devtools.renderEchart(y),_.enableAddUndoStack&&y.undo.addToUndoStack(y)}},y.options.undoDelay)},Wp=function(y,_){var S=(0,z.zh)(y),T=(0,w.F9)(S.startContainer)||S.startContainer;if(T){var I=T.querySelector(".vditor-ir__marker--heading");I?I.innerHTML=_:(T.insertAdjacentText("afterbegin",_),S.selectNodeContents(T),S.collapse(!1)),J(y,S.cloneRange()),Ae(y)}},S_=function(y,_,S){var T=(0,w.a1)(y.startContainer,"data-type",S);if(T){T.firstElementChild.remove(),T.lastElementChild.remove(),y.insertNode(document.createElement("wbr"));var I=document.createElement("div");I.innerHTML=_.lute.SpinVditorIRDOM(T.outerHTML),T.outerHTML=I.firstElementChild.innerHTML.trim()}},DZ=function(y,_,S,T){var I=(0,z.zh)(y),B=_.getAttribute("data-type"),re=I.startContainer;re.nodeType===3&&(re=re.parentElement);var ue=!0;if(_.classList.contains("vditor-menu--current"))if(B==="quote"){var fe=(0,w.lG)(re,"BLOCKQUOTE");fe&&(I.insertNode(document.createElement("wbr")),fe.outerHTML=fe.innerHTML.trim()===""?'<p data-block="0">'.concat(fe.innerHTML,"</p>"):fe.innerHTML)}else if(B==="link"){var ce=(0,w.a1)(I.startContainer,"data-type","a");if(ce){var _e=(0,w.fb)(I.startContainer,"vditor-ir__link");_e?(I.insertNode(document.createElement("wbr")),ce.outerHTML=_e.innerHTML):ce.outerHTML=ce.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else B==="italic"?S_(I,y,"em"):B==="bold"?S_(I,y,"strong"):B==="strike"?S_(I,y,"s"):B==="inline-code"?S_(I,y,"code"):(B==="check"||B==="list"||B==="ordered-list")&&(Ed(y,I,B),ue=!1,_.classList.remove("vditor-menu--current"));else{y.ir.element.childNodes.length===0&&(y.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,z.ib)(y.ir.element,I));var Ie=(0,w.F9)(I.startContainer);if(B==="line"){if(Ie){var ht=`<hr data-block="0"><p data-block="0"><wbr>
</p>`;Ie.innerHTML.trim()===""?Ie.outerHTML=ht:Ie.insertAdjacentHTML("afterend",ht)}}else if(B==="quote")Ie&&(I.insertNode(document.createElement("wbr")),Ie.outerHTML='<blockquote data-block="0">'.concat(Ie.outerHTML,"</blockquote>"),ue=!1,_.classList.add("vditor-menu--current"));else if(B==="link"){var vt=void 0;I.toString()===""?vt="".concat(S,"<wbr>").concat(T):vt="".concat(S).concat(I.toString()).concat(T.replace(")","<wbr>)")),document.execCommand("insertHTML",!1,vt),ue=!1,_.classList.add("vditor-menu--current")}else if(B==="italic"||B==="bold"||B==="strike"||B==="inline-code"||B==="code"||B==="table"){var vt=void 0;I.toString()===""?vt="".concat(S,"<wbr>").concat(T):(B==="code"?vt="".concat(S,`
`).concat(I.toString(),"<wbr>").concat(T):B==="table"?vt="".concat(S).concat(I.toString(),"<wbr>").concat(T):vt="".concat(S).concat(I.toString()).concat(T,"<wbr>"),I.deleteContents()),(B==="table"||B==="code")&&(vt=`
`+vt+`

`);var it=document.createElement("span");it.innerHTML=vt,I.insertNode(it),J(y,I),B==="table"&&(I.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,z.Hc)(I))}else(B==="check"||B==="list"||B==="ordered-list")&&(Ed(y,I,B,!1),ue=!1,h(y.toolbar.elements,["check","list","ordered-list"]),_.classList.add("vditor-menu--current"))}(0,z.ib)(y.ir.element,I),Bl(y),ue&&Ae(y)},TZ=function(y,_,S,T){function I(B){return B instanceof S?B:new S(function(re){re(B)})}return new(S||(S=Promise))(function(B,re){function ue(_e){try{ce(T.next(_e))}catch(Ie){re(Ie)}}function fe(_e){try{ce(T.throw(_e))}catch(Ie){re(Ie)}}function ce(_e){_e.done?B(_e.value):I(_e.value).then(ue,fe)}ce((T=T.apply(y,_||[])).next())})},IZ=function(y,_){var S={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},T,I,B,re;return re={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(re[Symbol.iterator]=function(){return this}),re;function ue(ce){return function(_e){return fe([ce,_e])}}function fe(ce){if(T)throw new TypeError("Generator is already executing.");for(;re&&(re=0,ce[0]&&(S=0)),S;)try{if(T=1,I&&(B=ce[0]&2?I.return:ce[0]?I.throw||((B=I.return)&&B.call(I),0):I.next)&&!(B=B.call(I,ce[1])).done)return B;switch(I=0,B&&(ce=[ce[0]&2,B.value]),ce[0]){case 0:case 1:B=ce;break;case 4:return S.label++,{value:ce[1],done:!1};case 5:S.label++,I=ce[1],ce=[0];continue;case 7:ce=S.ops.pop(),S.trys.pop();continue;default:if(B=S.trys,!(B=B.length>0&&B[B.length-1])&&(ce[0]===6||ce[0]===2)){S=0;continue}if(ce[0]===3&&(!B||ce[1]>B[0]&&ce[1]<B[3])){S.label=ce[1];break}if(ce[0]===6&&S.label<B[1]){S.label=B[1],B=ce;break}if(B&&S.label<B[2]){S.label=B[2],S.ops.push(ce);break}B[2]&&S.ops.pop(),S.trys.pop();continue}ce=_.call(y,S)}catch(_e){ce=[6,_e],I=0}finally{T=B=0}if(ce[0]&5)throw ce[1];return{value:ce[0]?ce[1]:void 0,done:!0}}},LZ=function(){function y(_){var S=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(T,I){S.element.style.display="none";var B=decodeURIComponent(T.getAttribute("data-value")),re=window.getSelection().getRangeAt(0);if(I.currentMode==="ir"){var ue=(0,w.a1)(re.startContainer,"data-type","code-block-info");if(ue){ue.textContent=s.g.ZWSP+B.trimRight(),re.selectNodeContents(ue),re.collapse(!1),Bl(I),ue.parentElement.querySelectorAll("code").forEach(function(Ie){Ie.className="language-"+B.trimRight()}),Z(ue.parentElement.querySelector(".vditor-ir__preview"),I),S.recentLanguage=B.trimRight();return}}if(I.currentMode==="wysiwyg"&&re.startContainer.nodeType!==3){var fe=re.startContainer,ce=void 0;if(fe.classList.contains("vditor-input")?ce=fe:ce=fe.firstElementChild,ce&&ce.classList.contains("vditor-input")){ce.value=B.trimRight(),re.selectNodeContents(ce),re.collapse(!1),ce.dispatchEvent(new CustomEvent("input",{detail:1})),S.recentLanguage=B.trimRight();return}}if(re.setStart(re.startContainer,S.lastIndex),re.deleteContents(),I.options.hint.parse?I.currentMode==="sv"?(0,z.oC)(I.lute.SpinVditorSVDOM(B),I):I.currentMode==="wysiwyg"?(0,z.oC)(I.lute.SpinVditorDOM(B),I):(0,z.oC)(I.lute.SpinVditorIRDOM(B),I):(0,z.oC)(B,I),S.splitChar===":"&&B.indexOf(":")>-1&&I.currentMode!=="sv"&&re.insertNode(document.createTextNode(" ")),re.collapse(!1),(0,z.Hc)(re),I.currentMode==="wysiwyg"){var _e=(0,w.fb)(re.startContainer,"vditor-wysiwyg__block");_e&&_e.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(_e.lastElementChild.innerHTML=_e.firstElementChild.innerHTML,Z(_e.lastElementChild,I))}else if(I.currentMode==="ir"){var _e=(0,w.fb)(re.startContainer,"vditor-ir__marker--pre");_e&&_e.nextElementSibling.classList.contains("vditor-ir__preview")&&(_e.nextElementSibling.innerHTML=_e.innerHTML,Z(_e.nextElementSibling,I))}Jt(I)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",_.push({key:":"})}return y.prototype.render=function(_){var S=this;if(window.getSelection().focusNode){var T,I=getSelection().getRangeAt(0);T=I.startContainer.textContent.substring(0,I.startOffset)||"";var B=this.getKey(T,_.options.hint.extend);if(typeof B>"u")this.element.style.display="none",clearTimeout(this.timeId);else if(this.splitChar===":"){var re=B===""?_.options.hint.emoji:_.lute.GetEmojis(),ue=[];Object.keys(re).forEach(function(fe){fe.indexOf(B.toLowerCase())===0&&(re[fe].indexOf(".")>-1?ue.push({html:'<img src="'.concat(re[fe],'" title=":').concat(fe,':"/> :').concat(fe,":"),value:":".concat(fe,":")}):ue.push({html:'<span class="vditor-hint__emoji">'.concat(re[fe],"</span>").concat(fe),value:re[fe]}))}),this.genHTML(ue,B,_)}else _.options.hint.extend.forEach(function(fe){fe.key===S.splitChar&&(clearTimeout(S.timeId),S.timeId=window.setTimeout(function(){return TZ(S,void 0,void 0,function(){var ce;return IZ(this,function(_e){switch(_e.label){case 0:return ce=this.genHTML,[4,fe.hint(B)];case 1:return ce.apply(this,[_e.sent(),B,_]),[2]}})})},_.options.hint.delay))})}},y.prototype.genHTML=function(_,S,T){var I=this;if(_.length===0){this.element.style.display="none";return}var B=T[T.currentMode].element,re=(0,z.Ny)(B),ue=re.left+(T.options.outline.position==="left"?T.outline.element.offsetWidth:0),fe=re.top,ce="";_.forEach(function(Ie,ht){if(!(ht>7)){var vt=Ie.html;if(S!==""){var it=vt.lastIndexOf(">")+1,Mt=vt.substr(it),wt=Mt.toLowerCase().indexOf(S.toLowerCase());wt>-1&&(Mt=Mt.substring(0,wt)+"<b>"+Mt.substring(wt,wt+S.length)+"</b>"+Mt.substring(wt+S.length),vt=vt.substr(0,it)+Mt)}ce+='<button type="button" data-value="'.concat(encodeURIComponent(Ie.value),` "
`).concat(ht===0?"class='vditor-hint--current'":"","> ").concat(vt,"</button>")}}),this.element.innerHTML=ce;var _e=parseInt(document.defaultView.getComputedStyle(B,null).getPropertyValue("line-height"),10);this.element.style.top="".concat(fe+(_e||22),"px"),this.element.style.left="".concat(ue,"px"),this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach(function(Ie){Ie.addEventListener("click",function(ht){I.fillEmoji(Ie,T),ht.preventDefault()})}),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top="".concat(fe-this.element.offsetHeight,"px")),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")},y.prototype.select=function(_,S){if(this.element.querySelectorAll("button").length===0||this.element.style.display==="none")return!1;var T=this.element.querySelector(".vditor-hint--current");if(_.key==="ArrowDown")return _.preventDefault(),_.stopPropagation(),T.removeAttribute("class"),T.nextElementSibling?T.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if(_.key==="ArrowUp"){if(_.preventDefault(),_.stopPropagation(),T.removeAttribute("class"),T.previousElementSibling)T.previousElementSibling.className="vditor-hint--current";else{var I=this.element.children.length;this.element.children[I-1].className="vditor-hint--current"}return!0}else if(!(0,f.yl)(_)&&!_.shiftKey&&!_.altKey&&_.key==="Enter"&&!_.isComposing)return _.preventDefault(),_.stopPropagation(),this.fillEmoji(T,S),!0;return!1},y.prototype.getKey=function(_,S){var T=this;this.lastIndex=-1,this.splitChar="",S.forEach(function(ce){var _e=_.lastIndexOf(ce.key);T.lastIndex<_e&&(T.splitChar=ce.key,T.lastIndex=_e)});var I;if(this.lastIndex===-1)return I;var B=_.split(this.splitChar),re=B[B.length-1],ue=32;if(B.length>1&&re.trim()===re)if(B.length===2&&B[0]===""&&B[1].length<ue)I=B[1];else{var fe=B[B.length-2].slice(-1);(0,l.X)(fe)===" "&&re.length<ue&&(I=re)}return I},y}(),MZ=function(){function y(_){this.composingLock=!1;var S=document.createElement("div");S.className="vditor-ir",S.innerHTML='<pre class="vditor-reset" placeholder="'.concat(_.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>`),this.element=S.firstElementChild,this.bindEvent(_),ka(_,this.element),Da(_,this.element),Xr(_,this.element),ia(_,this.element),cs(_,this.element),ta(_,this.element),Tr(_,this.element,this.copy),na(_,this.element,this.copy)}return y.prototype.copy=function(_,S){var T=getSelection().getRangeAt(0);if(T.toString()!==""){_.stopPropagation(),_.preventDefault();var I=document.createElement("div");I.appendChild(T.cloneContents()),_.clipboardData.setData("text/plain",S.lute.VditorIRDOM2Md(I.innerHTML).trim()),_.clipboardData.setData("text/html","")}},y.prototype.bindEvent=function(_){var S=this;this.element.addEventListener("paste",function(T){C_(_,T,{pasteCode:function(I){document.execCommand("insertHTML",!1,I)}})}),this.element.addEventListener("scroll",function(){C(_,["hint"])}),this.element.addEventListener("compositionstart",function(T){S.composingLock=!0}),this.element.addEventListener("compositionend",function(T){(0,f.vU)()||J(_,getSelection().getRangeAt(0).cloneRange()),S.composingLock=!1}),this.element.addEventListener("input",function(T){if(!(T.inputType==="deleteByDrag"||T.inputType==="insertFromDrop")){if(S.preventInput){S.preventInput=!1,Bl(_,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}S.composingLock||T.data==="‘"||T.data==="“"||T.data==="《"||J(_,getSelection().getRangeAt(0).cloneRange(),!1,T)}}),this.element.addEventListener("click",function(T){if(T.target.tagName==="INPUT"){T.target.checked?T.target.setAttribute("checked","checked"):T.target.removeAttribute("checked"),S.preventInput=!0,Bl(_);return}var I=(0,z.zh)(_),B=(0,w.fb)(T.target,"vditor-ir__preview");if(B||(B=(0,w.fb)(I.startContainer,"vditor-ir__preview")),B&&(B.previousElementSibling.firstElementChild?I.selectNodeContents(B.previousElementSibling.firstElementChild):I.selectNodeContents(B.previousElementSibling),I.collapse(!0),(0,z.Hc)(I),en(_)),T.target.tagName==="IMG"){var re=T.target.parentElement.querySelector(".vditor-ir__marker--link");re&&(I.selectNode(re),(0,z.Hc)(I))}var ue=(0,w.a1)(T.target,"data-type","a");if(ue&&!ue.classList.contains("vditor-ir__node--expand")){_.options.link.click?_.options.link.click(ue.querySelector(":scope > .vditor-ir__marker--link")):_.options.link.isOpen&&window.open(ue.querySelector(":scope > .vditor-ir__marker--link").textContent);return}if(T.target.isEqualNode(S.element)&&S.element.lastElementChild&&I.collapsed){var fe=S.element.lastElementChild.getBoundingClientRect();T.y>fe.top+fe.height&&(S.element.lastElementChild.tagName==="P"&&S.element.lastElementChild.textContent.trim().replace(s.g.ZWSP,"")===""?(I.selectNodeContents(S.element.lastElementChild),I.collapse(!1)):(S.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(s.g.ZWSP,"<wbr></p>")),(0,z.ib)(S.element,I)))}I.toString()===""?ae(I,_):setTimeout(function(){ae((0,z.zh)(_),_)}),ee(T,_),Ae(_)}),this.element.addEventListener("keyup",function(T){if(!(T.isComposing||(0,f.yl)(T))){if(T.key==="Enter"&&en(_),Ae(_),(T.key==="Backspace"||T.key==="Delete")&&_.ir.element.innerHTML!==""&&_.ir.element.childNodes.length===1&&_.ir.element.firstElementChild&&_.ir.element.firstElementChild.tagName==="P"&&_.ir.element.firstElementChild.childElementCount===0&&(_.ir.element.textContent===""||_.ir.element.textContent===`
`)){_.ir.element.innerHTML="";return}var I=(0,z.zh)(_);T.key==="Backspace"?((0,f.vU)()&&I.startContainer.textContent===`
`&&I.startOffset===1&&(I.startContainer.textContent="",ae(I,_)),S.element.querySelectorAll(".language-math").forEach(function(re){var ue=re.querySelector("br");ue&&ue.remove()})):T.key.indexOf("Arrow")>-1?((T.key==="ArrowLeft"||T.key==="ArrowRight")&&GA(_),ae(I,_)):T.keyCode===229&&T.code===""&&T.key==="Unidentified"&&ae(I,_);var B=(0,w.fb)(I.startContainer,"vditor-ir__preview");if(B){if(T.key==="ArrowUp"||T.key==="ArrowLeft")return B.previousElementSibling.firstElementChild?I.selectNodeContents(B.previousElementSibling.firstElementChild):I.selectNodeContents(B.previousElementSibling),I.collapse(!1),T.preventDefault(),!0;if(B.tagName==="SPAN"&&(T.key==="ArrowDown"||T.key==="ArrowRight"))return B.parentElement.getAttribute("data-type")==="html-entity"?(B.parentElement.insertAdjacentText("afterend",s.g.ZWSP),I.setStart(B.parentElement.nextSibling,1)):I.selectNodeContents(B.parentElement.lastElementChild),I.collapse(!1),T.preventDefault(),!0}}})},y}(),YA=function(y){if(y.currentMode==="sv")return y.lute.Md2HTML(u(y));if(y.currentMode==="wysiwyg")return y.lute.VditorDOM2HTML(y.wysiwyg.element.innerHTML);if(y.currentMode==="ir")return y.lute.VditorIRDOM2HTML(y.ir.element.innerHTML)},AZ=r(214),ZA=r(436),RZ=function(){function y(_){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'.concat(_,`</div>
<div class="vditor-outline__content"></div>`)}return y.prototype.render=function(_){var S="";return _.preview.element.style.display==="block"?S=(0,ZA.k)(_.preview.previewElement,this.element.lastElementChild,_):S=(0,ZA.k)(_[_.currentMode].element,this.element.lastElementChild,_),S},y.prototype.toggle=function(_,S,T){var I;S===void 0&&(S=!0),T===void 0&&(T=!0);var B=(I=_.toolbar.elements.outline)===null||I===void 0?void 0:I.firstElementChild;if(S&&window.innerWidth>=s.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(_),B==null||B.classList.add("vditor-menu--current")):(this.element.style.display="none",B==null||B.classList.remove("vditor-menu--current")),T&&getSelection().rangeCount>0){var re=getSelection().getRangeAt(0);_[_.currentMode].element.contains(re.startContainer)&&(0,z.Hc)(re)}Te(_)},y}(),NZ=r(280),FZ=function(){function y(_){var S=this;this.element=document.createElement("div"),this.element.className="vditor-preview",this.previewElement=document.createElement("div"),this.previewElement.className="vditor-reset",_.options.classes.preview&&this.previewElement.classList.add(_.options.classes.preview),this.previewElement.style.maxWidth=_.options.preview.maxWidth+"px",this.previewElement.addEventListener("copy",function(fe){if(fe.target.tagName!=="TEXTAREA"){var ce=document.createElement("div");ce.className="vditor-reset",ce.appendChild(getSelection().getRangeAt(0).cloneContents()),S.copyToX(_,ce,"default"),fe.preventDefault()}}),this.previewElement.addEventListener("click",function(fe){var ce=(0,w.lG)(fe.target,"SPAN");if(ce&&(0,w.fb)(ce,"vditor-toc")){var _e=S.previewElement.querySelector("#"+ce.getAttribute("data-target-id"));_e&&(S.element.scrollTop=_e.offsetTop);return}if(fe.target.tagName==="A"){_.options.link.click?_.options.link.click(fe.target):_.options.link.isOpen&&window.open(fe.target.getAttribute("href")),fe.preventDefault();return}fe.target.tagName==="IMG"&&(_.options.image.preview?_.options.image.preview(fe.target):_.options.image.isPreview&&(0,Q.E)(fe.target,_.options.lang,_.options.theme))}),this.element.appendChild(this.previewElement);var T=_.options.preview.actions;if(T.length!==0){var I=document.createElement("div");I.className="vditor-preview__action";for(var B=[],re=0;re<T.length;re++){var ue=T[re];if(typeof ue=="object"){B.push('<button type="button" data-type="'.concat(ue.key,'" class="').concat(ue.className,'"').concat(ue.tooltip?' aria-label="'.concat(ue.tooltip,'"'):"",'">').concat(ue.text,"</button>"));continue}switch(ue){case"desktop":B.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":B.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":B.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":B.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到公众号"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":B.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到知乎"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>');break}}I.innerHTML=B.join(""),I.addEventListener((0,f.Le)(),function(fe){var ce=(0,E.S)(fe.target,"BUTTON");if(ce){var _e=ce.getAttribute("data-type"),Ie=T.find(function(ht){return(ht==null?void 0:ht.key)===_e});if(Ie){Ie.click(_e);return}if(_e==="mp-wechat"||_e==="zhihu"){S.copyToX(_,S.previewElement.cloneNode(!0),_e);return}_e==="desktop"?S.previewElement.style.width="auto":_e==="tablet"?S.previewElement.style.width="780px":S.previewElement.style.width="360px",S.previewElement.scrollWidth>S.previewElement.parentElement.clientWidth&&(S.previewElement.style.width="auto"),S.render(_),I.querySelectorAll("button").forEach(function(ht){ht.classList.remove("vditor-preview__action--current")}),ce.classList.add("vditor-preview__action--current")}}),this.element.insertBefore(I,this.previewElement)}}return y.prototype.render=function(_,S){var T=this;if(clearTimeout(this.mdTimeoutId),this.element.style.display==="none"){this.element.getAttribute("data-type")==="renderPerformance"&&_.tip.hide();return}if(S){this.previewElement.innerHTML=S;return}if(u(_).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")===""){this.previewElement.innerHTML="";return}var I=new Date().getTime(),B=u(_);this.mdTimeoutId=window.setTimeout(function(){if(_.options.preview.url){var re=new XMLHttpRequest;re.open("POST",_.options.preview.url),re.setRequestHeader("Content-Type","application/json;charset=UTF-8"),re.onreadystatechange=function(){if(re.readyState===XMLHttpRequest.DONE)if(re.status===200){var fe=JSON.parse(re.responseText);if(fe.code!==0){_.tip.show(fe.msg);return}_.options.preview.transform&&(fe.data=_.options.preview.transform(fe.data)),T.previewElement.innerHTML=fe.data,T.afterRender(_,I)}else{var ce=_.lute.Md2HTML(B);_.options.preview.transform&&(ce=_.options.preview.transform(ce)),T.previewElement.innerHTML=ce,T.afterRender(_,I)}},re.send(JSON.stringify({markdownText:B}))}else{var ue=_.lute.Md2HTML(B);_.options.preview.transform&&(ue=_.options.preview.transform(ue)),T.previewElement.innerHTML=ue,T.afterRender(_,I)}},_.options.preview.delay)},y.prototype.afterRender=function(_,S){_.options.preview.parse&&_.options.preview.parse(this.element);var T=new Date().getTime()-S;new Date().getTime()-S>2600?(_.tip.show(window.VditorI18n.performanceTip.replace("${x}",T.toString())),_.preview.element.setAttribute("data-type","renderPerformance")):_.preview.element.getAttribute("data-type")==="renderPerformance"&&(_.tip.hide(),_.preview.element.removeAttribute("data-type"));var I=_.preview.element.querySelector(".vditor-comment--focus");I&&I.classList.remove("vditor-comment--focus"),(0,L.O)(_.preview.previewElement,_.options.preview.hljs),(0,j.s)(_.options.preview.hljs,_.preview.previewElement,_.options.cdn),(0,H.i)(_.preview.previewElement,_.options.cdn,_.options.theme),(0,N.K)(_.preview.previewElement,_.options.cdn),(0,U.J)(_.preview.previewElement,_.options.cdn,_.options.theme),(0,M.P)(_.preview.previewElement,_.options.cdn),(0,A.v)(_.preview.previewElement,_.options.cdn),(0,k.p)(_.preview.previewElement,_.options.cdn,_.options.theme),(0,F.P)(_.preview.previewElement,_.options.cdn,_.options.theme),(0,W.B)(_.preview.previewElement,_.options.cdn),(0,D.Q)(_.preview.previewElement,_.options.cdn),_.options.preview.render.media.enable&&(0,NZ.Y)(_.preview.previewElement),_.options.customRenders.forEach(function(ue){ue.render(_.preview.previewElement,_)});var B=_.preview.element,re=_.outline.render(_);re===""&&(re="[ToC]"),B.querySelectorAll('[data-type="toc-block"]').forEach(function(ue){ue.innerHTML=re,(0,V.H)(ue,{cdn:_.options.cdn,math:_.options.preview.math})}),(0,V.H)(_.preview.previewElement,{cdn:_.options.cdn,math:_.options.preview.math})},y.prototype.copyToX=function(_,S,T){T===void 0&&(T="mp-wechat"),T!=="zhihu"?S.querySelectorAll(".katex-html .base").forEach(function(B){B.style.display="initial"}):S.querySelectorAll(".language-math").forEach(function(B){B.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'.concat(B.getAttribute("data-math"),'\\" style="display: block; margin: 0 auto; max-width: 100%;">')}),S.style.backgroundColor="#fff",S.querySelectorAll("code").forEach(function(B){B.style.backgroundImage="none"}),this.element.append(S);var I=S.ownerDocument.createRange();I.selectNode(S),(0,z.Hc)(I),document.execCommand("copy"),S.remove(),_.tip.show(["zhihu","mp-wechat"].includes(T)?"已复制，可到".concat(T==="zhihu"?"知乎":"微信公众号平台","进行粘贴"):"已复制到剪切板")},y}(),jZ=function(){function y(_){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--".concat(_.options.resize.position),this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(_)}return y.prototype.bindEvent=function(_){var S=this;this.element.addEventListener("mousedown",function(T){var I=document,B=T.clientY,re=_.element.offsetHeight,ue=63+_.element.querySelector(".vditor-toolbar").clientHeight;I.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),S.element.classList.add("vditor-resize--selected"),I.onmousemove=function(fe){_.options.resize.position==="top"?_.element.style.height=Math.max(ue,re+(B-fe.clientY))+"px":_.element.style.height=Math.max(ue,re+(fe.clientY-B))+"px",_.options.typewriterMode&&(_.sv.element.style.paddingBottom=_.sv.element.parentElement.offsetHeight/2+"px")},I.onmouseup=function(){_.options.resize.after&&_.options.resize.after(_.element.offsetHeight-re),window.captureEvents&&window.captureEvents(),I.onmousemove=null,I.onmouseup=null,I.ondragstart=null,I.onselectstart=null,I.onselect=null,S.element.classList.remove("vditor-resize--selected")}})},y}(),HZ=function(){function y(_){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",_.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(_),ka(_,this.element),Xr(_,this.element),ia(_,this.element),cs(_,this.element),ta(_,this.element),Tr(_,this.element,this.copy),na(_,this.element,this.copy)}return y.prototype.copy=function(_,S){_.stopPropagation(),_.preventDefault(),_.clipboardData.setData("text/plain",er(S[S.currentMode].element))},y.prototype.bindEvent=function(_){var S=this;this.element.addEventListener("paste",function(T){C_(_,T,{pasteCode:function(I){document.execCommand("insertHTML",!1,I)}})}),this.element.addEventListener("scroll",function(){if(_.preview.element.style.display==="block"){var T=S.element.scrollTop,I=S.element.clientHeight,B=S.element.scrollHeight-parseFloat(S.element.style.paddingBottom||"0"),re=_.preview.element;T/I>.5?re.scrollTop=(T+I)*re.scrollHeight/B-I:re.scrollTop=T*re.scrollHeight/B}}),this.element.addEventListener("compositionstart",function(T){S.composingLock=!0}),this.element.addEventListener("compositionend",function(T){(0,f.vU)()||se(_,T),S.composingLock=!1}),this.element.addEventListener("input",function(T){if(!(T.inputType==="deleteByDrag"||T.inputType==="insertFromDrop")&&!(S.composingLock||T.data==="‘"||T.data==="“"||T.data==="《")){if(S.preventInput){S.preventInput=!1,Li(_,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0});return}se(_,T)}}),this.element.addEventListener("keyup",function(T){if(!(T.isComposing||(0,f.yl)(T))){if((T.key==="Backspace"||T.key==="Delete")&&_.sv.element.innerHTML!==""&&_.sv.element.childNodes.length===1&&_.sv.element.firstElementChild&&_.sv.element.firstElementChild.tagName==="DIV"&&_.sv.element.firstElementChild.childElementCount===2&&(_.sv.element.firstElementChild.textContent===""||_.sv.element.textContent===`
`)){_.sv.element.innerHTML="";return}T.key==="Enter"&&en(_)}})},y}(),XA=function(){function y(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return y.prototype.show=function(_,S){var T=this;S===void 0&&(S=6e3),this.element.className="vditor-tip vditor-tip--show",S===0?(this.element.innerHTML='<div class="vditor-tip__content">'.concat(_,`
<div class="vditor-tip__close">X</div></div>`),this.element.querySelector(".vditor-tip__close").addEventListener("click",function(){T.hide()})):(this.element.innerHTML='<div class="vditor-tip__content">'.concat(_,"</div>"),setTimeout(function(){T.hide()},S)),this.element.removeAttribute("style"),setTimeout(function(){var I=T.element.getBoundingClientRect();I.top<46&&(T.element.style.position="fixed",T.element.style.top="46px")},150)},y.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},y}(),fx=function(y,_){if(_.options.preview.mode!==y){switch(_.options.preview.mode=y,y){case"both":_.sv.element.style.display="block",_.preview.element.style.display="block",_.preview.render(_),v(_.toolbar.elements,["both"]);break;case"editor":_.sv.element.style.display="block",_.preview.element.style.display="none",h(_.toolbar.elements,["both"]);break}_.devtools&&_.devtools.renderEchart(_)}},BZ=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),$Z=function(y){BZ(_,y);function _(S,T){var I=y.call(this,S,T)||this;return S.options.preview.mode==="both"&&I.element.children[0].classList.add("vditor-menu--current"),I.element.children[0].addEventListener((0,f.Le)(),function(B){var re=I.element.firstElementChild;re.classList.contains(s.g.CLASS_MENU_DISABLED)||(B.preventDefault(),S.currentMode==="sv"&&(S.options.preview.mode==="both"?fx("editor",S):fx("both",S)))}),I}return _}(ct),VZ=function(){function y(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"}return y}(),JA=r(580),WZ=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),zZ=function(y){WZ(_,y);function _(S,T){var I=y.call(this,S,T)||this,B=I.element.children[0],re=document.createElement("div");re.className="vditor-hint".concat(T.level===2?"":" vditor-panel--arrow");var ue="";return s.g.CODE_THEME.forEach(function(fe){ue+="<button>".concat(fe,"</button>")}),re.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(ue,"</div>"),re.addEventListener((0,f.Le)(),function(fe){fe.target.tagName==="BUTTON"&&(C(S,["subToolbar"]),S.options.preview.hljs.style=fe.target.textContent,(0,JA.Y)(fe.target.textContent,S.options.cdn),fe.preventDefault(),fe.stopPropagation())}),I.element.appendChild(re),O(S,re,B,T.level),I}return _}(ct),UZ=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),KZ=function(y){UZ(_,y);function _(S,T){var I=y.call(this,S,T)||this,B=I.element.children[0],re=document.createElement("div");re.className="vditor-hint".concat(T.level===2?"":" vditor-panel--arrow");var ue="";return Object.keys(S.options.preview.theme.list).forEach(function(fe){ue+='<button data-type="'.concat(fe,'">').concat(S.options.preview.theme.list[fe],"</button>")}),re.innerHTML='<div style="overflow: auto;max-height:'.concat(window.innerHeight/2,'px">').concat(ue,"</div>"),re.addEventListener((0,f.Le)(),function(fe){fe.target.tagName==="BUTTON"&&(C(S,["subToolbar"]),S.options.preview.theme.current=fe.target.getAttribute("data-type"),(0,he.Z)(S.options.preview.theme.current,S.options.preview.theme.path),fe.preventDefault(),fe.stopPropagation())}),I.element.appendChild(re),O(S,re,B,T.level),I}return _}(ct),qZ=function(){function y(_){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(_,"")}return y.prototype.render=function(_,S){var T=S.endsWith(`
`)?S.length-1:S.length;if(_.options.counter.type==="text"&&_[_.currentMode]){var I=_[_.currentMode].element.cloneNode(!0);I.querySelectorAll(".vditor-wysiwyg__preview").forEach(function(B){B.remove()}),T=I.textContent.length}typeof _.options.counter.max=="number"?(T>_.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML="".concat(T,"/").concat(_.options.counter.max)):this.element.innerHTML="".concat(T),this.element.setAttribute("aria-label",_.options.counter.type),_.options.counter.after&&_.options.counter.after(T,{enable:_.options.counter.enable,max:_.options.counter.max,type:_.options.counter.type})},y}(),GZ=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),YZ=function(y){GZ(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I.element.children[0].innerHTML=T.icon,I.element.children[0].addEventListener((0,f.Le)(),function(B){B.preventDefault(),!B.currentTarget.classList.contains(s.g.CLASS_MENU_DISABLED)&&T.click(B,S)}),I}return _}(ct),ZZ=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),XZ=function(y){ZZ(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I.element.firstElementChild.addEventListener((0,f.Le)(),function(B){var re=I.element.firstElementChild;re.classList.contains(s.g.CLASS_MENU_DISABLED)||(B.preventDefault(),re.classList.contains("vditor-menu--current")?(re.classList.remove("vditor-menu--current"),S.devtools.element.style.display="none",Te(S)):(re.classList.add("vditor-menu--current"),S.devtools.element.style.display="block",Te(S),S.devtools.renderEchart(S)))}),I}return _}(ct),JZ=function(){function y(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"}return y}(),QZ=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),eX=function(y){QZ(_,y);function _(S,T){var I=y.call(this,S,T)||this,B=document.createElement("div");B.className="vditor-panel vditor-panel--arrow";var re="";return Object.keys(S.options.hint.emoji).forEach(function(ue){var fe=S.options.hint.emoji[ue];fe.indexOf(".")>-1?re+='<button data-value=":'.concat(ue,': " data-key=":').concat(ue,`:"><img
data-value=":`).concat(ue,': " data-key=":').concat(ue,':" class="vditor-emojis__icon" src="').concat(fe,'"/></button>'):re+='<button data-value="'.concat(fe,` "
 data-key="`).concat(ue,'"><span class="vditor-emojis__icon">').concat(fe,"</span></button>")}),B.innerHTML='<div class="vditor-emojis" style="max-height: '.concat(S.options.height==="auto"?"auto":S.options.height-80,'px">').concat(re,`</div><div class="vditor-emojis__tail">
    <span class="vditor-emojis__tip"></span><span>`).concat(S.options.hint.emojiTail||"",`</span>
</div>`),I.element.appendChild(B),O(S,B,I.element.firstElementChild,T.level),I.bindEvent(S),I}return _.prototype.bindEvent=function(S){var T=this;this.element.lastElementChild.addEventListener((0,f.Le)(),function(I){var B=(0,E.S)(I.target,"BUTTON");if(B){I.preventDefault();var re=B.getAttribute("data-value"),ue=(0,z.zh)(S),fe=re;if(S.currentMode==="wysiwyg"?fe=S.lute.SpinVditorDOM(re):S.currentMode==="ir"&&(fe=S.lute.SpinVditorIRDOM(re)),re.indexOf(":")>-1&&S.currentMode!=="sv"){var ce=document.createElement("div");ce.innerHTML=fe,fe=ce.firstElementChild.firstElementChild.outerHTML+" ",(0,z.oC)(fe,S)}else ue.extractContents(),ue.insertNode(document.createTextNode(re)),(0,w.F9)(ue.startContainer)||Ge(S,ue);ue.collapse(!1),(0,z.Hc)(ue),T.element.lastElementChild.style.display="none",Jt(S)}}),this.element.lastElementChild.addEventListener("mouseover",function(I){var B=(0,E.S)(I.target,"BUTTON");B&&(T.element.querySelector(".vditor-emojis__tip").innerHTML=B.getAttribute("data-key"))})},_}(ct),QA=function(y,_,S){var T=document.createElement("a");"download"in T?(T.download=S,T.style.display="none",T.href=URL.createObjectURL(new Blob([_])),document.body.appendChild(T),T.click(),T.remove()):y.tip.show(window.VditorI18n.downloadTip,0)},tX=function(y){var _=u(y);QA(y,_,_.substr(0,10)+".md")},nX=function(y){y.tip.show(window.VditorI18n.generate,3800);var _=document.querySelector("#vditorExportIframe");_.contentDocument.open(),_.contentDocument.write('<link rel="stylesheet" href="'.concat(y.options.cdn,`/dist/index.css"/>
<script src="`).concat(y.options.cdn,`/dist/method.min.js"><\/script>
<div id="preview" style="width: 800px"></div>
<script>
window.addEventListener("message", (e) => {
  if(!e.data) {
    return;
  }
  Vditor.preview(document.getElementById('preview'), e.data, {
    cdn: "`).concat(y.options.cdn,`",
    markdown: {
      theme: `).concat(JSON.stringify(y.options.preview.theme),`
    },
    hljs: {
      style: "`).concat(y.options.preview.hljs.style,`"
    }
  });
  setTimeout(() => {
        window.print();
    }, 3600);
}, false);
<\/script>`)),_.contentDocument.close(),setTimeout(function(){_.contentWindow.postMessage(u(y),"*")},200)},iX=function(y){var _=YA(y),S='<html><head><link rel="stylesheet" type="text/css" href="'.concat(y.options.cdn,`/dist/index.css"/>
<script src="`).concat(y.options.cdn,"/dist/js/i18n/").concat(y.options.lang,`.js"><\/script>
<script src="`).concat(y.options.cdn,`/dist/method.min.js"><\/script></head>
<body><div class="vditor-reset" id="preview">`).concat(_,`</div>
<script>
    const previewElement = document.getElementById('preview')
    Vditor.setContentTheme('`).concat(y.options.preview.theme.current,"', '").concat(y.options.preview.theme.path,`');
    Vditor.codeRender(previewElement);
    Vditor.highlightRender(`).concat(JSON.stringify(y.options.preview.hljs),", previewElement, '").concat(y.options.cdn,`');
    Vditor.mathRender(previewElement, {
        cdn: '`).concat(y.options.cdn,`',
        math: `).concat(JSON.stringify(y.options.preview.math),`,
    });
    Vditor.mermaidRender(previewElement, '`).concat(y.options.cdn,"', '").concat(y.options.theme,`');
    Vditor.SMILESRender(previewElement, '`).concat(y.options.cdn,"', '").concat(y.options.theme,`');
    Vditor.markmapRender(previewElement, '`).concat(y.options.cdn,`');
    Vditor.flowchartRender(previewElement, '`).concat(y.options.cdn,`');
    Vditor.graphvizRender(previewElement, '`).concat(y.options.cdn,`');
    Vditor.chartRender(previewElement, '`).concat(y.options.cdn,"', '").concat(y.options.theme,`');
    Vditor.mindmapRender(previewElement, '`).concat(y.options.cdn,"', '").concat(y.options.theme,`');
    Vditor.abcRender(previewElement, '`).concat(y.options.cdn,`');
    `).concat(y.options.preview.render.media.enable?"Vditor.mediaRender(previewElement);":"",`
    Vditor.speechRender(previewElement);
<\/script>
<script src="`).concat(y.options.cdn,"/dist/js/icons/").concat(y.options.icon,'.js"><\/script></body></html>');QA(y,S,_.substr(0,10)+".html")},rX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),oX=function(y){rX(_,y);function _(S,T){var I=y.call(this,S,T)||this,B=I.element.children[0],re=document.createElement("div");return re.className="vditor-hint".concat(T.level===2?"":" vditor-panel--arrow"),re.innerHTML=`<button data-type="markdown">Markdown</button>
<button data-type="pdf">PDF</button>
<button data-type="html">HTML</button>`,re.addEventListener((0,f.Le)(),function(ue){var fe=ue.target;if(fe.tagName==="BUTTON"){switch(fe.getAttribute("data-type")){case"markdown":tX(S);break;case"pdf":nX(S);break;case"html":iX(S);break}C(S,["subToolbar"]),ue.preventDefault(),ue.stopPropagation()}}),I.element.appendChild(re),O(S,re,B,T.level),I}return _}(ct),aX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),sX=function(y){aX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I._bindEvent(S,T),I}return _.prototype._bindEvent=function(S,T){this.element.children[0].addEventListener((0,f.Le)(),function(I){I.preventDefault(),S.element.className.includes("vditor--fullscreen")?(T.level||(this.innerHTML=T.icon),S.element.style.zIndex="",document.body.style.overflow="",S.element.classList.remove("vditor--fullscreen"),Object.keys(S.toolbar.elements).forEach(function(B){var re=S.toolbar.elements[B].firstChild;re&&(re.className=re.className.replace("__s","__n"),S.options.toolbar.forEach(function(ue){typeof ue!="string"&&ue.tipPosition&&ue.name===re.dataset.type&&(re.className="vditor-tooltipped vditor-tooltipped__".concat(ue.tipPosition))}))}),S.counter&&(S.counter.element.className=S.counter.element.className.replace("__s","__n"))):(T.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),S.element.style.zIndex=S.options.fullscreen.index.toString(),document.body.style.overflow="hidden",S.element.classList.add("vditor--fullscreen"),Object.keys(S.toolbar.elements).forEach(function(B){var re=S.toolbar.elements[B].firstChild;re&&(re.className=re.className.replace("__n","__s"))}),S.counter&&(S.counter.element.className=S.counter.element.className.replace("__n","__s"))),S.devtools&&S.devtools.renderEchart(S),T.click&&T.click(I,S),Te(S),Ce(S)})},_}(ct),lX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),uX=function(y){lX(_,y);function _(S,T){var I=y.call(this,S,T)||this,B=document.createElement("div");return B.className="vditor-hint vditor-panel--arrow",B.innerHTML='<button data-tag="h1" data-value="# ">'.concat(window.VditorI18n.heading1," ").concat((0,f.ns)("&lt;⌥⌘1>"),`</button>
<button data-tag="h2" data-value="## ">`).concat(window.VditorI18n.heading2," &lt;").concat((0,f.ns)("⌥⌘2"),`></button>
<button data-tag="h3" data-value="### ">`).concat(window.VditorI18n.heading3," &lt;").concat((0,f.ns)("⌥⌘3"),`></button>
<button data-tag="h4" data-value="#### ">`).concat(window.VditorI18n.heading4," &lt;").concat((0,f.ns)("⌥⌘4"),`></button>
<button data-tag="h5" data-value="##### ">`).concat(window.VditorI18n.heading5," &lt;").concat((0,f.ns)("⌥⌘5"),`></button>
<button data-tag="h6" data-value="###### ">`).concat(window.VditorI18n.heading6," &lt;").concat((0,f.ns)("⌥⌘6"),"></button>"),I.element.appendChild(B),I._bindEvent(S,B),I}return _.prototype._bindEvent=function(S,T){var I=this.element.children[0];I.addEventListener((0,f.Le)(),function(re){re.preventDefault(),clearTimeout(S.wysiwyg.afterRenderTimeoutId),clearTimeout(S.ir.processTimeoutId),clearTimeout(S.sv.processTimeoutId),!I.classList.contains(s.g.CLASS_MENU_DISABLED)&&(I.blur(),I.classList.contains("vditor-menu--current")?(S.currentMode==="wysiwyg"?(Fe(S),De(S)):S.currentMode==="ir"&&Wp(S,""),I.classList.remove("vditor-menu--current")):(C(S,["subToolbar"]),T.style.display="block"))});for(var B=0;B<6;B++)T.children.item(B).addEventListener((0,f.Le)(),function(re){re.preventDefault(),S.currentMode==="wysiwyg"?($e(S,re.target.getAttribute("data-tag")),De(S),I.classList.add("vditor-menu--current")):S.currentMode==="ir"?(Wp(S,re.target.getAttribute("data-value")),I.classList.add("vditor-menu--current")):zn(S,re.target.getAttribute("data-value")),T.style.display="none"})},_}(ct),cX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),dX=function(y){cX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I.element.children[0].addEventListener((0,f.Le)(),function(B){B.preventDefault(),S.tip.show(`<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">
<div style="margin-top: 14px;flex: 1">
    <div>Markdown 使用指南</div>
    <ul style="list-style: none">
        <li><a href="https://ld246.com/article/1583308420519" target="_blank">语法速查手册</a></li>
        <li><a href="https://ld246.com/article/1583129520165" target="_blank">基础语法</a></li>
        <li><a href="https://ld246.com/article/1583305480675" target="_blank">扩展语法</a></li>
        <li><a href="https://ld246.com/article/1582778815353" target="_blank">键盘快捷键</a></li>
    </ul>
</div>
<div style="margin-top: 14px;flex: 1">
    <div>Vditor 支持</div>
    <ul style="list-style: none">
        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>
        <li><a href="https://ld246.com/tag/vditor" target="_blank">官方讨论区</a></li>
        <li><a href="https://ld246.com/article/1549638745630" target="_blank">开发手册</a></li>
        <li><a href="https://ld246.com/guide/markdown" target="_blank">演示地址</a></li>
    </ul>
</div></div>`,0)}),I}return _}(ct),fX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),hX=function(y){fX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I.element.children[0].addEventListener((0,f.Le)(),function(B){if(B.preventDefault(),!(I.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)||S.currentMode==="sv")){var re=(0,z.zh)(S),ue=(0,w.lG)(re.startContainer,"LI");ue&&oa(S,ue,re)}}),I}return _}(ct),vX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),gX=function(y){vX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I.element.children[0].addEventListener((0,f.Le)(),function(B){B.preventDefault(),S.tip.show(`<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">
<p style="text-align: center;margin: 14px 0">
    <em>下一代的 Markdown 编辑器，为未来而构建</em>
</p>
<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">
    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>
    <div>&nbsp;&nbsp;</div>
    <div style="flex: 1;min-width: 250px">
        Vditor 是一款浏览器端的 Markdown 编辑器，支持所见即所得、即时渲染（类似 Typora）和分屏预览模式。
        它使用 TypeScript 实现，支持原生 JavaScript 以及 Vue、React、Angular 和 Svelte 等框架。
    </div>
</div>
<div style="display: flex;flex-wrap: wrap;">
    <ul style="list-style: none;flex: 1;min-width:148px">
        <li>
        项目地址：<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>
        </li>
        <li>
        开源协议：MIT
        </li>
    </ul>
    <ul style="list-style: none;margin-right: 18px">
        <li>
        组件版本：Vditor v`.concat(s.H," / Lute v").concat(Lute.Version,`
        </li>
        <li>
        赞助捐赠：<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>
        </li>
    </ul>
</div>
</div>`),0)}),I}return _}(ct),pX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),mX=function(y){pX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I.element.children[0].addEventListener((0,f.Le)(),function(B){B.preventDefault(),!(I.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)||S.currentMode==="sv")&&ic(S,"afterend")}),I}return _}(ct),bX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),yX=function(y){bX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I.element.children[0].addEventListener((0,f.Le)(),function(B){B.preventDefault(),!(I.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)||S.currentMode==="sv")&&ic(S,"beforebegin")}),I}return _}(ct),_X=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),wX=function(y){_X(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I.element.children[0].addEventListener((0,f.Le)(),function(B){if(B.preventDefault(),!(I.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)||S.currentMode==="sv")){var re=(0,z.zh)(S),ue=(0,w.lG)(re.startContainer,"LI");ue&&Vp(S,ue,re,ue.parentElement)}}),I}return _}(ct),CX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),SX=function(y){CX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return S.options.outline&&I.element.firstElementChild.classList.add("vditor-menu--current"),I.element.children[0].addEventListener((0,f.Le)(),function(B){B.preventDefault();var re=S.toolbar.elements.outline.firstElementChild;re.classList.contains(s.g.CLASS_MENU_DISABLED)||(S.options.outline.enable=!I.element.firstElementChild.classList.contains("vditor-menu--current"),S.outline.toggle(S,S.options.outline.enable))}),I}return _}(ct),OX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),xX=function(y){OX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I._bindEvent(S),I}return _.prototype._bindEvent=function(S){var T=this;this.element.children[0].addEventListener((0,f.Le)(),function(I){I.preventDefault();var B=T.element.firstElementChild;if(!B.classList.contains(s.g.CLASS_MENU_DISABLED)){var re=s.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);B.classList.contains("vditor-menu--current")?(B.classList.remove("vditor-menu--current"),S.currentMode==="sv"?(S.sv.element.style.display="block",S.options.preview.mode==="both"?S.preview.element.style.display="block":S.preview.element.style.display="none"):(S[S.currentMode].element.parentElement.style.display="block",S.preview.element.style.display="none"),g(S.toolbar.elements,re),S.outline.render(S)):(p(S.toolbar.elements,re),S.preview.element.style.display="block",S.currentMode==="sv"?S.sv.element.style.display="none":S[S.currentMode].element.parentElement.style.display="none",S.preview.render(S),B.classList.add("vditor-menu--current"),C(S,["subToolbar","hint","popover"]),setTimeout(function(){S.outline.render(S)},S.options.preview.delay+10)),Te(S)}})},_}(ct),EX=function(){function y(_){this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0;var S;if(typeof AudioContext<"u")S=new AudioContext;else if(webkitAudioContext)S=new webkitAudioContext;else return;this.DEFAULT_SAMPLE_RATE=S.sampleRate;var T=S.createGain(),I=S.createMediaStreamSource(_);I.connect(T),this.recorder=S.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,T.connect(this.recorder),this.recorder.connect(S.destination),this.readyFlag=!0}return y.prototype.cloneChannelData=function(_,S){this.leftChannel.push(new Float32Array(_)),this.rightChannel.push(new Float32Array(S)),this.recordingLength+=2048},y.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},y.prototype.stopRecording=function(){this.isRecording=!1},y.prototype.buildWavFileBlob=function(){for(var _=this.mergeBuffers(this.leftChannel),S=this.mergeBuffers(this.rightChannel),T=new Float32Array(_.length),I=0;I<_.length;++I)T[I]=.5*(_[I]+S[I]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(T=this.downSampleBuffer(T,this.SAMPLE_RATE));var B=44+T.length*2,re=new ArrayBuffer(B),ue=new DataView(re);this.writeUTFBytes(ue,0,"RIFF"),ue.setUint32(4,B,!0),this.writeUTFBytes(ue,8,"WAVE"),this.writeUTFBytes(ue,12,"fmt "),ue.setUint32(16,16,!0),ue.setUint16(20,1,!0),ue.setUint16(22,1,!0),ue.setUint32(24,this.SAMPLE_RATE,!0),ue.setUint32(28,this.SAMPLE_RATE*2,!0),ue.setUint16(32,2,!0),ue.setUint16(34,16,!0);var fe=T.length*2;this.writeUTFBytes(ue,36,"data"),ue.setUint32(40,fe,!0);for(var ce=T.length,_e=44,Ie=1,ht=0;ht<ce;ht++)ue.setInt16(_e,T[ht]*(32767*Ie),!0),_e+=2;return new Blob([ue],{type:"audio/wav"})},y.prototype.downSampleBuffer=function(_,S){if(S===this.DEFAULT_SAMPLE_RATE||S>this.DEFAULT_SAMPLE_RATE)return _;for(var T=this.DEFAULT_SAMPLE_RATE/S,I=Math.round(_.length/T),B=new Float32Array(I),re=0,ue=0;re<B.length;){for(var fe=Math.round((re+1)*T),ce=0,_e=0,Ie=ue;Ie<fe&&Ie<_.length;Ie++)ce+=_[Ie],_e++;B[re]=ce/_e,re++,ue=fe}return B},y.prototype.mergeBuffers=function(_){for(var S=new Float32Array(this.recordingLength),T=0,I=_.length,B=0;B<I;++B){var re=_[B];S.set(re,T),T+=re.length}return S},y.prototype.writeUTFBytes=function(_,S,T){for(var I=T.length,B=0;B<I;B++)_.setUint8(S+B,T.charCodeAt(B))},y}(),PX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),kX=function(y){PX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return I._bindEvent(S),I}return _.prototype._bindEvent=function(S){var T=this,I;this.element.children[0].addEventListener((0,f.Le)(),function(B){if(B.preventDefault(),!T.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)){var re=S[S.currentMode].element;if(!I){navigator.mediaDevices.getUserMedia({audio:!0}).then(function(fe){I=new EX(fe),I.recorder.onaudioprocess=function(ce){if(I.isRecording){var _e=ce.inputBuffer.getChannelData(0),Ie=ce.inputBuffer.getChannelData(1);I.cloneChannelData(_e,Ie)}},I.startRecordingNewWavFile(),S.tip.show(window.VditorI18n.recording),re.setAttribute("contenteditable","false"),T.element.children[0].classList.add("vditor-menu--current")}).catch(function(){S.tip.show(window.VditorI18n["record-tip"])});return}if(I.isRecording){I.stopRecording(),S.tip.hide();var ue=new File([I.buildWavFileBlob()],"record".concat(new Date().getTime(),".wav"),{type:"video/webm"});_i(S,[ue]),T.element.children[0].classList.remove("vditor-menu--current")}else S.tip.show(window.VditorI18n.recording),re.setAttribute("contenteditable","false"),I.startRecordingNewWavFile(),T.element.children[0].classList.add("vditor-menu--current")}})},_}(ct),DX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),TX=function(y){DX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return p({redo:I.element},["redo"]),I.element.children[0].addEventListener((0,f.Le)(),function(B){B.preventDefault(),!I.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)&&S.undo.redo(S)}),I}return _}(ct),IX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),LX=function(y){IX(_,y);function _(S,T){var I=y.call(this,S,T)||this;return p({undo:I.element},["undo"]),I.element.children[0].addEventListener((0,f.Le)(),function(B){B.preventDefault(),!I.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)&&S.undo.undo(S)}),I}return _}(ct),MX=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),AX=function(y){MX(_,y);function _(S,T){var I=y.call(this,S,T)||this,B='<input type="file"';return S.options.upload.multiple&&(B+=' multiple="multiple"'),S.options.upload.accept&&(B+=' accept="'.concat(S.options.upload.accept,'"')),I.element.children[0].innerHTML="".concat(T.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>').concat(B,">"),I._bindEvent(S),I}return _.prototype._bindEvent=function(S){var T=this;this.element.children[0].addEventListener((0,f.Le)(),function(I){if(T.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)){I.stopPropagation(),I.preventDefault();return}}),this.element.querySelector("input").addEventListener("change",function(I){if(T.element.firstElementChild.classList.contains(s.g.CLASS_MENU_DISABLED)){I.stopPropagation(),I.preventDefault();return}I.target.files.length!==0&&_i(S,I.target.files,I.target)})},_}(ct),RX=function(){function y(_){var S=this,T=_.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",T.toolbar.forEach(function(I,B){var re=S.genItem(_,I,B);if(S.element.appendChild(re),I.toolbar){var ue=document.createElement("div");ue.className="vditor-hint vditor-panel--arrow",ue.addEventListener((0,f.Le)(),function(fe){ue.style.display="none"}),I.toolbar.forEach(function(fe,ce){fe.level=2,ue.appendChild(S.genItem(_,fe,B+ce))}),re.appendChild(ue),O(_,ue,re.children[0])}}),_.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),_.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),_.options.counter.enable&&(_.counter=new qZ(_),this.element.appendChild(_.counter.element))}return y.prototype.updateConfig=function(_,S){_.options.toolbarConfig=Object.assign({hide:!1,pin:!1},S),_.options.toolbarConfig.hide?this.element.classList.add("vditor-toolbar--hide"):this.element.classList.remove("vditor-toolbar--hide"),_.options.toolbarConfig.pin?this.element.classList.add("vditor-toolbar--pin"):this.element.classList.remove("vditor-toolbar--pin")},y.prototype.genItem=function(_,S,T){var I;switch(S.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":I=new ct(_,S);break;case"emoji":I=new eX(_,S);break;case"headings":I=new uX(_,S);break;case"|":I=new JZ;break;case"br":I=new VZ;break;case"undo":I=new LX(_,S);break;case"redo":I=new TX(_,S);break;case"help":I=new dX(_,S);break;case"both":I=new $Z(_,S);break;case"preview":I=new xX(_,S);break;case"fullscreen":I=new sX(_,S);break;case"upload":I=new AX(_,S);break;case"record":I=new kX(_,S);break;case"info":I=new gX(_,S);break;case"edit-mode":I=new ji(_,S);break;case"devtools":I=new XZ(_,S);break;case"outdent":I=new wX(_,S);break;case"indent":I=new hX(_,S);break;case"outline":I=new SX(_,S);break;case"insert-after":I=new mX(_,S);break;case"insert-before":I=new yX(_,S);break;case"code-theme":I=new zZ(_,S);break;case"content-theme":I=new KZ(_,S);break;case"export":I=new oX(_,S);break;default:I=new YZ(_,S);break}if(I){var B=S.name;return(B==="br"||B==="|")&&(B=B+T),this.elements[B]=I.element,I.element}},y}(),NX=r(173),FX=function(){function y(){this.stackSize=50,this.resetStack(),this.dmp=new NX}return y.prototype.clearStack=function(_){this.resetStack(),this.resetIcon(_)},y.prototype.resetIcon=function(_){_.toolbar&&(this[_.currentMode].undoStack.length>1?g(_.toolbar.elements,["undo"]):p(_.toolbar.elements,["undo"]),this[_.currentMode].redoStack.length!==0?g(_.toolbar.elements,["redo"]):p(_.toolbar.elements,["redo"]))},y.prototype.undo=function(_){if(_[_.currentMode].element.getAttribute("contenteditable")!=="false"&&!(this[_.currentMode].undoStack.length<2)){var S=this[_.currentMode].undoStack.pop();S&&(this[_.currentMode].redoStack.push(S),this.renderDiff(S,_),this[_.currentMode].hasUndo=!0,C(_,["hint"]))}},y.prototype.redo=function(_){if(_[_.currentMode].element.getAttribute("contenteditable")!=="false"){var S=this[_.currentMode].redoStack.pop();S&&(this[_.currentMode].undoStack.push(S),this.renderDiff(S,_,!0))}},y.prototype.recordFirstPosition=function(_,S){if(getSelection().rangeCount!==0&&!(this[_.currentMode].undoStack.length!==1||this[_.currentMode].undoStack[0].length===0||this[_.currentMode].redoStack.length>0)&&!((0,f.vU)()&&S.key==="Backspace")&&!(0,f.G6)()){var T=this.addCaret(_);T.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[_.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[_.currentMode].undoStack[0][0].diffs[0][1]=T,this[_.currentMode].lastText=T)}},y.prototype.addToUndoStack=function(_){var S=this.addCaret(_,!0),T=this.dmp.diff_main(S,this[_.currentMode].lastText,!0),I=this.dmp.patch_make(S,this[_.currentMode].lastText,T);I.length===0&&this[_.currentMode].undoStack.length>0||(this[_.currentMode].lastText=S,this[_.currentMode].undoStack.push(I),this[_.currentMode].undoStack.length>this.stackSize&&this[_.currentMode].undoStack.shift(),this[_.currentMode].hasUndo&&(this[_.currentMode].redoStack=[],this[_.currentMode].hasUndo=!1,p(_.toolbar.elements,["redo"])),this[_.currentMode].undoStack.length>1&&g(_.toolbar.elements,["undo"]))},y.prototype.renderDiff=function(_,S,T){T===void 0&&(T=!1);var I;if(T){var B=this.dmp.patch_deepCopy(_).reverse();B.forEach(function(ue){ue.diffs.forEach(function(fe){fe[0]=-fe[0]})}),I=this.dmp.patch_apply(B,this[S.currentMode].lastText)[0]}else I=this.dmp.patch_apply(_,this[S.currentMode].lastText)[0];if(this[S.currentMode].lastText=I,S[S.currentMode].element.innerHTML=I,S.currentMode!=="sv"&&(S[S.currentMode].element.querySelectorAll(".vditor-".concat(S.currentMode,"__preview")).forEach(function(ue){ue.parentElement.querySelector(".language-echarts")&&(S.currentMode==="ir"?ue.parentElement.outerHTML=S.lute.SpinVditorIRDOM(ue.parentElement.outerHTML):ue.parentElement.outerHTML=S.lute.SpinVditorDOM(ue.parentElement.outerHTML))}),S[S.currentMode].element.querySelectorAll(".vditor-".concat(S.currentMode,"__preview[data-render='2']")).forEach(function(ue){Z(ue,S)})),S[S.currentMode].element.querySelector("wbr"))(0,z.ib)(S[S.currentMode].element,S[S.currentMode].element.ownerDocument.createRange()),en(S);else{var re=getSelection().getRangeAt(0);re.setEndBefore(S[S.currentMode].element),re.collapse(!1)}ie(S),Jt(S,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),Gn(S),S[S.currentMode].element.querySelectorAll(".vditor-".concat(S.currentMode,"__preview[data-render='2']")).forEach(function(ue){Z(ue,S)}),this[S.currentMode].undoStack.length>1?g(S.toolbar.elements,["undo"]):p(S.toolbar.elements,["undo"]),this[S.currentMode].redoStack.length!==0?g(S.toolbar.elements,["redo"]):p(S.toolbar.elements,["redo"])},y.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},y.prototype.addCaret=function(_,S){S===void 0&&(S=!1);var T;if(getSelection().rangeCount!==0&&!_[_.currentMode].element.querySelector("wbr")){var I=getSelection().getRangeAt(0);if(_[_.currentMode].element.contains(I.startContainer)){T=I.cloneRange();var B=document.createElement("span");B.className="vditor-wbr",I.insertNode(B)}}var re=_[_.currentMode].element.cloneNode(!0);re.querySelectorAll(".vditor-".concat(_.currentMode,"__preview[data-render='1']")).forEach(function(fe){fe.firstElementChild&&(fe.firstElementChild.classList.contains("language-echarts")||fe.firstElementChild.classList.contains("language-plantuml")||fe.firstElementChild.classList.contains("language-mindmap")?(fe.firstElementChild.removeAttribute("_echarts_instance_"),fe.firstElementChild.removeAttribute("data-processed"),fe.firstElementChild.innerHTML=fe.previousElementSibling.firstElementChild.innerHTML,fe.setAttribute("data-render","2")):fe.firstElementChild.classList.contains("language-math")&&(fe.setAttribute("data-render","2"),fe.firstElementChild.textContent=fe.firstElementChild.getAttribute("data-math"),fe.firstElementChild.removeAttribute("data-math")))});var ue=re.innerHTML;return _[_.currentMode].element.querySelectorAll(".vditor-wbr").forEach(function(fe){fe.remove()}),S&&T&&(0,z.Hc)(T),ue.replace('<span class="vditor-wbr"></span>',"<wbr>")},y}(),jX=r(673),HX=function(){function y(_){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:s.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},customRenders:[],debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"👍","-1":"👎",confused:"😕",eyes:"👀️",heart:"❤️",rocket:"🚀️",smile:"😄",tada:"🎉️"},emojiPath:"".concat(s.g.CDN,"/dist/images/emoji"),extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:s.g.HLJS_OPTIONS,markdown:s.g.MARKDOWN_OPTIONS,math:s.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:s.g.THEME_OPTIONS,render:{media:{enable:!0}}},link:{isOpen:!0},image:{isPreview:!0},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(S){return S.replace(/\W/g,"")},linkToImgUrl:"",max:10*1024*1024,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=_}return y.prototype.merge=function(){var _,S,T,I,B,re,ue,fe,ce;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),!((S=(_=this.options.preview)===null||_===void 0?void 0:_.theme)===null||S===void 0)&&S.list&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),!((B=(I=(T=this.options.preview)===null||T===void 0?void 0:T.render)===null||I===void 0?void 0:I.media)===null||B===void 0)&&B.enable&&(this.defaultOptions.preview.render.media.enable=this.options.preview.render.media.enable),!((re=this.options.hint)===null||re===void 0)&&re.emoji&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment),this.options.cdn&&(!((fe=(ue=this.options.preview)===null||ue===void 0?void 0:ue.theme)===null||fe===void 0)&&fe.path||(this.defaultOptions.preview.theme.path="".concat(this.options.cdn,"/dist/css/content-theme")),!((ce=this.options.hint)===null||ce===void 0)&&ce.emojiPath||(this.defaultOptions.hint.emojiPath="".concat(this.options.cdn,"/dist/images/emoji"))));var _e=(0,jX.T)(this.defaultOptions,this.options);if(_e.cache.enable&&!_e.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return _e},y.prototype.mergeToolbar=function(_){var S=this,T=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"⌘E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"⌘H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"⌘B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"⌘I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"⌘D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"⌘K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"⌘L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"⌘O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"⌘J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"⇧⌘I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"⇧⌘O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"⌘;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"⇧⌘H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"⌘U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"⌘G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"⇧⌘B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"⇧⌘E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"⌘M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:` | col2 | col3 |
| --- | --- | --- |
|  |  |  |
|  |  |  |`,tipPosition:"n"},{name:"|"},{hotkey:"⌘Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"⌘Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"⌘'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"⌘P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],I=[];return _.forEach(function(B){var re=B;T.forEach(function(ue){typeof B=="string"&&ue.name===B&&(re=ue),typeof B=="object"&&ue.name===B.name&&(re=Object.assign({},ue,B))}),B.toolbar&&(re.toolbar=S.mergeToolbar(B.toolbar)),I.push(re)}),I},y}(),BX=function(){function y(_){var S=this;this.composingLock=!1,this.commentIds=[];var T=document.createElement("div");T.className="vditor-wysiwyg",T.innerHTML='<pre class="vditor-reset" placeholder="'.concat(_.options.placeholder,`"
 contenteditable="true" spellcheck="false"></pre>
<div class="vditor-panel vditor-panel--none"></div>
<div class="vditor-panel vditor-panel--none">
    <button type="button" aria-label="`).concat(window.VditorI18n.comment,`" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">
        <svg><use xlink:href="#vditor-icon-comment"></use></svg>
    </button>
</div>`),this.element=T.firstElementChild,this.popover=T.firstElementChild.nextElementSibling,this.selectPopover=T.lastElementChild,this.bindEvent(_),ka(_,this.element),Da(_,this.element),Xr(_,this.element),ia(_,this.element),cs(_,this.element),ta(_,this.element),Tr(_,this.element,this.copy),na(_,this.element,this.copy),_.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var I=Lute.NewNodeID(),B=getSelection().getRangeAt(0),re=B.cloneRange(),ue=B.extractContents(),fe,ce,_e=!1,Ie=!1;ue.childNodes.forEach(function(it,Mt){var wt=!1;if(it.nodeType===3?wt=!0:it.classList.contains("vditor-comment")?it.classList.contains("vditor-comment")&&it.setAttribute("data-cmtids",it.getAttribute("data-cmtids")+" "+I):wt=!0,wt)if(it.nodeType!==3&&it.getAttribute("data-block")==="0"&&Mt===0&&re.startOffset>0)it.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(I,'">').concat(it.innerHTML,"</span>"),fe=it;else if(it.nodeType!==3&&it.getAttribute("data-block")==="0"&&Mt===ue.childNodes.length-1&&re.endOffset<re.endContainer.textContent.length)it.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(I,'">').concat(it.innerHTML,"</span>"),ce=it;else if(it.nodeType!==3&&it.getAttribute("data-block")==="0")Mt===0?_e=!0:Mt===ue.childNodes.length-1&&(Ie=!0),it.innerHTML='<span class="vditor-comment" data-cmtids="'.concat(I,'">').concat(it.innerHTML,"</span>");else{var nt=document.createElement("span");nt.classList.add("vditor-comment"),nt.setAttribute("data-cmtids",I),it.parentNode.insertBefore(nt,it),nt.appendChild(it)}});var ht=(0,w.F9)(re.startContainer);ht&&(fe?(ht.insertAdjacentHTML("beforeend",fe.innerHTML),fe.remove()):ht.textContent.trim().replace(s.g.ZWSP,"")===""&&_e&&ht.remove());var vt=(0,w.F9)(re.endContainer);vt&&(ce?(vt.insertAdjacentHTML("afterbegin",ce.innerHTML),ce.remove()):vt.textContent.trim().replace(s.g.ZWSP,"")===""&&Ie&&vt.remove()),B.insertNode(ue),_.options.comment.add(I,B.toString(),S.getComments(_,!0)),De(_,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),S.hideComment()})}return y.prototype.getComments=function(_,S){var T=this;if(S===void 0&&(S=!1),_.currentMode==="wysiwyg"&&_.options.comment.enable){this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach(function(B){T.commentIds=T.commentIds.concat(B.getAttribute("data-cmtids").split(" "))}),this.commentIds=Array.from(new Set(this.commentIds));var I=[];if(S)return this.commentIds.forEach(function(B){I.push({id:B,top:T.element.querySelector('.vditor-comment[data-cmtids="'.concat(B,'"]')).offsetTop})}),I}else return[]},y.prototype.triggerRemoveComment=function(_){var S=function(B,re){var ue=new Set(re);return B.filter(function(fe){return!ue.has(fe)})};if(_.currentMode==="wysiwyg"&&_.options.comment.enable&&_.wysiwyg.commentIds.length>0){var T=JSON.parse(JSON.stringify(this.commentIds));this.getComments(_);var I=S(T,this.commentIds);I.length>0&&_.options.comment.remove(I)}},y.prototype.showComment=function(){var _=(0,z.Ny)(this.element);this.selectPopover.setAttribute("style","left:".concat(_.left,"px;display:block;top:").concat(Math.max(-8,_.top-21),"px"))},y.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},y.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},y.prototype.copy=function(_,S){var T=getSelection().getRangeAt(0);if(T.toString()!==""){_.stopPropagation(),_.preventDefault();var I=(0,w.lG)(T.startContainer,"CODE"),B=(0,w.lG)(T.endContainer,"CODE");if(I&&B&&B.isSameNode(I)){var re="";I.parentElement.tagName==="PRE"?re=T.toString():re="`"+T.toString()+"`",_.clipboardData.setData("text/plain",re),_.clipboardData.setData("text/html","");return}var ue=(0,w.lG)(T.startContainer,"A"),fe=(0,w.lG)(T.endContainer,"A");if(ue&&fe&&fe.isSameNode(ue)){var ce=ue.getAttribute("title")||"";ce&&(ce=' "'.concat(ce,'"')),_.clipboardData.setData("text/plain","[".concat(T.toString(),"](").concat(ue.getAttribute("href")).concat(ce,")")),_.clipboardData.setData("text/html","");return}var _e=document.createElement("div");_e.appendChild(T.cloneContents()),_.clipboardData.setData("text/plain",S.lute.VditorDOM2Md(_e.innerHTML).trim()),_.clipboardData.setData("text/html","")}},y.prototype.bindEvent=function(_){var S=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(C(_,["hint"]),!(S.popover.style.display!=="block"||S.selectPopover.style.display!=="block")){var T=parseInt(S.popover.getAttribute("data-top"),10);if(_.options.height!=="auto"){if(_.options.toolbarConfig.pin&&_.toolbar.element.getBoundingClientRect().top===0){var I=Math.max(window.scrollY-_.element.offsetTop-8,Math.min(T-_.wysiwyg.element.scrollTop,S.element.clientHeight-21))+"px";S.popover.style.display==="block"&&(S.popover.style.top=I),S.selectPopover.style.display==="block"&&(S.selectPopover.style.top=I)}return}else if(!_.options.toolbarConfig.pin)return;var B=Math.max(T,window.scrollY-_.element.offsetTop-8)+"px";S.popover.style.display==="block"&&(S.popover.style.top=B),S.selectPopover.style.display==="block"&&(S.selectPopover.style.top=B)}}),this.element.addEventListener("scroll",function(){if(C(_,["hint"]),_.options.comment&&_.options.comment.enable&&_.options.comment.scroll&&_.options.comment.scroll(_.wysiwyg.element.scrollTop),S.popover.style.display==="block"){var T=parseInt(S.popover.getAttribute("data-top"),10)-_.wysiwyg.element.scrollTop,I=-8;_.options.toolbarConfig.pin&&_.toolbar.element.getBoundingClientRect().top===0&&(I=window.scrollY-_.element.offsetTop+I);var B=Math.max(I,Math.min(T,S.element.clientHeight-21))+"px";S.popover.style.top=B,S.selectPopover.style.top=B}}),this.element.addEventListener("paste",function(T){C_(_,T,{pasteCode:function(I){var B=(0,z.zh)(_),re=document.createElement("template");re.innerHTML=I,B.insertNode(re.content.cloneNode(!0));var ue=(0,w.a1)(B.startContainer,"data-block","0");ue?ue.outerHTML=_.lute.SpinVditorDOM(ue.outerHTML):_.wysiwyg.element.innerHTML=_.lute.SpinVditorDOM(_.wysiwyg.element.innerHTML),(0,z.ib)(_.wysiwyg.element,B)}})}),this.element.addEventListener("compositionstart",function(){S.composingLock=!0}),this.element.addEventListener("compositionend",function(T){var I=(0,E.W)(getSelection().getRangeAt(0).startContainer);if(I&&I.textContent===""){ie(_);return}(0,f.vU)()||Ir(_,getSelection().getRangeAt(0).cloneRange(),T),S.composingLock=!1}),this.element.addEventListener("input",function(T){if(!(T.inputType==="deleteByDrag"||T.inputType==="insertFromDrop")){if(S.preventInput){S.preventInput=!1,De(_);return}if(S.composingLock||T.data==="‘"||T.data==="“"||T.data==="《"){De(_);return}var I=getSelection().getRangeAt(0),B=(0,w.F9)(I.startContainer);if(B||(Ge(_,I),B=(0,w.F9)(I.startContainer)),!!B){for(var re=(0,z.im)(B,_.wysiwyg.element,I).start,ue=!0,fe=re-1;fe>B.textContent.substr(0,re).lastIndexOf(`
`);fe--)if(B.textContent.charAt(fe)!==" "&&B.textContent.charAt(fe)!=="	"){ue=!1;break}re===0&&(ue=!1);for(var ce=!0,fe=re-1;fe<B.textContent.length;fe++)if(B.textContent.charAt(fe)!==" "&&B.textContent.charAt(fe)!==`
`){ce=!1;break}ce&&/^#{1,6} $/.test(B.textContent)&&(ce=!1);var _e=(0,E.W)(getSelection().getRangeAt(0).startContainer);if(_e&&_e.textContent===""&&(ie(_),_e.remove()),ue&&B.getAttribute("data-type")!=="code-block"||ce||Hh(B.innerHTML)||vn(B.innerHTML)&&B.previousElementSibling){typeof _.options.input=="function"&&_.options.input(u(_));return}T.inputType==="insertParagraph"&&S.element.innerHTML==="<p><br></p><p><br></p>"&&B.previousElementSibling.remove(),Ir(_,I,T)}}}),this.element.addEventListener("click",function(T){if(T.target.tagName==="INPUT"){var I=T.target;I.checked?I.setAttribute("checked","checked"):I.removeAttribute("checked"),S.preventInput=!0,getSelection().rangeCount>0&&(0,z.Hc)(getSelection().getRangeAt(0)),De(_);return}if(T.target.tagName==="IMG"&&!T.target.parentElement.classList.contains("vditor-wysiwyg__preview")){T.target.getAttribute("data-type")==="link-ref"?ri(_,T.target):gt(T,_);return}var B=(0,w.lG)(T.target,"A");if(B){_.options.link.click?_.options.link.click(B):_.options.link.isOpen&&window.open(B.getAttribute("href")),T.preventDefault();return}var re=(0,z.zh)(_);if(T.target.isEqualNode(S.element)&&S.element.lastElementChild&&re.collapsed){var ue=S.element.lastElementChild.getBoundingClientRect();T.y>ue.top+ue.height&&(S.element.lastElementChild.tagName==="P"&&S.element.lastElementChild.textContent.trim().replace(s.g.ZWSP,"")===""?(re.selectNodeContents(S.element.lastElementChild),re.collapse(!1)):(S.element.insertAdjacentHTML("beforeend",'<p data-block="0">'.concat(s.g.ZWSP,"<wbr></p>")),(0,z.ib)(S.element,re)))}Rt(_);var fe=(0,w.fb)(T.target,"vditor-wysiwyg__preview");fe||(fe=(0,w.fb)((0,z.zh)(_).startContainer,"vditor-wysiwyg__preview")),fe&&Ke(fe,_),ee(T,_)}),this.element.addEventListener("keyup",function(T){if(!(T.isComposing||(0,f.yl)(T))){T.key==="Enter"&&en(_),(T.key==="Backspace"||T.key==="Delete")&&_.wysiwyg.element.innerHTML!==""&&_.wysiwyg.element.childNodes.length===1&&_.wysiwyg.element.firstElementChild&&_.wysiwyg.element.firstElementChild.tagName==="P"&&_.wysiwyg.element.firstElementChild.childElementCount===0&&(_.wysiwyg.element.textContent===""||_.wysiwyg.element.textContent===`
`)&&(_.wysiwyg.element.innerHTML="");var I=(0,z.zh)(_);if(T.key==="Backspace"&&(0,f.vU)()&&I.startContainer.textContent===`
`&&I.startOffset===1&&(I.startContainer.textContent=""),Ge(_,I),Rt(_),!(T.key!=="ArrowDown"&&T.key!=="ArrowRight"&&T.key!=="Backspace"&&T.key!=="ArrowLeft"&&T.key!=="ArrowUp")){(T.key==="ArrowLeft"||T.key==="ArrowRight")&&_.hint.render(_);var B=(0,w.fb)(I.startContainer,"vditor-wysiwyg__preview");if(!B&&I.startContainer.nodeType!==3&&I.startOffset>0){var re=I.startContainer;re.classList.contains("vditor-wysiwyg__block")&&(B=re.lastElementChild)}if(B){var ue=B.previousElementSibling;if(ue.style.display==="none"){T.key==="ArrowDown"||T.key==="ArrowRight"?Ke(B,_):Ke(B,_,!1);return}var fe=B.previousElementSibling;if(fe.tagName==="PRE"&&(fe=fe.firstElementChild),T.key==="ArrowDown"||T.key==="ArrowRight"){var re=B.parentElement,ce=Ve(re);if(ce&&ce.nodeType!==3){var _e=ce.querySelector(".vditor-wysiwyg__preview");if(_e){Ke(_e,_);return}}if(ce.nodeType===3){for(;ce.textContent.length===0&&ce.nextSibling;)ce=ce.nextSibling;I.setStart(ce,1)}else I.setStart(ce.firstChild,0)}else I.selectNodeContents(fe),I.collapse(!1)}}}})},y}(),$X=function(){var y=function(_,S){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&(T[B]=I[B])},y(_,S)};return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");y(_,S);function T(){this.constructor=_}_.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}}(),VX=function(y){$X(_,y);function _(S,T){var I=y.call(this)||this;if(I.version=s.H,typeof S=="string"){if(T?T.cache?T.cache.id||(T.cache.id="vditor".concat(S)):T.cache={id:"vditor".concat(S)}:T={cache:{id:"vditor".concat(S)}},!document.getElementById(S))return I.showErrorTip("Failed to get element by id: ".concat(S)),I;S=document.getElementById(S)}var B=new HX(T),re=B.merge();if(re.i18n)window.VditorI18n=re.i18n,I.init(S,re);else if(["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(re.lang)){var ue="vditorI18nScript",fe=ue+re.lang;document.querySelectorAll('head script[id^="'.concat(ue,'"]')).forEach(function(ce){ce.id!==fe&&document.head.removeChild(ce)}),(0,c.G)("".concat(re.cdn,"/dist/js/i18n/").concat(re.lang,".js"),fe).then(function(){I.init(S,re)}).catch(function(ce){I.showErrorTip("GET ".concat(re.cdn,"/dist/js/i18n/").concat(re.lang,".js net::ERR_ABORTED 404 (Not Found)"))})}else throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");return I}return _.prototype.showErrorTip=function(S){var T=new XA;document.body.appendChild(T.element),T.show(S,0)},_.prototype.updateToolbarConfig=function(S){this.vditor.toolbar.updateConfig(this.vditor,S)},_.prototype.setTheme=function(S,T,I,B){this.vditor.options.theme=S,ge(this.vditor),T&&(this.vditor.options.preview.theme.current=T,(0,he.Z)(T,B||this.vditor.options.preview.theme.path)),I&&(this.vditor.options.preview.hljs.style=I,(0,JA.Y)(I,this.vditor.options.cdn))},_.prototype.getValue=function(){return u(this.vditor)},_.prototype.getCurrentMode=function(){return this.vditor.currentMode},_.prototype.focus=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.focus():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.focus():this.vditor.currentMode==="ir"&&this.vditor.ir.element.focus()},_.prototype.blur=function(){this.vditor.currentMode==="sv"?this.vditor.sv.element.blur():this.vditor.currentMode==="wysiwyg"?this.vditor.wysiwyg.element.blur():this.vditor.currentMode==="ir"&&this.vditor.ir.element.blur()},_.prototype.disabled=function(){C(this.vditor,["subToolbar","hint","popover"]),p(this.vditor.toolbar.elements,s.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},_.prototype.enable=function(){g(this.vditor.toolbar.elements,s.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},_.prototype.getSelection=function(){if(this.vditor.currentMode==="wysiwyg")return er(this.vditor.wysiwyg.element);if(this.vditor.currentMode==="sv")return er(this.vditor.sv.element);if(this.vditor.currentMode==="ir")return er(this.vditor.ir.element)},_.prototype.renderPreview=function(S){this.vditor.preview.render(this.vditor,S)},_.prototype.getCursorPosition=function(){return(0,z.Ny)(this.vditor[this.vditor.currentMode].element)},_.prototype.isUploading=function(){return this.vditor.upload.isUploading},_.prototype.clearCache=function(){this.vditor.options.cache.enable&&(0,f.pK)()&&localStorage.removeItem(this.vditor.options.cache.id)},_.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},_.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},_.prototype.html2md=function(S){return this.vditor.lute.HTML2Md(S)},_.prototype.exportJSON=function(S){return this.vditor.lute.RenderJSON(S)},_.prototype.getHTML=function(){return YA(this.vditor)},_.prototype.tip=function(S,T){this.vditor.tip.show(S,T)},_.prototype.setPreviewMode=function(S){fx(S,this.vditor)},_.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},_.prototype.updateValue=function(S){document.execCommand("insertHTML",!1,S)},_.prototype.insertValue=function(S,T){T===void 0&&(T=!0);var I=(0,z.zh)(this.vditor);I.collapse(!0);var B=document.createElement("template");B.innerHTML=S,I.insertNode(B.content.cloneNode(!0)),I.collapse(!1),this.vditor.currentMode==="sv"?(this.vditor.sv.preventInput=!0,T&&se(this.vditor)):this.vditor.currentMode==="wysiwyg"?T&&Ir(this.vditor,getSelection().getRangeAt(0)):this.vditor.currentMode==="ir"&&(this.vditor.ir.preventInput=!0,T&&J(this.vditor,getSelection().getRangeAt(0),!0))},_.prototype.insertMD=function(S){this.vditor.currentMode==="ir"?(0,z.oC)(this.vditor.lute.Md2VditorIRDOM(S),this.vditor):this.vditor.currentMode==="wysiwyg"?(0,z.oC)(this.vditor.lute.Md2VditorDOM(S),this.vditor):Hl(this.vditor,S),this.vditor.outline.render(this.vditor),Jt(this.vditor)},_.prototype.setValue=function(S,T){var I=this;T===void 0&&(T=!1),this.vditor.currentMode==="sv"?(this.vditor.sv.element.innerHTML="<div data-block='0'>".concat(this.vditor.lute.SpinVditorSVDOM(S),"</div>"),Li(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):this.vditor.currentMode==="wysiwyg"?oi(this.vditor,S,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(S),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach(function(B){Z(B,I.vditor)}),Bl(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),S||(C(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),T&&this.clearStack()},_.prototype.insertEmptyBlock=function(S){ic(this.vditor,S)},_.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},_.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var S=document.getElementById("vditorIconScript");S&&S.remove(),this.clearCache(),Me(),this.vditor.wysiwyg.unbindListener(),this.vditor.options.after=void 0},_.prototype.getCommentIds=function(){return this.vditor.currentMode!=="wysiwyg"?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},_.prototype.hlCommentIds=function(S){if(this.vditor.currentMode==="wysiwyg"){var T=function(I){I.classList.remove("vditor-comment--hover"),S.forEach(function(B){I.getAttribute("data-cmtids").indexOf(B)>-1&&I.classList.add("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(I){T(I)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(I){T(I)})}},_.prototype.unHlCommentIds=function(S){if(this.vditor.currentMode==="wysiwyg"){var T=function(I){S.forEach(function(B){I.getAttribute("data-cmtids").indexOf(B)>-1&&I.classList.remove("vditor-comment--hover")})};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(I){T(I)}),this.vditor.preview.element.style.display!=="none"&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(I){T(I)})}},_.prototype.removeCommentIds=function(S){var T=this;if(this.vditor.currentMode==="wysiwyg"){var I=function(B,re){var ue=B.getAttribute("data-cmtids").split(" ");ue.find(function(fe,ce){if(fe===re)return ue.splice(ce,1),!0}),ue.length===0?(B.outerHTML=B.innerHTML,(0,z.zh)(T.vditor).collapse(!0)):B.setAttribute("data-cmtids",ue.join(" "))};S.forEach(function(B){T.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach(function(re){I(re,B)}),T.vditor.preview.element.style.display!=="none"&&T.vditor.preview.element.querySelectorAll(".vditor-comment").forEach(function(re){I(re,B)})}),De(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},_.prototype.init=function(S,T){var I=this;this.vditor={currentMode:T.mode,element:S,hint:new LZ(T.hint.extend),lute:void 0,options:T,originalInnerHTML:S.innerHTML,outline:new RZ(window.VditorI18n.outline),tip:new XA},this.vditor.sv=new HZ(this.vditor),this.vditor.undo=new FX,this.vditor.wysiwyg=new BX(this.vditor),this.vditor.ir=new MZ(this.vditor),this.vditor.toolbar=new RX(this.vditor),T.resize.enable&&(this.vditor.resize=new jZ(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new d),(T.upload.url||T.upload.handler)&&(this.vditor.upload=new Lt),(0,c.G)(T._lutePath||"".concat(T.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then(function(){I.vditor.lute=(0,AZ.X)({autoSpace:I.vditor.options.preview.markdown.autoSpace,gfmAutoLink:I.vditor.options.preview.markdown.gfmAutoLink,codeBlockPreview:I.vditor.options.preview.markdown.codeBlockPreview,emojiSite:I.vditor.options.hint.emojiPath,emojis:I.vditor.options.hint.emoji,fixTermTypo:I.vditor.options.preview.markdown.fixTermTypo,footnotes:I.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:I.vditor.options.preview.math.inlineDigit,linkBase:I.vditor.options.preview.markdown.linkBase,linkPrefix:I.vditor.options.preview.markdown.linkPrefix,listStyle:I.vditor.options.preview.markdown.listStyle,mark:I.vditor.options.preview.markdown.mark,mathBlockPreview:I.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:I.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:I.vditor.options.preview.markdown.sanitize,toc:I.vditor.options.preview.markdown.toc}),I.vditor.preview=new FZ(I.vditor),Se(I.vditor),T.after&&T.after(),T.icon&&(0,c.J)("".concat(T.cdn,"/dist/js/icons/").concat(T.icon,".js"),"vditorIconScript")})},_}(a.default);const WX=VX})(),o=o.default,o})()})}(mC)),mC.exports}var CTe=wTe();const jc=W9(CTe);function qM(n){n.querySelectorAll("pre > code:not([data-copy-attached])").forEach(t=>{t.setAttribute("data-copy-attached","true");const i=t.parentElement,r=document.createElement("div");r.className="copy-wrapper";const o=document.createElement("button");o.className="copy-btn",o.innerText="复制",o.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(t.innerText),o.innerText="已复制",setTimeout(()=>o.innerText="复制",1500)}catch{o.innerText="失败"}}),i.replaceWith(r),r.appendChild(o),r.appendChild(i)})}const STe=["innerHTML"],OTe={style:{margin:"12px"}},xTe={class:"dida-operation-container"},ETe={class:"dida-code-submit-div"},PTe=pe({__name:"ProblemDetail",setup(n){let e=Qu();const{globalProperties:t}=Fl(),i=WM();let r=oe("");const o=oe(""),a=oe(null),s=oe(!1),l=oe(null);let u=null;const c=oe(null),d={},f=oe(""),h=oe([]);h.value=Zq();const v=O=>{O&&Ua.push({name:"problem-list",query:{...e.query,title:"",tag:O.name}})},g=()=>{Ua.push({name:"judge-list",query:{problem_id:o.value}})},p=()=>{},m=()=>{Ua.push({name:"problem-recommend",params:{problemId:o.value}})},b=async()=>{if(!o.value){pC(t,"问题ID无效");return}const O=parseInt(f.value);if(!sTe(O)){pC(t,"请选择所编写的语言");return}const w=u==null?void 0:u.getValue();if(!w){pC(t,"请输入所需提交的代码");return}const E=await cTe(o.value,O,w);if(E.code!==0){Oo(t,E.code);return}hh(t,"提交成功，正在跳转到详情页面");const P=E.data.id;await Ua.push({path:"/judge/"+P})},C=O=>{u&&oR.setModelLanguage(u.getModel(),Jq(O))};return mt(async()=>{if(e.params.problemId&&e.params.problemId.length===1)o.value=e.params.problemId[0];else{await Ua.push({name:"problem"});return}s.value=!0;const O=await vTe(o.value);if(O.code!==0){s.value=!1,Oo(t,O.code),await Ua.push({name:"problem"});return}O.data.tags&&O.data.tags.forEach(P=>{d[P.id]=P}),l.value=eG(O.data.problem,d),i.setTitle(l.value.title+" - "+i.getTitle);let w=l.value.description;const E={math:{inlineDigit:!0,engine:"KaTeX"}};r.value=await jc.md2html(w,E),await tn(()=>{a.value&&(jc.mathRender(a.value),jc.highlightRender({lineNumber:!0,enable:!0},a.value),qM(a.value),c.value&&(u=oR.create(c.value,{value:"",language:"cpp",minimap:{enabled:!0},colorDecorators:!0,readOnly:!1,theme:"vs-dark"}))),s.value=!1})}),(O,w)=>{const E=Nl,P=xp,D=QL,k=Bt,L=Iu,M=JL,A=yO,j=Mu,V=Op,H=ar;return sn(),di(H,{loading:s.value},{default:ze(()=>[x(V,{class:"dida-main-content"},{default:ze(()=>[x(P,{span:8},{default:ze(()=>[x(E,{style:{margin:"10px"}},{default:ze(()=>[Si("div",{innerHTML:Uo(r),ref_key:"markdownRef",ref:a},null,8,STe)]),_:1})]),_:1}),x(P,{span:4},{default:ze(()=>[Si("div",OTe,[x(M,{layout:"vertical",bordered:!0},{default:ze(()=>[x(D,{label:"标题"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.title),1)]}),_:1}),x(D,{label:"时间限制"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.timeLimit),1)]}),_:1}),x(D,{label:"内存限制"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.memoryLimit),1)]}),_:1}),x(D,{label:"判题方式"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.judgeType),1)]}),_:1}),x(D,{label:"正确提交"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.accept),1)]}),_:1}),x(D,{label:"提交总数"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.attempt),1)]}),_:1}),x(D,{label:"创建时间"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.insertTime),1)]}),_:1}),x(D,{label:"更新时间"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.updateTime),1)]}),_:1}),x(D,{label:"上传用户"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.creatorNickname),1)]}),_:1}),x(D,{label:"题目来源"},{default:ze(()=>{var N;return[rn($i((N=l.value)==null?void 0:N.source),1)]}),_:1}),x(D,{label:"标签"},{default:ze(()=>[x(L,null,{default:ze(()=>{var N;return[(sn(!0),xr(Ft,null,El((N=l.value)==null?void 0:N.tags,F=>(sn(),di(k,{key:F.id,variant:"dashed",onClick:()=>v(F)},{default:ze(()=>[rn($i(F.name),1)]),_:2},1032,["onClick"]))),128))]}),_:1})]),_:1})]),_:1}),Si("div",xTe,[x(L,null,{default:ze(()=>[x(k,{onClick:g},{default:ze(()=>w[1]||(w[1]=[rn("提交记录")])),_:1}),x(k,{onClick:p},{default:ze(()=>w[2]||(w[2]=[rn("题目讨论")])),_:1}),x(k,{onClick:m},{default:ze(()=>w[3]||(w[3]=[rn("题目推荐")])),_:1})]),_:1})]),Si("div",ETe,[x(L,null,{default:ze(()=>[x(j,{modelValue:f.value,"onUpdate:modelValue":w[0]||(w[0]=N=>f.value=N),label:"语言：",placeholder:"请选择提交语言","auto-width":"",clearable:"",onChange:C},{default:ze(()=>[(sn(!0),xr(Ft,null,El(h.value,N=>(sn(),di(A,{key:N.value,value:N.value,label:N.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),x(k,{onClick:b},{default:ze(()=>w[4]||(w[4]=[rn("提交")])),_:1})]),_:1}),Si("div",{ref_key:"codeEditRef",ref:c,class:"dida-code-editor"},null,512)])])]),_:1})]),_:1})]),_:1},8,["loading"])}}}),kTe=kr(PTe,[["__scopeId","data-v-b531a672"]]),DTe={};function TTe(n,e){return" TODO "}const ITe=kr(DTe,[["render",TTe]]);function LTe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}const MTe=pe({__name:"JudgeJobList",setup(n){const e=Qu(),t=BO(),{globalProperties:i}=Fl();let r=!1,o=null;const a=oe({problemId:"",username:"",language:void 0,status:void 0}),s=oe([{title:"ID",colKey:"id",cell:(E,P)=>x(Bt,{variant:"text",onClick:()=>p(P.row.id)},{default:()=>[P.row.id]})},{title:"问题",colKey:"problemId",cell:(E,P)=>x(Bt,{variant:"text",onClick:()=>g(P.row.problemId)},{default:()=>[P.row.problemId]})},{title:"状态",colKey:"status",align:"center",cell:(E,P)=>{const D=P.row.status,k=A0(D);let L;switch(D){case gr.Init:case gr.Rejudge:case gr.Compiling:case gr.Running:L="default";break;case gr.Accept:L="success";break;case gr.PE:L="warning";break;default:L="danger";break}let M=[];return Xb(D)&&M.push(x(ar,{text:P.row.state,size:"small",class:"dida-status-loading"},null)),M.push(x("span",null,[k])),x(Bt,{theme:L,variant:"outline",onClick:()=>p(P.row.id)},LTe(M)?M:{default:()=>[M]})}},{title:"分数",colKey:"score"},{title:"时间",colKey:"time"},{title:"内存",colKey:"memory"},{title:"代码",colKey:"code",cell:(E,P)=>x(Bt,{theme:"default",onClick:()=>p(P.row.id)},{default:()=>[P.row.language+" / "+P.row.codeLength]})},{title:"作者",colKey:"author",width:200,cell:(E,P)=>x(Bt,{variant:"text",onClick:()=>m(P.row.authorUsername)},{default:()=>[P.row.authorNickname]})},{title:"提交时间",colKey:"approveTime",width:180}]),l=oe(!1);let u=1,c=50;const d=oe({defaultPageSize:c,defaultCurrent:u,total:0,pageSizeOptions:[50,100]}),f=oe(),h=oe([]);h.value=Zq();const v=oe([]);v.value=uTe();const g=E=>{E&&t.push({path:"/problem/"+E})},p=E=>{E&&t.push({path:"/judge/"+E})},m=E=>{E&&t.push({path:"/user/"+E})},b=async()=>{await t.push({query:{...e.query,page:1,page_size:c,problem_id:a.value.problemId,username:a.value.username,language:a.value.language,status:a.value.status}})},C=async()=>{a.value.problemId="",a.value.username="",a.value.language=void 0,a.value.status=void 0,await t.push({query:{...e.query,page:1,page_size:c,problem_id:"",username:"",language:void 0,status:void 0}})},O=async(E,P)=>{P&&(l.value=!0);let D=!1;try{const{current:k,pageSize:L}=E,M=await fTe(a.value.problemId,a.value.username,a.value.language,a.value.status,k,L);f.value=[],M.code===0?M.data.list&&M.data.list.length>0?(M.data.list.forEach(j=>{var H;const V=Qq(j);(H=f.value)==null||H.push(V),Xb(j.status)&&(D=!0)}),d.value={...d.value,total:M.data.total_count}):(hh(i,"未找到记录"),d.value={...d.value,total:0}):P&&Oo(i,M.code)}catch(k){console.error(k),P&&Oo(i,$O())}finally{P&&(l.value=!1),D&&r&&setTimeout(()=>{O({current:u,pageSize:c},!1)},5e3)}},w=async E=>{await t.push({query:{...e.query,page:E.current,page_size:E.pageSize}})};return mt(async()=>{r=!0,o=Pe(()=>e.query,E=>{a.value.problemId=E.problem_id||"",a.value.username=E.username||"",E.language!=null?a.value.language=Number(E.language):a.value.language=void 0,E.status!=null?a.value.status=Number(E.status):a.value.status=void 0;const P=parseInt(E.page)||d.value.defaultCurrent,D=parseInt(E.page_size)||d.value.defaultPageSize;u=P,c=D,d.value={...d.value,defaultCurrent:u,defaultPageSize:c},O({current:u,pageSize:c},!0)},{immediate:!0})}),yi(()=>{r=!1,o&&o()}),(E,P)=>{const D=Do,k=t_,L=yO,M=Mu,A=Bt,j=Iu,V=e_,H=Ip,N=Nl;return sn(),di(N,{style:{margin:"10px"}},{default:ze(()=>[x(V,{layout:"inline",onSubmit:b,onReset:C},{default:ze(()=>[x(k,{label:"题号"},{default:ze(()=>[x(D,{modelValue:a.value.problemId,"onUpdate:modelValue":P[0]||(P[0]=F=>a.value.problemId=F),placeholder:"请输入完整题号"},null,8,["modelValue"])]),_:1}),x(k,{label:"用户"},{default:ze(()=>[x(D,{modelValue:a.value.username,"onUpdate:modelValue":P[1]||(P[1]=F=>a.value.username=F),placeholder:"仅支持输入完整用户名"},null,8,["modelValue"])]),_:1}),x(k,{label:"语言"},{default:ze(()=>[x(M,{modelValue:a.value.language,"onUpdate:modelValue":P[2]||(P[2]=F=>a.value.language=F),placeholder:"请选择提交语言","auto-width":"",clearable:""},{default:ze(()=>[(sn(!0),xr(Ft,null,El(h.value,F=>(sn(),di(L,{key:F.value,value:F.value,label:F.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),x(k,{label:"状态"},{default:ze(()=>[x(M,{modelValue:a.value.status,"onUpdate:modelValue":P[3]||(P[3]=F=>a.value.status=F),placeholder:"请选择评测状态","auto-width":"",clearable:""},{default:ze(()=>[(sn(!0),xr(Ft,null,El(v.value,F=>(sn(),di(L,{key:F.value,value:F.value,label:F.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),x(k,null,{default:ze(()=>[x(j,null,{default:ze(()=>[x(A,{theme:"primary",type:"submit"},{default:ze(()=>P[4]||(P[4]=[rn("搜索")])),_:1}),x(A,{theme:"default",variant:"base",type:"reset"},{default:ze(()=>P[5]||(P[5]=[rn("重置")])),_:1})]),_:1})]),_:1})]),_:1}),x(H,{data:f.value,columns:s.value,"row-key":"id","vertical-align":"top",hover:!0,pagination:d.value,loading:l.value,onPageChange:w},null,8,["data","columns","pagination","loading"])]),_:1})}}}),ATe=kr(MTe,[["__scopeId","data-v-609b5c5b"]]),RTe=["innerHTML"];function y5(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!Qt(n)}const NTe=pe({__name:"JudgeJobDetail",setup(n){const e=Qu(),t=BO(),{globalProperties:i}=Fl();let r=!1,o=-1;const a=oe(null),s=oe(""),l=oe(null),u=oe([{title:"ID",colKey:"id"},{title:"问题",colKey:"problemId",cell:(p,m)=>x(Bt,{variant:"text",onClick:()=>f(m.row.problemId)},{default:()=>[m.row.problemId]})},{title:"状态",colKey:"status",align:"center",cell:(p,m)=>{const b=m.row.status,C=A0(b);let O;switch(b){case gr.Init:case gr.Rejudge:case gr.Compiling:case gr.Running:O="default";break;case gr.Accept:O="success";break;case gr.PE:O="warning";break;default:O="danger";break}let w=[];return Xb(b)&&w.push(x(ar,{text:m.row.state,size:"small",class:"dida-status-loading"},null)),w.push(x("span",null,[C])),x(Bt,{theme:O,variant:"outline"},y5(w)?w:{default:()=>[w]})}},{title:"分数",colKey:"score"},{title:"时间",colKey:"time"},{title:"内存",colKey:"memory"},{title:"代码",colKey:"language",cell:(p,m)=>x("span",null,[m.row.language+" / "+m.row.codeLength])},{title:"作者",colKey:"author",cell:(p,m)=>x(Bt,{variant:"text",onClick:()=>h(m.row.authorUsername)},{default:()=>[m.row.authorNickname]})},{title:"提交时间",colKey:"approveTime",width:180}]),c=oe(!1),d=oe(),f=p=>{p&&t.push({path:"/problem/"+p})},h=p=>{p&&t.push({path:"/user/"+p})},v=p=>{const m=p.status,b=A0(m);let C;switch(m){case gr.Init:case gr.Rejudge:case gr.Compiling:case gr.Running:C="default";break;case gr.Accept:C="success";break;case gr.PE:C="warning";break;default:C="danger";break}return x(Iu,null,{default:()=>[x(Bt,{theme:"default",variant:"outline"},{default:()=>[p.taskId]}),x(Bt,{theme:C,variant:"outline"},y5(b)?b:{default:()=>[b]}),x("span",null,[rn("分数："),p.score]),x("span",null,[rn("用时："),p.time]),x("span",null,[rn("内存："),p.memory])]})},g=async p=>{var b;p&&(c.value=!0);let m=!1;try{const C=await dTe(o);if(d.value=[],C.code===0){const O=C.data,w=Qq(O);(b=d.value)==null||b.push(w);const E={};if(O.code){const D=`\`\`\`${Jq(O.language)}
${O.code}
\`\`\``;s.value=await jc.md2html(D,E),await tn(()=>{l.value&&(jc.highlightRender({lineNumber:!0,enable:!0},l.value),qM(l.value))})}a.value=w,Xb(O.status)&&(m=!0)}else p&&Oo(i,C.code)}catch(C){console.error(C),p&&Oo(i,$O())}finally{p&&(c.value=!1),m&&r&&setTimeout(()=>{g(!1)},5e3)}};return mt(async()=>{if(r=!0,e.params.judgeId&&e.params.judgeId.length===1)o=parseInt(e.params.judgeId[0]);else{await t.push({name:"judge"});return}await g(!0)}),yi(()=>{r=!1}),(p,m)=>{var E,P;const b=Ip,C=Nl,O=NM,w=RM;return sn(),xr(Ft,null,[x(C,{style:{margin:"10px"}},{default:ze(()=>[x(b,{data:d.value,columns:u.value,"row-key":"id","vertical-align":"top",hover:!0,loading:c.value},null,8,["data","columns","loading"])]),_:1}),Si("div",{innerHTML:s.value,ref_key:"markdownCodeRef",ref:l},null,8,RTe),(E=a.value)!=null&&E.compileMessage?(sn(),di(C,{key:0,class:"compile-message"},{default:ze(()=>{var D;return[rn($i((D=a.value)==null?void 0:D.compileMessage),1)]}),_:1})):ad("",!0),((P=a.value)==null?void 0:P.task.length)>0?(sn(),di(w,{key:1,class:"task-panel"},{default:ze(()=>{var D;return[(sn(!0),xr(Ft,null,El((D=a.value)==null?void 0:D.task,k=>(sn(),di(O,{key:k.taskId,header:()=>v(k)},{default:ze(()=>[rn($i(k.content)+" "+$i(k.waHint),1)]),_:2},1032,["header"]))),128))]}),_:1})):ad("",!0)],64)}}}),FTe=kr(NTe,[["__scopeId","data-v-dff28af3"]]);function jTe(n){let e="";for(n++;n>0;)n--,e=String.fromCharCode(65+n%26)+e,n=Math.floor(n/26);return e}async function tG(n){const e={};if(e.id=n.id,e.ownerId=n.owner_id,e.ownerUsername=n.owner_username,e.ownerNickname=n.owner_nickname,e.title=n.title,e.startTime=new Date(n.start_time).toLocaleString(),e.endTime=new Date(n.end_time).toLocaleString(),n.descriptions){e.descriptions=[];const t={math:{inlineDigit:!0,engine:"KaTeX"}};for(let i=0;i<n.descriptions.length;i++){const r=n.descriptions[i],o={};o.title=r.title,o.content=await jc.md2html(r.content,t),o.sort=r.sort,e.descriptions.push(o)}}if(e.notification=n.notification,n.problems){e.problems=[],n.problems.sort((t,i)=>t.sort-i.sort);for(let t=0;t<n.problems.length;t++){const i=n.problems[t];i.accept||(i.accept=0),i.attempt||(i.attempt=0),i.id=jTe(t),e.problems.push(i)}}return e}function HTe(n){return ea({url:"/contest?id="+n,method:"get"})}function BTe(n,e){return ea({url:"/contest/list?page="+n+"&page_size="+e,method:"get"})}function $Te(n){return ea({url:"/contest/create",method:"post",data:n})}const VTe={style:{margin:"10px"}},WTe=pe({__name:"ContestList",setup(n){const e=Qu(),t=BO(),{globalProperties:i}=Fl();let r=null;const o=oe(!1),a=oe(!1),s=oe([{title:"ID",colKey:"id",width:"100",cell:(O,w)=>x(Bt,{variant:"text",onClick:()=>g(w.row.id)},{default:()=>[w.row.id]})},{title:"标题",colKey:"title",cell:(O,w)=>x(Bt,{variant:"text",onClick:()=>g(w.row.id)},{default:()=>[w.row.title]})},{title:"负责人",colKey:"ownerNickname",width:"200"},{title:"开始时间",colKey:"startTime",width:"180"},{title:"结束时间",colKey:"endTime",width:"180"}]),l=oe(!1);let u=1,c=50;const d=oe({defaultPageSize:c,defaultCurrent:u,total:0,pageSizeOptions:[50,100]}),f=oe(),h=oe({title:""}),v=oe({title:"",description:"",open_time:[]}),g=O=>{O&&t.push({path:"/contest/"+O})},p=async(O,w)=>{var E;l.value=!0;try{const{current:P,pageSize:D}=O,k=await BTe(P,D);if(f.value=[],k.code===0){const L=k.data.list;for(let M=0;M<L.length;M++){const A=L[M],j=await tG(A);(E=f.value)==null||E.push(j)}d.value={...d.value,total:k.data.total_count}}else w&&Oo(i,k.code)}catch(P){console.error(P),Oo(i,$O())}finally{l.value=!1}},m=async O=>{await t.push({query:{...e.query,page:O.current,page_size:O.pageSize}})},b=()=>{o.value=!0},C=async()=>{a.value=!0,console.log("contestCreateForm",v.value),$Te(v.value).then(O=>{O.code===0?(hh(i,"创建比赛成功"),o.value=!1,t.push({path:"/contest/"+O.data.id})):Oo(i,O.code)}).finally(()=>{a.value=!1})};return mt(async()=>{r=Pe(()=>e.query,O=>{const w=parseInt(O.page)||d.value.defaultCurrent,E=parseInt(O.page_size)||d.value.defaultPageSize;u=w,c=E,d.value={...d.value,defaultCurrent:u,defaultPageSize:c},p({current:u,pageSize:c},!0)},{immediate:!0})}),yi(()=>{r&&r()}),(O,w)=>{const E=Ip,P=Nl,D=xp,k=Do,L=t_,M=Bt,A=e_,j=Iu,V=Op,H=RK,N=OM;return sn(),xr(Ft,null,[x(V,null,{default:ze(()=>[x(D,{span:9},{default:ze(()=>[x(P,{style:{margin:"10px"}},{default:ze(()=>[x(E,{data:f.value,columns:s.value,"row-key":"id","vertical-align":"top",hover:!0,pagination:d.value,loading:l.value,onPageChange:m},null,8,["data","columns","pagination","loading"])]),_:1})]),_:1}),x(D,{span:3},{default:ze(()=>[Si("div",VTe,[x(P,{class:"sh-card"},{default:ze(()=>[x(A,{model:h.value},{default:ze(()=>[x(L,{label:"标题"},{default:ze(()=>[x(k,{modelValue:h.value.title,"onUpdate:modelValue":w[0]||(w[0]=F=>h.value.title=F),placeholder:"暂不支持模糊查询"},null,8,["modelValue"])]),_:1}),x(L,null,{default:ze(()=>[x(M,{theme:"primary"},{default:ze(()=>w[5]||(w[5]=[rn("提交")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),x(P,{class:"sh-card"},{default:ze(()=>[x(j,null,{default:ze(()=>[x(M,{onClick:b},{default:ze(()=>w[6]||(w[6]=[rn("创建")])),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),x(N,{visible:o.value,"onUpdate:visible":w[4]||(w[4]=F=>o.value=F),header:"创建比赛",onConfirm:C,"confirm-loading":a.value},{default:ze(()=>[x(A,{"label-width":80,model:v.value,onSubmit:w[3]||(w[3]=Cie(()=>{},["prevent"]))},{default:ze(()=>[x(L,{label:"标题"},{default:ze(()=>[x(k,{modelValue:v.value.title,"onUpdate:modelValue":w[1]||(w[1]=F=>v.value.title=F),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1}),x(L,{label:"开启时间"},{default:ze(()=>[x(H,{"enable-time-picker":"","allow-input":"",clearable:"",modelValue:v.value.open_time,"onUpdate:modelValue":w[2]||(w[2]=F=>v.value.open_time=F)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","confirm-loading"])],64)}}}),jd=kr(WTe,[["__scopeId","data-v-9fe1e17c"]]),zTe=["innerHTML"],UTe={style:{margin:"12px"}},KTe=pe({__name:"ContestDetail",setup(n){let e=Qu();const{globalProperties:t}=Fl(),i=oe(""),r=oe(!1),o=oe(null),a=oe([{title:"ID",colKey:"id",cell:(l,u)=>x(Bt,{variant:"text"},{default:()=>[u.row.id]})},{title:"标题",colKey:"title",cell:(l,u)=>x(Bt,{variant:"text"},{default:()=>[u.row.title]})},{title:"正确",colKey:"accept"},{title:"提交",colKey:"attempt"}]),s=oe([]);return mt(async()=>{if(e.params.contestId&&e.params.contestId.length===1)i.value=e.params.contestId[0];else{await Ua.push({name:"contest"});return}r.value=!0;const l=await HTe(i.value);if(l.code!==0){r.value=!1,Oo(t,l.code),await Ua.push({name:"contest"});return}o.value=await tG(l.data),s.value=o.value.problems,await tn(()=>{const u=document.querySelectorAll(".contest-description");u&&u.length>0&&u.forEach(c=>{jc.mathRender(c),jc.highlightRender({lineNumber:!0,enable:!0},c),qM(c)}),r.value=!1})}),(l,u)=>{const c=tq,d=Bt,f=Iu,h=NM,v=RM,g=Ip,p=Nl,m=xp,b=QL,C=JL,O=Op,w=ar;return sn(),di(w,{loading:r.value},{default:ze(()=>[x(O,{class:"dida-main-content"},{default:ze(()=>[x(m,{span:8},{default:ze(()=>{var E,P,D;return[Si("h1",null,$i((E=o.value)==null?void 0:E.title),1),(P=o.value)!=null&&P.notification?(sn(),di(c,{key:0,theme:"info",message:(D=o.value)==null?void 0:D.notification},null,8,["message"])):ad("",!0),x(v,{"default-value":[0],"expand-icon":!1,borderless:!0},{default:ze(()=>{var k;return[(sn(!0),xr(Ft,null,El((k=o.value)==null?void 0:k.descriptions,(L,M)=>(sn(),di(h,{key:M,header:L.title},IP({default:ze(()=>[Si("div",{innerHTML:L.content,class:"dida-content-description"},null,8,zTe)]),_:2},[M===0?{name:"headerRightContent",fn:ze(()=>[x(f,{size:"small"},{default:ze(()=>[x(d,{size:"small"},{default:ze(()=>u[0]||(u[0]=[rn("收起全部")])),_:1}),x(d,{size:"small"},{default:ze(()=>u[1]||(u[1]=[rn("展开全部")])),_:1})]),_:1})]),key:"0"}:void 0]),1032,["header"]))),128))]}),_:1}),x(p,{style:{margin:"10px"}},{default:ze(()=>[x(g,{data:s.value,columns:a.value,"row-key":"id","vertical-align":"top",hover:!0},null,8,["data","columns"])]),_:1})]}),_:1}),x(m,{span:4},{default:ze(()=>[Si("div",UTe,[x(C,{layout:"vertical",bordered:!0},{default:ze(()=>[x(b,{label:"开始时间"},{default:ze(()=>{var E;return[rn($i((E=o.value)==null?void 0:E.startTime),1)]}),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["loading"])}}}),qTe=kr(KTe,[["__scopeId","data-v-7aec72d2"]]),GTe=pe({__name:"ManageJudge",setup(n){const{globalProperties:e}=Fl(),t=async()=>{const i=await hTe();if(i.code!==0){Oo(e,i.code);return}hh(e,"重判成功")};return(i,r)=>{const o=Bt,a=Nl;return sn(),di(a,{class:"yj-manage-card",title:"重判"},{default:ze(()=>[x(o,{onClick:t},{default:ze(()=>r[0]||(r[0]=[rn("重判")])),_:1})]),_:1})}}}),YTe=kr(GTe,[["__scopeId","data-v-5ec0c045"]]),nG=[{name:"problem-list",tab:"problem",sidebar:"problem-list",path:"",title:"问题列表",icon:"cpu",component:m5},{name:"problem-detail",tab:"problem",sidebar:"problem-list",path:":problemId+",title:"问题详情",icon:"cpu",component:kTe},{name:"problem-recommend",tab:"problem",sidebar:"problem-recommend",path:"recommend/:problemId*",title:"问题推荐",icon:"cpu",component:ITe},{name:"judge-list",tab:"judge",sidebar:"judge-list",path:"",title:"评测列表",icon:"cpu",component:ATe},{name:"judge-detail",tab:"judge",sidebar:"judge-list",path:":judgeId+",title:"评测详情",icon:"cpu",component:FTe},{name:"contest-list",tab:"contest",sidebar:"contest-list",path:"",title:"比赛列表",icon:"cpu",component:jd},{name:"contest-recent",tab:"contest",sidebar:"contest-recent",path:"recent",title:"近期比赛",icon:"cpu",component:jd},{name:"contest-detail",tab:"contest-detail",sidebar:"contest-detail",path:":contestId+",title:"比赛详情",icon:"cpu",component:qTe},{name:"contest-problem",tab:"contest-detail",sidebar:"contest-problem",path:":contestId+/problem",title:"问题列表",icon:"cpu",component:jd},{name:"contest-judge",tab:"contest-detail",sidebar:"contest-judge",path:":contestId+/judge",title:"评测列表",icon:"cpu",component:jd},{name:"contest-rank",tab:"contest-detail",sidebar:"contest-rank",path:":contestId+/rank",title:"比赛排名",icon:"cpu",component:jd},{name:"contest-statistics",tab:"contest-detail",sidebar:"contest-statistics",path:":contestId+/statistics",title:"结果统计",icon:"cpu",component:jd},{name:"contest-discuss",tab:"contest-detail",sidebar:"contest-discuss",path:":contestId+/discuss",title:"比赛讨论",icon:"cpu",component:jd},{name:"manage-problem",tab:"manage",path:"problem",sidebar:"manage-problem",title:"问题管理",icon:"cpu",auths:["i-manage-problem"],component:m5},{name:"manage-judge",tab:"manage",path:"judge",sidebar:"manage-judge",title:"评测管理",icon:"cpu",auths:["i-manage-judge"],component:YTe}],_5=(n,e,t)=>{t.tab==e&&(t.disableSidebar||t.sidebar==null||t.sidebar!=t.name||n.push({name:t.name,title:t.title,icon:t.icon,to:{name:t.name}}))},ZTe=n=>{const e=[];return nG.forEach(t=>{if(qq(t)){const i=[];t.children.forEach(r=>{_5(i,n,r)}),i.length>0&&e.push({title:t.title,children:i})}else _5(e,n,t)}),e},w5=(n,e)=>{const t=MDe(e.tab),i={name:e.name,path:"/"+e.path,meta:{title:e.title+" - "+t.title,tab:e.tab,sidebar:e.sidebar,showSidebar:t.showSidebar,needLogin:t.needLogin||e.needLogin,tabAuths:t.auths,auths:e.auths},component:e.component};t.disablePath||(i.path=t.path+i.path),n.push(i)},XTe=n=>{nG.forEach(e=>{qq(e)?e.children.forEach(t=>{w5(n,t)}):w5(n,e)})},l_=[];RDe(l_);XTe(l_);l_.push({path:"/403",name:"403",component:Gq});l_.push({path:"/:pathMatch(.*)*",name:"404",component:Kq});const Ua=_De({history:Yke("/"),routes:l_});Ua.beforeEach((n,e,t)=>{if(n.name==null||!Ua.hasRoute(n.name)){t({name:"home"});return}const i=n.matched[n.matched.length-1].meta;if(i.redirect){t({name:i.redirect});return}if(i.needLogin){const o=Wg();if(o.getToken==null||o.getToken==""){t({name:"login",query:{redirect_uri:n.fullPath}});return}}const r=i.tabAuths;if(r&&!Wg().hasAllAuths(r)){t({name:"403",query:{target:n.fullPath}});return}t()});Ua.afterEach((n,e)=>{if(n.name===e.name)return;const t=FO(),i=WM();let r=null;if(n.matched.length>0&&(r=n.matched[n.matched.length-1].meta),r!=null&&r.title&&i.setTitle(r==null?void 0:r.title),r!=null&&r.showSidebar){t.setSidebarShow(!0);const o=ZTe(r==null?void 0:r.tab);t.setMenuList(o),t.setMenuActiveName(r==null?void 0:r.sidebar)}else t.setSidebarShow(!1)});var jE,C5;function JTe(){if(C5)return jE;C5=1;function n(ye){return ye instanceof Map?ye.clear=ye.delete=ye.set=function(){throw new Error("map is read-only")}:ye instanceof Set&&(ye.add=ye.clear=ye.delete=function(){throw new Error("set is read-only")}),Object.freeze(ye),Object.getOwnPropertyNames(ye).forEach(We=>{const gt=ye[We],jt=typeof gt;(jt==="object"||jt==="function")&&!Object.isFrozen(gt)&&n(gt)}),ye}class e{constructor(We){We.data===void 0&&(We.data={}),this.data=We.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function t(ye){return ye.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(ye,...We){const gt=Object.create(null);for(const jt in ye)gt[jt]=ye[jt];return We.forEach(function(jt){for(const Gn in jt)gt[Gn]=jt[Gn]}),gt}const r="</span>",o=ye=>!!ye.scope,a=(ye,{prefix:We})=>{if(ye.startsWith("language:"))return ye.replace("language:","language-");if(ye.includes(".")){const gt=ye.split(".");return[`${We}${gt.shift()}`,...gt.map((jt,Gn)=>`${jt}${"_".repeat(Gn+1)}`)].join(" ")}return`${We}${ye}`};class s{constructor(We,gt){this.buffer="",this.classPrefix=gt.classPrefix,We.walk(this)}addText(We){this.buffer+=t(We)}openNode(We){if(!o(We))return;const gt=a(We.scope,{prefix:this.classPrefix});this.span(gt)}closeNode(We){o(We)&&(this.buffer+=r)}value(){return this.buffer}span(We){this.buffer+=`<span class="${We}">`}}const l=(ye={})=>{const We={children:[]};return Object.assign(We,ye),We};class u{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(We){this.top.children.push(We)}openNode(We){const gt=l({scope:We});this.add(gt),this.stack.push(gt)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(We){return this.constructor._walk(We,this.rootNode)}static _walk(We,gt){return typeof gt=="string"?We.addText(gt):gt.children&&(We.openNode(gt),gt.children.forEach(jt=>this._walk(We,jt)),We.closeNode(gt)),We}static _collapse(We){typeof We!="string"&&We.children&&(We.children.every(gt=>typeof gt=="string")?We.children=[We.children.join("")]:We.children.forEach(gt=>{u._collapse(gt)}))}}class c extends u{constructor(We){super(),this.options=We}addText(We){We!==""&&this.add(We)}startScope(We){this.openNode(We)}endScope(){this.closeNode()}__addSublanguage(We,gt){const jt=We.root;gt&&(jt.scope=`language:${gt}`),this.add(jt)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function d(ye){return ye?typeof ye=="string"?ye:ye.source:null}function f(ye){return g("(?=",ye,")")}function h(ye){return g("(?:",ye,")*")}function v(ye){return g("(?:",ye,")?")}function g(...ye){return ye.map(gt=>d(gt)).join("")}function p(ye){const We=ye[ye.length-1];return typeof We=="object"&&We.constructor===Object?(ye.splice(ye.length-1,1),We):{}}function m(...ye){return"("+(p(ye).capture?"":"?:")+ye.map(jt=>d(jt)).join("|")+")"}function b(ye){return new RegExp(ye.toString()+"|").exec("").length-1}function C(ye,We){const gt=ye&&ye.exec(We);return gt&&gt.index===0}const O=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function w(ye,{joinWith:We}){let gt=0;return ye.map(jt=>{gt+=1;const Gn=gt;let oi=d(jt),at="";for(;oi.length>0;){const Xe=O.exec(oi);if(!Xe){at+=oi;break}at+=oi.substring(0,Xe.index),oi=oi.substring(Xe.index+Xe[0].length),Xe[0][0]==="\\"&&Xe[1]?at+="\\"+String(Number(Xe[1])+Gn):(at+=Xe[0],Xe[0]==="("&&gt++)}return at}).map(jt=>`(${jt})`).join(We)}const E=/\b\B/,P="[a-zA-Z]\\w*",D="[a-zA-Z_]\\w*",k="\\b\\d+(\\.\\d+)?",L="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",M="\\b(0b[01]+)",A="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",j=(ye={})=>{const We=/^#![ ]*\//;return ye.binary&&(ye.begin=g(We,/.*\b/,ye.binary,/\b.*/)),i({scope:"meta",begin:We,end:/$/,relevance:0,"on:begin":(gt,jt)=>{gt.index!==0&&jt.ignoreMatch()}},ye)},V={begin:"\\\\[\\s\\S]",relevance:0},H={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[V]},N={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[V]},F={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},W=function(ye,We,gt={}){const jt=i({scope:"comment",begin:ye,end:We,contains:[]},gt);jt.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Gn=m("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return jt.contains.push({begin:g(/[ ]+/,"(",Gn,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),jt},U=W("//","$"),q=W("/\\*","\\*/"),Z=W("#","$"),z={scope:"number",begin:k,relevance:0},ie={scope:"number",begin:L,relevance:0},ee={scope:"number",begin:M,relevance:0},K={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[V,{begin:/\[/,end:/\]/,relevance:0,contains:[V]}]},J={scope:"title",begin:P,relevance:0},$={scope:"title",begin:D,relevance:0},Y={begin:"\\.\\s*"+D,relevance:0};var ae=Object.freeze({__proto__:null,APOS_STRING_MODE:H,BACKSLASH_ESCAPE:V,BINARY_NUMBER_MODE:ee,BINARY_NUMBER_RE:M,COMMENT:W,C_BLOCK_COMMENT_MODE:q,C_LINE_COMMENT_MODE:U,C_NUMBER_MODE:ie,C_NUMBER_RE:L,END_SAME_AS_BEGIN:function(ye){return Object.assign(ye,{"on:begin":(We,gt)=>{gt.data._beginMatch=We[1]},"on:end":(We,gt)=>{gt.data._beginMatch!==We[1]&&gt.ignoreMatch()}})},HASH_COMMENT_MODE:Z,IDENT_RE:P,MATCH_NOTHING_RE:E,METHOD_GUARD:Y,NUMBER_MODE:z,NUMBER_RE:k,PHRASAL_WORDS_MODE:F,QUOTE_STRING_MODE:N,REGEXP_MODE:K,RE_STARTERS_RE:A,SHEBANG:j,TITLE_MODE:J,UNDERSCORE_IDENT_RE:D,UNDERSCORE_TITLE_MODE:$});function le(ye,We){ye.input[ye.index-1]==="."&&We.ignoreMatch()}function Q(ye,We){ye.className!==void 0&&(ye.scope=ye.className,delete ye.className)}function ne(ye,We){We&&ye.beginKeywords&&(ye.begin="\\b("+ye.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",ye.__beforeBegin=le,ye.keywords=ye.keywords||ye.beginKeywords,delete ye.beginKeywords,ye.relevance===void 0&&(ye.relevance=0))}function se(ye,We){Array.isArray(ye.illegal)&&(ye.illegal=m(...ye.illegal))}function de(ye,We){if(ye.match){if(ye.begin||ye.end)throw new Error("begin & end are not supported with match");ye.begin=ye.match,delete ye.match}}function he(ye,We){ye.relevance===void 0&&(ye.relevance=1)}const ge=(ye,We)=>{if(!ye.beforeMatch)return;if(ye.starts)throw new Error("beforeMatch cannot be used with starts");const gt=Object.assign({},ye);Object.keys(ye).forEach(jt=>{delete ye[jt]}),ye.keywords=gt.keywords,ye.begin=g(gt.beforeMatch,f(gt.begin)),ye.starts={relevance:0,contains:[Object.assign(gt,{endsParent:!0})]},ye.relevance=0,delete gt.beforeMatch},Se=["of","and","for","in","not","or","if","then","parent","list","value"],Te="keyword";function Ce(ye,We,gt=Te){const jt=Object.create(null);return typeof ye=="string"?Gn(gt,ye.split(" ")):Array.isArray(ye)?Gn(gt,ye):Object.keys(ye).forEach(function(oi){Object.assign(jt,Ce(ye[oi],We,oi))}),jt;function Gn(oi,at){We&&(at=at.map(Xe=>Xe.toLowerCase())),at.forEach(function(Xe){const ct=Xe.split("|");jt[ct[0]]=[oi,xe(ct[0],ct[1])]})}}function xe(ye,We){return We?Number(We):Me(ye)?0:1}function Me(ye){return Se.includes(ye.toLowerCase())}const Re={},Ae=ye=>{console.error(ye)},De=(ye,...We)=>{console.log(`WARN: ${ye}`,...We)},Ee=(ye,We)=>{Re[`${ye}/${We}`]||(console.log(`Deprecated as of ${ye}. ${We}`),Re[`${ye}/${We}`]=!0)},me=new Error;function Oe(ye,We,{key:gt}){let jt=0;const Gn=ye[gt],oi={},at={};for(let Xe=1;Xe<=We.length;Xe++)at[Xe+jt]=Gn[Xe],oi[Xe+jt]=!0,jt+=b(We[Xe-1]);ye[gt]=at,ye[gt]._emit=oi,ye[gt]._multi=!0}function ke(ye){if(Array.isArray(ye.begin)){if(ye.skip||ye.excludeBegin||ye.returnBegin)throw Ae("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),me;if(typeof ye.beginScope!="object"||ye.beginScope===null)throw Ae("beginScope must be object"),me;Oe(ye,ye.begin,{key:"beginScope"}),ye.begin=w(ye.begin,{joinWith:""})}}function Ve(ye){if(Array.isArray(ye.end)){if(ye.skip||ye.excludeEnd||ye.returnEnd)throw Ae("skip, excludeEnd, returnEnd not compatible with endScope: {}"),me;if(typeof ye.endScope!="object"||ye.endScope===null)throw Ae("endScope must be object"),me;Oe(ye,ye.end,{key:"endScope"}),ye.end=w(ye.end,{joinWith:""})}}function lt(ye){ye.scope&&typeof ye.scope=="object"&&ye.scope!==null&&(ye.beginScope=ye.scope,delete ye.scope)}function Ge(ye){lt(ye),typeof ye.beginScope=="string"&&(ye.beginScope={_wrap:ye.beginScope}),typeof ye.endScope=="string"&&(ye.endScope={_wrap:ye.endScope}),ke(ye),Ve(ye)}function $e(ye){function We(at,Xe){return new RegExp(d(at),"m"+(ye.case_insensitive?"i":"")+(ye.unicodeRegex?"u":"")+(Xe?"g":""))}class gt{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Xe,ct){ct.position=this.position++,this.matchIndexes[this.matchAt]=ct,this.regexes.push([ct,Xe]),this.matchAt+=b(Xe)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Xe=this.regexes.map(ct=>ct[1]);this.matcherRe=We(w(Xe,{joinWith:"|"}),!0),this.lastIndex=0}exec(Xe){this.matcherRe.lastIndex=this.lastIndex;const ct=this.matcherRe.exec(Xe);if(!ct)return null;const An=ct.findIndex((ji,er)=>er>0&&ji!==void 0),wn=this.matchIndexes[An];return ct.splice(0,An),Object.assign(ct,wn)}}class jt{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Xe){if(this.multiRegexes[Xe])return this.multiRegexes[Xe];const ct=new gt;return this.rules.slice(Xe).forEach(([An,wn])=>ct.addRule(An,wn)),ct.compile(),this.multiRegexes[Xe]=ct,ct}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Xe,ct){this.rules.push([Xe,ct]),ct.type==="begin"&&this.count++}exec(Xe){const ct=this.getMatcher(this.regexIndex);ct.lastIndex=this.lastIndex;let An=ct.exec(Xe);if(this.resumingScanAtSamePosition()&&!(An&&An.index===this.lastIndex)){const wn=this.getMatcher(0);wn.lastIndex=this.lastIndex+1,An=wn.exec(Xe)}return An&&(this.regexIndex+=An.position+1,this.regexIndex===this.count&&this.considerAll()),An}}function Gn(at){const Xe=new jt;return at.contains.forEach(ct=>Xe.addRule(ct.begin,{rule:ct,type:"begin"})),at.terminatorEnd&&Xe.addRule(at.terminatorEnd,{type:"end"}),at.illegal&&Xe.addRule(at.illegal,{type:"illegal"}),Xe}function oi(at,Xe){const ct=at;if(at.isCompiled)return ct;[Q,de,Ge,ge].forEach(wn=>wn(at,Xe)),ye.compilerExtensions.forEach(wn=>wn(at,Xe)),at.__beforeBegin=null,[ne,se,he].forEach(wn=>wn(at,Xe)),at.isCompiled=!0;let An=null;return typeof at.keywords=="object"&&at.keywords.$pattern&&(at.keywords=Object.assign({},at.keywords),An=at.keywords.$pattern,delete at.keywords.$pattern),An=An||/\w+/,at.keywords&&(at.keywords=Ce(at.keywords,ye.case_insensitive)),ct.keywordPatternRe=We(An,!0),Xe&&(at.begin||(at.begin=/\B|\b/),ct.beginRe=We(ct.begin),!at.end&&!at.endsWithParent&&(at.end=/\B|\b/),at.end&&(ct.endRe=We(ct.end)),ct.terminatorEnd=d(ct.end)||"",at.endsWithParent&&Xe.terminatorEnd&&(ct.terminatorEnd+=(at.end?"|":"")+Xe.terminatorEnd)),at.illegal&&(ct.illegalRe=We(at.illegal)),at.contains||(at.contains=[]),at.contains=[].concat(...at.contains.map(function(wn){return Ke(wn==="self"?at:wn)})),at.contains.forEach(function(wn){oi(wn,ct)}),at.starts&&oi(at.starts,Xe),ct.matcher=Gn(ct),ct}if(ye.compilerExtensions||(ye.compilerExtensions=[]),ye.contains&&ye.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return ye.classNameAliases=i(ye.classNameAliases||{}),oi(ye)}function Fe(ye){return ye?ye.endsWithParent||Fe(ye.starts):!1}function Ke(ye){return ye.variants&&!ye.cachedVariants&&(ye.cachedVariants=ye.variants.map(function(We){return i(ye,{variants:null},We)})),ye.cachedVariants?ye.cachedVariants:Fe(ye)?i(ye,{starts:ye.starts?i(ye.starts):null}):Object.isFrozen(ye)?i(ye):ye}var et="11.11.1";class ot extends Error{constructor(We,gt){super(We),this.name="HTMLInjectionError",this.html=gt}}const Rt=t,zt=i,ri=Symbol("nomatch"),qn=7,Qi=function(ye){const We=Object.create(null),gt=Object.create(null),jt=[];let Gn=!0;const oi="Could not find the language '{}', did you forget to load/include a language module?",at={disableAutodetect:!0,name:"Plain text",contains:[]};let Xe={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:c};function ct(tt){return Xe.noHighlightRe.test(tt)}function An(tt){let Lt=tt.className+" ";Lt+=tt.parentNode?tt.parentNode.className:"";const pn=Xe.languageDetectRe.exec(Lt);if(pn){const Fn=ho(pn[1]);return Fn||(De(oi.replace("{}",pn[1])),De("Falling back to no-highlight mode for this block.",tt)),Fn?pn[1]:"no-highlight"}return Lt.split(/\s+/).find(Fn=>ct(Fn)||ho(Fn))}function wn(tt,Lt,pn){let Fn="",_i="";typeof Lt=="object"?(Fn=tt,pn=Lt.ignoreIllegals,_i=Lt.language):(Ee("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ee("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),_i=tt,Fn=Lt),pn===void 0&&(pn=!0);const Ir={code:Fn,language:_i};ui("before:highlight",Ir);const Ta=Ir.result?Ir.result:ji(Ir.language,Ir.code,pn);return Ta.code=Ir.code,ui("after:highlight",Ta),Ta}function ji(tt,Lt,pn,Fn){const _i=Object.create(null);function Ir(Ct,Vt){return Ct.keywords[Vt]}function Ta(){if(!vn.keywords){Jt.addText(wi);return}let Ct=0;vn.keywordPatternRe.lastIndex=0;let Vt=vn.keywordPatternRe.exec(wi),xn="";for(;Vt;){xn+=wi.substring(Ct,Vt.index);const ci=oa.case_insensitive?Vt[0].toLowerCase():Vt[0],Cr=Ir(vn,ci);if(Cr){const[Ia,__]=Cr;if(Jt.addText(xn),xn="",_i[ci]=(_i[ci]||0)+1,_i[ci]<=qn&&(oc+=__),Ia.startsWith("_"))xn+=Vt[0];else{const w_=oa.classNameAliases[Ia]||Ia;ra(Vt[0],w_)}}else xn+=Vt[0];Ct=vn.keywordPatternRe.lastIndex,Vt=vn.keywordPatternRe.exec(wi)}xn+=wi.substring(Ct),Jt.addText(xn)}function nc(){if(wi==="")return;let Ct=null;if(typeof vn.subLanguage=="string"){if(!We[vn.subLanguage]){Jt.addText(wi);return}Ct=ji(vn.subLanguage,wi,!0,Hh[vn.subLanguage]),Hh[vn.subLanguage]=Ct._top}else Ct=ka(wi,vn.subLanguage.length?vn.subLanguage:null);vn.relevance>0&&(oc+=Ct.relevance),Jt.__addSublanguage(Ct._emitter,Ct.language)}function jr(){vn.subLanguage!=null?nc():Ta(),wi=""}function ra(Ct,Vt){Ct!==""&&(Jt.startScope(Vt),Jt.addText(Ct),Jt.endScope())}function Bp(Ct,Vt){let xn=1;const ci=Vt.length-1;for(;xn<=ci;){if(!Ct._emit[xn]){xn++;continue}const Cr=oa.classNameAliases[Ct[xn]]||Ct[xn],Ia=Vt[xn];Cr?ra(Ia,Cr):(wi=Ia,Ta(),wi=""),xn++}}function $p(Ct,Vt){return Ct.scope&&typeof Ct.scope=="string"&&Jt.openNode(oa.classNameAliases[Ct.scope]||Ct.scope),Ct.beginScope&&(Ct.beginScope._wrap?(ra(wi,oa.classNameAliases[Ct.beginScope._wrap]||Ct.beginScope._wrap),wi=""):Ct.beginScope._multi&&(Bp(Ct.beginScope,Vt),wi="")),vn=Object.create(Ct,{parent:{value:vn}}),vn}function ic(Ct,Vt,xn){let ci=C(Ct.endRe,xn);if(ci){if(Ct["on:end"]){const Cr=new e(Ct);Ct["on:end"](Vt,Cr),Cr.isMatchIgnored&&(ci=!1)}if(ci){for(;Ct.endsParent&&Ct.parent;)Ct=Ct.parent;return Ct}}if(Ct.endsWithParent)return ic(Ct.parent,Vt,xn)}function cx(Ct){return vn.matcher.regexIndex===0?(wi+=Ct[0],1):($h=!0,0)}function dx(Ct){const Vt=Ct[0],xn=Ct.rule,ci=new e(xn),Cr=[xn.__beforeBegin,xn["on:begin"]];for(const Ia of Cr)if(Ia&&(Ia(Ct,ci),ci.isMatchIgnored))return cx(Vt);return xn.skip?wi+=Vt:(xn.excludeBegin&&(wi+=Vt),jr(),!xn.returnBegin&&!xn.excludeBegin&&(wi=Vt)),$p(xn,Ct),xn.returnBegin?0:Vt.length}function y_(Ct){const Vt=Ct[0],xn=Lt.substring(Ct.index),ci=ic(vn,Ct,xn);if(!ci)return ri;const Cr=vn;vn.endScope&&vn.endScope._wrap?(jr(),ra(Vt,vn.endScope._wrap)):vn.endScope&&vn.endScope._multi?(jr(),Bp(vn.endScope,Ct)):Cr.skip?wi+=Vt:(Cr.returnEnd||Cr.excludeEnd||(wi+=Vt),jr(),Cr.excludeEnd&&(wi=Vt));do vn.scope&&Jt.closeNode(),!vn.skip&&!vn.subLanguage&&(oc+=vn.relevance),vn=vn.parent;while(vn!==ci.parent);return ci.starts&&$p(ci.starts,Ct),Cr.returnEnd?0:Vt.length}function xd(){const Ct=[];for(let Vt=vn;Vt!==oa;Vt=Vt.parent)Vt.scope&&Ct.unshift(Vt.scope);Ct.forEach(Vt=>Jt.openNode(Vt))}let ds={};function Ed(Ct,Vt){const xn=Vt&&Vt[0];if(wi+=Ct,xn==null)return jr(),0;if(ds.type==="begin"&&Vt.type==="end"&&ds.index===Vt.index&&xn===""){if(wi+=Lt.slice(Vt.index,Vt.index+1),!Gn){const ci=new Error(`0 width match regex (${tt})`);throw ci.languageName=tt,ci.badRule=ds.rule,ci}return 1}if(ds=Vt,Vt.type==="begin")return dx(Vt);if(Vt.type==="illegal"&&!pn){const ci=new Error('Illegal lexeme "'+xn+'" for mode "'+(vn.scope||"<unnamed>")+'"');throw ci.mode=vn,ci}else if(Vt.type==="end"){const ci=y_(Vt);if(ci!==ri)return ci}if(Vt.type==="illegal"&&xn==="")return wi+=`
`,1;if(Bh>1e5&&Bh>Vt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return wi+=xn,xn.length}const oa=ho(tt);if(!oa)throw Ae(oi.replace("{}",tt)),new Error('Unknown language: "'+tt+'"');const Vp=$e(oa);let rc="",vn=Fn||Vp;const Hh={},Jt=new Xe.__emitter(Xe);xd();let wi="",oc=0,zs=0,Bh=0,$h=!1;try{if(oa.__emitTokens)oa.__emitTokens(Lt,Jt);else{for(vn.matcher.considerAll();;){Bh++,$h?$h=!1:vn.matcher.considerAll(),vn.matcher.lastIndex=zs;const Ct=vn.matcher.exec(Lt);if(!Ct)break;const Vt=Lt.substring(zs,Ct.index),xn=Ed(Vt,Ct);zs=Ct.index+xn}Ed(Lt.substring(zs))}return Jt.finalize(),rc=Jt.toHTML(),{language:tt,value:rc,relevance:oc,illegal:!1,_emitter:Jt,_top:vn}}catch(Ct){if(Ct.message&&Ct.message.includes("Illegal"))return{language:tt,value:Rt(Lt),illegal:!0,relevance:0,_illegalBy:{message:Ct.message,index:zs,context:Lt.slice(zs-100,zs+100),mode:Ct.mode,resultSoFar:rc},_emitter:Jt};if(Gn)return{language:tt,value:Rt(Lt),illegal:!1,relevance:0,errorRaised:Ct,_emitter:Jt,_top:vn};throw Ct}}function er(tt){const Lt={value:Rt(tt),illegal:!1,relevance:0,_top:at,_emitter:new Xe.__emitter(Xe)};return Lt._emitter.addText(tt),Lt}function ka(tt,Lt){Lt=Lt||Xe.languages||Object.keys(We);const pn=er(tt),Fn=Lt.filter(ho).filter(Li).map(jr=>ji(jr,tt,!1));Fn.unshift(pn);const _i=Fn.sort((jr,ra)=>{if(jr.relevance!==ra.relevance)return ra.relevance-jr.relevance;if(jr.language&&ra.language){if(ho(jr.language).supersetOf===ra.language)return 1;if(ho(ra.language).supersetOf===jr.language)return-1}return 0}),[Ir,Ta]=_i,nc=Ir;return nc.secondBest=Ta,nc}function Da(tt,Lt,pn){const Fn=Lt&&gt[Lt]||pn;tt.classList.add("hljs"),tt.classList.add(`language-${Fn}`)}function Xr(tt){let Lt=null;const pn=An(tt);if(ct(pn))return;if(ui("before:highlightElement",{el:tt,language:pn}),tt.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",tt);return}if(tt.children.length>0&&(Xe.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(tt)),Xe.throwUnescapedHTML))throw new ot("One of your code blocks includes unescaped HTML.",tt.innerHTML);Lt=tt;const Fn=Lt.textContent,_i=pn?wn(Fn,{language:pn,ignoreIllegals:!0}):ka(Fn);tt.innerHTML=_i.value,tt.dataset.highlighted="yes",Da(tt,pn,_i.language),tt.result={language:_i.language,re:_i.relevance,relevance:_i.relevance},_i.secondBest&&(tt.secondBest={language:_i.secondBest.language,relevance:_i.secondBest.relevance}),ui("after:highlightElement",{el:tt,result:_i,text:Fn})}function ta(tt){Xe=zt(Xe,tt)}const Tr=()=>{ia(),Ee("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function na(){ia(),Ee("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let en=!1;function ia(){function tt(){ia()}if(document.readyState==="loading"){en||window.addEventListener("DOMContentLoaded",tt,!1),en=!0;return}document.querySelectorAll(Xe.cssSelector).forEach(Xr)}function cs(tt,Lt){let pn=null;try{pn=Lt(ye)}catch(Fn){if(Ae("Language definition for '{}' could not be registered.".replace("{}",tt)),Gn)Ae(Fn);else throw Fn;pn=at}pn.name||(pn.name=tt),We[tt]=pn,pn.rawDefinition=Lt.bind(null,ye),pn.aliases&&tc(pn.aliases,{languageName:tt})}function Hl(tt){delete We[tt];for(const Lt of Object.keys(gt))gt[Lt]===tt&&delete gt[Lt]}function Ws(){return Object.keys(We)}function ho(tt){return tt=(tt||"").toLowerCase(),We[tt]||We[gt[tt]]}function tc(tt,{languageName:Lt}){typeof tt=="string"&&(tt=[tt]),tt.forEach(pn=>{gt[pn.toLowerCase()]=Lt})}function Li(tt){const Lt=ho(tt);return Lt&&!Lt.disableAutodetect}function zn(tt){tt["before:highlightBlock"]&&!tt["before:highlightElement"]&&(tt["before:highlightElement"]=Lt=>{tt["before:highlightBlock"](Object.assign({block:Lt.el},Lt))}),tt["after:highlightBlock"]&&!tt["after:highlightElement"]&&(tt["after:highlightElement"]=Lt=>{tt["after:highlightBlock"](Object.assign({block:Lt.el},Lt))})}function Qn(tt){zn(tt),jt.push(tt)}function li(tt){const Lt=jt.indexOf(tt);Lt!==-1&&jt.splice(Lt,1)}function ui(tt,Lt){const pn=tt;jt.forEach(function(Fn){Fn[pn]&&Fn[pn](Lt)})}function wr(tt){return Ee("10.7.0","highlightBlock will be removed entirely in v12.0"),Ee("10.7.0","Please use highlightElement now."),Xr(tt)}Object.assign(ye,{highlight:wn,highlightAuto:ka,highlightAll:ia,highlightElement:Xr,highlightBlock:wr,configure:ta,initHighlighting:Tr,initHighlightingOnLoad:na,registerLanguage:cs,unregisterLanguage:Hl,listLanguages:Ws,getLanguage:ho,registerAliases:tc,autoDetection:Li,inherit:zt,addPlugin:Qn,removePlugin:li}),ye.debugMode=function(){Gn=!1},ye.safeMode=function(){Gn=!0},ye.versionString=et,ye.regex={concat:g,lookahead:f,either:m,optional:v,anyNumberOfTimes:h};for(const tt in ae)typeof ae[tt]=="object"&&n(ae[tt]);return Object.assign(ye,ae),ye},Ii=Qi({});return Ii.newInstance=()=>Qi({}),jE=Ii,Ii.HighlightJS=Ii,Ii.default=Ii,jE}var QTe=JTe();const bC=W9(QTe);function eIe(n){const e=n.regex,t={$pattern:/\$?[\w]+(\$[\w]+)*/,keyword:["accept_on","alias","always","always_comb","always_ff","always_latch","and","assert","assign","assume","automatic","before","begin","bind","bins","binsof","bit","break","buf|0","bufif0","bufif1","byte","case","casex","casez","cell","chandle","checker","class","clocking","cmos","config","const","constraint","context","continue","cover","covergroup","coverpoint","cross","deassign","default","defparam","design","disable","dist","do","edge","else","end","endcase","endchecker","endclass","endclocking","endconfig","endfunction","endgenerate","endgroup","endinterface","endmodule","endpackage","endprimitive","endprogram","endproperty","endspecify","endsequence","endtable","endtask","enum","event","eventually","expect","export","extends","extern","final","first_match","for","force","foreach","forever","fork","forkjoin","function","generate|5","genvar","global","highz0","highz1","if","iff","ifnone","ignore_bins","illegal_bins","implements","implies","import","incdir","include","initial","inout","input","inside","instance","int","integer","interconnect","interface","intersect","join","join_any","join_none","large","let","liblist","library","local","localparam","logic","longint","macromodule","matches","medium","modport","module","nand","negedge","nettype","new","nexttime","nmos","nor","noshowcancelled","not","notif0","notif1","or","output","package","packed","parameter","pmos","posedge","primitive","priority","program","property","protected","pull0","pull1","pulldown","pullup","pulsestyle_ondetect","pulsestyle_onevent","pure","rand","randc","randcase","randsequence","rcmos","real","realtime","ref","reg","reject_on","release","repeat","restrict","return","rnmos","rpmos","rtran","rtranif0","rtranif1","s_always","s_eventually","s_nexttime","s_until","s_until_with","scalared","sequence","shortint","shortreal","showcancelled","signed","small","soft","solve","specify","specparam","static","string","strong","strong0","strong1","struct","super","supply0","supply1","sync_accept_on","sync_reject_on","table","tagged","task","this","throughout","time","timeprecision","timeunit","tran","tranif0","tranif1","tri","tri0","tri1","triand","trior","trireg","type","typedef","union","unique","unique0","unsigned","until","until_with","untyped","use","uwire","var","vectored","virtual","void","wait","wait_order","wand","weak","weak0","weak1","while","wildcard","wire","with","within","wor","xnor","xor"],literal:["null"],built_in:["$finish","$stop","$exit","$fatal","$error","$warning","$info","$realtime","$time","$printtimescale","$bitstoreal","$bitstoshortreal","$itor","$signed","$cast","$bits","$stime","$timeformat","$realtobits","$shortrealtobits","$rtoi","$unsigned","$asserton","$assertkill","$assertpasson","$assertfailon","$assertnonvacuouson","$assertoff","$assertcontrol","$assertpassoff","$assertfailoff","$assertvacuousoff","$isunbounded","$sampled","$fell","$changed","$past_gclk","$fell_gclk","$changed_gclk","$rising_gclk","$steady_gclk","$coverage_control","$coverage_get","$coverage_save","$set_coverage_db_name","$rose","$stable","$past","$rose_gclk","$stable_gclk","$future_gclk","$falling_gclk","$changing_gclk","$display","$coverage_get_max","$coverage_merge","$get_coverage","$load_coverage_db","$typename","$unpacked_dimensions","$left","$low","$increment","$clog2","$ln","$log10","$exp","$sqrt","$pow","$floor","$ceil","$sin","$cos","$tan","$countbits","$onehot","$isunknown","$fatal","$warning","$dimensions","$right","$high","$size","$asin","$acos","$atan","$atan2","$hypot","$sinh","$cosh","$tanh","$asinh","$acosh","$atanh","$countones","$onehot0","$error","$info","$random","$dist_chi_square","$dist_erlang","$dist_exponential","$dist_normal","$dist_poisson","$dist_t","$dist_uniform","$q_initialize","$q_remove","$q_exam","$async$and$array","$async$nand$array","$async$or$array","$async$nor$array","$sync$and$array","$sync$nand$array","$sync$or$array","$sync$nor$array","$q_add","$q_full","$psprintf","$async$and$plane","$async$nand$plane","$async$or$plane","$async$nor$plane","$sync$and$plane","$sync$nand$plane","$sync$or$plane","$sync$nor$plane","$system","$display","$displayb","$displayh","$displayo","$strobe","$strobeb","$strobeh","$strobeo","$write","$readmemb","$readmemh","$writememh","$value$plusargs","$dumpvars","$dumpon","$dumplimit","$dumpports","$dumpportson","$dumpportslimit","$writeb","$writeh","$writeo","$monitor","$monitorb","$monitorh","$monitoro","$writememb","$dumpfile","$dumpoff","$dumpall","$dumpflush","$dumpportsoff","$dumpportsall","$dumpportsflush","$fclose","$fdisplay","$fdisplayb","$fdisplayh","$fdisplayo","$fstrobe","$fstrobeb","$fstrobeh","$fstrobeo","$swrite","$swriteb","$swriteh","$swriteo","$fscanf","$fread","$fseek","$fflush","$feof","$fopen","$fwrite","$fwriteb","$fwriteh","$fwriteo","$fmonitor","$fmonitorb","$fmonitorh","$fmonitoro","$sformat","$sformatf","$fgetc","$ungetc","$fgets","$sscanf","$rewind","$ftell","$ferror"]},i=["__FILE__","__LINE__"],r=["begin_keywords","celldefine","default_nettype","default_decay_time","default_trireg_strength","define","delay_mode_distributed","delay_mode_path","delay_mode_unit","delay_mode_zero","else","elsif","end_keywords","endcelldefine","endif","ifdef","ifndef","include","line","nounconnected_drive","pragma","resetall","timescale","unconnected_drive","undef","undefineall"];return{name:"Verilog",aliases:["v","sv","svh"],case_insensitive:!1,keywords:t,contains:[n.C_BLOCK_COMMENT_MODE,n.C_LINE_COMMENT_MODE,n.QUOTE_STRING_MODE,{scope:"number",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:/\b((\d+'([bhodBHOD]))[0-9xzXZa-fA-F_]+)/},{begin:/\B(('([bhodBHOD]))[0-9xzXZa-fA-F_]+)/},{begin:/\b[0-9][0-9_]*/,relevance:0}]},{scope:"variable",variants:[{begin:"#\\((?!parameter).+\\)"},{begin:"\\.\\w+",relevance:0}]},{scope:"variable.constant",match:e.concat(/`/,e.either(...i))},{scope:"meta",begin:e.concat(/`/,e.either(...r)),end:/$|\/\/|\/\*/,returnEnd:!0,keywords:r}]}}var S5=pe({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(n){var e=oe(n.language);Pe(function(){return n.language},function(r){e.value=r});var t=R(function(){return n.autodetect||!e.value}),i=R(function(){return!t.value&&!bC.getLanguage(e.value)});return{className:R(function(){return i.value?"":"hljs "+e.value}),highlightedCode:R(function(){var r;if(i.value)return console.warn('The language "'+e.value+'" you specified could not be found.'),n.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(t.value){var o=bC.highlightAuto(n.code);return e.value=(r=o.language)!==null&&r!==void 0?r:"",o.value}return(o=bC.highlight(n.code,{language:e.value,ignoreIllegals:n.ignoreIllegals})).value})}},render:function(){return At("pre",{},[At("code",{class:this.className,innerHTML:this.highlightedCode})])}}),tIe={install:function(n){n.component("highlightjs",S5)},component:S5};class nIe extends lo{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:St("toggleCollapseUnchangedRegions","Toggle Collapse Unchanged Regions"),icon:Kt.map,toggled:Ne.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:Ne.has("isInDiffEditor"),menu:{when:Ne.has("isInDiffEditor"),id:pt.EditorTitle,order:22,group:"navigation"}})}run(e,...t){const i=e.get(vi),r=!i.getValue("diffEditor.hideUnchangedRegions.enabled");i.updateValue("diffEditor.hideUnchangedRegions.enabled",r)}}class iG extends lo{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:St("toggleShowMovedCodeBlocks","Toggle Show Moved Code Blocks"),precondition:Ne.has("isInDiffEditor")})}run(e,...t){const i=e.get(vi),r=!i.getValue("diffEditor.experimental.showMoves");i.updateValue("diffEditor.experimental.showMoves",r)}}class rG extends lo{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:St("toggleUseInlineViewWhenSpaceIsLimited","Toggle Use Inline View When Space Is Limited"),precondition:Ne.has("isInDiffEditor")})}run(e,...t){const i=e.get(vi),r=!i.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");i.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",r)}}const u_=St("diffEditor","Diff Editor");class iIe extends Ms{constructor(){super({id:"diffEditor.switchSide",title:St("switchSide","Switch Side"),icon:Kt.arrowSwap,precondition:Ne.has("isInDiffEditor"),f1:!0,category:u_})}runEditorCommand(e,t,i){const r=Ap(e);if(r instanceof Oy){if(i&&i.dryRun)return{destinationSelection:r.mapToOtherSide().destinationSelection};r.switchSide()}}}class rIe extends Ms{constructor(){super({id:"diffEditor.exitCompareMove",title:St("exitCompareMove","Exit Compare Move"),icon:Kt.close,precondition:ve.comparingMovedCode,f1:!1,category:u_,keybinding:{weight:1e4,primary:9}})}runEditorCommand(e,t,...i){const r=Ap(e);r instanceof Oy&&r.exitCompareMove()}}class oIe extends Ms{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:St("collapseAllUnchangedRegions","Collapse All Unchanged Regions"),icon:Kt.fold,precondition:Ne.has("isInDiffEditor"),f1:!0,category:u_})}runEditorCommand(e,t,...i){const r=Ap(e);r instanceof Oy&&r.collapseAllUnchangedRegions()}}class aIe extends Ms{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:St("showAllUnchangedRegions","Show All Unchanged Regions"),icon:Kt.unfold,precondition:Ne.has("isInDiffEditor"),f1:!0,category:u_})}runEditorCommand(e,t,...i){const r=Ap(e);r instanceof Oy&&r.showAllUnchangedRegions()}}class Qk extends lo{constructor(){super({id:"diffEditor.revert",title:St("revert","Revert"),f1:!1,category:u_})}run(e,t){const i=sIe(e,t.originalUri,t.modifiedUri);i instanceof Oy&&i.revertRangeMappings(t.mapping.innerChanges??[])}}const oG=St("accessibleDiffViewer","Accessible Diff Viewer"),IS=class IS extends lo{constructor(){super({id:IS.id,title:St("editor.action.accessibleDiffViewer.next","Go to Next Difference"),category:oG,precondition:Ne.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(e){const t=Ap(e);t==null||t.accessibleDiffViewerNext()}};IS.id="editor.action.accessibleDiffViewer.next";let Jb=IS;const LS=class LS extends lo{constructor(){super({id:LS.id,title:St("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),category:oG,precondition:Ne.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(e){const t=Ap(e);t==null||t.accessibleDiffViewerPrev()}};LS.id="editor.action.accessibleDiffViewer.prev";let R0=LS;function sIe(n,e,t){return n.get(ir).listDiffEditors().find(o=>{var l,u;const a=o.getModifiedEditor(),s=o.getOriginalEditor();return a&&((l=a.getModel())==null?void 0:l.uri.toString())===t.toString()&&s&&((u=s.getModel())==null?void 0:u.uri.toString())===e.toString()})||null}function Ap(n){const t=n.get(ir).listDiffEditors(),i=n2();if(i)for(const r of t){const o=r.getContainerDomNode();if(lIe(o,i))return r}return null}function lIe(n,e){let t=e;for(;t;){if(t===n)return!0;t=t.parentElement}return!1}Vn(nIe);Vn(iG);Vn(rG);es.appendMenuItem(pt.EditorTitle,{command:{id:new rG().desc.id,title:G("useInlineViewWhenSpaceIsLimited","Use Inline View When Space Is Limited"),toggled:Ne.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:Ne.has("isInDiffEditor")},order:11,group:"1_diff",when:Ne.and(ve.diffEditorRenderSideBySideInlineBreakpointReached,Ne.has("isInDiffEditor"))});es.appendMenuItem(pt.EditorTitle,{command:{id:new iG().desc.id,title:G("showMoves","Show Moved Code Blocks"),icon:Kt.move,toggled:UX.create("config.diffEditor.experimental.showMoves",!0),precondition:Ne.has("isInDiffEditor")},order:10,group:"1_diff",when:Ne.has("isInDiffEditor")});Vn(Qk);for(const n of[{icon:Kt.arrowRight,key:ve.diffEditorInlineMode.toNegated()},{icon:Kt.discard,key:ve.diffEditorInlineMode}])es.appendMenuItem(pt.DiffEditorHunkToolbar,{command:{id:new Qk().desc.id,title:G("revertHunk","Revert Block"),icon:n.icon},when:Ne.and(ve.diffEditorModifiedWritable,n.key),order:5,group:"primary"}),es.appendMenuItem(pt.DiffEditorSelectionToolbar,{command:{id:new Qk().desc.id,title:G("revertSelection","Revert Selection"),icon:n.icon},when:Ne.and(ve.diffEditorModifiedWritable,n.key),order:5,group:"primary"});Vn(iIe);Vn(rIe);Vn(oIe);Vn(aIe);es.appendMenuItem(pt.EditorTitle,{command:{id:Jb.id,title:G("Open Accessible Diff Viewer","Open Accessible Diff Viewer"),precondition:Ne.has("isInDiffEditor")},order:10,group:"2_diff",when:Ne.and(ve.accessibleDiffViewerVisible.negate(),Ne.has("isInDiffEditor"))});ii.registerCommandAlias("editor.action.diffReview.next",Jb.id);Vn(Jb);ii.registerCommandAlias("editor.action.diffReview.prev",R0.id);Vn(R0);var uIe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},cIe=function(n,e){return function(t,i){e(t,i,n)}},eD;const VO=new yn("selectionAnchorSet",!1);var gf;let cd=(gf=class{static get(e){return e.getContribution(eD.ID)}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=VO.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(Nt.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new $r().appendText(G("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),ts(G("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(Nt.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}},eD=gf,gf.ID="editor.contrib.selectionAnchorController",gf);cd=eD=uIe([cIe(1,Ln)],cd);class dIe extends Qe{constructor(){super({id:"editor.action.setSelectionAnchor",label:G("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2080),weight:100}})}async run(e,t){var i;(i=cd.get(t))==null||i.setSelectionAnchor()}}class fIe extends Qe{constructor(){super({id:"editor.action.goToSelectionAnchor",label:G("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:VO})}async run(e,t){var i;(i=cd.get(t))==null||i.goToSelectionAnchor()}}class hIe extends Qe{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:G("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:VO,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2089),weight:100}})}async run(e,t){var i;(i=cd.get(t))==null||i.selectFromAnchorToCursor()}}class vIe extends Qe{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:G("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:VO,kbOpts:{kbExpr:ve.editorTextFocus,primary:9,weight:100}})}async run(e,t){var i;(i=cd.get(t))==null||i.cancelSelectionAnchor()}}gn(cd.ID,cd,4);Le(dIe);Le(fIe);Le(hIe);Le(vIe);const gIe=_t("editorOverviewRuler.bracketMatchForeground","#A0A0A0",G("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class pIe extends Qe{constructor(){super({id:"editor.action.jumpToBracket",label:G("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:3165,weight:100}})}run(e,t){var i;(i=vh.get(t))==null||i.jumpToBracket()}}class mIe extends Qe{constructor(){super({id:"editor.action.selectToBracket",label:G("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,metadata:{description:St("smartSelect.selectToBracketDescription","Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var o;let r=!0;i&&i.selectBrackets===!1&&(r=!1),(o=vh.get(t))==null||o.selectToBracket(r)}}class bIe extends Qe{constructor(){super({id:"editor.action.removeBrackets",label:G("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:2561,weight:100}})}run(e,t){var i;(i=vh.get(t))==null||i.removeBrackets(this.id)}}class yIe{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}const xc=class xc extends dt{static get(e){return e.getContribution(xc.ID)}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new Xi(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(i=>{const r=i.getStartPosition(),o=e.bracketPairs.matchBracket(r);let a=null;if(o)o[0].containsPosition(r)&&!o[1].containsPosition(r)?a=o[1].getStartPosition():o[1].containsPosition(r)&&(a=o[0].getStartPosition());else{const s=e.bracketPairs.findEnclosingBrackets(r);if(s)a=s[1].getStartPosition();else{const l=e.bracketPairs.findNextBracket(r);l&&l.range&&(a=l.range.getStartPosition())}}return a?new Nt(a.lineNumber,a.column,a.lineNumber,a.column):new Nt(r.lineNumber,r.column,r.lineNumber,r.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach(r=>{const o=r.getStartPosition();let a=t.bracketPairs.matchBracket(o);if(!a&&(a=t.bracketPairs.findEnclosingBrackets(o),!a)){const u=t.bracketPairs.findNextBracket(o);u&&u.range&&(a=t.bracketPairs.matchBracket(u.range.getStartPosition()))}let s=null,l=null;if(a){a.sort(be.compareRangesUsingStarts);const[u,c]=a;if(s=e?u.getStartPosition():u.getEndPosition(),l=e?c.getEndPosition():c.getStartPosition(),c.containsPosition(o)){const d=s;s=l,l=d}}s&&l&&i.push(new Nt(s.lineNumber,s.column,l.lineNumber,l.column))}),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(e){if(!this._editor.hasModel())return;const t=this._editor.getModel();this._editor.getSelections().forEach(i=>{const r=i.getPosition();let o=t.bracketPairs.matchBracket(r);o||(o=t.bracketPairs.findEnclosingBrackets(r)),o&&(this._editor.pushUndoStop(),this._editor.executeEdits(e,[{range:o[0],text:""},{range:o[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const e=[];let t=0;for(const i of this._lastBracketsData){const r=i.brackets;r&&(e[t++]={range:r[0],options:i.options},e[t++]={range:r[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),i=t.getVersionId();let r=[];this._lastVersionId===i&&(r=this._lastBracketsData);const o=[];let a=0;for(let d=0,f=e.length;d<f;d++){const h=e[d];h.isEmpty()&&(o[a++]=h.getStartPosition())}o.length>1&&o.sort(Ot.compare);const s=[];let l=0,u=0;const c=r.length;for(let d=0,f=o.length;d<f;d++){const h=o[d];for(;u<c&&r[u].position.isBefore(h);)u++;if(u<c&&r[u].position.equals(h))s[l++]=r[u];else{let v=t.bracketPairs.matchBracket(h,20),g=xc._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!v&&this._matchBrackets==="always"&&(v=t.bracketPairs.findEnclosingBrackets(h,20),g=xc._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),s[l++]=new yIe(h,v,g)}}this._lastBracketsData=s,this._lastVersionId=i}};xc.ID="editor.contrib.bracketMatchingController",xc._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=mn.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:Zi(gIe),position:gu.Center}}),xc._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=mn.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"});let vh=xc;gn(vh.ID,vh,1);Le(mIe);Le(pIe);Le(bIe);es.appendMenuItem(pt.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:G({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class _Ie{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,r=this._selection.startColumn,o=this._selection.endColumn;if(!(this._isMovingLeft&&r===1)&&!(!this._isMovingLeft&&o===e.getLineMaxColumn(i)))if(this._isMovingLeft){const a=new be(i,r-1,i,r),s=e.getValueInRange(a);t.addEditOperation(a,null),t.addEditOperation(new be(i,o,i,o),s)}else{const a=new be(i,o,i,o+1),s=e.getValueInRange(a);t.addEditOperation(a,null),t.addEditOperation(new be(i,r,i,r),s)}}computeCursorState(e,t){return this._isMovingLeft?new Nt(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Nt(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class aG extends Qe{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const i=[],r=t.getSelections();for(const o of r)i.push(new _Ie(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class wIe extends aG{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:G("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:ve.writable})}}class CIe extends aG{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:G("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:ve.writable})}}Le(wIe);Le(CIe);class SIe extends Qe{constructor(){super({id:"editor.action.transposeLetters",label:G("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:ve.writable,kbOpts:{kbExpr:ve.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const i=t.getModel(),r=[],o=t.getSelections();for(const a of o){if(!a.isEmpty())continue;const s=a.startLineNumber,l=a.startColumn,u=i.getLineMaxColumn(s);if(s===1&&(l===1||l===2&&u===2))continue;const c=l===u?a.getPosition():px.rightPosition(i,a.getPosition().lineNumber,a.getPosition().column),d=px.leftPosition(i,c),f=px.leftPosition(i,d),h=i.getValueInRange(be.fromPositions(f,d)),v=i.getValueInRange(be.fromPositions(d,c)),g=be.fromPositions(f,c);r.push(new xy(g,v+h))}r.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop())}}Le(SIe);const WO=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let n;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?n=crypto.getRandomValues.bind(crypto):n=function(i){for(let r=0;r<i.length;r++)i[r]=Math.floor(Math.random()*256);return i};const e=new Uint8Array(16),t=[];for(let i=0;i<256;i++)t.push(i.toString(16).padStart(2,"0"));return function(){n(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=0,o="";return o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+="-",o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o+=t[e[r++]],o}}();function GM(n){return{asString:async()=>n,asFile:()=>{},value:typeof n=="string"?n:void 0}}function OIe(n,e,t){const i={id:WO(),name:n,uri:e,data:t};return{asString:async()=>"",asFile:()=>i,value:void 0}}class sG{constructor(){this._entries=new Map}get size(){let e=0;for(const t of this._entries)e++;return e}has(e){return this._entries.has(this.toKey(e))}matches(e){const t=[...this._entries.keys()];return pu.some(this,([i,r])=>r.asFile())&&t.push("files"),uG(N0(e),t)}get(e){var t;return(t=this._entries.get(this.toKey(e)))==null?void 0:t[0]}append(e,t){const i=this._entries.get(e);i?i.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*[Symbol.iterator](){for(const[e,t]of this._entries)for(const i of t)yield[e,i]}toKey(e){return N0(e)}}function N0(n){return n.toLowerCase()}function lG(n,e){return uG(N0(n),e.map(N0))}function uG(n,e){if(n==="*/*")return e.length>0;if(e.includes(n))return!0;const t=n.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!t)return!1;const[i,r,o]=t;return o==="*"?e.some(a=>a.startsWith(r+"/")):!1}const zO=Object.freeze({create:n=>i2(n.map(e=>e.toString())).join(`\r
`),split:n=>n.split(`\r
`),parse:n=>zO.split(n).filter(e=>!e.startsWith("#"))}),il=class il{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+il.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(...e){return new il((this.value?[this.value,...e]:e).join(il.sep))}};il.sep=".",il.None=new il("@@none@@"),il.Empty=new il("");let si=il;const O5={EDITORS:"CodeEditors",FILES:"CodeFiles"};class xIe{}const EIe={DragAndDropContribution:"workbench.contributions.dragAndDrop"};ap.add(EIe.DragAndDropContribution,new xIe);const vb=class vb{constructor(){}static getInstance(){return vb.INSTANCE}hasData(e){return e&&e===this.proto}getData(e){if(this.hasData(e))return this.data}};vb.INSTANCE=new vb;let tD=vb;function cG(n){const e=new sG;for(const t of n.items){const i=t.type;if(t.kind==="string"){const r=new Promise(o=>t.getAsString(o));e.append(i,GM(r))}else if(t.kind==="file"){const r=t.getAsFile();r&&e.append(i,PIe(r))}}return e}function PIe(n){const e=n.path?Kn.parse(n.path):void 0;return OIe(n.name,e,async()=>new Uint8Array(await n.arrayBuffer()))}const kIe=Object.freeze([O5.EDITORS,O5.FILES,hP.RESOURCES,hP.INTERNAL_URI_LIST]);function dG(n,e=!1){const t=cG(n),i=t.get(hP.INTERNAL_URI_LIST);if(i)t.replace(mr.uriList,i);else if(e||!t.has(mr.uriList)){const r=[];for(const o of n.items){const a=o.getAsFile();if(a){const s=a.path;try{s?r.push(Kn.file(s).toString()):r.push(Kn.parse(a.name,!0).toString())}catch{}}}r.length&&t.replace(mr.uriList,GM(zO.create(r)))}for(const r of kIe)t.delete(r);return t}var YM=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qb=function(n,e){return function(t,i){e(t,i,n)}};class ZM{async provideDocumentPasteEdits(e,t,i,r,o){const a=await this.getEdit(i,o);if(a)return{edits:[{insertText:a.insertText,title:a.title,kind:a.kind,handledMimeType:a.handledMimeType,yieldTo:a.yieldTo}],dispose(){}}}async provideDocumentDropEdits(e,t,i,r){const o=await this.getEdit(i,r);if(o)return{edits:[{insertText:o.insertText,title:o.title,kind:o.kind,handledMimeType:o.handledMimeType,yieldTo:o.yieldTo}],dispose(){}}}}const gb=class gb extends ZM{constructor(){super(...arguments),this.kind=gb.kind,this.dropMimeTypes=[mr.text],this.pasteMimeTypes=[mr.text]}async getEdit(e,t){const i=e.get(mr.text);if(!i||e.has(mr.uriList))return;const r=await i.asString();return{handledMimeType:mr.text,title:G("text.label","Insert Plain Text"),insertText:r,kind:this.kind}}};gb.id="text",gb.kind=new si("text.plain");let gh=gb;class fG extends ZM{constructor(){super(...arguments),this.kind=new si("uri.absolute"),this.dropMimeTypes=[mr.uriList],this.pasteMimeTypes=[mr.uriList]}async getEdit(e,t){const i=await hG(e);if(!i.length||t.isCancellationRequested)return;let r=0;const o=i.map(({uri:s,originalText:l})=>s.scheme===io.file?s.fsPath:(r++,l)).join(" ");let a;return r>0?a=i.length>1?G("defaultDropProvider.uriList.uris","Insert Uris"):G("defaultDropProvider.uriList.uri","Insert Uri"):a=i.length>1?G("defaultDropProvider.uriList.paths","Insert Paths"):G("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:mr.uriList,insertText:o,title:a,kind:this.kind}}}let F0=class extends ZM{constructor(e){super(),this._workspaceContextService=e,this.kind=new si("uri.relative"),this.dropMimeTypes=[mr.uriList],this.pasteMimeTypes=[mr.uriList]}async getEdit(e,t){const i=await hG(e);if(!i.length||t.isCancellationRequested)return;const r=Ou(i.map(({uri:o})=>{const a=this._workspaceContextService.getWorkspaceFolder(o);return a?KX(a.uri,o):void 0}));if(r.length)return{handledMimeType:mr.uriList,insertText:r.join(" "),title:i.length>1?G("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):G("defaultDropProvider.uriList.relativePath","Insert Relative Path"),kind:this.kind}}};F0=YM([Qb(0,bg)],F0);class DIe{constructor(){this.kind=new si("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:mr.text}]}async provideDocumentPasteEdits(e,t,i,r,o){var l;if(r.triggerKind!==vP.PasteAs&&!((l=r.only)!=null&&l.contains(this.kind)))return;const a=i.get("text/html"),s=await(a==null?void 0:a.asString());if(!(!s||o.isCancellationRequested))return{dispose(){},edits:[{insertText:s,yieldTo:this._yieldTo,title:G("pasteHtmlLabel","Insert HTML"),kind:this.kind}]}}}async function hG(n){const e=n.get(mr.uriList);if(!e)return[];const t=await e.asString(),i=[];for(const r of zO.parse(t))try{i.push({uri:Kn.parse(r),originalText:r})}catch{}return i}let nD=class extends dt{constructor(e,t){super(),this._register(e.documentDropEditProvider.register("*",new gh)),this._register(e.documentDropEditProvider.register("*",new fG)),this._register(e.documentDropEditProvider.register("*",new F0(t)))}};nD=YM([Qb(0,xt),Qb(1,bg)],nD);let iD=class extends dt{constructor(e,t){super(),this._register(e.documentPasteEditProvider.register("*",new gh)),this._register(e.documentPasteEditProvider.register("*",new fG)),this._register(e.documentPasteEditProvider.register("*",new F0(t))),this._register(e.documentPasteEditProvider.register("*",new DIe))}};iD=YM([Qb(0,xt),Qb(1,bg)],iD);const Ha=class Ha{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t=0,i=this.value.charCodeAt(e),r;if(r=Ha._table[i],typeof r=="number")return this.pos+=1,{type:r,pos:e,len:1};if(Ha.isDigitCharacter(i)){r=8;do t+=1,i=this.value.charCodeAt(e+t);while(Ha.isDigitCharacter(i));return this.pos+=t,{type:r,pos:e,len:t}}if(Ha.isVariableCharacter(i)){r=9;do i=this.value.charCodeAt(e+ ++t);while(Ha.isVariableCharacter(i)||Ha.isDigitCharacter(i));return this.pos+=t,{type:r,pos:e,len:t}}r=10;do t+=1,i=this.value.charCodeAt(e+t);while(!isNaN(i)&&typeof Ha._table[i]>"u"&&!Ha.isDigitCharacter(i)&&!Ha.isVariableCharacter(i));return this.pos+=t,{type:r,pos:e,len:t}}};Ha._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};let rD=Ha;class Rp{constructor(){this._children=[]}appendChild(e){return e instanceof Wr&&this._children[this._children.length-1]instanceof Wr?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,r=i.children.indexOf(e),o=i.children.slice(0);o.splice(r,1,...t),i._children=o,function a(s,l){for(const u of s)u.parent=l,a(u.children,u)}(t,i)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof c_)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class Wr extends Rp{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new Wr(this.value)}}class vG extends Rp{}class ba extends vG{static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}constructor(e){super(),this.index=e}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof Np?this._children[0]:void 0}clone(){const e=new ba(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class Np extends Rp{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof Wr&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new Np;return this.options.forEach(e.appendChild,e),e}}class XM extends Rp{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,r=e.replace(this.regexp,function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!i&&this._children.some(o=>o instanceof Cs&&!!o.elseValue)&&(r=this._replace([])),r}_replace(e){let t="";for(const i of this._children)if(i instanceof Cs){let r=e[i.index]||"";r=i.resolve(r),t+=r}else t+=i.toString();return t}toString(){return""}clone(){const e=new XM;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class Cs extends Rp{constructor(e,t,i,r){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=r}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":e&&typeof this.ifValue=="string"?this.ifValue:!e&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(i=>i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((i,r)=>r===0?i.charAt(0).toLowerCase()+i.substr(1):i.charAt(0).toUpperCase()+i.substr(1)).join(""):e}clone(){return new Cs(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class ey extends vG{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new Wr(t)],!0):!1}clone(){const e=new ey(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function x5(n,e){const t=[...n];for(;t.length>0;){const i=t.shift();if(!e(i))break;t.unshift(...i.children)}}class c_ extends Rp{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk(function(i){return i instanceof ba&&(e.push(i),t=!t||t.index<i.index?i:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(r=>r===e?(i=!0,!1):(t+=r.len(),!0)),i?t:-1}fullLen(e){let t=0;return x5([e],i=>(t+=i.len(),!0)),t}enclosingPlaceholders(e){const t=[];let{parent:i}=e;for(;i;)i instanceof ba&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof ey&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new c_;return this._children=this.children.map(t=>t.clone()),e}walk(e){x5(this.children,e)}}class ph{constructor(){this._scanner=new rD,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){const r=new c_;return this.parseFragment(e,r),this.ensureFinalTabstop(r,i??!1,t??!1),r}parseFragment(e,t){const i=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););const r=new Map,o=[];t.walk(l=>(l instanceof ba&&(l.isFinalTabstop?r.set(0,void 0):!r.has(l.index)&&l.children.length>0?r.set(l.index,l.children):o.push(l)),!0));const a=(l,u)=>{const c=r.get(l.index);if(!c)return;const d=new ba(l.index);d.transform=l.transform;for(const f of c){const h=f.clone();d.appendChild(h),h instanceof ba&&r.has(h.index)&&!u.has(h.index)&&(u.add(h.index),a(h,u),u.delete(h.index))}t.replace(l,[d])},s=new Set;for(const l of o)a(l,s);return t.children.slice(i)}ensureFinalTabstop(e,t,i){(t||i&&e.placeholders.length>0)&&(e.placeholders.find(o=>o.index===0)||e.appendChild(new ba(0)))}_accept(e,t){if(e===void 0||this._token.type===e){const i=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),i}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const r=this._scanner.next();if(r.type!==0&&r.type!==4&&r.type!==5)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new Wr(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new ba(Number(t)):new ey(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const o=new ba(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new Wr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7)){const a=new Np;for(;;){if(this._parseChoiceElement(a)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(a),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseChoiceElement(e){const t=this._token,i=[];for(;!(this._token.type===2||this._token.type===7);){let r;if((r=this._accept(5,!0))?r=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||r:r=this._accept(void 0,!0),!r)return this._backTo(t),!1;i.push(r)}return i.length===0?(this._backTo(t),!1):(e.appendChild(new Wr(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const o=new ey(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new Wr("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i)}_parseTransform(e){const t=new XM;let i="",r="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,i+=o;continue}if(this._token.type!==14){i+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new Wr(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){r+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(i,r)}catch{return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);const r=this._accept(8,!0);if(r)if(i){if(this._accept(4))return e.appendChild(new Cs(Number(r))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new Cs(Number(r))),!0;else return this._backTo(t),!1;if(this._accept(6)){const o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new Cs(Number(r),o)),!0)}else if(this._accept(11)){const o=this._until(4);if(o)return e.appendChild(new Cs(Number(r),void 0,o,void 0)),!0}else if(this._accept(12)){const o=this._until(4);if(o)return e.appendChild(new Cs(Number(r),void 0,void 0,o)),!0}else if(this._accept(13)){const o=this._until(1);if(o){const a=this._until(4);if(a)return e.appendChild(new Cs(Number(r),void 0,o,a)),!0}}else{const o=this._until(4);if(o)return e.appendChild(new Cs(Number(r),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new Wr(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}function gG(n,e,t){var i,r;return(typeof t.insertText=="string"?t.insertText==="":t.insertText.snippet==="")?{edits:((i=t.additionalEdit)==null?void 0:i.edits)??[]}:{edits:[...e.map(o=>new qX(n,{range:o,text:typeof t.insertText=="string"?ph.escape(t.insertText)+"$0":t.insertText.snippet,insertAsSnippet:!0})),...((r=t.additionalEdit)==null?void 0:r.edits)??[]]}}function pG(n){function e(a,s){return"mimeType"in a?a.mimeType===s.handledMimeType:!!s.kind&&a.kind.contains(s.kind)}const t=new Map;for(const a of n)for(const s of a.yieldTo??[])for(const l of n)if(l!==a&&e(s,l)){let u=t.get(a);u||(u=[],t.set(a,u)),u.push(l)}if(!t.size)return Array.from(n);const i=new Set,r=[];function o(a){if(!a.length)return[];const s=a[0];if(r.includes(s))return console.warn("Yield to cycle detected",s),a;if(i.has(s))return o(a.slice(1));let l=[];const u=t.get(s);return u&&(r.push(s),l=o(u),r.pop()),i.add(s),[...l,s,...o(a.slice(1))]}return o(Array.from(n))}var TIe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},IIe=function(n,e){return function(t,i){e(t,i,n)}};const LIe=mn.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:r2,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}}),MS=class MS extends dt{constructor(e,t,i,r,o){super(),this.typeId=e,this.editor=t,this.range=i,this.delegate=o,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(r),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(e){this.domNode=Ut(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=e;const t=Ut("span.icon");this.domNode.append(t),t.classList.add(...Hn.asClassNameArray(Kt.loading),"codicon-modifier-spin");const i=()=>{const r=this.editor.getOption(67);this.domNode.style.height=`${r}px`,this.domNode.style.width=`${Math.ceil(.8*r)}px`};i(),this._register(this.editor.onDidChangeConfiguration(r=>{(r.hasChanged(52)||r.hasChanged(67))&&i()})),this._register(Rn(this.domNode,hi.CLICK,r=>{this.delegate.cancel()}))}getId(){return MS.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}};MS.baseId="editor.widget.inlineProgressWidget";let oD=MS,j0=class extends dt{constructor(e,t,i){super(),this.id=e,this._editor=t,this._instantiationService=i,this._showDelay=500,this._showPromise=this._register(new ns),this._currentWidget=this._register(new ns),this._operationIdPool=0,this._currentDecorations=t.createDecorationsCollection()}dispose(){super.dispose(),this._currentDecorations.clear()}async showWhile(e,t,i,r,o){const a=this._operationIdPool++;this._currentOperation=a,this.clear(),this._showPromise.value=bb(()=>{const s=be.fromPositions(e);this._currentDecorations.set([{range:s,options:LIe}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(oD,this.id,this._editor,s,t,r))},o??this._showDelay);try{return await i}finally{this._currentOperation===a&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};j0=TIe([IIe(2,ln)],j0);var MIe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},E5=function(n,e){return function(t,i){e(t,i,n)}},yC,Bc;let xo=(Bc=class{static get(e){return e.getContribution(yC.ID)}constructor(e,t,i){this._openerService=i,this._messageWidget=new ns,this._messageListeners=new st,this._mouseOverMessage=!1,this._editor=e,this._visible=yC.MESSAGE_VISIBLE.bindTo(t)}dispose(){var e;(e=this._message)==null||e.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){ts(Vw(e)?e.value:e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=Vw(e)?GX(e,{actionHandler:{callback:r=>{this.closeMessage(),YX(this._openerService,r,Vw(e)?e.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new P5(this._editor,t,typeof e=="string"?e:this._message.element),this._messageListeners.add(lr.debounce(this._editor.onDidBlurEditorText,(r,o)=>o,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&ZX(n2(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(Rn(this._messageWidget.value.getDomNode(),hi.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(Rn(this._messageWidget.value.getDomNode(),hi.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let i;this._messageListeners.add(this._editor.onMouseMove(r=>{r.target.position&&(i?i.containsPosition(r.target.position)||this.closeMessage():i=new be(t.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(P5.fadeOut(this._messageWidget.value))}},yC=Bc,Bc.ID="editor.contrib.messageController",Bc.MESSAGE_VISIBLE=new yn("messageVisible",!1,G("messageVisible","Whether the editor is currently showing an inline message")),Bc);xo=yC=MIe([E5(1,Ln),E5(2,As)],xo);const AIe=uo.bindToContribution(xo.get);Et(new AIe({id:"leaveEditorMessage",precondition:xo.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:130,primary:9}}));let P5=class{static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(i),e.getDomNode().removeEventListener("animationend",t)},i=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}constructor(e,{lineNumber:t,column:i},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const a=document.createElement("div");typeof r=="string"?(a.classList.add("message"),a.textContent=r):(r.classList.add("message"),a.appendChild(r)),this._domNode.appendChild(a);const s=document.createElement("div");s.classList.add("anchor","below"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",e===2)}};gn(xo.ID,xo,4);function HE(n,e){return e&&(n.stack||n.stacktrace)?G("stackTrace.format","{0}: {1}",D5(n),k5(n.stack)||k5(n.stacktrace)):D5(n)}function k5(n){return Array.isArray(n)?n.join(`
`):n}function D5(n){return n.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${n.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?G("nodeExceptionMessage","A system error occurred ({0})",n.message):n.message||G("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function aD(n=null,e=!1){if(!n)return G("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(n)){const t=Ou(n),i=aD(t[0],e);return t.length>1?G("error.moreErrors","{0} ({1} errors in total)",i,t.length):i}if(o2(n))return n;if(n.detail){const t=n.detail;if(t.error)return HE(t.error,e);if(t.exception)return HE(t.exception,e)}return n.stack?HE(n,e):n.message?n.message:G("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var mG=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},og=function(n,e){return function(t,i){e(t,i,n)}},sD,pf;let lD=(pf=class extends dt{constructor(e,t,i,r,o,a,s,l,u,c){super(),this.typeId=e,this.editor=t,this.showCommand=r,this.range=o,this.edits=a,this.onSelectNewEdit=s,this._contextMenuService=l,this._keybindingService=c,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=i.bindTo(u),this.visibleContext.set(!0),this._register(bi(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register(bi(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(d=>{o.containsPosition(d.position)||this.dispose()})),this._register(lr.runAndSubscribe(c.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var t;const e=(t=this._keybindingService.lookupKeybinding(this.showCommand.id))==null?void 0:t.getLabel();this.button.element.title=this.showCommand.label+(e?` (${e})`:"")}create(){this.domNode=Ut(".post-edit-widget"),this.button=this._register(new XX(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(Rn(this.domNode,hi.CLICK,()=>this.showSelector()))}getId(){return sD.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const e=oo(this.button.element);return{x:e.left+e.width,y:e.top+e.height}},getActions:()=>this.edits.allEdits.map((e,t)=>JX({id:"",label:e.title,checked:t===this.edits.activeEditIndex,run:()=>{if(t!==this.edits.activeEditIndex)return this.onSelectNewEdit(t)}}))})}},sD=pf,pf.baseId="editor.widget.postEditWidget",pf);lD=sD=mG([og(7,sp),og(8,Ln),og(9,rr)],lD);let H0=class extends dt{constructor(e,t,i,r,o,a,s){super(),this._id=e,this._editor=t,this._visibleContext=i,this._showCommand=r,this._instantiationService=o,this._bulkEditService=a,this._notificationService=s,this._currentWidget=this._register(new ns),this._register(lr.any(t.onDidChangeModel,t.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(e,t,i,r,o){const a=this._editor.getModel();if(!a||!e.length)return;const s=t.allEdits.at(t.activeEditIndex);if(!s)return;const l=async p=>{const m=this._editor.getModel();m&&(await m.undo(),this.applyEditAndShowIfNeeded(e,{activeEditIndex:p,allEdits:t.allEdits},i,r,o))},u=(p,m)=>{xh(p)||(this._notificationService.error(m),i&&this.show(e[0],t,l))};let c;try{c=await r(s,o)}catch(p){return u(p,G("resolveError",`Error resolving edit '{0}':
{1}`,s.title,aD(p)))}if(o.isCancellationRequested)return;const d=gG(a.uri,e,c),f=e[0],h=a.deltaDecorations([],[{range:f,options:{description:"paste-line-suffix",stickiness:0}}]);this._editor.focus();let v,g;try{v=await this._bulkEditService.apply(d,{editor:this._editor,token:o}),g=a.getDecorationRange(h[0])}catch(p){return u(p,G("applyError",`Error applying edit '{0}':
{1}`,s.title,aD(p)))}finally{a.deltaDecorations(h,[])}o.isCancellationRequested||i&&v.isApplied&&t.allEdits.length>1&&this.show(g??f,t,l)}show(e,t,i){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(lD,this._id,this._editor,this._visibleContext,this._showCommand,e,t,i))}clear(){this._currentWidget.clear()}tryShowSelector(){var e;(e=this._currentWidget.value)==null||e.showSelector()}};H0=mG([og(4,ln),og(5,v1),og(6,co)],H0);var RIe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uv=function(n,e){return function(t,i){e(t,i,n)}},qd;const bG="editor.changePasteType",JM=new yn("pasteWidgetVisible",!1,G("pasteWidgetVisible","Whether the paste widget is showing")),BE="application/vnd.code.copyMetadata";var mf;let Ru=(mf=class extends dt{static get(e){return e.getContribution(qd.ID)}constructor(e,t,i,r,o,a,s){super(),this._bulkEditService=i,this._clipboardService=r,this._languageFeaturesService=o,this._quickInputService=a,this._progressService=s,this._editor=e;const l=e.getContainerDomNode();this._register(Rn(l,"copy",u=>this.handleCopy(u))),this._register(Rn(l,"cut",u=>this.handleCopy(u))),this._register(Rn(l,"paste",u=>this.handlePaste(u),!0)),this._pasteProgressManager=this._register(new j0("pasteIntoEditor",e,t)),this._postPasteWidgetManager=this._register(t.createInstance(H0,"pasteIntoEditor",e,JM,{id:bG,label:G("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(e){this._editor.focus();try{this._pasteAsActionContext={preferred:e},DI().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled}async finishedPaste(){await this._currentPasteOperation}handleCopy(e){var g,p,m,b;if(!this._editor.hasTextFocus()||((p=(g=this._clipboardService).clearInternalState)==null||p.call(g),!e.clipboardData||!this.isPasteAsEnabled()))return;const t=this._editor.getModel(),i=this._editor.getSelections();if(!t||!(i!=null&&i.length))return;const r=this._editor.getOption(37);let o=i;const a=i.length===1&&i[0].isEmpty();if(a){if(!r)return;o=[new be(o[0].startLineNumber,1,o[0].startLineNumber,1+t.getLineLength(o[0].startLineNumber))]}const s=(m=this._editor._getViewModel())==null?void 0:m.getPlainTextToCopy(i,r,TI),u={multicursorText:Array.isArray(s)?s:null,pasteOnNewLine:a,mode:null},c=this._languageFeaturesService.documentPasteEditProvider.ordered(t).filter(C=>!!C.prepareDocumentPaste);if(!c.length){this.setCopyMetadata(e.clipboardData,{defaultPastePayload:u});return}const d=cG(e.clipboardData),f=c.flatMap(C=>C.copyMimeTypes??[]),h=WO();this.setCopyMetadata(e.clipboardData,{id:h,providerCopyMimeTypes:f,defaultPastePayload:u});const v=cr(async C=>{const O=Ou(await Promise.all(c.map(async w=>{try{return await w.prepareDocumentPaste(t,o,d,C)}catch(E){console.error(E);return}})));O.reverse();for(const w of O)for(const[E,P]of w)d.replace(E,P);return d});(b=qd._currentCopyOperation)==null||b.dataTransferPromise.cancel(),qd._currentCopyOperation={handle:h,dataTransferPromise:v}}async handlePaste(e){var l,u,c;if(!e.clipboardData||!this._editor.hasTextFocus())return;(l=xo.get(this._editor))==null||l.closeMessage(),(u=this._currentPasteOperation)==null||u.cancel(),this._currentPasteOperation=void 0;const t=this._editor.getModel(),i=this._editor.getSelections();if(!(i!=null&&i.length)||!t||this._editor.getOption(92)||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const r=this.fetchCopyMetadata(e),o=dG(e.clipboardData);o.delete(BE);const a=[...e.clipboardData.types,...(r==null?void 0:r.providerCopyMimeTypes)??[],mr.uriList],s=this._languageFeaturesService.documentPasteEditProvider.ordered(t).filter(d=>{var h,v;const f=(h=this._pasteAsActionContext)==null?void 0:h.preferred;return f&&d.providedPasteEditKinds&&!this.providerMatchesPreference(d,f)?!1:(v=d.pasteMimeTypes)==null?void 0:v.some(g=>lG(g,a))});if(!s.length){(c=this._pasteAsActionContext)!=null&&c.preferred&&this.showPasteAsNoEditMessage(i,this._pasteAsActionContext.preferred);return}e.preventDefault(),e.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,s,i,o,r):this.doPasteInline(s,i,o,r,e)}showPasteAsNoEditMessage(e,t){var i;(i=xo.get(this._editor))==null||i.showMessage(G("pasteAsError","No paste edits for '{0}' found",t instanceof si?t.value:t.providerId),e[0].getStartPosition())}doPasteInline(e,t,i,r,o){const a=this._editor;if(!a.hasModel())return;const s=new yg(a,3,void 0),l=cr(async u=>{const c=this._editor;if(!c.hasModel())return;const d=c.getModel(),f=new st,h=f.add(new Er(u));f.add(s.token.onCancellationRequested(()=>h.cancel()));const v=h.token;try{if(await this.mergeInDataFromCopy(i,r,v),v.isCancellationRequested)return;const g=e.filter(b=>this.isSupportedPasteProvider(b,i));if(!g.length||g.length===1&&g[0]instanceof gh)return this.applyDefaultPasteHandler(i,r,v,o);const p={triggerKind:vP.Automatic},m=await this.getPasteEdits(g,i,d,t,p,v);if(f.add(m),v.isCancellationRequested)return;if(m.edits.length===1&&m.edits[0].provider instanceof gh)return this.applyDefaultPasteHandler(i,r,v,o);if(m.edits.length){const b=c.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(t,{activeEditIndex:0,allEdits:m.edits},b,(C,O)=>new Promise((w,E)=>{(async()=>{var P,D;try{const k=(D=(P=C.provider).resolveDocumentPasteEdit)==null?void 0:D.call(P,C,O),L=new II,M=k&&await this._pasteProgressManager.showWhile(t[0].getEndPosition(),G("resolveProcess","Resolving paste edit. Click to cancel"),Promise.race([L.p,k]),{cancel:()=>(L.cancel(),E(new g1))},0);return M&&(C.additionalEdit=M.additionalEdit),w(C)}catch(k){return E(k)}})()}),v)}await this.applyDefaultPasteHandler(i,r,v,o)}finally{f.dispose(),this._currentPasteOperation===l&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(t[0].getEndPosition(),G("pasteIntoEditorProgress","Running paste handlers. Click to cancel and do basic paste"),l,{cancel:async()=>{try{if(l.cancel(),s.token.isCancellationRequested)return;await this.applyDefaultPasteHandler(i,r,s.token,o)}finally{s.dispose()}}}).then(()=>{s.dispose()}),this._currentPasteOperation=l}showPasteAsPick(e,t,i,r,o){const a=cr(async s=>{const l=this._editor;if(!l.hasModel())return;const u=l.getModel(),c=new st,d=c.add(new yg(l,3,void 0,s));try{if(await this.mergeInDataFromCopy(r,o,d.token),d.token.isCancellationRequested)return;let f=t.filter(m=>this.isSupportedPasteProvider(m,r,e));e&&(f=f.filter(m=>this.providerMatchesPreference(m,e)));const h={triggerKind:vP.PasteAs,only:e&&e instanceof si?e:void 0};let v=c.add(await this.getPasteEdits(f,r,u,i,h,d.token));if(d.token.isCancellationRequested)return;if(e&&(v={edits:v.edits.filter(m=>e instanceof si?e.contains(m.kind):e.providerId===m.provider.id),dispose:v.dispose}),!v.edits.length){h.only&&this.showPasteAsNoEditMessage(i,h.only);return}let g;if(e)g=v.edits.at(0);else{const m=await this._quickInputService.pick(v.edits.map(b=>{var C;return{label:b.title,description:(C=b.kind)==null?void 0:C.value,edit:b}}),{placeHolder:G("pasteAsPickerPlaceholder","Select Paste Action")});g=m==null?void 0:m.edit}if(!g)return;const p=gG(u.uri,i,g);await this._bulkEditService.apply(p,{editor:this._editor})}finally{c.dispose(),this._currentPasteOperation===a&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:G("pasteAsProgress","Running paste handlers")},()=>a)}setCopyMetadata(e,t){e.setData(BE,JSON.stringify(t))}fetchCopyMetadata(e){if(!e.clipboardData)return;const t=e.clipboardData.getData(BE);if(t)try{return JSON.parse(t)}catch{return}const[i,r]=QX.getTextData(e.clipboardData);if(r)return{defaultPastePayload:{mode:r.mode,multicursorText:r.multicursorText??null,pasteOnNewLine:!!r.isFromEmptySelection}}}async mergeInDataFromCopy(e,t,i){var r;if(t!=null&&t.id&&((r=qd._currentCopyOperation)==null?void 0:r.handle)===t.id){const o=await qd._currentCopyOperation.dataTransferPromise;if(i.isCancellationRequested)return;for(const[a,s]of o)e.replace(a,s)}if(!e.has(mr.uriList)){const o=await this._clipboardService.readResources();if(i.isCancellationRequested)return;o.length&&e.append(mr.uriList,GM(zO.create(o)))}}async getPasteEdits(e,t,i,r,o,a){const s=new st,l=await Ey(Promise.all(e.map(async c=>{var d,f;try{const h=await((d=c.provideDocumentPasteEdits)==null?void 0:d.call(c,i,r,t,o,a));return h&&s.add(h),(f=h==null?void 0:h.edits)==null?void 0:f.map(v=>({...v,provider:c}))}catch(h){xh(h)||console.error(h);return}})),a),u=Ou(l??[]).flat().filter(c=>!o.only||o.only.contains(c.kind));return{edits:pG(u),dispose:()=>s.dispose()}}async applyDefaultPasteHandler(e,t,i,r){const o=e.get(mr.text)??e.get("text"),a=await(o==null?void 0:o.asString())??"";if(i.isCancellationRequested)return;const s={clipboardEvent:r,text:a,pasteOnNewLine:(t==null?void 0:t.defaultPastePayload.pasteOnNewLine)??!1,multicursorText:(t==null?void 0:t.defaultPastePayload.multicursorText)??null,mode:null};this._editor.trigger("keyboard","paste",s)}isSupportedPasteProvider(e,t,i){var r;return(r=e.pasteMimeTypes)!=null&&r.some(o=>t.matches(o))?!i||this.providerMatchesPreference(e,i):!1}providerMatchesPreference(e,t){return t instanceof si?e.providedPasteEditKinds?e.providedPasteEditKinds.some(i=>t.contains(i)):!0:e.id===t.providerId}},qd=mf,mf.ID="editor.contrib.copyPasteActionController",mf);Ru=qd=RIe([uv(1,ln),uv(2,v1),uv(3,lp),uv(4,xt),uv(5,Py),uv(6,eJ)],Ru);const mh="9_cutcopypaste",NIe=up||document.queryCommandSupported("cut"),yG=up||document.queryCommandSupported("copy"),FIe=typeof navigator.clipboard>"u"||tJ?document.queryCommandSupported("paste"):!0;function QM(n){return n.register(),n}const jIe=NIe?QM(new LI({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:up?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:pt.MenubarEditMenu,group:"2_ccp",title:G({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:pt.EditorContext,group:mh,title:G("actions.clipboard.cutLabel","Cut"),when:ve.writable,order:1},{menuId:pt.CommandPalette,group:"",title:G("actions.clipboard.cutLabel","Cut"),order:1},{menuId:pt.SimpleEditorContext,group:mh,title:G("actions.clipboard.cutLabel","Cut"),when:ve.writable,order:1}]})):void 0,HIe=yG?QM(new LI({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:up?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:pt.MenubarEditMenu,group:"2_ccp",title:G({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:pt.EditorContext,group:mh,title:G("actions.clipboard.copyLabel","Copy"),order:2},{menuId:pt.CommandPalette,group:"",title:G("actions.clipboard.copyLabel","Copy"),order:1},{menuId:pt.SimpleEditorContext,group:mh,title:G("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;es.appendMenuItem(pt.MenubarEditMenu,{submenu:pt.MenubarCopy,title:St("copy as","Copy As"),group:"2_ccp",order:3});es.appendMenuItem(pt.EditorContext,{submenu:pt.EditorContextCopy,title:St("copy as","Copy As"),group:mh,order:3});es.appendMenuItem(pt.EditorContext,{submenu:pt.EditorContextShare,title:St("share","Share"),group:"11_share",order:-1,when:Ne.and(Ne.notEquals("resourceScheme","output"),ve.editorTextFocus)});es.appendMenuItem(pt.ExplorerContext,{submenu:pt.ExplorerContextShare,title:St("share","Share"),group:"11_share",order:-1});const $E=FIe?QM(new LI({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:up?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:pt.MenubarEditMenu,group:"2_ccp",title:G({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:pt.EditorContext,group:mh,title:G("actions.clipboard.pasteLabel","Paste"),when:ve.writable,order:4},{menuId:pt.CommandPalette,group:"",title:G("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:pt.SimpleEditorContext,group:mh,title:G("actions.clipboard.pasteLabel","Paste"),when:ve.writable,order:4}]})):void 0;class BIe extends Qe{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:G("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:ve.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(37)&&t.getSelection().isEmpty()||(aR.forceCopyWithSyntaxHighlighting=!0,t.focus(),t.getContainerDomNode().ownerDocument.execCommand("copy"),aR.forceCopyWithSyntaxHighlighting=!1)}}function _G(n,e){n&&(n.addImplementation(1e4,"code-editor",(t,i)=>{const r=t.get(ir).getFocusedCodeEditor();if(r&&r.hasTextFocus()){const o=r.getOption(37),a=r.getSelection();return a&&a.isEmpty()&&!o||r.getContainerDomNode().ownerDocument.execCommand(e),!0}return!1}),n.addImplementation(0,"generic-dom",(t,i)=>(DI().execCommand(e),!0)))}_G(jIe,"cut");_G(HIe,"copy");$E&&($E.addImplementation(1e4,"code-editor",(n,e)=>{var o;const t=n.get(ir),i=n.get(lp),r=t.getFocusedCodeEditor();return r&&r.hasTextFocus()?r.getContainerDomNode().ownerDocument.execCommand("paste")?((o=Ru.get(r))==null?void 0:o.finishedPaste())??Promise.resolve():nJ?(async()=>{const s=await i.readText();if(s!==""){const l=iJ.INSTANCE.get(s);let u=!1,c=null,d=null;l&&(u=r.getOption(37)&&!!l.isFromEmptySelection,c=typeof l.multicursorText<"u"?l.multicursorText:null,d=l.mode),r.trigger("keyboard","paste",{text:s,pasteOnNewLine:u,multicursorText:c,mode:d})}})():!0:!1}),$E.addImplementation(0,"generic-dom",(n,e)=>(DI().execCommand("paste"),!0)));yG&&Le(BIe);const ni=new class{constructor(){this.QuickFix=new si("quickfix"),this.Refactor=new si("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new si("notebook"),this.Source=new si("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var To;(function(n){n.Refactor="refactor",n.RefactorPreview="refactor preview",n.Lightbulb="lightbulb",n.Default="other (default)",n.SourceAction="source action",n.QuickFix="quick fix action",n.FixAll="fix all",n.OrganizeImports="organize imports",n.AutoFix="auto fix",n.QuickFixHover="quick fix hover window",n.OnSave="save participants",n.ProblemsView="problems view"})(To||(To={}));function $Ie(n,e){return!(n.include&&!n.include.intersects(e)||n.excludes&&n.excludes.some(t=>wG(e,t,n.include))||!n.includeSourceActions&&ni.Source.contains(e))}function VIe(n,e){const t=e.kind?new si(e.kind):void 0;return!(n.include&&(!t||!n.include.contains(t))||n.excludes&&t&&n.excludes.some(i=>wG(t,i,n.include))||!n.includeSourceActions&&t&&ni.Source.contains(t)||n.onlyIncludePreferredActions&&!e.isPreferred)}function wG(n,e,t){return!(!e.contains(n)||t&&e.contains(t))}class dl{static fromUser(e,t){return!e||typeof e!="object"?new dl(t.kind,t.apply,!1):new dl(dl.getKindFromUser(e,t.kind),dl.getApplyFromUser(e,t.apply),dl.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new si(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}}class WIe{constructor(e,t,i){this.action=e,this.provider=t,this.highlightRange=i}async resolve(e){var t;if((t=this.provider)!=null&&t.resolveCodeAction&&!this.action.edit){let i;try{i=await this.provider.resolveCodeAction(this.action,e)}catch(r){Fi(r)}i&&(this.action.edit=i.edit)}return this}}const CG="editor.action.codeAction",eA="editor.action.quickFix",SG="editor.action.autoFix",OG="editor.action.refactor",xG="editor.action.sourceAction",uD="editor.action.organizeImports",cD="editor.action.fixAll";class ob extends dt{static codeActionsPreferredComparator(e,t){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:0}static codeActionsComparator({action:e},{action:t}){return e.isAI&&!t.isAI?1:!e.isAI&&t.isAI?-1:Wo(e.diagnostics)?Wo(t.diagnostics)?ob.codeActionsPreferredComparator(e,t):-1:Wo(t.diagnostics)?1:ob.codeActionsPreferredComparator(e,t)}constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(ob.codeActionsComparator),this.validActions=this.allActions.filter(({action:r})=>!r.disabled)}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&ni.QuickFix.contains(new si(e.kind))&&!!e.isPreferred)}get hasAIFix(){return this.validActions.some(({action:e})=>!!e.isAI)}get allAIFixes(){return this.validActions.every(({action:e})=>!!e.isAI)}}const T5={actions:[],documentation:void 0};async function Hv(n,e,t,i,r,o){var g;const a=i.filter||{},s={...a,excludes:[...a.excludes||[],ni.Notebook]},l={only:(g=a.include)==null?void 0:g.value,trigger:i.type},u=new rJ(e,o),c=i.type===2,d=zIe(n,e,c?s:a),f=new st,h=d.map(async p=>{try{r.report(p);const m=await p.provideCodeActions(e,t,l,u.token);if(m&&f.add(m),u.token.isCancellationRequested)return T5;const b=((m==null?void 0:m.actions)||[]).filter(O=>O&&VIe(a,O)),C=KIe(p,b,a.include);return{actions:b.map(O=>new WIe(O,p)),documentation:C}}catch(m){if(xh(m))throw m;return Fi(m),T5}}),v=n.onDidChange(()=>{const p=n.all(e);Sl(p,d)||u.cancel()});try{const p=await Promise.all(h),m=p.map(C=>C.actions).flat(),b=[...Ou(p.map(C=>C.documentation)),...UIe(n,e,i,m)];return new ob(m,b,f)}finally{v.dispose(),u.dispose()}}function zIe(n,e,t){return n.all(e).filter(i=>i.providedCodeActionKinds?i.providedCodeActionKinds.some(r=>$Ie(t,new si(r))):!0)}function*UIe(n,e,t,i){var r,o,a;if(e&&i.length)for(const s of n.all(e))s._getAdditionalMenuItems&&(yield*(a=s._getAdditionalMenuItems)==null?void 0:a.call(s,{trigger:t.type,only:(o=(r=t.filter)==null?void 0:r.include)==null?void 0:o.value},i.map(l=>l.action)))}function KIe(n,e,t){if(!n.documentation)return;const i=n.documentation.map(r=>({kind:new si(r.kind),command:r.command}));if(t){let r;for(const o of i)o.kind.contains(t)&&(r?r.kind.contains(o.kind)&&(r=o):r=o);if(r)return r==null?void 0:r.command}for(const r of e)if(r.kind){for(const o of i)if(o.kind.contains(new si(r.kind)))return o.command}}var nf;(function(n){n.OnSave="onSave",n.FromProblemsView="fromProblemsView",n.FromCodeActions="fromCodeActions",n.FromAILightbulb="fromAILightbulb"})(nf||(nf={}));async function qIe(n,e,t,i,r=an.None){var u;const o=n.get(v1),a=n.get(yr),s=n.get(Hu),l=n.get(co);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred,reason:t}),await e.resolve(r),!r.isCancellationRequested&&!((u=e.action.edit)!=null&&u.edits.length&&!(await o.apply(e.action.edit,{editor:i==null?void 0:i.editor,label:e.action.title,quotableLabel:e.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:t!==nf.OnSave,showPreview:i==null?void 0:i.preview})).isApplied)&&e.action.command)try{await a.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(c){const d=GIe(c);l.error(typeof d=="string"?d:G("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}function GIe(n){return typeof n=="string"?n:n instanceof Error&&typeof n.message=="string"?n.message:void 0}ii.registerCommand("_executeCodeActionProvider",async function(n,e,t,i,r){if(!(e instanceof Kn))throw mu();const{codeActionProvider:o}=n.get(xt),a=n.get(Yr).getModel(e);if(!a)throw mu();const s=Nt.isISelection(t)?Nt.liftSelection(t):be.isIRange(t)?a.validateRange(t):void 0;if(!s)throw mu();const l=typeof i=="string"?new si(i):void 0,u=await Hv(o,a,s,{type:1,triggerAction:To.Default,filter:{includeSourceActions:!0,include:l}},cu.None,an.None),c=[],d=Math.min(u.validActions.length,typeof r=="number"?r:0);for(let f=0;f<d;f++)c.push(u.validActions[f].resolve(an.None));try{return await Promise.all(c),u.validActions.map(f=>f.action)}finally{setTimeout(()=>u.dispose(),100)}});var YIe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ZIe=function(n,e){return function(t,i){e(t,i,n)}},dD,bf;let fD=(bf=class{constructor(e){this.keybindingService=e}getResolver(){const e=new MI(()=>this.keybindingService.getKeybindings().filter(t=>dD.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let i=t.commandArgs;return t.command===uD?i={kind:ni.SourceOrganizeImports.value}:t.command===cD&&(i={kind:ni.SourceFixAll.value}),{resolvedKeybinding:t.resolvedKeybinding,...dl.fromUser(i,{kind:si.None,apply:"never"})}}));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.value);return i==null?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new si(e.kind);return t.filter(r=>r.kind.contains(i)).filter(r=>r.preferred?e.isPreferred:!0).reduceRight((r,o)=>r?r.kind.contains(o.kind)?o:r:o,void 0)}},dD=bf,bf.codeActionCommands=[OG,CG,xG,uD,cD],bf);fD=dD=YIe([ZIe(0,rr)],fD);_t("symbolIcon.arrayForeground",Ji,G("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.booleanForeground",Ji,G("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},G("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.colorForeground",Ji,G("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.constantForeground",Ji,G("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},G("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},G("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},G("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},G("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},G("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.fileForeground",Ji,G("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.folderForeground",Ji,G("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},G("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},G("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.keyForeground",Ji,G("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.keywordForeground",Ji,G("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},G("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.moduleForeground",Ji,G("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.namespaceForeground",Ji,G("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.nullForeground",Ji,G("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.numberForeground",Ji,G("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.objectForeground",Ji,G("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.operatorForeground",Ji,G("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.packageForeground",Ji,G("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.propertyForeground",Ji,G("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.referenceForeground",Ji,G("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.snippetForeground",Ji,G("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.stringForeground",Ji,G("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.structForeground",Ji,G("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.textForeground",Ji,G("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.typeParameterForeground",Ji,G("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.unitForeground",Ji,G("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));_t("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},G("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));const EG=Object.freeze({kind:si.Empty,title:G("codeAction.widget.id.more","More Actions...")}),XIe=Object.freeze([{kind:ni.QuickFix,title:G("codeAction.widget.id.quickfix","Quick Fix")},{kind:ni.RefactorExtract,title:G("codeAction.widget.id.extract","Extract"),icon:Kt.wrench},{kind:ni.RefactorInline,title:G("codeAction.widget.id.inline","Inline"),icon:Kt.wrench},{kind:ni.RefactorRewrite,title:G("codeAction.widget.id.convert","Rewrite"),icon:Kt.wrench},{kind:ni.RefactorMove,title:G("codeAction.widget.id.move","Move"),icon:Kt.wrench},{kind:ni.SurroundWith,title:G("codeAction.widget.id.surround","Surround With"),icon:Kt.surroundWith},{kind:ni.Source,title:G("codeAction.widget.id.source","Source Action"),icon:Kt.symbolFile},EG]);function JIe(n,e,t){if(!e)return n.map(o=>{var a;return{kind:"action",item:o,group:EG,disabled:!!o.action.disabled,label:o.action.disabled||o.action.title,canPreview:!!((a=o.action.edit)!=null&&a.edits.length)}});const i=XIe.map(o=>({group:o,actions:[]}));for(const o of n){const a=o.action.kind?new si(o.action.kind):si.None;for(const s of i)if(s.group.kind.contains(a)){s.actions.push(o);break}}const r=[];for(const o of i)if(o.actions.length){r.push({kind:"header",group:o.group});for(const a of o.actions){const s=o.group;r.push({kind:"action",item:a,group:a.action.isAI?{title:s.title,kind:s.kind,icon:Kt.sparkle}:s,label:a.action.title,disabled:!!a.action.disabled,keybinding:t(a.action)})}}return r}var QIe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eLe=function(n,e){return function(t,i){e(t,i,n)}},Ev;const I5=Ti("gutter-lightbulb",Kt.lightBulb,G("gutterLightbulbWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor.")),L5=Ti("gutter-lightbulb-auto-fix",Kt.lightbulbAutofix,G("gutterLightbulbAutoFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and a quick fix is available.")),M5=Ti("gutter-lightbulb-sparkle",Kt.lightbulbSparkle,G("gutterLightbulbAIFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix is available.")),A5=Ti("gutter-lightbulb-aifix-auto-fix",Kt.lightbulbSparkleAutofix,G("gutterLightbulbAIFixAutoFixWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix and a quick fix is available.")),R5=Ti("gutter-lightbulb-sparkle-filled",Kt.sparkleFilled,G("gutterLightbulbSparkleFilledWidget","Icon which spawns code actions menu from the gutter when there is no space in the editor and an AI fix and a quick fix is available."));var ys;(function(n){n.Hidden={type:0};class e{constructor(i,r,o,a){this.actions=i,this.trigger=r,this.editorPosition=o,this.widgetPosition=a,this.type=1}}n.Showing=e})(ys||(ys={}));var hu;let ty=(hu=class extends dt{constructor(e,t){super(),this._editor=e,this._keybindingService=t,this._onClick=this._register(new on),this.onClick=this._onClick.event,this._state=ys.Hidden,this._gutterState=ys.Hidden,this._iconClasses=[],this.lightbulbClasses=["codicon-"+I5.id,"codicon-"+A5.id,"codicon-"+L5.id,"codicon-"+M5.id,"codicon-"+R5.id],this.gutterDecoration=Ev.GUTTER_DECORATION,this._domNode=Ut("div.lightBulbWidget"),this._domNode.role="listbox",this._register(a2.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(i=>{const r=this._editor.getModel();(this.state.type!==1||!r||this.state.editorPosition.lineNumber>=r.getLineCount())&&this.hide(),(this.gutterState.type!==1||!r||this.gutterState.editorPosition.lineNumber>=r.getLineCount())&&this.gutterHide()})),this._register(oJ(this._domNode,i=>{if(this.state.type!==1)return;this._editor.focus(),i.preventDefault();const{top:r,height:o}=oo(this._domNode),a=this._editor.getOption(67);let s=Math.floor(a/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(s+=a),this._onClick.fire({x:i.posx,y:r+o+s,actions:this.state.actions,trigger:this.state.trigger})})),this._register(Rn(this._domNode,"mouseenter",i=>{(i.buttons&1)===1&&this.hide()})),this._register(lr.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var i,r;this._preferredKbLabel=((i=this._keybindingService.lookupKeybinding(SG))==null?void 0:i.getLabel())??void 0,this._quickFixKbLabel=((r=this._keybindingService.lookupKeybinding(eA))==null?void 0:r.getLabel())??void 0,this._updateLightBulbTitleAndIcon()})),this._register(this._editor.onMouseDown(async i=>{if(!i.target.element||!this.lightbulbClasses.some(l=>i.target.element&&i.target.element.classList.contains(l))||this.gutterState.type!==1)return;this._editor.focus();const{top:r,height:o}=oo(i.target.element),a=this._editor.getOption(67);let s=Math.floor(a/3);this.gutterState.widgetPosition.position!==null&&this.gutterState.widgetPosition.position.lineNumber<this.gutterState.editorPosition.lineNumber&&(s+=a),this._onClick.fire({x:i.event.posx,y:r+o+s,actions:this.gutterState.actions,trigger:this.gutterState.trigger})}))}dispose(){super.dispose(),this._editor.removeContentWidget(this),this._gutterDecorationID&&this._removeGutterDecoration(this._gutterDecorationID)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,i){if(e.validActions.length<=0)return this.gutterHide(),this.hide();if(!this._editor.hasTextFocus())return this.gutterHide(),this.hide();if(!this._editor.getOptions().get(65).enabled)return this.gutterHide(),this.hide();const a=this._editor.getModel();if(!a)return this.gutterHide(),this.hide();const{lineNumber:s,column:l}=a.validatePosition(i),u=a.getOptions().tabSize,c=this._editor.getOptions().get(50),d=a.getLineContent(s),f=AI(d,u),h=c.spaceWidth*f>22,v=w=>w>2&&this._editor.getTopForLineNumber(w)===this._editor.getTopForLineNumber(w-1),g=this._editor.getLineDecorations(s);let p=!1;if(g)for(const w of g){const E=w.options.glyphMarginClassName;if(E&&!this.lightbulbClasses.some(P=>E.includes(P))){p=!0;break}}let m=s,b=1;if(!h){const w=E=>{const P=a.getLineContent(E);return/^\s*$|^\s+/.test(P)||P.length<=b};if(s>1&&!v(s-1)){const E=a.getLineCount(),P=s===E,D=s>1&&w(s-1),k=!P&&w(s+1),L=w(s),M=!k&&!D;if(!k&&!D&&!p)return this.gutterState=new ys.Showing(e,t,i,{position:{lineNumber:m,column:b},preference:Ev._posPref}),this.renderGutterLightbub(),this.hide();D||P||D&&!L?m-=1:(k||M&&L)&&(m+=1)}else if(s===1&&(s===a.getLineCount()||!w(s+1)&&!w(s)))if(this.gutterState=new ys.Showing(e,t,i,{position:{lineNumber:m,column:b},preference:Ev._posPref}),p)this.gutterHide();else return this.renderGutterLightbub(),this.hide();else if(s<a.getLineCount()&&!v(s+1))m+=1;else if(l*c.spaceWidth<22)return this.hide();b=/^\S\s*$/.test(a.getLineContent(m))?2:1}this.state=new ys.Showing(e,t,i,{position:{lineNumber:m,column:b},preference:Ev._posPref}),this._gutterDecorationID&&(this._removeGutterDecoration(this._gutterDecorationID),this.gutterHide());const C=e.validActions,O=e.validActions[0].action.kind;if(C.length!==1||!O){this._editor.layoutContentWidget(this);return}this._editor.layoutContentWidget(this)}hide(){this.state!==ys.Hidden&&(this.state=ys.Hidden,this._editor.layoutContentWidget(this))}gutterHide(){this.gutterState!==ys.Hidden&&(this._gutterDecorationID&&this._removeGutterDecoration(this._gutterDecorationID),this.gutterState=ys.Hidden)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}get gutterState(){return this._gutterState}set gutterState(e){this._gutterState=e,this._updateGutterLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let e,t=!1;this.state.actions.allAIFixes?(e=Kt.sparkleFilled,this.state.actions.validActions.length===1&&(t=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?e=Kt.lightbulbSparkleAutofix:e=Kt.lightbulbAutofix:this.state.actions.hasAIFix?e=Kt.lightbulbSparkle:e=Kt.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,t),this._iconClasses=Hn.asClassNameArray(e),this._domNode.classList.add(...this._iconClasses)}_updateGutterLightBulbTitleAndIcon(){if(this.gutterState.type!==1)return;let e,t=!1;this.gutterState.actions.allAIFixes?(e=R5,this.gutterState.actions.validActions.length===1&&(t=!0)):this.gutterState.actions.hasAutoFix?this.gutterState.actions.hasAIFix?e=A5:e=L5:this.gutterState.actions.hasAIFix?e=M5:e=I5,this._updateLightbulbTitle(this.gutterState.actions.hasAutoFix,t);const i=mn.register({description:"codicon-gutter-lightbulb-decoration",glyphMarginClassName:Hn.asClassName(e),glyphMargin:{position:IC.Left},stickiness:1});this.gutterDecoration=i}renderGutterLightbub(){const e=this._editor.getSelection();e&&(this._gutterDecorationID===void 0?this._addGutterDecoration(e.startLineNumber):this._updateGutterDecoration(this._gutterDecorationID,e.startLineNumber))}_addGutterDecoration(e){this._editor.changeDecorations(t=>{this._gutterDecorationID=t.addDecoration(new be(e,0,e,0),this.gutterDecoration)})}_removeGutterDecoration(e){this._editor.changeDecorations(t=>{t.removeDecoration(e),this._gutterDecorationID=void 0})}_updateGutterDecoration(e,t){this._editor.changeDecorations(i=>{i.changeDecoration(e,new be(t,0,t,0)),i.changeDecorationOptions(e,this.gutterDecoration)})}_updateLightbulbTitle(e,t){this.state.type===1&&(t?this.title=G("codeActionAutoRun","Run: {0}",this.state.actions.validActions[0].action.title):e&&this._preferredKbLabel?this.title=G("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):!e&&this._quickFixKbLabel?this.title=G("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):e||(this.title=G("codeAction","Show Code Actions")))}set title(e){this._domNode.title=e}},Ev=hu,hu.GUTTER_DECORATION=mn.register({description:"codicon-gutter-lightbulb-decoration",glyphMarginClassName:Hn.asClassName(Kt.lightBulb),glyphMargin:{position:IC.Left},stickiness:1}),hu.ID="editor.contrib.lightbulbWidget",hu._posPref=[0],hu);ty=Ev=QIe([eLe(1,rr)],ty);var PG=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hD=function(n,e){return function(t,i){e(t,i,n)}};const kG="acceptSelectedCodeAction",DG="previewSelectedCodeAction";class tLe{get templateId(){return"header"}renderTemplate(e){e.classList.add("group-header");const t=document.createElement("span");return e.append(t),{container:e,text:t}}renderElement(e,t,i){var r;i.text.textContent=((r=e.group)==null?void 0:r.title)??""}disposeTemplate(e){}}let vD=class{get templateId(){return"action"}constructor(e,t){this._supportsPreview=e,this._keybindingService=t}renderTemplate(e){e.classList.add(this.templateId);const t=document.createElement("div");t.className="icon",e.append(t);const i=document.createElement("span");i.className="title",e.append(i);const r=new RI(e,NI);return{container:e,icon:t,text:i,keybinding:r}}renderElement(e,t,i){var a,s,l;if((a=e.group)!=null&&a.icon?(i.icon.className=Hn.asClassName(e.group.icon),e.group.icon.color&&(i.icon.style.color=rf(e.group.icon.color.id))):(i.icon.className=Hn.asClassName(Kt.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!e.item||!e.label)return;i.text.textContent=TG(e.label),i.keybinding.set(e.keybinding),aJ(!!e.keybinding,i.keybinding.element);const r=(s=this._keybindingService.lookupKeybinding(kG))==null?void 0:s.getLabel(),o=(l=this._keybindingService.lookupKeybinding(DG))==null?void 0:l.getLabel();i.container.classList.toggle("option-disabled",e.disabled),e.disabled?i.container.title=e.label:r&&o?this._supportsPreview&&e.canPreview?i.container.title=G({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to Apply, Shift+F2 to Preview"']},"{0} to Apply, {1} to Preview",r,o):i.container.title=G({key:"label",comment:['placeholder is a keybinding, e.g "F2 to Apply"']},"{0} to Apply",r):i.container.title=""}disposeTemplate(e){e.keybinding.dispose()}};vD=PG([hD(1,rr)],vD);class nLe extends UIEvent{constructor(){super("acceptSelectedAction")}}class N5 extends UIEvent{constructor(){super("previewSelectedAction")}}function iLe(n){if(n.kind==="action")return n.label}let gD=class extends dt{constructor(e,t,i,r,o,a){super(),this._delegate=r,this._contextViewService=o,this._keybindingService=a,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new Er),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const s={getHeight:l=>l.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:l=>l.kind};this._list=this._register(new FI(e,this.domNode,s,[new vD(t,this._keybindingService),new tLe],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:iLe},accessibilityProvider:{getAriaLabel:l=>{if(l.kind==="action"){let u=l.label?TG(l==null?void 0:l.label):"";return l.disabled&&(u=G({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",u,l.disabled)),u}return null},getWidgetAriaLabel:()=>G({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:l=>l.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(sJ),this._register(this._list.onMouseClick(l=>this.onListClick(l))),this._register(this._list.onMouseOver(l=>this.onListHover(l))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(l=>this.onListSelection(l))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(e){return!e.disabled&&e.kind==="action"}hide(e){this._delegate.onHide(e),this.cts.cancel(),this._contextViewService.hideContextView()}layout(e){const t=this._allMenuItems.filter(l=>l.kind==="header").length,r=this._allMenuItems.length*this._actionLineHeight+t*this._headerLineHeight-t*this._actionLineHeight;this._list.layout(r);let o=e;if(this._allMenuItems.length>=50)o=380;else{const l=this._allMenuItems.map((u,c)=>{const d=this.domNode.ownerDocument.getElementById(this._list.getElementID(c));if(d){d.style.width="auto";const f=d.getBoundingClientRect().width;return d.style.width="",f}return 0});o=Math.max(...l,e)}const s=Math.min(r,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(s,o),this.domNode.style.height=`${s}px`,this._list.domFocus(),o}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(e){const t=this._list.getFocus();if(t.length===0)return;const i=t[0],r=this._list.element(i);if(!this.focusCondition(r))return;const o=e?new N5:new nLe;this._list.setSelection([i],o)}onListSelection(e){if(!e.elements.length)return;const t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof N5):this._list.setSelection([])}onFocus(){var r,o;const e=this._list.getFocus();if(e.length===0)return;const t=e[0],i=this._list.element(t);(o=(r=this._delegate).onFocus)==null||o.call(r,i.item)}async onListHover(e){const t=e.element;if(t&&t.item&&this.focusCondition(t)){if(this._delegate.onHover&&!t.disabled&&t.kind==="action"){const i=await this._delegate.onHover(t.item,this.cts.token);t.canPreview=i?i.canPreview:void 0}e.index&&this._list.splice(e.index,1,[t])}this._list.setFocus(typeof e.index=="number"?[e.index]:[])}onListClick(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}};gD=PG([hD(4,p1),hD(5,rr)],gD);function TG(n){return n.replace(/\r\n|\r|\n/g," ")}var rLe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},VE=function(n,e){return function(t,i){e(t,i,n)}};_t("actionBar.toggledBackground",jI,G("actionBar.toggledBackground","Background color for toggled action items in action bar."));const bh={Visible:new yn("codeActionMenuVisible",!1,G("codeActionMenuVisible","Whether the action widget list is visible"))},Mh=Bu("actionWidgetService");let yh=class extends dt{get isVisible(){return bh.Visible.getValue(this._contextKeyService)||!1}constructor(e,t,i){super(),this._contextViewService=e,this._contextKeyService=t,this._instantiationService=i,this._list=this._register(new ns)}show(e,t,i,r,o,a,s){const l=bh.Visible.bindTo(this._contextKeyService),u=this._instantiationService.createInstance(gD,e,t,i,r);this._contextViewService.showContextView({getAnchor:()=>o,render:c=>(l.set(!0),this._renderWidget(c,u,s??[])),onHide:c=>{l.reset(),this._onWidgetClosed(c)}},a,!1)}acceptSelected(e){var t;(t=this._list.value)==null||t.acceptSelected(e)}focusPrevious(){var e,t;(t=(e=this._list)==null?void 0:e.value)==null||t.focusPrevious()}focusNext(){var e,t;(t=(e=this._list)==null?void 0:e.value)==null||t.focusNext()}hide(e){var t;(t=this._list.value)==null||t.hide(e),this._list.clear()}_renderWidget(e,t,i){var h;const r=document.createElement("div");if(r.classList.add("action-widget"),e.appendChild(r),this._list.value=t,this._list.value)r.appendChild(this._list.value.domNode);else throw new Error("List has no value");const o=new st,a=document.createElement("div"),s=e.appendChild(a);s.classList.add("context-view-block"),o.add(Rn(s,hi.MOUSE_DOWN,v=>v.stopPropagation()));const l=document.createElement("div"),u=e.appendChild(l);u.classList.add("context-view-pointerBlock"),o.add(Rn(u,hi.POINTER_MOVE,()=>u.remove())),o.add(Rn(u,hi.MOUSE_DOWN,()=>u.remove()));let c=0;if(i.length){const v=this._createActionBar(".action-widget-action-bar",i);v&&(r.appendChild(v.getContainer().parentElement),o.add(v),c=v.getContainer().offsetWidth)}const d=(h=this._list.value)==null?void 0:h.layout(c);r.style.width=`${d}px`;const f=o.add(_g(e));return o.add(f.onDidBlur(()=>this.hide(!0))),o}_createActionBar(e,t){if(!t.length)return;const i=Ut(e),r=new yb(i);return r.push(t,{icon:!1,label:!0}),r}_onWidgetClosed(e){var t;(t=this._list.value)==null||t.hide(e)}};yh=rLe([VE(0,p1),VE(1,Ln),VE(2,ln)],yh);$u(Mh,yh,1);const d_=1100;Vn(class extends lo{constructor(){super({id:"hideCodeActionWidget",title:St("hideCodeActionWidget.title","Hide action widget"),precondition:bh.Visible,keybinding:{weight:d_,primary:9,secondary:[1033]}})}run(n){n.get(Mh).hide(!0)}});Vn(class extends lo{constructor(){super({id:"selectPrevCodeAction",title:St("selectPrevCodeAction.title","Select previous action"),precondition:bh.Visible,keybinding:{weight:d_,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(n){const e=n.get(Mh);e instanceof yh&&e.focusPrevious()}});Vn(class extends lo{constructor(){super({id:"selectNextCodeAction",title:St("selectNextCodeAction.title","Select next action"),precondition:bh.Visible,keybinding:{weight:d_,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(n){const e=n.get(Mh);e instanceof yh&&e.focusNext()}});Vn(class extends lo{constructor(){super({id:kG,title:St("acceptSelected.title","Accept selected action"),precondition:bh.Visible,keybinding:{weight:d_,primary:3,secondary:[2137]}})}run(n){const e=n.get(Mh);e instanceof yh&&e.acceptSelected()}});Vn(class extends lo{constructor(){super({id:DG,title:St("previewSelected.title","Preview selected action"),precondition:bh.Visible,keybinding:{weight:d_,primary:2051}})}run(n){const e=n.get(Mh);e instanceof yh&&e.acceptSelected(!0)}});const IG=new yn("supportedCodeAction",""),F5="_typescript.applyFixAllCodeAction";class oLe extends dt{constructor(e,t,i,r=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=r,this._autoTriggerTimer=this._register(new ky),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);this._signalChange(t?{trigger:e,selection:t}:void 0)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some(i=>LC(i,t.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:To.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getSelection();if(e.type===1)return t;const i=this._editor.getOption(65).enabled;if(i!==mx.Off){{if(i===mx.On)return t;if(i===mx.OnCode){if(!t.isEmpty())return t;const o=this._editor.getModel(),{lineNumber:a,column:s}=t.getPosition(),l=o.getLineContent(a);if(l.length===0)return;if(s===1){if(/\s/.test(l[0]))return}else if(s===o.getLineMaxColumn(a)){if(/\s/.test(l[l.length-1]))return}else if(/\s/.test(l[s-2])&&/\s/.test(l[s-1]))return}}return t}}}var Xd;(function(n){n.Empty={type:0};class e{constructor(i,r,o){this.trigger=i,this.position=r,this._cancellablePromise=o,this.type=1,this.actions=o.catch(a=>{if(xh(a))return LG;throw a})}cancel(){this._cancellablePromise.cancel()}}n.Triggered=e})(Xd||(Xd={}));const LG=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class aLe extends dt{constructor(e,t,i,r,o,a,s){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=o,this._configurationService=a,this._telemetryService=s,this._codeActionOracle=this._register(new ns),this._state=Xd.Empty,this._onDidChangeState=this._register(new on),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=IG.bindTo(r),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(Xd.Empty,!0))}_settingEnabledNearbyQuickfixes(){var t;const e=(t=this._editor)==null?void 0:t.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:e==null?void 0:e.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(Xd.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(92)){const t=this._registry.all(e).flatMap(i=>i.providedCodeActionKinds??[]);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new oLe(this._editor,this._markerService,i=>{var l;if(!i){this.setState(Xd.Empty);return}const r=i.selection.getStartPosition(),o=cr(async u=>{var c,d,f,h,v,g,p,m,b,C;if(this._settingEnabledNearbyQuickfixes()&&i.trigger.type===1&&(i.trigger.triggerAction===To.QuickFix||(d=(c=i.trigger.filter)==null?void 0:c.include)!=null&&d.contains(ni.QuickFix))){const O=await Hv(this._registry,e,i.selection,i.trigger,cu.None,u),w=[...O.allActions];if(u.isCancellationRequested)return LG;const E=(f=O.validActions)==null?void 0:f.some(D=>D.action.kind?ni.QuickFix.contains(new si(D.action.kind)):!1),P=this._markerService.read({resource:e.uri});if(E){for(const D of O.validActions)(v=(h=D.action.command)==null?void 0:h.arguments)!=null&&v.some(k=>typeof k=="string"&&k.includes(F5))&&(D.action.diagnostics=[...P.filter(k=>k.relatedInformation)]);return{validActions:O.validActions,allActions:w,documentation:O.documentation,hasAutoFix:O.hasAutoFix,hasAIFix:O.hasAIFix,allAIFixes:O.allAIFixes,dispose:()=>{O.dispose()}}}else if(!E&&P.length>0){const D=i.selection.getPosition();let k=D,L=Number.MAX_VALUE;const M=[...O.validActions];for(const j of P){const V=j.endColumn,H=j.endLineNumber,N=j.startLineNumber;if(H===D.lineNumber||N===D.lineNumber){k=new Ot(H,V);const F={type:i.trigger.type,triggerAction:i.trigger.triggerAction,filter:{include:(g=i.trigger.filter)!=null&&g.include?(p=i.trigger.filter)==null?void 0:p.include:ni.QuickFix},autoApply:i.trigger.autoApply,context:{notAvailableMessage:((m=i.trigger.context)==null?void 0:m.notAvailableMessage)||"",position:k}},W=new Nt(k.lineNumber,k.column,k.lineNumber,k.column),U=await Hv(this._registry,e,W,F,cu.None,u);if(U.validActions.length!==0){for(const q of U.validActions)(C=(b=q.action.command)==null?void 0:b.arguments)!=null&&C.some(Z=>typeof Z=="string"&&Z.includes(F5))&&(q.action.diagnostics=[...P.filter(Z=>Z.relatedInformation)]);O.allActions.length===0&&w.push(...U.allActions),Math.abs(D.column-V)<L?M.unshift(...U.validActions):M.push(...U.validActions)}L=Math.abs(D.column-V)}}const A=M.filter((j,V,H)=>H.findIndex(N=>N.action.title===j.action.title)===V);return A.sort((j,V)=>j.action.isPreferred&&!V.action.isPreferred?-1:!j.action.isPreferred&&V.action.isPreferred||j.action.isAI&&!V.action.isAI?1:!j.action.isAI&&V.action.isAI?-1:0),{validActions:A,allActions:w,documentation:O.documentation,hasAutoFix:O.hasAutoFix,hasAIFix:O.hasAIFix,allAIFixes:O.allAIFixes,dispose:()=>{O.dispose()}}}}if(i.trigger.type===1){const O=new ko,w=await Hv(this._registry,e,i.selection,i.trigger,cu.None,u);return this._telemetryService&&this._telemetryService.publicLog2("codeAction.invokedDurations",{codeActions:w.validActions.length,duration:O.elapsed()}),w}return Hv(this._registry,e,i.selection,i.trigger,cu.None,u)});i.trigger.type===1&&((l=this._progressService)==null||l.showWhile(o,250));const a=new Xd.Triggered(i.trigger,r,o);let s=!1;this._state.type===1&&(s=this._state.trigger.type===1&&a.type===1&&a.trigger.type===2&&this._state.position!==a.position),s?setTimeout(()=>{this.setState(a)},500):this.setState(a)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:To.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;(t=this._codeActionOracle.value)==null||t.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!this._disposed&&this._onDidChangeState.fire(e))}}var sLe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Zs=function(n,e){return function(t,i){e(t,i,n)}},Pv;const lLe="quickfix-edit-highlight";var $c;let Kg=($c=class extends dt{static get(e){return e.getContribution(Pv.ID)}constructor(e,t,i,r,o,a,s,l,u,c,d){super(),this._commandService=s,this._configurationService=l,this._actionWidgetService=u,this._instantiationService=c,this._telemetryService=d,this._activeCodeActions=this._register(new ns),this._showDisabled=!1,this._disposed=!1,this._editor=e,this._model=this._register(new aLe(this._editor,o.codeActionProvider,t,i,a,l,this._telemetryService)),this._register(this._model.onDidChangeState(f=>this.update(f))),this._lightBulbWidget=new MI(()=>{const f=this._editor.getContribution(ty.ID);return f&&this._register(f.onClick(h=>this.showCodeActionsFromLightbulb(h.actions,h))),f}),this._resolver=r.createInstance(fD),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(e,t){if(e.allAIFixes&&e.validActions.length===1){const i=e.validActions[0],r=i.action.command;r&&r.id==="inlineChat.start"&&r.arguments&&r.arguments.length>=1&&(r.arguments[0]={...r.arguments[0],autoSend:!1}),await this._applyCodeAction(i,!1,!1,nf.FromAILightbulb);return}await this.showCodeActionList(e,t,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(e,t,i){return this.showCodeActionList(t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,r){var a;if(!this._editor.hasModel())return;(a=xo.get(this._editor))==null||a.closeMessage();const o=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:r,context:{notAvailableMessage:e,position:o}})}_trigger(e){return this._model.trigger(e)}async _applyCodeAction(e,t,i,r){try{await this._instantiationService.invokeFunction(qIe,e,r,{preview:i,editor:this._editor})}finally{t&&this._trigger({type:2,triggerAction:To.QuickFix,filter:{}})}}hideLightBulbWidget(){var e,t;(e=this._lightBulbWidget.rawValue)==null||e.hide(),(t=this._lightBulbWidget.rawValue)==null||t.gutterHide()}async update(e){var r,o,a,s,l;if(e.type!==1){this.hideLightBulbWidget();return}let t;try{t=await e.actions}catch(u){Jn(u);return}if(this._disposed)return;const i=this._editor.getSelection();if((i==null?void 0:i.startLineNumber)===e.position.lineNumber)if((r=this._lightBulbWidget.value)==null||r.update(t,e.trigger,e.position),e.trigger.type===1){if((o=e.trigger.filter)!=null&&o.include){const c=this.tryGetValidActionToApply(e.trigger,t);if(c){try{this.hideLightBulbWidget(),await this._applyCodeAction(c,!1,!1,nf.FromCodeActions)}finally{t.dispose()}return}if(e.trigger.context){const d=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,t);if(d&&d.action.disabled){(a=xo.get(this._editor))==null||a.showMessage(d.action.disabled,e.trigger.context.position),t.dispose();return}}}const u=!!((s=e.trigger.filter)!=null&&s.include);if(e.trigger.context&&(!t.allActions.length||!u&&!t.validActions.length)){(l=xo.get(this._editor))==null||l.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=t,t.dispose();return}this._activeCodeActions.value=t,this.showCodeActionList(t,this.toCoords(e.position),{includeDisabledActions:u,fromLightbulb:!1})}else this._actionWidgetService.isVisible?t.dispose():this._activeCodeActions.value=t}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:i})=>i.disabled)}tryGetValidActionToApply(e,t){if(t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}async showCodeActionList(e,t,i){const r=this._editor.createDecorationsCollection(),o=this._editor.getDomNode();if(!o)return;const a=i.includeDisabledActions&&(this._showDisabled||e.validActions.length===0)?e.allActions:e.validActions;if(!a.length)return;const s=Ot.isIPosition(t)?this.toCoords(t):t,l={onSelect:async(u,c)=>{this._applyCodeAction(u,!0,!!c,i.fromLightbulb?nf.FromAILightbulb:nf.FromCodeActions),this._actionWidgetService.hide(!1),r.clear()},onHide:u=>{var c;(c=this._editor)==null||c.focus(),r.clear()},onHover:async(u,c)=>{var h;if(c.isCancellationRequested)return;let d=!1;const f=u.action.kind;if(f){const v=new si(f);d=[ni.RefactorExtract,ni.RefactorInline,ni.RefactorRewrite,ni.RefactorMove,ni.Source].some(p=>p.contains(v))}return{canPreview:d||!!((h=u.action.edit)!=null&&h.edits.length)}},onFocus:u=>{var c,d;if(u&&u.action){const f=u.action.ranges,h=u.action.diagnostics;if(r.clear(),f&&f.length>0){const v=h&&(h==null?void 0:h.length)>1?h.map(g=>({range:g,options:Pv.DECORATION})):f.map(g=>({range:g,options:Pv.DECORATION}));r.set(v)}else if(h&&h.length>0){const v=h.map(p=>({range:p,options:Pv.DECORATION}));r.set(v);const g=h[0];if(g.startLineNumber&&g.startColumn){const p=(d=(c=this._editor.getModel())==null?void 0:c.getWordAtPosition({lineNumber:g.startLineNumber,column:g.startColumn}))==null?void 0:d.word;_b(G("editingNewSelection","Context: {0} at line {1} and column {2}.",p,g.startLineNumber,g.startColumn))}}}else r.clear()}};this._actionWidgetService.show("codeActionWidget",!0,JIe(a,this._shouldShowHeaders(),this._resolver.getResolver()),l,s,o,this._getActionBarActions(e,t,i))}toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=oo(this._editor.getDomNode()),r=i.left+t.left,o=i.top+t.top+t.height;return{x:r,y:o}}_shouldShowHeaders(){var t;const e=(t=this._editor)==null?void 0:t.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:e==null?void 0:e.uri})}_getActionBarActions(e,t,i){if(i.fromLightbulb)return[];const r=e.documentation.map(o=>({id:o.id,label:o.title,tooltip:o.tooltip??"",class:void 0,enabled:!0,run:()=>this._commandService.executeCommand(o.id,...o.arguments??[])}));return i.includeDisabledActions&&e.validActions.length>0&&e.allActions.length!==e.validActions.length&&r.push(this._showDisabled?{id:"hideMoreActions",label:G("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(e,t,i))}:{id:"showMoreActions",label:G("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(e,t,i))}),r}},Pv=$c,$c.ID="editor.contrib.codeActionController",$c.DECORATION=mn.register({description:"quickfix-highlight",className:lLe}),$c);Kg=Pv=sLe([Zs(1,HI),Zs(2,Ln),Zs(3,ln),Zs(4,xt),Zs(5,Dy),Zs(6,yr),Zs(7,vi),Zs(8,Mh),Zs(9,ln),Zs(10,Hu)],Kg);m1((n,e)=>{((r,o)=>{o&&e.addRule(`.monaco-editor ${r} { background-color: ${o}; }`)})(".quickfix-edit-highlight",n.getColor(lJ));const i=n.getColor(s2);i&&e.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${MC(n.type)?"dotted":"solid"} ${i}; box-sizing: border-box; }`)});function f_(n){return Ne.regex(IG.keys()[0],new RegExp("(\\s|^)"+wb(n.value)+"\\b"))}const tA={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:G("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:G("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[G("args.schema.apply.first","Always apply the first returned code action."),G("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),G("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:G("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function Ah(n,e,t,i,r=To.Default){if(n.hasModel()){const o=Kg.get(n);o==null||o.manualTriggerAtCurrentPosition(e,r,t,i)}}class uLe extends Qe{constructor(){super({id:eA,label:G("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Ne.and(ve.writable,ve.hasCodeActionsProvider),kbOpts:{kbExpr:ve.textInputFocus,primary:2137,weight:100}})}run(e,t){return Ah(t,G("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,To.QuickFix)}}class cLe extends uo{constructor(){super({id:CG,precondition:Ne.and(ve.writable,ve.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:tA}]}})}runEditorCommand(e,t,i){const r=dl.fromUser(i,{kind:si.Empty,apply:"ifSingle"});return Ah(t,typeof(i==null?void 0:i.kind)=="string"?r.preferred?G("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):G("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):r.preferred?G("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):G("editor.action.codeAction.noneMessage","No code actions available"),{include:r.kind,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply)}}class dLe extends Qe{constructor(){super({id:OG,label:G("refactor.label","Refactor..."),alias:"Refactor...",precondition:Ne.and(ve.writable,ve.hasCodeActionsProvider),kbOpts:{kbExpr:ve.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Ne.and(ve.writable,f_(ni.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:tA}]}})}run(e,t,i){const r=dl.fromUser(i,{kind:ni.Refactor,apply:"never"});return Ah(t,typeof(i==null?void 0:i.kind)=="string"?r.preferred?G("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):G("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):r.preferred?G("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):G("editor.action.refactor.noneMessage","No refactorings available"),{include:ni.Refactor.contains(r.kind)?r.kind:si.None,onlyIncludePreferredActions:r.preferred},r.apply,To.Refactor)}}class fLe extends Qe{constructor(){super({id:xG,label:G("source.label","Source Action..."),alias:"Source Action...",precondition:Ne.and(ve.writable,ve.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Ne.and(ve.writable,f_(ni.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:tA}]}})}run(e,t,i){const r=dl.fromUser(i,{kind:ni.Source,apply:"never"});return Ah(t,typeof(i==null?void 0:i.kind)=="string"?r.preferred?G("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):G("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):r.preferred?G("editor.action.source.noneMessage.preferred","No preferred source actions available"):G("editor.action.source.noneMessage","No source actions available"),{include:ni.Source.contains(r.kind)?r.kind:si.None,includeSourceActions:!0,onlyIncludePreferredActions:r.preferred},r.apply,To.SourceAction)}}class hLe extends Qe{constructor(){super({id:uD,label:G("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Ne.and(ve.writable,f_(ni.SourceOrganizeImports)),kbOpts:{kbExpr:ve.textInputFocus,primary:1581,weight:100}})}run(e,t){return Ah(t,G("editor.action.organize.noneMessage","No organize imports action available"),{include:ni.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",To.OrganizeImports)}}class vLe extends Qe{constructor(){super({id:cD,label:G("fixAll.label","Fix All"),alias:"Fix All",precondition:Ne.and(ve.writable,f_(ni.SourceFixAll))})}run(e,t){return Ah(t,G("fixAll.noneMessage","No fix all action available"),{include:ni.SourceFixAll,includeSourceActions:!0},"ifSingle",To.FixAll)}}class gLe extends Qe{constructor(){super({id:SG,label:G("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Ne.and(ve.writable,f_(ni.QuickFix)),kbOpts:{kbExpr:ve.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(e,t){return Ah(t,G("editor.action.autoFix.noneMessage","No auto fixes available"),{include:ni.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",To.AutoFix)}}gn(Kg.ID,Kg,3);gn(ty.ID,ty,4);Le(uLe);Le(dLe);Le(fLe);Le(hLe);Le(gLe);Le(vLe);Et(new cLe);ap.as(Ty.Configuration).registerConfiguration({...b1,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:G("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}});ap.as(Ty.Configuration).registerConfiguration({...b1,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:G("includeNearbyQuickFixes","Enable/disable showing nearest Quick Fix within a line when not currently on a diagnostic."),default:!0}}});ap.as(Ty.Configuration).registerConfiguration({...b1,properties:{"editor.codeActions.triggerOnFocusChange":{type:"boolean",scope:5,markdownDescription:G("triggerOnFocusChange","Enable triggering {0} when {1} is set to {2}. Code Actions must be set to {3} to be triggered for window and focus changes.","`#editor.codeActionsOnSave#`","`#files.autoSave#`","`afterDelay`","`always`"),default:!1}}});class pD{constructor(){this.lenses=[],this._disposables=new st}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}async function MG(n,e,t){const i=n.ordered(e),r=new Map,o=new pD,a=i.map(async(s,l)=>{r.set(s,l);try{const u=await Promise.resolve(s.provideCodeLenses(e,t));u&&o.add(u,s)}catch(u){Fi(u)}});return await Promise.all(a),o.lenses=o.lenses.sort((s,l)=>s.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:s.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:r.get(s.provider)<r.get(l.provider)?-1:r.get(s.provider)>r.get(l.provider)?1:s.symbol.range.startColumn<l.symbol.range.startColumn?-1:s.symbol.range.startColumn>l.symbol.range.startColumn?1:0),o}ii.registerCommand("_executeCodeLensProvider",function(n,...e){let[t,i]=e;In(Kn.isUri(t)),In(typeof i=="number"||!i);const{codeLensProvider:r}=n.get(xt),o=n.get(Yr).getModel(t);if(!o)throw mu();const a=[],s=new st;return MG(r,o,an.None).then(l=>{s.add(l);const u=[];for(const c of l.lenses)i==null||c.symbol.command?a.push(c.symbol):i-- >0&&c.provider.resolveCodeLens&&u.push(Promise.resolve(c.provider.resolveCodeLens(o,c.symbol,an.None)).then(d=>a.push(d||c.symbol)));return Promise.all(u)}).then(()=>a).finally(()=>{setTimeout(()=>s.dispose(),100)})});var pLe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mLe=function(n,e){return function(t,i){e(t,i,n)}};const AG=Bu("ICodeLensCache");class j5{constructor(e,t){this.lineCount=e,this.data=t}}let mD=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y1(20,.75);const t="codelens/cache";uJ(cJ,()=>e.remove(t,1));const i="codelens/cache2",r=e.get(i,1,"{}");this._deserialize(r);const o=lr.filter(e.onWillSaveState,a=>a.reason===l2.SHUTDOWN);lr.once(o)(a=>{e.store(i,this._serialize(),1,1)})}put(e,t){const i=t.lenses.map(a=>{var s;return{range:a.symbol.range,command:a.symbol.command&&{id:"",title:(s=a.symbol.command)==null?void 0:s.title}}}),r=new pD;r.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new j5(e.getLineCount(),r);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const r=new Set;for(const o of i.data.lenses)r.add(o.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...r.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const i in t){const r=t[i],o=[];for(const s of r.lines)o.push({range:new be(s,1,s,11)});const a=new pD;a.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(i,new j5(r.lineCount,a))}}catch{}}};mD=pLe([mLe(0,cp)],mD);$u(AG,mD,1);class bLe{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}const pb=class pb{constructor(e,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${pb._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,t){this._commands.clear();const i=[];let r=!1;for(let o=0;o<e.length;o++){const a=e[o];if(a&&(r=!0,a.command)){const s=dJ(a.command.title.trim());if(a.command.id){const l=`c${pb._idPool++}`;i.push(Ut("a",{id:l,title:a.command.tooltip,role:"button"},...s)),this._commands.set(l,a.command)}else i.push(Ut("span",{title:a.command.tooltip},...s));o+1<e.length&&i.push(Ut("span",void 0," | "))}}r?(gP(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):gP(this._domNode,Ut("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}};pb._idPool=0;let bD=pb;class WE{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,r=t.length;i<r;i++)this._addDecorationsCallbacks[i](t[i])}}const H5=mn.register({collapseOnReplaceEdit:!0,description:"codelens"});class B5{constructor(e,t,i,r,o,a){this._isDisposed=!1,this._editor=t,this._data=e,this._decorationIds=[];let s;const l=[];this._data.forEach((u,c)=>{u.symbol.command&&l.push(u.symbol),i.addDecoration({range:u.symbol.range,options:H5},d=>this._decorationIds[c]=d),s?s=be.plusRange(s,u.symbol.range):s=be.lift(u.symbol.range)}),this._viewZone=new bLe(s.startLineNumber-1,o,a),this._viewZoneId=r.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new bD(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t==null||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),r=this._data[t].symbol;return!!(i&&be.isEmpty(r.range)===i.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((i,r)=>{t.addDecoration({range:i.symbol.range,options:H5},o=>this._decorationIds[r]=o)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:r}=this._data[t];r.command=i.command||r.command}}}getCommand(e){var t;return(t=this._contentWidget)==null?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var yLe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},um=function(n,e){return function(t,i){e(t,i,n)}},lg;let ny=(lg=class{constructor(e,t,i,r,o,a){this._editor=e,this._languageFeaturesService=t,this._commandService=r,this._notificationService=o,this._codeLensCache=a,this._disposables=new st,this._localToDispose=new st,this._lenses=[],this._oldCodeLensModels=new st,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new Xi(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{(s.hasChanged(50)||s.hasChanged(19)||s.hasChanged(18))&&this._updateLensStyle(),s.hasChanged(17)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)==null||e.dispose()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let t=this._editor.getOption(19);return(!t||t<5)&&(t=this._editor.getOption(52)*.9|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(18),r=this._editor.getOption(50),{style:o}=this._editor.getContainerDomNode();o.setProperty("--vscode-editorCodeLens-lineHeight",`${e}px`),o.setProperty("--vscode-editorCodeLens-fontSize",`${t}px`),o.setProperty("--vscode-editorCodeLens-fontFeatureSettings",r.fontFeatureSettings),i&&(o.setProperty("--vscode-editorCodeLens-fontFamily",i),o.setProperty("--vscode-editorCodeLens-fontFamilyDefault",BI.fontFamily)),this._editor.changeViewZones(a=>{for(const s of this._lenses)s.updateHeight(e,a)})}_localDispose(){var e,t,i;(e=this._getCodeLensModelPromise)==null||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)==null||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(i=this._currentCodeLensModel)==null||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(17)||e.isTooLargeForTokenization())return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&bb(()=>{const r=this._codeLensCache.get(e);t===r&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3,this._localToDispose);return}for(const r of this._languageFeaturesService.codeLensProvider.all(e))if(typeof r.onDidChange=="function"){const o=r.onDidChange(()=>i.schedule());this._localToDispose.add(o)}const i=new Xi(()=>{var o;const r=Date.now();(o=this._getCodeLensModelPromise)==null||o.cancel(),this._getCodeLensModelPromise=cr(a=>MG(this._languageFeaturesService.codeLensProvider,e,a)),this._getCodeLensModelPromise.then(a=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=a,this._codeLensCache.put(e,a);const s=this._provideCodeLensDebounce.update(e,Date.now()-r);i.delay=s,this._renderCodeLensSymbols(a),this._resolveCodeLensesInViewportSoon()},Jn)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add(bi(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var r;this._editor.changeDecorations(o=>{this._editor.changeViewZones(a=>{const s=[];let l=-1;this._lenses.forEach(c=>{!c.isValid()||l===c.getLineNumber()?s.push(c):(c.update(a),l=c.getLineNumber())});const u=new WE;s.forEach(c=>{c.dispose(u,a),this._lenses.splice(this._lenses.indexOf(c),1)}),u.commit(o)})}),i.schedule(),this._resolveCodeLensesScheduler.cancel(),(r=this._resolveCodeLensesPromise)==null||r.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorText(()=>{i.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{i.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(r=>{r.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(bi(()=>{if(this._editor.getModel()){const r=wg.capture(this._editor);this._editor.changeDecorations(o=>{this._editor.changeViewZones(a=>{this._disposeAllLenses(o,a)})}),r.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(r=>{if(r.target.type!==9)return;let o=r.target.element;if((o==null?void 0:o.tagName)==="SPAN"&&(o=o.parentElement),(o==null?void 0:o.tagName)==="A")for(const a of this._lenses){const s=a.getCommand(o);if(s){this._commandService.executeCommand(s.id,...s.arguments||[]).catch(l=>this._notificationService.error(l));break}}})),i.schedule()}_disposeAllLenses(e,t){const i=new WE;for(const r of this._lenses)r.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),i=[];let r;for(const s of e.lenses){const l=s.symbol.range.startLineNumber;l<1||l>t||(r&&r[r.length-1].symbol.range.startLineNumber===l?r.push(s):(r=[s],i.push(r)))}if(!i.length&&!this._lenses.length)return;const o=wg.capture(this._editor),a=this._getLayoutInfo();this._editor.changeDecorations(s=>{this._editor.changeViewZones(l=>{const u=new WE;let c=0,d=0;for(;d<i.length&&c<this._lenses.length;){const f=i[d][0].symbol.range.startLineNumber,h=this._lenses[c].getLineNumber();h<f?(this._lenses[c].dispose(u,l),this._lenses.splice(c,1)):h===f?(this._lenses[c].updateCodeLensSymbols(i[d],u),d++,c++):(this._lenses.splice(c,0,new B5(i[d],this._editor,u,l,a.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),c++,d++)}for(;c<this._lenses.length;)this._lenses[c].dispose(u,l),this._lenses.splice(c,1);for(;d<i.length;)this._lenses.push(new B5(i[d],this._editor,u,l,a.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),d++;u.commit(s)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var a;(a=this._resolveCodeLensesPromise)==null||a.cancel(),this._resolveCodeLensesPromise=void 0;const e=this._editor.getModel();if(!e)return;const t=[],i=[];if(this._lenses.forEach(s=>{const l=s.computeIfNecessary(e);l&&(t.push(l),i.push(s))}),t.length===0)return;const r=Date.now(),o=cr(s=>{const l=t.map((u,c)=>{const d=new Array(u.length),f=u.map((h,v)=>!h.symbol.command&&typeof h.provider.resolveCodeLens=="function"?Promise.resolve(h.provider.resolveCodeLens(e,h.symbol,s)).then(g=>{d[v]=g},Fi):(d[v]=h.symbol,Promise.resolve(void 0)));return Promise.all(f).then(()=>{!s.isCancellationRequested&&!i[c].isDisposed()&&i[c].updateCommands(d)})});return Promise.all(l)});this._resolveCodeLensesPromise=o,this._resolveCodeLensesPromise.then(()=>{const s=this._resolveCodeLensesDebounce.update(e,Date.now()-r);this._resolveCodeLensesScheduler.delay=s,this._currentCodeLensModel&&this._codeLensCache.put(e,this._currentCodeLensModel),this._oldCodeLensModels.clear(),o===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},s=>{Jn(s),o===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var e;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,(e=this._currentCodeLensModel)!=null&&e.isDisposed?void 0:this._currentCodeLensModel}},lg.ID="css.editor.codeLens",lg);ny=yLe([um(1,xt),um(2,xa),um(3,yr),um(4,co),um(5,AG)],ny);gn(ny.ID,ny,1);Le(class extends Qe{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:ve.hasCodeLensProvider,label:G("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}async run(e,t){if(!t.hasModel())return;const i=e.get(Py),r=e.get(yr),o=e.get(co),a=t.getSelection().positionLineNumber,s=t.getContribution(ny.ID);if(!s)return;const l=await s.getModel();if(!l)return;const u=[];for(const f of l.lenses)f.symbol.command&&f.symbol.range.startLineNumber===a&&u.push({label:f.symbol.command.title,command:f.symbol.command});if(u.length===0)return;const c=await i.pick(u,{canPickMany:!1,placeHolder:G("placeHolder","Select a command")});if(!c)return;let d=c.command;if(l.isDisposed){const f=await s.getModel(),h=f==null?void 0:f.lenses.find(v=>{var g;return v.symbol.range.startLineNumber===a&&((g=v.symbol.command)==null?void 0:g.title)===d.title});if(!h||!h.symbol.command)return;d=h.symbol.command}try{await r.executeCommand(d.id,...d.arguments||[])}catch(f){o.error(f)}}});var RG=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yD=function(n,e){return function(t,i){e(t,i,n)}};let iy=class{constructor(e){this._editorWorkerService=e}async provideDocumentColors(e,t){return this._editorWorkerService.computeDefaultDocumentColors(e.uri)}provideColorPresentations(e,t,i){const r=t.range,o=t.color,a=o.alpha,s=new _n(new Cg(Math.round(255*o.red),Math.round(255*o.green),Math.round(255*o.blue),a)),l=a?_n.Format.CSS.formatRGB(s):_n.Format.CSS.formatRGBA(s),u=a?_n.Format.CSS.formatHSL(s):_n.Format.CSS.formatHSLA(s),c=a?_n.Format.CSS.formatHex(s):_n.Format.CSS.formatHexA(s),d=[];return d.push({label:l,textEdit:{range:r,text:l}}),d.push({label:u,textEdit:{range:r,text:u}}),d.push({label:c,textEdit:{range:r,text:c}}),d}};iy=RG([yD(0,Vu)],iy);let _D=class extends dt{constructor(e,t){super(),this._register(e.colorProvider.register("*",new iy(t)))}};_D=RG([yD(0,xt),yD(1,Vu)],_D);dp(_D);async function NG(n,e,t,i=!0){return nA(new _Le,n,e,t,i)}function FG(n,e,t,i){return Promise.resolve(t.provideColorPresentations(n,e,i))}class _Le{constructor(){}async compute(e,t,i,r){const o=await e.provideDocumentColors(t,i);if(Array.isArray(o))for(const a of o)r.push({colorInfo:a,provider:e});return Array.isArray(o)}}class wLe{constructor(){}async compute(e,t,i,r){const o=await e.provideDocumentColors(t,i);if(Array.isArray(o))for(const a of o)r.push({range:a.range,color:[a.color.red,a.color.green,a.color.blue,a.color.alpha]});return Array.isArray(o)}}class CLe{constructor(e){this.colorInfo=e}async compute(e,t,i,r){const o=await e.provideColorPresentations(t,this.colorInfo,an.None);return Array.isArray(o)&&r.push(...o),Array.isArray(o)}}async function nA(n,e,t,i,r){let o=!1,a;const s=[],l=e.ordered(t);for(let u=l.length-1;u>=0;u--){const c=l[u];if(c instanceof iy)a=c;else try{await n.compute(c,t,i,s)&&(o=!0)}catch(d){Fi(d)}}return o?s:a&&r?(await n.compute(a,t,i,s),s):[]}function jG(n,e){const{colorProvider:t}=n.get(xt),i=n.get(Yr).getModel(e);if(!i)throw mu();const r=n.get(vi).getValue("editor.defaultColorDecorators",{resource:e});return{model:i,colorProviderRegistry:t,isDefaultColorDecoratorsEnabled:r}}ii.registerCommand("_executeDocumentColorProvider",function(n,...e){const[t]=e;if(!(t instanceof Kn))throw mu();const{model:i,colorProviderRegistry:r,isDefaultColorDecoratorsEnabled:o}=jG(n,t);return nA(new wLe,r,i,an.None,o)});ii.registerCommand("_executeColorPresentationProvider",function(n,...e){const[t,i]=e,{uri:r,range:o}=i;if(!(r instanceof Kn)||!Array.isArray(t)||t.length!==4||!be.isIRange(o))throw mu();const{model:a,colorProviderRegistry:s,isDefaultColorDecoratorsEnabled:l}=jG(n,r),[u,c,d,f]=t;return nA(new CLe({range:o,color:{red:u,green:c,blue:d,alpha:f}}),s,a,an.None,l)});var SLe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zE=function(n,e){return function(t,i){e(t,i,n)}},wD;const HG=Object.create({});var Vc;let qg=(Vc=class extends dt{constructor(e,t,i,r){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=i,this._localToDispose=this._register(new st),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new u2(this._editor),this._decoratorLimitReporter=new OLe,this._colorDecorationClassRefs=this._register(new st),this._debounceInformation=r.for(i.colorProvider,"Document Colors",{min:wD.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(e.onDidChangeModelLanguage(()=>this.updateColors())),this._register(i.colorProvider.onDidChange(()=>this.updateColors())),this._register(e.onDidChangeConfiguration(o=>{const a=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148);const s=a!==this._isColorDecoratorsEnabled||o.hasChanged(21),l=o.hasChanged(148);(s||l)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(148),this.updateColors()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&typeof i=="object"){const r=i.colorDecorators;if(r&&r.enable!==void 0&&!r.enable)return r.enable}return this._editor.getOption(20)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new ky,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}async beginCompute(){this._computePromise=cr(async e=>{const t=this._editor.getModel();if(!t)return[];const i=new ko(!1),r=await NG(this._languageFeaturesService.colorProvider,t,e,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(t,i.elapsed()),r});try{const e=await this._computePromise;this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}catch(e){Jn(e)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(i=>({range:{startLineNumber:i.colorInfo.range.startLineNumber,startColumn:i.colorInfo.range.startColumn,endLineNumber:i.colorInfo.range.endLineNumber,endColumn:i.colorInfo.range.endColumn},options:mn.EMPTY}));this._editor.changeDecorations(i=>{this._decorationsIds=i.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((r,o)=>this._colorDatas.set(r,e[o]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[],i=this._editor.getOption(21);for(let o=0;o<e.length&&t.length<i;o++){const{red:a,green:s,blue:l,alpha:u}=e[o].colorInfo.color,c=new Cg(Math.round(a*255),Math.round(s*255),Math.round(l*255),u),d=`rgba(${c.r}, ${c.g}, ${c.b}, ${c.a})`,f=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:d}));t.push({range:{startLineNumber:e[o].colorInfo.range.startLineNumber,startColumn:e[o].colorInfo.range.startColumn,endLineNumber:e[o].colorInfo.range.endLineNumber,endColumn:e[o].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:r2,inlineClassName:`${f.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:HG}}})}const r=i<e.length?i:!1;this._decoratorLimitReporter.update(e.length,r),this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(be.fromPositions(e,e)).filter(r=>this._colorDatas.has(r.id));return i.length===0?null:this._colorDatas.get(i[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}},wD=Vc,Vc.ID="editor.contrib.colorDetector",Vc.RECOMPUTE_TIME=1e3,Vc);qg=wD=SLe([zE(1,vi),zE(2,xt),zE(3,xa)],qg);class OLe{constructor(){this._onDidChange=new on,this._computed=0,this._limited=!1}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}gn(qg.ID,qg,1);class xLe{get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new on,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new on,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new on,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){let i=-1;for(let r=0;r<this.colorPresentations.length;r++)if(t.toLowerCase()===this.colorPresentations[r].label){i=r;break}if(i===-1){const r=t.split("(")[0].toLowerCase();for(let o=0;o<this.colorPresentations.length;o++)if(this.colorPresentations[o].label.toLowerCase().startsWith(r)){i=o;break}}i!==-1&&i!==this.presentationIndex&&(this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}const Vo=Ut;class ELe extends dt{constructor(e,t,i,r=!1){super(),this.model=t,this.showingStandaloneColorPicker=r,this._closeButton=null,this._domNode=Vo(".colorpicker-header"),yt(e,this._domNode),this._pickedColorNode=yt(this._domNode,Vo(".picked-color")),yt(this._pickedColorNode,Vo("span.codicon.codicon-color-mode")),this._pickedColorPresentation=yt(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const o=G("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",o),this._originalColorNode=yt(this._domNode,Vo(".original-color")),this._originalColorNode.style.backgroundColor=_n.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(sR)||_n.white,this._register(i.onDidColorThemeChange(a=>{this.backgroundColor=a.getColor(sR)||_n.white})),this._register(Rn(this._pickedColorNode,hi.CLICK,()=>this.model.selectNextColorPresentation())),this._register(Rn(this._originalColorNode,hi.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=_n.Format.CSS.format(t.color)||"",this._pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new PLe(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(e){this._pickedColorNode.style.backgroundColor=_n.Format.CSS.format(e)||"",this._pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class PLe extends dt{constructor(e){super(),this._onClicked=this._register(new on),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),yt(e,this._button);const t=document.createElement("div");t.classList.add("close-button-inner-div"),yt(this._button,t),yt(t,Vo(".button"+Hn.asCSSSelector(Ti("color-picker-close",Kt.close,G("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._register(Rn(this._button,hi.CLICK,()=>{this._onClicked.fire()}))}}class kLe extends dt{constructor(e,t,i,r=!1){super(),this.model=t,this.pixelRatio=i,this._insertButton=null,this._domNode=Vo(".colorpicker-body"),yt(e,this._domNode),this._saturationBox=new DLe(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new TLe(this._domNode,this.model,r),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new ILe(this._domNode,this.model,r),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),r&&(this._insertButton=this._register(new LLe(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new _n(new Ww(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new _n(new Ww(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=(1-e)*360;this.model.color=new _n(new Ww(i===360?0:i,t.s,t.v,t.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class DLe extends dt{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new on,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new on,this.onColorFlushed=this._onColorFlushed.event,this._domNode=Vo(".saturation-wrap"),yt(e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",yt(this._domNode,this._canvas),this.selection=Vo(".saturation-selection"),yt(this._domNode,this.selection),this.layout(),this._register(Rn(this._domNode,hi.POINTER_DOWN,r=>this.onPointerDown(r))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this.monitor=this._register(new c2);const t=oo(this._domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,r=>this.onDidChangePosition(r.pageX-t.left,r.pageY-t.top),()=>null);const i=Rn(e.target.ownerDocument,hi.POINTER_UP,()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),r=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,r),this._onDidChange.fire({s:i,v:r})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new _n(new Ww(e.h,1,1,1)),i=this._canvas.getContext("2d"),r=i.createLinearGradient(0,0,this._canvas.width,0);r.addColorStop(0,"rgba(255, 255, 255, 1)"),r.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),r.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this._canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this._canvas.width,this._canvas.height),i.fillStyle=_n.Format.CSS.format(t),i.fill(),i.fillStyle=r,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(e){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const t=e.hsva;this.paintSelection(t.s,t.v)}}class BG extends dt{constructor(e,t,i=!1){super(),this.model=t,this._onDidChange=new on,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new on,this.onColorFlushed=this._onColorFlushed.event,i?(this.domNode=yt(e,Vo(".standalone-strip")),this.overlay=yt(this.domNode,Vo(".standalone-overlay"))):(this.domNode=yt(e,Vo(".strip")),this.overlay=yt(this.domNode,Vo(".overlay"))),this.slider=yt(this.domNode,Vo(".slider")),this.slider.style.top="0px",this._register(Rn(this.domNode,hi.POINTER_DOWN,r=>this.onPointerDown(r))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onDidChangeColor(e){const t=this.getValue(e);this.updateSliderPosition(t)}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._register(new c2),i=oo(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,o=>this.onDidChangeTop(o.pageY-i.top),()=>null);const r=Rn(e.target.ownerDocument,hi.POINTER_UP,()=>{this._onColorFlushed.fire(),r.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class TLe extends BG{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){super.onDidChangeColor(e);const{r:t,g:i,b:r}=e.rgba,o=new _n(new Cg(t,i,r,1)),a=new _n(new Cg(t,i,r,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${a} 100%)`}getValue(e){return e.hsva.a}}class ILe extends BG{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class LLe extends dt{constructor(e){super(),this._onClicked=this._register(new on),this.onClicked=this._onClicked.event,this._button=yt(e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(Rn(this._button,hi.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}class MLe extends Iy{constructor(e,t,i,r,o=!1){super(),this.model=t,this.pixelRatio=i,this._register(fJ.getInstance(of(e)).onDidChange(()=>this.layout())),this._domNode=Vo(".colorpicker-widget"),e.appendChild(this._domNode),this.header=this._register(new ELe(this._domNode,this.model,r,o)),this.body=this._register(new kLe(this._domNode,this.model,this.pixelRatio,o))}layout(){this.body.layout()}get domNode(){return this._domNode}}class UE{constructor(e,t,i,r){this.priority=e,this.range=t,this.initialMousePosX=i,this.initialMousePosY=r,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class _C{constructor(e,t,i,r,o,a){this.priority=e,this.owner=t,this.range=i,this.initialMousePosX=r,this.initialMousePosY=o,this.supportsMarkerHover=a,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}class _h{constructor(e){this.renderedHoverParts=e}dispose(){for(const e of this.renderedHoverParts)e.dispose()}}const Rh=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};var $G=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},VG=function(n,e){return function(t,i){e(t,i,n)}};class ALe{constructor(e,t,i,r){this.owner=e,this.range=t,this.model=i,this.provider=r,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let ry=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=2}computeSync(e,t){return[]}computeAsync(e,t,i){return Es.fromPromise(this._computeAsync(e,t,i))}async _computeAsync(e,t,i){if(!this._editor.hasModel())return[];const r=qg.get(this._editor);if(!r)return[];for(const o of t){if(!r.isColorDecoration(o))continue;const a=r.getColorData(o.range.getStartPosition());if(a)return[await WG(this,this._editor.getModel(),a.colorInfo,a.provider)]}return[]}renderHoverParts(e,t){const i=zG(this,this._editor,this._themeService,t,e);if(!i)return new _h([]);this._colorPicker=i.colorPicker;const r={hoverPart:i.hoverPart,hoverElement:this._colorPicker.domNode,dispose(){i.disposables.dispose()}};return new _h([r])}handleResize(){var e;(e=this._colorPicker)==null||e.layout()}isColorPickerVisible(){return!!this._colorPicker}};ry=$G([VG(1,ls)],ry);class RLe{constructor(e,t,i,r){this.owner=e,this.range=t,this.model=i,this.provider=r}}let oy=class{constructor(e,t){this._editor=e,this._themeService=t,this._color=null}async createColorHover(e,t,i){if(!this._editor.hasModel()||!qg.get(this._editor))return null;const o=await NG(i,this._editor.getModel(),an.None);let a=null,s=null;for(const d of o){const f=d.colorInfo;be.containsRange(f.range,e.range)&&(a=f,s=d.provider)}const l=a??e,u=s??t,c=!!a;return{colorHover:await WG(this,this._editor.getModel(),l,u),foundInEditor:c}}async updateEditorModel(e){if(!this._editor.hasModel())return;const t=e.model;let i=new be(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);this._color&&(await wC(this._editor.getModel(),t,this._color,i,e),i=UG(this._editor,i,t))}renderHoverParts(e,t){return zG(this,this._editor,this._themeService,t,e)}set color(e){this._color=e}get color(){return this._color}};oy=$G([VG(1,ls)],oy);async function WG(n,e,t,i){const r=e.getValueInRange(t.range),{red:o,green:a,blue:s,alpha:l}=t.color,u=new Cg(Math.round(o*255),Math.round(a*255),Math.round(s*255),l),c=new _n(u),d=await FG(e,t,i,an.None),f=new xLe(c,[],0);return f.colorPresentations=d||[],f.guessColorPresentation(c,r),n instanceof ry?new ALe(n,be.lift(t.range),f,i):new RLe(n,be.lift(t.range),f,i)}function zG(n,e,t,i,r){if(i.length===0||!e.hasModel())return;if(r.setMinimumDimensions){const f=e.getOption(67)+8;r.setMinimumDimensions(new ti(302,f))}const o=new st,a=i[0],s=e.getModel(),l=a.model,u=o.add(new MLe(r.fragment,l,e.getOption(144),t,n instanceof oy));let c=!1,d=new be(a.range.startLineNumber,a.range.startColumn,a.range.endLineNumber,a.range.endColumn);if(n instanceof oy){const f=a.model.color;n.color=f,wC(s,l,f,d,a),o.add(l.onColorFlushed(h=>{n.color=h}))}else o.add(l.onColorFlushed(async f=>{await wC(s,l,f,d,a),c=!0,d=UG(e,d,l)}));return o.add(l.onDidChangeColor(f=>{wC(s,l,f,d,a)})),o.add(e.onDidChangeModelContent(f=>{c?c=!1:(r.hide(),e.focus())})),{hoverPart:a,colorPicker:u,disposables:o}}function UG(n,e,t){const i=[],r=t.presentation.textEdit??{range:e,text:t.presentation.label,forceMoveMarkers:!1};i.push(r),t.presentation.additionalTextEdits&&i.push(...t.presentation.additionalTextEdits);const o=be.lift(r.range),a=n.getModel()._setTrackedRange(null,o,3);return n.executeEdits("colorpicker",i),n.pushUndoStop(),n.getModel()._getTrackedRange(a)??o}async function wC(n,e,t,i,r){const o=await FG(n,{range:i,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},r.provider,an.None);e.colorPresentations=o||[]}const KG="editor.action.showHover",NLe="editor.action.showDefinitionPreviewHover",FLe="editor.action.scrollUpHover",jLe="editor.action.scrollDownHover",HLe="editor.action.scrollLeftHover",BLe="editor.action.scrollRightHover",$Le="editor.action.pageUpHover",VLe="editor.action.pageDownHover",WLe="editor.action.goToTopHover",zLe="editor.action.goToBottomHover",UO="editor.action.increaseHoverVerbosityLevel",ULe=G({key:"increaseHoverVerbosityLevel",comment:["Label for action that will increase the hover verbosity level."]},"Increase Hover Verbosity Level"),KO="editor.action.decreaseHoverVerbosityLevel",KLe=G({key:"decreaseHoverVerbosityLevel",comment:["Label for action that will decrease the hover verbosity level."]},"Decrease Hover Verbosity Level"),qG="editor.action.inlineSuggest.commit",GG="editor.action.inlineSuggest.showPrevious",YG="editor.action.inlineSuggest.showNext";var iA=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ka=function(n,e){return function(t,i){e(t,i,n)}},CC;let CD=class extends dt{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.alwaysShowToolbar=_o(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=Bn(this,r=>{var l,u;const o=(l=this.model.read(r))==null?void 0:l.primaryGhostText.read(r);if(!this.alwaysShowToolbar.read(r)||!o||o.parts.length===0)return this.sessionPosition=void 0,null;const a=o.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==o.lineNumber&&(this.sessionPosition=void 0);const s=new Ot(o.lineNumber,Math.min(a,((u=this.sessionPosition)==null?void 0:u.column)??Number.MAX_SAFE_INTEGER));return this.sessionPosition=s,s}),this._register(Ly((r,o)=>{const a=this.model.read(r);if(!a||!this.alwaysShowToolbar.read(r))return;const s=v2((u,c)=>{const d=c.add(this.instantiationService.createInstance(Gg,this.editor,!0,this.position,a.selectedInlineCompletionIndex,a.inlineCompletionsCount,a.activeCommands));return e.addContentWidget(d),c.add(bi(()=>e.removeContentWidget(d))),c.add(fi(f=>{this.position.read(f)&&a.lastTriggerKind.read(f)!==bu.Explicit&&a.triggerExplicitly()})),d}),l=_1(this,(u,c)=>!!this.position.read(u)||!!c);o.add(fi(u=>{l.read(u)&&s.read(u)}))}))}};CD=iA([Ka(2,ln)],CD);const qLe=Ti("inline-suggestion-hints-next",Kt.chevronRight,G("parameterHintsNextIcon","Icon for show next parameter hint.")),GLe=Ti("inline-suggestion-hints-previous",Kt.chevronLeft,G("parameterHintsPreviousIcon","Icon for show previous parameter hint."));var Wc;let Gg=(Wc=class extends dt{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(e,t,i){const r=new Sg(e,t,i,!0,()=>this._commandService.executeCommand(e)),o=this.keybindingService.lookupKeybinding(e,this._contextKeyService);let a=t;return o&&(a=G({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",t,o.getLabel())),r.tooltip=a,r}constructor(e,t,i,r,o,a,s,l,u,c,d){super(),this.editor=e,this.withBorder=t,this._position=i,this._currentSuggestionIdx=r,this._suggestionCount=o,this._extraCommands=a,this._commandService=s,this.keybindingService=u,this._contextKeyService=c,this._menuService=d,this.id=`InlineSuggestionHintsContentWidget${CC.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=qa("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[qa("div@toolBar")]),this.previousAction=this.createCommandAction(GG,G("previous","Previous"),Hn.asClassName(GLe)),this.availableSuggestionCountAction=new Sg("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(YG,G("next","Next"),Hn.asClassName(qLe)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(pt.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new Xi(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new Xi(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.toolBar=this._register(l.createInstance(SD,this.nodes.toolBar,pt.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:f=>f.startsWith("primary")},actionViewItemProvider:(f,h)=>{if(f instanceof Og)return l.createInstance(ZLe,f,void 0);if(f===this.availableSuggestionCountAction){const v=new YLe(void 0,f,{label:!0,icon:!1});return v.setClass("availableSuggestionCount"),v}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(f=>{CC._dropDownVisible=f})),this._register(fi(f=>{this._position.read(f),this.editor.layoutContentWidget(this)})),this._register(fi(f=>{const h=this._suggestionCount.read(f),v=this._currentSuggestionIdx.read(f);h!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${v+1}/${h}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),h!==void 0&&h>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register(fi(f=>{const v=this._extraCommands.read(f).map(g=>({class:void 0,id:g.id,enabled:!0,tooltip:g.tooltip||"",label:g.title,run:p=>this._commandService.executeCommand(g.id)}));for(const[g,p]of this.inlineCompletionsActionsMenus.getActions())for(const m of p)m instanceof Og&&v.push(m);v.length>0&&v.unshift(new Cb),this.toolBar.setAdditionalSecondaryActions(v)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}},CC=Wc,Wc._dropDownVisible=!1,Wc.id=0,Wc);Gg=CC=iA([Ka(6,yr),Ka(7,ln),Ka(8,rr),Ka(9,Ln),Ka(10,Eh)],Gg);class YLe extends pP{constructor(){super(...arguments),this._className=void 0}setClass(e){this._className=e}render(e){super.render(e),this._className&&e.classList.add(this._className)}updateTooltip(){}}let ZLe=class extends d2{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=qa("div.keybinding").root;this._register(new RI(t,NI,{disableTitle:!0,...f2})).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}},SD=class extends h2{constructor(e,t,i,r,o,a,s,l,u){super(e,{resetMenu:t,...i},r,o,a,s,l,u),this.menuId=t,this.options2=i,this.menuService=r,this.contextKeyService=o,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var i,r,o,a,s,l,u;const e=[],t=[];$I(this.menu,(i=this.options2)==null?void 0:i.menuOptions,{primary:e,secondary:t},(o=(r=this.options2)==null?void 0:r.toolbarOptions)==null?void 0:o.primaryGroup,(s=(a=this.options2)==null?void 0:a.toolbarOptions)==null?void 0:s.shouldInlineSubmenu,(u=(l=this.options2)==null?void 0:l.toolbarOptions)==null?void 0:u.useSeparatorsInPrimaryActions),t.push(...this.additionalActions),e.unshift(...this.prependedPrimaryActions),this.setActions(e,t)}setPrependedPrimaryActions(e){Sl(this.prependedPrimaryActions,e,(t,i)=>t===i)||(this.prependedPrimaryActions=e,this.updateToolbar())}setAdditionalSecondaryActions(e){Sl(this.additionalActions,e,(t,i)=>t===i)||(this.additionalActions=e,this.updateToolbar())}};SD=iA([Ka(3,Eh),Ka(4,Ln),Ka(5,sp),Ka(6,rr),Ka(7,yr),Ka(8,Hu)],SD);function qO(n,e,t){const i=oo(n);return!(e<i.left||e>i.left+i.width||t<i.top||t>i.top+i.height)}let XLe=class{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}};class ZG extends dt{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new on),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new Xi(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new Xi(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new Xi(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=hJ(e=>this._computer.computeAsync(e)),(async()=>{try{for await(const e of this._asyncIterable)e&&(this._result.push(e),this._fireResult());this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(e){Jn(e)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new XLe(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class rA{constructor(){this._onDidWillResize=new on,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new on,this.onDidResize=this._onDidResize.event,this._sashListener=new st,this._size=new ti(0,0),this._minSize=new ti(0,0),this._maxSize=new ti(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Iv(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Iv(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Iv(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:lR.North}),this._southSash=new Iv(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:lR.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,i=0;this._sashListener.add(lr.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(lr.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(r=>{e&&(i=r.currentX-r.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(r=>{e&&(i=-(r.currentX-r.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(r=>{e&&(t=-(r.currentY-r.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(r=>{e&&(t=r.currentY-r.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(lr.any(this._eastSash.onDidReset,this._westSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(lr.any(this._northSash.onDidReset,this._southSash.onDidReset)(r=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,r){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=r?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:r}=this._minSize,{height:o,width:a}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(r,Math.min(a,t));const s=new ti(t,e);ti.equals(s,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=s,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}const JLe=30,QLe=24;class eMe extends dt{constructor(e,t=new ti(10,10)){super(),this._editor=e,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new rA),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=ti.lift(t),this._resizableNode.layout(t.height,t.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(i=>{this._resize(new ti(i.dimension.width,i.dimension.height)),i.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var e;return(e=this._contentPosition)!=null&&e.position?Ot.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);return!t||!i?void 0:oo(t).top+i.top-JLe}_availableVerticalSpaceBelow(e){const t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);if(!t||!i)return;const r=oo(t),o=My(t.ownerDocument.body),a=r.top+i.top+i.height;return o.height-a-QLe}_findPositionPreference(e,t){const i=Math.min(this._availableVerticalSpaceBelow(t)??1/0,e),r=Math.min(this._availableVerticalSpaceAbove(t)??1/0,e),o=Math.min(Math.max(r,i),e),a=Math.min(e,o);let s;return this._editor.getOption(60).above?s=a<=r?1:2:s=a<=i?2:1,s===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),s}_resize(e){this._resizableNode.layout(e.height,e.width)}}var tMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_w=function(n,e){return function(t,i){e(t,i,n)}},tl;const $5=30,nMe=6;var zc;let OD=(zc=class extends eMe{get isVisibleFromKeyboard(){var e;return((e=this._renderedHover)==null?void 0:e.source)===1}get isVisible(){return this._hoverVisibleKey.get()??!1}get isFocused(){return this._hoverFocusedKey.get()??!1}constructor(e,t,i,r,o){const a=e.getOption(67)+8,s=150,l=new ti(s,a);super(e,l),this._configurationService=i,this._accessibilityService=r,this._keybindingService=o,this._hover=this._register(new g2),this._onDidResize=this._register(new on),this.onDidResize=this._onDidResize.event,this._minimumSize=l,this._hoverVisibleKey=ve.hoverVisible.bindTo(t),this._hoverFocusedKey=ve.hoverFocused.bindTo(t),yt(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(50)&&this._updateFont()}));const u=this._register(_g(this._resizableNode.domNode));this._register(u.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(u.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setRenderedHover(void 0),this._editor.addContentWidget(this)}dispose(){var e;super.dispose(),(e=this._renderedHover)==null||e.dispose(),this._editor.removeContentWidget(this)}getId(){return tl.ID}static _applyDimensions(e,t,i){const r=typeof t=="number"?`${t}px`:t,o=typeof i=="number"?`${i}px`:i;e.style.width=r,e.style.height=o}_setContentsDomNodeDimensions(e,t){const i=this._hover.contentsDomNode;return tl._applyDimensions(i,e,t)}_setContainerDomNodeDimensions(e,t){const i=this._hover.containerDomNode;return tl._applyDimensions(i,e,t)}_setHoverWidgetDimensions(e,t){this._setContentsDomNodeDimensions(e,t),this._setContainerDomNodeDimensions(e,t),this._layoutContentWidget()}static _applyMaxDimensions(e,t,i){const r=typeof t=="number"?`${t}px`:t,o=typeof i=="number"?`${i}px`:i;e.style.maxWidth=r,e.style.maxHeight=o}_setHoverWidgetMaxDimensions(e,t){tl._applyMaxDimensions(this._hover.contentsDomNode,e,t),tl._applyMaxDimensions(this._hover.containerDomNode,e,t),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof e=="number"?`${e}px`:e),this._layoutContentWidget()}_setAdjustedHoverWidgetDimensions(e){this._setHoverWidgetMaxDimensions("none","none");const t=e.width,i=e.height;this._setHoverWidgetDimensions(t,i)}_updateResizableNodeMaxDimensions(){const e=this._findMaximumRenderingWidth()??1/0,t=this._findMaximumRenderingHeight()??1/0;this._resizableNode.maxSize=new ti(e,t),this._setHoverWidgetMaxDimensions(e,t)}_resize(e){tl._lastDimensions=new ti(e.width,e.height),this._setAdjustedHoverWidgetDimensions(e),this._resizableNode.layout(e.height,e.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),this._onDidResize.fire()}_findAvailableSpaceVertically(){var t;const e=(t=this._renderedHover)==null?void 0:t.showAtPosition;if(e)return this._positionPreference===1?this._availableVerticalSpaceAbove(e):this._availableVerticalSpaceBelow(e)}_findMaximumRenderingHeight(){const e=this._findAvailableSpaceVertically();if(!e)return;let t=nMe;return Array.from(this._hover.contentsDomNode.children).forEach(i=>{t+=i.clientHeight}),Math.min(e,t)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const e=Array.from(this._hover.contentsDomNode.children).some(t=>t.scrollWidth>t.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),e}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const e=this._isHoverTextOverflowing(),t=typeof this._contentWidth>"u"?0:this._contentWidth-2;return e||this._hover.containerDomNode.clientWidth<t?My(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(e,t){if(!this._renderedHover)return!1;if(this._renderedHover.initialMousePosX===void 0||this._renderedHover.initialMousePosY===void 0)return this._renderedHover.initialMousePosX=e,this._renderedHover.initialMousePosY=t,!1;const i=oo(this.getDomNode());this._renderedHover.closestMouseDistance===void 0&&(this._renderedHover.closestMouseDistance=V5(this._renderedHover.initialMousePosX,this._renderedHover.initialMousePosY,i.left,i.top,i.width,i.height));const r=V5(e,t,i.left,i.top,i.width,i.height);return r>this._renderedHover.closestMouseDistance+4?!1:(this._renderedHover.closestMouseDistance=Math.min(this._renderedHover.closestMouseDistance,r),!0)}_setRenderedHover(e){var t;(t=this._renderedHover)==null||t.dispose(),this._renderedHover=e,this._hoverVisibleKey.set(!!e),this._hover.containerDomNode.classList.toggle("hidden",!e)}_updateFont(){const{fontSize:e,lineHeight:t}=this._editor.getOption(50),i=this._hover.contentsDomNode;i.style.fontSize=`${e}px`,i.style.lineHeight=`${t/e}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(o=>this._editor.applyFontInfo(o))}_updateContent(e){const t=this._hover.contentsDomNode;t.style.paddingBottom="",t.textContent="",t.appendChild(e)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const e=Math.max(this._editor.getLayoutInfo().height/4,250,tl._lastDimensions.height),t=Math.max(this._editor.getLayoutInfo().width*.66,500,tl._lastDimensions.width);this._setHoverWidgetMaxDimensions(t,e)}_render(e){this._setRenderedHover(e),this._updateFont(),this._updateContent(e.domNode),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){return this._renderedHover?{position:this._renderedHover.showAtPosition,secondaryPosition:this._renderedHover.showAtSecondaryPosition,positionAffinity:this._renderedHover.shouldAppearBeforeContent?3:void 0,preference:[this._positionPreference??1]}:null}show(e){var a;if(!this._editor||!this._editor.hasModel())return;this._render(e);const t=Lv(this._hover.containerDomNode),i=e.showAtPosition;this._positionPreference=this._findPositionPreference(t,i)??1,this.onContentsChanged(),e.shouldFocus&&this._hover.containerDomNode.focus(),this._onDidResize.fire();const o=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&vJ(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),((a=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))==null?void 0:a.getAriaLabel())??"");o&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+o)}hide(){if(!this._renderedHover)return;const e=this._renderedHover.shouldFocus||this._hoverFocusedKey.get();this._setRenderedHover(void 0),this._resizableNode.maxSize=new ti(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}_removeConstraintsRenderNormally(){const e=this._editor.getLayoutInfo();this._resizableNode.layout(e.height,e.width),this._setHoverWidgetDimensions("auto","auto")}setMinimumDimensions(e){this._minimumSize=new ti(Math.max(this._minimumSize.width,e.width),Math.max(this._minimumSize.height,e.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const e=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new ti(e,this._minimumSize.height)}onContentsChanged(){var r;this._removeConstraintsRenderNormally();const e=this._hover.containerDomNode;let t=Lv(e),i=Va(e);if(this._resizableNode.layout(t,i),this._setHoverWidgetDimensions(i,t),t=Lv(e),i=Va(e),this._contentWidth=i,this._updateMinimumWidth(),this._resizableNode.layout(t,i),(r=this._renderedHover)!=null&&r.showAtPosition){const o=Lv(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(o,this._renderedHover.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}scrollDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}scrollLeft(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-$5})}scrollRight(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+$5})}pageUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}pageDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}},tl=zc,zc.ID="editor.contrib.resizableContentHoverWidget",zc._lastDimensions=new ti(0,0),zc);OD=tl=tMe([_w(1,Ln),_w(2,vi),_w(3,w1),_w(4,rr)],OD);function V5(n,e,t,i,r,o){const a=t+r/2,s=i+o/2,l=Math.max(Math.abs(n-a)-r/2,0),u=Math.max(Math.abs(e-s)-o/2,0);return Math.sqrt(l*l+u*u)}class B0{get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}get source(){return this._source}set source(e){this._source=e}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(e){this._insistOnKeepingHoverVisible=e}constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(e,t){if(t.type!==1&&!t.supportsMarkerHover)return[];const i=e.getModel(),r=t.range.startLineNumber;if(r>i.getLineCount())return[];const o=i.getLineMaxColumn(r);return e.getLineDecorations(r).filter(a=>{if(a.options.isWholeLine)return!0;const s=a.range.startLineNumber===r?a.range.startColumn:1,l=a.range.endLineNumber===r?a.range.endColumn:o;if(a.options.showIfCollapsed){if(s>t.range.startColumn+1||t.range.endColumn-1>l)return!1}else if(s>t.range.startColumn||t.range.endColumn>l)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return Es.EMPTY;const i=B0._getLineDecorations(this._editor,t);return Es.merge(this._participants.map(r=>r.computeAsync?r.computeAsync(t,i,e):Es.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=B0._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return Ou(t)}}class XG{constructor(e,t,i){this.anchor=e,this.hoverParts=t,this.isComplete=i}filter(e){const t=this.hoverParts.filter(i=>i.isValidForHoverAnchor(e));return t.length===this.hoverParts.length?this:new iMe(this,this.anchor,t,this.isComplete)}}class iMe extends XG{constructor(e,t,i,r){super(t,i,r),this.original=e}filter(e){return this.original.filter(e)}}var rMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},oMe=function(n,e){return function(t,i){e(t,i,n)}};const W5=Ut;let $0=class extends dt{get hasContent(){return this._hasContent}constructor(e){super(),this._keybindingService=e,this.actions=[],this._hasContent=!1,this.hoverElement=W5("div.hover-row.status-bar"),this.hoverElement.tabIndex=0,this.actionsElement=yt(this.hoverElement,W5("div.actions"))}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;this._hasContent=!0;const r=this._register(gJ.render(this.actionsElement,e,i));return this.actions.push(r),r}append(e){const t=yt(this.actionsElement,e);return this._hasContent=!0,t}};$0=rMe([oMe(0,rr)],$0);class aMe{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}}async function sMe(n,e,t,i,r){const o=await Promise.resolve(n.provideHover(t,i,r)).catch(Fi);if(!(!o||!lMe(o)))return new aMe(n,o,e)}function oA(n,e,t,i,r=!1){const a=n.ordered(e,r).map((s,l)=>sMe(s,l,e,t,i));return Es.fromPromises(a).coalesce()}function JG(n,e,t,i,r=!1){return oA(n,e,t,i,r).map(o=>o.hover).toPromise()}fo("_executeHoverProvider",(n,e,t)=>{const i=n.get(xt);return JG(i.hoverProvider,e,t,an.None)});fo("_executeHoverProvider_recursive",(n,e,t)=>{const i=n.get(xt);return JG(i.hoverProvider,e,t,an.None,!0)});function lMe(n){const e=typeof n.range<"u",t=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return e&&t}var uMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Hd=function(n,e){return function(t,i){e(t,i,n)}};const Bv=Ut,cMe=Ti("hover-increase-verbosity",Kt.add,G("increaseHoverVerbosity","Icon for increaseing hover verbosity.")),dMe=Ti("hover-decrease-verbosity",Kt.remove,G("decreaseHoverVerbosity","Icon for decreasing hover verbosity."));class Ya{constructor(e,t,i,r,o,a=void 0){this.owner=e,this.range=t,this.contents=i,this.isBeforeContent=r,this.ordinal=o,this.source=a}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}class QG{constructor(e,t,i){this.hover=e,this.hoverProvider=t,this.hoverPosition=i}supportsVerbosityAction(e){switch(e){case pa.Increase:return this.hover.canIncreaseVerbosity??!1;case pa.Decrease:return this.hover.canDecreaseVerbosity??!1}}}let ay=class{constructor(e,t,i,r,o,a,s,l){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=r,this._languageFeaturesService=o,this._keybindingService=a,this._hoverService=s,this._commandService=l,this.hoverOrdinal=3}createLoadingMessage(e){return new Ya(this,e.range,[new $r().appendText(G("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),r=e.range.startLineNumber,o=i.getLineMaxColumn(r),a=[];let s=1e3;const l=i.getLineLength(r),u=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),c=this._editor.getOption(118),d=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:u});let f=!1;c>=0&&l>c&&e.range.startColumn>=c&&(f=!0,a.push(new Ya(this,e.range,[{value:G("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,s++))),!f&&typeof d=="number"&&l>=d&&a.push(new Ya(this,e.range,[{value:G("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,s++));let h=!1;for(const v of t){const g=v.range.startLineNumber===r?v.range.startColumn:1,p=v.range.endLineNumber===r?v.range.endColumn:o,m=v.options.hoverMessage;if(!m||Sb(m))continue;v.options.beforeContentClassName&&(h=!0);const b=new be(e.range.startLineNumber,g,e.range.startLineNumber,p);a.push(new Ya(this,b,p2(m),h,s++))}return a}computeAsync(e,t,i){if(!this._editor.hasModel()||e.type!==1)return Es.EMPTY;const r=this._editor.getModel(),o=this._languageFeaturesService.hoverProvider;return o.has(r)?this._getMarkdownHovers(o,r,e,i):Es.EMPTY}_getMarkdownHovers(e,t,i,r){const o=i.range.getStartPosition();return oA(e,t,o,r).filter(l=>!Sb(l.hover.contents)).map(l=>{const u=l.hover.range?be.lift(l.hover.range):i.range,c=new QG(l.hover,l.provider,o);return new Ya(this,u,l.hover.contents,!1,l.ordinal,c)})}renderHoverParts(e,t){return this._renderedHoverParts=new fMe(t,e.fragment,this,this._editor,this._languageService,this._openerService,this._commandService,this._keybindingService,this._hoverService,this._configurationService,e.onContentsChanged),this._renderedHoverParts}updateMarkdownHoverVerbosityLevel(e,t,i){var r;return Promise.resolve((r=this._renderedHoverParts)==null?void 0:r.updateMarkdownHoverPartVerbosityLevel(e,t,i))}};ay=uMe([Hd(1,Ll),Hd(2,As),Hd(3,vi),Hd(4,xt),Hd(5,rr),Hd(6,Ay),Hd(7,yr)],ay);class ww{constructor(e,t,i){this.hoverPart=e,this.hoverElement=t,this.disposables=i}dispose(){this.disposables.dispose()}}class fMe{constructor(e,t,i,r,o,a,s,l,u,c,d){this._hoverParticipant=i,this._editor=r,this._languageService=o,this._openerService=a,this._commandService=s,this._keybindingService=l,this._hoverService=u,this._configurationService=c,this._onFinishedRendering=d,this._ongoingHoverOperations=new Map,this._disposables=new st,this.renderedHoverParts=this._renderHoverParts(e,t,this._onFinishedRendering),this._disposables.add(bi(()=>{this.renderedHoverParts.forEach(f=>{f.dispose()}),this._ongoingHoverOperations.forEach(f=>{f.tokenSource.dispose(!0)})}))}_renderHoverParts(e,t,i){return e.sort(Ry(r=>r.ordinal,C1)),e.map(r=>{const o=this._renderHoverPart(r,i);return t.appendChild(o.hoverElement),o})}_renderHoverPart(e,t){const i=this._renderMarkdownHover(e,t),r=i.hoverElement,o=e.source,a=new st;if(a.add(i),!o)return new ww(e,r,a);const s=o.supportsVerbosityAction(pa.Increase),l=o.supportsVerbosityAction(pa.Decrease);if(!s&&!l)return new ww(e,r,a);const u=Bv("div.verbosity-actions");return r.prepend(u),a.add(this._renderHoverExpansionAction(u,pa.Increase,s)),a.add(this._renderHoverExpansionAction(u,pa.Decrease,l)),new ww(e,r,a)}_renderMarkdownHover(e,t){return eY(this._editor,e,this._languageService,this._openerService,t)}_renderHoverExpansionAction(e,t,i){const r=new st,o=t===pa.Increase,a=yt(e,Bv(Hn.asCSSSelector(o?cMe:dMe)));a.tabIndex=0;const s=new pJ("mouse",!1,{target:e,position:{hoverPosition:0}},this._configurationService,this._hoverService);if(r.add(this._hoverService.setupManagedHover(s,a,vMe(this._keybindingService,t))),!i)return a.classList.add("disabled"),r;a.classList.add("enabled");const l=()=>this._commandService.executeCommand(t===pa.Increase?UO:KO);return r.add(new mJ(a,l)),r.add(new bJ(a,l,[3,10])),r}async updateMarkdownHoverPartVerbosityLevel(e,t,i=!0){const r=this._editor.getModel();if(!r)return;const o=this._getRenderedHoverPartAtIndex(t),a=o==null?void 0:o.hoverPart.source;if(!o||!(a!=null&&a.supportsVerbosityAction(e)))return;const s=await this._fetchHover(a,r,e);if(!s)return;const l=new QG(s,a.hoverProvider,a.hoverPosition),u=o.hoverPart,c=new Ya(this._hoverParticipant,u.range,s.contents,u.isBeforeContent,u.ordinal,l),d=this._renderHoverPart(c,this._onFinishedRendering);return this._replaceRenderedHoverPartAtIndex(t,d,c),i&&this._focusOnHoverPartWithIndex(t),{hoverPart:c,hoverElement:d.hoverElement}}async _fetchHover(e,t,i){let r=i===pa.Increase?1:-1;const o=e.hoverProvider,a=this._ongoingHoverOperations.get(o);a&&(a.tokenSource.cancel(),r+=a.verbosityDelta);const s=new Er;this._ongoingHoverOperations.set(o,{verbosityDelta:r,tokenSource:s});const l={verbosityRequest:{verbosityDelta:r,previousHover:e.hover}};let u;try{u=await Promise.resolve(o.provideHover(t,e.hoverPosition,s.token,l))}catch(c){Fi(c)}return s.dispose(),this._ongoingHoverOperations.delete(o),u}_replaceRenderedHoverPartAtIndex(e,t,i){if(e>=this.renderedHoverParts.length||e<0)return;const r=this.renderedHoverParts[e],o=r.hoverElement,a=t.hoverElement,s=Array.from(a.children);o.replaceChildren(...s);const l=new ww(i,o,t.disposables);o.focus(),r.dispose(),this.renderedHoverParts[e]=l}_focusOnHoverPartWithIndex(e){this.renderedHoverParts[e].hoverElement.focus()}_getRenderedHoverPartAtIndex(e){return this.renderedHoverParts[e]}dispose(){this._disposables.dispose()}}function hMe(n,e,t,i,r){e.sort(Ry(a=>a.ordinal,C1));const o=[];for(const a of e)o.push(eY(t,a,i,r,n.onContentsChanged));return new _h(o)}function eY(n,e,t,i,r){const o=new st,a=Bv("div.hover-row"),s=Bv("div.hover-row-contents");a.appendChild(s);const l=e.contents;for(const c of l){if(Sb(c))continue;const d=Bv("div.markdown-hover"),f=yt(d,Bv("div.hover-contents")),h=o.add(new fp({editor:n},t,i));o.add(h.onDidRenderAsync(()=>{f.className="hover-contents code-hover-contents",r()}));const v=o.add(h.render(c));f.appendChild(v.element),s.appendChild(d)}return{hoverPart:e,hoverElement:a,dispose(){o.dispose()}}}function vMe(n,e){switch(e){case pa.Increase:{const t=n.lookupKeybinding(UO);return t?G("increaseVerbosityWithKb","Increase Hover Verbosity ({0})",t.getLabel()):G("increaseVerbosity","Increase Hover Verbosity")}case pa.Decrease:{const t=n.lookupKeybinding(KO);return t?G("decreaseVerbosityWithKb","Decrease Hover Verbosity ({0})",t.getLabel()):G("decreaseVerbosity","Decrease Hover Verbosity")}}}function xD(n,e){return!!n[e]}class KE{constructor(e,t){this.target=e.target,this.isLeftClick=e.event.leftButton,this.isMiddleClick=e.event.middleButton,this.isRightClick=e.event.rightButton,this.hasTriggerModifier=xD(e.event,t.triggerModifier),this.hasSideBySideModifier=xD(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class z5{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=xD(e,t.triggerModifier)}}class Cw{constructor(e,t,i,r){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=r}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function U5(n){return n==="altKey"?Ol?new Cw(57,"metaKey",6,"altKey"):new Cw(5,"ctrlKey",6,"altKey"):Ol?new Cw(6,"altKey",57,"metaKey"):new Cw(6,"altKey",5,"ctrlKey")}class GO extends dt{constructor(e,t){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new on),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new on),this.onExecute=this._onExecute.event,this._onCancel=this._register(new on),this.onCancel=this._onCancel.event,this._editor=e,this._extractLineNumberFromMouseEvent=(t==null?void 0:t.extractLineNumberFromMouseEvent)??(i=>i.target.position?i.target.position.lineNumber:0),this._opts=U5(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(i=>{if(i.hasChanged(78)){const r=U5(this._editor.getOption(78));if(this._opts.equals(r))return;this._opts=r,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(i=>this._onEditorMouseMove(new KE(i,this._opts)))),this._register(this._editor.onMouseDown(i=>this._onEditorMouseDown(new KE(i,this._opts)))),this._register(this._editor.onMouseUp(i=>this._onEditorMouseUp(new KE(i,this._opts)))),this._register(this._editor.onKeyDown(i=>this._onEditorKeyDown(new z5(i,this._opts)))),this._register(this._editor.onKeyUp(i=>this._onEditorKeyUp(new z5(i,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(i=>this._onDidChangeCursorSelection(i))),this._register(this._editor.onDidChangeModel(i=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(i=>{(i.scrollTopChanged||i.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(e)}_onEditorMouseUp(e){const t=this._extractLineNumberFromMouseEvent(e);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}class tY{constructor(e,t){this.range=e,this.direction=t}}class aA{constructor(e,t,i){this.hint=e,this.anchor=t,this.provider=i,this._isResolved=!1}with(e){const t=new aA(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}async resolve(e){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return await this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(e){try{const t=await Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t==null?void 0:t.tooltip)??this.hint.tooltip,this.hint.label=(t==null?void 0:t.label)??this.hint.label,this.hint.textEdits=(t==null?void 0:t.textEdits)??this.hint.textEdits,this._isResolved=!0}catch(t){Fi(t),this._isResolved=!1}}}const Uv=class Uv{static async create(e,t,i,r){const o=[],a=e.ordered(t).reverse().map(s=>i.map(async l=>{try{const u=await s.provideInlayHints(t,l,r);(u!=null&&u.hints.length||s.onDidChangeInlayHints)&&o.push([u??Uv._emptyInlayHintList,s])}catch(u){Fi(u)}}));if(await Promise.all(a.flat()),r.isCancellationRequested||t.isDisposed())throw new g1;return new Uv(i,o,t)}constructor(e,t,i){this._disposables=new st,this.ranges=e,this.provider=new Set;const r=[];for(const[o,a]of t){this._disposables.add(o),this.provider.add(a);for(const s of o.hints){const l=i.validatePosition(s.position);let u="before";const c=Uv._getRangeAtPosition(i,l);let d;c.getStartPosition().isBefore(l)?(d=be.fromPositions(c.getStartPosition(),l),u="after"):(d=be.fromPositions(l,c.getEndPosition()),u="before"),r.push(new aA(s,new tY(d,u),a))}}this.items=r.sort((o,a)=>Ot.compare(o.hint.position,a.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const i=t.lineNumber,r=e.getWordAtPosition(t);if(r)return new be(i,r.startColumn,i,r.endColumn);e.tokenization.tokenizeIfCheap(i);const o=e.tokenization.getLineTokens(i),a=t.column-1,s=o.findTokenIndexAtOffset(a);let l=o.getStartOffset(s),u=o.getEndOffset(s);return u-l===1&&(l===a&&s>1?(l=o.getStartOffset(s-1),u=o.getEndOffset(s-1)):u===a&&s<o.getCount()-1&&(l=o.getStartOffset(s+1),u=o.getEndOffset(s+1))),new be(i,l+1,i,u+1)}};Uv._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});let V0=Uv;function gMe(n){return Kn.from({scheme:io.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}var pMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Gl=function(n,e){return function(t,i){e(t,i,n)}};let ss=class extends yJ{constructor(e,t,i,r,o,a,s,l,u,c,d,f,h){super(e,{...r.getRawOptions(),overflowWidgetsDomNode:r.getOverflowWidgetsDomNode()},i,o,a,s,l,u,c,d,f,h),this._parentEditor=r,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(r.onDidChangeConfiguration(v=>this._onParentConfigurationChanged(v)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){VI(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};ss=pMe([Gl(4,ln),Gl(5,ir),Gl(6,yr),Gl(7,Ln),Gl(8,ls),Gl(9,co),Gl(10,w1),Gl(11,or),Gl(12,xt)],ss);const K5=new _n(new Cg(0,122,204)),mMe={showArrow:!0,showFrame:!0,className:"",frameColor:K5,arrowColor:K5,keepEditorSelection:!1},bMe="vs.editor.contrib.zoneWidget";class yMe{constructor(e,t,i,r,o,a,s,l){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=r,this.showInHiddenAreas=s,this.ordinal=l,this._onDomNodeTop=o,this._onComputedHeight=a}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class _Me{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}const AS=class AS{constructor(e){this._editor=e,this._ruleName=AS._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),uR(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){uR(this._ruleName),wJ(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:be.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}};AS._IdGenerator=new _J(".arrow-decoration-");let ED=AS;class wMe{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new st,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=CJ(t),VI(this.options,mMe,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(i=>{const r=this._getWidth(i);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(i)+"px",this._onWidth(r)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new ED(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){var t;if(this.domNode.style.height=`${e}px`,this.container){const i=e-this._decoratingElementsHeight();this.container.style.height=`${i}px`;const r=this.editor.getLayoutInfo();this._doLayout(i,this._getWidth(r))}(t=this._resizeSash)==null||t.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}show(e,t){const i=be.isIRange(e)?be.lift(e):be.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:mn.EMPTY}])}hide(){var e;this._viewZone&&(this.editor.changeViewZones(t=>{this._viewZone&&t.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(e=this._arrow)==null||e.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const e=this.editor.getOption(67);let t=0;if(this.options.showArrow){const i=Math.round(e/3);t+=2*i}if(this.options.showFrame){const i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){const i=e.getStartPosition(),r=this.editor.getLayoutInfo(),o=this._getWidth(r);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(r)+"px";const a=document.createElement("div");a.style.overflow="hidden";const s=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const f=Math.max(12,this.editor.getLayoutInfo().height/s*.8);t=Math.min(t,f)}let l=0,u=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(s/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(u=Math.round(s/9)),this.editor.changeViewZones(f=>{this._viewZone&&f.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new yMe(a,i.lineNumber,i.column,t,h=>this._onViewZoneTop(h),h=>this._onViewZoneHeight(h),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=f.addZone(this._viewZone),this._overlayWidget=new _Me(bMe+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const f=this.options.frameWidth?this.options.frameWidth:u;this.container.style.borderTopWidth=f+"px",this.container.style.borderBottomWidth=f+"px"}const c=t*s-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=c+"px",this.container.style.overflow="hidden"),this._doLayout(c,o),this.options.keepEditorSelection||this.editor.setSelection(e);const d=this.editor.getModel();if(d){const f=d.validateRange(new be(e.startLineNumber,1,e.endLineNumber+1,1));this.revealRange(f,f.startLineNumber===d.getLineCount())}}revealRange(e,t){t?this.editor.revealLineNearTop(e.endLineNumber,0):this.editor.revealRange(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new Iv(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){const i=(t.currentY-e.startY)/this.editor.getOption(67),r=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+r;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var nY=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},iY=function(n,e){return function(t,i){e(t,i,n)}};const rY=Bu("IPeekViewService");$u(rY,class{constructor(){this._widgets=new Map}addExclusiveWidget(n,e){const t=this._widgets.get(n);t&&(t.listener.dispose(),t.widget.dispose());const i=()=>{const r=this._widgets.get(n);r&&r.widget===e&&(r.listener.dispose(),this._widgets.delete(n))};this._widgets.set(n,{widget:e,listener:e.onDidClose(i)})}},1);var ao;(function(n){n.inPeekEditor=new yn("inReferenceSearchEditor",!0,G("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),n.notInPeekEditor=n.inPeekEditor.toNegated()})(ao||(ao={}));var ug;let W0=(ug=class{constructor(e,t){e instanceof ss&&ao.inPeekEditor.bindTo(t)}dispose(){}},ug.ID="editor.contrib.referenceController",ug);W0=nY([iY(1,Ln)],W0);gn(W0.ID,W0,0);function CMe(n){const e=n.get(ir).getFocusedCodeEditor();return e instanceof ss?e.getParentEditor():e}const SMe={headerBackgroundColor:_n.white,primaryHeadingColor:_n.fromHex("#333333"),secondaryHeadingColor:_n.fromHex("#6c6c6cb3")};let z0=class extends wMe{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new on,this.onDidClose=this._onDidClose.event,VI(this.options,SMe,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=Ut(".head"),this._bodyElement=Ut(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){this._titleElement=Ut(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),Eu(this._titleElement,"click",o=>this._onTitleClick(o))),yt(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=Ut("span.filename"),this._secondaryHeading=Ut("span.dirname"),this._metaHeading=Ut("span.meta"),yt(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const i=Ut(".peekview-actions");yt(this._headElement,i);const r=this._getActionBarOptions();this._actionbarWidget=new yb(i,r),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new Sg("peekview.close",G("label.close","Close"),Hn.asClassName(Kt.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:SJ.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:gl(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,Ga(this._metaHeading)):Ho(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const i=Math.ceil(this.editor.getOption(67)*1.2),r=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(r,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};z0=nY([iY(2,ln)],z0);const OMe=_t("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:_n.black,hcLight:_n.white},G("peekViewTitleBackground","Background color of the peek view title area.")),oY=_t("peekViewTitleLabel.foreground",{dark:_n.white,light:_n.black,hcDark:_n.white,hcLight:Ny},G("peekViewTitleForeground","Color of the peek view title.")),aY=_t("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},G("peekViewTitleInfoForeground","Color of the peek view title info.")),xMe=_t("peekView.border",{dark:mP,light:mP,hcDark:xu,hcLight:xu},G("peekViewBorder","Color of the peek view borders and arrow.")),EMe=_t("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:_n.black,hcLight:_n.white},G("peekViewResultsBackground","Background color of the peek view result list."));_t("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:_n.white,hcLight:Ny},G("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list."));_t("peekViewResult.fileForeground",{dark:_n.white,light:"#1E1E1E",hcDark:_n.white,hcLight:Ny},G("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list."));_t("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},G("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list."));_t("peekViewResult.selectionForeground",{dark:_n.white,light:"#6C6C6C",hcDark:_n.white,hcLight:Ny},G("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list."));const sY=_t("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:_n.black,hcLight:_n.white},G("peekViewEditorBackground","Background color of the peek view editor."));_t("peekViewEditorGutter.background",sY,G("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor."));_t("peekViewEditorStickyScroll.background",sY,G("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor."));_t("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},G("peekViewResultsMatchHighlight","Match highlight color in the peek view result list."));_t("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},G("peekViewEditorMatchHighlight","Match highlight color in the peek view editor."));_t("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Qf,hcLight:Qf},G("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));class dd{constructor(e,t,i,r){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=r,this.id=OJ.nextId()}get uri(){return this.link.uri}get range(){return this._range??this.link.targetSelectionRange??this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var t;const e=(t=this.parent.getPreview(this))==null?void 0:t.preview(this.range);return e?G({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",e.value,xl(this.uri),this.range.startLineNumber,this.range.startColumn):G("aria.oneReference","in {0} on line {1} at column {2}",xl(this.uri),this.range.startLineNumber,this.range.startColumn)}}class PMe{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:r,startColumn:o,endLineNumber:a,endColumn:s}=e,l=i.getWordUntilPosition({lineNumber:r,column:o-t}),u=new be(r,l.startColumn,r,o),c=new be(a,s,a,1073741824),d=i.getValueInRange(u).replace(/^\s+/,""),f=i.getValueInRange(e),h=i.getValueInRange(c).replace(/\s+$/,"");return{value:d+f+h,highlight:{start:d.length,end:d.length+f.length}}}}class sy{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new nd}dispose(){zr(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?G("aria.fileReferences.1","1 symbol in {0}, full path {1}",xl(this.uri),this.uri.fsPath):G("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,xl(this.uri),this.uri.fsPath)}async resolve(e){if(this._previews.size!==0)return this;for(const t of this.children)if(!this._previews.has(t.uri))try{const i=await e.createModelReference(t.uri);this._previews.set(t.uri,new PMe(i))}catch(i){Jn(i)}return this}}class Eo{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new on,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;e.sort(Eo._compareReferences);let r;for(const o of e)if((!r||!cR.isEqual(r.uri,o.uri,!0))&&(r=new sy(this,o.uri),this.groups.push(r)),r.children.length===0||Eo._compareReferences(o,r.children[r.children.length-1])!==0){const a=new dd(i===o,r,o,s=>this._onDidChangeReferenceRange.fire(s));this.references.push(a),r.children.push(a)}}dispose(){zr(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new Eo(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?G("aria.result.0","No results found"):this.references.length===1?G("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?G("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):G("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:i}=e;let r=i.children.indexOf(e);const o=i.children.length,a=i.parent.groups.length;return a===1||t&&r+1<o||!t&&r>0?(t?r=(r+1)%o:r=(r+o-1)%o,i.children[r]):(r=i.parent.groups.indexOf(i),t?(r=(r+1)%a,i.parent.groups[r].children[0]):(r=(r+a-1)%a,i.parent.groups[r].children[i.parent.groups[r].children.length-1]))}nearestReference(e,t){const i=this.references.map((r,o)=>({idx:o,prefixLen:Fy(r.uri.toString(),e.toString()),offsetDist:Math.abs(r.range.startLineNumber-t.lineNumber)*100+Math.abs(r.range.startColumn-t.column)})).sort((r,o)=>r.prefixLen>o.prefixLen?-1:r.prefixLen<o.prefixLen?1:r.offsetDist<o.offsetDist?-1:r.offsetDist>o.offsetDist?1:0)[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&be.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return cR.compare(e.uri,t.uri)||be.compareRangesUsingStarts(e.range,t.range)}}var YO=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ZO=function(n,e){return function(t,i){e(t,i,n)}},PD;let kD=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof Eo||e instanceof sy}getChildren(e){if(e instanceof Eo)return e.groups;if(e instanceof sy)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};kD=YO([ZO(0,Rs)],kD);class kMe{getHeight(){return 23}getTemplateId(e){return e instanceof sy?U0.id:K0.id}}let DD=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof dd){const i=(t=e.parent.getPreview(e))==null?void 0:t.preview(e.range);if(i)return i.value}return xl(e.uri)}};DD=YO([ZO(0,rr)],DD);class DMe{getId(e){return e instanceof dd?e.id:e.uri}}let TD=class extends dt{constructor(e,t){super(),this._labelService=t;const i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new m2(i,{supportHighlights:!0})),this.badge=new xJ(yt(i,Ut(".count")),{},EJ),e.appendChild(i)}set(e,t){const i=zI(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const r=e.children.length;this.badge.setCount(r),r>1?this.badge.setTitleFormat(G("referencesCount","{0} references",r)):this.badge.setTitleFormat(G("referenceCount","{0} reference",r))}};TD=YO([ZO(1,Ob)],TD);var yf;let U0=(yf=class{constructor(e){this._instantiationService=e,this.templateId=PD.id}renderTemplate(e){return this._instantiationService.createInstance(TD,e)}renderElement(e,t,i){i.set(e.element,WI(e.filterData))}disposeTemplate(e){e.dispose()}},PD=yf,yf.id="FileReferencesRenderer",yf);U0=PD=YO([ZO(0,ln)],U0);class TMe extends dt{constructor(e){super(),this.label=this._register(new PJ(e))}set(e,t){var r;const i=(r=e.parent.getPreview(e))==null?void 0:r.preview(e.range);if(!i||!i.value)this.label.set(`${xl(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:o,highlight:a}=i;t&&!xb.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,WI(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[a]))}}}const RS=class RS{constructor(){this.templateId=RS.id}renderTemplate(e){return new TMe(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(e){e.dispose()}};RS.id="OneReferenceRenderer";let K0=RS;class IMe{getWidgetAriaLabel(){return G("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var LMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},cv=function(n,e){return function(t,i){e(t,i,n)}};const NS=class NS{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new st,this._callOnModelChange=new st,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e){for(const t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],i=[];for(let r=0,o=e.children.length;r<o;r++){const a=e.children[r];this._decorationIgnoreSet.has(a.id)||a.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:a.range,options:NS.DecorationOptions}),i.push(r))}this._editor.changeDecorations(r=>{const o=r.deltaDecorations([],t);for(let a=0;a<o.length;a++)this._decorations.set(o[a],e.children[i[a]])})}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(const[i,r]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let a=!1;if(!be.equalsRange(o,r.range)){if(be.spansMultipleLines(o))a=!0;else{const s=r.range.endColumn-r.range.startColumn,l=o.endColumn-o.startColumn;s!==l&&(a=!0)}a?(this._decorationIgnoreSet.add(r.id),e.push(i)):r.range=o}}for(let i=0,r=e.length;i<r;i++)this._decorations.delete(e[i]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}};NS.DecorationOptions=mn.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});let ID=NS;class MMe{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const r=JSON.parse(e);t=r.ratio,i=r.heightInLines}catch{}return{ratio:t||.7,heightInLines:i||18}}}class AMe extends TJ{}let LD=class extends z0{constructor(e,t,i,r,o,a,s,l,u){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},a),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=a,this._peekViewService=s,this._uriLabel=l,this._keybindingService=u,this._disposeOnNewModel=new st,this._callOnDispose=new st,this._onDidSelectReference=new on,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new ti(0,0),this._isClosing=!1,this._applyTheme(r.getColorTheme()),this._callOnDispose.add(r.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}get isClosing(){return this._isClosing}dispose(){this._isClosing=!0,this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),zr(this._preview),zr(this._previewNotAvailableMessage),zr(this._tree),zr(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(xMe)||_n.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(OMe)||_n.transparent,primaryHeadingColor:e.getColor(oY),secondaryHeadingColor:e.getColor(aY)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=yt(e,Ut("div.messages")),Ho(this._messageContainer),this._splitView=new kJ(e,{orientation:1}),this._previewContainer=yt(e,Ut("div.preview.inline"));const t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(ss,this._previewContainer,t,{},this.editor),Ho(this._previewContainer),this._previewNotAvailableMessage=this._instantiationService.createInstance(Tc,G("missingPreviewMessage","no preview available"),Eb,Tc.DEFAULT_CREATION_OPTIONS,null),this._treeContainer=yt(e,Ut("div.ref-tree.inline"));const i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new IMe,keyboardNavigationLabelProvider:this._instantiationService.createInstance(DD),identityProvider:new DMe,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:EMe}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(Eu(this._treeContainer,"keydown",o=>{o.equals(9)&&(this._keybindingService.dispatchEvent(o,o.target),o.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(AMe,"ReferencesWidget",this._treeContainer,new kMe,[this._instantiationService.createInstance(U0),this._instantiationService.createInstance(K0)],this._instantiationService.createInstance(kD),i),this._splitView.addView({onDidChange:lr.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:o=>{this._preview.layout({height:this._dim.height,width:o})}},dR.Distribute),this._splitView.addView({onDidChange:lr.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:o=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${o}px`,this._tree.layout(this._dim.height,o)}},dR.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const r=(o,a)=>{o instanceof dd&&(a==="show"&&this._revealReference(o,!1),this._onDidSelectReference.fire({element:o,kind:a,source:"tree"}))};this._disposables.add(this._tree.onDidOpen(o=>{o.sideBySide?r(o.element,"side"):o.editorOptions.pinned?r(o.element,"goto"):r(o.element,"show")})),Ho(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new ti(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=G("noResults","No results"),Ga(this._messageContainer),Promise.resolve(void 0)):(Ho(this._messageContainer),this._decorationsManager=new ID(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:i}=e;if(t.detail!==2)return;const r=this._getFocusedReference();r&&this._onDidSelectReference.fire({element:{uri:r.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),Ga(this._treeContainer),Ga(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof dd)return e;if(e instanceof sy&&e.children.length>0)return e.children[0]}async revealReference(e){await this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}async _revealReference(e,t){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==io.inMemory?this.setTitle(DJ(e.uri),this._uriLabel.getUriLabel(zI(e.uri))):this.setTitle(G("peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),await this._tree.expand(e.parent),this._tree.reveal(e));const r=await i;if(!this._model){r.dispose();return}zr(this._previewModelReference);const o=r.object;if(o){const a=this._preview.getModel()===o.textEditorModel?0:1,s=be.lift(e.range).collapseToStart();this._previewModelReference=r,this._preview.setModel(o.textEditorModel),this._preview.setSelection(s),this._preview.revealRangeInCenter(s,a)}else this._preview.setModel(this._previewNotAvailableMessage),r.dispose()}};LD=LMe([cv(3,ls),cv(4,Rs),cv(5,ln),cv(6,rY),cv(7,Ob),cv(8,rr)],LD);var RMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dv=function(n,e){return function(t,i){e(t,i,n)}},SC;const Nh=new yn("referenceSearchVisible",!1,G("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));var _f;let ly=(_f=class{static get(e){return e.getContribution(SC.ID)}constructor(e,t,i,r,o,a,s,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=r,this._notificationService=o,this._instantiationService=a,this._storageService=s,this._configurationService=l,this._disposables=new st,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=Nh.bindTo(i)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)==null||e.dispose(),(t=this._model)==null||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let r;if(this._widget&&(r=this._widget.position),this.closeWidget(),r&&e.containsPosition(r))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const o="peekViewLayout",a=MMe.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(LD,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(G("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget?(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget.isClosing||this.closeWidget(),this._widget=void 0):this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(l=>{const{element:u,kind:c}=l;if(u)switch(c){case"open":(l.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(u,!1,!1);break;case"side":this.openReference(u,!0,!1);break;case"goto":i?this._gotoReference(u,!0):this.openReference(u,!1,!0);break}}));const s=++this._requestIdPool;t.then(l=>{var u;if(s!==this._requestIdPool||!this._widget){l.dispose();return}return(u=this._model)==null||u.dispose(),this._model=l,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(G("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const c=this._editor.getModel().uri,d=new Ot(e.startLineNumber,e.startColumn),f=this._model.nearestReference(c,d);if(f)return this._widget.setSelection(f).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},l=>{this._notificationService.error(l)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(e){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const r=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),a=this._widget.isPreviewEditorFocused();await this._widget.setSelection(r),await this._gotoReference(r,!1),o?this._editor.focus():this._widget&&a&&this._widget.focusOnPreviewEditor()}async revealReference(e){!this._editor.hasModel()||!this._model||!this._widget||await this._widget.revealReference(e)}closeWidget(e=!0){var t,i;(t=this._widget)==null||t.dispose(),(i=this._model)==null||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e,t){var r;(r=this._widget)==null||r.hide(),this._ignoreModelChangeEvent=!0;const i=be.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:i,selectionSource:"code.jump",pinned:t}},this._editor).then(o=>{if(this._ignoreModelChangeEvent=!1,!o||!this._widget){this.closeWidget();return}if(this._editor===o)this._widget.show(i),this._widget.focusOnReferenceTree();else{const a=SC.get(o),s=this._model.clone();this.closeWidget(),o.focus(),a==null||a.toggleWidget(i,cr(l=>Promise.resolve(s)),this._peekMode??!1)}},o=>{this._ignoreModelChangeEvent=!1,Jn(o)})}openReference(e,t,i){t||this.closeWidget();const{uri:r,range:o}=e;this._editorService.openCodeEditor({resource:r,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor,t)}},SC=_f,_f.ID="editor.contrib.referencesController",_f);ly=SC=RMe([dv(2,Ln),dv(3,ir),dv(4,co),dv(5,ln),dv(6,cp),dv(7,vi)],ly);function Fh(n,e){const t=CMe(n);if(!t)return;const i=ly.get(t);i&&e(i)}Ml.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Wi(2089,60),when:Ne.or(Nh,ao.inPeekEditor),handler(n){Fh(n,e=>{e.changeFocusBetweenPreviewAndReferences()})}});Ml.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:Ne.or(Nh,ao.inPeekEditor),handler(n){Fh(n,e=>{e.goToNextOrPreviousReference(!0)})}});Ml.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:Ne.or(Nh,ao.inPeekEditor),handler(n){Fh(n,e=>{e.goToNextOrPreviousReference(!1)})}});ii.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference");ii.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference");ii.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch");ii.registerCommand("closeReferenceSearch",n=>Fh(n,e=>e.closeWidget()));Ml.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:Ne.and(ao.inPeekEditor,Ne.not("config.editor.stablePeek"))});Ml.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Ne.and(Nh,Ne.not("config.editor.stablePeek"),Ne.or(ve.editorTextFocus,IJ.negate()))});Ml.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Ne.and(Nh,b2,y2.negate(),_2.negate()),handler(n){var i;const t=(i=n.get(UI).lastFocusedList)==null?void 0:i.getFocus();Array.isArray(t)&&t[0]instanceof dd&&Fh(n,r=>r.revealReference(t[0]))}});Ml.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Ne.and(Nh,b2,y2.negate(),_2.negate()),handler(n){var i;const t=(i=n.get(UI).lastFocusedList)==null?void 0:i.getFocus();Array.isArray(t)&&t[0]instanceof dd&&Fh(n,r=>r.openReference(t[0],!0,!0))}});ii.registerCommand("openReference",n=>{var i;const t=(i=n.get(UI).lastFocusedList)==null?void 0:i.getFocus();Array.isArray(t)&&t[0]instanceof dd&&Fh(n,r=>r.openReference(t[0],!1,!0))});var lY=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Om=function(n,e){return function(t,i){e(t,i,n)}};const sA=new yn("hasSymbols",!1,G("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),XO=Bu("ISymbolNavigationService");let MD=class{constructor(e,t,i,r){this._editorService=t,this._notificationService=i,this._keybindingService=r,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=sA.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)==null||e.dispose(),(t=this._currentMessage)==null||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new AD(this._editorService),r=i.onDidChange(o=>{if(this._ignoreEditorChange)return;const a=this._editorService.getActiveCodeEditor();if(!a)return;const s=a.getModel(),l=a.getPosition();if(!s||!l)return;let u=!1,c=!1;for(const d of t.references)if(LC(d.uri,s.uri))u=!0,c=c||be.containsPosition(d.range,l);else if(u)break;(!u||!c)&&this.reset()});this._currentState=w2(i,r)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:be.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var i;(i=this._currentMessage)==null||i.dispose();const e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?G("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):G("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)}};MD=lY([Om(0,Ln),Om(1,ir),Om(2,co),Om(3,rr)],MD);$u(XO,MD,1);Et(new class extends uo{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:sA,kbOpts:{weight:100,primary:70}})}runEditorCommand(n,e){return n.get(XO).revealNext(e)}});Ml.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:sA,primary:9,handler(n){n.get(XO).reset()}});let AD=class{constructor(e){this._listener=new Map,this._disposables=new st,this._onDidChange=new on,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),zr(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,w2(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))==null||t.dispose(),this._listener.delete(e)}};AD=lY([Om(0,ir)],AD);function RD(n,e){return e.uri.scheme===n.uri.scheme?!0:!LJ(e.uri,io.walkThroughSnippet,io.vscodeChatCodeBlock,io.vscodeChatCodeCompareBlock)}async function h_(n,e,t,i,r){const a=t.ordered(n,i).map(l=>Promise.resolve(r(l,n,e)).then(void 0,u=>{Fi(u)})),s=await Promise.all(a);return Ou(s.flat()).filter(l=>RD(n,l))}function v_(n,e,t,i,r){return h_(e,t,n,i,(o,a,s)=>o.provideDefinition(a,s,r))}function lA(n,e,t,i,r){return h_(e,t,n,i,(o,a,s)=>o.provideDeclaration(a,s,r))}function uA(n,e,t,i,r){return h_(e,t,n,i,(o,a,s)=>o.provideImplementation(a,s,r))}function cA(n,e,t,i,r){return h_(e,t,n,i,(o,a,s)=>o.provideTypeDefinition(a,s,r))}function g_(n,e,t,i,r,o){return h_(e,t,n,r,async(a,s,l)=>{var d,f;const u=(d=await a.provideReferences(s,l,{includeDeclaration:!0},o))==null?void 0:d.filter(h=>RD(s,h));if(!i||!u||u.length!==2)return u;const c=(f=await a.provideReferences(s,l,{includeDeclaration:!1},o))==null?void 0:f.filter(h=>RD(s,h));return c&&c.length===1?c:u})}async function jl(n){const e=await n(),t=new Eo(e,""),i=t.references.map(r=>r.link);return t.dispose(),i}fo("_executeDefinitionProvider",(n,e,t)=>{const i=n.get(xt),r=v_(i.definitionProvider,e,t,!1,an.None);return jl(()=>r)});fo("_executeDefinitionProvider_recursive",(n,e,t)=>{const i=n.get(xt),r=v_(i.definitionProvider,e,t,!0,an.None);return jl(()=>r)});fo("_executeTypeDefinitionProvider",(n,e,t)=>{const i=n.get(xt),r=cA(i.typeDefinitionProvider,e,t,!1,an.None);return jl(()=>r)});fo("_executeTypeDefinitionProvider_recursive",(n,e,t)=>{const i=n.get(xt),r=cA(i.typeDefinitionProvider,e,t,!0,an.None);return jl(()=>r)});fo("_executeDeclarationProvider",(n,e,t)=>{const i=n.get(xt),r=lA(i.declarationProvider,e,t,!1,an.None);return jl(()=>r)});fo("_executeDeclarationProvider_recursive",(n,e,t)=>{const i=n.get(xt),r=lA(i.declarationProvider,e,t,!0,an.None);return jl(()=>r)});fo("_executeReferenceProvider",(n,e,t)=>{const i=n.get(xt),r=g_(i.referenceProvider,e,t,!1,!1,an.None);return jl(()=>r)});fo("_executeReferenceProvider_recursive",(n,e,t)=>{const i=n.get(xt),r=g_(i.referenceProvider,e,t,!1,!0,an.None);return jl(()=>r)});fo("_executeImplementationProvider",(n,e,t)=>{const i=n.get(xt),r=uA(i.implementationProvider,e,t,!1,an.None);return jl(()=>r)});fo("_executeImplementationProvider_recursive",(n,e,t)=>{const i=n.get(xt),r=uA(i.implementationProvider,e,t,!0,an.None);return jl(()=>r)});es.appendMenuItem(pt.EditorContext,{submenu:pt.EditorContextPeek,title:G("peek.submenu","Peek"),group:"navigation",order:100});class Yg{static is(e){return!e||typeof e!="object"?!1:!!(e instanceof Yg||Ot.isIPosition(e.position)&&e.model)}constructor(e,t){this.model=e,this.position=t}}const Ba=class Ba extends Ms{static all(){return Ba._allSymbolNavigationCommands.values()}static _patchConfig(e){const t={...e,f1:!0};if(t.menu)for(const i of pu.wrap(t.menu))(i.id===pt.EditorContext||i.id===pt.EditorContextPeek)&&(i.when=Ne.and(e.precondition,i.when));return t}constructor(e,t){super(Ba._patchConfig(t)),this.configuration=e,Ba._allSymbolNavigationCommands.set(t.id,this)}runEditorCommand(e,t,i,r){if(!t.hasModel())return Promise.resolve(void 0);const o=e.get(co),a=e.get(ir),s=e.get(Dy),l=e.get(XO),u=e.get(xt),c=e.get(ln),d=t.getModel(),f=t.getPosition(),h=Yg.is(i)?i:new Yg(d,f),v=new yg(t,5),g=Ey(this._getLocationModel(u,h.model,h.position,v.token),v.token).then(async p=>{var C;if(!p||v.token.isCancellationRequested)return;ts(p.ariaMessage);let m;if(p.referenceAt(d.uri,f)){const O=this._getAlternativeCommand(t);!Ba._activeAlternativeCommands.has(O)&&Ba._allSymbolNavigationCommands.has(O)&&(m=Ba._allSymbolNavigationCommands.get(O))}const b=p.references.length;if(b===0){if(!this.configuration.muteMessage){const O=d.getWordAtPosition(f);(C=xo.get(t))==null||C.showMessage(this._getNoResultFoundMessage(O),f)}}else if(b===1&&m)Ba._activeAlternativeCommands.add(this.desc.id),c.invokeFunction(O=>m.runEditorCommand(O,t,i,r).finally(()=>{Ba._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(a,l,t,p,r)},p=>{o.error(p)}).finally(()=>{v.dispose()});return s.showWhile(g,250),g}async _onResult(e,t,i,r,o){const a=this._getGoToPreference(i);if(!(i instanceof ss)&&(this.configuration.openInPeek||a==="peek"&&r.references.length>1))this._openInPeek(i,r,o);else{const s=r.firstReference(),l=r.references.length>1&&a==="gotoAndPeek",u=await this._openReference(i,e,s,this.configuration.openToSide,!l);l&&u?this._openInPeek(u,r,o):r.dispose(),a==="goto"&&t.put(s)}}async _openReference(e,t,i,r,o){let a;if(MJ(i)&&(a=i.targetSelectionRange),a||(a=i.range),!a)return;const s=await t.openCodeEditor({resource:i.uri,options:{selection:be.collapseToStart(a),selectionRevealType:3,selectionSource:"code.jump"}},e,r);if(s){if(o){const l=s.getModel(),u=s.createDecorationsCollection([{range:a,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{s.getModel()===l&&u.clear()},350)}return s}}_openInPeek(e,t,i){const r=ly.get(e);r&&e.hasModel()?r.toggleWidget(i??e.getSelection(),cr(o=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}};Ba._allSymbolNavigationCommands=new Map,Ba._activeAlternativeCommands=new Set;let Nu=Ba;class p_ extends Nu{async _getLocationModel(e,t,i,r){return new Eo(await v_(e.definitionProvider,t,i,!1,r),G("def.title","Definitions"))}_getNoResultFoundMessage(e){return e&&e.word?G("noResultWord","No definition found for '{0}'",e.word):G("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleDefinitions}}var Uc;Vn((Uc=class extends p_{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Uc.id,title:{...St("actions.goToDecl.label","Go to Definition"),mnemonicTitle:G({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:ve.hasDefinitionProvider,keybinding:[{when:ve.editorTextFocus,primary:70,weight:100},{when:Ne.and(ve.editorTextFocus,C2),primary:2118,weight:100}],menu:[{id:pt.EditorContext,group:"navigation",order:1.1},{id:pt.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),ii.registerCommandAlias("editor.action.goToDeclaration",Uc.id)}},Uc.id="editor.action.revealDefinition",Uc));var Kc;Vn((Kc=class extends p_{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Kc.id,title:St("actions.goToDeclToSide.label","Open Definition to the Side"),precondition:Ne.and(ve.hasDefinitionProvider,ve.isInEmbeddedEditor.toNegated()),keybinding:[{when:ve.editorTextFocus,primary:Wi(2089,70),weight:100},{when:Ne.and(ve.editorTextFocus,C2),primary:Wi(2089,2118),weight:100}]}),ii.registerCommandAlias("editor.action.openDeclarationToTheSide",Kc.id)}},Kc.id="editor.action.revealDefinitionAside",Kc));var qc;Vn((qc=class extends p_{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:qc.id,title:St("actions.previewDecl.label","Peek Definition"),precondition:Ne.and(ve.hasDefinitionProvider,ao.notInPeekEditor,ve.isInEmbeddedEditor.toNegated()),keybinding:{when:ve.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:pt.EditorContextPeek,group:"peek",order:2}}),ii.registerCommandAlias("editor.action.previewDeclaration",qc.id)}},qc.id="editor.action.peekDefinition",qc));class uY extends Nu{async _getLocationModel(e,t,i,r){return new Eo(await lA(e.declarationProvider,t,i,!1,r),G("decl.title","Declarations"))}_getNoResultFoundMessage(e){return e&&e.word?G("decl.noResultWord","No declaration found for '{0}'",e.word):G("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(58).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(58).multipleDeclarations}}var wf;Vn((wf=class extends uY{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:wf.id,title:{...St("actions.goToDeclaration.label","Go to Declaration"),mnemonicTitle:G({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:Ne.and(ve.hasDeclarationProvider,ve.isInEmbeddedEditor.toNegated()),menu:[{id:pt.EditorContext,group:"navigation",order:1.3},{id:pt.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(e){return e&&e.word?G("decl.noResultWord","No declaration found for '{0}'",e.word):G("decl.generic.noResults","No declaration found")}},wf.id="editor.action.revealDeclaration",wf));Vn(class extends uY{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:St("actions.peekDecl.label","Peek Declaration"),precondition:Ne.and(ve.hasDeclarationProvider,ao.notInPeekEditor,ve.isInEmbeddedEditor.toNegated()),menu:{id:pt.EditorContextPeek,group:"peek",order:3}})}});class cY extends Nu{async _getLocationModel(e,t,i,r){return new Eo(await cA(e.typeDefinitionProvider,t,i,!1,r),G("typedef.title","Type Definitions"))}_getNoResultFoundMessage(e){return e&&e.word?G("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):G("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(58).multipleTypeDefinitions}}var Cf;Vn((Cf=class extends cY{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Cf.ID,title:{...St("actions.goToTypeDefinition.label","Go to Type Definition"),mnemonicTitle:G({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:ve.hasTypeDefinitionProvider,keybinding:{when:ve.editorTextFocus,primary:0,weight:100},menu:[{id:pt.EditorContext,group:"navigation",order:1.4},{id:pt.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},Cf.ID="editor.action.goToTypeDefinition",Cf));var Sf;Vn((Sf=class extends cY{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Sf.ID,title:St("actions.peekTypeDefinition.label","Peek Type Definition"),precondition:Ne.and(ve.hasTypeDefinitionProvider,ao.notInPeekEditor,ve.isInEmbeddedEditor.toNegated()),menu:{id:pt.EditorContextPeek,group:"peek",order:4}})}},Sf.ID="editor.action.peekTypeDefinition",Sf));class dY extends Nu{async _getLocationModel(e,t,i,r){return new Eo(await uA(e.implementationProvider,t,i,!1,r),G("impl.title","Implementations"))}_getNoResultFoundMessage(e){return e&&e.word?G("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):G("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(58).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(58).multipleImplementations}}var Of;Vn((Of=class extends dY{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Of.ID,title:{...St("actions.goToImplementation.label","Go to Implementations"),mnemonicTitle:G({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:ve.hasImplementationProvider,keybinding:{when:ve.editorTextFocus,primary:2118,weight:100},menu:[{id:pt.EditorContext,group:"navigation",order:1.45},{id:pt.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},Of.ID="editor.action.goToImplementation",Of));var xf;Vn((xf=class extends dY{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:xf.ID,title:St("actions.peekImplementation.label","Peek Implementations"),precondition:Ne.and(ve.hasImplementationProvider,ao.notInPeekEditor,ve.isInEmbeddedEditor.toNegated()),keybinding:{when:ve.editorTextFocus,primary:3142,weight:100},menu:{id:pt.EditorContextPeek,group:"peek",order:5}})}},xf.ID="editor.action.peekImplementation",xf));class fY extends Nu{_getNoResultFoundMessage(e){return e?G("references.no","No references found for '{0}'",e.word):G("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(58).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(58).multipleReferences}}Vn(class extends fY{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...St("goToReferences.label","Go to References"),mnemonicTitle:G({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:Ne.and(ve.hasReferenceProvider,ao.notInPeekEditor,ve.isInEmbeddedEditor.toNegated()),keybinding:{when:ve.editorTextFocus,primary:1094,weight:100},menu:[{id:pt.EditorContext,group:"navigation",order:1.45},{id:pt.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(e,t,i,r){return new Eo(await g_(e.referenceProvider,t,i,!0,!1,r),G("ref.title","References"))}});Vn(class extends fY{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:St("references.action.label","Peek References"),precondition:Ne.and(ve.hasReferenceProvider,ao.notInPeekEditor,ve.isInEmbeddedEditor.toNegated()),menu:{id:pt.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(e,t,i,r){return new Eo(await g_(e.referenceProvider,t,i,!1,!1,r),G("ref.title","References"))}});class NMe extends Nu{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",title:St("label.generic","Go to Any Symbol"),precondition:Ne.and(ao.notInPeekEditor,ve.isInEmbeddedEditor.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}async _getLocationModel(e,t,i,r){return new Eo(this._references,G("generic.title","Locations"))}_getNoResultFoundMessage(e){return e&&G("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){return this._gotoMultipleBehaviour??e.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}ii.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Kn},{name:"position",description:"The position at which to start",constraint:Ot.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(n,e,t,i,r,o,a)=>{In(Kn.isUri(e)),In(Ot.isIPosition(t)),In(Array.isArray(i)),In(typeof r>"u"||typeof r=="string"),In(typeof a>"u"||typeof a=="boolean");const s=n.get(ir),l=await s.openCodeEditor({resource:e},s.getFocusedCodeEditor());if(S2(l))return l.setPosition(t),l.revealPositionInCenterIfOutsideViewport(t,0),l.invokeWithinContext(u=>{const c=new class extends NMe{_getNoResultFoundMessage(d){return o||super._getNoResultFoundMessage(d)}}({muteMessage:!o,openInPeek:!!a,openToSide:!1},i,r);u.get(ln).invokeFunction(c.run.bind(c),l)})}});ii.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Kn},{name:"position",description:"The position at which to start",constraint:Ot.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(n,e,t,i,r)=>{n.get(yr).executeCommand("editor.action.goToLocations",e,t,i,r,void 0,!0)}});ii.registerCommand({id:"editor.action.findReferences",handler:(n,e,t)=>{In(Kn.isUri(e)),In(Ot.isIPosition(t));const i=n.get(xt),r=n.get(ir);return r.openCodeEditor({resource:e},r.getFocusedCodeEditor()).then(o=>{if(!S2(o)||!o.hasModel())return;const a=ly.get(o);if(!a)return;const s=cr(u=>g_(i.referenceProvider,o.getModel(),Ot.lift(t),!1,!1,u).then(c=>new Eo(c,G("ref.title","References")))),l=new be(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(a.toggleWidget(l,s,!1))})}});ii.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");async function FMe(n,e,t,i){const r=n.get(Rs),o=n.get(sp),a=n.get(yr),s=n.get(ln),l=n.get(co);if(await i.item.resolve(an.None),!i.part.location)return;const u=i.part.location,c=[],d=new Set(es.getMenuItems(pt.EditorContext).map(h=>AJ(h)?h.command.id:WO()));for(const h of Nu.all())d.has(h.desc.id)&&c.push(new Sg(h.desc.id,Og.label(h.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const v=await r.createModelReference(u.uri);try{const g=new Yg(v.object.textEditorModel,be.getStartPosition(u.range)),p=i.item.anchor.range;await s.invokeFunction(h.runEditorCommand.bind(h),e,g,p)}finally{v.dispose()}}));if(i.part.command){const{command:h}=i.part;c.push(new Cb),c.push(new Sg(h.id,h.title,void 0,!0,async()=>{try{await a.executeCommand(h.id,...h.arguments??[])}catch(v){l.notify({severity:KI.Error,source:i.item.provider.displayName,message:v})}}))}const f=e.getOption(128);o.showContextMenu({domForShadowRoot:f?e.getDomNode()??void 0:void 0,getAnchor:()=>{const h=oo(t);return{x:h.left,y:h.top+h.height+8}},getActions:()=>c,onHide:()=>{e.focus()},autoSelectFirstItem:!0})}async function hY(n,e,t,i){const o=await n.get(Rs).createModelReference(i.uri);await t.invokeWithinContext(async a=>{const s=e.hasSideBySideModifier,l=a.get(Ln),u=ao.inPeekEditor.getValue(l),c=!s&&t.getOption(89)&&!u;return new p_({openToSide:s,openInPeek:c,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(a,new Yg(o.object.textEditorModel,be.getStartPosition(i.range)),be.lift(i.range))}),o.dispose()}var jMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fv=function(n,e){return function(t,i){e(t,i,n)}},kv;class q0{constructor(){this._entries=new y1(50)}get(e){const t=q0._key(e);return this._entries.get(t)}set(e,t){const i=q0._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const vY=Bu("IInlayHintsCache");$u(vY,q0,1);class ND{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}class HMe{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}var vu;let uy=(vu=class{static get(e){return e.getContribution(kv.ID)??void 0}constructor(e,t,i,r,o,a,s){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=r,this._commandService=o,this._notificationService=a,this._instaService=s,this._disposables=new st,this._sessionDisposables=new st,this._decorationsMetadata=new Map,this._ruleFactory=new u2(this._editor),this._activeRenderMode=0,this._debounceInfo=i.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(l=>{l.hasChanged(142)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const e=this._editor.getOption(142);if(e.enabled==="off")return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;if(e.enabled==="on")this._activeRenderMode=0;else{let s,l;e.enabled==="onUnlessPressed"?(s=0,l=1):(s=1,l=0),this._activeRenderMode=s,this._sessionDisposables.add(RJ.getInstance().event(u=>{if(!this._editor.hasModel())return;const c=u.altKey&&u.ctrlKey&&!(u.shiftKey||u.metaKey)?l:s;if(c!==this._activeRenderMode){this._activeRenderMode=c;const d=this._editor.getModel(),f=this._copyInlayHintsWithCurrentAnchor(d);this._updateHintsDecorators([d.getFullModelRange()],f),a.schedule(0)}}))}const i=this._inlayHintsCache.get(t);i&&this._updateHintsDecorators([t.getFullModelRange()],i),this._sessionDisposables.add(bi(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let r;const o=new Set,a=new Xi(async()=>{const s=Date.now();r==null||r.dispose(!0),r=new Er;const l=t.onWillDispose(()=>r==null?void 0:r.cancel());try{const u=r.token,c=await V0.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),u);if(a.delay=this._debounceInfo.update(t,Date.now()-s),u.isCancellationRequested){c.dispose();return}for(const d of c.provider)typeof d.onDidChangeInlayHints=="function"&&!o.has(d)&&(o.add(d),this._sessionDisposables.add(d.onDidChangeInlayHints(()=>{a.isScheduled()||a.schedule()})));this._sessionDisposables.add(c),this._updateHintsDecorators(c.ranges,c.items),this._cacheHintsForFastRestore(t)}catch(u){Jn(u)}finally{r.dispose(),l.dispose()}},this._debounceInfo.get(t));this._sessionDisposables.add(a),this._sessionDisposables.add(bi(()=>r==null?void 0:r.dispose(!0))),a.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(s=>{(s.scrollTopChanged||!a.isScheduled())&&a.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(s=>{r==null||r.cancel();const l=Math.max(a.delay,1250);a.schedule(l)})),this._sessionDisposables.add(this._installDblClickGesture(()=>a.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new st,t=e.add(new GO(this._editor)),i=new st;return e.add(i),e.add(t.onMouseMoveOrRelevantKeyDown(r=>{const[o]=r,a=this._getInlayHintLabelPart(o),s=this._editor.getModel();if(!a||!s){i.clear();return}const l=new Er;i.add(bi(()=>l.dispose(!0))),a.item.resolve(l.token),this._activeInlayHintPart=a.part.command||a.part.location?new HMe(a,o.hasTriggerModifier):void 0;const u=s.validatePosition(a.item.hint.position).lineNumber,c=new be(u,1,u,s.getLineMaxColumn(u)),d=this._getInlineHintsForRange(c);this._updateHintsDecorators([c],d),i.add(bi(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([c],d)}))})),e.add(t.onCancel(()=>i.clear())),e.add(t.onExecute(async r=>{const o=this._getInlayHintLabelPart(r);if(o){const a=o.part;a.location?this._instaService.invokeFunction(hY,r,this._editor,a.location):NJ.is(a.command)&&await this._invokeCommand(a.command,o.item)}})),e}_getInlineHintsForRange(e){const t=new Set;for(const i of this._decorationsMetadata.values())e.containsRange(i.item.anchor.range)&&t.add(i.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp(async t=>{if(t.event.detail!==2)return;const i=this._getInlayHintLabelPart(t);if(i&&(t.event.preventDefault(),await i.item.resolve(an.None),Wo(i.item.hint.textEdits))){const r=i.item.hint.textEdits.map(o=>Oi.replace(be.lift(o.range),o.text));this._editor.executeEdits("inlayHint.default",r),e()}})}_installContextMenu(){return this._editor.onContextMenu(async e=>{if(!FJ(e.event.target))return;const t=this._getInlayHintLabelPart(e);t&&await this._instaService.invokeFunction(FMe,this._editor,e.event.target,t)})}_getInlayHintLabelPart(e){var i;if(e.target.type!==6)return;const t=(i=e.target.detail.injectedText)==null?void 0:i.options;if(t instanceof qI&&(t==null?void 0:t.attachedData)instanceof ND)return t.attachedData}async _invokeCommand(e,t){try{await this._commandService.executeCommand(e.id,...e.arguments??[])}catch(i){this._notificationService.notify({severity:KI.Error,source:t.provider.displayName,message:i})}}_cacheHintsForFastRestore(e){const t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){const t=new Map;for(const[i,r]of this._decorationsMetadata){if(t.has(r.item))continue;const o=e.getDecorationRange(i);if(o){const a=new tY(o,r.item.anchor.direction),s=r.item.with({anchor:a});t.set(r.item,s)}}return Array.from(t.values())}_getHintsRanges(){const t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),r=[];for(const o of i.sort(be.compareRangesUsingStarts)){const a=t.validateRange(new be(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));r.length===0||!be.areIntersectingOrTouching(r[r.length-1],a)?r.push(a):r[r.length-1]=be.plusRange(r[r.length-1],a)}return r}_updateHintsDecorators(e,t){var v,g;const i=[],r=(p,m,b,C,O)=>{const w={content:b,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:m.className,cursorStops:C,attachedData:O};i.push({item:p,classNameRef:m,decoration:{range:p.anchor.range,options:{description:"InlayHint",showIfCollapsed:p.anchor.range.isEmpty(),collapseOnReplaceEdit:!p.anchor.range.isEmpty(),stickiness:0,[p.anchor.direction]:this._activeRenderMode===0?w:void 0}}})},o=(p,m)=>{const b=this._ruleFactory.createClassNameRef({width:`${a/3|0}px`,display:"inline-block"});r(p,b," ",m?Mv.Right:Mv.None)},{fontSize:a,fontFamily:s,padding:l,isUniform:u}=this._getLayoutInfo(),c="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(c,s);let d={line:0,totalLen:0};for(const p of t){if(d.line!==p.anchor.range.startLineNumber&&(d={line:p.anchor.range.startLineNumber,totalLen:0}),d.totalLen>kv._MAX_LABEL_LEN)continue;p.hint.paddingLeft&&o(p,!1);const m=typeof p.hint.label=="string"?[{label:p.hint.label}]:p.hint.label;for(let b=0;b<m.length;b++){const C=m[b],O=b===0,w=b===m.length-1,E={fontSize:`${a}px`,fontFamily:`var(${c}), ${BI.fontFamily}`,verticalAlign:u?"baseline":"middle",unicodeBidi:"isolate"};Wo(p.hint.textEdits)&&(E.cursor="default"),this._fillInColors(E,p.hint),(C.command||C.location)&&((v=this._activeInlayHintPart)==null?void 0:v.part.item)===p&&this._activeInlayHintPart.part.index===b&&(E.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(E.color=Zi(jJ),E.cursor="pointer")),l&&(O&&w?(E.padding=`1px ${Math.max(1,a/4)|0}px`,E.borderRadius=`${a/4|0}px`):O?(E.padding=`1px 0 1px ${Math.max(1,a/4)|0}px`,E.borderRadius=`${a/4|0}px 0 0 ${a/4|0}px`):w?(E.padding=`1px ${Math.max(1,a/4)|0}px 1px 0`,E.borderRadius=`0 ${a/4|0}px ${a/4|0}px 0`):E.padding="1px 0 1px 0");let P=C.label;d.totalLen+=P.length;let D=!1;const k=d.totalLen-kv._MAX_LABEL_LEN;if(k>0&&(P=P.slice(0,-k)+"…",D=!0),r(p,this._ruleFactory.createClassNameRef(E),BMe(P),w&&!p.hint.paddingRight?Mv.Right:Mv.None,new ND(p,b)),D)break}if(p.hint.paddingRight&&o(p,!0),i.length>kv._MAX_DECORATORS)break}const f=[];for(const[p,m]of this._decorationsMetadata){const b=(g=this._editor.getModel())==null?void 0:g.getDecorationRange(p);b&&e.some(C=>C.containsRange(b))&&(f.push(p),m.classNameRef.dispose(),this._decorationsMetadata.delete(p))}const h=wg.capture(this._editor);this._editor.changeDecorations(p=>{const m=p.deltaDecorations(f,i.map(b=>b.decoration));for(let b=0;b<m.length;b++){const C=i[b];this._decorationsMetadata.set(m[b],C)}}),h.restore(this._editor)}_fillInColors(e,t){t.kind===fR.Parameter?(e.backgroundColor=Zi(HJ),e.color=Zi(BJ)):t.kind===fR.Type?(e.backgroundColor=Zi($J),e.color=Zi(VJ)):(e.backgroundColor=Zi(WJ),e.color=Zi(zJ))}_getLayoutInfo(){const e=this._editor.getOption(142),t=e.padding,i=this._editor.getOption(52),r=this._editor.getOption(49);let o=e.fontSize;(!o||o<5||o>i)&&(o=i);const a=e.fontFamily||r;return{fontSize:o,fontFamily:a,padding:t,isUniform:!t&&a===r&&o===i}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}},kv=vu,vu.ID="editor.contrib.InlayHints",vu._MAX_DECORATORS=1500,vu._MAX_LABEL_LEN=43,vu);uy=kv=jMe([fv(1,xt),fv(2,xa),fv(3,vY),fv(4,yr),fv(5,co),fv(6,ln)],uy);function BMe(n){return n.replace(/[ \t]/g," ")}ii.registerCommand("_executeInlayHintProvider",async(n,...e)=>{const[t,i]=e;In(Kn.isUri(t)),In(be.isIRange(i));const{inlayHintsProvider:r}=n.get(xt),o=await n.get(Rs).createModelReference(t);try{const a=await V0.create(r,o.object.textEditorModel,[be.lift(i)],an.None),s=a.items.map(l=>l.hint);return setTimeout(()=>a.dispose(),0),s}finally{o.dispose()}});var $Me=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dc=function(n,e){return function(t,i){e(t,i,n)}};class q5 extends _C{constructor(e,t,i,r){super(10,t,e.item.anchor.range,i,r,!0),this.part=e}}let G0=class extends ay{constructor(e,t,i,r,o,a,s,l,u){super(e,t,i,a,l,r,o,u),this._resolverService=s,this.hoverOrdinal=6}suggestHoverAnchor(e){var r;if(!uy.get(this._editor)||e.target.type!==6)return null;const i=(r=e.target.detail.injectedText)==null?void 0:r.options;return i instanceof qI&&i.attachedData instanceof ND?new q5(i.attachedData,this,e.event.posx,e.event.posy):null}computeSync(){return[]}computeAsync(e,t,i){return e instanceof q5?new Es(async r=>{const{part:o}=e;if(await o.item.resolve(i),i.isCancellationRequested)return;let a;typeof o.item.hint.tooltip=="string"?a=new $r().appendText(o.item.hint.tooltip):o.item.hint.tooltip&&(a=o.item.hint.tooltip),a&&r.emitOne(new Ya(this,e.range,[a],!1,0)),Wo(o.item.hint.textEdits)&&r.emitOne(new Ya(this,e.range,[new $r().appendText(G("hint.dbl","Double-click to insert"))],!1,10001));let s;if(typeof o.part.tooltip=="string"?s=new $r().appendText(o.part.tooltip):o.part.tooltip&&(s=o.part.tooltip),s&&r.emitOne(new Ya(this,e.range,[s],!1,1)),o.part.location||o.part.command){let u;const d=this._editor.getOption(78)==="altKey"?Ol?G("links.navigate.kb.meta.mac","cmd + click"):G("links.navigate.kb.meta","ctrl + click"):Ol?G("links.navigate.kb.alt.mac","option + click"):G("links.navigate.kb.alt","alt + click");o.part.location&&o.part.command?u=new $r().appendText(G("hint.defAndCommand","Go to Definition ({0}), right click for more",d)):o.part.location?u=new $r().appendText(G("hint.def","Go to Definition ({0})",d)):o.part.command&&(u=new $r(`[${G("hint.cmd","Execute Command")}](${gMe(o.part.command)} "${o.part.command.title}") (${d})`,{isTrusted:!0})),u&&r.emitOne(new Ya(this,e.range,[u],!1,1e4))}const l=await this._resolveInlayHintLabelPartHover(o,i);for await(const u of l)r.emitOne(u)}):Es.EMPTY}async _resolveInlayHintLabelPartHover(e,t){if(!e.part.location)return Es.EMPTY;const{uri:i,range:r}=e.part.location,o=await this._resolverService.createModelReference(i);try{const a=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(a)?oA(this._languageFeaturesService.hoverProvider,a,new Ot(r.startLineNumber,r.startColumn),t).filter(s=>!Sb(s.hover.contents)).map(s=>new Ya(this,e.item.anchor.range,s.hover.contents,!1,2+s.ordinal)):Es.EMPTY}finally{o.dispose()}}};G0=$Me([dc(1,Ll),dc(2,As),dc(3,rr),dc(4,Ay),dc(5,vi),dc(6,Rs),dc(7,xt),dc(8,yr)],G0);class dA extends dt{constructor(e,t,i,r,o,a){super();const s=t.anchor,l=t.hoverParts;this._renderedHoverParts=this._register(new FD(e,i,l,a,o));const{showAtPosition:u,showAtSecondaryPosition:c}=dA.computeHoverPositions(e,s.range,l);this.shouldAppearBeforeContent=l.some(d=>d.isBeforeContent),this.showAtPosition=u,this.showAtSecondaryPosition=c,this.initialMousePosX=s.initialMousePosX,this.initialMousePosY=s.initialMousePosY,this.shouldFocus=r.shouldFocus,this.source=r.source}get domNode(){return this._renderedHoverParts.domNode}get domNodeHasChildren(){return this._renderedHoverParts.domNodeHasChildren}get focusedHoverPartIndex(){return this._renderedHoverParts.focusedHoverPartIndex}async updateHoverVerbosityLevel(e,t,i){this._renderedHoverParts.updateHoverVerbosityLevel(e,t,i)}isColorPickerVisible(){return this._renderedHoverParts.isColorPickerVisible()}static computeHoverPositions(e,t,i){let r=1;if(e.hasModel()){const c=e._getViewModel(),d=c.coordinatesConverter,f=d.convertModelRangeToViewRange(t),h=c.getLineMinColumn(f.startLineNumber),v=new Ot(f.startLineNumber,h);r=d.convertViewPositionToModelPosition(v).column}const o=t.startLineNumber;let a=t.startColumn,s;for(const c of i){const d=c.range,f=d.startLineNumber===o,h=d.endLineNumber===o;if(f&&h){const g=d.startColumn,p=Math.min(a,g);a=Math.max(p,r)}c.forceShowAtRange&&(s=d)}let l,u;if(s){const c=s.getStartPosition();l=c,u=c}else l=t.getStartPosition(),u=new Ot(o,a);return{showAtPosition:l,showAtSecondaryPosition:u}}}class VMe{constructor(e,t){this._statusBar=t,e.appendChild(this._statusBar.hoverElement)}get hoverElement(){return this._statusBar.hoverElement}get actions(){return this._statusBar.actions}dispose(){this._statusBar.dispose()}}const FS=class FS extends dt{constructor(e,t,i,r,o){super(),this._renderedParts=[],this._focusedHoverPartIndex=-1,this._context=o,this._fragment=document.createDocumentFragment(),this._register(this._renderParts(t,i,o,r)),this._register(this._registerListenersOnRenderedParts()),this._register(this._createEditorDecorations(e,i)),this._updateMarkdownAndColorParticipantInfo(t)}_createEditorDecorations(e,t){if(t.length===0)return dt.None;let i=t[0].range;for(const o of t){const a=o.range;i=be.plusRange(i,a)}const r=e.createDecorationsCollection();return r.set([{range:i,options:FS._DECORATION_OPTIONS}]),bi(()=>{r.clear()})}_renderParts(e,t,i,r){const o=new $0(r),a={fragment:this._fragment,statusBar:o,...i},s=new st;for(const u of e){const c=this._renderHoverPartsForParticipant(t,u,a);s.add(c);for(const d of c.renderedHoverParts)this._renderedParts.push({type:"hoverPart",participant:u,hoverPart:d.hoverPart,hoverElement:d.hoverElement})}const l=this._renderStatusBar(this._fragment,o);return l&&(s.add(l),this._renderedParts.push({type:"statusBar",hoverElement:l.hoverElement,actions:l.actions})),bi(()=>{s.dispose()})}_renderHoverPartsForParticipant(e,t,i){const r=e.filter(a=>a.owner===t);return r.length>0?t.renderHoverParts(i,r):new _h([])}_renderStatusBar(e,t){if(t.hasContent)return new VMe(e,t)}_registerListenersOnRenderedParts(){const e=new st;return this._renderedParts.forEach((t,i)=>{const r=t.hoverElement;r.tabIndex=0,e.add(Rn(r,hi.FOCUS_IN,o=>{o.stopPropagation(),this._focusedHoverPartIndex=i})),e.add(Rn(r,hi.FOCUS_OUT,o=>{o.stopPropagation(),this._focusedHoverPartIndex=-1}))}),e}_updateMarkdownAndColorParticipantInfo(e){const t=e.find(i=>i instanceof ay&&!(i instanceof G0));t&&(this._markdownHoverParticipant=t),this._colorHoverParticipant=e.find(i=>i instanceof ry)}async updateHoverVerbosityLevel(e,t,i){if(!this._markdownHoverParticipant)return;const r=this._normalizedIndexToMarkdownHoverIndexRange(this._markdownHoverParticipant,t);if(r===void 0)return;const o=await this._markdownHoverParticipant.updateMarkdownHoverVerbosityLevel(e,r,i);o&&(this._renderedParts[t]={type:"hoverPart",participant:this._markdownHoverParticipant,hoverPart:o.hoverPart,hoverElement:o.hoverElement},this._context.onContentsChanged())}isColorPickerVisible(){var e;return((e=this._colorHoverParticipant)==null?void 0:e.isColorPickerVisible())??!1}_normalizedIndexToMarkdownHoverIndexRange(e,t){const i=this._renderedParts[t];if(!i||i.type!=="hoverPart"||!(i.participant===e))return;const o=this._renderedParts.findIndex(a=>a.type==="hoverPart"&&a.participant===e);if(o===-1)throw new xg;return t-o}get domNode(){return this._fragment}get domNodeHasChildren(){return this._fragment.hasChildNodes()}get focusedHoverPartIndex(){return this._focusedHoverPartIndex}};FS._DECORATION_OPTIONS=mn.register({description:"content-hover-highlight",className:"hoverHighlight"});let FD=FS;var WMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},G5=function(n,e){return function(t,i){e(t,i,n)}};let jD=class extends dt{constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._currentResult=null,this._onContentsChanged=this._register(new on),this.onContentsChanged=this._onContentsChanged.event,this._contentHoverWidget=this._register(this._instantiationService.createInstance(OD,this._editor)),this._participants=this._initializeHoverParticipants(),this._computer=new B0(this._editor,this._participants),this._hoverOperation=this._register(new ZG(this._editor,this._computer)),this._registerListeners()}_initializeHoverParticipants(){const e=[];for(const t of Rh.getAll()){const i=this._instantiationService.createInstance(t,this._editor);e.push(i)}return e.sort((t,i)=>t.hoverOrdinal-i.hoverOrdinal),this._register(this._contentHoverWidget.onDidResize(()=>{this._participants.forEach(t=>{var i;return(i=t.handleResize)==null?void 0:i.call(t)})})),e}_registerListeners(){this._register(this._hoverOperation.onResult(t=>{if(!this._computer.anchor)return;const i=t.hasLoadingMessage?this._addLoadingMessage(t.value):t.value;this._withResult(new XG(this._computer.anchor,i,t.isComplete))}));const e=this._contentHoverWidget.getDomNode();this._register(Eu(e,"keydown",t=>{t.equals(9)&&this.hide()})),this._register(Eu(e,"mouseleave",t=>{this._onMouseLeave(t)})),this._register(UJ.onDidChange(()=>{this._contentHoverWidget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(e,t,i,r,o){if(!(this._contentHoverWidget.position&&this._currentResult))return e?(this._startHoverOperationIfNecessary(e,t,i,r,!1),!0):!1;const s=this._editor.getOption(60).sticky,l=o&&this._contentHoverWidget.isMouseGettingCloser(o.event.posx,o.event.posy);return s&&l?(e&&this._startHoverOperationIfNecessary(e,t,i,r,!0),!0):e?this._currentResult.anchor.equals(e)?!0:e.canAdoptVisibleHover(this._currentResult.anchor,this._contentHoverWidget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,i,r,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,i,r,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(e,t,i,r,o){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=r,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=o,this._hoverOperation.start(t))}_setCurrentResult(e){let t=e;if(this._currentResult===t)return;t&&t.hoverParts.length===0&&(t=null),this._currentResult=t,this._currentResult?this._showHover(this._currentResult):this._hideHover()}_addLoadingMessage(e){if(!this._computer.anchor)return e;for(const t of this._participants){if(!t.createLoadingMessage)continue;const i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}return e}_withResult(e){if(this._contentHoverWidget.position&&this._currentResult&&this._currentResult.isComplete||this._setCurrentResult(e),!e.isComplete)return;const r=e.hoverParts.length===0,o=this._computer.insistOnKeepingHoverVisible;r&&o||this._setCurrentResult(e)}_showHover(e){const t=this._getHoverContext();this._renderedContentHover=new dA(this._editor,e,this._participants,this._computer,t,this._keybindingService),this._renderedContentHover.domNodeHasChildren?this._contentHoverWidget.show(this._renderedContentHover):this._renderedContentHover.dispose()}_hideHover(){this._contentHoverWidget.hide()}_getHoverContext(){return{hide:()=>{this.hide()},onContentsChanged:()=>{this._onContentsChanged.fire(),this._contentHoverWidget.onContentsChanged()},setMinimumDimensions:r=>{this._contentHoverWidget.setMinimumDimensions(r)}}}showsOrWillShow(e){if(this._contentHoverWidget.isResizing)return!0;const i=this._findHoverAnchorCandidates(e);if(!(i.length>0))return this._startShowingOrUpdateHover(null,0,0,!1,e);const o=i[0];return this._startShowingOrUpdateHover(o,0,0,!1,e)}_findHoverAnchorCandidates(e){const t=[];for(const r of this._participants){if(!r.suggestHoverAnchor)continue;const o=r.suggestHoverAnchor(e);o&&t.push(o)}const i=e.target;switch(i.type){case 6:{t.push(new UE(0,i.range,e.event.posx,e.event.posy));break}case 7:{const r=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;if(!(!i.detail.isAfterLines&&typeof i.detail.horizontalDistanceToText=="number"&&i.detail.horizontalDistanceToText<r))break;t.push(new UE(0,i.range,e.event.posx,e.event.posy));break}}return t.sort((r,o)=>o.priority-r.priority),t}_onMouseLeave(e){const t=this._editor.getDomNode();(!t||!qO(t,e.x,e.y))&&this.hide()}startShowingAtRange(e,t,i,r){this._startShowingOrUpdateHover(new UE(0,e,void 0,void 0),t,i,r,null)}async updateHoverVerbosityLevel(e,t,i){var r;(r=this._renderedContentHover)==null||r.updateHoverVerbosityLevel(e,t,i)}focusedHoverPartIndex(){var e;return((e=this._renderedContentHover)==null?void 0:e.focusedHoverPartIndex)??-1}containsNode(e){return e?this._contentHoverWidget.getDomNode().contains(e):!1}focus(){this._contentHoverWidget.focus()}scrollUp(){this._contentHoverWidget.scrollUp()}scrollDown(){this._contentHoverWidget.scrollDown()}scrollLeft(){this._contentHoverWidget.scrollLeft()}scrollRight(){this._contentHoverWidget.scrollRight()}pageUp(){this._contentHoverWidget.pageUp()}pageDown(){this._contentHoverWidget.pageDown()}goToTop(){this._contentHoverWidget.goToTop()}goToBottom(){this._contentHoverWidget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}getDomNode(){return this._contentHoverWidget.getDomNode()}get isColorPickerVisible(){var e;return((e=this._renderedContentHover)==null?void 0:e.isColorPickerVisible())??!1}get isVisibleFromKeyboard(){return this._contentHoverWidget.isVisibleFromKeyboard}get isVisible(){return this._contentHoverWidget.isVisible}get isFocused(){return this._contentHoverWidget.isFocused}get isResizing(){return this._contentHoverWidget.isResizing}get widget(){return this._contentHoverWidget}};jD=WMe([G5(1,ln),G5(2,rr)],jD);var zMe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Y5=function(n,e){return function(t,i){e(t,i,n)}},HD,Ef;let Fr=(Ef=class extends dt{constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._onHoverContentsChanged=this._register(new on),this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new st,this._hoverState={mouseDown:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new Xi(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(e){return e.getContribution(HD.ID)}_hookListeners(){const e=this._editor.getOption(60);this._hoverSettings={enabled:e.enabled,sticky:e.sticky,hidingDelay:e.hidingDelay},e.enabled?(this._listenersStore.add(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))):(this._listenersStore.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))),this._listenersStore.add(this._editor.onMouseLeave(t=>this._onEditorMouseLeave(t))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(t=>this._onEditorScrollChanged(t)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._hoverState.mouseDown=!0,!this._shouldNotHideCurrentHoverWidget(e)&&this._hideWidgets()}_shouldNotHideCurrentHoverWidget(e){return this._isMouseOnContentHoverWidget(e)||this._isContentWidgetResizing()}_isMouseOnContentHoverWidget(e){var i;const t=(i=this._contentWidget)==null?void 0:i.getDomNode();return t?qO(t,e.event.posx,e.event.posy):!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(e){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._shouldNotHideCurrentHoverWidget(e))||this._hideWidgets()}_shouldNotRecomputeCurrentHoverWidget(e){const t=this._hoverSettings.sticky,i=(a,s)=>{const l=this._isMouseOnContentHoverWidget(a);return s&&l},r=a=>{var u;const s=this._isMouseOnContentHoverWidget(a),l=((u=this._contentWidget)==null?void 0:u.isColorPickerVisible)??!1;return s&&l},o=(a,s)=>{var l,u,c,d;return(s&&((u=this._contentWidget)==null?void 0:u.containsNode((l=a.event.browserEvent.view)==null?void 0:l.document.activeElement))&&!((d=(c=a.event.browserEvent.view)==null?void 0:c.getSelection())!=null&&d.isCollapsed))??!1};return i(e,t)||r(e)||o(e,t)}_onEditorMouseMove(e){var s,l,u,c;if(this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._mouseMoveEvent=e,(s=this._contentWidget)!=null&&s.isFocused||(l=this._contentWidget)!=null&&l.isResizing))return;const t=this._hoverSettings.sticky;if(t&&((u=this._contentWidget)!=null&&u.isVisibleFromKeyboard))return;if(this._shouldNotRecomputeCurrentHoverWidget(e)){this._reactToEditorMouseMoveRunner.cancel();return}const r=this._hoverSettings.hidingDelay;if(((c=this._contentWidget)==null?void 0:c.isVisible)&&t&&r>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(r);return}this._reactToEditorMouseMove(e)}_reactToEditorMouseMove(e){var l;if(!e)return;const i=(l=e.target.element)==null?void 0:l.classList.contains("colorpicker-color-decoration"),r=this._editor.getOption(149),o=this._hoverSettings.enabled,a=this._hoverState.activatedByDecoratorClick;if(i&&(r==="click"&&!a||r==="hover"&&!o||r==="clickAndHover"&&!o&&!a)||!i&&!o&&!a){this._hideWidgets();return}this._tryShowHoverWidget(e)||this._hideWidgets()}_tryShowHoverWidget(e){return this._getOrCreateContentWidget().showsOrWillShow(e)}_onKeyDown(e){var r;if(!this._editor.hasModel())return;const t=this._keybindingService.softDispatch(e,this._editor.getDomNode()),i=t.kind===1||t.kind===2&&(t.commandId===KG||t.commandId===UO||t.commandId===KO)&&((r=this._contentWidget)==null?void 0:r.isVisible);e.keyCode===5||e.keyCode===6||e.keyCode===57||e.keyCode===4||i||this._hideWidgets()}_hideWidgets(){var e,t;this._hoverState.mouseDown&&((e=this._contentWidget)!=null&&e.isColorPickerVisible)||Gg.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,(t=this._contentWidget)==null||t.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(jD,this._editor),this._listenersStore.add(this._contentWidget.onContentsChanged(()=>this._onHoverContentsChanged.fire()))),this._contentWidget}showContentHover(e,t,i,r,o=!1){this._hoverState.activatedByDecoratorClick=o,this._getOrCreateContentWidget().startShowingAtRange(e,t,i,r)}_isContentWidgetResizing(){var e;return((e=this._contentWidget)==null?void 0:e.widget.isResizing)||!1}focusedHoverPartIndex(){return this._getOrCreateContentWidget().focusedHoverPartIndex()}updateHoverVerbosityLevel(e,t,i){this._getOrCreateContentWidget().updateHoverVerbosityLevel(e,t,i)}focus(){var e;(e=this._contentWidget)==null||e.focus()}scrollUp(){var e;(e=this._contentWidget)==null||e.scrollUp()}scrollDown(){var e;(e=this._contentWidget)==null||e.scrollDown()}scrollLeft(){var e;(e=this._contentWidget)==null||e.scrollLeft()}scrollRight(){var e;(e=this._contentWidget)==null||e.scrollRight()}pageUp(){var e;(e=this._contentWidget)==null||e.pageUp()}pageDown(){var e;(e=this._contentWidget)==null||e.pageDown()}goToTop(){var e;(e=this._contentWidget)==null||e.goToTop()}goToBottom(){var e;(e=this._contentWidget)==null||e.goToBottom()}get isColorPickerVisible(){var e;return(e=this._contentWidget)==null?void 0:e.isColorPickerVisible}get isHoverVisible(){var e;return(e=this._contentWidget)==null?void 0:e.isVisible}dispose(){var e;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(e=this._contentWidget)==null||e.dispose()}},HD=Ef,Ef.ID="editor.contrib.contentHover",Ef);Fr=HD=zMe([Y5(1,ln),Y5(2,rr)],Fr);const $A=class $A extends dt{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=this._editor.getOption(149);if(t!=="click"&&t!=="clickAndHover")return;const i=e.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==HG||!i.range)return;const r=this._editor.getContribution(Fr.ID);if(r&&!r.isColorPickerVisible){const o=new be(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);r.showContentHover(o,1,0,!1,!0)}}};$A.ID="editor.contrib.colorContribution";let Y0=$A;gn(Y0.ID,Y0,2);Rh.register(ry);var gY=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$v=function(n,e){return function(t,i){e(t,i,n)}},BD,$D,Pf;let wh=(Pf=class extends dt{constructor(e,t,i){super(),this._editor=e,this._instantiationService=i,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=ve.standaloneColorPickerVisible.bindTo(t),this._standaloneColorPickerFocused=ve.standaloneColorPickerFocused.bindTo(t)}showOrFocus(){var e;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(e=this._standaloneColorPickerWidget)==null||e.focus():this._standaloneColorPickerWidget=this._instantiationService.createInstance(VD,this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused))}hide(){var e;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(e=this._standaloneColorPickerWidget)==null||e.hide(),this._editor.focus()}insertColor(){var e;(e=this._standaloneColorPickerWidget)==null||e.updateEditor(),this.hide()}static get(e){return e.getContribution(BD.ID)}},BD=Pf,Pf.ID="editor.contrib.standaloneColorPickerController",Pf);wh=BD=gY([$v(1,Ln),$v(2,ln)],wh);gn(wh.ID,wh,1);const Z5=8,UMe=22;var kf;let VD=(kf=class extends dt{constructor(e,t,i,r,o,a,s){var d;super(),this._editor=e,this._standaloneColorPickerVisible=t,this._standaloneColorPickerFocused=i,this._keybindingService=o,this._languageFeaturesService=a,this._editorWorkerService=s,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new on),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=r.createInstance(oy,this._editor),this._position=(d=this._editor._getViewModel())==null?void 0:d.getPrimaryCursorState().modelState.position;const l=this._editor.getSelection(),u=l?{startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},c=this._register(_g(this._body));this._register(c.onDidBlur(f=>{this.hide()})),this._register(c.onDidFocus(f=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(f=>{var v;const h=(v=f.target.element)==null?void 0:v.classList;h&&h.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(f=>{this._render(f.value,f.foundInEditor)})),this._start(u),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return $D.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const e=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:e?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(e){const t=await this._computeAsync(e);t&&this._onResult.fire(new KMe(t.result,t.foundInEditor))}async _computeAsync(e){if(!this._editor.hasModel())return null;const t={range:e,color:{red:0,green:0,blue:0,alpha:1}},i=await this._standaloneColorPickerParticipant.createColorHover(t,new iy(this._editorWorkerService),this._languageFeaturesService.colorProvider);return i?{result:i.colorHover,foundInEditor:i.foundInEditor}:null}_render(e,t){const i=document.createDocumentFragment(),r=this._register(new $0(this._keybindingService)),o={fragment:i,statusBar:r,onContentsChanged:()=>{},hide:()=>this.hide()};this._colorHover=e;const a=this._standaloneColorPickerParticipant.renderHoverParts(o,[e]);if(!a)return;this._register(a.disposables);const s=a.colorPicker;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(i),s.layout();const l=s.body,u=l.saturationBox.domNode.clientWidth,c=l.domNode.clientWidth-u-UMe-Z5,d=s.body.enterButton;d==null||d.onClicked(()=>{this.updateEditor(),this.hide()});const f=s.header,h=f.pickedColorNode;h.style.width=u+Z5+"px";const v=f.originalColorNode;v.style.width=c+"px";const g=s.header.closeButton;g==null||g.onClicked(()=>{this.hide()}),t&&(d&&(d.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(e.range)),this._editor.layoutContentWidget(this)}},$D=kf,kf.ID="editor.contrib.standaloneColorPickerWidget",kf);VD=$D=gY([$v(3,ln),$v(4,rr),$v(5,xt),$v(6,Vu)],VD);class KMe{constructor(e,t){this.value=e,this.foundInEditor=t}}class qMe extends Ms{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...St("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:G({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker")},precondition:void 0,menu:[{id:pt.CommandPalette}],metadata:{description:St("showOrFocusStandaloneColorPickerDescription","Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(e,t){var i;(i=wh.get(t))==null||i.showOrFocus()}}class GMe extends Qe{constructor(){super({id:"editor.action.hideColorPicker",label:G({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:ve.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100},metadata:{description:St("hideColorPickerDescription","Hide the standalone color picker.")}})}run(e,t){var i;(i=wh.get(t))==null||i.hide()}}class YMe extends Qe{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:G({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:ve.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100},metadata:{description:St("insertColorWithStandaloneColorPickerDescription","Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(e,t){var i;(i=wh.get(t))==null||i.insertColor()}}Le(GMe);Le(YMe);Vn(qMe);class Lc{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const r=t.length,o=e.length;if(i+r>o)return!1;for(let a=0;a<r;a++){const s=e.charCodeAt(i+a),l=t.charCodeAt(a);if(s!==l&&!(s>=65&&s<=90&&s+32===l)&&!(l>=65&&l<=90&&l+32===s))return!1}return!0}_createOperationsForBlockComment(e,t,i,r,o,a){const s=e.startLineNumber,l=e.startColumn,u=e.endLineNumber,c=e.endColumn,d=o.getLineContent(s),f=o.getLineContent(u);let h=d.lastIndexOf(t,l-1+t.length),v=f.indexOf(i,c-1-i.length);if(h!==-1&&v!==-1)if(s===u)d.substring(h+t.length,v).indexOf(i)>=0&&(h=-1,v=-1);else{const p=d.substring(h+t.length),m=f.substring(0,v);(p.indexOf(i)>=0||m.indexOf(i)>=0)&&(h=-1,v=-1)}let g;h!==-1&&v!==-1?(r&&h+t.length<d.length&&d.charCodeAt(h+t.length)===32&&(t=t+" "),r&&v>0&&f.charCodeAt(v-1)===32&&(i=" "+i,v-=1),g=Lc._createRemoveBlockCommentOperations(new be(s,h+t.length+1,u,v+1),t,i)):(g=Lc._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=g.length===1?i:null);for(const p of g)a.addTrackedEditOperation(p.range,p.text)}static _createRemoveBlockCommentOperations(e,t,i){const r=[];return be.isEmpty(e)?r.push(Oi.delete(new be(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(r.push(Oi.delete(new be(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),r.push(Oi.delete(new be(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),r}static _createAddBlockCommentOperations(e,t,i,r){const o=[];return be.isEmpty(e)?o.push(Oi.replace(new be(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(Oi.insert(new Ot(e.startLineNumber,e.startColumn),t+(r?" ":""))),o.push(Oi.insert(new Ot(e.endLineNumber,e.endColumn),(r?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,r=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,r),a=this.languageConfigurationService.getLanguageConfiguration(o).comments;!a||!a.blockCommentStartToken||!a.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,a.blockCommentStartToken,a.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(i.length===2){const r=i[0],o=i[1];return new Nt(r.range.endLineNumber,r.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{const r=i[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new Nt(r.endLineNumber,r.endColumn+o,r.endLineNumber,r.endColumn+o)}}}class tu{constructor(e,t,i,r,o,a,s){this.languageConfigurationService=e,this._selection=t,this._indentSize=i,this._type=r,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=a,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(e,t,i,r){e.tokenization.tokenizeIfCheap(t);const o=e.getLanguageIdAtPosition(t,1),a=r.getLanguageConfiguration(o).comments,s=a?a.lineCommentToken:null;if(!s)return null;const l=[];for(let u=0,c=i-t+1;u<c;u++)l[u]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return l}static _analyzeLines(e,t,i,r,o,a,s,l){let u=!0,c;e===0?c=!0:e===1?c=!1:c=!0;for(let d=0,f=r.length;d<f;d++){const h=r[d],v=o+d;if(v===o&&s){h.ignore=!0;continue}const g=i.getLineContent(v),p=bP(g);if(p===-1){h.ignore=a,h.commentStrOffset=g.length;continue}if(u=!1,h.ignore=!1,h.commentStrOffset=p,c&&!Lc._haystackHasNeedleAtOffset(g,h.commentStr,p)&&(e===0?c=!1:e===1||(h.ignore=!0)),c&&t){const m=p+h.commentStrLength;m<g.length&&g.charCodeAt(m)===32&&(h.commentStrLength+=1)}}if(e===0&&u){c=!1;for(let d=0,f=r.length;d<f;d++)r[d].ignore=!1}return{supported:!0,shouldRemoveComments:c,lines:r}}static _gatherPreflightData(e,t,i,r,o,a,s,l){const u=tu._gatherPreflightCommentStrings(i,r,o,l);return u===null?{supported:!1}:tu._analyzeLines(e,t,i,u,r,a,s,l)}_executeLineComments(e,t,i,r){let o;i.shouldRemoveComments?o=tu._createRemoveLineCommentsOperations(i.lines,r.startLineNumber):(tu._normalizeInsertionPoint(e,i.lines,r.startLineNumber,this._indentSize),o=this._createAddLineCommentsOperations(i.lines,r.startLineNumber));const a=new Ot(r.positionLineNumber,r.positionColumn);for(let s=0,l=o.length;s<l;s++)t.addEditOperation(o[s].range,o[s].text),be.isEmpty(o[s].range)&&be.getStartPosition(o[s].range).equals(a)&&e.getLineContent(a.lineNumber).length+1===a.column&&(this._deltaColumn=(o[s].text||"").length);this._selectionId=t.trackSelection(r)}_attemptRemoveBlockComment(e,t,i,r){let o=t.startLineNumber,a=t.endLineNumber;const s=r.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let l=e.getLineContent(o).lastIndexOf(i,s-1),u=e.getLineContent(a).indexOf(r,t.endColumn-1-i.length);return l!==-1&&u===-1&&(u=e.getLineContent(o).indexOf(r,l+i.length),a=o),l===-1&&u!==-1&&(l=e.getLineContent(a).lastIndexOf(i,u),o=a),t.isEmpty()&&(l===-1||u===-1)&&(l=e.getLineContent(o).indexOf(i),l!==-1&&(u=e.getLineContent(o).indexOf(r,l+i.length))),l!==-1&&e.getLineContent(o).charCodeAt(l+i.length)===32&&(i+=" "),u!==-1&&e.getLineContent(a).charCodeAt(u-1)===32&&(r=" "+r,u-=1),l!==-1&&u!==-1?Lc._createRemoveBlockCommentOperations(new be(o,l+i.length+1,a,u+1),i,r):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);const r=e.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(r).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const a=o.blockCommentStartToken,s=o.blockCommentEndToken;let l=this._attemptRemoveBlockComment(e,i,a,s);if(!l){if(i.isEmpty()){const u=e.getLineContent(i.startLineNumber);let c=bP(u);c===-1&&(c=u.length),l=Lc._createAddBlockCommentOperations(new be(i.startLineNumber,c+1,i.startLineNumber,u.length+1),a,s,this._insertSpace)}else l=Lc._createAddBlockCommentOperations(new be(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),a,s,this._insertSpace);l.length===1&&(this._deltaColumn=a.length+1)}this._selectionId=t.trackSelection(i);for(const u of l)t.addEditOperation(u.range,u.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new be(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(i);return}i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const r=tu._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return r.supported?this._executeLineComments(e,t,r,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new Nt(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const i=[];for(let r=0,o=e.length;r<o;r++){const a=e[r];a.ignore||i.push(Oi.delete(new be(t+r,a.commentStrOffset+1,t+r,a.commentStrOffset+a.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){const i=[],r=this._insertSpace?" ":"";for(let o=0,a=e.length;o<a;o++){const s=e[o];s.ignore||i.push(Oi.insert(new Ot(t+o,s.commentStrOffset+1),s.commentStr+r))}return i}static nextVisibleColumn(e,t,i,r){return i?e+(t-e%t):e+r}static _normalizeInsertionPoint(e,t,i,r){let o=1073741824,a,s;for(let l=0,u=t.length;l<u;l++){if(t[l].ignore)continue;const c=e.getLineContent(i+l);let d=0;for(let f=0,h=t[l].commentStrOffset;d<o&&f<h;f++)d=tu.nextVisibleColumn(d,r,c.charCodeAt(f)===9,1);d<o&&(o=d)}o=Math.floor(o/r)*r;for(let l=0,u=t.length;l<u;l++){if(t[l].ignore)continue;const c=e.getLineContent(i+l);let d=0;for(a=0,s=t[l].commentStrOffset;d<o&&a<s;a++)d=tu.nextVisibleColumn(d,r,c.charCodeAt(a)===9,1);d>o?t[l].commentStrOffset=a-1:t[l].commentStrOffset=a}}}class fA extends Qe{constructor(e,t){super(t),this._type=e}run(e,t){const i=e.get(or);if(!t.hasModel())return;const r=t.getModel(),o=[],a=r.getOptions(),s=t.getOption(23),l=t.getSelections().map((c,d)=>({selection:c,index:d,ignoreFirstLine:!1}));l.sort((c,d)=>be.compareRangesUsingStarts(c.selection,d.selection));let u=l[0];for(let c=1;c<l.length;c++){const d=l[c];u.selection.endLineNumber===d.selection.startLineNumber&&(u.index<d.index?d.ignoreFirstLine=!0:(u.ignoreFirstLine=!0,u=d))}for(const c of l)o.push(new tu(i,c.selection,a.indentSize,this._type,s.insertSpace,s.ignoreEmptyLines,c.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class ZMe extends fA{constructor(){super(0,{id:"editor.action.commentLine",label:G("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:pt.MenubarEditMenu,group:"5_insert",title:G({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class XMe extends fA{constructor(){super(1,{id:"editor.action.addCommentLine",label:G("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2081),weight:100}})}}class JMe extends fA{constructor(){super(2,{id:"editor.action.removeCommentLine",label:G("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2099),weight:100}})}}class QMe extends Qe{constructor(){super({id:"editor.action.blockComment",label:G("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:pt.MenubarEditMenu,group:"5_insert",title:G({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const i=e.get(or);if(!t.hasModel())return;const r=t.getOption(23),o=[],a=t.getSelections();for(const s of a)o.push(new Lc(s,r.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}Le(ZMe);Le(XMe);Le(JMe);Le(QMe);var eAe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Bd=function(n,e){return function(t,i){e(t,i,n)}},WD,Df;let Zg=(Df=class{static get(e){return e.getContribution(WD.ID)}constructor(e,t,i,r,o,a,s,l){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=r,this._keybindingService=o,this._menuService=a,this._configurationService=s,this._workspaceContextService=l,this._toDispose=new st,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(u=>this._onContextMenu(u))),this._toDispose.add(this._editor.onMouseWheel(u=>{if(this._contextMenuIsBeingShownCount>0){const c=this._contextViewService.getContextViewElement(),d=u.srcElement;d.shadowRoot&&KJ(c)===d.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(u=>{this._editor.getOption(24)&&u.keyCode===58&&(u.preventDefault(),u.stopPropagation(),this.showContextMenu())}))}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu(e.event);if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let i=!1;for(const r of this._editor.getSelections())if(r.containsPosition(e.target.position)){i=!0;break}i||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t=e.event),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.contextMenuId);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],r=this._menuService.getMenuActions(t,this._contextKeyService,{arg:e.uri});for(const o of r){const[,a]=o;let s=0;for(const l of a)if(l instanceof qJ){const u=this._getMenuActions(e,l.item.submenu);u.length>0&&(i.push(new hR(l.id,l.label,u)),s++)}else i.push(l),s++;s&&i.push(new Cb)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let r=t;if(!r){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const a=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),s=oo(this._editor.getDomNode()),l=s.left+a.left,u=s.top+a.top+a.height;r={x:l,y:u}}const o=this._editor.getOption(128)&&!vR;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getOverflowWidgetsDomNode()??this._editor.getDomNode():void 0,getAnchor:()=>r,getActions:()=>e,getActionViewItem:a=>{const s=this._keybindingFor(a);if(s)return new pP(a,a,{label:!0,keybinding:s.getLabel(),isMenu:!0});const l=a;return typeof l.getActionViewItem=="function"?l.getActionViewItem():new pP(a,a,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:a=>this._keybindingFor(a),onHide:a=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:i})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel()||GJ(this._workspaceContextService.getWorkspace()))return;const t=this._editor.getOption(73);let i=0;const r=u=>({id:`menu-action-${++i}`,label:u.label,tooltip:"",class:void 0,enabled:typeof u.enabled>"u"?!0:u.enabled,checked:u.checked,run:u.run}),o=(u,c)=>new hR(`menu-action-${++i}`,u,c,void 0),a=(u,c,d,f,h)=>{if(!c)return r({label:u,enabled:c,run:()=>{}});const v=p=>()=>{this._configurationService.updateValue(d,p)},g=[];for(const p of h)g.push(r({label:p.label,checked:f===p.value,run:v(p.value)}));return o(u,g)},s=[];s.push(r({label:G("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),s.push(new Cb),s.push(r({label:G("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),s.push(a(G("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:G("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:G("context.minimap.size.fill","Fill"),value:"fill"},{label:G("context.minimap.size.fit","Fit"),value:"fit"}])),s.push(a(G("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:G("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:G("context.minimap.slider.always","Always"),value:"always"}]));const l=this._editor.getOption(128)&&!vR;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>s,onHide:u=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}},WD=Df,Df.ID="editor.contrib.contextmenu",Df);Zg=WD=eAe([Bd(1,sp),Bd(2,p1),Bd(3,Ln),Bd(4,rr),Bd(5,Eh),Bd(6,vi),Bd(7,bg)],Zg);class tAe extends Qe{constructor(){super({id:"editor.action.showContextMenu",label:G("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:ve.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;(i=Zg.get(t))==null||i.showContextMenu()}}gn(Zg.ID,Zg,2);Le(tAe);class qE{constructor(e){this.selections=e}equals(e){const t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let r=0;r<t;r++)if(!this.selections[r].equalsSelection(e.selections[r]))return!1;return!0}}class GE{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}const jS=class jS extends dt{static get(e){return e.getContribution(jS.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const i=new qE(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new GE(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new GE(new qE(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new GE(new qE(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}};jS.ID="editor.contrib.cursorUndoRedoController";let Xg=jS;class nAe extends Qe{constructor(){super({id:"cursorUndo",label:G("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:ve.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var r;(r=Xg.get(t))==null||r.cursorUndo()}}class iAe extends Qe{constructor(){super({id:"cursorRedo",label:G("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var r;(r=Xg.get(t))==null||r.cursorRedo()}}gn(Xg.ID,Xg,0);Le(nAe);Le(iAe);class rAe{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){const i=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new be(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new Nt(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new Nt(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new Nt(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Nt(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Nt(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function hv(n){return Ol?n.altKey:n.ctrlKey}const Ec=class Ec extends dt{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(35)||this._editor.getOption(22)||(hv(e)&&(this._modifierPressed=!0),this._mouseDown&&hv(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(35)||this._editor.getOption(22)||(hv(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Ec.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(this._dragSelection===null){const r=(this._editor.getSelections()||[]).filter(o=>t.position&&o.containsPosition(t.position));if(r.length===1)this._dragSelection=r[0];else return}hv(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new Ot(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let i=null;if(e.event.shiftKey){const r=this._editor.getSelection();if(r){const{selectionStartLineNumber:o,selectionStartColumn:a}=r;i=[new Nt(o,a,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map(r=>r.containsPosition(t)?new Nt(t.lineNumber,t.column,t.lineNumber,t.column):r);this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(hv(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Ec.ID,new rAe(this._dragSelection,t,hv(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new be(e.lineNumber,e.column,e.lineNumber,e.column),options:Ec._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}};Ec.ID="editor.contrib.dragAndDrop",Ec.TRIGGER_KEY_VALUE=Ol?6:5,Ec._DECORATION_OPTIONS=mn.register({description:"dnd-target",className:"dnd-target"});let Z0=Ec;gn(Z0.ID,Z0,2);gn(Ru.ID,Ru,0);dp(iD);Et(new class extends uo{constructor(){super({id:bG,precondition:JM,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,e){var t;return(t=Ru.get(e))==null?void 0:t.changePasteType()}});Et(new class extends uo{constructor(){super({id:"editor.hidePasteWidget",precondition:JM,kbOpts:{weight:100,primary:9}})}runEditorCommand(n,e){var t;(t=Ru.get(e))==null||t.clearWidgets()}});var Tf;Le((Tf=class extends Qe{constructor(){super({id:"editor.action.pasteAs",label:G("pasteAs","Paste As..."),alias:"Paste As...",precondition:ve.writable,metadata:{description:"Paste as",args:[{name:"args",schema:Tf.argsSchema}]}})}run(e,t,i){var o;let r=typeof(i==null?void 0:i.kind)=="string"?i.kind:void 0;return!r&&i&&(r=typeof i.id=="string"?i.id:void 0),(o=Ru.get(t))==null?void 0:o.pasteAs(r?new si(r):void 0)}},Tf.argsSchema={type:"object",properties:{kind:{type:"string",description:G("pasteAs.kind","The kind of the paste edit to try applying. If not provided or there are multiple edits for this kind, the editor will show a picker.")}}},Tf));Le(class extends Qe{constructor(){super({id:"editor.action.pasteAsText",label:G("pasteAsText","Paste as Text"),alias:"Paste as Text",precondition:ve.writable})}run(n,e){var t;return(t=Ru.get(e))==null?void 0:t.pasteAs({providerId:gh.id})}});class oAe{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(e){if(e&&this._dragOperations.has(e)){const t=this._dragOperations.get(e);return this._dragOperations.delete(e),t}}}class X5{constructor(e){this.identifier=e}}const pY=Bu("treeViewsDndService");$u(pY,oAe,1);var aAe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Sw=function(n,e){return function(t,i){e(t,i,n)}},zD;const mY="editor.experimental.dropIntoEditor.defaultProvider",bY="editor.changeDropType",hA=new yn("dropWidgetVisible",!1,G("dropWidgetVisible","Whether the drop widget is showing"));var If;let Jg=(If=class extends dt{static get(e){return e.getContribution(zD.ID)}constructor(e,t,i,r,o){super(),this._configService=i,this._languageFeaturesService=r,this._treeViewsDragAndDropService=o,this.treeItemsTransfer=tD.getInstance(),this._dropProgressManager=this._register(t.createInstance(j0,"dropIntoEditor",e)),this._postDropWidgetManager=this._register(t.createInstance(H0,"dropIntoEditor",e,hA,{id:bY,label:G("postDropWidgetTitle","Show drop options...")})),this._register(e.onDropIntoEditor(a=>this.onDropIntoEditor(e,a.position,a.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(e,t,i){var o;if(!i.dataTransfer||!e.hasModel())return;(o=this._currentOperation)==null||o.cancel(),e.focus(),e.setPosition(t);const r=cr(async a=>{const s=new st,l=s.add(new yg(e,1,void 0,a));try{const u=await this.extractDataTransferData(i);if(u.size===0||l.token.isCancellationRequested)return;const c=e.getModel();if(!c)return;const d=this._languageFeaturesService.documentDropEditProvider.ordered(c).filter(h=>h.dropMimeTypes?h.dropMimeTypes.some(v=>u.matches(v)):!0),f=s.add(await this.getDropEdits(d,c,t,u,l));if(l.token.isCancellationRequested)return;if(f.edits.length){const h=this.getInitialActiveEditIndex(c,f.edits),v=e.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([be.fromPositions(t)],{activeEditIndex:h,allEdits:f.edits},v,async g=>g,a)}}finally{s.dispose(),this._currentOperation===r&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(t,G("dropIntoEditorProgress","Running drop handlers. Click to cancel"),r,{cancel:()=>r.cancel()}),this._currentOperation=r}async getDropEdits(e,t,i,r,o){const a=new st,s=await Ey(Promise.all(e.map(async u=>{try{const c=await u.provideDocumentDropEdits(t,i,r,o.token);return c&&a.add(c),c==null?void 0:c.edits.map(d=>({...d,providerId:u.id}))}catch(c){console.error(c)}})),o.token),l=Ou(s??[]).flat();return{edits:pG(l),dispose:()=>a.dispose()}}getInitialActiveEditIndex(e,t){const i=this._configService.getValue(mY,{resource:e.uri});for(const[r,o]of Object.entries(i)){const a=new si(o),s=t.findIndex(l=>a.value===l.providerId&&l.handledMimeType&&lG(r,[l.handledMimeType]));if(s>=0)return s}return 0}async extractDataTransferData(e){if(!e.dataTransfer)return new sG;const t=dG(e.dataTransfer);if(this.treeItemsTransfer.hasData(X5.prototype)){const i=this.treeItemsTransfer.getData(X5.prototype);if(Array.isArray(i))for(const r of i){const o=await this._treeViewsDragAndDropService.removeDragOperationTransfer(r.identifier);if(o)for(const[a,s]of o)t.replace(a,s)}}return t}},zD=If,If.ID="editor.contrib.dropIntoEditorController",If);Jg=zD=aAe([Sw(1,ln),Sw(2,vi),Sw(3,xt),Sw(4,pY)],Jg);gn(Jg.ID,Jg,2);dp(nD);Et(new class extends uo{constructor(){super({id:bY,precondition:hA,kbOpts:{weight:100,primary:2137}})}runEditorCommand(n,e,t){var i;(i=Jg.get(e))==null||i.changeDropType()}});Et(new class extends uo{constructor(){super({id:"editor.hideDropWidget",precondition:hA,kbOpts:{weight:100,primary:9}})}runEditorCommand(n,e,t){var i;(i=Jg.get(e))==null||i.clearWidgets()}});ap.as(Ty.Configuration).registerConfiguration({...b1,properties:{[mY]:{type:"object",scope:5,description:G("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}});const Mr=class Mr{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getDecorationRangeAt(e){const t=e<this._decorations.length?this._decorations[e]:null;return t?this._editor.getModel().getDecorationRange(t):null}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const r=i.options;if(r===Mr._FIND_MATCH_DECORATION||r===Mr._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let r=0,o=this._decorations.length;r<o;r++){const a=this._editor.getModel().getDecorationRange(this._decorations[r]);if(e.equalsRange(a)){t=this._decorations[r],i=r+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(r=>{if(this._highlightedDecorationId!==null&&(r.changeDecorationOptions(this._highlightedDecorationId,Mr._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,r.changeDecorationOptions(this._highlightedDecorationId,Mr._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){const a=o.endLineNumber-1,s=this._editor.getModel().getLineMaxColumn(a);o=new be(o.startLineNumber,o.startColumn,a,s)}this._rangeHighlightDecorationId=r.addDecoration(o,Mr._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let r=Mr._FIND_MATCH_DECORATION;const o=[];if(e.length>1e3){r=Mr._FIND_MATCH_NO_OVERVIEW_DECORATION;const s=this._editor.getModel().getLineCount(),u=this._editor.getLayoutInfo().height/s,c=Math.max(2,Math.ceil(3/u));let d=e[0].range.startLineNumber,f=e[0].range.endLineNumber;for(let h=1,v=e.length;h<v;h++){const g=e[h].range;f+c>=g.startLineNumber?g.endLineNumber>f&&(f=g.endLineNumber):(o.push({range:new be(d,1,f,1),options:Mr._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),d=g.startLineNumber,f=g.endLineNumber)}o.push({range:new be(d,1,f,1),options:Mr._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const a=new Array(e.length);for(let s=0,l=e.length;s<l;s++)a[s]={range:e[s].range,options:r};this._decorations=i.deltaDecorations(this._decorations,a),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(s=>i.removeDecoration(s)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(s=>i.addDecoration(s,Mr._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){const i=this._decorations[t],r=this._editor.getModel().getDecorationRange(i);if(!(!r||r.endLineNumber>e.lineNumber)){if(r.endLineNumber<e.lineNumber)return r;if(!(r.endColumn>e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){const r=this._decorations[t],o=this._editor.getModel().getDecorationRange(r);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}};Mr._CURRENT_FIND_MATCH_DECORATION=mn.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",inlineClassName:"currentFindMatchInline",showIfCollapsed:!0,overviewRuler:{color:Zi(bx),position:gu.Center},minimap:{color:Zi(gR),position:1}}),Mr._FIND_MATCH_DECORATION=mn.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",inlineClassName:"findMatchInline",showIfCollapsed:!0,overviewRuler:{color:Zi(bx),position:gu.Center},minimap:{color:Zi(gR),position:1}}),Mr._FIND_MATCH_NO_OVERVIEW_DECORATION=mn.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),Mr._FIND_MATCH_ONLY_OVERVIEW_DECORATION=mn.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Zi(bx),position:gu.Center}}),Mr._RANGE_HIGHLIGHT_DECORATION=mn.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Mr._FIND_SCOPE_DECORATION=mn.register({description:"find-scope",className:"findScope",isWholeLine:!0});let UD=Mr;class sAe{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const i=[];for(let a=0;a<this._ranges.length;a++)i.push({range:this._ranges[a],text:this._replaceStrings[a]});i.sort((a,s)=>be.compareRangesUsingStarts(a.range,s.range));const r=[];let o=i[0];for(let a=1;a<i.length;a++)o.range.endLineNumber===i[a].range.startLineNumber&&o.range.endColumn===i[a].range.startColumn?(o.range=o.range.plusRange(i[a].range),o.text=o.text+i[a].text):(r.push(o),o=i[a]);r.push(o);for(const a of r)t.addEditOperation(a.range,a.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function yY(n,e){if(n&&n[0]!==""){const t=J5(n,e,"-"),i=J5(n,e,"_");return t&&!i?Q5(n,e,"-"):!t&&i?Q5(n,e,"_"):n[0].toUpperCase()===n[0]?e.toUpperCase():n[0].toLowerCase()===n[0]?e.toLowerCase():YJ(n[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):n[0][0].toUpperCase()!==n[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function J5(n,e,t){return n[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&n[0].split(t).length===e.split(t).length}function Q5(n,e,t){const i=e.split(t),r=n[0].split(t);let o="";return i.forEach((a,s)=>{o+=yY([r[s]],a)+t}),o.slice(0,-1)}class e3{constructor(e){this.staticValue=e,this.kind=0}}class lAe{constructor(e){this.pieces=e,this.kind=1}}class Qg{static fromStaticValue(e){return new Qg([hf.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(e){!e||e.length===0?this._state=new e3(""):e.length===1&&e[0].staticValue!==null?this._state=new e3(e[0].staticValue):this._state=new lAe(e)}buildReplaceString(e,t){if(this._state.kind===0)return t?yY(e,this._state.staticValue):this._state.staticValue;let i="";for(let r=0,o=this._state.pieces.length;r<o;r++){const a=this._state.pieces[r];if(a.staticValue!==null){i+=a.staticValue;continue}let s=Qg._substitute(a.matchIndex,e);if(a.caseOps!==null&&a.caseOps.length>0){const l=[],u=a.caseOps.length;let c=0;for(let d=0,f=s.length;d<f;d++){if(c>=u){l.push(s.slice(d));break}switch(a.caseOps[c]){case"U":l.push(s[d].toUpperCase());break;case"u":l.push(s[d].toUpperCase()),c++;break;case"L":l.push(s[d].toLowerCase());break;case"l":l.push(s[d].toLowerCase()),c++;break;default:l.push(s[d])}}s=l.join("")}i+=s}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class hf{static staticValue(e){return new hf(e,-1,null)}static caseOps(e,t){return new hf(null,e,t)}constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}}class uAe{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=hf.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=hf.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=hf.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Qg(this._result)}}function cAe(n){if(!n||n.length===0)return new Qg(null);const e=[],t=new uAe(n);for(let i=0,r=n.length;i<r;i++){const o=n.charCodeAt(i);if(o===92){if(i++,i>=r)break;const a=n.charCodeAt(i);switch(a){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(a));break}continue}if(o===36){if(i++,i>=r)break;const a=n.charCodeAt(i);if(a===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(a===48||a===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=a&&a<=57){let s=a-48;if(i+1<r){const l=n.charCodeAt(i+1);if(48<=l&&l<=57){i++,s=s*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(s,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(s,i+1,e),e.length=0;continue}}}return t.finalize()}const ec=new yn("findWidgetVisible",!1);ec.toNegated();const JO=new yn("findInputFocussed",!1),vA=new yn("replaceInputFocussed",!1),Ow={primary:545,mac:{primary:2593}},xw={primary:565,mac:{primary:2613}},Ew={primary:560,mac:{primary:2608}},Pw={primary:554,mac:{primary:2602}},kw={primary:558,mac:{primary:2606}},Zn={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Mc=19999,dAe=240;class ab{constructor(e,t){this._toDispose=new st,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new ky,this._decorations=new UD(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Xi(()=>{if(this._editor.hasModel())return this.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,zr(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},dAe)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t<"u"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(s=>{if(s.startLineNumber!==s.endLineNumber){let l=s.endLineNumber;return s.endColumn===1&&(l=l-1),new be(s.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return s}));const r=this._findMatches(i,!1,Mc);this._decorations.set(r,i);const o=this._editor.getSelection();let a=this._decorations.getCurrentMatchesPosition(o);if(a===0&&r.length>0){const s=O2(r.map(l=>l.range),l=>be.compareRangesUsingStarts(l,o)>=0);a=s>0?s-1+1:a}this._state.changeMatchInfo(a,this._decorations.getCount(),void 0),e&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:r}=e;const o=this._editor.getModel();return t||r===1?(i===1?i=o.getLineCount():i--,r=o.getLineMaxColumn(i)):r--,new Ot(i,r)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const c=this._decorations.matchAfterPosition(e);c&&this._setCurrentFindMatch(c);return}if(this._decorations.getCount()<Mc){let c=this._decorations.matchBeforePosition(e);c&&c.isEmpty()&&c.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),c=this._decorations.matchBeforePosition(e)),c&&this._setCurrentFindMatch(c);return}if(this._cannotFind())return;const i=this._decorations.getFindScope(),r=ab._getSearchRange(this._editor.getModel(),i);r.getEndPosition().isBefore(e)&&(e=r.getEndPosition()),e.isBefore(r.getStartPosition())&&(e=r.getEndPosition());const{lineNumber:o,column:a}=e,s=this._editor.getModel();let l=new Ot(o,a),u=s.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1);if(u&&u.range.isEmpty()&&u.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),u=s.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,!1)),!!u){if(!t&&!r.containsRange(u.range))return this._moveToPrevMatch(u.range.getStartPosition(),!0);this._setCurrentFindMatch(u.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:r}=e;const o=this._editor.getModel();return t||r===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,r=1):r++,new Ot(i,r)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<Mc){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,r=!1){if(this._cannotFind())return null;const o=this._decorations.getFindScope(),a=ab._getSearchRange(this._editor.getModel(),o);a.getEndPosition().isBefore(e)&&(e=a.getStartPosition()),e.isBefore(a.getStartPosition())&&(e=a.getStartPosition());const{lineNumber:s,column:l}=e,u=this._editor.getModel();let c=new Ot(s,l),d=u.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,t);return i&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(c)&&(c=this._nextSearchPosition(c),d=u.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,t)),d?!r&&!a.containsRange(d.range)?this._getNextMatch(d.range.getEndPosition(),t,i,!0):d:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(e){const t=this._decorations.getDecorationRangeAt(e);t&&this._setCurrentFindMatch(t)}moveToMatch(e){this._moveToMatch(e)}_getReplacePattern(){return this._state.isRegex?cAe(this._state.replaceString):Qg.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){const r=e.buildReplaceString(i.matches,this._state.preserveCase),o=new xy(t,r);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new Ot(t.startLineNumber,t.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const r=(e||[null]).map(o=>ab._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=Mc?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new ZJ(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(132):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let d="mu";i.ignoreCase&&(d+="i"),i.global&&(d+="g"),i=new RegExp(i.source,d)}const r=this._editor.getModel(),o=r.getValue(1),a=r.getFullModelRange(),s=this._getReplacePattern();let l;const u=this._state.preserveCase;s.hasReplacementPatterns||u?l=o.replace(i,function(){return s.buildReplaceString(arguments,u)}):l=o.replace(i,s.buildReplaceString(null,u));const c=new x2(a,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",c)}_regularReplaceAll(e){const t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let a=0,s=i.length;a<s;a++)r[a]=t.buildReplaceString(i[a].matches,this._state.preserveCase);const o=new sAe(this._editor.getSelection(),i.map(a=>a.range),r);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();let i=this._findMatches(e,!1,1073741824).map(o=>new Nt(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn));const r=this._editor.getSelection();for(let o=0,a=i.length;o<a;o++)if(i[o].equalsRange(r)){i=[r].concat(i.slice(0,o)).concat(i.slice(o+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}const HS=class HS extends Iy{constructor(e,t,i){super(),this._hideSoon=this._register(new Xi(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const r={inputActiveOptionBorder:rf(P2),inputActiveOptionForeground:rf(E2),inputActiveOptionBackground:rf(jI)},o=this._register(yP());this.caseSensitive=this._register(new XJ({appendTitle:this._keybindingLabelFor(Zn.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:o,...r})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new JJ({appendTitle:this._keybindingLabelFor(Zn.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:o,...r})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new QJ({appendTitle:this._keybindingLabelFor(Zn.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:o,...r})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(a=>{let s=!1;a.isRegex&&(this.regex.checked=this._state.isRegex,s=!0),a.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,s=!0),a.matchCase&&(this.caseSensitive.checked=this._state.matchCase,s=!0),!this._state.isRevealed&&s&&this._revealTemporarily()})),this._register(Rn(this._domNode,hi.MOUSE_LEAVE,a=>this._onMouseLeave())),this._register(Rn(this._domNode,"mouseover",a=>this._onMouseOver()))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return HS.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}};HS.ID="editor.contrib.findOptionsWidget";let KD=HS;function Dw(n,e){return n===1?!0:n===2?!1:e}class fAe extends dt{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Dw(this._isRegexOverride,this._isRegex)}get wholeWord(){return Dw(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Dw(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Dw(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new on),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(e,t,i){const r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,r.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,r.matchesCount=!0,o=!0),typeof i<"u"&&(be.equalsRange(this._currentMatch,i)||(this._currentMatch=i,r.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(r)}change(e,t,i=!0){var c;const r={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;const a=this.isRegex,s=this.wholeWord,l=this.matchCase,u=this.preserveCase;typeof e.searchString<"u"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,r.searchString=!0,o=!0),typeof e.replaceString<"u"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,r.replaceString=!0,o=!0),typeof e.isRevealed<"u"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,r.isRevealed=!0,o=!0),typeof e.isReplaceRevealed<"u"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,r.isReplaceRevealed=!0,o=!0),typeof e.isRegex<"u"&&(this._isRegex=e.isRegex),typeof e.wholeWord<"u"&&(this._wholeWord=e.wholeWord),typeof e.matchCase<"u"&&(this._matchCase=e.matchCase),typeof e.preserveCase<"u"&&(this._preserveCase=e.preserveCase),typeof e.searchScope<"u"&&((c=e.searchScope)!=null&&c.every(d=>{var f;return(f=this._searchScope)==null?void 0:f.some(h=>!be.equalsRange(h,d))})||(this._searchScope=e.searchScope,r.searchScope=!0,o=!0)),typeof e.loop<"u"&&this._loop!==e.loop&&(this._loop=e.loop,r.loop=!0,o=!0),typeof e.isSearching<"u"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,r.isSearching=!0,o=!0),typeof e.filters<"u"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,r.filters=!0,o=!0),this._isRegexOverride=typeof e.isRegexOverride<"u"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride<"u"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride<"u"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride<"u"?e.preserveCaseOverride:0,a!==this.isRegex&&(o=!0,r.isRegex=!0),s!==this.wholeWord&&(o=!0,r.wholeWord=!0),l!==this.matchCase&&(o=!0,r.matchCase=!0),u!==this.preserveCase&&(o=!0,r.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(r)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Mc}}const hAe=G("defaultLabel","input"),vAe=G("label.preserveCaseToggle","Preserve Case");class gAe extends k2{constructor(e){super({icon:Kt.preserveCase,title:vAe+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??S1("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class pAe extends Iy{constructor(e,t,i,r){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new on),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new on),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new on),this._onInput=this._register(new on),this._onKeyUp=this._register(new on),this._onPreserveCaseKeyDown=this._register(new on),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||hAe;const o=r.appendPreserveCaseLabel||"",a=r.history||[],s=!!r.flexibleHeight,l=!!r.flexibleWidth,u=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new eQ(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:r.showHistoryHint,flexibleHeight:s,flexibleWidth:l,flexibleMaxHeight:u,inputBoxStyles:r.inputBoxStyles})),this.preserveCase=this._register(new gAe({appendTitle:o,isChecked:!1,...r.toggleStyles})),this._register(this.preserveCase.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(f=>{this._onPreserveCaseKeyDown.fire(f)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const c=[this.preserveCase.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){const h=c.indexOf(this.domNode.ownerDocument.activeElement);if(h>=0){let v=-1;f.equals(17)?v=(h+1)%c.length:f.equals(15)&&(h===0?v=c.length-1:v=h-1),f.equals(9)?(c[h].blur(),this.inputBox.focus()):v>=0&&c[v].focus(),AC.stop(f,!0)}}});const d=document.createElement("div");d.className="controls",d.style.display=this._showOptionButtons?"block":"none",d.appendChild(this.preserveCase.domNode),this.domNode.appendChild(d),e==null||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){var e;(e=this.inputBox)==null||e.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var _Y=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wY=function(n,e){return function(t,i){e(t,i,n)}};const gA=new yn("suggestWidgetVisible",!1,G("suggestWidgetVisible","Whether suggestion are visible")),pA="historyNavigationWidgetFocus",CY="historyNavigationForwardsEnabled",SY="historyNavigationBackwardsEnabled";let Cu;const Tw=[];function OY(n,e){if(Tw.includes(e))throw new Error("Cannot register the same widget multiple times");Tw.push(e);const t=new st,i=new yn(pA,!1).bindTo(n),r=new yn(CY,!0).bindTo(n),o=new yn(SY,!0).bindTo(n),a=()=>{i.set(!0),Cu=e},s=()=>{i.set(!1),Cu===e&&(Cu=void 0)};return nQ(e.element)&&a(),t.add(e.onDidFocus(()=>a())),t.add(e.onDidBlur(()=>s())),t.add(bi(()=>{Tw.splice(Tw.indexOf(e),1),s()})),{historyNavigationForwardsEnablement:r,historyNavigationBackwardsEnablement:o,dispose(){t.dispose()}}}let qD=class extends tQ{constructor(e,t,i,r){super(e,t,i);const o=this._register(r.createScoped(this.inputBox.element));this._register(OY(o,this.inputBox))}};qD=_Y([wY(3,Ln)],qD);let GD=class extends pAe{constructor(e,t,i,r,o=!1){super(e,t,o,i);const a=this._register(r.createScoped(this.inputBox.element));this._register(OY(a,this.inputBox))}};GD=_Y([wY(3,Ln)],GD);Ml.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Ne.and(Ne.has(pA),Ne.equals(SY,!0),Ne.not("isComposing"),gA.isEqualTo(!1)),primary:16,secondary:[528],handler:n=>{Cu==null||Cu.showPreviousValue()}});Ml.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Ne.and(Ne.has(pA),Ne.equals(CY,!0),Ne.not("isComposing"),gA.isEqualTo(!1)),primary:18,secondary:[530],handler:n=>{Cu==null||Cu.showNextValue()}});function t3(n){var e,t;return((e=n.lookupKeybinding("history.showPrevious"))==null?void 0:e.getElectronAccelerator())==="Up"&&((t=n.lookupKeybinding("history.showNext"))==null?void 0:t.getElectronAccelerator())==="Down"}const n3=Ti("find-collapsed",Kt.chevronRight,G("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),i3=Ti("find-expanded",Kt.chevronDown,G("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),mAe=Ti("find-selection",Kt.selection,G("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),bAe=Ti("find-replace",Kt.replace,G("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),yAe=Ti("find-replace-all",Kt.replaceAll,G("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),_Ae=Ti("find-previous-match",Kt.arrowUp,G("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),wAe=Ti("find-next-match",Kt.arrowDown,G("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),CAe=G("label.findDialog","Find / Replace"),SAe=G("label.find","Find"),OAe=G("placeholder.find","Find"),xAe=G("label.previousMatchButton","Previous Match"),EAe=G("label.nextMatchButton","Next Match"),PAe=G("label.toggleSelectionFind","Find in Selection"),kAe=G("label.closeButton","Close"),DAe=G("label.replace","Replace"),TAe=G("placeholder.replace","Replace"),IAe=G("label.replaceButton","Replace"),LAe=G("label.replaceAllButton","Replace All"),MAe=G("label.toggleReplaceButton","Toggle Replace"),AAe=G("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Mc),RAe=G("label.matchesLocation","{0} of {1}"),r3=G("label.noResults","No results"),Xs=419,NAe=275,FAe=NAe-54;let cm=69;const jAe=33,o3="ctrlEnterReplaceAll.windows.donotask",a3=Ol?256:2048;class YE{constructor(e){this.afterLineNumber=e,this.heightInPx=jAe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function s3(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){n.stopPropagation();return}}function l3(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){n.stopPropagation();return}}const BS=class BS extends Iy{constructor(e,t,i,r,o,a,s,l,u,c){super(),this._hoverService=c,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=r,this._keybindingService=o,this._contextKeyService=a,this._storageService=l,this._notificationService=u,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(o3,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new id(500),this._register(bi(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(d=>{if(d.hasChanged(92)&&(this._codeEditor.getOption(92)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),d.hasChanged(146)&&this._tryUpdateWidgetWidth(),d.hasChanged(2)&&this.updateAccessibilitySupport(),d.hasChanged(41)){const f=this._codeEditor.getOption(41).loop;this._state.change({loop:f},!1);const h=this._codeEditor.getOption(41).addExtraSpaceOnTop;h&&!this._viewZone&&(this._viewZone=new YE(0),this._showViewZone()),!h&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const d=await this._controller.getGlobalBufferTerm();d&&d!==this._state.searchString&&(this._state.change({searchString:d},!1),this._findInput.select())}})),this._findInputFocused=JO.bindTo(a),this._findFocusTracker=this._register(_g(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=vA.bindTo(a),this._replaceFocusTracker=this._register(_g(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new YE(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(d=>{if(d.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return BS.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(92)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Va(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Jn)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){var t;this._matchesCount.style.minWidth=cm+"px",this._state.matchesCount>=Mc?this._matchesCount.title=AAe:this._matchesCount.title="",(t=this._matchesCount.firstChild)==null||t.remove();let e;if(this._state.matchesCount>0){let i=String(this._state.matchesCount);this._state.matchesCount>=Mc&&(i+="+");let r=String(this._state.matchesPosition);r==="0"&&(r="?"),e=D2(RAe,r,i)}else e=r3;this._matchesCount.appendChild(document.createTextNode(e)),ts(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),cm=Math.max(cm,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===r3)return i===""?G("ariaSearchNoResultEmpty","{0} found",e):G("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const r=G("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${r}`:r}return G("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const i=!this._codeEditor.getOption(92);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const r=oo(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),a=r.left+(o?o.left:0),s=o?o.top:0;if(this._viewZone&&s<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const l=iQ(this._domNode).left;a>l&&(t=!1);const u=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());r.left+(u?u.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(r=>{i.heightInPx=this._getHeight(),this._viewZoneId=r.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new YE(0));const i=this._viewZone;this._codeEditor.changeViewZones(r=>{if(this._viewZoneId!==void 0){const o=this._getHeight();if(o===i.heightInPx)return;const a=o-i.heightInPx;i.heightInPx=o,r.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+a);return}else{let o=this._getHeight();if(o-=this._codeEditor.getOption(84).top,o<=0)return;i.heightInPx=o,this._viewZoneId=r.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,r=e.minimap.minimapWidth;let o=!1,a=!1,s=!1;if(this._resized&&Va(this._domNode)>Xs){this._domNode.style.maxWidth=`${i-28-r-15}px`,this._replaceInput.width=Va(this._findInput.domNode);return}if(Xs+28+r>=i&&(a=!0),Xs+28+r-cm>=i&&(s=!0),Xs+28+r-cm>=i+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",s),this._domNode.classList.toggle("reduced-find-widget",a),!s&&!o&&(this._domNode.style.maxWidth=`${i-28-r-15}px`),this._findInput.layout({collapsedFindWidget:o,narrowFindWidget:s,reducedFindWidget:a}),this._resized){const l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=Va(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!be.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(a3|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return s3(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return l3(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(a3|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{TI&&up&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(G("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(o3,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return s3(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return l3(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new qD(null,this._contextViewProvider,{width:FAe,label:SAe,placeholder:OAe,appendCaseSensitiveLabel:this._keybindingLabelFor(Zn.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(Zn.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(Zn.ToggleRegexCommand),validation:c=>{if(c.length===0||!this._findInput.getRegex())return null;try{return new RegExp(c,"gu"),null}catch(d){return{content:d.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>t3(this._keybindingService),inputBoxStyles:mR,toggleStyles:pR},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(c=>this._onFindInputKeyDown(c))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(c=>{c.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),c.preventDefault())})),this._register(this._findInput.onRegexKeyDown(c=>{c.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),c.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(c=>{this._tryUpdateHeight()&&this._showViewZone()})),rQ&&this._register(this._findInput.onMouseDown(c=>this._onFindInputMouseDown(c))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();const i=this._register(yP());this._prevBtn=this._register(new vv({label:xAe+this._keybindingLabelFor(Zn.PreviousMatchFindAction),icon:_Ae,hoverDelegate:i,onTrigger:()=>{Av(this._codeEditor.getAction(Zn.PreviousMatchFindAction)).run().then(void 0,Jn)}},this._hoverService)),this._nextBtn=this._register(new vv({label:EAe+this._keybindingLabelFor(Zn.NextMatchFindAction),icon:wAe,hoverDelegate:i,onTrigger:()=>{Av(this._codeEditor.getAction(Zn.NextMatchFindAction)).run().then(void 0,Jn)}},this._hoverService));const r=document.createElement("div");r.className="find-part",r.appendChild(this._findInput.domNode);const o=document.createElement("div");o.className="find-actions",r.appendChild(o),o.appendChild(this._matchesCount),o.appendChild(this._prevBtn.domNode),o.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new k2({icon:mAe,title:PAe+this._keybindingLabelFor(Zn.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:i,inputActiveOptionBackground:rf(jI),inputActiveOptionBorder:rf(P2),inputActiveOptionForeground:rf(E2)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let c=this._codeEditor.getSelections();c=c.map(d=>(d.endColumn===1&&d.endLineNumber>d.startLineNumber&&(d=d.setEndPosition(d.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(d.endLineNumber-1))),d.isEmpty()?null:d)).filter(d=>!!d),c.length&&this._state.change({searchScope:c},!0)}}else this._state.change({searchScope:null},!0)})),o.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new vv({label:kAe+this._keybindingLabelFor(Zn.CloseFindWidgetCommand),icon:T2,hoverDelegate:i,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:c=>{c.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),c.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new GD(null,void 0,{label:DAe,placeholder:TAe,appendPreserveCaseLabel:this._keybindingLabelFor(Zn.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>t3(this._keybindingService),inputBoxStyles:mR,toggleStyles:pR},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(c=>this._onReplaceInputKeyDown(c))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(c=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(c=>{c.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),c.preventDefault())}));const a=this._register(yP());this._replaceBtn=this._register(new vv({label:IAe+this._keybindingLabelFor(Zn.ReplaceOneAction),icon:bAe,hoverDelegate:a,onTrigger:()=>{this._controller.replace()},onKeyDown:c=>{c.equals(1026)&&(this._closeBtn.focus(),c.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new vv({label:LAe+this._keybindingLabelFor(Zn.ReplaceAllAction),icon:yAe,hoverDelegate:a,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));const s=document.createElement("div");s.className="replace-part",s.appendChild(this._replaceInput.domNode);const l=document.createElement("div");l.className="replace-actions",s.appendChild(l),l.appendChild(this._replaceBtn.domNode),l.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new vv({label:MAe,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Va(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=CAe,this._domNode.role="dialog",this._domNode.style.width=`${Xs}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(r),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(s),this._resizeSash=this._register(new Iv(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let u=Xs;this._register(this._resizeSash.onDidStart(()=>{u=Va(this._domNode)})),this._register(this._resizeSash.onDidChange(c=>{this._resized=!0;const d=u+c.startX-c.currentX;if(d<Xs)return;const f=parseFloat(oQ(this._domNode).maxWidth)||0;d>f||(this._domNode.style.width=`${d}px`,this._isReplaceVisible&&(this._replaceInput.width=Va(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const c=Va(this._domNode);if(c<Xs)return;let d=Xs;if(!this._resized||c===Xs){const f=this._codeEditor.getLayoutInfo();d=f.width-28-f.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${d}px`,this._isReplaceVisible&&(this._replaceInput.width=Va(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}};BS.ID="editor.contrib.findWidget";let YD=BS;class vv extends Iy{constructor(e,t){super(),this._opts=e;let i="button";this._opts.className&&(i=i+" "+this._opts.className),this._opts.icon&&(i=i+" "+Hn.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=i,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(t.setupManagedHover(e.hoverDelegate??S1("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,r=>{this._opts.onTrigger(),r.preventDefault()}),this.onkeydown(this._domNode,r=>{var o,a;if(r.equals(10)||r.equals(3)){this._opts.onTrigger(),r.preventDefault();return}(a=(o=this._opts).onKeyDown)==null||a.call(o,r)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Hn.asClassNameArray(n3)),this._domNode.classList.add(...Hn.asClassNameArray(i3))):(this._domNode.classList.remove(...Hn.asClassNameArray(i3)),this._domNode.classList.add(...Hn.asClassNameArray(n3)))}}m1((n,e)=>{const t=n.getColor(s2);t&&e.addRule(`.monaco-editor .findMatch { border: 1px ${MC(n.type)?"dotted":"solid"} ${t}; box-sizing: border-box; }`);const i=n.getColor(aQ);i&&e.addRule(`.monaco-editor .findScope { border: 1px ${MC(n.type)?"dashed":"solid"} ${i}; }`);const r=n.getColor(xu);r&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${r}; }`);const o=n.getColor(sQ);o&&e.addRule(`.monaco-editor .findMatchInline { color: ${o}; }`);const a=n.getColor(lQ);a&&e.addRule(`.monaco-editor .currentFindMatchInline { color: ${a}; }`)});var xY=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},va=function(n,e){return function(t,i){e(t,i,n)}},ZD;const HAe=524288;function XD(n,e="single",t=!1){if(!n.hasModel())return null;const i=n.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){const r=n.getConfiguredWordAtPosition(i.getStartPosition());if(r&&t===!1)return r.word}else if(n.getModel().getValueLengthInRange(i)<HAe)return n.getModel().getValueInRange(i)}return null}var Lf;let so=(Lf=class extends dt{get editor(){return this._editor}static get(e){return e.getContribution(ZD.ID)}constructor(e,t,i,r,o,a){super(),this._editor=e,this._findWidgetVisible=ec.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=r,this._notificationService=o,this._hoverService=a,this._updateHistoryDelayer=new id(500),this._state=this._register(new fAe),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(s=>this._onStateChanged(s))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const s=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),s&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!JO.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e=e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=wb(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}async _start(e,t){if(this.disposeModel(),!this._editor.hasModel())return;const i={...t,isRevealed:!0};if(e.seedSearchStringFromSelection==="single"){const r=XD(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);r&&(this._state.isRegex?i.searchString=wb(r):i.searchString=r)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){const r=XD(this._editor,e.seedSearchStringFromSelection);r&&(i.searchString=r)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){const r=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;r&&(i.searchString=r)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){const r=this._editor.getSelections();r.some(o=>!o.isEmpty())&&(i.searchScope=r)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new ab(this._editor,this._state))}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(e){return this._model?(this._model.moveToMatch(e),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var e;return this._model?(e=this._editor.getModel())!=null&&e.isTooLargeForHeapOperation()?(this._notificationService.warn(G("too.large.for.replaceall","The file is too large to perform a replace all operation.")),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(e){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}},ZD=Lf,Lf.ID="editor.contrib.findController",Lf);so=ZD=xY([va(1,Ln),va(2,cp),va(3,lp),va(4,co),va(5,Ay)],so);let JD=class extends so{constructor(e,t,i,r,o,a,s,l,u){super(e,i,s,l,a,u),this._contextViewService=t,this._keybindingService=r,this._themeService=o,this._widget=null,this._findOptionsWidget=null}async _start(e,t){this._widget||this._createFindWidget();const i=this._editor.getSelection();let r=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":r=!0;break;case"never":r=!1;break;case"multiline":{r=!!i&&i.startLineNumber!==i.endLineNumber;break}}e.updateSearchScope=e.updateSearchScope||r,await super._start(e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new YD(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService)),this._findOptionsWidget=this._register(new KD(this._editor,this._state,this._keybindingService))}};JD=xY([va(1,p1),va(2,Ln),va(3,rr),va(4,ls),va(5,co),va(6,cp),va(7,lp),va(8,Ay)],JD);const BAe=I2(new L2({id:Zn.StartFindAction,label:G("startFindAction","Find"),alias:"Find",precondition:Ne.or(ve.focus,Ne.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:pt.MenubarEditMenu,group:"3_find",title:G({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));BAe.addImplementation(0,(n,e,t)=>{const i=so.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop}):!1});const $Ae={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class VAe extends Qe{constructor(){super({id:Zn.StartFindWithArgs,label:G("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:$Ae})}async run(e,t,i){const r=so.get(t);if(r){const o=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:i.replaceString!==void 0,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};await r.start({forceRevealReplace:!1,seedSearchStringFromSelection:r.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(i==null?void 0:i.findInSelection)||!1,loop:t.getOption(41).loop},o),r.setGlobalBufferTerm(r.getState().searchString)}}}class WAe extends Qe{constructor(){super({id:Zn.StartFindWithSelection,label:G("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(e,t){const i=so.get(t);i&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),i.setGlobalBufferTerm(i.getState().searchString))}}class EY extends Qe{async run(e,t){const i=so.get(t);i&&!this._run(i)&&(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))}}class zAe extends EY{constructor(){super({id:Zn.NextMatchFindAction,label:G("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:ve.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Ne.and(ve.focus,JO),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class UAe extends EY{constructor(){super({id:Zn.PreviousMatchFindAction,label:G("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:ve.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Ne.and(ve.focus,JO),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class KAe extends Qe{constructor(){super({id:Zn.GoToMatchFindAction,label:G("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:ec}),this._highlightDecorations=[]}run(e,t,i){const r=so.get(t);if(!r)return;const o=r.getState().matchesCount;if(o<1){e.get(co).notify({severity:KI.Warning,message:G("findMatchAction.noResults","No matches. Try searching for something else.")});return}const a=e.get(Py),s=new st,l=s.add(a.createInputBox());l.placeholder=G("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",o);const u=d=>{const f=parseInt(d);if(isNaN(f))return;const h=r.getState().matchesCount;if(f>0&&f<=h)return f-1;if(f<0&&f>=-h)return h+f},c=d=>{const f=u(d);if(typeof f=="number"){l.validationMessage=void 0,r.goToMatch(f);const h=r.getState().currentMatch;h&&this.addDecorations(t,h)}else l.validationMessage=G("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",r.getState().matchesCount),this.clearDecorations(t)};s.add(l.onDidChangeValue(d=>{c(d)})),s.add(l.onDidAccept(()=>{const d=u(l.value);typeof d=="number"?(r.goToMatch(d),l.hide()):l.validationMessage=G("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",r.getState().matchesCount)})),s.add(l.onDidHide(()=>{this.clearDecorations(t),s.dispose()})),l.show()}clearDecorations(e){e.changeDecorations(t=>{this._highlightDecorations=t.deltaDecorations(this._highlightDecorations,[])})}addDecorations(e,t){e.changeDecorations(i=>{this._highlightDecorations=i.deltaDecorations(this._highlightDecorations,[{range:t,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:Zi(uQ),position:gu.Full}}}])})}}class PY extends Qe{async run(e,t){const i=so.get(t);if(!i)return;const r=XD(t,"single",!1);r&&i.setSearchString(r),this._run(i)||(await i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(41).loop}),this._run(i))}}class qAe extends PY{constructor(){super({id:Zn.NextSelectionMatchFindAction,label:G("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:ve.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class GAe extends PY{constructor(){super({id:Zn.PreviousSelectionMatchFindAction,label:G("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:ve.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const YAe=I2(new L2({id:Zn.StartFindReplaceAction,label:G("startReplace","Replace"),alias:"Replace",precondition:Ne.or(ve.focus,Ne.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:pt.MenubarEditMenu,group:"3_find",title:G({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));YAe.addImplementation(0,(n,e,t)=>{if(!e.hasModel()||e.getOption(92))return!1;const i=so.get(e);if(!i)return!1;const r=e.getSelection(),o=i.isFindInputFocused(),a=!r.isEmpty()&&r.startLineNumber===r.endLineNumber&&e.getOption(41).seedSearchStringFromSelection!=="never"&&!o,s=o||a?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:a?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:s,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(41).loop})});gn(so.ID,JD,0);Le(VAe);Le(WAe);Le(zAe);Le(UAe);Le(KAe);Le(qAe);Le(GAe);const Vs=uo.bindToContribution(so.get);Et(new Vs({id:Zn.CloseFindWidgetCommand,precondition:ec,handler:n=>n.closeFindWidget(),kbOpts:{weight:105,kbExpr:Ne.and(ve.focus,Ne.not("isComposing")),primary:9,secondary:[1033]}}));Et(new Vs({id:Zn.ToggleCaseSensitiveCommand,precondition:void 0,handler:n=>n.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:ve.focus,primary:Ow.primary,mac:Ow.mac,win:Ow.win,linux:Ow.linux}}));Et(new Vs({id:Zn.ToggleWholeWordCommand,precondition:void 0,handler:n=>n.toggleWholeWords(),kbOpts:{weight:105,kbExpr:ve.focus,primary:xw.primary,mac:xw.mac,win:xw.win,linux:xw.linux}}));Et(new Vs({id:Zn.ToggleRegexCommand,precondition:void 0,handler:n=>n.toggleRegex(),kbOpts:{weight:105,kbExpr:ve.focus,primary:Ew.primary,mac:Ew.mac,win:Ew.win,linux:Ew.linux}}));Et(new Vs({id:Zn.ToggleSearchScopeCommand,precondition:void 0,handler:n=>n.toggleSearchScope(),kbOpts:{weight:105,kbExpr:ve.focus,primary:Pw.primary,mac:Pw.mac,win:Pw.win,linux:Pw.linux}}));Et(new Vs({id:Zn.TogglePreserveCaseCommand,precondition:void 0,handler:n=>n.togglePreserveCase(),kbOpts:{weight:105,kbExpr:ve.focus,primary:kw.primary,mac:kw.mac,win:kw.win,linux:kw.linux}}));Et(new Vs({id:Zn.ReplaceOneAction,precondition:ec,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:ve.focus,primary:3094}}));Et(new Vs({id:Zn.ReplaceOneAction,precondition:ec,handler:n=>n.replace(),kbOpts:{weight:105,kbExpr:Ne.and(ve.focus,vA),primary:3}}));Et(new Vs({id:Zn.ReplaceAllAction,precondition:ec,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:ve.focus,primary:2563}}));Et(new Vs({id:Zn.ReplaceAllAction,precondition:ec,handler:n=>n.replaceAll(),kbOpts:{weight:105,kbExpr:Ne.and(ve.focus,vA),primary:void 0,mac:{primary:2051}}}));Et(new Vs({id:Zn.SelectAllMatchesAction,precondition:ec,handler:n=>n.selectAllMatches(),kbOpts:{weight:105,kbExpr:ve.focus,primary:515}}));const ZAe={0:" ",1:"u",2:"r"},u3=65535,Ss=16777215,c3=4278190080;class ZE{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,i=e%32;return(this._states[t]&1<<i)!==0}set(e,t){const i=e/32|0,r=e%32,o=this._states[i];t?this._states[i]=o|1<<r:this._states[i]=o&~(1<<r)}}class Bo{constructor(e,t,i){if(e.length!==t.length||e.length>u3)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new ZE(e.length),this._userDefinedStates=new ZE(e.length),this._recoveredStates=new ZE(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(i,r)=>{const o=e[e.length-1];return this.getStartLineNumber(o)<=i&&this.getEndLineNumber(o)>=r};for(let i=0,r=this._startIndexes.length;i<r;i++){const o=this._startIndexes[i],a=this._endIndexes[i];if(o>Ss||a>Ss)throw new Error("startLineNumber or endLineNumber must not exceed "+Ss);for(;e.length>0&&!t(o,a);)e.pop();const s=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=o+((s&255)<<24),this._endIndexes[i]=a+((s&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&Ss}getEndLineNumber(e){return this._endIndexes[e]&Ss}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){t===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let r=0;r<this._types.length;r++)this._types[r]===e&&(this.setCollapsed(r,t),i=!0);return i}toRegion(e){return new XAe(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&c3)>>>24)+((this._endIndexes[e]&c3)>>>16);return t===u3?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(i===0)return-1;for(;t<i;){const r=Math.floor((t+i)/2);e<this.getStartLineNumber(r)?i=r:t=r+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${ZAe[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&Ss,endLineNumber:this._endIndexes[e]&Ss,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,i=new Uint32Array(t),r=new Uint32Array(t);let o=[],a=!1;for(let l=0;l<t;l++){const u=e[l];i[l]=u.startLineNumber,r[l]=u.endLineNumber,o.push(u.type),u.type&&(a=!0)}a||(o=void 0);const s=new Bo(i,r,o);for(let l=0;l<t;l++)e[l].isCollapsed&&s.setCollapsed(l,!0),s.setSource(l,e[l].source);return s}static sanitizeAndMerge(e,t,i,r){i=i??Number.MAX_VALUE;const o=(p,m)=>Array.isArray(p)?b=>b<m?p[b]:void 0:b=>b<m?p.toFoldRange(b):void 0,a=o(e,e.length),s=o(t,t.length);let l=0,u=0,c=a(0),d=s(0);const f=[];let h,v=0;const g=[];for(;c||d;){let p;if(d&&(!c||c.startLineNumber>=d.startLineNumber))c&&c.startLineNumber===d.startLineNumber?(d.source===1?p=d:(p=c,p.isCollapsed=d.isCollapsed&&(c.endLineNumber===d.endLineNumber||!(r!=null&&r.startsInside(c.startLineNumber+1,c.endLineNumber+1))),p.source=0),c=a(++l)):(p=d,d.isCollapsed&&d.source===0&&(p.source=2)),d=s(++u);else{let m=u,b=d;for(;;){if(!b||b.startLineNumber>c.endLineNumber){p=c;break}if(b.source===1&&b.endLineNumber>c.endLineNumber)break;b=s(++m)}c=a(++l)}if(p){for(;h&&h.endLineNumber<p.startLineNumber;)h=f.pop();p.endLineNumber>p.startLineNumber&&p.startLineNumber>v&&p.endLineNumber<=i&&(!h||h.endLineNumber>=p.endLineNumber)&&(g.push(p),v=p.startLineNumber,h&&f.push(h),h=p)}}return g}}class XAe{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class JAe{get regions(){return this._regions}get textModel(){return this._textModel}constructor(e,t){this._updateEventEmitter=new on,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Bo(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(e){if(!e.length)return;e=e.sort((i,r)=>i.regionIndex-r.regionIndex);const t={};this._decorationProvider.changeDecorations(i=>{let r=0,o=-1,a=-1;const s=l=>{for(;r<l;){const u=this._regions.getEndLineNumber(r),c=this._regions.isCollapsed(r);if(u<=o){const d=this.regions.getSource(r)!==0;i.changeDecorationOptions(this._editorDecorationIds[r],this._decorationProvider.getDecorationOption(c,u<=a,d))}c&&u>a&&(a=u),r++}};for(const l of e){const u=l.regionIndex,c=this._editorDecorationIds[u];if(c&&!t[c]){t[c]=!0,s(u);const d=!this._regions.isCollapsed(u);this._regions.setCollapsed(u,d),o=Math.max(o,this._regions.getEndLineNumber(u))}}s(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,i=r=>{for(const o of e)if(!(o.startLineNumber>r.endLineNumber||r.startLineNumber>o.endLineNumber))return!0;return!1};for(let r=0;r<this._regions.length;r++){const o=this._regions.toFoldRange(r);(o.source===0||!i(o))&&t.push(o)}this.updatePost(Bo.fromFoldRanges(t))}update(e,t){const i=this._currentFoldedOrManualRanges(t),r=Bo.sanitizeAndMerge(e,i,this._textModel.getLineCount(),t);this.updatePost(Bo.fromFoldRanges(r))}updatePost(e){const t=[];let i=-1;for(let r=0,o=e.length;r<o;r++){const a=e.getStartLineNumber(r),s=e.getEndLineNumber(r),l=e.isCollapsed(r),u=e.getSource(r)!==0,c={startLineNumber:a,startColumn:this._textModel.getLineMaxColumn(a),endLineNumber:s,endColumn:this._textModel.getLineMaxColumn(s)+1};t.push({range:c,options:this._decorationProvider.getDecorationOption(l,s<=i,u)}),l&&s>i&&(i=s)}this._decorationProvider.changeDecorations(r=>this._editorDecorationIds=r.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e){const t=[];for(let i=0,r=this._regions.length;i<r;i++){let o=this.regions.isCollapsed(i);const a=this.regions.getSource(i);if(o||a!==0){const s=this._regions.toFoldRange(i),l=this._textModel.getDecorationRange(this._editorDecorationIds[i]);l&&(o&&(e!=null&&e.startsInside(l.startLineNumber+1,l.endLineNumber))&&(o=!1),t.push({startLineNumber:l.startLineNumber,endLineNumber:l.endLineNumber,type:s.type,isCollapsed:o,source:a}))}}return t}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[],i=this._textModel.getLineCount();for(let r=0,o=e.length;r<o;r++){const a=e[r];if(a.startLineNumber>=a.endLineNumber||a.startLineNumber<1||a.endLineNumber>i)continue;const s=this._getLinesChecksum(a.startLineNumber+1,a.endLineNumber);t.push({startLineNumber:a.startLineNumber,endLineNumber:a.endLineNumber,isCollapsed:a.isCollapsed,source:a.source,checksum:s})}return t.length>0?t:void 0}applyMemento(e){if(!Array.isArray(e))return;const t=[],i=this._textModel.getLineCount();for(const o of e){if(o.startLineNumber>=o.endLineNumber||o.startLineNumber<1||o.endLineNumber>i)continue;const a=this._getLinesChecksum(o.startLineNumber+1,o.endLineNumber);(!o.checksum||a===o.checksum)&&t.push({startLineNumber:o.startLineNumber,endLineNumber:o.endLineNumber,type:void 0,isCollapsed:o.isCollapsed??!0,source:o.source??0})}const r=Bo.sanitizeAndMerge(this._regions,t,i);this.updatePost(Bo.fromFoldRanges(r))}_getLinesChecksum(e,t){return M2(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const i=[];if(this._regions){let r=this._regions.findRange(e),o=1;for(;r>=0;){const a=this._regions.toRegion(r);(!t||t(a,o))&&i.push(a),o++,r=a.parentIndex}}return i}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const i=[],r=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const a=[];for(let s=r,l=this._regions.length;s<l;s++){const u=this._regions.toRegion(s);if(this._regions.getStartLineNumber(s)<o){for(;a.length>0&&!u.containedBy(a[a.length-1]);)a.pop();a.push(u),t(u,a.length)&&i.push(u)}else break}}else for(let a=r,s=this._regions.length;a<s;a++){const l=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<o)(!t||t(l))&&i.push(l);else break}return i}}function mA(n,e,t){const i=[];for(const r of t){const o=n.getRegionAtLine(r);if(o){const a=!o.isCollapsed;if(i.push(o),e>1){const s=n.getRegionsInside(o,(l,u)=>l.isCollapsed!==a&&u<e);i.push(...s)}}}n.toggleCollapseState(i)}function Fp(n,e,t=Number.MAX_VALUE,i){const r=[];if(i&&i.length>0)for(const o of i){const a=n.getRegionAtLine(o);if(a&&(a.isCollapsed!==e&&r.push(a),t>1)){const s=n.getRegionsInside(a,(l,u)=>l.isCollapsed!==e&&u<t);r.push(...s)}}else{const o=n.getRegionsInside(null,(a,s)=>a.isCollapsed!==e&&s<t);r.push(...o)}n.toggleCollapseState(r)}function kY(n,e,t,i){const r=[];for(const o of i){const a=n.getAllRegionsAtLine(o,(s,l)=>s.isCollapsed!==e&&l<=t);r.push(...a)}n.toggleCollapseState(r)}function QAe(n,e,t){const i=[];for(const r of t){const o=n.getAllRegionsAtLine(r,a=>a.isCollapsed!==e);o.length>0&&i.push(o[0])}n.toggleCollapseState(i)}function eRe(n,e,t,i){const r=(a,s)=>s===e&&a.isCollapsed!==t&&!i.some(l=>a.containsLine(l)),o=n.getRegionsInside(null,r);n.toggleCollapseState(o)}function DY(n,e,t){const i=[];for(const a of t){const s=n.getAllRegionsAtLine(a,void 0);s.length>0&&i.push(s[0])}const r=a=>i.every(s=>!s.containedBy(a)&&!a.containedBy(s))&&a.isCollapsed!==e,o=n.getRegionsInside(null,r);n.toggleCollapseState(o)}function bA(n,e,t){const i=n.textModel,r=n.regions,o=[];for(let a=r.length-1;a>=0;a--)if(t!==r.isCollapsed(a)){const s=r.getStartLineNumber(a);e.test(i.getLineContent(s))&&o.push(r.toRegion(a))}n.toggleCollapseState(o)}function yA(n,e,t){const i=n.regions,r=[];for(let o=i.length-1;o>=0;o--)t!==i.isCollapsed(o)&&e===i.getType(o)&&r.push(i.toRegion(o));n.toggleCollapseState(r)}function tRe(n,e){let t=null;const i=e.getRegionAtLine(n);if(i!==null&&(t=i.startLineNumber,n===t)){const r=i.parentIndex;r!==-1?t=e.regions.getStartLineNumber(r):t=null}return t}function nRe(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){if(n!==t.startLineNumber)return t.startLineNumber;{const i=t.parentIndex;let r=0;for(i!==-1&&(r=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=r)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<n)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function iRe(n,e){let t=e.getRegionAtLine(n);if(t!==null&&t.startLineNumber===n){const i=t.parentIndex;let r=0;if(i!==-1)r=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;r=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=r)return null;if(t.parentIndex===i)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>n)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}class rRe{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(e){this._updateEventEmitter=new on,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||cQ(t.text)[0]!==0))}updateHiddenRanges(){let e=!1;const t=[];let i=0,r=0,o=Number.MAX_VALUE,a=-1;const s=this._foldingModel.regions;for(;i<s.length;i++){if(!s.isCollapsed(i))continue;const l=s.getStartLineNumber(i)+1,u=s.getEndLineNumber(i);o<=l&&u<=a||(!e&&r<this._hiddenRanges.length&&this._hiddenRanges[r].startLineNumber===l&&this._hiddenRanges[r].endLineNumber===u?(t.push(this._hiddenRanges[r]),r++):(e=!0,t.push(new be(l,1,u,1))),o=l,a=u)}(this._hasLineChanges||e||r<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return d3(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1;const i=this._foldingModel.textModel;let r=null;const o=a=>((!r||!oRe(a,r))&&(r=d3(this._hiddenRanges,a)),r?r.startLineNumber-1:null);for(let a=0,s=e.length;a<s;a++){let l=e[a];const u=o(l.startLineNumber);u&&(l=l.setStartPosition(u,i.getLineMaxColumn(u)),t=!0);const c=o(l.endLineNumber);c&&(l=l.setEndPosition(c,i.getLineMaxColumn(c)),t=!0),e[a]=l}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function oRe(n,e){return n>=e.startLineNumber&&n<=e.endLineNumber}function d3(n,e){const t=O2(n,i=>e<i.startLineNumber)-1;return t>=0&&n[t].endLineNumber>=e?n[t]:null}const aRe=5e3,sRe="indent";class _A{constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id=sRe}dispose(){}compute(e){const t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,r=t&&t.markers;return Promise.resolve(cRe(this.editorModel,i,r,this.foldingRangesLimit))}}let lRe=class{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>Ss||t>Ss)return;const r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),r=new Uint32Array(this._length);for(let o=this._length-1,a=0;o>=0;o--,a++)i[a]=this._startIndexes[o],r[a]=this._endIndexes[o];return new Bo(i,r)}else{this._foldingRangesLimit.update(this._length,t);let i=0,r=this._indentOccurrences.length;for(let l=0;l<this._indentOccurrences.length;l++){const u=this._indentOccurrences[l];if(u){if(u+i>t){r=l;break}i+=u}}const o=e.getOptions().tabSize,a=new Uint32Array(t),s=new Uint32Array(t);for(let l=this._length-1,u=0;l>=0;l--){const c=this._startIndexes[l],d=e.getLineContent(c),f=AI(d,o);(f<r||f===r&&i++<t)&&(a[u]=c,s[u]=this._endIndexes[l],u++)}return new Bo(a,s)}}};const uRe={limit:aRe,update:()=>{}};function cRe(n,e,t,i=uRe){const r=n.getOptions().tabSize,o=new lRe(i);let a;t&&(a=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const s=[],l=n.getLineCount()+1;s.push({indent:-1,endAbove:l,line:l});for(let u=n.getLineCount();u>0;u--){const c=n.getLineContent(u),d=AI(c,r);let f=s[s.length-1];if(d===-1){e&&(f.endAbove=u);continue}let h;if(a&&(h=c.match(a)))if(h[1]){let v=s.length-1;for(;v>0&&s[v].indent!==-2;)v--;if(v>0){s.length=v+1,f=s[v],o.insertFirst(u,f.line,d),f.line=u,f.indent=d,f.endAbove=u;continue}}else{s.push({indent:-2,endAbove:u,line:u});continue}if(f.indent>d){do s.pop(),f=s[s.length-1];while(f.indent>d);const v=f.endAbove-1;v-u>=1&&o.insertFirst(u,v,d)}f.indent===d?f.endAbove=u:s.push({indent:d,endAbove:u,line:u})}return o.toIndentRanges(n)}const dRe=_t("editor.foldBackground",{light:pl(bR,.3),dark:pl(bR,.3),hcDark:null,hcLight:null},G("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);_t("editor.foldPlaceholderForeground",{light:"#808080",dark:"#808080",hcDark:null,hcLight:null},G("collapsedTextColor","Color of the collapsed text after the first line of a folded range."));_t("editorGutter.foldingControlForeground",dQ,G("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const X0=Ti("folding-expanded",Kt.chevronDown,G("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),J0=Ti("folding-collapsed",Kt.chevronRight,G("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),f3=Ti("folding-manual-collapsed",J0,G("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),h3=Ti("folding-manual-expanded",X0,G("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),XE={color:Zi(dRe),position:1},gv=G("linesCollapsed","Click to expand the range."),Iw=G("linesExpanded","Click to collapse the range."),Ai=class Ai{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t?Ai.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?e?this.showFoldingHighlights?Ai.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:Ai.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:Ai.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?i?this.showFoldingHighlights?Ai.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Ai.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?Ai.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:Ai.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?i?Ai.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Ai.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?Ai.MANUALLY_EXPANDED_VISUAL_DECORATION:Ai.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}};Ai.COLLAPSED_VISUAL_DECORATION=mn.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:gv,firstLineDecorationClassName:Hn.asClassName(J0)}),Ai.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=mn.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:XE,isWholeLine:!0,linesDecorationsTooltip:gv,firstLineDecorationClassName:Hn.asClassName(J0)}),Ai.MANUALLY_COLLAPSED_VISUAL_DECORATION=mn.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:gv,firstLineDecorationClassName:Hn.asClassName(f3)}),Ai.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=mn.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:XE,isWholeLine:!0,linesDecorationsTooltip:gv,firstLineDecorationClassName:Hn.asClassName(f3)}),Ai.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=mn.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:gv}),Ai.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=mn.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:XE,isWholeLine:!0,linesDecorationsTooltip:gv}),Ai.EXPANDED_VISUAL_DECORATION=mn.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Hn.asClassName(X0),linesDecorationsTooltip:Iw}),Ai.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=mn.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Hn.asClassName(X0),linesDecorationsTooltip:Iw}),Ai.MANUALLY_EXPANDED_VISUAL_DECORATION=mn.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Hn.asClassName(h3),linesDecorationsTooltip:Iw}),Ai.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=mn.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Hn.asClassName(h3),linesDecorationsTooltip:Iw}),Ai.NO_CONTROLS_EXPANDED_RANGE_DECORATION=mn.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),Ai.HIDDEN_RANGE_DECORATION=mn.register({description:"folding-hidden-range-decoration",stickiness:1});let QD=Ai;const fRe={},hRe="syntax";class wA{constructor(e,t,i,r,o){this.editorModel=e,this.providers=t,this.handleFoldingRangesChange=i,this.foldingRangesLimit=r,this.fallbackRangeProvider=o,this.id=hRe,this.disposables=new st,o&&this.disposables.add(o);for(const a of t)typeof a.onDidChange=="function"&&this.disposables.add(a.onDidChange(i))}compute(e){return vRe(this.providers,this.editorModel,e).then(t=>{var i;return t?pRe(t,this.foldingRangesLimit):((i=this.fallbackRangeProvider)==null?void 0:i.compute(e))??null})}dispose(){this.disposables.dispose()}}function vRe(n,e,t){let i=null;const r=n.map((o,a)=>Promise.resolve(o.provideFoldingRanges(e,fRe,t)).then(s=>{if(!t.isCancellationRequested&&Array.isArray(s)){Array.isArray(i)||(i=[]);const l=e.getLineCount();for(const u of s)u.start>0&&u.end>u.start&&u.end<=l&&i.push({start:u.start,end:u.end,rank:a,kind:u.kind})}},Fi));return Promise.all(r).then(o=>i)}class gRe{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,r){if(e>Ss||t>Ss)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=r,this._types[o]=i,this._length++,r<30&&(this._nestingLevelCounts[r]=(this._nestingLevelCounts[r]||0)+1)}toIndentRanges(){const e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);const t=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let r=0;r<this._length;r++)t[r]=this._startIndexes[r],i[r]=this._endIndexes[r];return new Bo(t,i,this._types)}else{this._foldingRangesLimit.update(this._length,e);let t=0,i=this._nestingLevelCounts.length;for(let s=0;s<this._nestingLevelCounts.length;s++){const l=this._nestingLevelCounts[s];if(l){if(l+t>e){i=s;break}t+=l}}const r=new Uint32Array(e),o=new Uint32Array(e),a=[];for(let s=0,l=0;s<this._length;s++){const u=this._nestingLevels[s];(u<i||u===i&&t++<e)&&(r[l]=this._startIndexes[s],o[l]=this._endIndexes[s],a[l]=this._types[s],l++)}return new Bo(r,o,a)}}}function pRe(n,e){const t=n.sort((a,s)=>{let l=a.start-s.start;return l===0&&(l=a.rank-s.rank),l}),i=new gRe(e);let r;const o=[];for(const a of t)if(!r)r=a,i.add(a.start,a.end,a.kind&&a.kind.value,o.length);else if(a.start>r.start)if(a.end<=r.end)o.push(r),r=a,i.add(a.start,a.end,a.kind&&a.kind.value,o.length);else{if(a.start>r.end){do r=o.pop();while(r&&a.start>r.end);r&&o.push(r),r=a}i.add(a.start,a.end,a.kind&&a.kind.value,o.length)}return i.toIndentRanges()}var mRe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dm=function(n,e){return function(t,i){e(t,i,n)}},Gd;const _r=new yn("foldingEnabled",!1);var Mf;let fd=(Mf=class extends dt{static get(e){return e.getContribution(Gd.ID)}static getFoldingRangeProviders(e,t){var r;const i=e.foldingRangeProvider.ordered(t);return((r=Gd._foldingRangeSelector)==null?void 0:r.call(Gd,i,t))??i}constructor(e,t,i,r,o,a){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=a,this.localToDispose=this._register(new st),this.editor=e,this._foldingLimitReporter=new TY(e);const s=this.editor.getOptions();this._isEnabled=s.get(43),this._useFoldingProviders=s.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=s.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=s.get(46),this.updateDebounceInfo=o.for(a.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new QD(e),this.foldingDecorationProvider.showFoldingControls=s.get(111),this.foldingDecorationProvider.showFoldingHighlights=s.get(45),this.foldingEnabled=_r.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(l=>{if(l.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),l.hasChanged(47)&&this.onModelChanged(),l.hasChanged(111)||l.hasChanged(45)){const u=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=u.get(111),this.foldingDecorationProvider.showFoldingHighlights=u.get(45),this.triggerFoldingModelChanged()}l.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),l.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),l.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new JAe(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new rRe(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new id(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new Xi(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{var t,i;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(t=this.updateScheduler)==null||t.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(i=this.rangeProvider)==null||i.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var e;(e=this.rangeProvider)==null||e.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;const t=new _A(e,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=t,this._useFoldingProviders&&this.foldingModel){const i=Gd.getFoldingRangeProviders(this.languageFeaturesService,e);i.length>0&&(this.rangeProvider=new wA(e,i,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,t))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)==null||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new ko,i=this.getRangeProvider(e.textModel),r=this.foldingRegionPromise=cr(o=>i.compute(o));return r.then(o=>{if(o&&r===this.foldingRegionPromise){let a;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const u=o.setCollapsedAllOfType(jy.Imports.value,!0);u&&(a=wg.capture(this.editor),this._currentModelHasFoldedImports=u)}const s=this.editor.getSelections();e.update(o,bRe(s)),a==null||a.restore(this.editor);const l=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=l)}return e})}).then(void 0,e=>(Jn(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then(t=>{if(t){const i=this.editor.getSelections();if(i&&i.length>0){const r=[];for(const o of i){const a=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(a)&&r.push(...t.getAllRegionsAtLine(a,s=>s.isCollapsed&&a>s.startLineNumber))}r.length&&(t.toggleCollapseState(r),this.reveal(i[0].getPosition()))}}}).then(void 0,Jn)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:{const r=e.target.detail,o=e.target.element.offsetLeft;if(r.offsetX-o<4)return;i=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const r=this.editor.getModel();if(r&&t.startColumn===r.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const i=this.mouseDownInfo.lineNumber,r=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==i)return;if(r){if(e.target.type!==4)return}else{const s=this.editor.getModel();if(!s||o.startColumn!==s.getLineMaxColumn(i))return}const a=t.getRegionAtLine(i);if(a&&a.startLineNumber===i){const s=a.isCollapsed;if(r||s){const l=e.event.altKey;let u=[];if(l){const c=f=>!f.containedBy(a)&&!a.containedBy(f),d=t.getRegionsInside(null,c);for(const f of d)f.isCollapsed&&u.push(f);u.length===0&&(u=d)}else{const c=e.event.middleButton||e.event.shiftKey;if(c)for(const d of t.getRegionsInside(a))d.isCollapsed===s&&u.push(d);(s||!c||u.length===0)&&u.push(a)}t.toggleCollapseState(u),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}},Gd=Mf,Mf.ID="editor.contrib.folding",Mf);fd=Gd=mRe([dm(1,Ln),dm(2,or),dm(3,co),dm(4,xa),dm(5,xt)],fd);class TY{constructor(e){this.editor=e,this._onDidChange=new on,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(e,t){(e!==this._computed||t!==this._limited)&&(this._computed=e,this._limited=t,this._onDidChange.fire())}}class Dr extends Qe{runEditorCommand(e,t,i){const r=e.get(or),o=fd.get(t);if(!o)return;const a=o.getFoldingModel();if(a)return this.reportTelemetry(e,t),a.then(s=>{if(s){this.invoke(o,s,t,i,r);const l=t.getSelection();l&&o.reveal(l.getStartPosition())}})}getSelectedLines(e){const t=e.getSelections();return t?t.map(i=>i.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(i=>i+1):this.getSelectedLines(t)}run(e,t){}}function bRe(n){return!n||n.length===0?{startsInside:()=>!1}:{startsInside(e,t){for(const i of n){const r=i.startLineNumber;if(r>=e&&r<=t)return!0}return!1}}}function IY(n){if(!gm(n)){if(!A2(n))return!1;const e=n;if(!gm(e.levels)&&!yR(e.levels)||!gm(e.direction)&&!o2(e.direction)||!gm(e.selectionLines)&&(!Array.isArray(e.selectionLines)||!e.selectionLines.every(yR)))return!1}return!0}class yRe extends Dr{constructor(){super({id:"editor.unfold",label:G("unfoldAction.label","Unfold"),alias:"Unfold",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:IY,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,r){const o=r&&r.levels||1,a=this.getLineNumbers(r,i);r&&r.direction==="up"?kY(t,!1,o,a):Fp(t,!1,o,a)}}class _Re extends Dr{constructor(){super({id:"editor.unfoldRecursively",label:G("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2142),weight:100}})}invoke(e,t,i,r){Fp(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}class wRe extends Dr{constructor(){super({id:"editor.fold",label:G("foldAction.label","Fold"),alias:"Fold",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:IY,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,r){const o=this.getLineNumbers(r,i),a=r&&r.levels,s=r&&r.direction;typeof a!="number"&&typeof s!="string"?QAe(t,!0,o):s==="up"?kY(t,!0,a||1,o):Fp(t,!0,a||1,o)}}class CRe extends Dr{constructor(){super({id:"editor.toggleFold",label:G("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2090),weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);mA(t,1,r)}}class SRe extends Dr{constructor(){super({id:"editor.foldRecursively",label:G("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2140),weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);Fp(t,!0,Number.MAX_VALUE,r)}}class ORe extends Dr{constructor(){super({id:"editor.toggleFoldRecursively",label:G("toggleFoldRecursivelyAction.label","Toggle Fold Recursively"),alias:"Toggle Fold Recursively",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,3114),weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);mA(t,Number.MAX_VALUE,r)}}class xRe extends Dr{constructor(){super({id:"editor.foldAllBlockComments",label:G("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2138),weight:100}})}invoke(e,t,i,r,o){if(t.regions.hasTypes())yA(t,jy.Comment.value,!0);else{const a=i.getModel();if(!a)return;const s=o.getLanguageConfiguration(a.getLanguageId()).comments;if(s&&s.blockCommentStartToken){const l=new RegExp("^\\s*"+wb(s.blockCommentStartToken));bA(t,l,!0)}}}}class ERe extends Dr{constructor(){super({id:"editor.foldAllMarkerRegions",label:G("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2077),weight:100}})}invoke(e,t,i,r,o){if(t.regions.hasTypes())yA(t,jy.Region.value,!0);else{const a=i.getModel();if(!a)return;const s=o.getLanguageConfiguration(a.getLanguageId()).foldingRules;if(s&&s.markers&&s.markers.start){const l=new RegExp(s.markers.start);bA(t,l,!0)}}}}class PRe extends Dr{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:G("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2078),weight:100}})}invoke(e,t,i,r,o){if(t.regions.hasTypes())yA(t,jy.Region.value,!1);else{const a=i.getModel();if(!a)return;const s=o.getLanguageConfiguration(a.getLanguageId()).foldingRules;if(s&&s.markers&&s.markers.start){const l=new RegExp(s.markers.start);bA(t,l,!1)}}}}class kRe extends Dr{constructor(){super({id:"editor.foldAllExcept",label:G("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2136),weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);DY(t,!0,r)}}class DRe extends Dr{constructor(){super({id:"editor.unfoldAllExcept",label:G("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2134),weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);DY(t,!1,r)}}class TRe extends Dr{constructor(){super({id:"editor.foldAll",label:G("foldAllAction.label","Fold All"),alias:"Fold All",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2069),weight:100}})}invoke(e,t,i){Fp(t,!0)}}class IRe extends Dr{constructor(){super({id:"editor.unfoldAll",label:G("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2088),weight:100}})}invoke(e,t,i){Fp(t,!1)}}const Kv=class Kv extends Dr{getFoldingLevel(){return parseInt(this.id.substr(Kv.ID_PREFIX.length))}invoke(e,t,i){eRe(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}};Kv.ID_PREFIX="editor.foldLevel",Kv.ID=e=>Kv.ID_PREFIX+e;let Q0=Kv;class LRe extends Dr{constructor(){super({id:"editor.gotoParentFold",label:G("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);if(r.length>0){const o=tRe(r[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class MRe extends Dr{constructor(){super({id:"editor.gotoPreviousFold",label:G("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);if(r.length>0){const o=nRe(r[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class ARe extends Dr{constructor(){super({id:"editor.gotoNextFold",label:G("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,weight:100}})}invoke(e,t,i){const r=this.getSelectedLines(i);if(r.length>0){const o=iRe(r[0],t);o!==null&&i.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class RRe extends Dr{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:G("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2135),weight:100}})}invoke(e,t,i){var a;const r=[],o=i.getSelections();if(o){for(const s of o){let l=s.endLineNumber;s.endColumn===1&&--l,l>s.startLineNumber&&(r.push({startLineNumber:s.startLineNumber,endLineNumber:l,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:s.startLineNumber,startColumn:1,endLineNumber:s.startLineNumber,endColumn:1}))}if(r.length>0){r.sort((l,u)=>l.startLineNumber-u.startLineNumber);const s=Bo.sanitizeAndMerge(t.regions,r,(a=i.getModel())==null?void 0:a.getLineCount());t.updatePost(Bo.fromFoldRanges(s))}}}}class NRe extends Dr{constructor(){super({id:"editor.removeManualFoldingRanges",label:G("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2137),weight:100}})}invoke(e,t,i){const r=i.getSelections();if(r){const o=[];for(const a of r){const{startLineNumber:s,endLineNumber:l}=a;o.push(l>=s?{startLineNumber:s,endLineNumber:l}:{endLineNumber:l,startLineNumber:s})}t.removeManualRanges(o),e.triggerFoldingModelChanged()}}}gn(fd.ID,fd,0);Le(yRe);Le(_Re);Le(wRe);Le(SRe);Le(ORe);Le(TRe);Le(IRe);Le(xRe);Le(ERe);Le(PRe);Le(kRe);Le(DRe);Le(CRe);Le(LRe);Le(MRe);Le(ARe);Le(RRe);Le(NRe);for(let n=1;n<=7;n++)fQ(new Q0({id:Q0.ID(n),label:G("foldLevelAction.label","Fold Level {0}",n),alias:`Fold Level ${n}`,precondition:_r,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2048|21+n),weight:100}}));ii.registerCommand("_executeFoldingRangeProvider",async function(n,...e){const[t]=e;if(!(t instanceof Kn))throw mu();const i=n.get(xt),r=n.get(Yr).getModel(t);if(!r)throw mu();const o=n.get(vi);if(!o.getValue("editor.folding",{resource:t}))return[];const a=n.get(or),s=o.getValue("editor.foldingStrategy",{resource:t}),l={get limit(){return o.getValue("editor.foldingMaximumRegions",{resource:t})},update:(h,v)=>{}},u=new _A(r,a,l);let c=u;if(s!=="indentation"){const h=fd.getFoldingRangeProviders(i,r);h.length&&(c=new wA(r,h,()=>{},l,u))}const d=await c.compute(an.None),f=[];try{if(d)for(let h=0;h<d.length;h++){const v=d.getType(h);f.push({start:d.getStartLineNumber(h),end:d.getEndLineNumber(h),kind:v?jy.fromValue(v):void 0})}return f}finally{c.dispose()}});class FRe extends Qe{constructor(){super({id:"editor.action.fontZoomIn",label:G("EditorFontZoomIn.label","Increase Editor Font Size"),alias:"Increase Editor Font Size",precondition:void 0})}run(e,t){Pb.setZoomLevel(Pb.getZoomLevel()+1)}}class jRe extends Qe{constructor(){super({id:"editor.action.fontZoomOut",label:G("EditorFontZoomOut.label","Decrease Editor Font Size"),alias:"Decrease Editor Font Size",precondition:void 0})}run(e,t){Pb.setZoomLevel(Pb.getZoomLevel()-1)}}class HRe extends Qe{constructor(){super({id:"editor.action.fontZoomReset",label:G("EditorFontZoomReset.label","Reset Editor Font Size"),alias:"Reset Editor Font Size",precondition:void 0})}run(e,t){Pb.setZoomLevel(0)}}Le(FRe);Le(jRe);Le(HRe);var LY=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sb=function(n,e){return function(t,i){e(t,i,n)}},cg;let eS=(cg=class{constructor(e,t,i,r){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._accessibilitySignalService=r,this._disposables=new st,this._sessionDisposables=new st,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(o=>{o.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const i=new RC;for(const r of t.autoFormatTriggerCharacters)i.add(r.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(r=>{const o=r.charCodeAt(r.length-1);i.has(o)&&this._trigger(String.fromCharCode(o))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition(),r=new Er,o=this._editor.onDidChangeModelContent(a=>{if(a.isFlush){r.cancel(),o.dispose();return}for(let s=0,l=a.changes.length;s<l;s++)if(a.changes[s].range.endLineNumber<=i.lineNumber){r.cancel(),o.dispose();return}});hQ(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),r.token).then(a=>{r.token.isCancellationRequested||Wo(a)&&(this._accessibilitySignalService.playSignal(F2.format,{userGesture:!1}),vQ.execute(this._editor,a,!0))}).finally(()=>{o.dispose()})}},cg.ID="editor.contrib.autoFormat",cg);eS=LY([sb(1,xt),sb(2,Vu),sb(3,R2)],eS);var dg;let tS=(dg=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new st,this._callOnModel=new st,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e)))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(N2,this.editor,e,2,cu.None,an.None,!1).catch(Jn))}},dg.ID="editor.contrib.formatOnPaste",dg);tS=LY([sb(1,xt),sb(2,ln)],tS);class BRe extends Qe{constructor(){super({id:"editor.action.formatDocument",label:G("formatDocument.label","Format Document"),alias:"Format Document",precondition:Ne.and(ve.notInCompositeEditor,ve.writable,ve.hasDocumentFormattingProvider),kbOpts:{kbExpr:ve.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(e,t){if(t.hasModel()){const i=e.get(ln);await e.get(Dy).showWhile(i.invokeFunction(gQ,t,1,cu.None,an.None,!0),250)}}}class $Re extends Qe{constructor(){super({id:"editor.action.formatSelection",label:G("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Ne.and(ve.writable,ve.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2084),weight:100},contextMenuOpts:{when:ve.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(e,t){if(!t.hasModel())return;const i=e.get(ln),r=t.getModel(),o=t.getSelections().map(s=>s.isEmpty()?new be(s.startLineNumber,1,s.startLineNumber,r.getLineMaxColumn(s.startLineNumber)):s);await e.get(Dy).showWhile(i.invokeFunction(N2,t,o,1,cu.None,an.None,!0),250)}}gn(eS.ID,eS,2);gn(tS.ID,tS,2);Le(BRe);Le($Re);ii.registerCommand("editor.action.format",async n=>{const e=n.get(ir).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=n.get(yr);e.getSelection().isEmpty()?await t.executeCommand("editor.action.formatDocument"):await t.executeCommand("editor.action.formatSelection")});var VRe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},JE=function(n,e){return function(t,i){e(t,i,n)}};class Vv{remove(){var e;(e=this.parent)==null||e.children.delete(this.id)}static findId(e,t){let i;typeof e=="string"?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,t.children.get(i)!==void 0&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let r=i;for(let o=0;t.children.get(r)!==void 0;o++)r=`${i}_${o}`;return r}static empty(e){return e.children.size===0}}class eT extends Vv{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class MY extends Vv{constructor(e,t,i,r){super(),this.id=e,this.parent=t,this.label=i,this.order=r,this.children=new Map}}class au extends Vv{static create(e,t,i){const r=new Er(i),o=new au(t.uri),a=e.ordered(t),s=a.map((u,c)=>{const d=Vv.findId(`provider_${c}`,o),f=new MY(d,o,u.displayName??"Unknown Outline Provider",c);return Promise.resolve(u.provideDocumentSymbols(t,r.token)).then(h=>{for(const v of h||[])au._makeOutlineElement(v,f);return f},h=>(Fi(h),f)).then(h=>{Vv.empty(h)?h.remove():o._groups.set(d,h)})}),l=e.onDidChange(()=>{const u=e.ordered(t);Sl(u,a)||r.cancel()});return Promise.all(s).then(()=>r.token.isCancellationRequested&&!i.isCancellationRequested?au.create(e,t,i):o._compact()).finally(()=>{r.dispose(),l.dispose(),r.dispose()})}static _makeOutlineElement(e,t){const i=Vv.findId(e,t),r=new eT(i,t,e);if(e.children)for(const o of e.children)au._makeOutlineElement(o,r);t.children.set(r.id,r)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(const[t,i]of this._groups)i.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{const t=pu.first(this._groups.values());for(const[,i]of t.children)i.parent=this,this.children.set(i.id,i)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof eT?e.push(t.symbol):e.push(...pu.map(t.children.values(),i=>i.symbol));return e.sort((t,i)=>be.compareRangesUsingStarts(t.range,i.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return au._flattenDocumentSymbols(t,e,""),t.sort((i,r)=>Ot.compare(be.getStartPosition(i.range),be.getStartPosition(r.range))||Ot.compare(be.getEndPosition(r.range),be.getEndPosition(i.range)))}static _flattenDocumentSymbols(e,t,i){for(const r of t)e.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||i,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&au._flattenDocumentSymbols(e,r.children,r.name)}}const CA=Bu("IOutlineModelService");let tT=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new st,this._cache=new y1(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved(r=>{this._cache.delete(r.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(e,t){const i=this._languageFeaturesService.documentSymbolProvider,r=i.ordered(e);let o=this._cache.get(e.id);if(!o||o.versionId!==e.getVersionId()||!Sl(o.provider,r)){const s=new Er;o={versionId:e.getVersionId(),provider:r,promiseCnt:0,source:s,promise:au.create(i,e,s.token),model:void 0},this._cache.set(e.id,o);const l=Date.now();o.promise.then(u=>{o.model=u,this._debounceInformation.update(e,Date.now()-l)}).catch(u=>{this._cache.delete(e.id)})}if(o.model)return o.model;o.promiseCnt+=1;const a=t.onCancellationRequested(()=>{--o.promiseCnt===0&&(o.source.cancel(),this._cache.delete(e.id))});try{return await o.promise}finally{a.dispose()}}};tT=VRe([JE(0,xt),JE(1,xa),JE(2,Yr)],tT);$u(CA,tT,1);ii.registerCommand("_executeDocumentSymbolProvider",async function(n,...e){const[t]=e;In(Kn.isUri(t));const i=n.get(CA),o=await n.get(Rs).createModelReference(t);try{return(await i.getOrCreate(o.object.textEditorModel,an.None)).getTopLevelSymbols()}finally{o.dispose()}});const rl=class rl extends dt{constructor(e,t){super(),this.contextKeyService=e,this.model=t,this.inlineCompletionVisible=rl.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=rl.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=rl.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=rl.suppressSuggestions.bindTo(this.contextKeyService),this._register(fi(i=>{const r=this.model.read(i),o=r==null?void 0:r.state.read(i),a=!!(o!=null&&o.inlineCompletion)&&(o==null?void 0:o.primaryGhostText)!==void 0&&!(o!=null&&o.primaryGhostText.isEmpty());this.inlineCompletionVisible.set(a),o!=null&&o.primaryGhostText&&(o!=null&&o.inlineCompletion)&&this.suppressSuggestions.set(o.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register(fi(i=>{const r=this.model.read(i);let o=!1,a=!0;const s=r==null?void 0:r.primaryGhostText.read(i);if(r!=null&&r.selectedSuggestItem&&s&&s.parts.length>0){const{column:l,lines:u}=s.parts[0],c=u[0],d=r.textModel.getLineIndentColumn(s.lineNumber);if(l<=d){let h=bP(c);h===-1&&(h=c.length-1),o=h>0;const v=r.textModel.getOptions().tabSize;a=pQ.visibleColumnFromColumn(c,h+1,v)<v}}this.inlineCompletionSuggestsIndentation.set(o),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(a)}))}};rl.inlineSuggestionVisible=new yn("inlineSuggestionVisible",!1,G("inlineSuggestionVisible","Whether an inline suggestion is visible")),rl.inlineSuggestionHasIndentation=new yn("inlineSuggestionHasIndentation",!1,G("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),rl.inlineSuggestionHasIndentationLessThanTabSize=new yn("inlineSuggestionHasIndentationLessThanTabSize",!0,G("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),rl.suppressSuggestions=new yn("inlineSuggestionSuppressSuggestions",void 0,G("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"));let Po=rl;function WRe(n){const e=new st,t=e.add(j2());return e.add(fi(i=>{t.setStyle(n.read(i))})),e}class cy{constructor(e,t){this.lineNumber=e,this.parts=t}equals(e){return this.lineNumber===e.lineNumber&&this.parts.length===e.parts.length&&this.parts.every((t,i)=>t.equals(e.parts[i]))}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1);return new H2([...this.parts.map(o=>new Pu(be.fromPositions(new Ot(1,o.column)),o.lines.join(`
`)))]).applyToString(i).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(e=>e.lines.length===0)}get lineCount(){return 1+this.parts.reduce((e,t)=>e+t.lines.length-1,0)}}class nS{constructor(e,t,i){this.column=e,this.text=t,this.preview=i,this.lines=O1(this.text)}equals(e){return this.column===e.column&&this.lines.length===e.lines.length&&this.lines.every((t,i)=>t===e.lines[i])}}class nT{constructor(e,t,i,r=0){this.lineNumber=e,this.columnRange=t,this.text=i,this.additionalReservedLineCount=r,this.parts=[new nS(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=O1(this.text)}renderForScreenReader(e){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(e=>e.lines.length===0)}equals(e){return this.lineNumber===e.lineNumber&&this.columnRange.equals(e.columnRange)&&this.newLines.length===e.newLines.length&&this.newLines.every((t,i)=>t===e.newLines[i])&&this.additionalReservedLineCount===e.additionalReservedLineCount}}function v3(n,e){return Sl(n,e,AY)}function AY(n,e){return n===e?!0:!n||!e?!1:n instanceof cy&&e instanceof cy||n instanceof nT&&e instanceof nT?n.equals(e):!1}const zRe=[];function URe(){return zRe}class RY{constructor(e,t){if(this.startColumn=e,this.endColumnExclusive=t,e>t)throw new xg(`startColumn ${e} cannot be after endColumnExclusive ${t}`)}toRange(e){return new be(e,this.startColumn,e,this.endColumnExclusive)}equals(e){return this.startColumn===e.startColumn&&this.endColumnExclusive===e.endColumnExclusive}}function NY(n,e){const t=new st,i=n.createDecorationsCollection();return t.add(mQ({debugName:()=>`Apply decorations from ${e.debugName}`},r=>{const o=e.read(r);i.set(o)})),t.add({dispose:()=>{i.clear()}}),t}function KRe(n,e){return new Ot(n.lineNumber+e.lineNumber-1,e.lineNumber===1?n.column+e.column-1:e.column)}function g3(n,e){return new Ot(n.lineNumber-e.lineNumber+1,n.lineNumber-e.lineNumber===0?n.column-e.column+1:n.column)}var qRe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},GRe=function(n,e){return function(t,i){e(t,i,n)}};const p3="ghost-text";let iT=class extends dt{constructor(e,t,i){super(),this.editor=e,this.model=t,this.languageService=i,this.isDisposed=zo(this,!1),this.currentTextModel=_o(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=Bn(this,r=>{if(this.isDisposed.read(r))return;const o=this.currentTextModel.read(r);if(o!==this.model.targetTextModel.read(r))return;const a=this.model.ghostText.read(r);if(!a)return;const s=a instanceof nT?a.columnRange:void 0,l=[],u=[];function c(g,p){if(u.length>0){const m=u[u.length-1];p&&m.decorations.push(new kb(m.content.length+1,m.content.length+1+g[0].length,p,0)),m.content+=g[0],g=g.slice(1)}for(const m of g)u.push({content:m,decorations:p?[new kb(1,m.length+1,p,0)]:[]})}const d=o.getLineContent(a.lineNumber);let f,h=0;for(const g of a.parts){let p=g.lines;f===void 0?(l.push({column:g.column,text:p[0],preview:g.preview}),p=p.slice(1)):c([d.substring(h,g.column-1)],void 0),p.length>0&&(c(p,p3),f===void 0&&g.column<=d.length&&(f=g.column)),h=g.column-1}f!==void 0&&c([d.substring(h)],void 0);const v=f!==void 0?new RY(f,d.length+1):void 0;return{replacedRange:s,inlineTexts:l,additionalLines:u,hiddenRange:v,lineNumber:a.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(r),targetTextModel:o}}),this.decorations=Bn(this,r=>{const o=this.uiState.read(r);if(!o)return[];const a=[];o.replacedRange&&a.push({range:o.replacedRange.toRange(o.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),o.hiddenRange&&a.push({range:o.hiddenRange.toRange(o.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const s of o.inlineTexts)a.push({range:be.fromPositions(new Ot(o.lineNumber,s.column)),options:{description:p3,after:{content:s.text,inlineClassName:s.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Mv.Left},showIfCollapsed:!0}});return a}),this.additionalLinesWidget=this._register(new YRe(this.editor,this.languageService.languageIdCodec,Bn(r=>{const o=this.uiState.read(r);return o?{lineNumber:o.lineNumber,additionalLines:o.additionalLines,minReservedLineCount:o.additionalReservedLineCount,targetTextModel:o.targetTextModel}:void 0}))),this._register(bi(()=>{this.isDisposed.set(!0,void 0)})),this._register(NY(this.editor,this.decorations))}ownsViewZone(e){return this.additionalLinesWidget.viewZoneId===e}};iT=qRe([GRe(2,Ll)],iT);class YRe extends dt{get viewZoneId(){return this._viewZoneId}constructor(e,t,i){super(),this.editor=e,this.languageIdCodec=t,this.lines=i,this._viewZoneId=void 0,this.editorOptionsChanged=af("editorOptionChanged",lr.filter(this.editor.onDidChangeConfiguration,r=>r.hasChanged(33)||r.hasChanged(118)||r.hasChanged(100)||r.hasChanged(95)||r.hasChanged(51)||r.hasChanged(50)||r.hasChanged(67))),this._register(fi(r=>{const o=this.lines.read(r);this.editorOptionsChanged.read(r),o?this.updateLines(o.lineNumber,o.additionalLines,o.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const r=this.editor.getModel();if(!r)return;const{tabSize:o}=r.getOptions();this.editor.changeViewZones(a=>{this._viewZoneId&&(a.removeZone(this._viewZoneId),this._viewZoneId=void 0);const s=Math.max(t.length,i);if(s>0){const l=document.createElement("div");ZRe(l,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=a.addZone({afterLineNumber:e,heightInLines:s,domNode:l,afterColumnAffinity:1})}})}}function ZRe(n,e,t,i,r){const o=i.get(33),a=i.get(118),s="none",l=i.get(95),u=i.get(51),c=i.get(50),d=i.get(67),f=new $2(1e4);f.appendString('<div class="suggest-preview-text">');for(let g=0,p=t.length;g<p;g++){const m=t[g],b=m.content;f.appendString('<div class="view-line'),f.appendString('" style="top:'),f.appendString(String(g*d)),f.appendString('px;width:1000000px;">');const C=z2(b),O=bQ(b),w=yQ.createEmpty(b,r);V2(new W2(c.isMonospace&&!o,c.canUseHalfwidthRightwardsArrow,b,!1,C,O,0,w,m.decorations,e,0,c.spaceWidth,c.middotWidth,c.wsmiddotWidth,a,s,l,u!==_Q.OFF,null),f),f.appendString("</div>")}f.appendString("</div>"),U2(n,c);const h=f.build(),v=m3?m3.createHTML(h):h;n.innerHTML=v}const m3=B2("editorGhostText",{createHTML:n=>n});function XRe(n,e){const t=new OQ,i=new CQ(t,u=>e.getLanguageConfiguration(u)),r=new wQ(new JRe([n]),i),o=SQ(r,[],void 0,!0);let a="";const s=n.getLineContent();function l(u,c){if(u.kind===2)if(l(u.openingBracket,c),c=Kp(c,u.openingBracket.length),u.child&&(l(u.child,c),c=Kp(c,u.child.length)),u.closingBracket)l(u.closingBracket,c),c=Kp(c,u.closingBracket.length);else{const f=i.getSingleLanguageBracketTokens(u.openingBracket.languageId).findClosingTokenText(u.openingBracket.bracketIds);a+=f}else if(u.kind!==3){if(u.kind===0||u.kind===1)a+=s.substring(_R(c),_R(Kp(c,u.length)));else if(u.kind===4)for(const d of u.children)l(d,c),c=Kp(c,d.length)}}return l(o,xQ),a}class JRe{constructor(e){this.lines=e,this.tokenization={getLineTokens:t=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}async function FY(n,e,t,i,r=an.None,o){const a=e instanceof Ot?tNe(e,t):e,s=n.all(t),l=new EQ;for(const m of s)m.groupId&&l.add(m.groupId,m);function u(m){if(!m.yieldsToGroupIds)return[];const b=[];for(const C of m.yieldsToGroupIds||[]){const O=l.get(C);for(const w of O)b.push(w)}return b}const c=new Map,d=new Set;function f(m,b){if(b=[...b,m],d.has(m))return b;d.add(m);try{const C=u(m);for(const O of C){const w=f(O,b);if(w)return w}}finally{d.delete(m)}}function h(m){const b=c.get(m);if(b)return b;const C=f(m,[]);C&&Fi(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${C.map(w=>w.toString?w.toString():""+w).join(" -> ")}`));const O=new II;return c.set(m,O.p),(async()=>{var w;if(!C){const E=u(m);for(const P of E){const D=await h(P);if(D&&D.items.length>0)return}}try{return e instanceof Ot?await m.provideInlineCompletions(t,e,i,r):await((w=m.provideInlineEdits)==null?void 0:w.call(m,t,e,i,r))}catch(E){Fi(E);return}})().then(w=>O.complete(w),w=>O.error(w)),O.p}const v=await Promise.all(s.map(async m=>({provider:m,completions:await h(m)}))),g=new Map,p=[];for(const m of v){const b=m.completions;if(!b)continue;const C=new eNe(b,m.provider);p.push(C);for(const O of b.items){const w=iS.from(O,C,a,t,o);g.set(w.hash(),w)}}return new QRe(Array.from(g.values()),new Set(g.keys()),p)}class QRe{constructor(e,t,i){this.completions=e,this.hashs=t,this.providerResults=i}has(e){return this.hashs.has(e.hash())}dispose(){for(const e of this.providerResults)e.removeRef()}}class eNe{constructor(e,t){this.inlineCompletions=e,this.provider=t,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class iS{static from(e,t,i,r,o){let a,s,l=e.range?be.lift(e.range):i;if(typeof e.insertText=="string"){if(a=e.insertText,o&&e.completeBracketPairs){a=b3(a,l.getStartPosition(),r,o);const u=a.length-e.insertText.length;u!==0&&(l=new be(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+u))}s=void 0}else if("snippet"in e.insertText){const u=e.insertText.snippet.length;if(o&&e.completeBracketPairs){e.insertText.snippet=b3(e.insertText.snippet,l.getStartPosition(),r,o);const d=e.insertText.snippet.length-u;d!==0&&(l=new be(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn+d))}const c=new ph().parse(e.insertText.snippet);c.children.length===1&&c.children[0]instanceof Wr?(a=c.children[0].value,s=void 0):(a=c.toString(),s={snippet:e.insertText.snippet,range:l})}else PQ(e.insertText);return new iS(a,e.command,l,a,s,e.additionalTextEdits||URe(),e,t)}constructor(e,t,i,r,o,a,s,l){this.filterText=e,this.command=t,this.range=i,this.insertText=r,this.snippetInfo=o,this.additionalTextEdits=a,this.sourceInlineCompletion=s,this.source=l,e=e.replace(/\r\n|\r/g,`
`),r=e.replace(/\r\n|\r/g,`
`)}withRange(e){return new iS(this.filterText,this.command,e,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}toSingleTextEdit(){return new Pu(this.range,this.insertText)}}function tNe(n,e){const t=e.getWordAtPosition(n),i=e.getLineMaxColumn(n.lineNumber);return t?new be(n.lineNumber,t.startColumn,n.lineNumber,i):be.fromPositions(n,n.with(void 0,i))}function b3(n,e,t,i){const o=t.getLineContent(e.lineNumber).substring(0,e.column-1)+n,a=t.tokenization.tokenizeLineWithEdit(e,o.length-(e.column-1),n),s=a==null?void 0:a.sliceAndInflate(e.column-1,o.length,0);return s?XRe(s,i):n}function vf(n,e,t){const i=t?n.range.intersectRanges(t):n.range;if(!i)return n;const r=e.getValueInRange(i,1),o=Fy(r,n.text),a=NC.ofText(r.substring(0,o)).addToPosition(n.range.getStartPosition()),s=n.text.substring(o),l=be.fromPositions(a,n.range.getEndPosition());return new Pu(l,s)}function jY(n,e){return n.text.startsWith(e.text)&&nNe(n.range,e.range)}function y3(n,e,t,i,r=0){let o=vf(n,e);if(o.range.endLineNumber!==o.range.startLineNumber)return;const a=e.getLineContent(o.range.startLineNumber),s=Or(a).length;if(o.range.startColumn-1<=s){const v=Or(o.text).length,g=a.substring(o.range.startColumn-1,s),[p,m]=[o.range.getStartPosition(),o.range.getEndPosition()],b=p.column+g.length<=m.column?p.delta(0,g.length):m,C=be.fromPositions(b,m),O=o.text.startsWith(g)?o.text.substring(g.length):o.text.substring(v);o=new Pu(C,O)}const u=e.getValueInRange(o.range),c=iNe(u,o.text);if(!c)return;const d=o.range.startLineNumber,f=new Array;if(t==="prefix"){const v=c.filter(g=>g.originalLength===0);if(v.length>1||v.length===1&&v[0].originalStart!==u.length)return}const h=o.text.length-r;for(const v of c){const g=o.range.startColumn+v.originalStart+v.originalLength;if(t==="subwordSmart"&&i&&i.lineNumber===o.range.startLineNumber&&g<i.column||v.originalLength>0)return;if(v.modifiedLength===0)continue;const p=v.modifiedStart+v.modifiedLength,m=Math.max(v.modifiedStart,Math.min(p,h)),b=o.text.substring(v.modifiedStart,m),C=o.text.substring(m,Math.max(v.modifiedStart,p));b.length>0&&f.push(new nS(g,b,!1)),C.length>0&&f.push(new nS(g,C,!0))}return new cy(d,f)}function nNe(n,e){return e.getStartPosition().equals(n.getStartPosition())&&e.getEndPosition().isBeforeOrEqual(n.getEndPosition())}let Js;function iNe(n,e){if((Js==null?void 0:Js.originalValue)===n&&(Js==null?void 0:Js.newValue)===e)return Js==null?void 0:Js.changes;{let t=w3(n,e,!0);if(t){const i=_3(t);if(i>0){const r=w3(n,e,!1);r&&_3(r)<i&&(t=r)}}return Js={originalValue:n,newValue:e,changes:t},t}}function _3(n){let e=0;for(const t of n)e+=t.originalLength;return e}function w3(n,e,t){if(n.length>5e3||e.length>5e3)return;function i(u){let c=0;for(let d=0,f=u.length;d<f;d++){const h=u.charCodeAt(d);h>c&&(c=h)}return c}const r=Math.max(i(n),i(e));function o(u){if(u<0)throw new Error("unexpected");return r+u+1}function a(u){let c=0,d=0;const f=new Int32Array(u.length);for(let h=0,v=u.length;h<v;h++)if(t&&u[h]==="("){const g=d*100+c;f[h]=o(2*g),c++}else if(t&&u[h]===")"){c=Math.max(c-1,0);const g=d*100+c;f[h]=o(2*g+1),c===0&&d++}else f[h]=u.charCodeAt(h);return f}const s=a(n),l=a(e);return new kQ({getElements:()=>s},{getElements:()=>l}).ComputeDiff(!1).changes}var rNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},C3=function(n,e){return function(t,i){e(t,i,n)}};let rT=class extends dt{constructor(e,t,i,r,o){super(),this.textModel=e,this.versionId=t,this._debounceValue=i,this.languageFeaturesService=r,this.languageConfigurationService=o,this._updateOperation=this._register(new ns),this.inlineCompletions=_P("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=_P("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(e,t,i){var c,d;const r=new aNe(e,t,this.textModel.getVersionId()),o=t.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if((c=this._updateOperation.value)!=null&&c.request.satisfies(r))return this._updateOperation.value.promise;if((d=o.get())!=null&&d.request.satisfies(r))return Promise.resolve(!0);const a=!!this._updateOperation.value;this._updateOperation.clear();const s=new Er,l=(async()=>{if((a||t.triggerKind===bu.Automatic)&&await oNe(this._debounceValue.get(this.textModel),s.token),s.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==r.versionId)return!1;const h=new Date,v=await FY(this.languageFeaturesService.inlineCompletionsProvider,e,this.textModel,t,s.token,this.languageConfigurationService);if(s.token.isCancellationRequested||this._store.isDisposed||this.textModel.getVersionId()!==r.versionId)return!1;const g=new Date;this._debounceValue.update(this.textModel,g.getTime()-h.getTime());const p=new lNe(v,r,this.textModel,this.versionId);if(i){const m=i.toInlineCompletion(void 0);i.canBeReused(this.textModel,e)&&!v.has(m)&&p.prepend(i.inlineCompletion,m.range,!0)}return this._updateOperation.clear(),Ph(m=>{o.set(p,m)}),!0})(),u=new sNe(r,s,l);return this._updateOperation.value=u,l}clear(e){this._updateOperation.clear(),this.inlineCompletions.set(void 0,e),this.suggestWidgetInlineCompletions.set(void 0,e)}clearSuggestWidgetInlineCompletions(e){var t;(t=this._updateOperation.value)!=null&&t.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,e)}cancelUpdate(){this._updateOperation.clear()}};rT=rNe([C3(3,xt),C3(4,or)],rT);function oNe(n,e){return new Promise(t=>{let i;const r=setTimeout(()=>{i&&i.dispose(),t()},n);e&&(i=e.onCancellationRequested(()=>{clearTimeout(r),i&&i.dispose(),t()}))})}class aNe{constructor(e,t,i){this.position=e,this.context=t,this.versionId=i}satisfies(e){return this.position.equals(e.position)&&DQ(this.context.selectedSuggestionInfo,e.context.selectedSuggestionInfo,IQ())&&(e.context.triggerKind===bu.Automatic||this.context.triggerKind===bu.Explicit)&&this.versionId===e.versionId}}class sNe{constructor(e,t,i){this.request=e,this.cancellationTokenSource=t,this.promise=i}dispose(){this.cancellationTokenSource.cancel()}}class lNe{get inlineCompletions(){return this._inlineCompletions}constructor(e,t,i,r){this.inlineCompletionProviderResult=e,this.request=t,this._textModel=i,this._versionId=r,this._refCount=1,this._prependedInlineCompletionItems=[];const o=i.deltaDecorations([],e.completions.map(a=>({range:a.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=e.completions.map((a,s)=>new S3(a,o[s],this._textModel,this._versionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this._textModel.isDisposed()||this._textModel.deltaDecorations(this._inlineCompletions.map(e=>e.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const e of this._prependedInlineCompletionItems)e.source.removeRef()}}prepend(e,t,i){i&&e.source.addRef();const r=this._textModel.deltaDecorations([],[{range:t,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new S3(e,r,this._textModel,this._versionId)),this._prependedInlineCompletionItems.push(e)}}class S3{get forwardStable(){return this.inlineCompletion.source.inlineCompletions.enableForwardStability??!1}constructor(e,t,i,r){this.inlineCompletion=e,this.decorationId=t,this._textModel=i,this._modelVersion=r,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._updatedRange=su({owner:this,equalsFn:be.equalsRange},o=>(this._modelVersion.read(o),this._textModel.getDecorationRange(this.decorationId)))}toInlineCompletion(e){return this.inlineCompletion.withRange(this._updatedRange.read(e)??QE)}toSingleTextEdit(e){return new Pu(this._updatedRange.read(e)??QE,this.inlineCompletion.insertText)}isVisible(e,t,i){const r=vf(this._toFilterTextReplacement(i),e),o=this._updatedRange.read(i);if(!o||!this.inlineCompletion.range.getStartPosition().equals(o.getStartPosition())||t.lineNumber!==r.range.startLineNumber)return!1;const a=e.getValueInRange(r.range,1),s=r.text,l=Math.max(0,t.column-r.range.startColumn);let u=s.substring(0,l),c=s.substring(l),d=a.substring(0,l),f=a.substring(l);const h=e.getLineIndentColumn(r.range.startLineNumber);return r.range.startColumn<=h&&(d=d.trimStart(),d.length===0&&(f=f.trimStart()),u=u.trimStart(),u.length===0&&(c=c.trimStart())),u.startsWith(d)&&!!TQ(f,c)}canBeReused(e,t){const i=this._updatedRange.read(void 0);return!!i&&i.containsPosition(t)&&this.isVisible(e,t,void 0)&&NC.ofRange(i).isGreaterThanOrEqualTo(NC.ofRange(this.inlineCompletion.range))}_toFilterTextReplacement(e){return new Pu(this._updatedRange.read(e)??QE,this.inlineCompletion.filterText)}}const QE=new be(1,1,1,1),Ht={Visible:gA,HasFocusedSuggestion:new yn("suggestWidgetHasFocusedSuggestion",!1,G("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new yn("suggestWidgetDetailsVisible",!1,G("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new yn("suggestWidgetMultipleSuggestions",!1,G("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new yn("suggestionMakesTextEdit",!0,G("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new yn("acceptSuggestionOnEnter",!0,G("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new yn("suggestionHasInsertAndReplaceRange",!1,G("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new yn("suggestionInsertMode",void 0,{type:"string",description:G("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new yn("suggestionCanResolve",!1,G("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Hc=new pt("suggestWidgetStatusBar");class uNe{constructor(e,t,i,r){var o;this.position=e,this.completion=t,this.container=i,this.provider=r,this.isInvalid=!1,this.score=xb.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:(o=t.label)==null?void 0:o.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,be.isIRange(t.range)?(this.editStart=new Ot(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new Ot(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new Ot(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||be.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new Ot(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new Ot(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new Ot(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||be.spansMultipleLines(t.range.insert)||be.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof r.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(e){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),i=new ko(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(r=>{Object.assign(this.completion,r),this._resolveDuration=i.elapsed()},r=>{xh(r)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{t.dispose()})}return this._resolveCache}}const $S=class $S{constructor(e=2,t=new Set,i=new Set,r=new Map,o=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.providerItemsToReuse=r,this.showDeprecated=o}};$S.default=new $S;let dy=$S;class cNe{constructor(e,t,i,r){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=r}}async function SA(n,e,t,i=dy.default,r={triggerKind:0},o=an.None){const a=new ko;t=t.clone();const s=e.getWordAtPosition(t),l=s?new be(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):be.fromPositions(t),u={replace:l,insert:l.setEndPosition(t.lineNumber,t.column)},c=[],d=new st,f=[];let h=!1;const v=(p,m,b)=>{var O;let C=!1;if(!m)return C;for(const w of m.suggestions)if(!i.kindFilter.has(w.kind)){if(!i.showDeprecated&&((O=w==null?void 0:w.tags)!=null&&O.includes(1)))continue;w.range||(w.range=u),w.sortText||(w.sortText=typeof w.label=="string"?w.label:w.label.label),!h&&w.insertTextRules&&w.insertTextRules&4&&(h=ph.guessNeedsClipboard(w.insertText)),c.push(new uNe(t,w,m,p)),C=!0}return K2(m)&&d.add(m),f.push({providerName:p._debugDisplayName??"unknown_provider",elapsedProvider:m.duration??-1,elapsedOverall:b.elapsed()}),C},g=(async()=>{})();for(const p of n.orderedGroups(e)){let m=!1;if(await Promise.all(p.map(async b=>{if(i.providerItemsToReuse.has(b)){const C=i.providerItemsToReuse.get(b);C.forEach(O=>c.push(O)),m=m||C.length>0;return}if(!(i.providerFilter.size>0&&!i.providerFilter.has(b)))try{const C=new ko,O=await b.provideCompletionItems(e,t,r,o);m=v(b,O,C)||m}catch(C){Fi(C)}})),m||o.isCancellationRequested)break}return await g,o.isCancellationRequested?(d.dispose(),Promise.reject(new g1)):new cNe(c.sort(hNe(i.snippetSortOrder)),h,{entries:f,elapsed:a.elapsed()},d)}function OA(n,e){if(n.sortTextLow&&e.sortTextLow){if(n.sortTextLow<e.sortTextLow)return-1;if(n.sortTextLow>e.sortTextLow)return 1}return n.textLabel<e.textLabel?-1:n.textLabel>e.textLabel?1:n.completion.kind-e.completion.kind}function dNe(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return OA(n,e)}function fNe(n,e){if(n.completion.kind!==e.completion.kind){if(n.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return OA(n,e)}const QO=new Map;QO.set(0,dNe);QO.set(2,fNe);QO.set(1,OA);function hNe(n){return QO.get(n)}ii.registerCommand("_executeCompletionItemProvider",async(n,...e)=>{const[t,i,r,o]=e;In(Kn.isUri(t)),In(Ot.isIPosition(i)),In(typeof r=="string"||!r),In(typeof o=="number"||!o);const{completionProvider:a}=n.get(xt),s=await n.get(Rs).createModelReference(t);try{const l={incomplete:!1,suggestions:[]},u=[],c=s.object.textEditorModel.validatePosition(i),d=await SA(a,s.object.textEditorModel,c,void 0,{triggerCharacter:r??void 0,triggerKind:r?1:0});for(const f of d.items)u.length<(o??0)&&u.push(f.resolve(an.None)),l.incomplete=l.incomplete||f.container.incomplete,l.suggestions.push(f.completion);try{return await Promise.all(u),l}finally{setTimeout(()=>d.disposable.dispose(),100)}}finally{s.dispose()}});function vNe(n,e){var t;(t=n.getContribution("editor.contrib.suggestController"))==null||t.triggerSuggest(new Set().add(e),void 0,!0)}class Wv{static isAllOff(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}static isAllOn(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}function O3(n,e=TI){return LQ(n,e)?n.charAt(0).toUpperCase()+n.slice(1):n}var gNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pNe=function(n,e){return function(t,i){e(t,i,n)}};class x3{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){const i=t.resolve(e);if(i!==void 0)return i}}}class E3{constructor(e,t,i,r){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=r}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let i=this._model.getValueInRange(this._selection)||void 0,r=this._selection.startLineNumber!==this._selection.endLineNumber;if(!i&&this._overtypingCapturer){const o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(i=o.value,r=o.multiline)}if(i&&r&&e.snippet){const o=this._model.getLineContent(this._selection.startLineNumber),a=Or(o,0,this._selection.startColumn-1);let s=a;e.snippet.walk(u=>u===e?!1:(u instanceof Wr&&(s=Or(O1(u.value).pop())),!0));const l=Fy(s,a);i=i.replace(/(\r\n|\r|\n)(.*)/g,(u,c,d)=>`${c}${s.substr(l)}${d}`)}return i}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const i=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return i&&i.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(t==="CURSOR_INDEX")return String(this._selectionIdx);if(t==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class P3{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return Am(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const i=Am(this._model.uri.fsPath),r=i.lastIndexOf(".");return r<=0?i:i.slice(0,r)}else{if(t==="TM_DIRECTORY")return MQ(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel(zI(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class k3{constructor(e,t,i,r){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=r}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(t){if(this._spread){const i=t.split(/\r\n|\n|\r/).filter(r=>!AQ(r));if(i.length===this._selectionCount)return i[this._selectionIdx]}return t}}}let rS=class{constructor(e,t,i){this._model=e,this._selection=t,this._languageConfigurationService=i}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),r=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(r){if(t==="LINE_COMMENT")return r.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return r.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return r.blockCommentEndToken||void 0}}};rS=gNe([pNe(2,or)],rS);const ol=class ol{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return ol.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return ol.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return ol.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return ol.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(t==="CURRENT_TIMEZONE_OFFSET"){const i=this._date.getTimezoneOffset(),r=i>0?"-":"+",o=Math.trunc(Math.abs(i/60)),a=o<10?"0"+o:o,s=Math.abs(i)-o*60,l=s<10?"0"+s:s;return r+a+":"+l}}};ol.dayNames=[G("Sunday","Sunday"),G("Monday","Monday"),G("Tuesday","Tuesday"),G("Wednesday","Wednesday"),G("Thursday","Thursday"),G("Friday","Friday"),G("Saturday","Saturday")],ol.dayNamesShort=[G("SundayShort","Sun"),G("MondayShort","Mon"),G("TuesdayShort","Tue"),G("WednesdayShort","Wed"),G("ThursdayShort","Thu"),G("FridayShort","Fri"),G("SaturdayShort","Sat")],ol.monthNames=[G("January","January"),G("February","February"),G("March","March"),G("April","April"),G("May","May"),G("June","June"),G("July","July"),G("August","August"),G("September","September"),G("October","October"),G("November","November"),G("December","December")],ol.monthNamesShort=[G("JanuaryShort","Jan"),G("FebruaryShort","Feb"),G("MarchShort","Mar"),G("AprilShort","Apr"),G("MayShort","May"),G("JuneShort","Jun"),G("JulyShort","Jul"),G("AugustShort","Aug"),G("SeptemberShort","Sep"),G("OctoberShort","Oct"),G("NovemberShort","Nov"),G("DecemberShort","Dec")];let oS=ol;class D3{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=RQ(this._workspaceService.getWorkspace());if(!NQ(t)){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if(wR(e))return Am(e.uri.path);let t=Am(e.configPath.path);return t.endsWith(CR)&&(t=t.substr(0,t.length-CR.length-1)),t}_resoveWorkspacePath(e){if(wR(e))return O3(e.uri.fsPath);const t=Am(e.configPath.path);let i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?O3(i):"/"}}class T3{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return WO()}}var mNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bNe=function(n,e){return function(t,i){e(t,i,n)}},ms;const $a=class $a{constructor(e,t,i){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=SR(t.placeholders,ba.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const i of this._snippet.placeholders){const r=this._snippet.offset(i),o=this._snippet.fullLen(i),a=be.fromPositions(e.getPositionAt(this._offset+r),e.getPositionAt(this._offset+r+o)),s=i.isFinalTabstop?$a._decor.inactiveFinal:$a._decor.inactive,l=t.addDecoration(a,s);this._placeholderDecorations.set(i,l)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const r=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx])if(o.transform){const a=this._placeholderDecorations.get(o),s=this._editor.getModel().getDecorationRange(a),l=this._editor.getModel().getValueInRange(s),u=o.transform.resolve(l).split(/\r\n|\r|\n/);for(let c=1;c<u.length;c++)u[c]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+u[c]);r.push(Oi.replace(s,u.join(this._editor.getModel().getEOL())))}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations(r=>{const o=new Set,a=[];for(const s of this._placeholderGroups[this._placeholderGroupsIdx]){const l=this._placeholderDecorations.get(s),u=this._editor.getModel().getDecorationRange(l);a.push(new Nt(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(s),r.changeDecorationOptions(l,s.isFinalTabstop?$a._decor.activeFinal:$a._decor.active),o.add(s);for(const c of this._snippet.enclosingPlaceholders(s)){const d=this._placeholderDecorations.get(c);r.changeDecorationOptions(d,c.isFinalTabstop?$a._decor.activeFinal:$a._decor.active),o.add(c)}}for(const[s,l]of this._placeholderDecorations)o.has(s)||r.changeDecorationOptions(l,s.isFinalTabstop?$a._decor.inactiveFinal:$a._decor.inactive);return a});return t?this.move(e):i??[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof ba){const i=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(i).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[e]=this._snippet.placeholders;if(e.isFinalTabstop&&this._snippet.rightMostDescendant===e)return!0}return!1}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const r of t){if(r.isFinalTabstop)break;i||(i=[],e.set(r.index,i));const o=this._placeholderDecorations.get(r),a=this._editor.getModel().getDecorationRange(o);if(!a){e.delete(r.index);break}i.push(a)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(e!=null&&e.choice))return;const t=this._placeholderDecorations.get(e);if(!t)return;const i=this._editor.getModel().getDecorationRange(t);if(i)return{range:i,choice:e.choice}}get hasChoice(){let e=!1;return this._snippet.walk(t=>(e=t instanceof Np,!e)),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const r of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(o._offset!==-1),console.assert(!o._placeholderDecorations);const a=o._snippet.placeholderInfo.last.index;for(const l of o._snippet.placeholderInfo.all)l.isFinalTabstop?l.index=r.index+(a+1)/this._nestingLevel:l.index=r.index+l.index/this._nestingLevel;this._snippet.replace(r,o._snippet.children);const s=this._placeholderDecorations.get(r);i.removeDecoration(s),this._placeholderDecorations.delete(r);for(const l of o._snippet.placeholders){const u=o._snippet.offset(l),c=o._snippet.fullLen(l),d=be.fromPositions(t.getPositionAt(o._offset+u),t.getPositionAt(o._offset+u+c)),f=i.addDecoration(d,$a._decor.inactive);this._placeholderDecorations.set(l,f)}}this._placeholderGroups=SR(this._snippet.placeholders,ba.compareByIndex)})}};$a._decor={active:mn.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:mn.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:mn.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:mn.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};let aS=$a;const I3={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let sS=ms=class{static adjustWhitespace(e,t,i,r,o){const a=e.getLineContent(t.lineNumber),s=Or(a,0,t.column-1);let l;return r.walk(u=>{if(!(u instanceof Wr)||u.parent instanceof Np||o&&!o.has(u))return!0;const c=u.value.split(/\r\n|\r|\n/);if(i){const f=r.offset(u);if(f===0)c[0]=e.normalizeIndentation(c[0]);else{l=l??r.toString();const h=l.charCodeAt(f-1);(h===10||h===13)&&(c[0]=e.normalizeIndentation(s+c[0]))}for(let h=1;h<c.length;h++)c[h]=e.normalizeIndentation(s+c[h])}const d=c.join(e.getEOL());return d!==u.value&&(u.parent.replace(u,[new Wr(d)]),l=void 0),!0}),s}static adjustSelection(e,t,i,r){if(i!==0||r!==0){const{positionLineNumber:o,positionColumn:a}=t,s=a-i,l=a+r,u=e.validateRange({startLineNumber:o,startColumn:s,endLineNumber:o,endColumn:l});t=Nt.createWithDirection(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(e,t,i,r,o,a,s,l,u){const c=[],d=[];if(!e.hasModel())return{edits:c,snippets:d};const f=e.getModel(),h=e.invokeWithinContext(O=>O.get(bg)),v=e.invokeWithinContext(O=>new P3(O.get(Ob),f)),g=()=>s,p=f.getValueInRange(ms.adjustSelection(f,e.getSelection(),i,0)),m=f.getValueInRange(ms.adjustSelection(f,e.getSelection(),0,r)),b=f.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),C=e.getSelections().map((O,w)=>({selection:O,idx:w})).sort((O,w)=>be.compareRangesUsingStarts(O.selection,w.selection));for(const{selection:O,idx:w}of C){let E=ms.adjustSelection(f,O,i,0),P=ms.adjustSelection(f,O,0,r);p!==f.getValueInRange(E)&&(E=O),m!==f.getValueInRange(P)&&(P=O);const D=O.setStartPosition(E.startLineNumber,E.startColumn).setEndPosition(P.endLineNumber,P.endColumn),k=new ph().parse(t,!0,o),L=D.getStartPosition(),M=ms.adjustWhitespace(f,L,a||w>0&&b!==f.getLineFirstNonWhitespaceColumn(O.positionLineNumber),k);k.resolveVariables(new x3([v,new k3(g,w,C.length,e.getOption(79)==="spread"),new E3(f,O,w,l),new rS(f,O,u),new oS,new D3(h),new T3])),c[w]=Oi.replace(D,k.toString()),c[w].identifier={major:w,minor:0},c[w]._isTracked=!0,d[w]=new aS(e,k,M)}return{edits:c,snippets:d}}static createEditsAndSnippetsFromEdits(e,t,i,r,o,a,s){if(!e.hasModel()||t.length===0)return{edits:[],snippets:[]};const l=[],u=e.getModel(),c=new ph,d=new c_,f=new x3([e.invokeWithinContext(v=>new P3(v.get(Ob),u)),new k3(()=>o,0,e.getSelections().length,e.getOption(79)==="spread"),new E3(u,e.getSelection(),0,a),new rS(u,e.getSelection(),s),new oS,new D3(e.invokeWithinContext(v=>v.get(bg))),new T3]);t=t.sort((v,g)=>be.compareRangesUsingStarts(v.range,g.range));let h=0;for(let v=0;v<t.length;v++){const{range:g,template:p}=t[v];if(v>0){const w=t[v-1].range,E=be.fromPositions(w.getEndPosition(),g.getStartPosition()),P=new Wr(u.getValueInRange(E));d.appendChild(P),h+=P.value.length}const m=c.parseFragment(p,d);ms.adjustWhitespace(u,g.getStartPosition(),!0,d,new Set(m)),d.resolveVariables(f);const b=d.toString(),C=b.slice(h);h=b.length;const O=Oi.replace(g,C);O.identifier={major:v,minor:0},O._isTracked=!0,l.push(O)}return c.ensureFinalTabstop(d,i,!0),{edits:l,snippets:[new aS(e,d,"")]}}constructor(e,t,i=I3,r){this._editor=e,this._template=t,this._options=i,this._languageConfigurationService=r,this._templateMerges=[],this._snippets=[]}dispose(){zr(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=typeof this._template=="string"?ms.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):ms.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=t,this._editor.executeEdits("snippet",e,i=>{const r=i.filter(o=>!!o.identifier);for(let o=0;o<t.length;o++)t[o].initialize(r[o].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):r.map(o=>Nt.fromPositions(o.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=I3){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:r}=ms.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",i,o=>{const a=o.filter(l=>!!l.identifier);for(let l=0;l<r.length;l++)r[l].initialize(a[l].textChange);const s=r[0].isTrivialSnippet;if(!s){for(const l of this._snippets)l.merge(r);console.assert(r.length===0)}return this._snippets[0].hasPlaceholder&&!s?this._move(void 0):a.map(l=>Nt.fromPositions(l.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const r=i.move(e);t.push(...r)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(const i of this._snippets){const r=i.computePossibleSelections();if(t.size===0)for(const[o,a]of r){a.sort(be.compareRangesUsingStarts);for(const s of e)if(a[0].containsRange(s)){t.set(o,[]);break}}if(t.size===0)return!1;t.forEach((o,a)=>{o.push(...r.get(a))})}e.sort(be.compareRangesUsingStarts);for(const[i,r]of t){if(r.length!==e.length){t.delete(i);continue}r.sort(be.compareRangesUsingStarts);for(let o=0;o<r.length;o++)if(!r[o].containsRange(e[o])){t.delete(i);continue}}return t.size>0}};sS=ms=mNe([bNe(3,or)],sS);var yNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lw=function(n,e){return function(t,i){e(t,i,n)}},Dv;const L3={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};var fl;let Gr=(fl=class{static get(e){return e.getContribution(Dv.ID)}constructor(e,t,i,r,o){this._editor=e,this._logService=t,this._languageFeaturesService=i,this._languageConfigurationService=o,this._snippetListener=new st,this._modelVersionId=-1,this._inSnippet=Dv.InSnippetMode.bindTo(r),this._hasNextTabstop=Dv.HasNextTabstop.bindTo(r),this._hasPrevTabstop=Dv.HasPrevTabstop.bindTo(r)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)==null||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,typeof t>"u"?L3:{...L3,...t})}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var i;if(this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?(In(typeof e=="string"),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new sS(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),(i=this._session)!=null&&i.hasChoice){const r={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(c,d)=>{if(!this._session||c!==this._editor.getModel()||!Ot.equals(this._editor.getPosition(),d))return;const{activeChoice:f}=this._session;if(!f||f.choice.options.length===0)return;const h=c.getValueInRange(f.range),v=!!f.choice.options.find(p=>p.value===h),g=[];for(let p=0;p<f.choice.options.length;p++){const m=f.choice.options[p];g.push({kind:13,label:m.value,insertText:m.value,sortText:"a".repeat(p+1),range:f.range,filterText:v?`${h}_${m.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:G("next","Go to next placeholder...")}})}return{suggestions:g}}},o=this._editor.getModel();let a,s=!1;const l=()=>{a==null||a.dispose(),s=!1},u=()=>{s||(a=this._languageFeaturesService.completionProvider.register({language:o.getLanguageId(),pattern:o.uri.fsPath,scheme:o.uri.scheme,exclusive:!0},r),this._snippetListener.add(a),s=!0)};this._choiceCompletions={provider:r,enable:u,disable:l}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(r=>r.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var t;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:e}=this._session;if(!e||!this._choiceCompletions){(t=this._choiceCompletions)==null||t.disable(),this._currentChoice=void 0;return}this._currentChoice!==e.choice&&(this._currentChoice=e.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{vNe(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(t=this._session)==null||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){var e;(e=this._session)==null||e.prev(),this._updateState()}next(){var e;(e=this._session)==null||e.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}},Dv=fl,fl.ID="snippetController2",fl.InSnippetMode=new yn("inSnippetMode",!1,G("inSnippetMode","Whether the editor in current in snippet mode")),fl.HasNextTabstop=new yn("hasNextTabstop",!1,G("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),fl.HasPrevTabstop=new yn("hasPrevTabstop",!1,G("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),fl);Gr=Dv=yNe([Lw(1,hp),Lw(2,xt),Lw(3,Ln),Lw(4,or)],Gr);gn(Gr.ID,Gr,4);const ex=uo.bindToContribution(Gr.get);Et(new ex({id:"jumpToNextSnippetPlaceholder",precondition:Ne.and(Gr.InSnippetMode,Gr.HasNextTabstop),handler:n=>n.next(),kbOpts:{weight:130,kbExpr:ve.textInputFocus,primary:2}}));Et(new ex({id:"jumpToPrevSnippetPlaceholder",precondition:Ne.and(Gr.InSnippetMode,Gr.HasPrevTabstop),handler:n=>n.prev(),kbOpts:{weight:130,kbExpr:ve.textInputFocus,primary:1026}}));Et(new ex({id:"leaveSnippet",precondition:Gr.InSnippetMode,handler:n=>n.cancel(!0),kbOpts:{weight:130,kbExpr:ve.textInputFocus,primary:9,secondary:[1033]}}));Et(new ex({id:"acceptSnippet",precondition:Gr.InSnippetMode,handler:n=>n.finish()}));var _Ne=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eP=function(n,e){return function(t,i){e(t,i,n)}};let oT=class extends dt{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(e,t,i,r,o,a,s,l,u,c,d,f){super(),this.textModel=e,this.selectedSuggestItem=t,this._textModelVersionId=i,this._positions=r,this._debounceValue=o,this._suggestPreviewEnabled=a,this._suggestPreviewMode=s,this._inlineSuggestMode=l,this._enabled=u,this._instantiationService=c,this._commandService=d,this._languageConfigurationService=f,this._source=this._register(this._instantiationService.createInstance(rT,this.textModel,this._textModelVersionId,this._debounceValue)),this._isActive=zo(this,!1),this._forceUpdateExplicitlySignal=GI(this),this._selectedInlineCompletionId=zo(this,void 0),this._primaryPosition=Bn(this,v=>this._positions.read(v)[0]??new Ot(1,1)),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([nu.Redo,nu.Undo,nu.AcceptWord]),this._fetchInlineCompletionsPromise=q2({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:bu.Automatic}),handleChange:(v,g)=>(v.didChange(this._textModelVersionId)&&this._preserveCurrentCompletionReasons.has(this._getReason(v.change))?g.preserveCurrentCompletion=!0:v.didChange(this._forceUpdateExplicitlySignal)&&(g.inlineCompletionTriggerKind=bu.Explicit),!0)},(v,g)=>{if(this._forceUpdateExplicitlySignal.read(v),!(this._enabled.read(v)&&this.selectedSuggestItem.read(v)||this._isActive.read(v))){this._source.cancelUpdate();return}this._textModelVersionId.read(v);const m=this._source.suggestWidgetInlineCompletions.get(),b=this.selectedSuggestItem.read(v);if(m&&!b){const P=this._source.inlineCompletions.get();Ph(D=>{(!P||m.request.versionId>P.request.versionId)&&this._source.inlineCompletions.set(m.clone(),D),this._source.clearSuggestWidgetInlineCompletions(D)})}const C=this._primaryPosition.read(v),O={triggerKind:g.inlineCompletionTriggerKind,selectedSuggestionInfo:b==null?void 0:b.toSelectedSuggestionInfo()},w=this.selectedInlineCompletion.get(),E=g.preserveCurrentCompletion||w!=null&&w.forwardStable?w:void 0;return this._source.fetch(C,O,E)}),this._filteredInlineCompletionItems=su({owner:this,equalsFn:wP()},v=>{const g=this._source.inlineCompletions.read(v);if(!g)return[];const p=this._primaryPosition.read(v);return g.inlineCompletions.filter(b=>b.isVisible(this.textModel,p,v))}),this.selectedInlineCompletionIndex=Bn(this,v=>{const g=this._selectedInlineCompletionId.read(v),p=this._filteredInlineCompletionItems.read(v),m=this._selectedInlineCompletionId===void 0?-1:p.findIndex(b=>b.semanticId===g);return m===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):m}),this.selectedInlineCompletion=Bn(this,v=>{const g=this._filteredInlineCompletionItems.read(v),p=this.selectedInlineCompletionIndex.read(v);return g[p]}),this.activeCommands=su({owner:this,equalsFn:wP()},v=>{var g;return((g=this.selectedInlineCompletion.read(v))==null?void 0:g.inlineCompletion.source.inlineCompletions.commands)??[]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,v=>v==null?void 0:v.request.context.triggerKind),this.inlineCompletionsCount=Bn(this,v=>{if(this.lastTriggerKind.read(v)===bu.Explicit)return this._filteredInlineCompletionItems.read(v).length}),this.state=su({owner:this,equalsFn:(v,g)=>!v||!g?v===g:v3(v.ghostTexts,g.ghostTexts)&&v.inlineCompletion===g.inlineCompletion&&v.suggestItem===g.suggestItem},v=>{const g=this.textModel,p=this.selectedSuggestItem.read(v);if(p){const m=vf(p.toSingleTextEdit(),g),b=this._computeAugmentation(m,v);if(!this._suggestPreviewEnabled.read(v)&&!b)return;const O=(b==null?void 0:b.edit)??m,w=b?b.edit.text.length-m.text.length:0,E=this._suggestPreviewMode.read(v),P=this._positions.read(v),D=[O,...tP(this.textModel,P,O)],k=D.map((M,A)=>y3(M,g,E,P[A],w)).filter(zw),L=k[0]??new cy(O.range.endLineNumber,[]);return{edits:D,primaryGhostText:L,ghostTexts:k,inlineCompletion:b==null?void 0:b.completion,suggestItem:p}}else{if(!this._isActive.read(v))return;const m=this.selectedInlineCompletion.read(v);if(!m)return;const b=m.toSingleTextEdit(v),C=this._inlineSuggestMode.read(v),O=this._positions.read(v),w=[b,...tP(this.textModel,O,b)],E=w.map((P,D)=>y3(P,g,C,O[D],0)).filter(zw);return E[0]?{edits:w,primaryGhostText:E[0],ghostTexts:E,inlineCompletion:m,suggestItem:void 0}:void 0}}),this.ghostTexts=su({owner:this,equalsFn:v3},v=>{const g=this.state.read(v);if(g)return g.ghostTexts}),this.primaryGhostText=su({owner:this,equalsFn:AY},v=>{const g=this.state.read(v);if(g)return g==null?void 0:g.primaryGhostText}),this._register(G2(this._fetchInlineCompletionsPromise));let h;this._register(fi(v=>{var m,b;const g=this.state.read(v),p=g==null?void 0:g.inlineCompletion;if((p==null?void 0:p.semanticId)!==(h==null?void 0:h.semanticId)&&(h=p,p)){const C=p.inlineCompletion,O=C.source;(b=(m=O.provider).handleItemDidShow)==null||b.call(m,O.inlineCompletions,C.sourceInlineCompletion,C.insertText)}}))}_getReason(e){return e!=null&&e.isUndoing?nu.Undo:e!=null&&e.isRedoing?nu.Redo:this.isAcceptingPartially?nu.AcceptWord:nu.Other}async trigger(e){this._isActive.set(!0,e),await this._fetchInlineCompletionsPromise.get()}async triggerExplicitly(e){FC(e,t=>{this._isActive.set(!0,t),this._forceUpdateExplicitlySignal.trigger(t)}),await this._fetchInlineCompletionsPromise.get()}stop(e){FC(e,t=>{this._isActive.set(!1,t),this._source.clear(t)})}_computeAugmentation(e,t){const i=this.textModel,r=this._source.suggestWidgetInlineCompletions.read(t),o=r?r.inlineCompletions:[this.selectedInlineCompletion.read(t)].filter(zw);return FQ(o,s=>{let l=s.toSingleTextEdit(t);return l=vf(l,i,be.fromPositions(l.range.getStartPosition(),e.range.getEndPosition())),jY(l,e)?{completion:s,edit:l}:void 0})}async _deltaSelectedInlineCompletionIndex(e){await this.triggerExplicitly();const t=this._filteredInlineCompletionItems.get()||[];if(t.length>0){const i=(this.selectedInlineCompletionIndex.get()+e+t.length)%t.length;this._selectedInlineCompletionId.set(t[i].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(e){var r;if(e.getModel()!==this.textModel)throw new xg;const t=this.state.get();if(!t||t.primaryGhostText.isEmpty()||!t.inlineCompletion)return;const i=t.inlineCompletion.toInlineCompletion(void 0);if(i.command&&i.source.addRef(),e.pushUndoStop(),i.snippetInfo)e.executeEdits("inlineSuggestion.accept",[Oi.replace(i.range,""),...i.additionalTextEdits]),e.setPosition(i.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(r=Gr.get(e))==null||r.insert(i.snippetInfo.snippet,{undoStopBefore:!1});else{const o=t.edits,a=M3(o).map(s=>Nt.fromPositions(s));e.executeEdits("inlineSuggestion.accept",[...o.map(s=>Oi.replace(s.range,s.text)),...i.additionalTextEdits]),e.setSelections(a,"inlineCompletionAccept")}this.stop(),i.command&&(await this._commandService.executeCommand(i.command.id,...i.command.arguments||[]).then(void 0,Fi),i.source.removeRef())}async acceptNextWord(e){await this._acceptNext(e,(t,i)=>{const r=this.textModel.getLanguageIdAtPosition(t.lineNumber,t.column),o=this._languageConfigurationService.getLanguageConfiguration(r),a=new RegExp(o.wordDefinition.source,o.wordDefinition.flags.replace("g","")),s=i.match(a);let l=0;s&&s.index!==void 0?s.index===0?l=s[0].length:l=s.index:l=i.length;const c=/\s+/g.exec(i);return c&&c.index!==void 0&&c.index+c[0].length<l&&(l=c.index+c[0].length),l},0)}async acceptNextLine(e){await this._acceptNext(e,(t,i)=>{const r=i.match(/\n/);return r&&r.index!==void 0?r.index+1:i.length},1)}async _acceptNext(e,t,i){if(e.getModel()!==this.textModel)throw new xg;const r=this.state.get();if(!r||r.primaryGhostText.isEmpty()||!r.inlineCompletion)return;const o=r.primaryGhostText,a=r.inlineCompletion.toInlineCompletion(void 0);if(a.snippetInfo||a.filterText!==a.insertText){await this.accept(e);return}const s=o.parts[0],l=new Ot(o.lineNumber,s.column),u=s.text,c=t(l,u);if(c===u.length&&o.parts.length===1){this.accept(e);return}const d=u.substring(0,c),f=this._positions.get(),h=f[0];a.source.addRef();try{this._isAcceptingPartially=!0;try{e.pushUndoStop();const v=be.fromPositions(h,l),g=e.getModel().getValueInRange(v)+d,p=new Pu(v,g),m=[p,...tP(this.textModel,f,p)],b=M3(m).map(C=>Nt.fromPositions(C));e.executeEdits("inlineSuggestion.accept",m.map(C=>Oi.replace(C.range,C.text))),e.setSelections(b,"inlineCompletionPartialAccept"),e.revealPositionInCenterIfOutsideViewport(e.getPosition(),1)}finally{this._isAcceptingPartially=!1}if(a.source.provider.handlePartialAccept){const v=be.fromPositions(a.range.getStartPosition(),NC.ofText(d).addToPosition(l)),g=e.getModel().getValueInRange(v,1);a.source.provider.handlePartialAccept(a.source.inlineCompletions,a.sourceInlineCompletion,g.length,{kind:i})}}finally{a.source.removeRef()}}handleSuggestAccepted(e){var o,a;const t=vf(e.toSingleTextEdit(),this.textModel),i=this._computeAugmentation(t,void 0);if(!i)return;const r=i.completion.inlineCompletion;(a=(o=r.source.provider).handlePartialAccept)==null||a.call(o,r.source.inlineCompletions,r.sourceInlineCompletion,t.text.length,{kind:2})}};oT=_Ne([eP(9,ln),eP(10,yr),eP(11,or)],oT);var nu;(function(n){n[n.Undo=0]="Undo",n[n.Redo=1]="Redo",n[n.AcceptWord=2]="AcceptWord",n[n.Other=3]="Other"})(nu||(nu={}));function tP(n,e,t){if(e.length===1)return[];const i=e[0],r=e.slice(1),o=t.range.getStartPosition(),a=t.range.getEndPosition(),s=n.getValueInRange(be.fromPositions(i,a)),l=g3(i,o);if(l.lineNumber<1)return Jn(new xg(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${i.toString()} and ${o.toString()}`)),[];const u=wNe(t.text,l);return r.map(c=>{const d=KRe(g3(c,o),a),f=n.getValueInRange(be.fromPositions(c,d)),h=Fy(s,f),v=be.fromPositions(c,c.delta(0,h));return new Pu(v,u)})}function wNe(n,e){let t="";const i=HQ(n);for(let r=e.lineNumber-1;r<i.length;r++)t+=i[r].substring(r===e.lineNumber-1?e.column-1:0);return t}function M3(n){const e=jQ.createSortPermutation(n,Ry(o=>o.range,be.compareRangesUsingStarts)),i=new H2(e.apply(n)).getNewRanges();return e.inverse().apply(i).map(o=>o.getEndPosition())}var CNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},A3=function(n,e){return function(t,i){e(t,i,n)}},xm;class xA{constructor(e){this.name=e}select(e,t,i){if(i.length===0)return 0;const r=i[0].score[0];for(let o=0;o<i.length;o++){const{score:a,completion:s}=i[o];if(a[0]!==r)break;if(s.preselect)return o}return 0}}class R3 extends xA{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}class SNe extends xA{constructor(){super("recentlyUsed"),this._cache=new y1(300,.66),this._seq=0}memorize(e,t,i){const r=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(r,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(i.length===0)return 0;const r=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(r))return super.select(e,t,i);const o=i[0].score[0];let a=-1,s=-1,l=-1;for(let u=0;u<i.length&&i[u].score[0]===o;u++){const c=`${e.getLanguageId()}/${i[u].textLabel}`,d=this._cache.peek(c);if(d&&d.touch>l&&d.type===i[u].completion.kind&&d.insertText===i[u].completion.insertText&&(l=d.touch,s=u),i[u].completion.preselect&&a===-1)return a=u}return s!==-1?s:a!==-1?a:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();const t=0;for(const[i,r]of e)r.touch=t,r.type=typeof r.type=="number"?r.type:YI.fromString(r.type),this._cache.set(i,r);this._seq=this._cache.size}}class ONe extends xA{constructor(){super("recentlyUsedByPrefix"),this._trie=BQ.forStrings(),this._seq=0}memorize(e,t,i){const{word:r}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${r}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){const{word:r}=e.getWordUntilPosition(t);if(!r)return super.select(e,t,i);const o=`${e.getLanguageId()}/${r}`;let a=this._trie.get(o);if(a||(a=this._trie.findSubstr(o)),a)for(let s=0;s<i.length;s++){const{kind:l,insertText:u}=i[s].completion;if(l===a.type&&u===a.insertText)return s}return super.select(e,t,i)}toJSON(){const e=[];return this._trie.forEach((t,i)=>e.push([i,t])),e.sort((t,i)=>-(t[1].touch-i[1].touch)).forEach((t,i)=>t[1].touch=i),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type=typeof i.type=="number"?i.type:YI.fromString(i.type),this._trie.set(t,i)}}}var Gc;let aT=(Gc=class{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new st,this._persistSoon=new Xi(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(i=>{i.reason===l2.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(e,t){var r;const i=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((r=this._strategy)==null?void 0:r.name)!==i){this._saveState();const o=xm._strategyCtors.get(i)||R3;this._strategy=new o;try{const s=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,l=this._storageService.get(`${xm._storagePrefix}/${i}`,s);l&&this._strategy.fromJSON(JSON.parse(l))}catch{}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${xm._storagePrefix}/${this._strategy.name}`,i,t,1)}}},xm=Gc,Gc._strategyCtors=new Map([["recentlyUsedByPrefix",ONe],["recentlyUsed",SNe],["first",R3]]),Gc._storagePrefix="suggest/memories",Gc);aT=xm=CNe([A3(0,cp),A3(1,vi)],aT);const tx=Bu("ISuggestMemories");$u(tx,aT,1);var xNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ENe=function(n,e){return function(t,i){e(t,i,n)}},sT,Af;let lS=(Af=class{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=sT.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(i=>i.hasChanged(124)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)==null||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(124)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const i=this._editor.getModel(),r=this._editor.getSelection(),o=i.getWordAtPosition(r.getStartPosition());if(!o){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(o.endColumn===r.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}},sT=Af,Af.AtEnd=new yn("atEndOfWord",!1),Af);lS=sT=xNe([ENe(1,Ln)],lS);var PNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kNe=function(n,e){return function(t,i){e(t,i,n)}},Em,Rf;let ep=(Rf=class{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=Em.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)==null||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},i){if(e.items.length===0){this.reset();return}if(Em._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=i,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,i){let r=i;for(let o=t.items.length;o>0&&(r=(r+t.items.length+(e?1:-1))%t.items.length,!(r===i||!t.items[r].completion.additionalTextEdits));o--);return r}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(this._model)try{this._ignore=!0,this._index=Em._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}},Em=Rf,Rf.OtherSuggestions=new yn("hasOtherSuggestions",!1),Rf);ep=Em=PNe([kNe(1,Ln)],ep);class DNe{constructor(e,t,i,r){this._disposables=new st,this._disposables.add(i.onDidSuggest(o=>{o.completionModel.items.length===0&&this.reset()})),this._disposables.add(i.onDidCancel(o=>{this.reset()})),this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(o=>{if(this._active&&!t.isFrozen()&&i.state!==0){const a=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(a)&&e.getOption(0)&&r(this._active.item)}}))}_onItem(e){if(!e||!Wo(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new RC;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}const ha=class ha{async provideSelectionRanges(e,t){const i=[];for(const r of t){const o=[];i.push(o);const a=new Map;await new Promise(s=>ha._bracketsRightYield(s,0,e,r,a)),await new Promise(s=>ha._bracketsLeftYield(s,0,e,r,a,o))}return i}static _bracketsRightYield(e,t,i,r,o){const a=new Map,s=Date.now();for(;;){if(t>=ha._maxRounds){e();break}if(!r){e();break}const l=i.bracketPairs.findNextBracket(r);if(!l){e();break}if(Date.now()-s>ha._maxDuration){setTimeout(()=>ha._bracketsRightYield(e,t+1,i,r,o));break}if(l.bracketInfo.isOpeningBracket){const c=l.bracketInfo.bracketText,d=a.has(c)?a.get(c):0;a.set(c,d+1)}else{const c=l.bracketInfo.getOpeningBrackets()[0].bracketText;let d=a.has(c)?a.get(c):0;if(d-=1,a.set(c,Math.max(0,d)),d<0){let f=o.get(c);f||(f=new Y2,o.set(c,f)),f.push(l.range)}}r=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,r,o,a){const s=new Map,l=Date.now();for(;;){if(t>=ha._maxRounds&&o.size===0){e();break}if(!r){e();break}const u=i.bracketPairs.findPrevBracket(r);if(!u){e();break}if(Date.now()-l>ha._maxDuration){setTimeout(()=>ha._bracketsLeftYield(e,t+1,i,r,o,a));break}if(u.bracketInfo.isOpeningBracket){const d=u.bracketInfo.bracketText;let f=s.has(d)?s.get(d):0;if(f-=1,s.set(d,Math.max(0,f)),f<0){const h=o.get(d);if(h){const v=h.shift();h.size===0&&o.delete(d);const g=be.fromPositions(u.range.getEndPosition(),v.getStartPosition()),p=be.fromPositions(u.range.getStartPosition(),v.getEndPosition());a.push({range:g}),a.push({range:p}),ha._addBracketLeading(i,p,a)}}}else{const d=u.bracketInfo.getOpeningBrackets()[0].bracketText,f=s.has(d)?s.get(d):0;s.set(d,f+1)}r=u.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const r=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(r);o!==0&&o!==t.startColumn&&(i.push({range:be.fromPositions(new Ot(r,o),t.getEndPosition())}),i.push({range:be.fromPositions(new Ot(r,1),t.getEndPosition())}));const a=r-1;if(a>0){const s=e.getLineFirstNonWhitespaceColumn(a);s===t.startColumn&&s!==e.getLineLastNonWhitespaceColumn(a)&&(i.push({range:be.fromPositions(new Ot(a,s),t.getEndPosition())}),i.push({range:be.fromPositions(new Ot(a,1),t.getEndPosition())}))}}};ha._maxDuration=30,ha._maxRounds=2;let uS=ha;const al=class al{static async create(e,t){if(!t.getOption(119).localityBonus||!t.hasModel())return al.None;const i=t.getModel(),r=t.getPosition();if(!e.canComputeWordRanges(i.uri))return al.None;const[o]=await new uS().provideSelectionRanges(i,[r]);if(o.length===0)return al.None;const a=await e.computeWordRanges(i.uri,o[0].range);if(!a)return al.None;const s=i.getWordUntilPosition(r);return delete a[s.word],new class extends al{distance(l,u){if(!r.equals(t.getPosition()))return 0;if(u.kind===17)return 2<<20;const c=typeof u.label=="string"?u.label:u.label.label,d=a[c];if($Q(d))return 2<<20;const f=jC(d,be.fromPositions(l),be.compareRangesUsingStarts),h=f>=0?d[f]:d[Math.max(0,~f-1)];let v=o.length;for(const g of o){if(!be.containsRange(g.range,h))break;v-=1}return v}}}};al.None=new class extends al{distance(){return 0}};let cS=al,N3=class{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}};class Dc{constructor(e,t,i,r,o,a,s=Z2.default,l=void 0){this.clipboardText=l,this._snippetCompareFn=Dc._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=r,this._options=o,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=s,a==="top"?this._snippetCompareFn=Dc._compareCompletionItemsSnippetsUp:a==="bottom"&&(this._snippetCompareFn=Dc._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const e=new Set;for(const[t,i]of this.getItemsByProvider())i.length>0&&i[0].container.incomplete&&e.add(t);return e}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let r="",o="";const a=this._refilterKind===1?this._items:this._filteredItems,s=[],l=!this._options.filterGraceful||a.length>2e3?VQ:WQ;for(let u=0;u<a.length;u++){const c=a[u];if(c.isInvalid)continue;const d=this._itemsByProvider.get(c.provider);d?d.push(c):this._itemsByProvider.set(c.provider,[c]);const f=c.position.column-c.editStart.column,h=f+i-(c.position.column-this._column);if(r.length!==h&&(r=h===0?"":t.slice(-h),o=r.toLowerCase()),c.word=r,h===0)c.score=xb.Default;else{let v=0;for(;v<f;){const g=r.charCodeAt(v);if(g===32||g===9)v+=1;else break}if(v>=h)c.score=xb.Default;else if(typeof c.completion.filterText=="string"){const g=l(r,o,v,c.completion.filterText,c.filterTextLow,0,this._fuzzyScoreOptions);if(!g)continue;zQ(c.completion.filterText,c.textLabel)===0?c.score=g:(c.score=UQ(r,o,v,c.textLabel,c.labelLow,0),c.score[0]=g[0])}else{const g=l(r,o,v,c.textLabel,c.labelLow,0,this._fuzzyScoreOptions);if(!g)continue;c.score=g}}c.idx=u,c.distance=this._wordDistance.distance(c.position,c.completion),s.push(c),e.push(c.textLabel.length)}this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?KQ(e.length-.85,e,(u,c)=>u-c):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Dc._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Dc._compareCompletionItems(e,t)}}var TNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fc=function(n,e){return function(t,i){e(t,i,n)}},lT;class $d{static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenization.tokenizeIfCheap(i.lineNumber);const r=t.getWordAtPosition(i);return!(!r||r.endColumn!==i.column&&r.startColumn+1!==i.column||!isNaN(Number(r.word)))}constructor(e,t,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.triggerOptions=i}}function INe(n,e,t){if(!e.getContextKeyValue(Po.inlineSuggestionVisible.key))return!0;const i=e.getContextKeyValue(Po.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}function LNe(n,e,t){if(!e.getContextKeyValue("inlineSuggestionVisible"))return!0;const i=e.getContextKeyValue(Po.suppressSuggestions.key);return i!==void 0?!i:!n.getOption(62).suppressSuggestions}let dS=lT=class{constructor(e,t,i,r,o,a,s,l,u){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=r,this._logService=o,this._contextKeyService=a,this._configurationService=s,this._languageFeaturesService=l,this._envService=u,this._toDispose=new st,this._triggerCharacterListener=new st,this._triggerQuickSuggest=new ky,this._triggerState=void 0,this._completionDisposables=new st,this._onDidCancel=new on,this._onDidTrigger=new on,this._onDidSuggest=new on,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Nt(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let c=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{c=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{c=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(d=>{c||this._onCursorChange(d)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!c&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){zr(this._triggerCharacterListener),zr([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(92)||!this._editor.hasModel()||!this._editor.getOption(122))return;const e=new Map;for(const i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const r of i.triggerCharacters||[]){let o=e.get(r);o||(o=new Set,e.set(r,o)),o.add(i)}const t=i=>{var a;if(!LNe(this._editor,this._contextKeyService,this._configurationService)||$d.shouldAutoTrigger(this._editor))return;if(!i){const s=this._editor.getPosition();i=this._editor.getModel().getLineContent(s.lineNumber).substr(0,s.column-1)}let r="";GQ(i.charCodeAt(i.length-1))?YQ(i.charCodeAt(i.length-2))&&(r=i.substr(i.length-2)):r=i.charAt(i.length-1);const o=e.get(r);if(o){const s=new Map;if(this._completionModel)for(const[l,u]of this._completionModel.getItemsByProvider())o.has(l)||s.set(l,u);this.trigger({auto:!0,triggerKind:1,triggerCharacter:r,retrigger:!!this._completionModel,clipboardText:(a=this._completionModel)==null?void 0:a.clipboardText,completionOptions:{providerFilter:o,providerItemsToReuse:s}})}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(e=!1){var t;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)==null||t.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;Wv.isAllOff(this._editor.getOption(90))||this._editor.getOption(119).snippetsPreventQuickSuggestions&&((e=Gr.get(this._editor))!=null&&e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!$d.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const t=this._editor.getModel(),i=this._editor.getPosition(),r=this._editor.getOption(90);if(!Wv.isAllOff(r)){if(!Wv.isAllOn(r)){t.tokenization.tokenizeIfCheap(i.lineNumber);const o=t.tokenization.getLineTokens(i.lineNumber),a=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(i.column-1-1,0)));if(Wv.valueFor(r,a)!=="on")return}INe(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(t)&&this.trigger({auto:!0})}},this._editor.getOption(91)))}_refilterCompletionItems(){In(this._editor.hasModel()),In(this._triggerState!==void 0);const e=this._editor.getModel(),t=this._editor.getPosition(),i=new $d(e,t,{...this._triggerState,refilter:!0});this._onNewContext(i)}trigger(e){var f,h,v;if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=new $d(t,this._editor.getPosition(),e);this.cancel(e.retrigger),this._triggerState=e,this._onDidTrigger.fire({auto:e.auto,shy:e.shy??!1,position:this._editor.getPosition()}),this._context=i;let r={triggerKind:e.triggerKind??0};e.triggerCharacter&&(r={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new Er;const o=this._editor.getOption(113);let a=1;switch(o){case"top":a=0;break;case"bottom":a=2;break}const{itemKind:s,showDeprecated:l}=lT.createSuggestFilter(this._editor),u=new dy(a,((f=e.completionOptions)==null?void 0:f.kindFilter)??s,(h=e.completionOptions)==null?void 0:h.providerFilter,(v=e.completionOptions)==null?void 0:v.providerItemsToReuse,l),c=cS.create(this._editorWorkerService,this._editor),d=SA(this._languageFeaturesService.completionProvider,t,this._editor.getPosition(),u,r,this._requestToken.token);Promise.all([d,c]).then(async([g,p])=>{var w;if((w=this._requestToken)==null||w.dispose(),!this._editor.hasModel())return;let m=e==null?void 0:e.clipboardText;if(!m&&g.needsClipboard&&(m=await this._clipboardService.readText()),this._triggerState===void 0)return;const b=this._editor.getModel(),C=new $d(b,this._editor.getPosition(),e),O={...Z2.default,firstMatchCanBeWeak:!this._editor.getOption(119).matchOnWordStartOnly};if(this._completionModel=new Dc(g.items,this._context.column,{leadingLineContent:C.leadingLineContent,characterCountDelta:C.column-this._context.column},p,this._editor.getOption(119),this._editor.getOption(113),O,m),this._completionDisposables.add(g.disposable),this._onNewContext(C),this._reportDurationsTelemetry(g.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const E of g.items)E.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${E.provider._debugDisplayName}`,E.completion)}).catch(Jn)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static createSuggestFilter(e){const t=new Set;e.getOption(113)==="none"&&t.add(27);const r=e.getOption(119);return r.showMethods||t.add(0),r.showFunctions||t.add(1),r.showConstructors||t.add(2),r.showFields||t.add(3),r.showVariables||t.add(4),r.showClasses||t.add(5),r.showStructs||t.add(6),r.showInterfaces||t.add(7),r.showModules||t.add(8),r.showProperties||t.add(9),r.showEvents||t.add(10),r.showOperators||t.add(11),r.showUnits||t.add(12),r.showValues||t.add(13),r.showConstants||t.add(14),r.showEnums||t.add(15),r.showEnumMembers||t.add(16),r.showKeywords||t.add(17),r.showWords||t.add(18),r.showColors||t.add(19),r.showFiles||t.add(20),r.showReferences||t.add(21),r.showColors||t.add(22),r.showFolders||t.add(23),r.showTypeParameters||t.add(24),r.showSnippets||t.add(27),r.showUsers||t.add(25),r.showIssues||t.add(26),{itemKind:t,showDeprecated:r.showDeprecated}}_onNewContext(e){if(this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(Or(e.leadingLineContent)!==Or(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){if($d.shouldAutoTrigger(this._editor)&&this._context){const i=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:i}})}return}if(e.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&e.leadingWord.word.length!==0){const t=new Map,i=new Set;for(const[r,o]of this._completionModel.getItemsByProvider())o.length>0&&o[0].container.incomplete?i.add(r):t.set(r,o);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:i,providerItemsToReuse:t}})}else{const t=this._completionModel.lineContext;let i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){const r=$d.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(r&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:e.triggerOptions,isFrozen:i})}}}}};dS=lT=TNe([fc(1,Vu),fc(2,lp),fc(3,Hu),fc(4,hp),fc(5,Ln),fc(6,vi),fc(7,xt),fc(8,qQ)],dS);const VS=class VS{constructor(e,t){this._disposables=new st,this._lastOvertyped=[],this._locked=!1,this._disposables.add(e.onWillType(()=>{if(this._locked||!e.hasModel())return;const i=e.getSelections(),r=i.length;let o=!1;for(let s=0;s<r;s++)if(!i[s].isEmpty()){o=!0;break}if(!o){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const a=e.getModel();for(let s=0;s<r;s++){const l=i[s];if(a.getValueLengthInRange(l)>VS._maxSelectionLength)return;this._lastOvertyped[s]={value:a.getValueInRange(l),multiline:l.startLineNumber!==l.endLineNumber}}})),this._disposables.add(t.onDidTrigger(i=>{this._locked=!0})),this._disposables.add(t.onDidCancel(i=>{this._locked=!1}))}getLastOvertypedInfo(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}};VS._maxSelectionLength=51200;let uT=VS;var MNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},nP=function(n,e){return function(t,i){e(t,i,n)}};let cT=class{constructor(e,t,i,r,o){this._menuId=t,this._menuService=r,this._contextKeyService=o,this._menuDisposables=new st,this.element=yt(e,Ut(".suggest-status-bar"));const a=s=>s instanceof Og?i.createInstance(ZQ,s,{useComma:!0}):void 0;this._leftActions=new yb(this.element,{actionViewItemProvider:a}),this._rightActions=new yb(this.element,{actionViewItemProvider:a}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const i=[],r=[];for(const[o,a]of e.getActions())o==="left"?i.push(...a):r.push(...a);this._leftActions.clear(),this._leftActions.push(i),this._rightActions.clear(),this._rightActions.push(r)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};cT=MNe([nP(2,ln),nP(3,Eh),nP(4,Ln)],cT);var ANe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},RNe=function(n,e){return function(t,i){e(t,i,n)}};function EA(n){return!!n&&!!(n.completion.documentation||n.completion.detail&&n.completion.detail!==n.completion.label)}let dT=class{constructor(e,t){this._editor=e,this._onDidClose=new on,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new on,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new st,this._renderDisposeable=new st,this._borderWidth=1,this._size=new ti(330,0),this.domNode=Ut(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(fp,{editor:e}),this._body=Ut(".body"),this._scrollbar=new X2(this._body,{alwaysConsumeMouseWheel:!0}),yt(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=yt(this._body,Ut(".header")),this._close=yt(this._header,Ut("span"+Hn.asCSSSelector(Kt.close))),this._close.title=G("details.close","Close"),this._type=yt(this._header,Ut("p.type")),this._docs=yt(this._body,Ut("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(50),i=t.getMassagedFontFamily(),r=e.get(120)||t.fontSize,o=e.get(121)||t.lineHeight,a=t.fontWeight,s=`${r}px`,l=`${o}px`;this.domNode.style.fontSize=s,this.domNode.style.lineHeight=`${o/r}`,this.domNode.style.fontWeight=a,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=l,this._close.style.width=l}getLayoutInfo(){const e=this._editor.getOption(121)||this._editor.getOption(50).lineHeight,t=this._borderWidth,i=t*2;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=G("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var o;this._renderDisposeable.clear();let{detail:i,documentation:r}=e.completion;if(t){let a="";a+=`score: ${e.score[0]}
`,a+=`prefix: ${e.word??"(no prefix)"}
`,a+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,a+=`distance: ${e.distance} (localityBonus-setting)
`,a+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,a+=`commit_chars: ${(o=e.completion.commitCharacters)==null?void 0:o.join("")}
`,r=new $r().appendCodeblock("empty",a),i=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!EA(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),i){const a=i.length>1e5?`${i.substr(0,1e5)}…`:i;this._type.textContent=a,this._type.title=a,Ga(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(a))}else gl(this._type),this._type.title="",Ho(this._type),this.domNode.classList.add("no-type");if(gl(this._docs),typeof r=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),gl(this._docs);const a=this._markdownRenderer.render(r);this._docs.appendChild(a.element),this._renderDisposeable.add(a),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=a=>{a.preventDefault(),a.stopPropagation()},this._close.onclick=a=>{a.preventDefault(),a.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(e,t){const i=new ti(e,t);ti.equals(i,this._size)||(this._size=i,XQ(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};dT=ANe([RNe(1,ln)],dT);class NNe{constructor(e,t){this.widget=e,this._editor=t,this.allowEditorOverflow=!0,this._disposables=new st,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new rA,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let i,r,o=0,a=0;this._disposables.add(this._resizable.onDidWillResize(()=>{i=this._topLeft,r=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(s=>{if(i&&r){this.widget.layout(s.dimension.width,s.dimension.height);let l=!1;s.west&&(a=r.width-s.dimension.width,l=!0),s.north&&(o=r.height-s.dimension.height,l=!0),l&&this._applyTopLeft({top:i.top+o,left:i.left+a})}s.done&&(i=void 0,r=void 0,o=0,a=0,this._userSize=s.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{this._anchorBox&&this._placeAtAnchor(this._anchorBox,this._userSize??this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){const i=e.getBoundingClientRect();this._anchorBox=i,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,this._userSize??this.widget.size,t)}_placeAtAnchor(e,t,i){const r=My(this.getDomNode().ownerDocument.body),o=this.widget.getLayoutInfo(),a=new ti(220,2*o.lineHeight),s=e.top,l=function(){const w=r.width-(e.left+e.width+o.borderWidth+o.horizontalPadding),E=-o.borderWidth+e.left+e.width,P=new ti(w,r.height-e.top-o.borderHeight-o.verticalPadding),D=P.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:s,left:E,fit:w-t.width,maxSizeTop:P,maxSizeBottom:D,minSize:a.with(Math.min(w,a.width))}}(),u=function(){const w=e.left-o.borderWidth-o.horizontalPadding,E=Math.max(o.horizontalPadding,e.left-t.width-o.borderWidth),P=new ti(w,r.height-e.top-o.borderHeight-o.verticalPadding),D=P.with(void 0,e.top+e.height-o.borderHeight-o.verticalPadding);return{top:s,left:E,fit:w-t.width,maxSizeTop:P,maxSizeBottom:D,minSize:a.with(Math.min(w,a.width))}}(),c=function(){const w=e.left,E=-o.borderWidth+e.top+e.height,P=new ti(e.width-o.borderHeight,r.height-e.top-e.height-o.verticalPadding);return{top:E,left:w,fit:P.height-t.height,maxSizeBottom:P,maxSizeTop:P,minSize:a.with(P.width)}}(),d=[l,u,c],f=d.find(w=>w.fit>=0)??d.sort((w,E)=>E.fit-w.fit)[0],h=e.top+e.height-o.borderHeight;let v,g=t.height;const p=Math.max(f.maxSizeTop.height,f.maxSizeBottom.height);g>p&&(g=p);let m;i?g<=f.maxSizeTop.height?(v=!0,m=f.maxSizeTop):(v=!1,m=f.maxSizeBottom):g<=f.maxSizeBottom.height?(v=!1,m=f.maxSizeBottom):(v=!0,m=f.maxSizeTop);let{top:b,left:C}=f;!v&&g>e.height&&(b=h-g);const O=this._editor.getDomNode();if(O){const w=O.getBoundingClientRect();b-=w.top,C-=w.left}this._applyTopLeft({left:C,top:b}),this._resizable.enableSashes(!v,f===l,v,f!==l),this._resizable.minSize=f.minSize,this._resizable.maxSize=m,this._resizable.layout(g,Math.min(m.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this._editor.layoutOverlayWidget(this)}}var vl;(function(n){n[n.FILE=0]="FILE",n[n.FOLDER=1]="FOLDER",n[n.ROOT_FOLDER=2]="ROOT_FOLDER"})(vl||(vl={}));const FNe=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Mw(n,e,t,i,r){if(Hn.isThemeIcon(r))return[`codicon-${r.id}`,"predefined-file-icon"];if(Kn.isUri(r))return[];const o=i===vl.ROOT_FOLDER?["rootfolder-icon"]:i===vl.FOLDER?["folder-icon"]:["file-icon"];if(t){let a;if(t.scheme===io.data)a=HC.parseMetaData(t).get(HC.META_DATA_LABEL);else{const s=t.path.match(FNe);s?(a=Aw(s[2].toLowerCase()),s[1]&&o.push(`${Aw(s[1].toLowerCase())}-name-dir-icon`)):a=Aw(t.authority.toLowerCase())}if(i===vl.ROOT_FOLDER)o.push(`${a}-root-name-folder-icon`);else if(i===vl.FOLDER)o.push(`${a}-name-folder-icon`);else{if(a){if(o.push(`${a}-name-file-icon`),o.push("name-file-icon"),a.length<=255){const l=a.split(".");for(let u=1;u<l.length;u++)o.push(`${l.slice(u).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const s=jNe(n,e,t);s&&o.push(`${Aw(s)}-lang-file-icon`)}}return o}function jNe(n,e,t){if(!t)return null;let i=null;if(t.scheme===io.data){const o=HC.parseMetaData(t).get(HC.META_DATA_MIME);o&&(i=e.getLanguageIdByMimeType(o))}else{const r=n.getModel(t);r&&(i=r.getLanguageId())}return i&&i!==Eb?i:e.guessLanguageIdByFilepathOrFirstLine(t)}function Aw(n){return n.replace(/[\s]/g,"/")}var HNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},iP=function(n,e){return function(t,i){e(t,i,n)}};function HY(n){return`suggest-aria-id:${n}`}const BNe=Ti("suggest-more-info",Kt.chevronRight,G("suggestMoreInfoIcon","Icon for more information in the suggest widget."));var xs;const $Ne=new(xs=class{extract(e,t){if(e.textLabel.match(xs._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(xs._regexStrict))return t[0]=e.completion.detail,!0;if(e.completion.documentation){const i=typeof e.completion.documentation=="string"?e.completion.documentation:e.completion.documentation.value,r=xs._regexRelaxed.exec(i);if(r&&(r.index===0||r.index+r[0].length===i.length))return t[0]=r[0],!0}return!1}},xs._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,xs._regexStrict=new RegExp(`^${xs._regexRelaxed.source}$`,"i"),xs);let fT=class{constructor(e,t,i,r){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=r,this._onDidToggleDetails=new on,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=new st,i=e;i.classList.add("show-file-icons");const r=yt(e,Ut(".icon")),o=yt(r,Ut("span.colorspan")),a=yt(e,Ut(".contents")),s=yt(a,Ut(".main")),l=yt(s,Ut(".icon-label.codicon")),u=yt(s,Ut("span.left")),c=yt(s,Ut("span.right")),d=new m2(u,{supportHighlights:!0,supportIcons:!0});t.add(d);const f=yt(u,Ut("span.signature-label")),h=yt(u,Ut("span.qualifier-label")),v=yt(c,Ut("span.details-label")),g=yt(c,Ut("span.readMore"+Hn.asCSSSelector(BNe)));return g.title=G("readMore","Read More"),{root:i,left:u,right:c,icon:r,colorspan:o,iconLabel:d,iconContainer:l,parametersLabel:f,qualifierLabel:h,detailsLabel:v,readMore:g,disposables:t,configureFont:()=>{const m=this._editor.getOptions(),b=m.get(50),C=b.getMassagedFontFamily(),O=b.fontFeatureSettings,w=m.get(120)||b.fontSize,E=m.get(121)||b.lineHeight,P=b.fontWeight,D=b.letterSpacing,k=`${w}px`,L=`${E}px`,M=`${D}px`;i.style.fontSize=k,i.style.fontWeight=P,i.style.letterSpacing=M,s.style.fontFamily=C,s.style.fontFeatureSettings=O,s.style.lineHeight=L,r.style.height=L,r.style.width=L,g.style.height=L,g.style.width=L}}}renderElement(e,t,i){i.configureFont();const{completion:r}=e;i.root.id=HY(t),i.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:WI(e.score)},a=[];if(r.kind===19&&$Ne.extract(e,a))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=a[0];else if(r.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const s=Mw(this._modelService,this._languageService,Kn.from({scheme:"fake",path:e.textLabel}),vl.FILE),l=Mw(this._modelService,this._languageService,Kn.from({scheme:"fake",path:r.detail}),vl.FILE);o.extraClasses=s.length>l.length?s:l}else r.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=[Mw(this._modelService,this._languageService,Kn.from({scheme:"fake",path:e.textLabel}),vl.FOLDER),Mw(this._modelService,this._languageService,Kn.from({scheme:"fake",path:r.detail}),vl.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...Hn.asClassNameArray(YI.toIcon(r.kind))));r.tags&&r.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),typeof r.label=="string"?(i.parametersLabel.textContent="",i.detailsLabel.textContent=rP(r.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=rP(r.label.detail||""),i.detailsLabel.textContent=rP(r.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(119).showInlineDetails?Ga(i.detailsLabel):Ho(i.detailsLabel),EA(e)?(i.right.classList.add("can-expand-details"),Ga(i.readMore),i.readMore.onmousedown=s=>{s.stopPropagation(),s.preventDefault()},i.readMore.onclick=s=>{s.stopPropagation(),s.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),Ho(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};fT=HNe([iP(1,Yr),iP(2,Ll),iP(3,ls)],fT);function rP(n){return n.replace(/\r\n|\r|\n/g,"")}var VNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Rw=function(n,e){return function(t,i){e(t,i,n)}},Tv;_t("editorSuggestWidget.background",J2,G("editorSuggestWidgetBackground","Background color of the suggest widget."));_t("editorSuggestWidget.border",JQ,G("editorSuggestWidgetBorder","Border color of the suggest widget."));const WNe=_t("editorSuggestWidget.foreground",Ny,G("editorSuggestWidgetForeground","Foreground color of the suggest widget."));_t("editorSuggestWidget.selectedForeground",Q2,G("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget."));_t("editorSuggestWidget.selectedIconForeground",QQ,G("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const zNe=_t("editorSuggestWidget.selectedBackground",e6,G("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));_t("editorSuggestWidget.highlightForeground",t6,G("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget."));_t("editorSuggestWidget.focusHighlightForeground",eee,G("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));_t("editorSuggestWidgetStatus.foreground",pl(WNe,.5),G("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class UNe{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof ss}`}restore(){const e=this._service.get(this._key,0)??"";try{const t=JSON.parse(e);if(ti.is(t))return ti.lift(t)}catch{}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}var Yc;let hT=(Yc=class{constructor(e,t,i,r,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._pendingLayout=new ns,this._pendingShowDetails=new ns,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new ky,this._disposables=new st,this._onDidSelect=new OR,this._onDidFocus=new OR,this._onDidHide=new on,this._onDidShow=new on,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new on,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new rA,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new KNe(this,e),this._persistedSize=new UNe(t,e);class a{constructor(h,v,g=!1,p=!1){this.persistedSize=h,this.currentSize=v,this.persistHeight=g,this.persistWidth=p}}let s;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),s=new a(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(f=>{var h,v;if(this._resize(f.dimension.width,f.dimension.height),s&&(s.persistHeight=s.persistHeight||!!f.north||!!f.south,s.persistWidth=s.persistWidth||!!f.east||!!f.west),!!f.done){if(s){const{itemHeight:g,defaultSize:p}=this.getLayoutInfo(),m=Math.round(g/2);let{width:b,height:C}=this.element.size;(!s.persistHeight||Math.abs(s.currentSize.height-C)<=m)&&(C=((h=s.persistedSize)==null?void 0:h.height)??p.height),(!s.persistWidth||Math.abs(s.currentSize.width-b)<=m)&&(b=((v=s.persistedSize)==null?void 0:v.width)??p.width),this._persistedSize.store(new ti(b,C))}this._contentWidget.unlockPreference(),s=void 0}})),this._messageElement=yt(this.element.domNode,Ut(".message")),this._listElement=yt(this.element.domNode,Ut(".tree"));const l=this._disposables.add(o.createInstance(dT,this.editor));l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new NNe(l,this.editor);const u=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(119).showIcons);u();const c=o.createInstance(fT,this.editor);this._disposables.add(c),this._disposables.add(c.onDidToggleDetails(()=>this.toggleDetails())),this._list=new FI("SuggestWidget",this._listElement,{getHeight:f=>this.getLayoutInfo().itemHeight,getTemplateId:f=>"suggestion"},[c],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>G("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:f=>{let h=f.textLabel;if(typeof f.completion.label!="string"){const{detail:m,description:b}=f.completion.label;m&&b?h=G("label.full","{0} {1}, {2}",h,m,b):m?h=G("label.detail","{0} {1}",h,m):b&&(h=G("label.desc","{0}, {1}",h,b))}if(!f.isResolved||!this._isDetailsVisible())return h;const{documentation:v,detail:g}=f.completion,p=D2("{0}{1}",g||"",v?typeof v=="string"?v:v.value:"");return G("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",h,p)}}}),this._list.style(n6({listInactiveFocusBackground:zNe,listInactiveFocusOutline:Qf})),this._status=o.createInstance(cT,this.element.domNode,Hc);const d=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(119).showStatusBar);d(),this._disposables.add(r.onDidColorThemeChange(f=>this._onThemeChange(f))),this._onThemeChange(r.getColorTheme()),this._disposables.add(this._list.onMouseDown(f=>this._onListMouseDownOrTap(f))),this._disposables.add(this._list.onTap(f=>this._onListMouseDownOrTap(f))),this._disposables.add(this._list.onDidChangeSelection(f=>this._onListSelection(f))),this._disposables.add(this._list.onDidChangeFocus(f=>this._onListFocus(f))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(f=>{f.hasChanged(119)&&(d(),u()),this._completionModel&&(f.hasChanged(50)||f.hasChanged(120)||f.hasChanged(121))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=Ht.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=Ht.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=Ht.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=Ht.HasFocusedSuggestion.bindTo(i),this._disposables.add(Eu(this._details.widget.domNode,"keydown",f=>{this._onDetailsKeydown.fire(f)})),this._disposables.add(this.editor.onMouseDown(f=>this._onEditorMouseDown(f)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)==null||e.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element>"u"||typeof e.index>"u"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=MC(e.type)?2:1}_onListFocus(e){var r;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const t=e.elements[0],i=e.indexes[0];t!==this._focusedItem&&((r=this._currentSuggestionDetails)==null||r.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=t,this._list.reveal(i),this._currentSuggestionDetails=cr(async o=>{const a=bb(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),s=o.onCancellationRequested(()=>a.dispose());try{return await t.resolve(o)}finally{a.dispose(),s.dispose()}}),this._currentSuggestionDetails.then(()=>{i>=this._list.length||t!==this._list.element(i)||(this._ignoreFocusEvents=!0,this._list.splice(i,1,[t]),this._list.setFocus([i]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:HY(i)}))}).catch(Jn)),this._onDidFocus.fire({item:t,index:i,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:Ho(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Tv.LOADING_MESSAGE,Ho(this._listElement,this._status.element),Ga(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,_b(Tv.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Tv.NO_SUGGESTIONS_MESSAGE,Ho(this._listElement,this._status.element),Ga(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,_b(Tv.NO_SUGGESTIONS_MESSAGE);break;case 3:Ho(this._messageElement),Ga(this._listElement,this._status.element),this._show();break;case 4:Ho(this._messageElement),Ga(this._listElement,this._status.element),this._show();break;case 5:Ho(this._messageElement),Ga(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=bb(()=>this._setState(1),t)))}showSuggestions(e,t,i,r,o){var l,u;if(this._contentWidget.setPosition(this.editor.getPosition()),(l=this._loadingTimeout)==null||l.dispose(),(u=this._currentSuggestionDetails)==null||u.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&this._state!==2&&this._state!==0){this._setState(4);return}const a=this._completionModel.items.length,s=a===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),s){this._setState(r?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus(o?[]:[t])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=xR(of(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(EA(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._pendingShowDetails.value=xR(of(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var i;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(i=this._loadingTimeout)==null||i.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const e=this._persistedSize.restore(),t=Math.ceil(this.getLayoutInfo().itemHeight*4.3);e&&e.height<t&&this._persistedSize.store(e.with(void 0,t))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(e){var a,s;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const t=My(this.element.domNode.ownerDocument.body),i=this.getLayoutInfo();e||(e=i.defaultSize);let r=e.height,o=e.width;if(this._status.element.style.height=`${i.itemHeight}px`,this._state===2||this._state===1)r=i.itemHeight+i.borderHeight,o=i.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ti(o,r),this._contentWidget.setPreference(2);else{const l=t.width-i.borderHeight-2*i.horizontalPadding;o>l&&(o=l);const u=this._completionModel?this._completionModel.stats.pLabelLen*i.typicalHalfwidthCharacterWidth:o,c=i.statusBarHeight+this._list.contentHeight+i.borderHeight,d=i.itemHeight+i.statusBarHeight,f=oo(this.editor.getDomNode()),h=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),v=f.top+h.top+h.height,g=Math.min(t.height-v-i.verticalPadding,c),p=f.top+h.top-i.verticalPadding,m=Math.min(p,c);let b=Math.min(Math.max(m,g)+i.borderHeight,c);r===((a=this._cappedHeight)==null?void 0:a.capped)&&(r=this._cappedHeight.wanted),r<d&&(r=d),r>b&&(r=b),r>g||this._forceRenderingAbove&&p>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),b=m):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),b=g),this.element.preferredSize=new ti(u,i.defaultSize.height),this.element.maxSize=new ti(l,b),this.element.minSize=new ti(220,d),this._cappedHeight=r===c?{wanted:((s=this._cappedHeight)==null?void 0:s.wanted)??e.height,capped:r}:void 0}this._resize(o,r)}_resize(e,t){const{width:i,height:r}=this.element.maxSize;e=Math.min(i,e),t=Math.min(r,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=`${t-o}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())==null?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(50),t=tee(this.editor.getOption(121)||e.lineHeight,8,1e3),i=!this.editor.getOption(119).showStatusBar||this._state===2||this._state===1?0:t,r=this._details.widget.borderWidth,o=2*r;return{itemHeight:t,statusBarHeight:i,borderWidth:r,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ti(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}},Tv=Yc,Yc.LOADING_MESSAGE=G("suggestWidget.loading","Loading..."),Yc.NO_SUGGESTIONS_MESSAGE=G("suggestWidget.noSuggestions","No suggestions."),Yc);hT=Tv=VNe([Rw(1,cp),Rw(2,Ln),Rw(3,ls),Rw(4,ln)],hT);class KNe{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:r}=this._widget.getLayoutInfo();return new ti(t+2*i+r,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var qNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pv=function(n,e){return function(t,i){e(t,i,n)}},vT;class GNe{constructor(e,t){if(this._model=e,this._position=t,this._decorationOptions=mn.register({description:"suggest-line-suffix",stickiness:1}),e.getLineMaxColumn(t.lineNumber)!==t.column){const r=e.getOffsetAt(t),o=e.getPositionAt(r+1);e.changeDecorations(a=>{this._marker&&a.removeDecoration(this._marker),this._marker=a.addDecoration(be.fromPositions(t,o),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(e=>{e.removeDecoration(this._marker),this._marker=void 0})}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}var Nf;let Za=(Nf=class{static get(e){return e.getContribution(vT.ID)}constructor(e,t,i,r,o,a,s){this._memoryService=t,this._commandService=i,this._contextKeyService=r,this._instantiationService=o,this._logService=a,this._telemetryService=s,this._lineSuffix=new ns,this._toDispose=new st,this._selectors=new YNe(d=>d.priority),this._onWillInsertSuggestItem=new on,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=e,this.model=o.createInstance(dS,this.editor),this._selectors.register({priority:0,select:(d,f,h)=>this._memoryService.select(d,f,h)});const l=Ht.InsertMode.bindTo(r);l.set(e.getOption(119).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>l.set(e.getOption(119).insertMode))),this.widget=this._toDispose.add(new yx(of(e.getDomNode()),()=>{const d=this._instantiationService.createInstance(hT,this.editor);this._toDispose.add(d),this._toDispose.add(d.onDidSelect(p=>this._insertSuggestion(p,0),this));const f=new DNe(this.editor,d,this.model,p=>this._insertSuggestion(p,2));this._toDispose.add(f);const h=Ht.MakesTextEdit.bindTo(this._contextKeyService),v=Ht.HasInsertAndReplaceRange.bindTo(this._contextKeyService),g=Ht.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(bi(()=>{h.reset(),v.reset(),g.reset()})),this._toDispose.add(d.onDidFocus(({item:p})=>{const m=this.editor.getPosition(),b=p.editStart.column,C=m.column;let O=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!p.completion.additionalTextEdits&&!(p.completion.insertTextRules&4)&&C-b===p.completion.insertText.length&&(O=this.editor.getModel().getValueInRange({startLineNumber:m.lineNumber,startColumn:b,endLineNumber:m.lineNumber,endColumn:C})!==p.completion.insertText),h.set(O),v.set(!Ot.equals(p.editInsertEnd,p.editReplaceEnd)),g.set(!!p.provider.resolveCompletionItem||!!p.completion.documentation||p.completion.detail!==p.completion.label)})),this._toDispose.add(d.onDetailsKeyDown(p=>{if(p.toKeyCodeChord().equals(new ER(!0,!1,!1,!1,33))||Ol&&p.toKeyCodeChord().equals(new ER(!1,!1,!1,!0,33))){p.stopPropagation();return}p.toKeyCodeChord().isModifierKey()||this.editor.focus()})),d})),this._overtypingCapturer=this._toDispose.add(new yx(of(e.getDomNode()),()=>this._toDispose.add(new uT(this.editor,this.model)))),this._alternatives=this._toDispose.add(new yx(of(e.getDomNode()),()=>this._toDispose.add(new ep(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(lS,e)),this._toDispose.add(this.model.onDidTrigger(d=>{this.widget.value.showTriggered(d.auto,d.shy?250:50),this._lineSuffix.value=new GNe(this.editor.getModel(),d.position)})),this._toDispose.add(this.model.onDidSuggest(d=>{if(d.triggerOptions.shy)return;let f=-1;for(const v of this._selectors.itemsOrderedByPriorityDesc)if(f=v.select(this.editor.getModel(),this.editor.getPosition(),d.completionModel.items),f!==-1)break;if(f===-1&&(f=0),this.model.state===0)return;let h=!1;if(d.triggerOptions.auto){const v=this.editor.getOption(119);v.selectionMode==="never"||v.selectionMode==="always"?h=v.selectionMode==="never":v.selectionMode==="whenTriggerCharacter"?h=d.triggerOptions.triggerKind!==1:v.selectionMode==="whenQuickSuggestion"&&(h=d.triggerOptions.triggerKind===1&&!d.triggerOptions.refilter)}this.widget.value.showSuggestions(d.completionModel,f,d.isFrozen,d.triggerOptions.auto,h)})),this._toDispose.add(this.model.onDidCancel(d=>{d.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const u=Ht.AcceptSuggestionsOnEnter.bindTo(r),c=()=>{const d=this.editor.getOption(1);u.set(d==="on"||d==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>c())),c()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const i=Gr.get(this.editor);if(!i)return;this._onWillInsertSuggestItem.fire({item:e.item});const r=this.editor.getModel(),o=r.getAlternativeVersionId(),{item:a}=e,s=[],l=new Er;t&1||this.editor.pushUndoStop();const u=this.getOverwriteInfo(a,!!(t&8));this._memoryService.memorize(r,this.editor.getPosition(),a);const c=a.isResolved;let d=-1,f=-1;if(Array.isArray(a.completion.additionalTextEdits)){this.model.cancel();const v=wg.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",a.completion.additionalTextEdits.map(g=>{let p=be.lift(g.range);if(p.startLineNumber===a.position.lineNumber&&p.startColumn>a.position.column){const m=this.editor.getPosition().column-a.position.column,b=m,C=be.spansMultipleLines(p)?0:m;p=new be(p.startLineNumber,p.startColumn+b,p.endLineNumber,p.endColumn+C)}return Oi.replaceMove(p,g.text)})),v.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!c){const v=new ko;let g;const p=r.onDidChangeContent(O=>{if(O.isFlush){l.cancel(),p.dispose();return}for(const w of O.changes){const E=be.getEndPosition(w.range);(!g||Ot.isBefore(E,g))&&(g=E)}}),m=t;t|=2;let b=!1;const C=this.editor.onWillType(()=>{C.dispose(),b=!0,m&2||this.editor.pushUndoStop()});s.push(a.resolve(l.token).then(()=>{if(!a.completion.additionalTextEdits||l.token.isCancellationRequested)return;if(g&&a.completion.additionalTextEdits.some(w=>Ot.isBefore(g,be.getStartPosition(w.range))))return!1;b&&this.editor.pushUndoStop();const O=wg.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",a.completion.additionalTextEdits.map(w=>Oi.replaceMove(be.lift(w.range),w.text))),O.restoreRelativeVerticalPositionOfCursor(this.editor),(b||!(m&2))&&this.editor.pushUndoStop(),!0}).then(O=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",v.elapsed(),O),f=O===!0?1:O===!1?0:-2}).finally(()=>{p.dispose(),C.dispose()}))}let{insertText:h}=a.completion;if(a.completion.insertTextRules&4||(h=ph.escape(h)),this.model.cancel(),i.insert(h,{overwriteBefore:u.overwriteBefore,overwriteAfter:u.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(a.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),a.completion.command)if(a.completion.command.id===fS.id)this.model.trigger({auto:!0,retrigger:!0});else{const v=new ko;s.push(this._commandService.executeCommand(a.completion.command.id,...a.completion.command.arguments?[...a.completion.command.arguments]:[]).catch(g=>{a.completion.extensionId?Fi(g):Jn(g)}).finally(()=>{d=v.elapsed()}))}t&4&&this._alternatives.value.set(e,v=>{for(l.cancel();r.canUndo();){o!==r.getAlternativeVersionId()&&r.undo(),this._insertSuggestion(v,3|(t&8?8:0));break}}),this._alertCompletionItem(a),Promise.all(s).finally(()=>{this._reportSuggestionAcceptedTelemetry(a,r,c,d,f,e.index,e.model.items),this.model.clear(),l.dispose()})}_reportSuggestionAcceptedTelemetry(e,t,i,r,o,a,s){var f;if(Math.floor(Math.random()*100)===0)return;const l=new Map;for(let h=0;h<Math.min(30,s.length);h++){const v=s[h].textLabel;l.has(v)?l.get(v).push(h):l.set(v,[h])}const u=l.get(e.textLabel),d=u&&u.length>1?u[0]:-1;this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:((f=e.extensionId)==null?void 0:f.value)??"unknown",providerId:e.provider._debugDisplayName??"unknown",kind:e.completion.kind,basenameHash:M2(xl(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:nee(t.uri),resolveInfo:e.provider.resolveCompletionItem?i?1:0:-1,resolveDuration:e.resolveDuration,commandDuration:r,additionalEditsAsync:o,index:a,firstIndex:d})}getOverwriteInfo(e,t){In(this.editor.hasModel());let i=this.editor.getOption(119).insertMode==="replace";t&&(i=!i);const r=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,a=this.editor.getPosition().column-e.position.column,s=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:r+a,overwriteAfter:o+s}}_alertCompletionItem(e){if(Wo(e.completion.additionalTextEdits)){const t=G("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);ts(t)}}triggerSuggest(e,t,i){this.editor.hasModel()&&(this.model.trigger({auto:t??!1,completionOptions:{providerFilter:e,kindFilter:i?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},r=o=>{if(o.completion.insertTextRules&4||o.completion.additionalTextEdits)return!0;const a=this.editor.getPosition(),s=o.editStart.column,l=a.column;return l-s!==o.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:a.lineNumber,startColumn:s,endLineNumber:a.lineNumber,endColumn:l})!==o.completion.insertText};lr.once(this.model.onDidTrigger)(o=>{const a=[];lr.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{zr(a),i()},void 0,a),this.model.onDidSuggest(({completionModel:s})=>{if(zr(a),s.items.length===0){i();return}const l=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),s.items),u=s.items[l];if(!r(u)){i();return}this.editor.pushUndoStop(),this._insertSuggestion({index:l,item:u,model:s},7)},void 0,a)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let r=0;e&&(r|=4),t&&(r|=8),this._insertSuggestion(i,r)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}},vT=Nf,Nf.ID="editor.contrib.suggestController",Nf);Za=vT=qNe([pv(1,tx),pv(2,yr),pv(3,Ln),pv(4,ln),pv(5,hp),pv(6,Hu)],Za);class YNe{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,i)=>this.prioritySelector(i)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}const WS=class WS extends Qe{constructor(){super({id:WS.id,label:G("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Ne.and(ve.writable,ve.hasCompletionItemProvider,Ht.Visible.toNegated()),kbOpts:{kbExpr:ve.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){const r=Za.get(t);if(!r)return;let o;i&&typeof i=="object"&&i.auto===!0&&(o=!0),r.triggerSuggest(void 0,o,void 0)}};WS.id="editor.action.triggerSuggest";let fS=WS;gn(Za.ID,Za,2);Le(fS);const Xo=190,Zr=uo.bindToContribution(Za.get);Et(new Zr({id:"acceptSelectedSuggestion",precondition:Ne.and(Ht.Visible,Ht.HasFocusedSuggestion),handler(n){n.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:Ne.and(Ht.Visible,ve.textInputFocus),weight:Xo},{primary:3,kbExpr:Ne.and(Ht.Visible,ve.textInputFocus,Ht.AcceptSuggestionsOnEnter,Ht.MakesTextEdit),weight:Xo}],menuOpts:[{menuId:Hc,title:G("accept.insert","Insert"),group:"left",order:1,when:Ht.HasInsertAndReplaceRange.toNegated()},{menuId:Hc,title:G("accept.insert","Insert"),group:"left",order:1,when:Ne.and(Ht.HasInsertAndReplaceRange,Ht.InsertMode.isEqualTo("insert"))},{menuId:Hc,title:G("accept.replace","Replace"),group:"left",order:1,when:Ne.and(Ht.HasInsertAndReplaceRange,Ht.InsertMode.isEqualTo("replace"))}]}));Et(new Zr({id:"acceptAlternativeSelectedSuggestion",precondition:Ne.and(Ht.Visible,ve.textInputFocus,Ht.HasFocusedSuggestion),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:1027,secondary:[1026]},handler(n){n.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Hc,group:"left",order:2,when:Ne.and(Ht.HasInsertAndReplaceRange,Ht.InsertMode.isEqualTo("insert")),title:G("accept.replace","Replace")},{menuId:Hc,group:"left",order:2,when:Ne.and(Ht.HasInsertAndReplaceRange,Ht.InsertMode.isEqualTo("replace")),title:G("accept.insert","Insert")}]}));ii.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion");Et(new Zr({id:"hideSuggestWidget",precondition:Ht.Visible,handler:n=>n.cancelSuggestWidget(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:9,secondary:[1033]}}));Et(new Zr({id:"selectNextSuggestion",precondition:Ne.and(Ht.Visible,Ne.or(Ht.MultipleSuggestions,Ht.HasFocusedSuggestion.negate())),handler:n=>n.selectNextSuggestion(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}}));Et(new Zr({id:"selectNextPageSuggestion",precondition:Ne.and(Ht.Visible,Ne.or(Ht.MultipleSuggestions,Ht.HasFocusedSuggestion.negate())),handler:n=>n.selectNextPageSuggestion(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:12,secondary:[2060]}}));Et(new Zr({id:"selectLastSuggestion",precondition:Ne.and(Ht.Visible,Ne.or(Ht.MultipleSuggestions,Ht.HasFocusedSuggestion.negate())),handler:n=>n.selectLastSuggestion()}));Et(new Zr({id:"selectPrevSuggestion",precondition:Ne.and(Ht.Visible,Ne.or(Ht.MultipleSuggestions,Ht.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevSuggestion(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}}));Et(new Zr({id:"selectPrevPageSuggestion",precondition:Ne.and(Ht.Visible,Ne.or(Ht.MultipleSuggestions,Ht.HasFocusedSuggestion.negate())),handler:n=>n.selectPrevPageSuggestion(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:11,secondary:[2059]}}));Et(new Zr({id:"selectFirstSuggestion",precondition:Ne.and(Ht.Visible,Ne.or(Ht.MultipleSuggestions,Ht.HasFocusedSuggestion.negate())),handler:n=>n.selectFirstSuggestion()}));Et(new Zr({id:"focusSuggestion",precondition:Ne.and(Ht.Visible,Ht.HasFocusedSuggestion.negate()),handler:n=>n.focusSuggestion(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}}));Et(new Zr({id:"focusAndAcceptSuggestion",precondition:Ne.and(Ht.Visible,Ht.HasFocusedSuggestion.negate()),handler:n=>{n.focusSuggestion(),n.acceptSelectedSuggestion(!0,!1)}}));Et(new Zr({id:"toggleSuggestionDetails",precondition:Ne.and(Ht.Visible,Ht.HasFocusedSuggestion),handler:n=>n.toggleSuggestionDetails(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Hc,group:"right",order:1,when:Ne.and(Ht.DetailsVisible,Ht.CanResolve),title:G("detail.more","Show Less")},{menuId:Hc,group:"right",order:1,when:Ne.and(Ht.DetailsVisible.toNegated(),Ht.CanResolve),title:G("detail.less","Show More")}]}));Et(new Zr({id:"toggleExplainMode",precondition:Ht.Visible,handler:n=>n.toggleExplainMode(),kbOpts:{weight:100,primary:2138}}));Et(new Zr({id:"toggleSuggestionFocus",precondition:Ht.Visible,handler:n=>n.toggleSuggestionFocus(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:2570,mac:{primary:778}}}));Et(new Zr({id:"insertBestCompletion",precondition:Ne.and(ve.textInputFocus,Ne.equals("config.editor.tabCompletion","on"),lS.AtEnd,Ht.Visible.toNegated(),ep.OtherSuggestions.toNegated(),Gr.InSnippetMode.toNegated()),handler:(n,e)=>{n.triggerSuggestAndAcceptBest(A2(e)?{fallback:"tab",...e}:{fallback:"tab"})},kbOpts:{weight:Xo,primary:2}}));Et(new Zr({id:"insertNextSuggestion",precondition:Ne.and(ve.textInputFocus,Ne.equals("config.editor.tabCompletion","on"),ep.OtherSuggestions,Ht.Visible.toNegated(),Gr.InSnippetMode.toNegated()),handler:n=>n.acceptNextSuggestion(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:2}}));Et(new Zr({id:"insertPrevSuggestion",precondition:Ne.and(ve.textInputFocus,Ne.equals("config.editor.tabCompletion","on"),ep.OtherSuggestions,Ht.Visible.toNegated(),Gr.InSnippetMode.toNegated()),handler:n=>n.acceptPrevSuggestion(),kbOpts:{weight:Xo,kbExpr:ve.textInputFocus,primary:1026}}));Le(class extends Qe{constructor(){super({id:"editor.action.resetSuggestSize",label:G("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(n,e){var t;(t=Za.get(e))==null||t.resetWidgetSize()}});class ZNe extends dt{get selectedItem(){return this._currentSuggestItemInfo}constructor(e,t,i){super(),this.editor=e,this.suggestControllerPreselector=t,this.onWillAccept=i,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._onDidSelectedItemChange=this._register(new on),this.onDidSelectedItemChange=this._onDidSelectedItemChange.event,this._register(e.onKeyDown(o=>{o.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(o=>{o.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const r=Za.get(this.editor);if(r){this._register(r.registerSelector({priority:100,select:(s,l,u)=>{const c=this.editor.getModel();if(!c)return-1;const d=this.suggestControllerPreselector(),f=d?vf(d,c):void 0;if(!f)return-1;const h=Ot.lift(l),v=u.map((p,m)=>{const b=lb.fromSuggestion(r,c,h,p,this.isShiftKeyPressed),C=vf(b.toSingleTextEdit(),c),O=jY(f,C);return{index:m,valid:O,prefixLength:C.text.length,suggestItem:p}}).filter(p=>p&&p.valid&&p.prefixLength>0),g=iee(v,Ry(p=>p.prefixLength,C1));return g?g.index:-1}}));let o=!1;const a=()=>{o||(o=!0,this._register(r.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(r.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(r.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(lr.once(r.model.onDidTrigger)(s=>{a()})),this._register(r.onWillInsertSuggestItem(s=>{const l=this.editor.getPosition(),u=this.editor.getModel();if(!l||!u)return;const c=lb.fromSuggestion(r,u,l,s.item,this.isShiftKeyPressed);this.onWillAccept(c)}))}this.update(this._isActive)}update(e){const t=this.getSuggestItemInfo();(this._isActive!==e||!XNe(this._currentSuggestItemInfo,t))&&(this._isActive=e,this._currentSuggestItemInfo=t,this._onDidSelectedItemChange.fire())}getSuggestItemInfo(){const e=Za.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem(),i=this.editor.getPosition(),r=this.editor.getModel();if(!(!t||!i||!r))return lb.fromSuggestion(e,r,i,t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=Za.get(this.editor);e==null||e.stopForceRenderingAbove()}forceRenderingAbove(){const e=Za.get(this.editor);e==null||e.forceRenderingAbove()}}class lb{static fromSuggestion(e,t,i,r,o){let{insertText:a}=r.completion,s=!1;if(r.completion.insertTextRules&4){const u=new ph().parse(a);u.children.length<100&&sS.adjustWhitespace(t,i,!0,u),a=u.toString(),s=!0}const l=e.getOverwriteInfo(r,o);return new lb(be.fromPositions(i.delta(0,-l.overwriteBefore),i.delta(0,Math.max(l.overwriteAfter,0))),a,r.completion.kind,s)}constructor(e,t,i,r){this.range=e,this.insertText=t,this.completionItemKind=i,this.isSnippetText=r}equals(e){return this.range.equalsRange(e.range)&&this.insertText===e.insertText&&this.completionItemKind===e.completionItemKind&&this.isSnippetText===e.isSnippetText}toSelectedSuggestionInfo(){return new ree(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new Pu(this.range,this.insertText)}}function XNe(n,e){return n===e?!0:!n||!e?!1:n.equals(e)}var JNe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Yl=function(n,e){return function(t,i){e(t,i,n)}},gT,Ff;let Oa=(Ff=class extends dt{static get(e){return e.getContribution(gT.ID)}constructor(e,t,i,r,o,a,s,l,u,c){super(),this.editor=e,this._instantiationService=t,this._contextKeyService=i,this._configurationService=r,this._commandService=o,this._debounceService=a,this._languageFeaturesService=s,this._accessibilitySignalService=l,this._keybindingService=u,this._accessibilityService=c,this._editorObs=cl(this.editor),this._positions=Bn(this,f=>{var h;return((h=this._editorObs.selections.read(f))==null?void 0:h.map(v=>v.getEndPosition()))??[new Ot(1,1)]}),this._suggestWidgetAdaptor=this._register(new ZNe(this.editor,()=>{var f,h;return this._editorObs.forceUpdate(),(h=(f=this.model.get())==null?void 0:f.selectedInlineCompletion.get())==null?void 0:h.toSingleTextEdit(void 0)},f=>this._editorObs.forceUpdate(h=>{var v;(v=this.model.get())==null||v.handleSuggestAccepted(f)}))),this._suggestWidgetSelectedItem=_o(this,f=>this._suggestWidgetAdaptor.onDidSelectedItemChange(()=>{this._editorObs.forceUpdate(h=>f(void 0))}),()=>this._suggestWidgetAdaptor.selectedItem),this._enabledInConfig=_o(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._isScreenReaderEnabled=_o(this,this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this._editorDictationInProgress=_o(this,this._contextKeyService.onDidChangeContext,()=>this._contextKeyService.getContext(this.editor.getDomNode()).getValue("editorDictation.inProgress")===!0),this._enabled=Bn(this,f=>this._enabledInConfig.read(f)&&(!this._isScreenReaderEnabled.read(f)||!this._editorDictationInProgress.read(f))),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this.model=rd(this,f=>{if(this._editorObs.isReadonly.read(f))return;const h=this._editorObs.model.read(f);return h?this._instantiationService.createInstance(oT,h,this._suggestWidgetSelectedItem,this._editorObs.versionId,this._positions,this._debounceValue,_o(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).preview),_o(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(119).previewMode),_o(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).mode),this._enabled):void 0}).recomputeInitiallyAndOnChange(this._store),this._ghostTexts=Bn(this,f=>{const h=this.model.read(f);return(h==null?void 0:h.ghostTexts.read(f))??[]}),this._stablizedGhostTexts=QNe(this._ghostTexts,this._store),this._ghostTextWidgets=oee(this,this._stablizedGhostTexts,(f,h)=>h.add(this._instantiationService.createInstance(iT,this.editor,{ghostText:f,minReservedLineCount:du(0),targetTextModel:this.model.map(v=>v==null?void 0:v.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._playAccessibilitySignal=GI(this),this._fontFamily=_o(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._register(new Po(this._contextKeyService,this.model)),this._register(PR(this._editorObs.onDidType,(f,h)=>{var v;this._enabled.get()&&((v=this.model.get())==null||v.trigger())})),this._register(this._commandService.onDidExecuteCommand(f=>{new Set([Uw.Tab.id,Uw.DeleteLeft.id,Uw.DeleteRight.id,qG,"acceptSelectedSuggestion"]).has(f.commandId)&&e.hasTextFocus()&&this._enabled.get()&&this._editorObs.forceUpdate(v=>{var g;(g=this.model.get())==null||g.trigger(v)})})),this._register(PR(this._editorObs.selections,(f,h)=>{var v;h.some(g=>g.reason===3||g.source==="api")&&((v=this.model.get())==null||v.stop())})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||e.getOption(62).keepOnBlur||Gg.dropDownVisible||Ph(f=>{var h;(h=this.model.get())==null||h.stop(f)})})),this._register(fi(f=>{var v;const h=(v=this.model.read(f))==null?void 0:v.state.read(f);h!=null&&h.suggestItem?h.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register(bi(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));const d=_1(this,(f,h)=>{var p;const v=this.model.read(f),g=v==null?void 0:v.state.read(f);return this._suggestWidgetSelectedItem.get()?h:(p=g==null?void 0:g.inlineCompletion)==null?void 0:p.semanticId});this._register(aee(Bn(f=>(this._playAccessibilitySignal.read(f),d.read(f),{})),async(f,h,v)=>{const g=this.model.get(),p=g==null?void 0:g.state.get();if(!p||!g)return;const m=g.textModel.getLineContent(p.primaryGhostText.lineNumber);await ZI(50,CP(v)),await see(this._suggestWidgetSelectedItem,gm,()=>!1,CP(v)),await this._accessibilitySignalService.playSignal(F2.inlineSuggestion),this.editor.getOption(8)&&this._provideScreenReaderUpdate(p.primaryGhostText.renderForScreenReader(m))})),this._register(new CD(this.editor,this.model,this._instantiationService)),this._register(WRe(Bn(f=>{const h=this._fontFamily.read(f);return h===""||h==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${h};
}`}))),this._register(this._configurationService.onDidChangeConfiguration(f=>{f.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(e){this._playAccessibilitySignal.trigger(e)}_provideScreenReaderUpdate(e){const t=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),i=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let r;!t&&i&&this.editor.getOption(150)&&(r=G("showAccessibleViewHint","Inspect this in the accessible view ({0})",i.getAriaLabel())),ts(r?e+", "+r:e)}shouldShowHoverAt(e){var i;const t=(i=this.model.get())==null?void 0:i.primaryGhostText.get();return t?t.parts.some(r=>e.containsPosition(new Ot(t.lineNumber,r.column))):!1}shouldShowHoverAtViewZone(e){var t;return((t=this._ghostTextWidgets.get()[0])==null?void 0:t.ownsViewZone(e))??!1}},gT=Ff,Ff.ID="editor.contrib.inlineCompletionsController",Ff);Oa=gT=JNe([Yl(1,ln),Yl(2,Ln),Yl(3,vi),Yl(4,yr),Yl(5,xa),Yl(6,xt),Yl(7,R2),Yl(8,rr),Yl(9,w1)],Oa);function QNe(n,e){const t=zo("result",[]),i=[];return e.add(fi(r=>{const o=n.read(r);Ph(a=>{if(o.length!==i.length){i.length=o.length;for(let s=0;s<i.length;s++)i[s]||(i[s]=zo("item",o[s]));t.set([...i],a)}i.forEach((s,l)=>s.set(o[l],a))})})),t}const zS=class zS extends Qe{constructor(){super({id:zS.ID,label:G("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Ne.and(ve.writable,Po.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(e,t){var r;const i=Oa.get(t);(r=i==null?void 0:i.model.get())==null||r.next()}};zS.ID=YG;let pT=zS;const US=class US extends Qe{constructor(){super({id:US.ID,label:G("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Ne.and(ve.writable,Po.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(e,t){var r;const i=Oa.get(t);(r=i==null?void 0:i.model.get())==null||r.previous()}};US.ID=GG;let mT=US;class eFe extends Qe{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:G("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:ve.writable})}async run(e,t){const i=Oa.get(t);await i6(async r=>{var o;await((o=i==null?void 0:i.model.get())==null?void 0:o.triggerExplicitly(r)),i==null||i.playAccessibilitySignal(r)})}}class tFe extends Qe{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:G("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:Ne.and(ve.writable,Po.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:Ne.and(ve.writable,Po.inlineSuggestionVisible)},menuOpts:[{menuId:pt.InlineSuggestionToolbar,title:G("acceptWord","Accept Word"),group:"primary",order:2}]})}async run(e,t){var r;const i=Oa.get(t);await((r=i==null?void 0:i.model.get())==null?void 0:r.acceptNextWord(i.editor))}}class nFe extends Qe{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:G("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:Ne.and(ve.writable,Po.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:pt.InlineSuggestionToolbar,title:G("acceptLine","Accept Line"),group:"secondary",order:2}]})}async run(e,t){var r;const i=Oa.get(t);await((r=i==null?void 0:i.model.get())==null?void 0:r.acceptNextLine(i.editor))}}class iFe extends Qe{constructor(){super({id:qG,label:G("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:Po.inlineSuggestionVisible,menuOpts:[{menuId:pt.InlineSuggestionToolbar,title:G("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:Ne.and(Po.inlineSuggestionVisible,ve.tabMovesFocus.toNegated(),Po.inlineSuggestionHasIndentationLessThanTabSize,Ht.Visible.toNegated(),ve.hoverFocused.toNegated())}})}async run(e,t){var r;const i=Oa.get(t);i&&((r=i.model.get())==null||r.accept(i.editor),i.editor.focus())}}const KS=class KS extends Qe{constructor(){super({id:KS.ID,label:G("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:Po.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(e,t){const i=Oa.get(t);Ph(r=>{var o;(o=i==null?void 0:i.model.get())==null||o.stop(r)})}};KS.ID="editor.action.inlineSuggest.hide";let bT=KS;const qS=class qS extends lo{constructor(){super({id:qS.ID,title:G("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:pt.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:Ne.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(e,t){const i=e.get(vi),o=i.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";i.updateValue("editor.inlineSuggest.showToolbar",o)}};qS.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";let yT=qS;var rFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fm=function(n,e){return function(t,i){e(t,i,n)}};class oFe{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let _T=class{constructor(e,t,i,r,o,a){this._editor=e,this._languageService=t,this._openerService=i,this.accessibilityService=r,this._instantiationService=o,this._telemetryService=a,this.hoverOrdinal=4}suggestHoverAnchor(e){const t=Oa.get(this._editor);if(!t)return null;const i=e.target;if(i.type===8){const r=i.detail;if(t.shouldShowHoverAtViewZone(r.viewZoneId))return new _C(1e3,this,be.fromPositions(this._editor.getModel().validatePosition(r.positionBefore||r.position)),e.event.posx,e.event.posy,!1)}return i.type===7&&t.shouldShowHoverAt(i.range)?new _C(1e3,this,i.range,e.event.posx,e.event.posy,!1):i.type===6&&i.detail.mightBeForeignElement&&t.shouldShowHoverAt(i.range)?new _C(1e3,this,i.range,e.event.posx,e.event.posy,!1):null}computeSync(e,t){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const i=Oa.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new oFe(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new st,r=t[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&i.add(this.renderScreenReaderText(e,r));const o=r.controller.model.get(),a=this._instantiationService.createInstance(Gg,this._editor,!1,du(null),o.selectedInlineCompletionIndex,o.inlineCompletionsCount,o.activeCommands),s=a.getDomNode();e.fragment.appendChild(s),o.triggerExplicitly(),i.add(a);const l={hoverPart:r,hoverElement:s,dispose(){i.dispose()}};return new _h([l])}renderScreenReaderText(e,t){const i=new st,r=Ut,o=r("div.hover-row.markdown-hover"),a=yt(o,r("div.hover-contents",{"aria-live":"assertive"})),s=i.add(new fp({editor:this._editor},this._languageService,this._openerService)),l=u=>{i.add(s.onDidRenderAsync(()=>{a.className="hover-contents code-hover-contents",e.onContentsChanged()}));const c=G("inlineSuggestionFollows","Suggestion:"),d=i.add(s.render(new $r().appendText(c).appendCodeblock("text",u)));a.replaceChildren(d.element)};return i.add(fi(u=>{var d;const c=(d=t.controller.model.read(u))==null?void 0:d.primaryGhostText.read(u);if(c){const f=this._editor.getModel().getLineContent(c.lineNumber);l(c.renderForScreenReader(f))}else gP(a)})),e.fragment.appendChild(o),i}};_T=rFe([fm(1,Ll),fm(2,As),fm(3,w1),fm(4,ln),fm(5,Hu)],_T);class aFe{}const nx=new class{constructor(){this._implementations=[]}register(e){return this._implementations.push(e),{dispose:()=>{const t=this._implementations.indexOf(e);t!==-1&&this._implementations.splice(t,1)}}}getImplementations(){return this._implementations}};gn(Oa.ID,Oa,3);Le(eFe);Le(pT);Le(mT);Le(tFe);Le(nFe);Le(iFe);Le(bT);Vn(yT);Rh.register(_T);nx.register(new aFe);var sFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},oP=function(n,e){return function(t,i){e(t,i,n)}},Pm,Zc;let fy=(Zc=class{constructor(e,t,i,r){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=r,this.toUnhook=new st,this.toUnhookForKeyboard=new st,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const o=new GO(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(([a,s])=>{this.startFindDefinitionFromMouse(a,s??void 0)})),this.toUnhook.add(o.onExecute(a=>{this.isEnabled(a)&&this.gotoDefinition(a.target.position,a.hasSideBySideModifier).catch(s=>{Jn(s)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(o.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(Pm.ID)}async startFindDefinitionFromCursor(e){await this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const i=e.target.position;this.startFindDefinition(i)}async startFindDefinition(e){var a;this.toUnhookForKeyboard.clear();const t=e?(a=this.editor.getModel())==null?void 0:a.getWordAtPosition(e):null;if(!t){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===t.startColumn&&this.currentWordAtPosition.endColumn===t.endColumn&&this.currentWordAtPosition.word===t.word)return;this.currentWordAtPosition=t;const i=new r6(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=cr(s=>this.findDefinition(e,s));let r;try{r=await this.previousPromise}catch(s){Jn(s);return}if(!r||!r.length||!i.validate(this.editor)){this.removeLinkDecorations();return}const o=r[0].originSelectionRange?be.lift(r[0].originSelectionRange):new be(e.lineNumber,t.startColumn,e.lineNumber,t.endColumn);if(r.length>1){let s=o;for(const{originSelectionRange:l}of r)l&&(s=be.plusRange(s,l));this.addDecoration(s,new $r().appendText(G("multipleResults","Click to show {0} definitions.",r.length)))}else{const s=r[0];if(!s.uri)return;this.textModelResolverService.createModelReference(s.uri).then(l=>{if(!l.object||!l.object.textEditorModel){l.dispose();return}const{object:{textEditorModel:u}}=l,{startLineNumber:c}=s.range;if(c<1||c>u.getLineCount()){l.dispose();return}const d=this.getPreviewValue(u,c,s),f=this.languageService.guessLanguageIdByFilepathOrFirstLine(u.uri);this.addDecoration(o,d?new $r().appendCodeblock(f||"",d):void 0),l.dispose()})}}getPreviewValue(e,t,i){let r=i.range;return r.endLineNumber-r.startLineNumber>=Pm.MAX_SOURCE_PREVIEW_LINES&&(r=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,r)}stripIndentationFromPreviewRange(e,t,i){let o=e.getLineFirstNonWhitespaceColumn(t);for(let s=t+1;s<i.endLineNumber;s++){const l=e.getLineFirstNonWhitespaceColumn(s);o=Math.min(o,l)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${o-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const i=e.getLineFirstNonWhitespaceColumn(t),r=Math.min(e.getLineCount(),t+Pm.MAX_SOURCE_PREVIEW_LINES);let o=t+1;for(;o<r;o++){const a=e.getLineFirstNonWhitespaceColumn(o);if(i===a)break}return new be(t,1,o+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([i])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){var i;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&e.target.type===6&&!(((i=e.target.detail.injectedText)==null?void 0:i.options)instanceof qI)&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?v_(this.languageFeaturesService.definitionProvider,i,e,!1,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(i=>{const r=!t&&this.editor.getOption(89)&&!this.isInPeekEditor(i);return new p_({openToSide:t,openInPeek:r,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(i)})}isInPeekEditor(e){const t=e.get(Ln);return ao.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}},Pm=Zc,Zc.ID="editor.contrib.gotodefinitionatposition",Zc.MAX_SOURCE_PREVIEW_LINES=8,Zc);fy=Pm=sFe([oP(1,Rs),oP(2,Ll),oP(3,xt)],fy);gn(fy.ID,fy,2);var BY=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hS=function(n,e){return function(t,i){e(t,i,n)}};class F3{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let wT=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new on,this.onDidChange=this._onDidChange.event,this._dispoables=new st,this._markers=[],this._nextIdx=-1,Kn.isUri(e)?this._resourceFilter=s=>s.toString()===e.toString():e&&(this._resourceFilter=e);const r=this._configService.getValue("problems.sortOrder"),o=(s,l)=>{let u=kR(s.resource.toString(),l.resource.toString());return u===0&&(r==="position"?u=be.compareRangesUsingStarts(s,l)||Ur.compare(s.severity,l.severity):u=Ur.compare(s.severity,l.severity)||be.compareRangesUsingStarts(s,l)),u},a=()=>{this._markers=this._markerService.read({resource:Kn.isUri(e)?e:void 0,severities:Ur.Error|Ur.Warning|Ur.Info}),typeof e=="function"&&(this._markers=this._markers.filter(s=>this._resourceFilter(s.resource))),this._markers.sort(o)};a(),this._dispoables.add(t.onMarkerChanged(s=>{(!this._resourceFilter||s.some(l=>this._resourceFilter(l)))&&(a(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new F3(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let r=!1,o=this._markers.findIndex(a=>a.resource.toString()===e.uri.toString());o<0&&(o=jC(this._markers,{resource:e.uri},(a,s)=>kR(a.resource.toString(),s.resource.toString())),o<0&&(o=~o));for(let a=o;a<this._markers.length;a++){let s=be.lift(this._markers[a]);if(s.isEmpty()){const l=e.getWordAtPosition(s.getStartPosition());l&&(s=new be(s.startLineNumber,l.startColumn,s.startLineNumber,l.endColumn))}if(t&&(s.containsPosition(t)||t.isBeforeOrEqual(s.getStartPosition()))){this._nextIdx=a,r=!0;break}if(this._markers[a].resource.toString()!==e.uri.toString())break}r||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(this._markers.length===0)return!1;const r=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),r!==this._nextIdx}find(e,t){let i=this._markers.findIndex(r=>r.resource.toString()===e.toString());if(!(i<0)){for(;i<this._markers.length;i++)if(be.containsPosition(this._markers[i],t))return new F3(this._markers[i],i+1,this._markers.length)}}};wT=BY([hS(1,HI),hS(2,vi)],wT);const $Y=Bu("IMarkerNavigationService");let CT=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new Y2}getMarkerList(e){for(const t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new wT(e,this._markerService,this._configService)}};CT=BY([hS(0,HI),hS(1,vi)],CT);$u($Y,CT,1);var ST;(function(n){function e(t){switch(t){case E_.Ignore:return"severity-ignore "+Hn.asClassName(Kt.info);case E_.Info:return Hn.asClassName(Kt.info);case E_.Warning:return Hn.asClassName(Kt.warning);case E_.Error:return Hn.asClassName(Kt.error);default:return""}}n.className=e})(ST||(ST={}));var lFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mv=function(n,e){return function(t,i){e(t,i,n)}},OT;class uFe{constructor(e,t,i,r,o){this._openerService=r,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new st,this._editor=t;const a=document.createElement("div");a.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),a.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),a.appendChild(this._relatedBlock),this._disposables.add(Eu(this._relatedBlock,"click",s=>{s.preventDefault();const l=this._relatedDiagnostics.get(s.target);l&&i(l)})),this._scrollable=new vee(a,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(s=>{a.style.left=`-${s.scrollLeft}px`,a.style.top=`-${s.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){zr(this._disposables)}update(e){const{source:t,message:i,relatedInformation:r,code:o}=e;let a=((t==null?void 0:t.length)||0)+2;o&&(typeof o=="string"?a+=o.length:a+=o.value.length);const s=O1(i);this._lines=s.length,this._longestLineLength=0;for(const f of s)this._longestLineLength=Math.max(f.length+a,this._longestLineLength);gl(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(const f of s)l=document.createElement("div"),l.innerText=f,f===""&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||o){const f=document.createElement("span");if(f.classList.add("details"),l.appendChild(f),t){const h=document.createElement("span");h.innerText=t,h.classList.add("source"),f.appendChild(h)}if(o)if(typeof o=="string"){const h=document.createElement("span");h.innerText=`(${o})`,h.classList.add("code"),f.appendChild(h)}else{this._codeLink=Ut("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=v=>{this._openerService.open(o.target,{allowCommands:!0}),v.preventDefault(),v.stopPropagation()};const h=yt(this._codeLink,Ut("span"));h.innerText=o.value,f.appendChild(this._codeLink)}}if(gl(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Wo(r)){const f=this._relatedBlock.appendChild(document.createElement("div"));f.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(const h of r){const v=document.createElement("div"),g=document.createElement("a");g.classList.add("filename"),g.innerText=`${this._labelService.getUriBasenameLabel(h.resource)}(${h.startLineNumber}, ${h.startColumn}): `,g.title=this._labelService.getUriLabel(h.resource),this._relatedDiagnostics.set(g,h);const p=document.createElement("span");p.innerText=h.message,v.appendChild(g),v.appendChild(p),this._lines+=1,f.appendChild(v)}}const u=this._editor.getOption(50),c=Math.ceil(u.typicalFullwidthCharacterWidth*this._longestLineLength*.75),d=u.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:c,scrollHeight:d})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case Ur.Error:t=G("Error","Error");break;case Ur.Warning:t=G("Warning","Warning");break;case Ur.Info:t=G("Info","Info");break;case Ur.Hint:t=G("Hint","Hint");break}let i=G("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const r=this._editor.getModel();return r&&e.startLineNumber<=r.getLineCount()&&e.startLineNumber>=1&&(i=`${r.getLineContent(e.startLineNumber)}, ${i}`),i}}var jf;let hy=(jf=class extends z0{constructor(e,t,i,r,o,a,s){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o),this._themeService=t,this._openerService=i,this._menuService=r,this._contextKeyService=a,this._labelService=s,this._callOnDispose=new st,this._onDidSelectRelatedInformation=new on,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Ur.Warning,this._backgroundColor=_n.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(hFe);let t=xT,i=cFe;this._severity===Ur.Warning?(t=OC,i=dFe):this._severity===Ur.Info&&(t=ET,i=fFe);const r=e.getColor(t),o=e.getColor(i);this.style({arrowColor:r,frameColor:r,headerBackgroundColor:o,primaryHeadingColor:e.getColor(oY),secondaryHeadingColor:e.getColor(aY)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(r=>this.editor.focus()));const t=[],i=this._menuService.getMenuActions(OT.TitleMenu,this._contextKeyService);$I(i,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0})}_fillTitleIcon(e){this._icon=yt(e,Ut(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new uFe(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const r=be.lift(e),o=this.editor.getPosition(),a=o&&r.containsPosition(o)?o:r.getStartPosition();super.show(a,this.computeRequiredHeight());const s=this.editor.getModel();if(s){const l=i>1?G("problems","{0} of {1} problems",t,i):G("change","{0} of {1} problem",t,i);this.setTitle(xl(s.uri),l)}this._icon.className=`codicon ${ST.className(Ur.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(a,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}},OT=jf,jf.TitleMenu=new pt("gotoErrorTitleMenu"),jf);hy=OT=lFe([mv(1,ls),mv(2,As),mv(3,Eh),mv(4,ln),mv(5,Ln),mv(6,Ob)],hy);const j3=XI(uee,lee),H3=XI(dee,cee),B3=XI(mP,fee),xT=_t("editorMarkerNavigationError.background",{dark:j3,light:j3,hcDark:xu,hcLight:xu},G("editorMarkerNavigationError","Editor marker navigation widget error color.")),cFe=_t("editorMarkerNavigationError.headerBackground",{dark:pl(xT,.1),light:pl(xT,.1),hcDark:null,hcLight:null},G("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),OC=_t("editorMarkerNavigationWarning.background",{dark:H3,light:H3,hcDark:xu,hcLight:xu},G("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),dFe=_t("editorMarkerNavigationWarning.headerBackground",{dark:pl(OC,.1),light:pl(OC,.1),hcDark:"#0C141F",hcLight:pl(OC,.2)},G("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),ET=_t("editorMarkerNavigationInfo.background",{dark:B3,light:B3,hcDark:xu,hcLight:xu},G("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),fFe=_t("editorMarkerNavigationInfo.headerBackground",{dark:pl(ET,.1),light:pl(ET,.1),hcDark:null,hcLight:null},G("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),hFe=_t("editorMarkerNavigation.background",hee,G("editorMarkerNavigationBackground","Editor marker navigation widget background."));var vFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Nw=function(n,e){return function(t,i){e(t,i,n)}},km,Hf;let Ch=(Hf=class{static get(e){return e.getContribution(km.ID)}constructor(e,t,i,r,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=r,this._instantiationService=o,this._sessionDispoables=new st,this._editor=e,this._widgetVisible=VY.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(hy,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(i=>{var r,o,a;(!((r=this._model)!=null&&r.selected)||!be.containsPosition((o=this._model)==null?void 0:o.selected.marker,i.position))&&((a=this._model)==null||a.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const i=this._model.find(this._editor.getModel().uri,this._widget.position);i?this._widget.updateMarker(i.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(i=>{this._editorService.openCodeEditor({resource:i.resource,options:{pinned:!0,revealIfOpened:!0,selection:be.lift(i).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new Ot(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}async nagivate(e,t){var i,r;if(this._editor.hasModel()){const o=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const a=await this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);a&&((i=km.get(a))==null||i.close(),(r=km.get(a))==null||r.nagivate(e,t))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}}},km=Hf,Hf.ID="editor.contrib.markerController",Hf);Ch=km=vFe([Nw(1,$Y),Nw(2,Ln),Nw(3,ir),Nw(4,ln)],Ch);class ix extends Qe{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}async run(e,t){var i;t.hasModel()&&((i=Ch.get(t))==null||i.nagivate(this._next,this._multiFile))}}const Jd=class Jd extends ix{constructor(){super(!0,!1,{id:Jd.ID,label:Jd.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:ve.focus,primary:578,weight:100},menuOpts:{menuId:hy.TitleMenu,title:Jd.LABEL,icon:Ti("marker-navigation-next",Kt.arrowDown,G("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}};Jd.ID="editor.action.marker.next",Jd.LABEL=G("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");let vS=Jd;const Qd=class Qd extends ix{constructor(){super(!1,!1,{id:Qd.ID,label:Qd.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:ve.focus,primary:1602,weight:100},menuOpts:{menuId:hy.TitleMenu,title:Qd.LABEL,icon:Ti("marker-navigation-previous",Kt.arrowUp,G("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}};Qd.ID="editor.action.marker.prev",Qd.LABEL=G("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");let PT=Qd;class gFe extends ix{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:G("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:ve.focus,primary:66,weight:100},menuOpts:{menuId:pt.MenubarGoMenu,title:G({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class pFe extends ix{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:G("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:ve.focus,primary:1090,weight:100},menuOpts:{menuId:pt.MenubarGoMenu,title:G({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}gn(Ch.ID,Ch,4);Le(vS);Le(PT);Le(gFe);Le(pFe);const VY=new yn("markersNavigationVisible",!1),mFe=uo.bindToContribution(Ch.get);Et(new mFe({id:"closeMarkersNavigation",precondition:VY,handler:n=>n.close(),kbOpts:{weight:150,kbExpr:ve.focus,primary:9,secondary:[1033]}}));var _s;(function(n){n.NoAutoFocus="noAutoFocus",n.FocusIfVisible="focusIfVisible",n.AutoFocusImmediately="autoFocusImmediately"})(_s||(_s={}));class bFe extends Qe{constructor(){super({id:KG,label:G({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse."]},"Show or Focus Hover"),metadata:{description:St("showOrFocusHoverDescription","Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[_s.NoAutoFocus,_s.FocusIfVisible,_s.AutoFocusImmediately],enumDescriptions:[G("showOrFocusHover.focus.noAutoFocus","The hover will not automatically take focus."),G("showOrFocusHover.focus.focusIfVisible","The hover will take focus only if it is already visible."),G("showOrFocusHover.focus.autoFocusImmediately","The hover will automatically take focus when it appears.")],default:_s.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2087),weight:100}})}run(e,t,i){if(!t.hasModel())return;const r=Fr.get(t);if(!r)return;const o=i==null?void 0:i.focus;let a=_s.FocusIfVisible;Object.values(_s).includes(o)?a=o:typeof o=="boolean"&&o&&(a=_s.AutoFocusImmediately);const s=u=>{const c=t.getPosition(),d=new be(c.lineNumber,c.column,c.lineNumber,c.column);r.showContentHover(d,1,1,u)},l=t.getOption(2)===2;r.isHoverVisible?a!==_s.NoAutoFocus?r.focus():s(l):s(l||a===_s.AutoFocusImmediately)}}class yFe extends Qe{constructor(){super({id:NLe,label:G({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0,metadata:{description:St("showDefinitionPreviewHoverDescription","Show the definition preview hover in the editor.")}})}run(e,t){const i=Fr.get(t);if(!i)return;const r=t.getPosition();if(!r)return;const o=new be(r.lineNumber,r.column,r.lineNumber,r.column),a=fy.get(t);if(!a)return;a.startFindDefinitionFromCursor(r).then(()=>{i.showContentHover(o,1,1,!0)})}}class _Fe extends Qe{constructor(){super({id:FLe,label:G({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:ve.hoverFocused,kbOpts:{kbExpr:ve.hoverFocused,primary:16,weight:100},metadata:{description:St("scrollUpHoverDescription","Scroll up the editor hover.")}})}run(e,t){const i=Fr.get(t);i&&i.scrollUp()}}class wFe extends Qe{constructor(){super({id:jLe,label:G({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:ve.hoverFocused,kbOpts:{kbExpr:ve.hoverFocused,primary:18,weight:100},metadata:{description:St("scrollDownHoverDescription","Scroll down the editor hover.")}})}run(e,t){const i=Fr.get(t);i&&i.scrollDown()}}class CFe extends Qe{constructor(){super({id:HLe,label:G({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:ve.hoverFocused,kbOpts:{kbExpr:ve.hoverFocused,primary:15,weight:100},metadata:{description:St("scrollLeftHoverDescription","Scroll left the editor hover.")}})}run(e,t){const i=Fr.get(t);i&&i.scrollLeft()}}class SFe extends Qe{constructor(){super({id:BLe,label:G({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:ve.hoverFocused,kbOpts:{kbExpr:ve.hoverFocused,primary:17,weight:100},metadata:{description:St("scrollRightHoverDescription","Scroll right the editor hover.")}})}run(e,t){const i=Fr.get(t);i&&i.scrollRight()}}class OFe extends Qe{constructor(){super({id:$Le,label:G({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:ve.hoverFocused,kbOpts:{kbExpr:ve.hoverFocused,primary:11,secondary:[528],weight:100},metadata:{description:St("pageUpHoverDescription","Page up the editor hover.")}})}run(e,t){const i=Fr.get(t);i&&i.pageUp()}}class xFe extends Qe{constructor(){super({id:VLe,label:G({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:ve.hoverFocused,kbOpts:{kbExpr:ve.hoverFocused,primary:12,secondary:[530],weight:100},metadata:{description:St("pageDownHoverDescription","Page down the editor hover.")}})}run(e,t){const i=Fr.get(t);i&&i.pageDown()}}class EFe extends Qe{constructor(){super({id:WLe,label:G({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:ve.hoverFocused,kbOpts:{kbExpr:ve.hoverFocused,primary:14,secondary:[2064],weight:100},metadata:{description:St("goToTopHoverDescription","Go to the top of the editor hover.")}})}run(e,t){const i=Fr.get(t);i&&i.goToTop()}}class PFe extends Qe{constructor(){super({id:zLe,label:G({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:ve.hoverFocused,kbOpts:{kbExpr:ve.hoverFocused,primary:13,secondary:[2066],weight:100},metadata:{description:St("goToBottomHoverDescription","Go to the bottom of the editor hover.")}})}run(e,t){const i=Fr.get(t);i&&i.goToBottom()}}class kFe extends Qe{constructor(){super({id:UO,label:ULe,alias:"Increase Hover Verbosity Level",precondition:ve.hoverVisible})}run(e,t,i){const r=Fr.get(t);if(!r)return;const o=(i==null?void 0:i.index)!==void 0?i.index:r.focusedHoverPartIndex();r.updateHoverVerbosityLevel(pa.Increase,o,i==null?void 0:i.focus)}}class DFe extends Qe{constructor(){super({id:KO,label:KLe,alias:"Decrease Hover Verbosity Level",precondition:ve.hoverVisible})}run(e,t,i){var a;const r=Fr.get(t);if(!r)return;const o=(i==null?void 0:i.index)!==void 0?i.index:r.focusedHoverPartIndex();(a=Fr.get(t))==null||a.updateHoverVerbosityLevel(pa.Decrease,o,i==null?void 0:i.focus)}}var TFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},aP=function(n,e){return function(t,i){e(t,i,n)}};const ja=Ut;class IFe{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const $3={type:1,filter:{include:ni.QuickFix},triggerAction:To.QuickFixHover};let kT=class{constructor(e,t,i,r){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=r,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1&&!e.supportsMarkerHover)return[];const i=this._editor.getModel(),r=e.range.startLineNumber,o=i.getLineMaxColumn(r),a=[];for(const s of t){const l=s.range.startLineNumber===r?s.range.startColumn:1,u=s.range.endLineNumber===r?s.range.endColumn:o,c=this._markerDecorationsService.getMarker(i.uri,s);if(!c)continue;const d=new be(e.range.startLineNumber,l,e.range.startLineNumber,u);a.push(new IFe(this,d,c))}return a}renderHoverParts(e,t){if(!t.length)return new _h([]);const i=new st,r=[];t.forEach(a=>{const s=this._renderMarkerHover(a);e.fragment.appendChild(s.hoverElement),r.push(s)});const o=t.length===1?t[0]:t.sort((a,s)=>Ur.compare(a.marker.severity,s.marker.severity))[0];return this.renderMarkerStatusbar(e,o,i),new _h(r)}_renderMarkerHover(e){const t=new st,i=ja("div.hover-row"),r=yt(i,ja("div.marker.hover-contents")),{source:o,message:a,code:s,relatedInformation:l}=e.marker;this._editor.applyFontInfo(r);const u=yt(r,ja("span"));if(u.style.whiteSpace="pre-wrap",u.innerText=a,o||s)if(s&&typeof s!="string"){const d=ja("span");if(o){const g=yt(d,ja("span"));g.innerText=o}const f=yt(d,ja("a.code-link"));f.setAttribute("href",s.target.toString()),t.add(Rn(f,"click",g=>{this._openerService.open(s.target,{allowCommands:!0}),g.preventDefault(),g.stopPropagation()}));const h=yt(f,ja("span"));h.innerText=s.value;const v=yt(r,d);v.style.opacity="0.6",v.style.paddingLeft="6px"}else{const d=yt(r,ja("span"));d.style.opacity="0.6",d.style.paddingLeft="6px",d.innerText=o&&s?`${o}(${s})`:o||`(${s})`}if(Wo(l))for(const{message:d,resource:f,startLineNumber:h,startColumn:v}of l){const g=yt(r,ja("div"));g.style.marginTop="8px";const p=yt(g,ja("a"));p.innerText=`${xl(f)}(${h}, ${v}): `,p.style.cursor="pointer",t.add(Rn(p,"click",b=>{if(b.stopPropagation(),b.preventDefault(),this._openerService){const C={selection:{startLineNumber:h,startColumn:v}};this._openerService.open(f,{fromUserGesture:!0,editorOptions:C}).catch(Jn)}}));const m=yt(g,ja("span"));m.innerText=d,this._editor.applyFontInfo(m)}return{hoverPart:e,hoverElement:i,dispose:()=>t.dispose()}}renderMarkerStatusbar(e,t,i){if(t.marker.severity===Ur.Error||t.marker.severity===Ur.Warning||t.marker.severity===Ur.Info){const r=Ch.get(this._editor);r&&e.statusBar.addAction({label:G("view problem","View Problem"),commandId:vS.ID,run:()=>{e.hide(),r.showAtMarker(t.marker),this._editor.focus()}})}if(!this._editor.getOption(92)){const r=e.statusBar.append(ja("div"));this.recentMarkerCodeActionsInfo&&(DR.makeKey(this.recentMarkerCodeActionsInfo.marker)===DR.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(r.textContent=G("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?dt.None:bb(()=>r.textContent=G("checkingForQuickFixes","Checking for quick fixes..."),200,i);r.textContent||(r.textContent=" ");const a=this.getCodeActions(t.marker);i.add(bi(()=>a.cancel())),a.then(s=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:s.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){s.dispose(),r.textContent=G("noQuickFixes","No quick fixes available");return}r.style.display="none";let l=!1;i.add(bi(()=>{l||s.dispose()})),e.statusBar.addAction({label:G("quick fixes","Quick Fix..."),commandId:eA,run:u=>{l=!0;const c=Kg.get(this._editor),d=oo(u);e.hide(),c==null||c.showCodeActions($3,s,{x:d.left,y:d.top,width:d.width,height:d.height})}})},Jn)}}getCodeActions(e){return cr(t=>Hv(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new be(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),$3,cu.None,t))}};kT=TFe([aP(1,gee),aP(2,As),aP(3,xt)],kT);class LFe{get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}get lane(){return this._laneOrLine}set lane(e){this._laneOrLine=e}constructor(e){this._editor=e,this._lineNumber=-1,this._laneOrLine=IC.Center}computeSync(){var o;const e=a=>({value:a}),t=this._editor.getLineDecorations(this._lineNumber),i=[],r=this._laneOrLine==="lineNo";if(!t)return i;for(const a of t){const s=((o=a.options.glyphMargin)==null?void 0:o.position)??IC.Center;if(!r&&s!==this._laneOrLine)continue;const l=r?a.options.lineNumberHoverMessage:a.options.glyphMarginHoverMessage;!l||Sb(l)||i.push(...p2(l).map(e))}return i}}var MFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},V3=function(n,e){return function(t,i){e(t,i,n)}},DT;const W3=Ut;var Bf;let TT=(Bf=class extends dt{constructor(e,t,i){super(),this._renderDisposeables=this._register(new st),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new g2),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new fp({editor:this._editor},t,i)),this._computer=new LFe(this._editor),this._hoverOperation=this._register(new ZG(this._editor,this._computer)),this._register(this._hoverOperation.onResult(r=>{this._withResult(r.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(50)&&this._updateFont()})),this._register(Eu(this._hover.containerDomNode,"mouseleave",r=>{this._onMouseLeave(r)})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return DT.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}showsOrWillShow(e){const t=e.target;return t.type===2&&t.detail.glyphMarginLane?(this._startShowingAt(t.position.lineNumber,t.detail.glyphMarginLane),!0):t.type===3?(this._startShowingAt(t.position.lineNumber,"lineNo"),!0):!1}_startShowingAt(e,t){this._computer.lineNumber===e&&this._computer.lane===t||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._computer.lane=t,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const r of t){const o=W3("div.hover-row.markdown-hover"),a=yt(o,W3("div.hover-contents")),s=this._renderDisposeables.add(this._markdownRenderer.render(r.value));a.appendChild(s.element),i.appendChild(o)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),r=this._editor.getScrollTop(),o=this._editor.getOption(67),a=this._hover.containerDomNode.clientHeight,s=i-r-(a-o)/2,l=t.glyphMarginLeft+t.glyphMarginWidth+(this._computer.lane==="lineNo"?t.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${l}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(s),0)}px`}_onMouseLeave(e){const t=this._editor.getDomNode();(!t||!qO(t,e.x,e.y))&&this.hide()}},DT=Bf,Bf.ID="editor.contrib.modesGlyphHoverWidget",Bf);TT=DT=MFe([V3(1,Ll),V3(2,As)],TT);var AFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},RFe=function(n,e){return function(t,i){e(t,i,n)}},fg;let gS=(fg=class extends dt{constructor(e,t){super(),this._editor=e,this._instantiationService=t,this.shouldKeepOpenOnEditorMouseMoveOrLeave=!1,this._listenersStore=new st,this._hoverState={mouseDown:!1},this._reactToEditorMouseMoveRunner=this._register(new Xi(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}_hookListeners(){const e=this._editor.getOption(60);this._hoverSettings={enabled:e.enabled,sticky:e.sticky,hidingDelay:e.hidingDelay},e.enabled?(this._listenersStore.add(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))):(this._listenersStore.add(this._editor.onMouseMove(t=>this._onEditorMouseMove(t))),this._listenersStore.add(this._editor.onKeyDown(t=>this._onKeyDown(t)))),this._listenersStore.add(this._editor.onMouseLeave(t=>this._onEditorMouseLeave(t))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(t=>this._onEditorScrollChanged(t)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._hoverState.mouseDown=!0,!this._isMouseOnMarginHoverWidget(e)&&this._hideWidgets()}_isMouseOnMarginHoverWidget(e){var i;const t=(i=this._glyphWidget)==null?void 0:i.getDomNode();return t?qO(t,e.event.posx,e.event.posy):!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(e){this.shouldKeepOpenOnEditorMouseMoveOrLeave||(this._cancelScheduler(),this._isMouseOnMarginHoverWidget(e))||this._hideWidgets()}_shouldNotRecomputeCurrentHoverWidget(e){const t=this._hoverSettings.sticky,i=this._isMouseOnMarginHoverWidget(e);return t&&i}_onEditorMouseMove(e){if(this.shouldKeepOpenOnEditorMouseMoveOrLeave)return;if(this._mouseMoveEvent=e,this._shouldNotRecomputeCurrentHoverWidget(e)){this._reactToEditorMouseMoveRunner.cancel();return}this._reactToEditorMouseMove(e)}_reactToEditorMouseMove(e){!e||this._tryShowHoverWidget(e)||this._hideWidgets()}_tryShowHoverWidget(e){return this._getOrCreateGlyphWidget().showsOrWillShow(e)}_onKeyDown(e){this._editor.hasModel()&&(e.keyCode===5||e.keyCode===6||e.keyCode===57||e.keyCode===4||this._hideWidgets())}_hideWidgets(){var e;(e=this._glyphWidget)==null||e.hide()}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=this._instantiationService.createInstance(TT,this._editor)),this._glyphWidget}dispose(){var e;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(e=this._glyphWidget)==null||e.dispose()}},fg.ID="editor.contrib.marginHover",fg);gS=AFe([RFe(1,ln)],gS);class NFe{}class FFe{}class jFe{}gn(Fr.ID,Fr,2);gn(gS.ID,gS,2);Le(bFe);Le(yFe);Le(_Fe);Le(wFe);Le(CFe);Le(SFe);Le(OFe);Le(xFe);Le(EFe);Le(PFe);Le(kFe);Le(DFe);Rh.register(ay);Rh.register(kT);m1((n,e)=>{const t=n.getColor(pee);t&&(e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${t.transparent(.5)}; }`))});nx.register(new NFe);nx.register(new FFe);nx.register(new jFe);function bo(n,e){let t=0;for(let i=0;i<n.length;i++)n.charAt(i)==="	"?t+=e:t++;return t}function ub(n,e,t){n=n<0?0:n;let i="";if(!t){const r=Math.floor(n/e);n=n%e;for(let o=0;o<r;o++)i+="	"}for(let r=0;r<n;r++)i+=" ";return i}function WY(n,e,t,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return[];const r=e.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;if(!r)return[];const o=new mee(n,r,e);for(i=Math.min(i,n.getLineCount());t<=i&&o.shouldIgnore(t);)t++;if(t>i-1)return[];const{tabSize:a,indentSize:s,insertSpaces:l}=n.getOptions(),u=(g,p)=>(p=p||1,Eg.shiftIndent(g,g.length+p,a,s,l)),c=(g,p)=>(p=p||1,Eg.unshiftIndent(g,g.length+p,a,s,l)),d=[],f=n.getLineContent(t);let h=Or(f),v=h;o.shouldIncrease(t)?(v=u(v),h=u(h)):o.shouldIndentNextLine(t)&&(v=u(v)),t++;for(let g=t;g<=i;g++){if(HFe(n,g))continue;const p=n.getLineContent(g),m=Or(p),b=v;o.shouldDecrease(g,b)&&(v=c(v),h=c(h)),m!==v&&d.push(Oi.replaceMove(new Nt(g,1,g,m.length+1),bee(v,s,l))),!o.shouldIgnore(g)&&(o.shouldIncrease(g,b)?(h=u(h),v=h):o.shouldIndentNextLine(g,b)?v=u(v):v=h)}return d}function HFe(n,e){return n.tokenization.isCheapToTokenize(e)?n.tokenization.getLineTokens(e).getStandardTokenType(0)===2:!1}var BFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$Fe=function(n,e){return function(t,i){e(t,i,n)}};const GS=class GS extends Qe{constructor(){super({id:GS.ID,label:G("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:ve.writable,metadata:{description:St("indentationToSpacesDescription","Convert the tab indentation to spaces.")}})}run(e,t){const i=t.getModel();if(!i)return;const r=i.getOptions(),o=t.getSelection();if(!o)return;const a=new KFe(o,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[a]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}};GS.ID="editor.action.indentationToSpaces";let IT=GS;const YS=class YS extends Qe{constructor(){super({id:YS.ID,label:G("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:ve.writable,metadata:{description:St("indentationToTabsDescription","Convert the spaces indentation to tabs.")}})}run(e,t){const i=t.getModel();if(!i)return;const r=i.getOptions(),o=t.getSelection();if(!o)return;const a=new qFe(o,r.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[a]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}};YS.ID="editor.action.indentationToTabs";let LT=YS;class PA extends Qe{constructor(e,t,i){super(i),this.insertSpaces=e,this.displaySizeOnly=t}run(e,t){const i=e.get(Py),r=e.get(Yr),o=t.getModel();if(!o)return;const a=r.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),s=o.getOptions(),l=[1,2,3,4,5,6,7,8].map(c=>({id:c.toString(),label:c.toString(),description:c===a.tabSize&&c===s.tabSize?G("configuredTabSize","Configured Tab Size"):c===a.tabSize?G("defaultTabSize","Default Tab Size"):c===s.tabSize?G("currentTabSize","Current Tab Size"):void 0})),u=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(l,{placeHolder:G({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:l[u]}).then(c=>{if(c&&o&&!o.isDisposed()){const d=parseInt(c.label,10);this.displaySizeOnly?o.updateOptions({tabSize:d}):o.updateOptions({tabSize:d,indentSize:d,insertSpaces:this.insertSpaces})}})},50)}}const ZS=class ZS extends PA{constructor(){super(!1,!1,{id:ZS.ID,label:G("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0,metadata:{description:St("indentUsingTabsDescription","Use indentation with tabs.")}})}};ZS.ID="editor.action.indentUsingTabs";let MT=ZS;const XS=class XS extends PA{constructor(){super(!0,!1,{id:XS.ID,label:G("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0,metadata:{description:St("indentUsingSpacesDescription","Use indentation with spaces.")}})}};XS.ID="editor.action.indentUsingSpaces";let AT=XS;const JS=class JS extends PA{constructor(){super(!0,!0,{id:JS.ID,label:G("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0,metadata:{description:St("changeTabDisplaySizeDescription","Change the space size equivalent of the tab.")}})}};JS.ID="editor.action.changeTabDisplaySize";let RT=JS;const QS=class QS extends Qe{constructor(){super({id:QS.ID,label:G("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0,metadata:{description:St("detectIndentationDescription","Detect the indentation from content.")}})}run(e,t){const i=e.get(Yr),r=t.getModel();if(!r)return;const o=i.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget);r.detectIndentation(o.insertSpaces,o.tabSize)}};QS.ID="editor.action.detectIndentation";let NT=QS;class VFe extends Qe{constructor(){super({id:"editor.action.reindentlines",label:G("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:ve.writable,metadata:{description:St("editor.reindentlinesDescription","Reindent the lines of the editor.")}})}run(e,t){const i=e.get(or),r=t.getModel();if(!r)return;const o=WY(r,i,1,r.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class WFe extends Qe{constructor(){super({id:"editor.action.reindentselectedlines",label:G("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:ve.writable,metadata:{description:St("editor.reindentselectedlinesDescription","Reindent the selected lines of the editor.")}})}run(e,t){const i=e.get(or),r=t.getModel();if(!r)return;const o=t.getSelections();if(o===null)return;const a=[];for(const s of o){let l=s.startLineNumber,u=s.endLineNumber;if(l!==u&&s.endColumn===1&&u--,l===1){if(l===u)continue}else l--;const c=WY(r,i,l,u);a.push(...c)}a.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,a),t.pushUndoStop())}}class zFe{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const i of e)i.range&&typeof i.text=="string"&&this._edits.push(i)}getEditOperations(e,t){for(const r of this._edits)t.addEditOperation(be.lift(r.range),r.text);let i=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}var hg;let pS=(hg=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new st,this.callOnModel=new st,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){const t=this.editor.getSelections();if(t===null||t.length>1)return;const i=this.editor.getModel();if(!i||this.rangeContainsOnlyWhitespaceCharacters(i,e)||UFe(i,e)||!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const o=this.editor.getOption(12),{tabSize:a,indentSize:s,insertSpaces:l}=i.getOptions(),u=[],c={shiftIndent:v=>Eg.shiftIndent(v,v.length+1,a,s,l),unshiftIndent:v=>Eg.unshiftIndent(v,v.length+1,a,s,l)};let d=e.startLineNumber;for(;d<=e.endLineNumber;){if(this.shouldIgnoreLine(i,d)){d++;continue}break}if(d>e.endLineNumber)return;let f=i.getLineContent(d);if(!/\S/.test(f.substring(0,e.startColumn-1))){const v=Rm(o,i,i.getLanguageId(),d,c,this._languageConfigurationService);if(v!==null){const g=Or(f),p=bo(v,a),m=bo(g,a);if(p!==m){const b=ub(p,a,l);u.push({range:new be(d,1,d,g.length+1),text:b}),f=b+f.substring(g.length)}else{const b=o6(i,d,this._languageConfigurationService);if(b===0||b===8)return}}}const h=d;for(;d<e.endLineNumber;){if(!/\S/.test(i.getLineContent(d+1))){d++;continue}break}if(d!==e.endLineNumber){const g=Rm(o,{tokenization:{getLineTokens:p=>i.tokenization.getLineTokens(p),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(p,m)=>i.getLanguageIdAtPosition(p,m)},getLineContent:p=>p===h?f:i.getLineContent(p)},i.getLanguageId(),d+1,c,this._languageConfigurationService);if(g!==null){const p=bo(g,a),m=bo(Or(i.getLineContent(d+1)),a);if(p!==m){const b=p-m;for(let C=d+1;C<=e.endLineNumber;C++){const O=i.getLineContent(C),w=Or(O),P=bo(w,a)+b,D=ub(P,a,l);D!==w&&u.push({range:new be(C,1,C,w.length+1),text:D})}}}}if(u.length>0){this.editor.pushUndoStop();const v=new zFe(u,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",v),this.editor.pushUndoStop()}}rangeContainsOnlyWhitespaceCharacters(e,t){const i=o=>o.trim().length===0;let r=!0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);r=i(a)}else for(let o=t.startLineNumber;o<=t.endLineNumber;o++){const a=e.getLineContent(o);if(o===t.startLineNumber){const s=a.substring(t.startColumn-1);r=i(s)}else if(o===t.endLineNumber){const s=a.substring(0,t.endColumn-1);r=i(s)}else r=e.getLineFirstNonWhitespaceColumn(o)===0;if(!r)break}return r}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const i=e.getLineFirstNonWhitespaceColumn(t);if(i===0)return!0;const r=e.tokenization.getLineTokens(t);if(r.getCount()>0){const o=r.findTokenIndexAtOffset(i);if(o>=0&&r.getStandardTokenType(o)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}},hg.ID="editor.contrib.autoIndentOnPaste",hg);pS=BFe([$Fe(1,or)],pS);function UFe(n,e){const t=i=>yee(n,i)===2;return t(e.getStartPosition())||t(e.getEndPosition())}function zY(n,e,t,i){if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;let r="";for(let a=0;a<t;a++)r+=" ";const o=new RegExp(r,"gi");for(let a=1,s=n.getLineCount();a<=s;a++){let l=n.getLineFirstNonWhitespaceColumn(a);if(l===0&&(l=n.getLineMaxColumn(a)),l===1)continue;const u=new be(a,1,a,l),c=n.getValueInRange(u),d=i?c.replace(/\t/ig,r):c.replace(o,"	");e.addEditOperation(u,d)}}class KFe{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),zY(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class qFe{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),zY(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}gn(pS.ID,pS,2);Le(IT);Le(LT);Le(MT);Le(AT);Le(RT);Le(NT);Le(VFe);Le(WFe);gn(uy.ID,uy,1);Rh.register(G0);class GFe{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const r=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Nt(r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn),r.endLineNumber,Math.min(this._originalSelection.positionColumn,r.endColumn)):new Nt(r.endLineNumber,r.endColumn-this._text.length,r.endLineNumber,r.endColumn)}}var YFe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ZFe=function(n,e){return function(t,i){e(t,i,n)}},xC,Xc;let tp=(Xc=class{static get(e){return e.getContribution(xC.ID)}constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(e,t){var l;(l=this.currentRequest)==null||l.cancel();const i=this.editor.getSelection(),r=this.editor.getModel();if(!r||!i)return;let o=i;if(o.startLineNumber!==o.endLineNumber)return;const a=new r6(this.editor,5),s=r.uri;return this.editorWorkerService.canNavigateValueSet(s)?(this.currentRequest=cr(u=>this.editorWorkerService.navigateValueSet(s,o,t)),this.currentRequest.then(u=>{var v;if(!u||!u.range||!u.value||!a.validate(this.editor))return;const c=be.lift(u.range);let d=u.range;const f=u.value.length-(o.endColumn-o.startColumn);d={startLineNumber:d.startLineNumber,startColumn:d.startColumn,endLineNumber:d.endLineNumber,endColumn:d.startColumn+u.value.length},f>1&&(o=new Nt(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn+f-1));const h=new GFe(c,o,u.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,h),this.editor.pushUndoStop(),this.decorations.set([{range:d,options:xC.DECORATION}]),(v=this.decorationRemover)==null||v.cancel(),this.decorationRemover=ZI(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(Jn)}).catch(Jn)):Promise.resolve(void 0)}},xC=Xc,Xc.ID="editor.contrib.inPlaceReplaceController",Xc.DECORATION=mn.register({description:"in-place-replace",className:"valueSetReplacement"}),Xc);tp=xC=YFe([ZFe(1,Vu)],tp);class XFe extends Qe{constructor(){super({id:"editor.action.inPlaceReplace.up",label:G("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:3159,weight:100}})}run(e,t){const i=tp.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}class JFe extends Qe{constructor(){super({id:"editor.action.inPlaceReplace.down",label:G("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:3161,weight:100}})}run(e,t){const i=tp.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}gn(tp.ID,tp,4);Le(XFe);Le(JFe);class QFe extends Qe{constructor(){super({id:"expandLineSelection",label:G("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:ve.textInputFocus,primary:2090}})}run(e,t,i){if(i=i||{},!t.hasModel())return;const r=t._getViewModel();r.model.pushStackElement(),r.setCursorStates(i.source,3,JI.expandLineSelection(r,r.getCursorStates())),r.revealAllCursors(i.source,!0)}}Le(QFe);class eje{constructor(e,t,i){this._selection=e,this._cursors=t,this._selectionId=null,this._trimInRegexesAndStrings=i}getEditOperations(e,t){const i=tje(e,this._cursors,this._trimInRegexesAndStrings);for(let r=0,o=i.length;r<o;r++){const a=i[r];t.addEditOperation(a.range,a.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function tje(n,e,t){e.sort((s,l)=>s.lineNumber===l.lineNumber?s.column-l.column:s.lineNumber-l.lineNumber);for(let s=e.length-2;s>=0;s--)e[s].lineNumber===e[s+1].lineNumber&&e.splice(s,1);const i=[];let r=0,o=0;const a=e.length;for(let s=1,l=n.getLineCount();s<=l;s++){const u=n.getLineContent(s),c=u.length+1;let d=0;if(o<a&&e[o].lineNumber===s&&(d=e[o].column,o++,d===c)||u.length===0)continue;const f=Kw(u);let h=0;if(f===-1)h=1;else if(f!==u.length-1)h=f+2;else continue;if(!t){if(!n.tokenization.hasAccurateTokensForLine(s))continue;const v=n.tokenization.getLineTokens(s),g=v.getStandardTokenType(v.findTokenIndexAtOffset(h));if(g===2||g===3)continue}h=Math.max(d,h),i[r++]=Oi.delete(new be(s,h,s,c))}return i}class UY{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&i.endColumn===1&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const r=[];for(let a=i.startLineNumber;a<=i.endLineNumber;a++)r.push(e.getLineContent(a));const o=r.join(`
`);o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new be(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new be(i.startLineNumber,1,i.startLineNumber,1),o+`
`):t.addEditOperation(new be(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),`
`+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let r=i.startLineNumber,o=i.startColumn,a=i.endLineNumber,s=i.endColumn;this._startLineNumberDelta!==0&&(r=r+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(a=a+this._endLineNumberDelta,s=1),i=Nt.createWithDirection(r,o,a,s,this._selectionDirection)}return i}}var nje=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ije=function(n,e){return function(t,i){e(t,i,n)}};let FT=class{constructor(e,t,i,r){this._languageConfigurationService=r,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const i=()=>e.getLanguageId(),r=(d,f)=>e.getLanguageIdAtPosition(d,f),o=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===o){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let a=this._selection;a.startLineNumber<a.endLineNumber&&a.endColumn===1&&(this._moveEndPositionDown=!0,a=a.setEndPosition(a.endLineNumber-1,e.getLineMaxColumn(a.endLineNumber-1)));const{tabSize:s,indentSize:l,insertSpaces:u}=e.getOptions(),c=this.buildIndentConverter(s,l,u);if(a.startLineNumber===a.endLineNumber&&e.getLineMaxColumn(a.startLineNumber)===1){const d=a.startLineNumber,f=this._isMovingDown?d+1:d-1;e.getLineMaxColumn(f)===1?t.addEditOperation(new be(1,1,1,1),null):(t.addEditOperation(new be(d,1,d,1),e.getLineContent(f)),t.addEditOperation(new be(f,1,f,e.getLineMaxColumn(f)),null)),a=new Nt(f,1,f,1)}else{let d,f;if(this._isMovingDown){d=a.endLineNumber+1,f=e.getLineContent(d),t.addEditOperation(new be(d-1,e.getLineMaxColumn(d-1),d,e.getLineMaxColumn(d)),null);let h=f;if(this.shouldAutoIndent(e,a)){const v=this.matchEnterRule(e,c,s,d,a.startLineNumber-1);if(v!==null){const p=Or(e.getLineContent(d)),m=v+bo(p,s);h=ub(m,s,u)+this.trimStart(f)}else{const p={tokenization:{getLineTokens:b=>b===a.startLineNumber?e.tokenization.getLineTokens(d):e.tokenization.getLineTokens(b),getLanguageId:i,getLanguageIdAtPosition:r},getLineContent:b=>b===a.startLineNumber?e.getLineContent(d):e.getLineContent(b)},m=Rm(this._autoIndent,p,e.getLanguageIdAtPosition(d,1),a.startLineNumber,c,this._languageConfigurationService);if(m!==null){const b=Or(e.getLineContent(d)),C=bo(m,s),O=bo(b,s);C!==O&&(h=ub(C,s,u)+this.trimStart(f))}}t.addEditOperation(new be(a.startLineNumber,1,a.startLineNumber,1),h+`
`);const g=this.matchEnterRuleMovingDown(e,c,s,a.startLineNumber,d,h);if(g!==null)g!==0&&this.getIndentEditsOfMovingBlock(e,t,a,s,u,g);else{const p={tokenization:{getLineTokens:b=>b===a.startLineNumber?e.tokenization.getLineTokens(d):b>=a.startLineNumber+1&&b<=a.endLineNumber+1?e.tokenization.getLineTokens(b-1):e.tokenization.getLineTokens(b),getLanguageId:i,getLanguageIdAtPosition:r},getLineContent:b=>b===a.startLineNumber?h:b>=a.startLineNumber+1&&b<=a.endLineNumber+1?e.getLineContent(b-1):e.getLineContent(b)},m=Rm(this._autoIndent,p,e.getLanguageIdAtPosition(d,1),a.startLineNumber+1,c,this._languageConfigurationService);if(m!==null){const b=Or(e.getLineContent(a.startLineNumber)),C=bo(m,s),O=bo(b,s);if(C!==O){const w=C-O;this.getIndentEditsOfMovingBlock(e,t,a,s,u,w)}}}}else t.addEditOperation(new be(a.startLineNumber,1,a.startLineNumber,1),h+`
`)}else if(d=a.startLineNumber-1,f=e.getLineContent(d),t.addEditOperation(new be(d,1,d+1,1),null),t.addEditOperation(new be(a.endLineNumber,e.getLineMaxColumn(a.endLineNumber),a.endLineNumber,e.getLineMaxColumn(a.endLineNumber)),`
`+f),this.shouldAutoIndent(e,a)){const h={tokenization:{getLineTokens:g=>g===d?e.tokenization.getLineTokens(a.startLineNumber):e.tokenization.getLineTokens(g),getLanguageId:i,getLanguageIdAtPosition:r},getLineContent:g=>g===d?e.getLineContent(a.startLineNumber):e.getLineContent(g)},v=this.matchEnterRule(e,c,s,a.startLineNumber,a.startLineNumber-2);if(v!==null)v!==0&&this.getIndentEditsOfMovingBlock(e,t,a,s,u,v);else{const g=Rm(this._autoIndent,h,e.getLanguageIdAtPosition(a.startLineNumber,1),d,c,this._languageConfigurationService);if(g!==null){const p=Or(e.getLineContent(a.startLineNumber)),m=bo(g,s),b=bo(p,s);if(m!==b){const C=m-b;this.getIndentEditsOfMovingBlock(e,t,a,s,u,C)}}}}}this._selectionId=t.trackSelection(a)}buildIndentConverter(e,t,i){return{shiftIndent:r=>Eg.shiftIndent(r,r.length+1,e,t,i),unshiftIndent:r=>Eg.unshiftIndent(r,r.length+1,e,t,i)}}parseEnterResult(e,t,i,r,o){if(o){let a=o.indentation;o.indentAction===P_.None||o.indentAction===P_.Indent?a=o.indentation+o.appendText:o.indentAction===P_.IndentOutdent?a=o.indentation:o.indentAction===P_.Outdent&&(a=t.unshiftIndent(o.indentation)+o.appendText);const s=e.getLineContent(r);if(this.trimStart(s).indexOf(this.trimStart(a))>=0){const l=Or(e.getLineContent(r));let u=Or(a);const c=o6(e,r,this._languageConfigurationService);c!==null&&c&2&&(u=t.unshiftIndent(u));const d=bo(u,i),f=bo(l,i);return d-f}}return null}matchEnterRuleMovingDown(e,t,i,r,o,a){if(Kw(a)>=0){const s=e.getLineMaxColumn(o),l=_x(this._autoIndent,e,new be(o,s,o,s),this._languageConfigurationService);return this.parseEnterResult(e,t,i,r,l)}else{let s=r-1;for(;s>=1;){const c=e.getLineContent(s);if(Kw(c)>=0)break;s--}if(s<1||r>e.getLineCount())return null;const l=e.getLineMaxColumn(s),u=_x(this._autoIndent,e,new be(s,l,s,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,r,u)}}matchEnterRule(e,t,i,r,o,a){let s=o;for(;s>=1;){let c;if(s===o&&a!==void 0?c=a:c=e.getLineContent(s),Kw(c)>=0)break;s--}if(s<1||r>e.getLineCount())return null;const l=e.getLineMaxColumn(s),u=_x(this._autoIndent,e,new be(s,l,s,l),this._languageConfigurationService);return this.parseEnterResult(e,t,i,r,u)}trimStart(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const i=e.getLanguageIdAtPosition(t.startLineNumber,1),r=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(i!==r||this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport===null)}getIndentEditsOfMovingBlock(e,t,i,r,o,a){for(let s=i.startLineNumber;s<=i.endLineNumber;s++){const l=e.getLineContent(s),u=Or(l),d=bo(u,r)+a,f=ub(d,r,o);f!==u&&(t.addEditOperation(new be(s,1,s,u.length+1),f),s===i.endLineNumber&&i.endColumn<=u.length+1&&f===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};FT=nje([ije(3,or)],FT);const qv=class qv{static getCollator(){return qv._COLLATOR||(qv._COLLATOR=new Intl.Collator),qv._COLLATOR}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}getEditOperations(e,t){const i=rje(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(e===null)return!1;const r=KY(e,t,i);if(!r)return!1;for(let o=0,a=r.before.length;o<a;o++)if(r.before[o]!==r.after[o])return!0;return!1}};qv._COLLATOR=null;let vy=qv;function KY(n,e,t){const i=e.startLineNumber;let r=e.endLineNumber;if(e.endColumn===1&&r--,i>=r)return null;const o=[];for(let s=i;s<=r;s++)o.push(n.getLineContent(s));let a=o.slice(0);return a.sort(vy.getCollator().compare),t===!0&&(a=a.reverse()),{startLineNumber:i,endLineNumber:r,before:o,after:a}}function rje(n,e,t){const i=KY(n,e,t);return i?Oi.replace(new be(i.startLineNumber,1,i.endLineNumber,n.getLineMaxColumn(i.endLineNumber)),i.after.join(`
`)):null}class qY extends Qe{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((a,s)=>({selection:a,index:s,ignore:!1}));i.sort((a,s)=>be.compareRangesUsingStarts(a.selection,s.selection));let r=i[0];for(let a=1;a<i.length;a++){const s=i[a];r.selection.endLineNumber===s.selection.startLineNumber&&(r.index<s.index?s.ignore=!0:(r.ignore=!0,r=s))}const o=[];for(const a of i)o.push(new UY(a.selection,this.down,a.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class oje extends qY{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:G("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"2_line",title:G({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class aje extends qY{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:G("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"2_line",title:G({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class sje extends Qe{constructor(){super({id:"editor.action.duplicateSelection",label:G("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:ve.writable,menuOpts:{menuId:pt.MenubarSelectionMenu,group:"2_line",title:G({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const r=[],o=t.getSelections(),a=t.getModel();for(const s of o)if(s.isEmpty())r.push(new UY(s,!0));else{const l=new Nt(s.endLineNumber,s.endColumn,s.endLineNumber,s.endColumn);r.push(new _ee(l,a.getValueInRange(s)))}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class GY extends Qe{constructor(e,t){super(t),this.down=e}run(e,t){const i=e.get(or),r=[],o=t.getSelections()||[],a=t.getOption(12);for(const s of o)r.push(new FT(s,this.down,a,i));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}class lje extends GY{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:G("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"2_line",title:G({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class uje extends GY{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:G("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"2_line",title:G({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class YY extends Qe{constructor(e,t){super(t),this.descending=e}run(e,t){if(!t.hasModel())return;const i=t.getModel();let r=t.getSelections();r.length===1&&r[0].isEmpty()&&(r=[new Nt(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))]);for(const a of r)if(!vy.canRun(t.getModel(),a,this.descending))return;const o=[];for(let a=0,s=r.length;a<s;a++)o[a]=new vy(r[a],this.descending);t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class cje extends YY{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:G("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:ve.writable})}}class dje extends YY{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:G("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:ve.writable})}}class fje extends Qe{constructor(){super({id:"editor.action.removeDuplicateLines",label:G("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:ve.writable})}run(e,t){if(!t.hasModel())return;const i=t.getModel();if(i.getLineCount()===1&&i.getLineMaxColumn(1)===1)return;const r=[],o=[];let a=0,s=!0,l=t.getSelections();l.length===1&&l[0].isEmpty()&&(l=[new Nt(1,1,i.getLineCount(),i.getLineMaxColumn(i.getLineCount()))],s=!1);for(const u of l){const c=new Set,d=[];for(let g=u.startLineNumber;g<=u.endLineNumber;g++){const p=i.getLineContent(g);c.has(p)||(d.push(p),c.add(p))}const f=new Nt(u.startLineNumber,1,u.endLineNumber,i.getLineMaxColumn(u.endLineNumber)),h=u.startLineNumber-a,v=new Nt(h,1,h+d.length-1,d[d.length-1].length);r.push(Oi.replace(f,d.join(`
`))),o.push(v),a+=u.endLineNumber-u.startLineNumber+1-d.length}t.pushUndoStop(),t.executeEdits(this.id,r,s?o:void 0),t.pushUndoStop()}}const e1=class e1 extends Qe{constructor(){super({id:e1.ID,label:G("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:Wi(2089,2102),weight:100}})}run(e,t,i){let r=[];i.reason==="auto-save"&&(r=(t.getSelections()||[]).map(c=>new Ot(c.positionLineNumber,c.positionColumn)));const o=t.getSelection();if(o===null)return;const a=e.get(vi),s=t.getModel(),l=a.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:s==null?void 0:s.getLanguageId(),resource:s==null?void 0:s.uri}),u=new eje(o,r,l);t.pushUndoStop(),t.executeCommands(this.id,[u]),t.pushUndoStop()}};e1.ID="editor.action.trimTrailingWhitespace";let jT=e1;class hje extends Qe{constructor(){super({id:"editor.action.deleteLines",label:G("lines.delete","Delete Line"),alias:"Delete Line",precondition:ve.writable,kbOpts:{kbExpr:ve.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const i=this._getLinesToRemove(t),r=t.getModel();if(r.getLineCount()===1&&r.getLineMaxColumn(1)===1)return;let o=0;const a=[],s=[];for(let l=0,u=i.length;l<u;l++){const c=i[l];let d=c.startLineNumber,f=c.endLineNumber,h=1,v=r.getLineMaxColumn(f);f<r.getLineCount()?(f+=1,v=1):d>1&&(d-=1,h=r.getLineMaxColumn(d)),a.push(Oi.replace(new Nt(d,h,f,v),"")),s.push(new Nt(d-o,c.positionColumn,d-o,c.positionColumn)),o+=c.endLineNumber-c.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,a,s),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map(o=>{let a=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(a-=1),{startLineNumber:o.startLineNumber,selectionStartColumn:o.selectionStartColumn,endLineNumber:a,positionColumn:o.positionColumn}});t.sort((o,a)=>o.startLineNumber===a.startLineNumber?o.endLineNumber-a.endLineNumber:o.startLineNumber-a.startLineNumber);const i=[];let r=t[0];for(let o=1;o<t.length;o++)r.endLineNumber+1>=t[o].startLineNumber?r.endLineNumber=t[o].endLineNumber:(i.push(r),r=t[o]);return i.push(r),i}}class vje extends Qe{constructor(){super({id:"editor.action.indentLines",label:G("lines.indent","Indent Line"),alias:"Indent Line",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:2142,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,wee.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class gje extends Qe{constructor(){super({id:"editor.action.outdentLines",label:G("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:2140,weight:100}})}run(e,t){Uw.Outdent.runEditorCommand(e,t,null)}}class pje extends Qe{constructor(){super({id:"editor.action.insertLineBefore",label:G("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,a6.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class mje extends Qe{constructor(){super({id:"editor.action.insertLineAfter",label:G("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,a6.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class ZY extends Qe{run(e,t){if(!t.hasModel())return;const i=t.getSelection(),r=this._getRangesToDelete(t),o=[];for(let l=0,u=r.length-1;l<u;l++){const c=r[l],d=r[l+1];be.intersectRanges(c,d)===null?o.push(c):r[l+1]=be.plusRange(c,d)}o.push(r[r.length-1]);const a=this._getEndCursorState(i,o),s=o.map(l=>Oi.replace(l,""));t.pushUndoStop(),t.executeEdits(this.id,s,a),t.pushUndoStop()}}class bje extends ZY{constructor(){super({id:"deleteAllLeft",label:G("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:ve.writable,kbOpts:{kbExpr:ve.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null;const r=[];let o=0;return t.forEach(a=>{let s;if(a.endColumn===1&&o>0){const l=a.startLineNumber-o;s=new Nt(l,a.startColumn,l,a.startColumn)}else s=new Nt(a.startLineNumber,a.startColumn,a.startLineNumber,a.startColumn);o+=a.endLineNumber-a.startLineNumber,a.intersectRanges(e)?i=s:r.push(s)}),i&&r.unshift(i),r}_getRangesToDelete(e){const t=e.getSelections();if(t===null)return[];let i=t;const r=e.getModel();return r===null?[]:(i.sort(be.compareRangesUsingStarts),i=i.map(o=>{if(o.isEmpty())if(o.startColumn===1){const a=Math.max(1,o.startLineNumber-1),s=o.startLineNumber===1?1:r.getLineLength(a)+1;return new be(a,s,o.startLineNumber,1)}else return new be(o.startLineNumber,1,o.startLineNumber,o.startColumn);else return new be(o.startLineNumber,1,o.endLineNumber,o.endColumn)}),i)}}class yje extends ZY{constructor(){super({id:"deleteAllRight",label:G("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:ve.writable,kbOpts:{kbExpr:ve.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null;const r=[];for(let o=0,a=t.length,s=0;o<a;o++){const l=t[o],u=new Nt(l.startLineNumber-s,l.startColumn,l.startLineNumber-s,l.startColumn);l.intersectRanges(e)?i=u:r.push(u)}return i&&r.unshift(i),r}_getRangesToDelete(e){const t=e.getModel();if(t===null)return[];const i=e.getSelections();if(i===null)return[];const r=i.map(o=>{if(o.isEmpty()){const a=t.getLineMaxColumn(o.startLineNumber);return o.startColumn===a?new be(o.startLineNumber,o.startColumn,o.startLineNumber+1,1):new be(o.startLineNumber,o.startColumn,o.startLineNumber,a)}return o});return r.sort(be.compareRangesUsingStarts),r}}class _je extends Qe{constructor(){super({id:"editor.action.joinLines",label:G("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:ve.writable,kbOpts:{kbExpr:ve.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const i=t.getSelections();if(i===null)return;let r=t.getSelection();if(r===null)return;i.sort(be.compareRangesUsingStarts);const o=[],a=i.reduce((f,h)=>f.isEmpty()?f.endLineNumber===h.startLineNumber?(r.equalsSelection(f)&&(r=h),h):h.startLineNumber>f.endLineNumber+1?(o.push(f),h):new Nt(f.startLineNumber,f.startColumn,h.endLineNumber,h.endColumn):h.startLineNumber>f.endLineNumber?(o.push(f),h):new Nt(f.startLineNumber,f.startColumn,h.endLineNumber,h.endColumn));o.push(a);const s=t.getModel();if(s===null)return;const l=[],u=[];let c=r,d=0;for(let f=0,h=o.length;f<h;f++){const v=o[f],g=v.startLineNumber,p=1;let m=0,b,C;const O=s.getLineLength(v.endLineNumber)-v.endColumn;if(v.isEmpty()||v.startLineNumber===v.endLineNumber){const P=v.getStartPosition();P.lineNumber<s.getLineCount()?(b=g+1,C=s.getLineMaxColumn(b)):(b=P.lineNumber,C=s.getLineMaxColumn(P.lineNumber))}else b=v.endLineNumber,C=s.getLineMaxColumn(b);let w=s.getLineContent(g);for(let P=g+1;P<=b;P++){const D=s.getLineContent(P),k=s.getLineFirstNonWhitespaceColumn(P);if(k>=1){let L=!0;w===""&&(L=!1),L&&(w.charAt(w.length-1)===" "||w.charAt(w.length-1)==="	")&&(L=!1,w=w.replace(/[\s\uFEFF\xA0]+$/g," "));const M=D.substr(k-1);w+=(L?" ":"")+M,L?m=M.length+1:m=M.length}else m=0}const E=new be(g,p,b,C);if(!E.isEmpty()){let P;v.isEmpty()?(l.push(Oi.replace(E,w)),P=new Nt(E.startLineNumber-d,w.length-m+1,g-d,w.length-m+1)):v.startLineNumber===v.endLineNumber?(l.push(Oi.replace(E,w)),P=new Nt(v.startLineNumber-d,v.startColumn,v.endLineNumber-d,v.endColumn)):(l.push(Oi.replace(E,w)),P=new Nt(v.startLineNumber-d,v.startColumn,v.startLineNumber-d,w.length-O)),be.intersectRanges(E,r)!==null?c=P:u.push(P)}d+=E.endLineNumber-E.startLineNumber}u.unshift(c),t.pushUndoStop(),t.executeEdits(this.id,l,u),t.pushUndoStop()}}class wje extends Qe{constructor(){super({id:"editor.action.transpose",label:G("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:ve.writable})}run(e,t){const i=t.getSelections();if(i===null)return;const r=t.getModel();if(r===null)return;const o=[];for(let a=0,s=i.length;a<s;a++){const l=i[a];if(!l.isEmpty())continue;const u=l.getStartPosition(),c=r.getLineMaxColumn(u.lineNumber);if(u.column>=c){if(u.lineNumber===r.getLineCount())continue;const d=new be(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1),f=r.getValueInRange(d).split("").reverse().join("");o.push(new xy(new Nt(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1),f))}else{const d=new be(u.lineNumber,Math.max(1,u.column-1),u.lineNumber,u.column+1),f=r.getValueInRange(d).split("").reverse().join("");o.push(new x2(d,f,new Nt(u.lineNumber,u.column+1,u.lineNumber,u.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class jh extends Qe{run(e,t){const i=t.getSelections();if(i===null)return;const r=t.getModel();if(r===null)return;const o=t.getOption(132),a=[];for(const s of i)if(s.isEmpty()){const l=s.getStartPosition(),u=t.getConfiguredWordAtPosition(l);if(!u)continue;const c=new be(l.lineNumber,u.startColumn,l.lineNumber,u.endColumn),d=r.getValueInRange(c);a.push(Oi.replace(c,this._modifyText(d,o)))}else{const l=r.getValueInRange(s);a.push(Oi.replace(s,this._modifyText(l,o)))}t.pushUndoStop(),t.executeEdits(this.id,a),t.pushUndoStop()}}class Cje extends jh{constructor(){super({id:"editor.action.transformToUppercase",label:G("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:ve.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class Sje extends jh{constructor(){super({id:"editor.action.transformToLowercase",label:G("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:ve.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class Su{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}const t1=class t1 extends jh{constructor(){super({id:"editor.action.transformToTitlecase",label:G("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:ve.writable})}_modifyText(e,t){const i=t1.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,r=>r.toLocaleUpperCase()):e}};t1.titleBoundary=new Su("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");let mS=t1;const Gv=class Gv extends jh{constructor(){super({id:"editor.action.transformToSnakecase",label:G("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:ve.writable})}_modifyText(e,t){const i=Gv.caseBoundary.get(),r=Gv.singleLetters.get();return!i||!r?e:e.replace(i,"$1_$2").replace(r,"$1_$2$3").toLocaleLowerCase()}};Gv.caseBoundary=new Su("(\\p{Ll})(\\p{Lu})","gmu"),Gv.singleLetters=new Su("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");let cb=Gv;const n1=class n1 extends jh{constructor(){super({id:"editor.action.transformToCamelcase",label:G("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:ve.writable})}_modifyText(e,t){const i=n1.wordBoundary.get();if(!i)return e;const r=e.split(i);return r.shift()+r.map(a=>a.substring(0,1).toLocaleUpperCase()+a.substring(1)).join("")}};n1.wordBoundary=new Su("[_\\s-]","gm");let bS=n1;const Yv=class Yv extends jh{constructor(){super({id:"editor.action.transformToPascalcase",label:G("editor.transformToPascalcase","Transform to Pascal Case"),alias:"Transform to Pascal Case",precondition:ve.writable})}_modifyText(e,t){const i=Yv.wordBoundary.get(),r=Yv.wordBoundaryToMaintain.get();return!i||!r?e:e.split(r).map(s=>s.split(i)).flat().map(s=>s.substring(0,1).toLocaleUpperCase()+s.substring(1)).join("")}};Yv.wordBoundary=new Su("[_\\s-]","gm"),Yv.wordBoundaryToMaintain=new Su("(?<=\\.)","gm");let yS=Yv;const Pc=class Pc extends jh{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(t=>t.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:G("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:ve.writable})}_modifyText(e,t){const i=Pc.caseBoundary.get(),r=Pc.singleLetters.get(),o=Pc.underscoreBoundary.get();return!i||!r||!o?e:e.replace(o,"$1-$3").replace(i,"$1-$2").replace(r,"$1-$2").toLocaleLowerCase()}};Pc.caseBoundary=new Su("(\\p{Ll})(\\p{Lu})","gmu"),Pc.singleLetters=new Su("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Pc.underscoreBoundary=new Su("(\\S)(_)(\\S)","gm");let _S=Pc;Le(oje);Le(aje);Le(sje);Le(lje);Le(uje);Le(cje);Le(dje);Le(fje);Le(jT);Le(hje);Le(vje);Le(gje);Le(pje);Le(mje);Le(bje);Le(yje);Le(_je);Le(wje);Le(Cje);Le(Sje);cb.caseBoundary.isSupported()&&cb.singleLetters.isSupported()&&Le(cb);bS.wordBoundary.isSupported()&&Le(bS);yS.wordBoundary.isSupported()&&Le(yS);mS.titleBoundary.isSupported()&&Le(mS);_S.isSupported()&&Le(_S);var Oje=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fw=function(n,e){return function(t,i){e(t,i,n)}},EC;const XY=new yn("LinkedEditingInputVisible",!1),xje="linked-editing-decoration";var Jc;let np=(Jc=class extends dt{static get(e){return e.getContribution(EC.ID)}constructor(e,t,i,r,o){super(),this.languageConfigurationService=r,this._syncRangesToken=0,this._localToDispose=this._register(new st),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=XY.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new st),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(a=>{(a.hasChanged(70)||a.hasChanged(94))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(e){const t=this._editor.getModel(),i=t!==null&&(this._editor.getOption(70)||this._editor.getOption(94))&&this._providers.has(t);if(i===this._enabled&&!e||(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||t===null))return;this._localToDispose.add(lr.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const r=new id(this._debounceInformation.get(t)),o=()=>{this._rangeUpdateTriggerPromise=r.trigger(()=>this.updateRanges(),this._debounceDuration??this._debounceInformation.get(t))},a=new id(0),s=l=>{this._rangeSyncTriggerPromise=a.trigger(()=>this._syncRanges(l))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(l=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const u=this._currentDecorations.getRange(0);if(u&&l.changes.every(c=>u.intersectRanges(c.range))){s(this._syncRangesToken);return}}o()})),this._localToDispose.add({dispose:()=>{r.dispose(),a.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||this._currentDecorations.length===0)return;const t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const r=t.getValueInRange(i);if(this._currentWordPattern){const a=r.match(this._currentWordPattern);if((a?a[0].length:0)!==r.length)return this.clearRanges()}const o=[];for(let a=1,s=this._currentDecorations.length;a<s;a++){const l=this._currentDecorations.getRange(a);if(l)if(l.startLineNumber!==l.endLineNumber)o.push({range:l,text:r});else{let u=t.getValueInRange(l),c=r,d=l.startColumn,f=l.endColumn;const h=Fy(u,c);d+=h,u=u.substr(h),c=c.substr(h);const v=Cee(u,c);f-=v,u=u.substr(0,u.length-v),c=c.substr(0,c.length-v),(d!==f||c.length!==0)&&o.push({range:new be(l.startLineNumber,d,l.endLineNumber,f),text:c})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const a=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(a)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(e=!1){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const i=this._editor.getModel(),r=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===r){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const a=this._currentDecorations.getRange(0);if(a&&a.containsPosition(t))return}}this.clearRanges(),this._currentRequestPosition=t,this._currentRequestModelVersion=r;const o=this._currentRequestCts=new Er;try{const a=new ko(!1),s=await JY(this._providers,i,t,o.token);if(this._debounceInformation.update(i,a.elapsed()),o!==this._currentRequestCts||(this._currentRequestCts=null,r!==i.getVersionId()))return;let l=[];s!=null&&s.ranges&&(l=s.ranges),this._currentWordPattern=(s==null?void 0:s.wordPattern)||this._languageWordPattern;let u=!1;for(let d=0,f=l.length;d<f;d++)if(be.containsPosition(l[d],t)){if(u=!0,d!==0){const h=l[d];l.splice(d,1),l.unshift(h)}break}if(!u){this.clearRanges();return}const c=l.map(d=>({range:d,options:EC.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(c),this._syncRangesToken++}catch(a){xh(a)||Jn(a),(this._currentRequestCts===o||!this._currentRequestCts)&&this.clearRanges()}}},EC=Jc,Jc.ID="editor.contrib.linkedEditing",Jc.DECORATION=mn.register({description:"linked-editing",stickiness:0,className:xje}),Jc);np=EC=Oje([Fw(1,Ln),Fw(2,xt),Fw(3,or),Fw(4,xa)],np);class Eje extends Qe{constructor(){super({id:"editor.action.linkedEditing",label:G("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:Ne.and(ve.writable,ve.hasRenameProvider),kbOpts:{kbExpr:ve.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(ir),[r,o]=Array.isArray(t)&&t||[void 0,void 0];return Kn.isUri(r)&&Ot.isIPosition(o)?i.openCodeEditor({resource:r},i.getActiveCodeEditor()).then(a=>{a&&(a.setPosition(o),a.invokeWithinContext(s=>(this.reportTelemetry(s,a),this.run(s,a))))},Jn):super.runCommand(e,t)}run(e,t){const i=np.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const Pje=uo.bindToContribution(np.get);Et(new Pje({id:"cancelLinkedEditingInput",precondition:XY,handler:n=>n.clearRanges(),kbOpts:{kbExpr:ve.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function JY(n,e,t,i){const r=n.ordered(e);return QI(r.map(o=>async()=>{try{return await o.provideLinkedEditingRanges(e,t,i)}catch(a){Fi(a);return}}),o=>!!o&&Wo(o==null?void 0:o.ranges))}_t("editor.linkedEditingBackground",{dark:_n.fromHex("#f00").transparent(.3),light:_n.fromHex("#f00").transparent(.3),hcDark:_n.fromHex("#f00").transparent(.3),hcLight:_n.white},G("editorLinkedEditingBackground","Background color when the editor auto renames on type."));fo("_executeLinkedEditingProvider",(n,e,t)=>{const{linkedEditingRangeProvider:i}=n.get(xt);return JY(i,e,t,an.None)});gn(np.ID,np,1);Le(Eje);let kje=class{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(e){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}};class wS{constructor(e){this._disposables=new st;let t=[];for(const[i,r]of e){const o=i.links.map(a=>new kje(a,r));t=wS._union(t,o),K2(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const i=[];let r,o,a,s;for(r=0,a=0,o=e.length,s=t.length;r<o&&a<s;){const l=e[r],u=t[a];if(be.areIntersectingOrTouching(l.range,u.range)){r++;continue}be.compareRangesUsingStarts(l.range,u.range)<0?(i.push(l),r++):(i.push(u),a++)}for(;r<o;r++)i.push(e[r]);for(;a<s;a++)i.push(t[a]);return i}}function QY(n,e,t){const i=[],r=n.ordered(e).reverse().map((o,a)=>Promise.resolve(o.provideLinks(e,t)).then(s=>{s&&(i[a]=[s,o])},Fi));return Promise.all(r).then(()=>{const o=new wS(Ou(i));return t.isCancellationRequested?(o.dispose(),new wS([])):o})}ii.registerCommand("_executeLinkProvider",async(n,...e)=>{let[t,i]=e;In(t instanceof Kn),typeof i!="number"&&(i=0);const{linkProvider:r}=n.get(xt),o=n.get(Yr).getModel(t);if(!o)return[];const a=await QY(r,o,an.None);if(!a)return[];for(let l=0;l<Math.min(i,a.links.length);l++)await a.links[l].resolve(an.None);const s=a.links.slice(0);return a.dispose(),s});var Dje=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jw=function(n,e){return function(t,i){e(t,i,n)}},HT,$f;let gy=($f=class extends dt{static get(e){return e.getContribution(HT.ID)}constructor(e,t,i,r,o){super(),this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=r,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=o.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new Xi(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const a=this._register(new GO(e));this._register(a.onMouseMoveOrRelevantKeyDown(([s,l])=>{this._onEditorMouseMove(s,l)})),this._register(a.onExecute(s=>{this.onEditorMouseUp(s)})),this._register(a.onCancel(s=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(s=>{s.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(s=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(s=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(s=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(s=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const e=this.editor.getModel();if(!e.isTooLargeForSyncing()&&this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=cr(t=>QY(this.providers,e,t));try{const t=new ko(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){Jn(t)}finally{this.computePromise=null}}}updateDecorations(e){const t=this.editor.getOption(78)==="altKey",i=[],r=Object.keys(this.currentOccurrences);for(const a of r){const s=this.currentOccurrences[a];i.push(s.decorationId)}const o=[];if(e)for(const a of e)o.push(ag.decoration(a,t));this.editor.changeDecorations(a=>{const s=a.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let l=0,u=s.length;l<u;l++){const c=new ag(e[l],s[l]);this.currentOccurrences[c.decorationId]=c}})}_onEditorMouseMove(e,t){const i=this.editor.getOption(78)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const r=this.getLinkOccurrence(e.target.position);r&&this.editor.changeDecorations(o=>{r.activate(o,i),this.activeLinkDecorationId=r.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:r}=e;r.resolve(an.None).then(o=>{if(typeof o=="string"&&this.editor.hasModel()){const a=this.editor.getModel().uri;if(a.scheme===io.file&&o.startsWith(`${io.file}:`)){const s=Kn.parse(o);if(s.scheme===io.file){const l=See(s);let u=null;l.startsWith("/./")||l.startsWith("\\.\\")?u=`.${l.substr(1)}`:(l.startsWith("//./")||l.startsWith("\\\\.\\"))&&(u=`.${l.substr(2)}`),u&&(o=Oee(a,u))}}}return this.openerService.open(o,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},o=>{const a=o instanceof Error?o.message:o;a==="invalid"?this.notificationService.warn(G("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):a==="missing"?this.notificationService.warn(G("missing.url","Failed to open this link because its target is missing.")):Jn(o)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const r=this.currentOccurrences[i.id];if(r)return r}return null}isEnabled(e,t){return!!(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)==null||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}},HT=$f,$f.ID="editor.linkDetector",$f);gy=HT=Dje([jw(1,As),jw(2,co),jw(3,xt),jw(4,xa)],gy);const z3={general:mn.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:mn.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class ag{static decoration(e,t){return{range:e.range,options:ag._getOptions(e,t,!1)}}static _getOptions(e,t,i){const r={...i?z3.active:z3.general};return r.hoverMessage=Tje(e,t),r}constructor(e,t){this.link=e,this.decorationId=t}activate(e,t){e.changeDecorationOptions(this.decorationId,ag._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,ag._getOptions(this.link,t,!1))}}function Tje(n,e){const t=n.url&&/^command:/i.test(n.url.toString()),i=n.tooltip?n.tooltip:t?G("links.navigate.executeCmd","Execute command"):G("links.navigate.follow","Follow link"),r=e?Ol?G("links.navigate.kb.meta.mac","cmd + click"):G("links.navigate.kb.meta","ctrl + click"):Ol?G("links.navigate.kb.alt.mac","option + click"):G("links.navigate.kb.alt","alt + click");if(n.url){let o="";if(/^command:/i.test(n.url.toString())){const s=n.url.toString().match(/^command:([^?#]+)/);if(s){const l=s[1];o=G("tooltip.explanation","Execute command {0}",l)}}return new $r("",!0).appendLink(n.url.toString(!0).replace(/ /g,"%20"),i,o).appendMarkdown(` (${r})`)}else return new $r().appendText(`${i} (${r})`)}class Ije extends Qe{constructor(){super({id:"editor.action.openLink",label:G("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const i=gy.get(t);if(!i||!t.hasModel())return;const r=t.getSelections();for(const o of r){const a=i.getLinkOccurrence(o.getEndPosition());a&&i.openLinkOccurrence(a,!1)}}}gn(gy.ID,gy,1);Le(Ije);const VA=class VA extends dt{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown(t=>{const i=this._editor.getOption(118);i>=0&&t.target.type===6&&t.target.position.column>=i&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}};VA.ID="editor.contrib.longLinesHelper";let CS=VA;gn(CS.ID,CS,2);const Lje=_t("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},G("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);_t("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},G("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0);_t("editor.wordHighlightTextBackground",Lje,G("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const Mje=_t("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Qf,hcLight:Qf},G("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));_t("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Qf,hcLight:Qf},G("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable."));_t("editor.wordHighlightTextBorder",Mje,G("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const Aje=_t("editorOverviewRuler.wordHighlightForeground","#A0A0A0CC",G("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Rje=_t("editorOverviewRuler.wordHighlightStrongForeground","#C0A0C0CC",G("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Nje=_t("editorOverviewRuler.wordHighlightTextForeground",s6,G("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),Fje=mn.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:Zi(Rje),position:gu.Center},minimap:{color:Zi(x1),position:1}}),jje=mn.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:Zi(Nje),position:gu.Center},minimap:{color:Zi(x1),position:1}}),Hje=mn.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:Zi(s6),position:gu.Center},minimap:{color:Zi(x1),position:1}}),Bje=mn.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),$je=mn.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:Zi(Aje),position:gu.Center},minimap:{color:Zi(x1),position:1}});function Vje(n){return n===BC.Write?Fje:n===BC.Text?jje:$je}function Wje(n){return n?Bje:Hje}m1((n,e)=>{const t=n.getColor(xee);t&&e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`)});var zje=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Uje=function(n,e){return function(t,i){e(t,i,n)}},BT;function Cd(n,e){const t=e.filter(i=>!n.find(r=>r.equals(i)));if(t.length>=1){const i=t.map(o=>`line ${o.viewState.position.lineNumber} column ${o.viewState.position.column}`).join(", "),r=t.length===1?G("cursorAdded","Cursor added: {0}",i):G("cursorsAdded","Cursors added: {0}",i);_b(r)}}class Kje extends Qe{constructor(){super({id:"editor.action.insertCursorAbove",label:G("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"3_multi",title:G({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let r=!0;i&&i.logicalLine===!1&&(r=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const a=o.getCursorStates();o.setCursorStates(i.source,3,JI.addCursorUp(o,a,r)),o.revealTopMostCursor(i.source),Cd(a,o.getCursorStates())}}class qje extends Qe{constructor(){super({id:"editor.action.insertCursorBelow",label:G("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"3_multi",title:G({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let r=!0;i&&i.logicalLine===!1&&(r=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const a=o.getCursorStates();o.setCursorStates(i.source,3,JI.addCursorDown(o,a,r)),o.revealBottomMostCursor(i.source),Cd(a,o.getCursorStates())}}class Gje extends Qe{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:G("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"3_multi",title:G({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let r=e.startLineNumber;r<e.endLineNumber;r++){const o=t.getLineMaxColumn(r);i.push(new Nt(r,o,r,o))}e.endColumn>1&&i.push(new Nt(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),r=t.getSelections(),o=t._getViewModel(),a=o.getCursorStates(),s=[];r.forEach(l=>this.getCursorsForSelection(l,i,s)),s.length>0&&t.setSelections(s),Cd(a,o.getCursorStates())}}class Yje extends Qe{constructor(){super({id:"editor.action.addCursorsToBottom",label:G("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),r=t.getModel().getLineCount(),o=[];for(let l=i[0].startLineNumber;l<=r;l++)o.push(new Nt(l,i[0].startColumn,l,i[0].endColumn));const a=t._getViewModel(),s=a.getCursorStates();o.length>0&&t.setSelections(o),Cd(s,a.getCursorStates())}}class Zje extends Qe{constructor(){super({id:"editor.action.addCursorsToTop",label:G("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),r=[];for(let s=i[0].startLineNumber;s>=1;s--)r.push(new Nt(s,i[0].startColumn,s,i[0].endColumn));const o=t._getViewModel(),a=o.getCursorStates();r.length>0&&t.setSelections(r),Cd(a,o.getCursorStates())}}class Hw{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class py{static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new py(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let r=!1,o,a;const s=e.getSelections();s.length===1&&s[0].isEmpty()?(r=!0,o=!0,a=!0):(o=i.wholeWord,a=i.matchCase);const l=e.getSelection();let u,c=null;if(l.isEmpty()){const d=e.getConfiguredWordAtPosition(l.getStartPosition());if(!d)return null;u=d.word,c=new Nt(l.startLineNumber,d.startColumn,l.startLineNumber,d.endColumn)}else u=e.getModel().getValueInRange(l).replace(/\r\n/g,`
`);return new py(e,t,r,u,o,a,c)}constructor(e,t,i,r,o,a,s){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=r,this.wholeWord=o,this.matchCase=a,this.currentMatch=s}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Hw(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Hw(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return i?new Nt(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Hw(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Hw(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const r=this.currentMatch;return this.currentMatch=null,r}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1);return i?new Nt(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(132):null,!1,1073741824)}}const i1=class i1 extends dt{static get(e){return e.getContribution(i1.ID)}constructor(e){super(),this._sessionDispose=this._register(new st),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=py.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(r=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(r=>{(r.matchCase||r.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new Nt(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const r=e.getState().matchCase;if(!eZ(this._editor.getModel(),t,r)){const a=this._editor.getModel(),s=[];for(let l=0,u=t.length;l<u;l++)s[l]=this._expandEmptyToWord(a,t[l]);this._editor.setSelections(s);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){const r=this._editor.getModel();i.searchScope?t=r.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(132):null,!1,1073741824):t=r.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(132):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){const r=this._editor.getSelection();for(let o=0,a=t.length;o<a;o++){const s=t[o];if(s.range.intersectRanges(r)){t[o]=t[0],t[0]=s;break}}this._setSelections(t.map(o=>new Nt(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)))}}};i1.ID="editor.contrib.multiCursorController";let ip=i1;class jp extends Qe{run(e,t){const i=ip.get(t);if(!i)return;const r=t._getViewModel();if(r){const o=r.getCursorStates(),a=so.get(t);if(a)this._run(i,a);else{const s=e.get(ln).createInstance(so,t);this._run(i,s),s.dispose()}Cd(o,r.getCursorStates())}}}class Xje extends jp{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:G("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:ve.focus,primary:2082,weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"3_multi",title:G({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class Jje extends jp{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:G("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:pt.MenubarSelectionMenu,group:"3_multi",title:G({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class Qje extends jp{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:G("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:ve.focus,primary:Wi(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class eHe extends jp{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:G("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class tHe extends jp{constructor(){super({id:"editor.action.selectHighlights",label:G("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:ve.focus,primary:3114,weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"3_multi",title:G({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class nHe extends jp{constructor(){super({id:"editor.action.changeAll",label:G("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Ne.and(ve.writable,ve.editorTextFocus),kbOpts:{kbExpr:ve.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class iHe{constructor(e,t,i,r,o){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=r,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(be.compareRangesUsingStarts)),this._cachedFindMatches}}var Vf;let SS=(Vf=class extends dt{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(109),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new Xi(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(r=>{this._isEnabled=e.getOption(109)})),this._register(e.onDidChangeCursorSelection(r=>{this._isEnabled&&(r.selection.isEmpty()?r.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(r=>{this._setState(null)})),this._register(e.onDidChangeModelContent(r=>{this._isEnabled&&this.updateSoon.schedule()}));const i=so.get(e);i&&this._register(i.getState().onFindReplaceStateChange(r=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(BT._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t||!i.hasModel())return null;const r=i.getSelection();if(r.startLineNumber!==r.endLineNumber)return null;const o=ip.get(i);if(!o)return null;const a=so.get(i);if(!a)return null;let s=o.getSession(a);if(!s){const c=i.getSelections();if(c.length>1){const f=a.getState().matchCase;if(!eZ(i.getModel(),c,f))return null}s=py.create(i,a)}if(!s||s.currentMatch||/^[ \t]+$/.test(s.searchText)||s.searchText.length>200)return null;const l=a.getState(),u=l.matchCase;if(l.isRevealed){let c=l.searchString;u||(c=c.toLowerCase());let d=s.searchText;if(u||(d=d.toLowerCase()),c===d&&s.matchCase===l.matchCase&&s.wholeWord===l.wholeWord&&!l.isRegex)return null}return new iHe(i.getModel(),s.searchText,s.matchCase,s.wholeWord?i.getOption(132):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=this.state.findMatches(),r=this.editor.getSelections();r.sort(be.compareRangesUsingStarts);const o=[];for(let u=0,c=0,d=i.length,f=r.length;u<d;){const h=i[u];if(c>=f)o.push(h),u++;else{const v=be.compareRangesUsingStarts(h,r[c]);v<0?((r[c].isEmpty()||!be.areIntersecting(h,r[c]))&&o.push(h),u++):(v>0||u++,c++)}}const a=this.editor.getOption(81)!=="off",s=this._languageFeaturesService.documentHighlightProvider.has(t)&&a,l=o.map(u=>({range:u,options:Wje(s)}));this._decorations.set(l)}dispose(){this._setState(null),super.dispose()}},BT=Vf,Vf.ID="editor.contrib.selectionHighlighter",Vf);SS=BT=zje([Uje(1,xt)],SS);function eZ(n,e,t){const i=U3(n,e[0],!t);for(let r=1,o=e.length;r<o;r++){const a=e[r];if(a.isEmpty())return!1;const s=U3(n,a,!t);if(i!==s)return!1}return!0}function U3(n,e,t){const i=n.getValueInRange(e);return t?i.toLowerCase():i}class rHe extends Qe{constructor(){super({id:"editor.action.focusNextCursor",label:G("mutlicursor.focusNextCursor","Focus Next Cursor"),metadata:{description:G("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const o=Array.from(r.getCursorStates()),a=o.shift();a&&(o.push(a),r.setCursorStates(i.source,3,o),r.revealPrimaryCursor(i.source,!0),Cd(o,r.getCursorStates()))}}class oHe extends Qe{constructor(){super({id:"editor.action.focusPreviousCursor",label:G("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),metadata:{description:G("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const r=t._getViewModel();if(r.cursorConfig.readOnly)return;r.model.pushStackElement();const o=Array.from(r.getCursorStates()),a=o.pop();a&&(o.unshift(a),r.setCursorStates(i.source,3,o),r.revealPrimaryCursor(i.source,!0),Cd(o,r.getCursorStates()))}}gn(ip.ID,ip,4);gn(SS.ID,SS,1);Le(Kje);Le(qje);Le(Gje);Le(Xje);Le(Jje);Le(Qje);Le(eHe);Le(tHe);Le(nHe);Le(Yje);Le(Zje);Le(rHe);Le(oHe);const aHe="editor.action.inlineEdit.accept",sHe="editor.action.inlineEdit.reject",lHe="editor.action.inlineEdit.jumpTo",uHe="editor.action.inlineEdit.jumpBack";var cHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dHe=function(n,e){return function(t,i){e(t,i,n)}};const sP="inline-edit";let $T=class extends dt{constructor(e,t,i){super(),this.editor=e,this.model=t,this.languageService=i,this.isDisposed=zo(this,!1),this.currentTextModel=_o(this,this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=Bn(this,r=>{var b;if(this.isDisposed.read(r))return;const o=this.currentTextModel.read(r);if(o!==this.model.targetTextModel.read(r))return;const a=this.model.ghostText.read(r);if(!a)return;let s=(b=this.model.range)==null?void 0:b.read(r);s&&s.startLineNumber===s.endLineNumber&&s.startColumn===s.endColumn&&(s=void 0);const l=(s?s.startLineNumber===s.endLineNumber:!0)&&a.parts.length===1&&a.parts[0].lines.length===1,u=a.parts.length===1&&a.parts[0].lines.every(C=>C.length===0),c=[],d=[];function f(C,O){if(d.length>0){const w=d[d.length-1];O&&w.decorations.push(new kb(w.content.length+1,w.content.length+1+C[0].length,O,0)),w.content+=C[0],C=C.slice(1)}for(const w of C)d.push({content:w,decorations:O?[new kb(1,w.length+1,O,0)]:[]})}const h=o.getLineContent(a.lineNumber);let v,g=0;if(!u&&(l||!s)){for(const C of a.parts){let O=C.lines;s&&!l&&(f(O,sP),O=[]),v===void 0?(c.push({column:C.column,text:O[0],preview:C.preview}),O=O.slice(1)):f([h.substring(g,C.column-1)],void 0),O.length>0&&(f(O,sP),v===void 0&&C.column<=h.length&&(v=C.column)),g=C.column-1}v!==void 0&&f([h.substring(g)],void 0)}const p=v!==void 0?new RY(v,h.length+1):void 0,m=l||!s?a.lineNumber:s.endLineNumber-1;return{inlineTexts:c,additionalLines:d,hiddenRange:p,lineNumber:m,additionalReservedLineCount:this.model.minReservedLineCount.read(r),targetTextModel:o,range:s,isSingleLine:l,isPureRemove:u}}),this.decorations=Bn(this,r=>{const o=this.uiState.read(r);if(!o)return[];const a=[];if(o.hiddenRange&&a.push({range:o.hiddenRange.toRange(o.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),o.range){const s=[];if(o.isSingleLine)s.push(o.range);else if(!o.isPureRemove){const l=o.range.endLineNumber-o.range.startLineNumber;for(let u=0;u<l;u++){const c=o.range.startLineNumber+u,d=o.targetTextModel.getLineFirstNonWhitespaceColumn(c),f=o.targetTextModel.getLineLastNonWhitespaceColumn(c),h=new be(c,d,c,f);s.push(h)}}for(const l of s)a.push({range:l,options:eL})}if(o.range&&!o.isSingleLine&&o.isPureRemove){const s=new be(o.range.startLineNumber,1,o.range.endLineNumber-1,1);a.push({range:s,options:tL})}for(const s of o.inlineTexts)a.push({range:be.fromPositions(new Ot(o.lineNumber,s.column)),options:{description:sP,after:{content:s.text,inlineClassName:s.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:Mv.Left},showIfCollapsed:!0}});return a}),this._register(bi(()=>{this.isDisposed.set(!0,void 0)})),this._register(NY(this.editor,this.decorations))}};$T=cHe([dHe(2,Ll)],$T);var kA=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ll=function(n,e){return function(t,i){e(t,i,n)}},PC;let VT=class extends dt{constructor(e,t,i){super(),this.editor=e,this.model=t,this.instantiationService=i,this.alwaysShowToolbar=_o(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=Bn(this,r=>{var l,u;const o=(l=this.model.read(r))==null?void 0:l.model.ghostText.read(r);if(!this.alwaysShowToolbar.read(r)||!o||o.parts.length===0)return this.sessionPosition=void 0,null;const a=o.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==o.lineNumber&&(this.sessionPosition=void 0);const s=new Ot(o.lineNumber,Math.min(a,((u=this.sessionPosition)==null?void 0:u.column)??Number.MAX_SAFE_INTEGER));return this.sessionPosition=s,s}),this._register(Ly((r,o)=>{if(!this.model.read(r)||!this.alwaysShowToolbar.read(r))return;const s=o.add(this.instantiationService.createInstance(WT,this.editor,!0,this.position));e.addContentWidget(s),o.add(bi(()=>e.removeContentWidget(s)))}))}};VT=kA([ll(2,ln)],VT);var Qc;let WT=(Qc=class extends dt{constructor(e,t,i,r,o,a){super(),this.editor=e,this.withBorder=t,this._position=i,this._contextKeyService=o,this._menuService=a,this.id=`InlineEditHintsContentWidget${PC.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=qa("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[qa("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(pt.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(r.createInstance(zT,this.nodes.toolBar,this.editor,pt.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:s=>s.startsWith("primary")},actionViewItemProvider:(s,l)=>{if(s instanceof Og)return r.createInstance(fHe,s,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(s=>{PC._dropDownVisible=s})),this._register(fi(s=>{this._position.read(s),this.editor.layoutContentWidget(this)})),this._register(fi(s=>{const l=[];for(const[u,c]of this.inlineCompletionsActionsMenus.getActions())for(const d of c)d instanceof Og&&l.push(d);l.length>0&&l.unshift(new Cb),this.toolBar.setAdditionalSecondaryActions(l)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}},PC=Qc,Qc._dropDownVisible=!1,Qc.id=0,Qc);WT=PC=kA([ll(3,ln),ll(4,Ln),ll(5,Eh)],WT);class fHe extends d2{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=qa("div.keybinding").root;this._register(new RI(t,NI,{disableTitle:!0,...f2})).set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let zT=class extends h2{constructor(e,t,i,r,o,a,s,l,u,c){super(e,{resetMenu:i,...r},o,a,s,l,u,c),this.editor=t,this.menuId=i,this.options2=r,this.menuService=o,this.contextKeyService=a,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var i,r,o,a,s,l,u;const e=[],t=[];$I(this.menu,(i=this.options2)==null?void 0:i.menuOptions,{primary:e,secondary:t},(o=(r=this.options2)==null?void 0:r.toolbarOptions)==null?void 0:o.primaryGroup,(s=(a=this.options2)==null?void 0:a.toolbarOptions)==null?void 0:s.shouldInlineSubmenu,(u=(l=this.options2)==null?void 0:l.toolbarOptions)==null?void 0:u.useSeparatorsInPrimaryActions),t.push(...this.additionalActions),e.unshift(...this.prependedPrimaryActions),this.setActions(e,t)}setAdditionalSecondaryActions(e){Sl(this.additionalActions,e,(t,i)=>t===i)||(this.additionalActions=e,this.updateToolbar())}};zT=kA([ll(4,Eh),ll(5,Ln),ll(6,sp),ll(7,rr),ll(8,yr),ll(9,Hu)],zT);var tZ=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kC=function(n,e){return function(t,i){e(t,i,n)}},Dm,UT;function*hHe(n,e,t=1){e===void 0&&([e,n]=[n,0]);for(let i=n;i<e;i+=t)yield i}function lP(n){var i;const e=((i=n[0].match(/^\s*/))==null?void 0:i[0])??"",t=e.length;return{text:n.map(r=>r.replace(new RegExp("^"+e),"")),shift:t}}var Wf;let KT=(Wf=class extends dt{static _createUniqueUri(){return Kn.from({scheme:"inline-edit-widget",path:new Date().toString()+String(Dm._modelId++)})}constructor(e,t,i,r,o){super(),this._editor=e,this._model=t,this._instantiationService=i,this._diffProviderFactoryService=r,this._modelService=o,this._position=Bn(this,a=>{const s=this._model.read(a);if(!s||s.text.length===0||s.range.startLineNumber===s.range.endLineNumber&&!(s.range.startColumn===s.range.endColumn&&s.range.startColumn===1))return null;const l=this._editor.getModel();if(!l)return null;const u=Array.from(hHe(s.range.startLineNumber,s.range.endLineNumber+1)),c=u.map(g=>l.getLineLastNonWhitespaceColumn(g)),d=Math.max(...c),f=u[c.indexOf(d)],h=new Ot(f,d);return{top:s.range.startLineNumber,left:h}}),this._text=Bn(this,a=>{const s=this._model.read(a);if(!s)return{text:"",shift:0};const l=lP(s.text.split(`
`));return{text:l.text.join(`
`),shift:l.shift}}),this._originalModel=rd(()=>this._modelService.createModel("",null,Dm._createUniqueUri())).keepObserved(this._store),this._modifiedModel=rd(()=>this._modelService.createModel("",null,Dm._createUniqueUri())).keepObserved(this._store),this._diff=Bn(this,a=>{var s,l;return(l=(s=this._diffPromise.read(a))==null?void 0:s.promiseResult.read(a))==null?void 0:l.data}),this._diffPromise=Bn(this,a=>{const s=this._model.read(a);if(!s)return;const l=this._editor.getModel();if(!l)return;const u=lP(l.getValueInRange(s.range).split(`
`)).text.join(`
`),c=lP(s.text.split(`
`)).text.join(`
`);this._originalModel.get().setValue(u),this._modifiedModel.get().setValue(c);const d=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:"advanced"});return l6.fromFn(async()=>{const f=await d.computeDiff(this._originalModel.get(),this._modifiedModel.get(),{computeMoves:!1,ignoreTrimWhitespace:!1,maxComputationTimeMs:1e3},an.None);if(!f.identical)return f.changes})}),this._register(Ly((a,s)=>{if(!this._model.read(a)||this._position.get()===null)return;const u=s.add(this._instantiationService.createInstance(qT,this._editor,this._position,this._text.map(c=>c.text),this._text.map(c=>c.shift),this._diff));e.addOverlayWidget(u),s.add(bi(()=>e.removeOverlayWidget(u)))}))}},Dm=Wf,Wf._modelId=0,Wf);KT=Dm=tZ([kC(2,ln),kC(3,nL),kC(4,Yr)],KT);var zf;let qT=(zf=class extends dt{constructor(e,t,i,r,o,a){var s;super(),this._editor=e,this._position=t,this._text=i,this._shift=r,this._diff=o,this._instantiationService=a,this.id=`InlineEditSideBySideContentWidget${UT.id++}`,this.allowEditorOverflow=!1,this._nodes=Ut("div.inlineEditSideBySide",void 0),this._scrollChanged=af("editor.onDidScrollChange",this._editor.onDidScrollChange),this._previewEditor=this._register(this._instantiationService.createInstance(ss,this._nodes,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0,scrollbar:{vertical:"hidden",horizontal:"hidden",alwaysConsumeMouseWheel:!1,handleMouseWheel:!1},readOnly:!0,wordWrap:"off",wordWrapOverride1:"off",wordWrapOverride2:"off",wrappingIndent:"none",wrappingStrategy:void 0},{contributions:[],isSimpleWidget:!0},this._editor)),this._previewEditorObs=cl(this._previewEditor),this._editorObs=cl(this._editor),this._previewTextModel=this._register(this._instantiationService.createInstance(Tc,"",((s=this._editor.getModel())==null?void 0:s.getLanguageId())??Eb,Tc.DEFAULT_CREATION_OPTIONS,null)),this._setText=Bn(l=>{const u=this._text.read(l);u&&this._previewTextModel.setValue(u)}).recomputeInitiallyAndOnChange(this._store),this._decorations=Bn(this,l=>{this._setText.read(l);const u=this._position.read(l);if(!u)return{org:[],mod:[]};const c=this._diff.read(l);if(!c)return{org:[],mod:[]};const d=[],f=[];if(c.length===1&&c[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange()))return{org:[],mod:[]};const h=this._shift.get(),v=g=>new be(g.startLineNumber+u.top-1,g.startColumn+h,g.endLineNumber+u.top-1,g.endColumn+h);for(const g of c)if(g.original.isEmpty||d.push({range:v(g.original.toInclusiveRange()),options:tL}),g.modified.isEmpty||f.push({range:g.modified.toInclusiveRange(),options:u6}),g.modified.isEmpty||g.original.isEmpty)g.original.isEmpty||d.push({range:v(g.original.toInclusiveRange()),options:c6}),g.modified.isEmpty||f.push({range:g.modified.toInclusiveRange(),options:d6});else for(const p of g.innerChanges||[])g.original.contains(p.originalRange.startLineNumber)&&d.push({range:v(p.originalRange),options:p.originalRange.isEmpty()?f6:eL}),g.modified.contains(p.modifiedRange.startLineNumber)&&f.push({range:p.modifiedRange,options:p.modifiedRange.isEmpty()?h6:v6});return{org:d,mod:f}}),this._originalDecorations=Bn(this,l=>this._decorations.read(l).org),this._modifiedDecorations=Bn(this,l=>this._decorations.read(l).mod),this._previewEditor.setModel(this._previewTextModel),this._register(this._editorObs.setDecorations(this._originalDecorations)),this._register(this._previewEditorObs.setDecorations(this._modifiedDecorations)),this._register(fi(l=>{const u=this._previewEditorObs.contentWidth.read(l),c=this._text.read(l).split(`
`).length-1,d=this._editor.getOption(67)*c;u<=0||this._previewEditor.layout({height:d,width:u})})),this._register(fi(l=>{this._position.read(l),this._editor.layoutOverlayWidget(this)})),this._register(fi(l=>{this._scrollChanged.read(l),this._position.read(l)&&this._editor.layoutOverlayWidget(this)}))}getId(){return this.id}getDomNode(){return this._nodes}getPosition(){const e=this._position.get();if(!e)return null;const t=this._editor.getLayoutInfo(),i=this._editor.getScrolledVisiblePosition(new Ot(e.top,1));if(!i)return null;const r=i.top-1,o=this._editor.getOffsetForColumn(e.left.lineNumber,e.left.column);return{preference:{left:t.contentLeft+o+10,top:r}}}},UT=zf,zf.id=0,zf);qT=UT=tZ([kC(5,ln)],qT);var vHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vd=function(n,e){return function(t,i){e(t,i,n)}},Tm,ga;let qr=(ga=class extends dt{static get(e){return e.getContribution(Tm.ID)}constructor(e,t,i,r,o,a,s,l){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.languageFeaturesService=r,this._commandService=o,this._configurationService=a,this._diffProviderFactoryService=s,this._modelService=l,this._isVisibleContext=Tm.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=Tm.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=zo(this,void 0),this._currentWidget=rd(this._currentEdit,v=>{const g=this._currentEdit.read(v);if(!g)return;const p=g.range.endLineNumber,m=g.range.endColumn,b=g.text.endsWith(`
`)&&!(g.range.startLineNumber===g.range.endLineNumber&&g.range.startColumn===g.range.endColumn)?g.text.slice(0,-1):g.text,C=new cy(p,[new nS(m,b,!1)]),O=g.range.startLineNumber===g.range.endLineNumber&&C.parts.length===1&&C.parts[0].lines.length===1,w=g.text==="";return!O&&!w?void 0:this.instantiationService.createInstance($T,this.editor,{ghostText:du(C),minReservedLineCount:du(0),targetTextModel:du(this.editor.getModel()??void 0),range:du(g.range)})}),this._isAccepting=zo(this,!1),this._enabled=_o(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=_o(this,this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily);const u=af("InlineEditController.modelContentChangedSignal",e.onDidChangeModelContent);this._register(fi(v=>{this._enabled.read(v)&&(u.read(v),!this._isAccepting.read(v)&&this.getInlineEdit(e,!0))}));const c=_o(this,e.onDidChangeCursorPosition,()=>e.getPosition());this._register(fi(v=>{if(!this._enabled.read(v))return;const g=c.read(v);g&&this.checkCursorPosition(g)})),this._register(fi(v=>{const g=this._currentEdit.read(v);if(this._isCursorAtInlineEditContext.set(!1),!g){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);const p=e.getPosition();p&&this.checkCursorPosition(p)}));const d=af("InlineEditController.editorBlurSignal",e.onDidBlurEditorWidget);this._register(fi(async v=>{var g;this._enabled.read(v)&&(d.read(v),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||e.getOption(63).keepOnBlur)&&((g=this._currentRequestCts)==null||g.dispose(!0),this._currentRequestCts=void 0,await this.clear(!1)))}));const f=af("InlineEditController.editorFocusSignal",e.onDidFocusEditorText);this._register(fi(v=>{this._enabled.read(v)&&(f.read(v),this.getInlineEdit(e,!0))}));const h=this._register(j2());this._register(fi(v=>{const g=this._fontFamily.read(v);h.setStyle(g===""||g==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${g};
}`)})),this._register(new VT(this.editor,this._currentWidget,this.instantiationService)),this._register(new KT(this.editor,this._currentEdit,this.instantiationService,this._diffProviderFactoryService,this._modelService))}checkCursorPosition(e){if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}const t=this._currentEdit.get();if(!t){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(be.containsPosition(t.range,e))}validateInlineEdit(e,t){var i;if(t.text.includes(`
`)&&t.range.startLineNumber!==t.range.endLineNumber&&t.range.startColumn!==t.range.endColumn){if(t.range.startColumn!==1)return!1;const o=t.range.endLineNumber,a=t.range.endColumn,s=((i=e.getModel())==null?void 0:i.getLineLength(o))??0;if(a!==s+1)return!1}return!0}async fetchInlineEdit(e,t){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const i=e.getModel();if(!i)return;const r=i.getVersionId(),o=this.languageFeaturesService.inlineEditProvider.all(i);if(o.length===0)return;const a=o[0];this._currentRequestCts=new Er;const s=this._currentRequestCts.token,l=t?TR.Automatic:TR.Invoke;if(t&&await gHe(50,s),s.isCancellationRequested||i.isDisposed()||i.getVersionId()!==r)return;const c=await a.provideInlineEdit(i,{triggerKind:l},s);if(c&&!(s.isCancellationRequested||i.isDisposed()||i.getVersionId()!==r)&&this.validateInlineEdit(e,c))return c}async getInlineEdit(e,t){this._isCursorAtInlineEditContext.set(!1),await this.clear();const i=await this.fetchInlineEdit(e,t);i&&this._currentEdit.set(i,void 0)}async trigger(){await this.getInlineEdit(this.editor,!1)}async jumpBack(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))}async accept(){this._isAccepting.set(!0,void 0);const e=this._currentEdit.get();if(!e)return;let t=e.text;e.text.startsWith(`
`)&&(t=e.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[Oi.replace(be.lift(e.range),t)]),e.accepted&&await this._commandService.executeCommand(e.accepted.id,...e.accepted.arguments||[]).then(void 0,Fi),this.freeEdit(e),Ph(i=>{this._currentEdit.set(void 0,i),this._isAccepting.set(!1,i)})}jumpToCurrent(){var i;this._jumpBackPosition=(i=this.editor.getSelection())==null?void 0:i.getStartPosition();const e=this._currentEdit.get();if(!e)return;const t=Ot.lift({lineNumber:e.range.startLineNumber,column:e.range.startColumn});this.editor.setPosition(t),this.editor.revealPositionInCenterIfOutsideViewport(t)}async clear(e=!0){const t=this._currentEdit.get();t&&(t!=null&&t.rejected)&&e&&await this._commandService.executeCommand(t.rejected.id,...t.rejected.arguments||[]).then(void 0,Fi),t&&this.freeEdit(t),this._currentEdit.set(void 0,void 0)}freeEdit(e){const t=this.editor.getModel();if(!t)return;const i=this.languageFeaturesService.inlineEditProvider.all(t);i.length!==0&&i[0].freeInlineEdit(e)}},Tm=ga,ga.ID="editor.contrib.inlineEditController",ga.inlineEditVisibleKey="inlineEditVisible",ga.inlineEditVisibleContext=new yn(ga.inlineEditVisibleKey,!1),ga.cursorAtInlineEditKey="cursorAtInlineEdit",ga.cursorAtInlineEditContext=new yn(ga.cursorAtInlineEditKey,!1),ga);qr=Tm=vHe([Vd(1,ln),Vd(2,Ln),Vd(3,xt),Vd(4,yr),Vd(5,vi),Vd(6,nL),Vd(7,Yr)],qr);function gHe(n,e){return new Promise(t=>{let i;const r=setTimeout(()=>{i&&i.dispose(),t()},n);e&&(i=e.onCancellationRequested(()=>{clearTimeout(r),i&&i.dispose(),t()}))})}let pHe=class extends Qe{constructor(){super({id:aHe,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:Ne.and(ve.writable,qr.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:Ne.and(ve.writable,qr.inlineEditVisibleContext,qr.cursorAtInlineEditContext)}],menuOpts:[{menuId:pt.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}async run(e,t){const i=qr.get(t);await(i==null?void 0:i.accept())}};class mHe extends Qe{constructor(){const e=Ne.and(ve.writable,Ne.not(qr.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:e,kbOpts:{weight:101,primary:2646,kbExpr:e}})}async run(e,t){const i=qr.get(t);i==null||i.trigger()}}class bHe extends Qe{constructor(){const e=Ne.and(ve.writable,qr.inlineEditVisibleContext,Ne.not(qr.cursorAtInlineEditKey));super({id:lHe,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:e,kbOpts:{weight:101,primary:2646,kbExpr:e},menuOpts:[{menuId:pt.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:e}]})}async run(e,t){const i=qr.get(t);i==null||i.jumpToCurrent()}}class yHe extends Qe{constructor(){const e=Ne.and(ve.writable,qr.cursorAtInlineEditContext);super({id:uHe,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:e,kbOpts:{weight:110,primary:2646,kbExpr:e},menuOpts:[{menuId:pt.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:e}]})}async run(e,t){const i=qr.get(t);i==null||i.jumpBack()}}class _He extends Qe{constructor(){const e=Ne.and(ve.writable,qr.inlineEditVisibleContext);super({id:sHe,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:e,kbOpts:{weight:100,primary:9,kbExpr:e},menuOpts:[{menuId:pt.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}async run(e,t){const i=qr.get(t);await(i==null?void 0:i.clear())}}Le(pHe);Le(_He);Le(bHe);Le(yHe);Le(mHe);gn(qr.ID,qr,3);const wHe="editor.action.inlineEdits.accept",CHe="editor.action.inlineEdits.showPrevious",SHe="editor.action.inlineEdits.showNext",rp=new yn("inlineEditsVisible",!1,G("inlineEditsVisible","Whether an inline edit is visible")),OHe=new yn("inlineEditsIsPinned",!1,G("isPinned","Whether an inline edit is visible")),WA=class WA extends dt{constructor(e){super(),this._editor=e,this._editorObs=cl(this._editor),this._placeholderText=this._editorObs.getOption(88),this._state=su({owner:this,equalsFn:g6},t=>{const i=this._placeholderText.read(t);if(i&&this._editorObs.valueIsEmpty.read(t))return{placeholder:i}}),this._shouldViewBeAlive=xHe(this,t=>{var i;return((i=this._state.read(t))==null?void 0:i.placeholder)!==void 0}),this._view=v2((t,i)=>{if(!this._shouldViewBeAlive.read(t))return;const r=qa("div.editorPlaceholder");i.add(fi(o=>{const a=this._state.read(o),s=(a==null?void 0:a.placeholder)!==void 0;r.root.style.display=s?"block":"none",r.root.innerText=(a==null?void 0:a.placeholder)??""})),i.add(fi(o=>{const a=this._editorObs.layoutInfo.read(o);r.root.style.left=`${a.contentLeft}px`,r.root.style.width=a.contentWidth-a.verticalScrollbarWidth+"px",r.root.style.top=`${this._editor.getTopForLineNumber(0)}px`})),i.add(fi(o=>{r.root.style.fontFamily=this._editorObs.getOption(49).read(o),r.root.style.fontSize=this._editorObs.getOption(52).read(o)+"px",r.root.style.lineHeight=this._editorObs.getOption(67).read(o)+"px"})),i.add(this._editorObs.createOverlayWidget({allowEditorOverflow:!1,minContentWidthInPx:du(0),position:du(null),domNode:r.root}))}),this._view.recomputeInitiallyAndOnChange(this._store)}};WA.ID="editor.contrib.placeholderText";let my=WA;function xHe(n,e){return _1(n,(t,i)=>i===!0?!0:e(t))}var EHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},PHe=function(n,e){return function(t,i){e(t,i,n)}};class kHe{constructor(e,t,i){this.range=e,this.newLines=t,this.changes=i}}let GT=class extends dt{constructor(e,t,i,r){super(),this._editor=e,this._edit=t,this._userPrompt=i,this._instantiationService=r,this._editorObs=cl(this._editor),this._elements=qa("div.inline-edits-widget",{style:{position:"absolute",overflow:"visible",top:"0px",left:"0px"}},[qa("div@editorContainer",{style:{position:"absolute",top:"0px",left:"0px",width:"500px",height:"500px"}},[qa("div.toolbar@toolbar",{style:{position:"absolute",top:"-25px",left:"0px"}}),qa("div.promptEditor@promptEditor",{style:{position:"absolute",top:"-25px",left:"80px",width:"300px",height:"22px"}}),qa("div.preview@editor",{style:{position:"absolute",top:"0px",left:"0px"}})]),Uh("svg",{style:{overflow:"visible",pointerEvents:"none"}},[Uh("defs",[Uh("linearGradient",{id:"Gradient2",x1:"0",y1:"0",x2:"1",y2:"0"},[Uh("stop",{offset:"0%",class:"gradient-stop"}),Uh("stop",{offset:"100%",class:"gradient-stop"})])]),Uh("path@path",{d:"",fill:"url(#Gradient2)"})])]),this._previewTextModel=this._register(this._instantiationService.createInstance(Tc,"",Eb,Tc.DEFAULT_CREATION_OPTIONS,null)),this._setText=Bn(a=>{const s=this._edit.read(a);s&&this._previewTextModel.setValue(s.newLines.join(`
`))}).recomputeInitiallyAndOnChange(this._store),this._promptTextModel=this._register(this._instantiationService.createInstance(Tc,"",Eb,Tc.DEFAULT_CREATION_OPTIONS,null)),this._promptEditor=this._register(this._instantiationService.createInstance(ss,this._elements.promptEditor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0,placeholder:"Describe the change you want...",fontFamily:Eee},{contributions:Pee.getSomeEditorContributions([Za.ID,my.ID,Zg.ID]),isSimpleWidget:!0},this._editor)),this._previewEditor=this._register(this._instantiationService.createInstance(ss,this._elements.editor,{glyphMargin:!1,lineNumbers:"off",minimap:{enabled:!1},guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveIndentation:!1},folding:!1,selectOnLineNumbers:!1,selectionHighlight:!1,columnSelection:!1,overviewRulerBorder:!1,overviewRulerLanes:0,lineDecorationsWidth:0,lineNumbersMinChars:0},{contributions:[]},this._editor)),this._previewEditorObs=cl(this._previewEditor),this._decorations=Bn(this,a=>{var c;this._setText.read(a);const s=(c=this._edit.read(a))==null?void 0:c.changes;if(!s)return[];const l=[],u=[];if(s.length===1&&s[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange()))return[];for(const d of s)if(d.original.isEmpty||l.push({range:d.original.toInclusiveRange(),options:tL}),d.modified.isEmpty||u.push({range:d.modified.toInclusiveRange(),options:u6}),d.modified.isEmpty||d.original.isEmpty)d.original.isEmpty||l.push({range:d.original.toInclusiveRange(),options:c6}),d.modified.isEmpty||u.push({range:d.modified.toInclusiveRange(),options:d6});else for(const f of d.innerChanges||[])d.original.contains(f.originalRange.startLineNumber)&&l.push({range:f.originalRange,options:f.originalRange.isEmpty()?f6:eL}),d.modified.contains(f.modifiedRange.startLineNumber)&&u.push({range:f.modifiedRange,options:f.modifiedRange.isEmpty()?h6:v6});return u}),this._layout1=Bn(this,a=>{const s=this._editor.getModel(),l=this._edit.read(a);if(!l)return null;const u=l.range;let c=0;for(let h=u.startLineNumber;h<u.endLineNumberExclusive;h++){const v=s.getLineMaxColumn(h),g=this._editor.getOffsetForColumn(h,v);c=Math.max(c,g)}return{left:this._editor.getLayoutInfo().contentLeft+c}}),this._layout=Bn(this,a=>{const s=this._edit.read(a);if(!s)return null;const l=s.range,u=this._editorObs.scrollLeft.read(a),c=this._layout1.read(a).left+20-u,d=this._editor.getTopForLineNumber(l.startLineNumber)-this._editorObs.scrollTop.read(a),f=this._editor.getTopForLineNumber(l.endLineNumberExclusive)-this._editorObs.scrollTop.read(a),h=new zv(c,d),v=new zv(c,f),g=f-d,p=50,m=this._editor.getOption(67)*s.newLines.length,b=g-m,C=new zv(c+p,d+b/2),O=new zv(c+p,f-b/2);return{topCode:h,bottomCode:v,codeHeight:g,topEdit:C,bottomEdit:O,editHeight:m}});const o=Bn(this,a=>this._edit.read(a)!==void 0||this._userPrompt.read(a)!==void 0);this._register(kee(this._elements.root,{display:Bn(this,a=>o.read(a)?"block":"none")})),this._register(Dee(this._editor.getDomNode(),this._elements.root)),this._register(cl(e).createOverlayWidget({domNode:this._elements.root,position:du(null),allowEditorOverflow:!1,minContentWidthInPx:Bn(a=>{var u;const s=(u=this._layout1.read(a))==null?void 0:u.left;if(s===void 0)return 0;const l=this._previewEditorObs.contentWidth.read(a);return s+l})})),this._previewEditor.setModel(this._previewTextModel),this._register(this._previewEditorObs.setDecorations(this._decorations)),this._register(fi(a=>{const s=this._layout.read(a);if(!s)return;const{topCode:l,bottomCode:u,topEdit:c,bottomEdit:d,editHeight:f}=s,h=10,v=0,g=40,p=new THe().moveTo(l).lineTo(l.deltaX(h)).curveTo(l.deltaX(h+g),c.deltaX(-40-v),c.deltaX(-0)).lineTo(c).lineTo(d).lineTo(d.deltaX(-0)).curveTo(d.deltaX(-40-v),u.deltaX(h+g),u.deltaX(h)).lineTo(u).build();this._elements.path.setAttribute("d",p),this._elements.editorContainer.style.top=`${c.y}px`,this._elements.editorContainer.style.left=`${c.x}px`,this._elements.editorContainer.style.height=`${f}px`;const m=this._previewEditorObs.contentWidth.read(a);this._previewEditor.layout({height:f,width:m})})),this._promptEditor.setModel(this._promptTextModel),this._promptEditor.layout(),this._register(IHe(DHe(this._userPrompt,a=>a??"",a=>a),cl(this._promptEditor).value)),this._register(fi(a=>{const s=cl(this._promptEditor).isFocused.read(a);this._elements.root.classList.toggle("focused",s)}))}};GT=EHe([PHe(3,ln)],GT);function DHe(n,e,t){return p6(void 0,i=>e(n.read(i)),(i,r)=>n.set(t(i),r))}class zv{constructor(e,t){this.x=e,this.y=t}deltaX(e){return new zv(this.x+e,this.y)}}class THe{constructor(){this._data=""}moveTo(e){return this._data+=`M ${e.x} ${e.y} `,this}lineTo(e){return this._data+=`L ${e.x} ${e.y} `,this}curveTo(e,t,i){return this._data+=`C ${e.x} ${e.y} ${t.x} ${t.y} ${i.x} ${i.y} `,this}build(){return this._data}}function IHe(n,e){const t=new st;return t.add(fi(i=>{const r=n.read(i);e.set(r,void 0)})),t.add(fi(i=>{const r=e.read(i);n.set(r,void 0)})),t}var LHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uP=function(n,e){return function(t,i){e(t,i,n)}},Im,Uf;let YT=(Uf=class extends dt{static _createUniqueUri(){return Kn.from({scheme:"inline-edits",path:new Date().toString()+String(Im._modelId++)})}constructor(e,t,i,r,o,a,s){super(),this.textModel=e,this._textModelVersionId=t,this._selection=i,this._debounceValue=r,this.languageFeaturesService=o,this._diffProviderFactoryService=a,this._modelService=s,this._forceUpdateExplicitlySignal=GI(this),this._selectedInlineCompletionId=zo(this,void 0),this._isActive=zo(this,!1),this._originalModel=rd(()=>this._modelService.createModel("",null,Im._createUniqueUri())).keepObserved(this._store),this._modifiedModel=rd(()=>this._modelService.createModel("",null,Im._createUniqueUri())).keepObserved(this._store),this._pinnedRange=new AHe(this.textModel,this._textModelVersionId),this.isPinned=this._pinnedRange.range.map(l=>!!l),this.userPrompt=zo(this,void 0),this.inlineEdit=Bn(this,l=>{var u,c;return(c=(u=this._inlineEdit.read(l))==null?void 0:u.promiseResult.read(l))==null?void 0:c.data}),this._inlineEdit=Bn(this,l=>{const u=this.selectedInlineEdit.read(l);if(!u)return;const c=u.inlineCompletion.range;if(u.inlineCompletion.insertText.trim()==="")return;let d=u.inlineCompletion.insertText.split(/\r\n|\r|\n/);function f(p){var b;const m=((b=p[0].match(/^\s*/))==null?void 0:b[0])??"";return p.map(C=>C.replace(new RegExp("^"+m),""))}d=f(d);let v=this.textModel.getValueInRange(c).split(/\r\n|\r|\n/);v=f(v),this._originalModel.get().setValue(v.join(`
`)),this._modifiedModel.get().setValue(d.join(`
`));const g=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:"advanced"});return l6.fromFn(async()=>{const p=await g.computeDiff(this._originalModel.get(),this._modifiedModel.get(),{computeMoves:!1,ignoreTrimWhitespace:!1,maxComputationTimeMs:1e3},an.None);if(!p.identical)return new kHe(Tee.fromRangeInclusive(c),f(d),p.changes)})}),this._fetchStore=this._register(new st),this._inlineEditsFetchResult=_P(this,void 0),this._inlineEdits=su({owner:this,equalsFn:g6},l=>{var u;return((u=this._inlineEditsFetchResult.read(l))==null?void 0:u.completions.map(c=>new MHe(c)))??[]}),this._fetchInlineEditsPromise=q2({owner:this,createEmptyChangeSummary:()=>({inlineCompletionTriggerKind:bu.Automatic}),handleChange:(l,u)=>(l.didChange(this._forceUpdateExplicitlySignal)&&(u.inlineCompletionTriggerKind=bu.Explicit),!0)},async(l,u)=>{this._fetchStore.clear(),this._forceUpdateExplicitlySignal.read(l),this._textModelVersionId.read(l);function c(g,p){return p(g)}const d=this._pinnedRange.range.read(l)??c(this._selection.read(l),g=>g.isEmpty()?void 0:g);if(!d){this._inlineEditsFetchResult.set(void 0,void 0),this.userPrompt.set(void 0,void 0);return}const f={triggerKind:u.inlineCompletionTriggerKind,selectedSuggestionInfo:void 0,userPrompt:this.userPrompt.read(l)},h=CP(this._fetchStore);await ZI(200,h);const v=await FY(this.languageFeaturesService.inlineCompletionsProvider,d,this.textModel,f,h);h.isCancellationRequested||this._inlineEditsFetchResult.set(v,void 0)}),this._filteredInlineEditItems=su({owner:this,equalsFn:wP()},l=>this._inlineEdits.read(l)),this.selectedInlineCompletionIndex=Bn(this,l=>{const u=this._selectedInlineCompletionId.read(l),c=this._filteredInlineEditItems.read(l),d=this._selectedInlineCompletionId===void 0?-1:c.findIndex(f=>f.semanticId===u);return d===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):d}),this.selectedInlineEdit=Bn(this,l=>{const u=this._filteredInlineEditItems.read(l),c=this.selectedInlineCompletionIndex.read(l);return u[c]}),this._register(G2(this._fetchInlineEditsPromise))}async triggerExplicitly(e){FC(e,t=>{this._isActive.set(!0,t),this._forceUpdateExplicitlySignal.trigger(t)}),await this._fetchInlineEditsPromise.get()}stop(e){FC(e,t=>{this.userPrompt.set(void 0,t),this._isActive.set(!1,t),this._inlineEditsFetchResult.set(void 0,t),this._pinnedRange.setRange(void 0,t)})}async _deltaSelectedInlineCompletionIndex(e){await this.triggerExplicitly();const t=this._filteredInlineEditItems.get()||[];if(t.length>0){const i=(this.selectedInlineCompletionIndex.get()+e+t.length)%t.length;this._selectedInlineCompletionId.set(t[i].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(e){if(e.getModel()!==this.textModel)throw new xg;const t=this.selectedInlineEdit.get();t&&(e.pushUndoStop(),e.executeEdits("inlineSuggestion.accept",[t.inlineCompletion.toSingleTextEdit().toSingleEditOperation()]),this.stop())}},Im=Uf,Uf._modelId=0,Uf);YT=Im=LHe([uP(4,xt),uP(5,nL),uP(6,Yr)],YT);class MHe{constructor(e){this.inlineCompletion=e,this.semanticId=this.inlineCompletion.hash()}}class AHe extends dt{constructor(e,t){super(),this._textModel=e,this._versionId=t,this._decorations=zo(this,[]),this.range=Bn(this,i=>{this._versionId.read(i);const r=this._decorations.read(i)[0];return r?this._textModel.getDecorationRange(r)??null:null}),this._register(bi(()=>{this._textModel.deltaDecorations(this._decorations.get(),[])}))}setRange(e,t){this._decorations.set(this._textModel.deltaDecorations(this._decorations.get(),e?[{range:e,options:{description:"trackedRange"}}]:[]),t)}}var RHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hm=function(n,e){return function(t,i){e(t,i,n)}},ZT,Kf;let Fu=(Kf=class extends dt{static get(e){return e.getContribution(ZT.ID)}constructor(e,t,i,r,o,a){super(),this.editor=e,this._instantiationService=t,this._contextKeyService=i,this._debounceService=r,this._languageFeaturesService=o,this._configurationService=a,this._enabled=Iee("editor.inlineEdits.enabled",!1,this._configurationService),this._editorObs=cl(this.editor),this._selection=Bn(this,s=>this._editorObs.cursorSelection.read(s)??new Nt(1,1,1,1)),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineEditsDebounce",{min:50,max:50}),this.model=rd(this,s=>{if(!this._enabled.read(s)||this._editorObs.isReadonly.read(s))return;const l=this._editorObs.model.read(s);return l?this._instantiationService.createInstance(SP(YT,s),l,this._editorObs.versionId,this._selection,this._debounceValue):void 0}),this._hadInlineEdit=_1(this,(s,l)=>{var u;return l||((u=this.model.read(s))==null?void 0:u.inlineEdit.read(s))!==void 0}),this._widget=rd(this,s=>{if(this._hadInlineEdit.read(s))return this._instantiationService.createInstance(SP(GT,s),this.editor,this.model.map((l,u)=>l==null?void 0:l.inlineEdit.read(u)),NHe(l=>{var u;return((u=this.model.read(l))==null?void 0:u.userPrompt)??zo("empty","")}))}),this._register(IR(rp,this._contextKeyService,s=>{var l;return!!((l=this.model.read(s))!=null&&l.inlineEdit.read(s))})),this._register(IR(OHe,this._contextKeyService,s=>{var l;return!!((l=this.model.read(s))!=null&&l.isPinned.read(s))})),this.model.recomputeInitiallyAndOnChange(this._store),this._widget.recomputeInitiallyAndOnChange(this._store)}},ZT=Kf,Kf.ID="editor.contrib.inlineEditsController",Kf);Fu=ZT=RHe([hm(1,ln),hm(2,Ln),hm(3,xa),hm(4,xt),hm(5,vi)],Fu);function NHe(n){return p6(void 0,e=>n(e).read(e),(e,t)=>{n(void 0).set(e,t)})}function m_(n){return{label:n.value,alias:n.original}}const r1=class r1 extends Qe{constructor(){super({id:r1.ID,...m_(St("action.inlineEdits.showNext","Show Next Inline Edit")),precondition:Ne.and(ve.writable,rp),kbOpts:{weight:100,primary:606}})}async run(e,t){var r;const i=Fu.get(t);(r=i==null?void 0:i.model.get())==null||r.next()}};r1.ID=SHe;let XT=r1;const o1=class o1 extends Qe{constructor(){super({id:o1.ID,...m_(St("action.inlineEdits.showPrevious","Show Previous Inline Edit")),precondition:Ne.and(ve.writable,rp),kbOpts:{weight:100,primary:604}})}async run(e,t){var r;const i=Fu.get(t);(r=i==null?void 0:i.model.get())==null||r.previous()}};o1.ID=CHe;let JT=o1;class FHe extends Qe{constructor(){super({id:"editor.action.inlineEdits.trigger",...m_(St("action.inlineEdits.trigger","Trigger Inline Edit")),precondition:ve.writable})}async run(e,t){const i=Fu.get(t);await i6(async r=>{var o;await((o=i==null?void 0:i.model.get())==null?void 0:o.triggerExplicitly(r))})}}class jHe extends Qe{constructor(){super({id:wHe,...m_(St("action.inlineEdits.accept","Accept Inline Edit")),precondition:rp,menuOpts:{menuId:pt.InlineEditsActions,title:G("inlineEditsActions","Accept Inline Edit"),group:"primary",order:1,icon:Kt.check},kbOpts:{primary:2058,weight:2e4,kbExpr:rp}})}async run(e,t){var r;t instanceof ss&&(t=t.getParentEditor());const i=Fu.get(t);i&&((r=i.model.get())==null||r.accept(i.editor),i.editor.focus())}}const a1=class a1 extends Qe{constructor(){super({id:a1.ID,...m_(St("action.inlineEdits.hide","Hide Inline Edit")),precondition:rp,kbOpts:{weight:100,primary:9}})}async run(e,t){const i=Fu.get(t);Ph(r=>{var o;(o=i==null?void 0:i.model.get())==null||o.stop(r)})}};a1.ID="editor.action.inlineEdits.hide";let QT=a1;gn(Fu.ID,Fu,3);Le(FHe);Le(XT);Le(JT);Le(jHe);Le(QT);const Sh={Visible:new yn("parameterHintsVisible",!1),MultipleSignatures:new yn("parameterHintsMultipleSignatures",!1)};async function nZ(n,e,t,i,r){const o=n.ordered(e);for(const a of o)try{const s=await a.provideSignatureHelp(e,t,r,i);if(s)return s}catch(s){Fi(s)}}ii.registerCommand("_executeSignatureHelpProvider",async(n,...e)=>{const[t,i,r]=e;In(Kn.isUri(t)),In(Ot.isIPosition(i)),In(typeof r=="string"||!r);const o=n.get(xt),a=await n.get(Rs).createModelReference(t);try{const s=await nZ(o.signatureHelpProvider,a.object.textEditorModel,Ot.lift(i),{triggerKind:Rc.Invoke,isRetrigger:!1,triggerCharacter:r},an.None);return s?(setTimeout(()=>s.dispose(),0),s.value):void 0}finally{a.dispose()}});var Oc;(function(n){n.Default={type:0};class e{constructor(r,o){this.request=r,this.previouslyActiveHints=o,this.type=2}}n.Pending=e;class t{constructor(r){this.hints=r,this.type=1}}n.Active=t})(Oc||(Oc={}));const s1=class s1 extends dt{constructor(e,t,i=s1.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new on),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Oc.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new ns),this.triggerChars=new RC,this.retriggerChars=new RC,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new id(i),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(r=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(r=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(r=>this.onCursorChange(r))),this._register(this.editor.onDidChangeModelContent(r=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(r=>this.onDidType(r))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Oc.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!this.providers.has(i))return;const r=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(r),t).catch(Jn)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,r=this.editor.getOption(86).cycle;if((e<2||i)&&!r){this.cancel();return}this.updateActiveSignature(i&&r?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t===0,r=this.editor.getOption(86).cycle;if((e<2||i)&&!r){this.cancel();return}this.updateActiveSignature(i&&r?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new Oc.Active({...this.state.hints,activeSignature:e}),this._onChangedHints.fire(this.state.hints))}async doTrigger(e){const t=this.state.type===1||this.state.type===2,i=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(HHe);this._pendingTriggers=[];const o={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const a=this.editor.getModel(),s=this.editor.getPosition();this.state=new Oc.Pending(cr(l=>nZ(this.providers,a,s,o,l)),i);try{const l=await this.state.request;return e!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new Oc.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return e===this.triggerId&&(this.state=Oc.Default),Jn(l),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const e=this.editor.getModel();if(e)for(const t of this.providers.ordered(e)){for(const i of t.signatureHelpTriggerCharacters||[])if(i.length){const r=i.charCodeAt(0);this.triggerChars.add(r),this.retriggerChars.add(r)}for(const i of t.signatureHelpRetriggerCharacters||[])i.length&&this.retriggerChars.add(i.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:Rc.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:Rc.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Rc.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}};s1.DEFAULT_DELAY=120;let eI=s1;function HHe(n,e){switch(e.triggerKind){case Rc.Invoke:return e;case Rc.ContentChange:return n;case Rc.TriggerCharacter:default:return e}}var BHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Bw=function(n,e){return function(t,i){e(t,i,n)}},tI;const Ro=Ut,$He=Ti("parameter-hints-next",Kt.chevronDown,G("parameterHintsNextIcon","Icon for show next parameter hint.")),VHe=Ti("parameter-hints-previous",Kt.chevronUp,G("parameterHintsPreviousIcon","Icon for show previous parameter hint."));var qf;let nI=(qf=class extends dt{constructor(e,t,i,r,o,a){super(),this.editor=e,this.model=t,this.telemetryService=a,this.renderDisposeables=this._register(new st),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new fp({editor:e},o,r)),this.keyVisible=Sh.Visible.bindTo(i),this.keyMultipleSignatures=Sh.MultipleSignatures.bindTo(i)}createParameterHintDOMNodes(){const e=Ro(".editor-widget.parameter-hints-widget"),t=yt(e,Ro(".phwrapper"));t.tabIndex=-1;const i=yt(t,Ro(".controls")),r=yt(i,Ro(".button"+Hn.asCSSSelector(VHe))),o=yt(i,Ro(".overloads")),a=yt(i,Ro(".button"+Hn.asCSSSelector($He)));this._register(Rn(r,"click",f=>{AC.stop(f),this.previous()})),this._register(Rn(a,"click",f=>{AC.stop(f),this.next()}));const s=Ro(".body"),l=new X2(s,{alwaysConsumeMouseWheel:!0});this._register(l),t.appendChild(l.getDomNode());const u=yt(s,Ro(".signature")),c=yt(s,Ro(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:u,overloads:o,docs:c,scrollbar:l},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(f=>{this.visible&&this.editor.layoutContentWidget(this)}));const d=()=>{if(!this.domNodes)return;const f=this.editor.getOption(50),h=this.domNodes.element;h.style.fontSize=`${f.fontSize}px`,h.style.lineHeight=`${f.lineHeight/f.fontSize}`,h.style.setProperty("--vscode-parameterHintsWidget-editorFontFamily",f.fontFamily),h.style.setProperty("--vscode-parameterHintsWidget-editorFontFamilyDefault",BI.fontFamily)};d(),this._register(lr.chain(this.editor.onDidChangeConfiguration.bind(this.editor),f=>f.filter(h=>h.hasChanged(50)))(d)),this._register(this.editor.onDidLayoutChange(f=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var e;(e=this.domNodes)==null||e.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(e=this.domNodes)==null||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){if(this.renderDisposeables.clear(),!this.domNodes)return;const t=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",t),this.keyMultipleSignatures.set(t),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const i=e.signatures[e.activeSignature];if(!i)return;const r=yt(this.domNodes.signature,Ro(".code")),o=i.parameters.length>0,a=i.activeParameter??e.activeParameter;if(o)this.renderParameters(r,i,a);else{const u=yt(r,Ro("span"));u.textContent=i.label}const s=i.parameters[a];if(s!=null&&s.documentation){const u=Ro("span.documentation");if(typeof s.documentation=="string")u.textContent=s.documentation;else{const c=this.renderMarkdownDocs(s.documentation);u.appendChild(c.element)}yt(this.domNodes.docs,Ro("p",{},u))}if(i.documentation!==void 0)if(typeof i.documentation=="string")yt(this.domNodes.docs,Ro("p",{},i.documentation));else{const u=this.renderMarkdownDocs(i.documentation);yt(this.domNodes.docs,u.element)}const l=this.hasDocs(i,s);if(this.domNodes.signature.classList.toggle("has-docs",l),this.domNodes.docs.classList.toggle("empty",!l),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,s){let u="";const c=i.parameters[a];Array.isArray(c.label)?u=i.label.substring(c.label[0],c.label[1]):u=c.label,c.documentation&&(u+=typeof c.documentation=="string"?`, ${c.documentation}`:`, ${c.documentation.value}`),i.documentation&&(u+=typeof i.documentation=="string"?`, ${i.documentation}`:`, ${i.documentation.value}`),this.announcedLabel!==u&&(ts(G("hint","{0}, hint",u)),this.announcedLabel=u)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=new ko,i=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var o;(o=this.domNodes)==null||o.scrollbar.scanDomNode()}}));i.element.classList.add("markdown-docs");const r=t.elapsed();return r>300&&this.telemetryService.publicLog2("parameterHints.parseMarkdown",{renderDuration:r}),i}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&Av(t.documentation).length>0||t&&typeof t.documentation=="object"&&Av(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&Av(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&Av(e.documentation.value).length>0)}renderParameters(e,t,i){const[r,o]=this.getParameterLabelOffsets(t,i),a=document.createElement("span");a.textContent=t.label.substring(0,r);const s=document.createElement("span");s.textContent=t.label.substring(r,o),s.className="parameter active";const l=document.createElement("span");l.textContent=t.label.substring(o),yt(e,a,s,l)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const r=new RegExp(`(\\W|^)${wb(i.label)}(?=\\W|$)`,"g");r.test(e.label);const o=r.lastIndex-i.label.length;return o>=0?[o,r.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return tI.ID}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}},tI=qf,qf.ID="editor.widget.parameterHintsWidget",qf);nI=tI=BHe([Bw(2,Ln),Bw(3,As),Bw(4,Ll),Bw(5,Hu)],nI);_t("editorHoverWidget.highlightForeground",t6,G("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var WHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},K3=function(n,e){return function(t,i){e(t,i,n)}},iI,Gf;let op=(Gf=class extends dt{static get(e){return e.getContribution(iI.ID)}constructor(e,t,i){super(),this.editor=e,this.model=this._register(new eI(e,i.signatureHelpProvider)),this._register(this.model.onChangedHints(r=>{var o;r?(this.widget.value.show(),this.widget.value.render(r)):(o=this.widget.rawValue)==null||o.hide()})),this.widget=new MI(()=>this._register(t.createInstance(nI,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var e;(e=this.widget.rawValue)==null||e.previous()}next(){var e;(e=this.widget.rawValue)==null||e.next()}trigger(e){this.model.trigger(e,0)}},iI=Gf,Gf.ID="editor.controller.parameterHints",Gf);op=iI=WHe([K3(1,ln),K3(2,xt)],op);class zHe extends Qe{constructor(){super({id:"editor.action.triggerParameterHints",label:G("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:ve.hasSignatureHelpProvider,kbOpts:{kbExpr:ve.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=op.get(t);i==null||i.trigger({triggerKind:Rc.Invoke})}}gn(op.ID,op,2);Le(zHe);const DA=175,TA=uo.bindToContribution(op.get);Et(new TA({id:"closeParameterHints",precondition:Sh.Visible,handler:n=>n.cancel(),kbOpts:{weight:DA,kbExpr:ve.focus,primary:9,secondary:[1033]}}));Et(new TA({id:"showPrevParameterHint",precondition:Ne.and(Sh.Visible,Sh.MultipleSignatures),handler:n=>n.previous(),kbOpts:{weight:DA,kbExpr:ve.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}}));Et(new TA({id:"showNextParameterHint",precondition:Ne.and(Sh.Visible,Sh.MultipleSignatures),handler:n=>n.next(),kbOpts:{weight:DA,kbExpr:ve.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var UHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},KHe=function(n,e){return function(t,i){e(t,i,n)}};class qHe{constructor(e){this.instantiationService=e}init(...e){}}function GHe(n,e){return class extends e{constructor(){super(...arguments),this._autorun=void 0}init(...i){this._autorun=Ly((r,o)=>{const a=SP(n(),r);o.add(this.instantiationService.createInstance(a,...i))})}dispose(){var i;(i=this._autorun)==null||i.dispose()}}}function YHe(n){return Lee()?GHe(n,rI):n()}let rI=class extends qHe{constructor(e,t){super(t),this.init(e)}};rI=UHe([KHe(1,ln)],rI);gn(my.ID,YHe(()=>my),0);_t("editor.placeholder.foreground",Mee,G("placeholderForeground","Foreground color of the placeholder text in the editor."));var ZHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$w=function(n,e){return function(t,i){e(t,i,n)}};const Hp=new yn("renameInputVisible",!1,G("renameInputVisible","Whether the rename input widget is visible"));new yn("renameInputFocused",!1,G("renameInputFocused","Whether the rename input widget is focused"));let oI=class{constructor(e,t,i,r,o,a){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=r,this._logService=a,this.allowEditorOverflow=!0,this._disposables=new st,this._visibleContextKey=Hp.bindTo(o),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new ko,this._inputWithButton=new XHe,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(50)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new IA(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:e=>{this._inputWithButton.input.value=e,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{var e,t,i;((e=this._renameCandidateListView)==null?void 0:e.focusedCandidate)!==void 0&&(this._isEditingRenameCandidate=!0),this._timeBeforeFirstInputFieldEdit??(this._timeBeforeFirstInputFieldEdit=this._beforeFirstInputFieldEditSW.elapsed()),((t=this._renameCandidateProvidersCts)==null?void 0:t.token.isCancellationRequested)===!1&&this._renameCandidateProvidersCts.cancel(),(i=this._renameCandidateListView)==null||i.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){if(!this._domNode)return;const t=e.getColor(Aee),i=e.getColor(Ree);this._domNode.style.backgroundColor=String(e.getColor(J2)??""),this._domNode.style.boxShadow=t?` 0 0 8px 2px ${t}`:"",this._domNode.style.border=i?`1px solid ${i}`:"",this._domNode.style.color=String(e.getColor(Nee)??"");const r=e.getColor(Fee);this._inputWithButton.domNode.style.backgroundColor=String(e.getColor(LR)??""),this._inputWithButton.input.style.backgroundColor=String(e.getColor(LR)??""),this._inputWithButton.domNode.style.borderWidth=r?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=r?"solid":"none",this._inputWithButton.domNode.style.borderColor=(r==null?void 0:r.toString())??"none"}_updateFont(){if(this._domNode===void 0)return;In(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);const e=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(e.fontSize)}px`}_computeLabelFontSize(e){return e*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const e=My(this.getDomNode().ownerDocument.body),t=oo(this._editor.getDomNode()),i=this._getTopForPosition();this._nPxAvailableAbove=i+t.top,this._nPxAvailableBelow=e.height-this._nPxAvailableAbove;const r=this._editor.getOption(67),{totalHeight:o}=by.getLayoutInfo({lineHeight:r}),a=this._nPxAvailableBelow>o*6?[2,1]:[1,2];return{position:this._position,preference:a}}beforeRender(){var i,r;const[e,t]=this._acceptKeybindings;return this._label.innerText=G({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(i=this._keybindingService.lookupKeybinding(e))==null?void 0:i.getLabel(),(r=this._keybindingService.lookupKeybinding(t))==null?void 0:r.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(e){if(e===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;In(this._renameCandidateListView),In(this._nPxAvailableAbove!==void 0),In(this._nPxAvailableBelow!==void 0);const t=Lv(this._inputWithButton.domNode),i=Lv(this._label);let r;e===2?r=this._nPxAvailableBelow:r=this._nPxAvailableAbove,this._renameCandidateListView.layout({height:r-i-t,width:Va(this._inputWithButton.domNode)})}acceptInput(e){var t;this._trace("invoking acceptInput"),(t=this._currentAcceptInput)==null||t.call(this,e)}cancelInput(e,t){var i;(i=this._currentCancelInput)==null||i.call(this,e)}focusNextRenameSuggestion(){var e;(e=this._renameCandidateListView)!=null&&e.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){var e;(e=this._renameCandidateListView)!=null&&e.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(e,t,i,r,o){const{start:a,end:s}=this._getSelection(e,t);this._renameCts=o;const l=new st;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,r===void 0?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=r,this._requestRenameCandidates(t,!1),l.add(Rn(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(t,!0))),l.add(Rn(this._inputWithButton.button,hi.KEY_DOWN,c=>{const d=new iL(c);(d.equals(3)||d.equals(10))&&(d.stopPropagation(),d.preventDefault(),this._requestRenameCandidates(t,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",i),this._position=new Ot(e.startLineNumber,e.startColumn),this._currentName=t,this._inputWithButton.input.value=t,this._inputWithButton.input.setAttribute("selectionStart",a.toString()),this._inputWithButton.input.setAttribute("selectionEnd",s.toString()),this._inputWithButton.input.size=Math.max((e.endColumn-e.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset(),l.add(bi(()=>{this._renameCts=void 0,o.dispose(!0)})),l.add(bi(()=>{this._renameCandidateProvidersCts!==void 0&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),l.add(bi(()=>this._candidates.clear()));const u=new II;return u.p.finally(()=>{l.dispose(),this._hide()}),this._currentCancelInput=c=>{var d;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,(d=this._renameCandidateListView)==null||d.clearCandidates(),u.complete(c),!0},this._currentAcceptInput=c=>{this._trace("invoking _currentAcceptInput"),In(this._renameCandidateListView!==void 0);const d=this._renameCandidateListView.nCandidates;let f,h;const v=this._renameCandidateListView.focusedCandidate;if(v!==void 0?(this._trace("using new name from renameSuggestion"),f=v,h={k:"renameSuggestion"}):(this._trace("using new name from inputField"),f=this._inputWithButton.input.value,h=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),f===t||f.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),u.complete({newName:f,wantsPreview:i&&c,stats:{source:h,nRenameSuggestions:d,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})},l.add(o.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),l.add(this._editor.onDidBlurEditorWidget(()=>{var c;return this.cancelInput(!((c=this._domNode)!=null&&c.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show(),u.p}_requestRenameCandidates(e,t){if(this._requestRenameCandidatesOnce!==void 0&&(this._renameCandidateProvidersCts!==void 0&&this._renameCandidateProvidersCts.dispose(!0),In(this._renameCts),this._inputWithButton.buttonState!=="stop")){this._renameCandidateProvidersCts=new Er;const i=t?OP.Invoke:OP.Automatic,r=this._requestRenameCandidatesOnce(i,this._renameCandidateProvidersCts.token);if(r.length===0){this._inputWithButton.setSparkleButton();return}t||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(r,e,this._renameCts.token)}}_getSelection(e,t){In(this._editor.hasModel());const i=this._editor.getSelection();let r=0,o=t.length;return!be.isEmpty(i)&&!be.spansMultipleLines(i)&&be.containsRange(e,i)&&(r=Math.max(0,i.startColumn-e.startColumn),o=Math.min(e.endColumn,i.endColumn)-e.startColumn),{start:r,end:o}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(e,t,i){const r=(...u)=>this._trace("_updateRenameCandidates",...u);r("start");const o=await Ey(Promise.allSettled(e),i);if(this._inputWithButton.setSparkleButton(),o===void 0){r("returning early - received updateRenameCandidates results - undefined");return}const a=o.flatMap(u=>u.status==="fulfilled"&&zw(u.value)?u.value:[]);r(`received updateRenameCandidates results - total (unfiltered) ${a.length} candidates.`);const s=i2(a,u=>u.newSymbolName);r(`distinct candidates - ${s.length} candidates.`);const l=s.filter(({newSymbolName:u})=>u.trim().length>0&&u!==this._inputWithButton.input.value&&u!==t&&!this._candidates.has(u));if(r(`valid distinct candidates - ${a.length} candidates.`),l.forEach(u=>this._candidates.add(u.newSymbolName)),l.length<1){r("returning early - no valid distinct candidates");return}r("setting candidates"),this._renameCandidateListView.setCandidates(l),r("asking editor to re-layout"),this._editor.layoutContentWidget(this)}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const e=this._editor.getVisibleRanges();let t;return e.length>0?t=e[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),t=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(t)}_trace(...e){this._logService.trace("RenameWidget",...e)}};oI=ZHe([$w(2,ls),$w(3,rr),$w(4,Ln),$w(5,hp)],oI);class IA{constructor(e,t){this._disposables=new st,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=t.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=t.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",e.appendChild(this._listContainer),this._listWidget=IA._createListWidget(this._listContainer,this._candidateViewHeight,t.fontInfo),this._listWidget.onDidChangeFocus(i=>{i.elements.length===1&&t.onFocusChange(i.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(i=>{i.elements.length===1&&t.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(i=>{this._listWidget.setFocus([])})),this._listWidget.style(n6({listInactiveFocusForeground:Q2,listInactiveFocusBackground:e6}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:e,width:t}){this._availableHeight=e,this._minimumWidth=t}setCandidates(e){this._listWidget.splice(0,0,e);const t=this._pickListHeight(this._listWidget.length),i=this._pickListWidth(e);this._listWidget.layout(t,i),this._listContainer.style.height=`${t}px`,this._listContainer.style.width=`${i}px`,_b(G("renameSuggestionsReceivedAria","Received {0} rename suggestions",e.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const e=this._listWidget.getSelectedElements()[0];if(e!==void 0)return e.newSymbolName;const t=this._listWidget.getFocusedElements()[0];if(t!==void 0)return t.newSymbolName}focusNext(){if(this._listWidget.length===0)return!1;const e=this._listWidget.getFocus();if(e.length===0)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(e[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();const t=this._listWidget.getFocus()[0];return this._listWidget.reveal(t),!0}}focusPrevious(){if(this._listWidget.length===0)return!1;const e=this._listWidget.getFocus();if(e.length===0){this._listWidget.focusLast();const t=this._listWidget.getFocus()[0];return this._listWidget.reveal(t),!0}else{if(e[0]===0)return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();const t=this._listWidget.getFocus()[0];return this._listWidget.reveal(t),!0}}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){const{totalHeight:e}=by.getLayoutInfo({lineHeight:this._lineHeight});return e}_pickListHeight(e){const t=this._candidateViewHeight*e;return Math.min(t,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(e){const t=Math.ceil(Math.max(...e.map(r=>r.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+t+10)}static _createListWidget(e,t,i){const r=new class{getTemplateId(a){return"candidate"}getHeight(a){return t}},o=new class{constructor(){this.templateId="candidate"}renderTemplate(a){return new by(a,i)}renderElement(a,s,l){l.populate(a)}disposeTemplate(a){a.dispose()}};return new FI("NewSymbolNameCandidates",e,r,[o],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class XHe{constructor(){this._onDidInputChange=new on,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new st}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",G("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=G("generateRenameSuggestionsButton","Generate new name suggestions"),this._buttonCancelHoverText=G("cancelRenameSuggestionsButton","Cancel"),this._buttonHover=jee().setupManagedHover(S1("element"),this._buttonNode,this._buttonGenHoverText),this._disposables.add(this._buttonHover),this._domNode.appendChild(this._buttonNode),this._disposables.add(Rn(this.input,hi.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add(Rn(this.input,hi.KEY_DOWN,e=>{const t=new iL(e);(t.keyCode===15||t.keyCode===17)&&this._onDidInputChange.fire()})),this._disposables.add(Rn(this.input,hi.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add(Rn(this.input,hi.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add(Rn(this.input,hi.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return In(this._inputNode),this._inputNode}get button(){return In(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){var e;this._buttonState="sparkle",this._sparkleIcon??(this._sparkleIcon=xP(Kt.sparkle)),gl(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),(e=this._buttonHover)==null||e.update(this._buttonGenHoverText),this.input.focus()}setStopButton(){var e;this._buttonState="stop",this._stopIcon??(this._stopIcon=xP(Kt.primitiveSquare)),gl(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),(e=this._buttonHover)==null||e.update(this._buttonCancelHoverText),this.input.focus()}dispose(){this._disposables.dispose()}}const mb=class mb{constructor(e,t){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${t.lineHeight}px`,this._domNode.style.padding=`${mb._PADDING}px`;const i=document.createElement("div");i.style.display="flex",i.style.alignItems="center",i.style.width=i.style.height=`${t.lineHeight*.8}px`,this._domNode.appendChild(i),this._icon=xP(Kt.sparkle),this._icon.style.display="none",i.appendChild(this._icon),this._label=document.createElement("div"),U2(this._label,t),this._domNode.appendChild(this._label),e.appendChild(this._domNode)}populate(e){this._updateIcon(e),this._updateLabel(e)}_updateIcon(e){var i;const t=!!((i=e.tags)!=null&&i.includes(Hee.AIGenerated));this._icon.style.display=t?"inherit":"none"}_updateLabel(e){this._label.innerText=e.newSymbolName}static getLayoutInfo({lineHeight:e}){return{totalHeight:e+mb._PADDING*2}}dispose(){}};mb._PADDING=2;let by=mb;var JHe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hc=function(n,e){return function(t,i){e(t,i,n)}},aI;class LA{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(e){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const r=this._providers[this._providerRenameIdx];if(!r.resolveRenameLocation)break;const o=await r.resolveRenameLocation(this.model,this.position,e);if(o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}this._providerRenameIdx=0;const i=this.model.getWordAtPosition(this.position);return i?{range:new be(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:be.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}}async provideRenameEdits(e,t){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}async _provideRenameEdits(e,t,i,r){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join(`
`)};const a=await o.provideRenameEdits(this.model,this.position,e,r);if(a){if(a.rejectReason)return this._provideRenameEdits(e,t+1,i.concat(a.rejectReason),r)}else return this._provideRenameEdits(e,t+1,i.concat(G("no result","No result.")),r);return a}}async function QHe(n,e,t,i){const r=new LA(e,t,n),o=await r.resolveRenameLocation(an.None);return o!=null&&o.rejectReason?{edits:[],rejectReason:o.rejectReason}:r.provideRenameEdits(i,an.None)}var Yf;let hd=(Yf=class{static get(e){return e.getContribution(aI.ID)}constructor(e,t,i,r,o,a,s,l,u){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=r,this._progressService=o,this._logService=a,this._configService=s,this._languageFeaturesService=l,this._telemetryService=u,this._disposableStore=new st,this._cts=new Er,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(oI,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var v,g;const e=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new Er,!this.editor.hasModel()){e("editor has no model");return}const t=this.editor.getPosition(),i=new LA(this.editor.getModel(),t,this._languageFeaturesService.renameProvider);if(!i.hasProvider()){e("skeleton has no provider");return}const r=new yg(this.editor,5,void 0,this._cts.token);let o;try{e("resolving rename location");const p=i.resolveRenameLocation(r.token);this._progressService.showWhile(p,250),o=await p,e("resolved rename location")}catch(p){p instanceof g1?e("resolve rename location cancelled",JSON.stringify(p,null,"	")):(e("resolve rename location failed",p instanceof Error?p:JSON.stringify(p,null,"	")),(typeof p=="string"||Vw(p))&&((v=xo.get(this.editor))==null||v.showMessage(p||G("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),t)));return}finally{r.dispose()}if(!o){e("returning early - no loc");return}if(o.rejectReason){e(`returning early - rejected with reason: ${o.rejectReason}`,o.rejectReason),(g=xo.get(this.editor))==null||g.showMessage(o.rejectReason,t);return}if(r.token.isCancellationRequested){e("returning early - cts1 cancelled");return}const a=new yg(this.editor,5,o.range,this._cts.token),s=this.editor.getModel(),l=this._languageFeaturesService.newSymbolNamesProvider.all(s),u=await Promise.all(l.map(async p=>[p,await p.supportsAutomaticNewSymbolNamesTriggerKind??!1])),c=(p,m)=>{let b=u.slice();return p===OP.Automatic&&(b=b.filter(([C,O])=>O)),b.map(([C])=>C.provideNewSymbolNames(s,o.range,p,m))};e("creating rename input field and awaiting its result");const d=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),f=await this._renameWidget.getInput(o.range,o.text,d,l.length>0?c:void 0,a);if(e("received response from rename input field"),l.length>0&&this._reportTelemetry(l.length,s.getLanguageId(),f),typeof f=="boolean"){e(`returning early - rename input field response - ${f}`),f&&this.editor.focus(),a.dispose();return}this.editor.focus(),e("requesting rename edits");const h=Ey(i.provideRenameEdits(f.newName,a.token),a.token).then(async p=>{if(!p){e("returning early - no rename edits result");return}if(!this.editor.hasModel()){e("returning early - no model after rename edits are provided");return}if(p.rejectReason){e(`returning early - rejected with reason: ${p.rejectReason}`),this._notificationService.info(p.rejectReason);return}this.editor.setSelection(be.fromPositions(this.editor.getSelection().getPosition())),e("applying edits"),this._bulkEditService.apply(p,{editor:this.editor,showPreview:f.wantsPreview,label:G("label","Renaming '{0}' to '{1}'",o==null?void 0:o.text,f.newName),code:"undoredo.rename",quotableLabel:G("quotableLabel","Renaming {0} to {1}",o==null?void 0:o.text,f.newName),respectAutoSaveConfig:!0}).then(m=>{e("edits applied"),m.ariaSummary&&ts(G("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,f.newName,m.ariaSummary))}).catch(m=>{e(`error when applying edits ${JSON.stringify(m,null,"	")}`),this._notificationService.error(G("rename.failedApply","Rename failed to apply edits")),this._logService.error(m)})},p=>{e("error when providing rename edits",JSON.stringify(p,null,"	")),this._notificationService.error(G("rename.failed","Rename failed to compute edits")),this._logService.error(p)}).finally(()=>{a.dispose()});return e("returning rename operation"),this._progressService.showWhile(h,250),h}acceptRenameInput(e){this._renameWidget.acceptInput(e)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(e,t,i){const r=typeof i=="boolean"?{kind:"cancelled",languageId:t,nRenameSuggestionProviders:e}:{kind:"accepted",languageId:t,nRenameSuggestionProviders:e,source:i.stats.source.k,nRenameSuggestions:i.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:i.stats.timeBeforeFirstInputFieldEdit,wantsPreview:i.wantsPreview,nRenameSuggestionsInvocations:i.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:i.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",r)}},aI=Yf,Yf.ID="editor.contrib.renameController",Yf);hd=aI=JHe([hc(1,ln),hc(2,co),hc(3,v1),hc(4,Dy),hc(5,hp),hc(6,Bee),hc(7,xt),hc(8,Hu)],hd);class eBe extends Qe{constructor(){super({id:"editor.action.rename",label:G("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Ne.and(ve.writable,ve.hasRenameProvider),kbOpts:{kbExpr:ve.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(ir),[r,o]=Array.isArray(t)&&t||[void 0,void 0];return Kn.isUri(r)&&Ot.isIPosition(o)?i.openCodeEditor({resource:r},i.getActiveCodeEditor()).then(a=>{a&&(a.setPosition(o),a.invokeWithinContext(s=>(this.reportTelemetry(s,a),this.run(s,a))))},Jn):super.runCommand(e,t)}run(e,t){const i=e.get(hp),r=hd.get(t);return r?(i.trace("[RenameAction] got controller, running..."),r.run()):(i.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}gn(hd.ID,hd,4);Le(eBe);const MA=uo.bindToContribution(hd.get);Et(new MA({id:"acceptRenameInput",precondition:Hp,handler:n=>n.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:Ne.and(ve.focus,Ne.not("isComposing")),primary:3}}));Et(new MA({id:"acceptRenameInputWithPreview",precondition:Ne.and(Hp,Ne.has("config.editor.rename.enablePreview")),handler:n=>n.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:Ne.and(ve.focus,Ne.not("isComposing")),primary:2051}}));Et(new MA({id:"cancelRenameInput",precondition:Hp,handler:n=>n.cancelRenameInput(),kbOpts:{weight:199,kbExpr:ve.focus,primary:9,secondary:[1033]}}));Vn(class extends lo{constructor(){super({id:"focusNextRenameSuggestion",title:{...St("focusNextRenameSuggestion","Focus Next Rename Suggestion")},precondition:Hp,keybinding:[{primary:18,weight:199}]})}run(e){const t=e.get(ir).getFocusedCodeEditor();if(!t)return;const i=hd.get(t);i&&i.focusNextRenameSuggestion()}});Vn(class extends lo{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...St("focusPreviousRenameSuggestion","Focus Previous Rename Suggestion")},precondition:Hp,keybinding:[{primary:16,weight:199}]})}run(e){const t=e.get(ir).getFocusedCodeEditor();if(!t)return;const i=hd.get(t);i&&i.focusPreviousRenameSuggestion()}});fo("_executeDocumentRenameProvider",function(n,e,t,...i){const[r]=i;In(typeof r=="string");const{renameProvider:o}=n.get(xt);return QHe(o,e,t,r)});fo("_executePrepareRename",async function(n,e,t){const{renameProvider:i}=n.get(xt),o=await new LA(e,t,i).resolveRenameLocation(an.None);if(o!=null&&o.rejectReason)throw new Error(o.rejectReason);return o});ap.as(Ty.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:G("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var tBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},q3=function(n,e){return function(t,i){e(t,i,n)}},vg;let OS=(vg=class extends dt{constructor(e,t,i){super(),this.editor=e,this.languageConfigurationService=t,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(e.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(e.onDidChangeModel(r=>{this.currentOccurrences={},this.options=this.createOptions(e.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(e.onDidChangeModelLanguage(r=>{this.currentOccurrences={},this.options=this.createOptions(e.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(t.onDidChange(r=>{var a;const o=(a=this.editor.getModel())==null?void 0:a.getLanguageId();o&&r.affects(o)&&(this.currentOccurrences={},this.options=this.createOptions(e.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(e.onDidChangeConfiguration(r=>{this.options&&!r.hasChanged(73)||(this.options=this.createOptions(e.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(r=>{this.computeSectionHeaders.schedule()})),this._register(e.onDidChangeModelTokens(r=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new Xi(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(e){if(!e||!this.editor.hasModel())return;const t=this.editor.getModel().getLanguageId();if(!t)return;const i=this.languageConfigurationService.getLanguageConfiguration(t).comments,r=this.languageConfigurationService.getLanguageConfiguration(t).foldingRules;if(!(!i&&!(r!=null&&r.markers)))return{foldingRules:r,findMarkSectionHeaders:e.showMarkSectionHeaders,findRegionSectionHeaders:e.showRegionSectionHeaders}}findSectionHeaders(){var i,r;if(!this.editor.hasModel()||!((i=this.options)!=null&&i.findMarkSectionHeaders)&&!((r=this.options)!=null&&r.findRegionSectionHeaders))return;const e=this.editor.getModel();if(e.isDisposed()||e.isTooLargeForSyncing())return;const t=e.getVersionId();this.editorWorkerService.findSectionHeaders(e.uri,this.options).then(o=>{e.isDisposed()||e.getVersionId()!==t||this.updateDecorations(o)})}updateDecorations(e){const t=this.editor.getModel();t&&(e=e.filter(o=>{if(!o.shouldBeInComments)return!0;const a=t.validateRange(o.range),s=t.tokenization.getLineTokens(a.startLineNumber),l=s.findTokenIndexAtOffset(a.startColumn-1),u=s.getStandardTokenType(l);return s.getLanguageId(l)===t.getLanguageId()&&u===1}));const i=Object.values(this.currentOccurrences).map(o=>o.decorationId),r=e.map(o=>nBe(o));this.editor.changeDecorations(o=>{const a=o.deltaDecorations(i,r);this.currentOccurrences={};for(let s=0,l=a.length;s<l;s++){const u={sectionHeader:e[s],decorationId:a[s]};this.currentOccurrences[u.decorationId]=u}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}},vg.ID="editor.sectionHeaderDetector",vg);OS=tBe([q3(1,or),q3(2,Vu)],OS);function nBe(n){return{range:n.range,options:mn.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:n.hasSeparatorLine?2:1,sectionHeaderText:n.text}})}}gn(OS.ID,OS,1);function iBe(n){for(let e=0,t=n.length;e<t;e+=4){const i=n[e+0],r=n[e+1],o=n[e+2],a=n[e+3];n[e+0]=a,n[e+1]=o,n[e+2]=r,n[e+3]=i}}function rBe(n){const e=new Uint8Array(n.buffer,n.byteOffset,n.length*4);return $ee()||iBe(e),Vee.wrap(e)}function iZ(n){const e=new Uint32Array(oBe(n));let t=0;if(e[t++]=n.id,n.type==="full")e[t++]=1,e[t++]=n.data.length,e.set(n.data,t),t+=n.data.length;else{e[t++]=2,e[t++]=n.deltas.length;for(const i of n.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return rBe(e)}function oBe(n){let e=0;if(e+=2,n.type==="full")e+=1+n.data.length;else{e+=1,e+=3*n.deltas.length;for(const t of n.deltas)t.data&&(e+=t.data.length)}return e}function rx(n){return n&&!!n.data}function rZ(n){return n&&Array.isArray(n.edits)}class aBe{constructor(e,t,i){this.provider=e,this.tokens=t,this.error=i}}function oZ(n,e){return n.has(e)}function sBe(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:[]}async function aZ(n,e,t,i,r){const o=sBe(n,e),a=await Promise.all(o.map(async s=>{let l,u=null;try{l=await s.provideDocumentSemanticTokens(e,s===t?i:null,r)}catch(c){u=c,l=null}return(!l||!rx(l)&&!rZ(l))&&(l=null),new aBe(s,l,u)}));for(const s of a){if(s.error)throw s.error;if(s.tokens)return s}return a.length>0?a[0]:null}function lBe(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:null}class uBe{constructor(e,t){this.provider=e,this.tokens=t}}function cBe(n,e){return n.has(e)}function sZ(n,e){const t=n.orderedGroups(e);return t.length>0?t[0]:[]}async function AA(n,e,t,i){const r=sZ(n,e),o=await Promise.all(r.map(async a=>{let s;try{s=await a.provideDocumentRangeSemanticTokens(e,t,i)}catch(l){Fi(l),s=null}return(!s||!rx(s))&&(s=null),new uBe(a,s)}));for(const a of o)if(a.tokens)return a;return o.length>0?o[0]:null}ii.registerCommand("_provideDocumentSemanticTokensLegend",async(n,...e)=>{const[t]=e;In(t instanceof Kn);const i=n.get(Yr).getModel(t);if(!i)return;const{documentSemanticTokensProvider:r}=n.get(xt),o=lBe(r,i);return o?o[0].getLegend():n.get(yr).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)});ii.registerCommand("_provideDocumentSemanticTokens",async(n,...e)=>{const[t]=e;In(t instanceof Kn);const i=n.get(Yr).getModel(t);if(!i)return;const{documentSemanticTokensProvider:r}=n.get(xt);if(!oZ(r,i))return n.get(yr).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());const o=await aZ(r,i,null,null,an.None);if(!o)return;const{provider:a,tokens:s}=o;if(!s||!rx(s))return;const l=iZ({id:0,type:"full",data:s.data});return s.resultId&&a.releaseDocumentSemanticTokens(s.resultId),l});ii.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(n,...e)=>{const[t,i]=e;In(t instanceof Kn);const r=n.get(Yr).getModel(t);if(!r)return;const{documentRangeSemanticTokensProvider:o}=n.get(xt),a=sZ(o,r);if(a.length===0)return;if(a.length===1)return a[0].getLegend();if(!i||!be.isIRange(i))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),a[0].getLegend();const s=await AA(o,r,be.lift(i),an.None);if(s)return s.provider.getLegend()});ii.registerCommand("_provideDocumentRangeSemanticTokens",async(n,...e)=>{const[t,i]=e;In(t instanceof Kn),In(be.isIRange(i));const r=n.get(Yr).getModel(t);if(!r)return;const{documentRangeSemanticTokensProvider:o}=n.get(xt),a=await AA(o,r,be.lift(i),an.None);if(!(!a||!a.tokens))return iZ({id:0,type:"full",data:a.tokens.data})});const RA="editor.semanticHighlighting";function DC(n,e,t){var r;const i=(r=t.getValue(RA,{overrideIdentifier:n.getLanguageId(),resource:n.uri}))==null?void 0:r.enabled;return typeof i=="boolean"?i:e.getColorTheme().semanticHighlighting}var lZ=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ul=function(n,e){return function(t,i){e(t,i,n)}},pc;let sI=class extends dt{constructor(e,t,i,r,o,a){super(),this._watchers=Object.create(null);const s=c=>{this._watchers[c.uri.toString()]=new lI(c,e,i,o,a)},l=(c,d)=>{d.dispose(),delete this._watchers[c.uri.toString()]},u=()=>{for(const c of t.getModels()){const d=this._watchers[c.uri.toString()];DC(c,i,r)?d||s(c):d&&l(c,d)}};t.getModels().forEach(c=>{DC(c,i,r)&&s(c)}),this._register(t.onModelAdded(c=>{DC(c,i,r)&&s(c)})),this._register(t.onModelRemoved(c=>{const d=this._watchers[c.uri.toString()];d&&l(c,d)})),this._register(r.onDidChangeConfiguration(c=>{c.affectsConfiguration(RA)&&u()})),this._register(i.onDidColorThemeChange(u))}dispose(){for(const e of Object.values(this._watchers))e.dispose();super.dispose()}};sI=lZ([ul(0,rL),ul(1,Yr),ul(2,ls),ul(3,vi),ul(4,xa),ul(5,xt)],sI);var ed;let lI=(ed=class extends dt{constructor(e,t,i,r,o){super(),this._semanticTokensStylingService=t,this._isDisposed=!1,this._model=e,this._provider=o.documentSemanticTokensProvider,this._debounceInformation=r.for(this._provider,"DocumentSemanticTokens",{min:pc.REQUEST_MIN_DELAY,max:pc.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new Xi(()=>this._fetchDocumentSemanticTokensNow(),pc.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const a=()=>{zr(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const s of this._provider.all(e))typeof s.onDidChange=="function"&&this._documentProvidersChangeListeners.push(s.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};a(),this._register(this._provider.onDidChange(()=>{a(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(i.onDidColorThemeChange(s=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),zr(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!oZ(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const e=new Er,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,i=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,r=aZ(this._provider,this._model,t,i,e.token);this._currentDocumentRequestCancellationTokenSource=e,this._providersChangedDuringRequest=!1;const o=[],a=this._model.onDidChangeContent(l=>{o.push(l)}),s=new ko(!1);r.then(l=>{if(this._debounceInformation.update(this._model,s.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),!l)this._setDocumentSemanticTokens(null,null,null,o);else{const{provider:u,tokens:c}=l,d=this._semanticTokensStylingService.getStyling(u);this._setDocumentSemanticTokens(u,c||null,d,o)}},l=>{l&&(xh(l)||typeof l.message=="string"&&l.message.indexOf("busy")!==-1)||Jn(l),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),(o.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(e,t,i,r,o){o=Math.min(o,i.length-r,e.length-t);for(let a=0;a<o;a++)i[r+a]=e[t+a]}_setDocumentSemanticTokens(e,t,i,r){const o=this._currentDocumentResponse,a=()=>{(r.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.tokenization.setSemanticTokens(null,!1);return}if(!t){this._model.tokenization.setSemanticTokens(null,!0),a();return}if(rZ(t)){if(!o){this._model.tokenization.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:o.data};else{let s=0;for(const f of t.edits)s+=(f.data?f.data.length:0)-f.deleteCount;const l=o.data,u=new Uint32Array(l.length+s);let c=l.length,d=u.length;for(let f=t.edits.length-1;f>=0;f--){const h=t.edits[f];if(h.start>l.length){i.warnInvalidEditStart(o.resultId,t.resultId,f,h.start,l.length),this._model.tokenization.setSemanticTokens(null,!0);return}const v=c-(h.start+h.deleteCount);v>0&&(pc._copy(l,c-v,u,d-v,v),d-=v),h.data&&(pc._copy(h.data,0,u,d-h.data.length,h.data.length),d-=h.data.length),c=h.start}c>0&&pc._copy(l,0,u,0,c),t={resultId:t.resultId,data:u}}}if(rx(t)){this._currentDocumentResponse=new dBe(e,t.resultId,t.data);const s=m6(t,i,this._model.getLanguageId());if(r.length>0)for(const l of r)for(const u of s)for(const c of l.changes)u.applyEdit(c.range,c.text);this._model.tokenization.setSemanticTokens(s,!0)}else this._model.tokenization.setSemanticTokens(null,!0);a()}},pc=ed,ed.REQUEST_MIN_DELAY=300,ed.REQUEST_MAX_DELAY=2e3,ed);lI=pc=lZ([ul(1,rL),ul(2,ls),ul(3,xa),ul(4,xt)],lI);class dBe{constructor(e,t,i){this.provider=e,this.resultId=t,this.data=i}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}dp(sI);var fBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vm=function(n,e){return function(t,i){e(t,i,n)}},gg;let xS=(gg=class extends dt{constructor(e,t,i,r,o,a){super(),this._semanticTokensStylingService=t,this._themeService=i,this._configurationService=r,this._editor=e,this._provider=a.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new Xi(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const s=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{s()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),s()})),this._register(this._editor.onDidChangeModelContent(l=>{this._cancelAll(),s()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),s()})),this._register(this._configurationService.onDidChangeConfiguration(l=>{l.affectsConfiguration(RA)&&(this._cancelAll(),s())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),s()})),s()}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!DC(e,this._themeService,this._configurationService)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}if(!cBe(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(i=>this._requestRange(e,i)))}_requestRange(e,t){const i=e.getVersionId(),r=cr(a=>Promise.resolve(AA(this._provider,e,t,a))),o=new ko(!1);return r.then(a=>{if(this._debounceInformation.update(e,o.elapsed()),!a||!a.tokens||e.isDisposed()||e.getVersionId()!==i)return;const{provider:s,tokens:l}=a,u=this._semanticTokensStylingService.getStyling(s);e.tokenization.setPartialSemanticTokens(t,m6(l,u,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(r),()=>this._removeOutstandingRequest(r)),r}},gg.ID="editor.contrib.viewportSemanticTokens",gg);xS=fBe([vm(1,rL),vm(2,ls),vm(3,vi),vm(4,xa),vm(5,xt)],xS);gn(xS.ID,xS,1);class hBe{constructor(e=!0){this.selectSubwords=e}provideSelectionRanges(e,t){const i=[];for(const r of t){const o=[];i.push(o),this.selectSubwords&&this._addInWordRanges(o,e,r),this._addWordRanges(o,e,r),this._addWhitespaceLine(o,e,r),o.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const r=t.getWordAtPosition(i);if(!r)return;const{word:o,startColumn:a}=r,s=i.column-a;let l=s,u=s,c=0;for(;l>=0;l--){const d=o.charCodeAt(l);if(l!==s&&(d===95||d===45))break;if(MR(d)&&AR(c))break;c=d}for(l+=1;u<o.length;u++){const d=o.charCodeAt(u);if(AR(d)&&MR(c))break;if(d===95||d===45)break;c=d}l<u&&e.push({range:new be(i.lineNumber,a+l,i.lineNumber,a+u)})}_addWordRanges(e,t,i){const r=t.getWordAtPosition(i);r&&e.push({range:new be(i.lineNumber,r.startColumn,i.lineNumber,r.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(i.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(i.lineNumber)===0&&e.push({range:new be(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var vBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gBe=function(n,e){return function(t,i){e(t,i,n)}},uI;class NA{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new NA(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}var Zf;let yy=(Zf=class{static get(e){return e.getContribution(uI.ID)}constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}dispose(){var e;(e=this._selectionListener)==null||e.dispose()}async run(e){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||await cZ(this._languageFeaturesService.selectionRangeProvider,i,t.map(o=>o.getPosition()),this._editor.getOption(114),an.None).then(o=>{var a;if(!(!Wo(o)||o.length!==t.length)&&!(!this._editor.hasModel()||!Sl(this._editor.getSelections(),t,(s,l)=>s.equalsSelection(l)))){for(let s=0;s<o.length;s++)o[s]=o[s].filter(l=>l.containsPosition(t[s].getStartPosition())&&l.containsPosition(t[s].getEndPosition())),o[s].unshift(t[s]);this._state=o.map(s=>new NA(0,s)),(a=this._selectionListener)==null||a.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var s;this._ignoreSelection||((s=this._selectionListener)==null||s.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(o=>o.mov(e));const r=this._state.map(o=>Nt.fromPositions(o.ranges[o.index].getStartPosition(),o.ranges[o.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(r)}finally{this._ignoreSelection=!1}}},uI=Zf,Zf.ID="editor.contrib.smartSelectController",Zf);yy=uI=vBe([gBe(1,xt)],yy);class uZ extends Qe{constructor(e,t){super(t),this._forward=e}async run(e,t){const i=yy.get(t);i&&await i.run(this._forward)}}class pBe extends uZ{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:G("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"1_basic",title:G({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}ii.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class mBe extends uZ{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:G("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:pt.MenubarSelectionMenu,group:"1_basic",title:G({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}gn(yy.ID,yy,4);Le(pBe);Le(mBe);async function cZ(n,e,t,i,r){const o=n.all(e).concat(new hBe(i.selectSubwords));o.length===1&&o.unshift(new uS);const a=[],s=[];for(const l of o)a.push(Promise.resolve(l.provideSelectionRanges(e,t,r)).then(u=>{if(Wo(u)&&u.length===t.length)for(let c=0;c<t.length;c++){s[c]||(s[c]=[]);for(const d of u[c])be.isIRange(d.range)&&be.containsPosition(d.range,t[c])&&s[c].push(be.lift(d.range))}},Fi));return await Promise.all(a),s.map(l=>{if(l.length===0)return[];l.sort((f,h)=>Ot.isBefore(f.getStartPosition(),h.getStartPosition())?1:Ot.isBefore(h.getStartPosition(),f.getStartPosition())||Ot.isBefore(f.getEndPosition(),h.getEndPosition())?-1:Ot.isBefore(h.getEndPosition(),f.getEndPosition())?1:0);const u=[];let c;for(const f of l)(!c||be.containsRange(f,c)&&!be.equalsRange(f,c))&&(u.push(f),c=f);if(!i.selectLeadingAndTrailingWhitespace)return u;const d=[u[0]];for(let f=1;f<u.length;f++){const h=u[f-1],v=u[f];if(v.startLineNumber!==h.startLineNumber||v.endLineNumber!==h.endLineNumber){const g=new be(h.startLineNumber,e.getLineFirstNonWhitespaceColumn(h.startLineNumber),h.endLineNumber,e.getLineLastNonWhitespaceColumn(h.endLineNumber));g.containsRange(h)&&!g.equalsRange(h)&&v.containsRange(g)&&!v.equalsRange(g)&&d.push(g);const p=new be(h.startLineNumber,1,h.endLineNumber,e.getLineMaxColumn(h.endLineNumber));p.containsRange(h)&&!p.equalsRange(g)&&v.containsRange(p)&&!v.equalsRange(p)&&d.push(p)}d.push(v)}return d})}ii.registerCommand("_executeSelectionRangeProvider",async function(n,...e){const[t,i]=e;In(Kn.isUri(t));const r=n.get(xt).selectionRangeProvider,o=await n.get(Rs).createModelReference(t);try{return cZ(r,o.object.textEditorModel,i,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},an.None)}finally{o.dispose()}});const bBe=Object.freeze({View:St("view","View"),Help:St("help","Help"),Test:St("test","Test"),File:St("file","File"),Preferences:St("preferences","Preferences"),Developer:St({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});class db{constructor(e,t,i,r=null){this.startLineNumbers=e,this.endLineNumbers=t,this.lastLineRelativePosition=i,this.showEndForLine=r}equals(e){return!!e&&this.lastLineRelativePosition===e.lastLineRelativePosition&&this.showEndForLine===e.showEndForLine&&Sl(this.startLineNumbers,e.startLineNumbers)&&Sl(this.endLineNumbers,e.endLineNumbers)}static get Empty(){return new db([],[],0)}}const G3=B2("stickyScrollViewLayer",{createHTML:n=>n}),cP="data-sticky-line-index",Y3="data-sticky-is-line",yBe="data-sticky-is-line-number",Z3="data-sticky-is-folding-icon";class _Be extends dt{constructor(e){super(),this._editor=e,this._foldingIconStore=new st,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",e instanceof ss),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const t=()=>{this._linesDomNode.style.left=this._editor.getOption(116).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(i=>{i.hasChanged(116)&&t(),i.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(i=>{i.scrollLeftChanged&&t(),i.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{t(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),t(),this._register(this._editor.onDidLayoutChange(i=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(e){return this._renderedStickyLines.find(t=>t.lineNumber===e)}getCurrentLines(){return this._lineNumbers}setState(e,t,i){if(i===void 0&&(!this._previousState&&!e||this._previousState&&this._previousState.equals(e)))return;const r=this._isWidgetHeightZero(e),o=r?void 0:e,a=r?0:this._findLineToRebuildWidgetFrom(e,i);this._renderRootNode(o,t,a),this._previousState=e}_isWidgetHeightZero(e){if(!e)return!0;const t=e.startLineNumbers.length*this._lineHeight+e.lastLineRelativePosition;if(t>0){this._lastLineRelativePosition=e.lastLineRelativePosition;const i=[...e.startLineNumbers];e.showEndForLine!==null&&(i[e.showEndForLine]=e.endLineNumbers[e.showEndForLine]),this._lineNumbers=i}else this._lastLineRelativePosition=0,this._lineNumbers=[];return t===0}_findLineToRebuildWidgetFrom(e,t){if(!e||!this._previousState)return 0;if(t!==void 0)return t;const i=this._previousState,r=e.startLineNumbers.findIndex(o=>!i.startLineNumbers.includes(o));return r===-1?0:r}_updateWidgetWidth(){const e=this._editor.getLayoutInfo(),t=e.contentLeft;this._lineNumbersDomNode.style.width=`${t}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-e.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${e.width-e.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(e){this._foldingIconStore.clear();for(let t=e;t<this._renderedStickyLines.length;t++){const i=this._renderedStickyLines[t];i.lineNumberDomNode.remove(),i.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,e),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(e){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${e?.5:0}s`)}_setFoldingIconsVisibility(e){for(const t of this._renderedStickyLines){const i=t.foldingIcon;i&&i.setVisible(e?!0:i.isCollapsed)}}async _renderRootNode(e,t,i){if(this._clearStickyLinesFromLine(i),!e)return;for(const s of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(s);const r=this._editor.getLayoutInfo(),o=this._lineNumbers.slice(i);for(const[s,l]of o.entries()){const u=this._renderChildNode(s+i,l,t,r);u&&(this._linesDomNode.appendChild(u.lineDomNode),this._lineNumbersDomNode.appendChild(u.lineNumberDomNode),this._renderedStickyLines.push(u))}t&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const a=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${a}px`,this._linesDomNodeScrollable.style.height=`${a}px`,this._rootDomNode.style.height=`${a}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(s=>s.scrollWidth))+r.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(111)==="mouseover"&&(this._foldingIconStore.add(Rn(this._lineNumbersDomNode,hi.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(Rn(this._lineNumbersDomNode,hi.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(e,t,i,r){const o=this._editor._getViewModel();if(!o)return;const a=o.coordinatesConverter.convertModelPositionToViewPosition(new Ot(t,1)).lineNumber,s=o.getViewLineRenderingData(a),l=this._editor.getOption(68);let u;try{u=kb.filter(s.inlineDecorations,a,s.minColumn,s.maxColumn)}catch{u=[]}const c=new W2(!0,!0,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,0,s.tokens,u,s.tabSize,s.startVisibleColumn,1,1,1,500,"none",!0,!0,null),d=new $2(2e3),f=V2(c,d);let h;G3?h=G3.createHTML(d.build()):h=d.build();const v=document.createElement("span");v.setAttribute(cP,String(e)),v.setAttribute(Y3,""),v.setAttribute("role","listitem"),v.tabIndex=0,v.className="sticky-line-content",v.classList.add(`stickyLine${t}`),v.style.lineHeight=`${this._lineHeight}px`,v.innerHTML=h;const g=document.createElement("span");g.setAttribute(cP,String(e)),g.setAttribute(yBe,""),g.className="sticky-line-number",g.style.lineHeight=`${this._lineHeight}px`;const p=r.contentLeft;g.style.width=`${p}px`;const m=document.createElement("span");l.renderType===1||l.renderType===3&&t%10===0?m.innerText=t.toString():l.renderType===2&&(m.innerText=Math.abs(t-this._editor.getPosition().lineNumber).toString()),m.className="sticky-line-number-inner",m.style.lineHeight=`${this._lineHeight}px`,m.style.width=`${r.lineNumbersWidth}px`,m.style.paddingLeft=`${r.lineNumbersLeft}px`,g.appendChild(m);const b=this._renderFoldingIconForLine(i,t);b&&g.appendChild(b.domNode),this._editor.applyFontInfo(v),this._editor.applyFontInfo(m),g.style.lineHeight=`${this._lineHeight}px`,v.style.lineHeight=`${this._lineHeight}px`,g.style.height=`${this._lineHeight}px`,v.style.height=`${this._lineHeight}px`;const C=new wBe(e,t,v,g,b,f.characterMapping,v.scrollWidth);return this._updateTopAndZIndexOfStickyLine(C)}_updateTopAndZIndexOfStickyLine(e){var c;const t=e.index,i=e.lineDomNode,r=e.lineNumberDomNode,o=t===this._lineNumbers.length-1,a="0",s="1";i.style.zIndex=o?a:s,r.style.zIndex=o?a:s;const l=`${t*this._lineHeight+this._lastLineRelativePosition+((c=e.foldingIcon)!=null&&c.isCollapsed?1:0)}px`,u=`${t*this._lineHeight}px`;return i.style.top=o?l:u,r.style.top=o?l:u,e}_renderFoldingIconForLine(e,t){const i=this._editor.getOption(111);if(!e||i==="never")return;const r=e.regions,o=r.findRange(t),a=r.getStartLineNumber(o);if(!(t===a))return;const l=r.isCollapsed(o),u=new CBe(l,a,r.getEndLineNumber(o),this._lineHeight);return u.setVisible(this._isOnGlyphMargin?!0:l||i==="always"),u.domNode.setAttribute(Z3,""),u}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:2,stackOridinal:10}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(e){0<=e&&e<this._renderedStickyLines.length&&this._renderedStickyLines[e].lineDomNode.focus()}getEditorPositionFromNode(e){if(!e||e.children.length>0)return null;const t=this._getRenderedStickyLineFromChildDomNode(e);if(!t)return null;const i=Wee(t.characterMapping,e,0);return new Ot(t.lineNumber,i)}getLineNumberFromChildDomNode(e){var t;return((t=this._getRenderedStickyLineFromChildDomNode(e))==null?void 0:t.lineNumber)??null}_getRenderedStickyLineFromChildDomNode(e){const t=this.getLineIndexFromChildDomNode(e);return t===null||t<0||t>=this._renderedStickyLines.length?null:this._renderedStickyLines[t]}getLineIndexFromChildDomNode(e){const t=this._getAttributeValue(e,cP);return t?parseInt(t,10):null}isInStickyLine(e){return this._getAttributeValue(e,Y3)!==void 0}isInFoldingIconDomNode(e){return this._getAttributeValue(e,Z3)!==void 0}_getAttributeValue(e,t){for(;e&&e!==this._rootDomNode;){const i=e.getAttribute(t);if(i!==null)return i;e=e.parentElement}}}class wBe{constructor(e,t,i,r,o,a,s){this.index=e,this.lineNumber=t,this.lineDomNode=i,this.lineNumberDomNode=r,this.foldingIcon=o,this.characterMapping=a,this.scrollWidth=s}}class CBe{constructor(e,t,i,r){this.isCollapsed=e,this.foldingStartLine=t,this.foldingEndLine=i,this.dimension=r,this.domNode=document.createElement("div"),this.domNode.style.width=`${r}px`,this.domNode.style.height=`${r}px`,this.domNode.className=Hn.asClassName(e?J0:X0)}setVisible(e){this.domNode.style.cursor=e?"pointer":"default",this.domNode.style.opacity=e?"1":"0"}}class fb{constructor(e,t){this.startLineNumber=e,this.endLineNumber=t}}class ES{constructor(e,t,i){this.range=e,this.children=t,this.parent=i}}class dZ{constructor(e,t,i,r){this.uri=e,this.version=t,this.element=i,this.outlineProviderId=r}}var ox=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_y=function(n,e){return function(t,i){e(t,i,n)}},hb;(function(n){n.OUTLINE_MODEL="outlineModel",n.FOLDING_PROVIDER_MODEL="foldingProviderModel",n.INDENTATION_MODEL="indentationModel"})(hb||(hb={}));var Ac;(function(n){n[n.VALID=0]="VALID",n[n.INVALID=1]="INVALID",n[n.CANCELED=2]="CANCELED"})(Ac||(Ac={}));let cI=class extends dt{constructor(e,t,i,r){switch(super(),this._editor=e,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new id(300)),this._updateOperation=this._register(new st),this._editor.getOption(116).defaultModel){case hb.OUTLINE_MODEL:this._modelProviders.push(new dI(this._editor,r));case hb.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new hI(this._editor,t,r));case hb.INDENTATION_MODEL:this._modelProviders.push(new fI(this._editor,i));break}}dispose(){this._modelProviders.forEach(e=>e.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(e){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(const t of this._modelProviders){const{statusPromise:i,modelPromise:r}=t.computeStickyModel(e);this._modelPromise=r;const o=await i;if(this._modelPromise!==r)return null;switch(o){case Ac.CANCELED:return this._updateOperation.clear(),null;case Ac.VALID:return t.stickyModel}}return null}).catch(t=>(Jn(t),null))}};cI=ox([_y(2,ln),_y(3,xt)],cI);class fZ extends dt{constructor(e){super(),this._editor=e,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,Ac.INVALID}computeStickyModel(e){if(e.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};const t=cr(i=>this.createModelFromProvider(i));return{statusPromise:t.then(i=>this.isModelValid(i)?e.isCancellationRequested?Ac.CANCELED:(this._stickyModel=this.createStickyModel(e,i),Ac.VALID):this._invalid()).then(void 0,i=>(Jn(i),Ac.CANCELED)),modelPromise:t}}isModelValid(e){return!0}isProviderValid(){return!0}}let dI=class extends fZ{constructor(e,t){super(e),this._languageFeaturesService=t}createModelFromProvider(e){return au.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),e)}createStickyModel(e,t){var a;const{stickyOutlineElement:i,providerID:r}=this._stickyModelFromOutlineModel(t,(a=this._stickyModel)==null?void 0:a.outlineProviderId),o=this._editor.getModel();return new dZ(o.uri,o.getVersionId(),i,r)}isModelValid(e){return e&&e.children.size>0}_stickyModelFromOutlineModel(e,t){let i;if(pu.first(e.children.values())instanceof MY){const s=pu.find(e.children.values(),l=>l.id===t);if(s)i=s.children;else{let l="",u=-1,c;for(const[d,f]of e.children.entries()){const h=this._findSumOfRangesOfGroup(f);h>u&&(c=f,u=h,l=f.id)}t=l,i=c.children}}else i=e.children;const r=[],o=Array.from(i.values()).sort((s,l)=>{const u=new fb(s.symbol.range.startLineNumber,s.symbol.range.endLineNumber),c=new fb(l.symbol.range.startLineNumber,l.symbol.range.endLineNumber);return this._comparator(u,c)});for(const s of o)r.push(this._stickyModelFromOutlineElement(s,s.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new ES(void 0,r,void 0),providerID:t}}_stickyModelFromOutlineElement(e,t){const i=[];for(const o of e.children.values())if(o.symbol.selectionRange.startLineNumber!==o.symbol.range.endLineNumber)if(o.symbol.selectionRange.startLineNumber!==t)i.push(this._stickyModelFromOutlineElement(o,o.symbol.selectionRange.startLineNumber));else for(const a of o.children.values())i.push(this._stickyModelFromOutlineElement(a,o.symbol.selectionRange.startLineNumber));i.sort((o,a)=>this._comparator(o.range,a.range));const r=new fb(e.symbol.selectionRange.startLineNumber,e.symbol.range.endLineNumber);return new ES(r,i,void 0)}_comparator(e,t){return e.startLineNumber!==t.startLineNumber?e.startLineNumber-t.startLineNumber:t.endLineNumber-e.endLineNumber}_findSumOfRangesOfGroup(e){let t=0;for(const i of e.children.values())t+=this._findSumOfRangesOfGroup(i);return e instanceof eT?t+e.symbol.range.endLineNumber-e.symbol.selectionRange.startLineNumber:t}};dI=ox([_y(1,xt)],dI);class hZ extends fZ{constructor(e){super(e),this._foldingLimitReporter=new TY(e)}createStickyModel(e,t){const i=this._fromFoldingRegions(t),r=this._editor.getModel();return new dZ(r.uri,r.getVersionId(),i,void 0)}isModelValid(e){return e!==null}_fromFoldingRegions(e){const t=e.length,i=[],r=new ES(void 0,[],void 0);for(let o=0;o<t;o++){const a=e.getParentIndex(o);let s;a!==-1?s=i[a]:s=r;const l=new ES(new fb(e.getStartLineNumber(o),e.getEndLineNumber(o)+1),[],s);s.children.push(l),i.push(l)}return r}}let fI=class extends hZ{constructor(e,t){super(e),this._languageConfigurationService=t,this.provider=this._register(new _A(e.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}async createModelFromProvider(e){return this.provider.compute(e)}};fI=ox([_y(1,or)],fI);let hI=class extends hZ{constructor(e,t,i){super(e),this._languageFeaturesService=i;const r=fd.getFoldingRangeProviders(this._languageFeaturesService,e.getModel());r.length>0&&(this.provider=this._register(new wA(e.getModel(),r,t,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}async createModelFromProvider(e){var t;return((t=this.provider)==null?void 0:t.compute(e))??null}};hI=ox([_y(2,xt)],hI);var SBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},X3=function(n,e){return function(t,i){e(t,i,n)}};class OBe{constructor(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.nestingDepth=i}}let vI=class extends dt{constructor(e,t,i){super(),this._languageFeaturesService=t,this._languageConfigurationService=i,this._onDidChangeStickyScroll=this._register(new on),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=e,this._sessionStore=this._register(new st),this._updateSoon=this._register(new Xi(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(116)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(116).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add(bi(()=>{var t;(t=this._stickyModelProvider)==null||t.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){var e;return(e=this._model)==null?void 0:e.version}updateStickyModelProvider(){var t;(t=this._stickyModelProvider)==null||t.dispose(),this._stickyModelProvider=null;const e=this._editor;e.hasModel()&&(this._stickyModelProvider=new cI(e,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}async update(){var e;(e=this._cts)==null||e.dispose(!0),this._cts=new Er,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(e){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=await this._stickyModelProvider.update(e);e.isCancellationRequested||(this._model=t)}updateIndex(e){return e===-1?e=0:e<0&&(e=-e-2),e}getCandidateStickyLinesIntersectingFromStickyModel(e,t,i,r,o){if(t.children.length===0)return;let a=o;const s=[];for(let c=0;c<t.children.length;c++){const d=t.children[c];d.range&&s.push(d.range.startLineNumber)}const l=this.updateIndex(jC(s,e.startLineNumber,(c,d)=>c-d)),u=this.updateIndex(jC(s,e.startLineNumber+r,(c,d)=>c-d));for(let c=l;c<=u;c++){const d=t.children[c];if(!d)return;if(d.range){const f=d.range.startLineNumber,h=d.range.endLineNumber;e.startLineNumber<=h+1&&f-1<=e.endLineNumber&&f!==a&&(a=f,i.push(new OBe(f,h-1,r+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(e,d,i,r+1,f))}else this.getCandidateStickyLinesIntersectingFromStickyModel(e,d,i,r,o)}}getCandidateStickyLinesIntersecting(e){var r,o;if(!((r=this._model)!=null&&r.element))return[];let t=[];this.getCandidateStickyLinesIntersectingFromStickyModel(e,this._model.element,t,0,-1);const i=(o=this._editor._getViewModel())==null?void 0:o.getHiddenAreas();if(i)for(const a of i)t=t.filter(s=>!(s.startLineNumber>=a.startLineNumber&&s.endLineNumber<=a.endLineNumber+1));return t}};vI=SBe([X3(1,xt),X3(2,or)],vI);var xBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bv=function(n,e){return function(t,i){e(t,i,n)}},gI,Xf;let ju=(Xf=class extends dt{constructor(e,t,i,r,o,a,s){super(),this._editor=e,this._contextMenuService=t,this._languageFeaturesService=i,this._instaService=r,this._contextKeyService=s,this._sessionStore=new st,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._stickyScrollWidget=new _Be(this._editor),this._stickyLineCandidateProvider=new vI(this._editor,i,o),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=db.Empty,this._onDidResize(),this._readConfiguration();const l=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(c=>{this._readConfigurationChange(c)})),this._register(Rn(l,hi.CONTEXT_MENU,async c=>{this._onContextMenu(of(l),c)})),this._stickyScrollFocusedContextKey=ve.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=ve.stickyScrollVisible.bindTo(this._contextKeyService);const u=this._register(_g(l));this._register(u.onDidBlur(c=>{this._positionRevealed===!1&&l.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(u.onDidFocus(c=>{this.focus()})),this._registerMouseListeners(),this._register(Rn(l,hi.MOUSE_DOWN,c=>{this._onMouseDown=!0}))}static get(e){return e.getContribution(gI.ID)}_disposeFocusStickyScrollStore(){var e;this._stickyScrollFocusedContextKey.set(!1),(e=this._focusDisposableStore)==null||e.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new st,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(e){this._focusedStickyElementIndex=e?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const e=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:e[this._focusedStickyElementIndex],column:1})}_revealPosition(e){this._reveaInEditor(e,()=>this._editor.revealPosition(e))}_revealLineInCenterIfOutsideViewport(e){this._reveaInEditor(e,()=>this._editor.revealLineInCenterIfOutsideViewport(e.lineNumber,0))}_reveaInEditor(e,t){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,t(),this._editor.setSelection(be.fromPositions(e)),this._editor.focus()}_registerMouseListeners(){const e=this._register(new st),t=this._register(new GO(this._editor,{extractLineNumberFromMouseEvent:o=>{const a=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);return a?a.lineNumber:0}})),i=o=>{if(!this._editor.hasModel()||o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return null;const a=o.target.element;if(!a||a.innerText!==a.innerHTML)return null;const s=this._stickyScrollWidget.getEditorPositionFromNode(a);return s?{range:new be(s.lineNumber,s.column,s.lineNumber,s.column+a.innerText.length),textElement:a}:null},r=this._stickyScrollWidget.getDomNode();this._register(Eu(r,hi.CLICK,o=>{if(o.ctrlKey||o.altKey||o.metaKey||!o.leftButton)return;if(o.shiftKey){const u=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(u===null)return;const c=new Ot(this._endLineNumbers[u],1);this._revealLineInCenterIfOutsideViewport(c);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(o.target)){const u=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);this._toggleFoldingRegionForLine(u);return}if(!this._stickyScrollWidget.isInStickyLine(o.target))return;let l=this._stickyScrollWidget.getEditorPositionFromNode(o.target);if(!l){const u=this._stickyScrollWidget.getLineNumberFromChildDomNode(o.target);if(u===null)return;l=new Ot(u,1)}this._revealPosition(l)})),this._register(Eu(r,hi.MOUSE_MOVE,o=>{if(o.shiftKey){const a=this._stickyScrollWidget.getLineIndexFromChildDomNode(o.target);if(a===null||this._showEndForLine!==null&&this._showEndForLine===a)return;this._showEndForLine=a,this._renderStickyScroll();return}this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(Rn(r,hi.MOUSE_LEAVE,o=>{this._showEndForLine!==void 0&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._register(t.onMouseMoveOrRelevantKeyDown(([o,a])=>{const s=i(o);if(!s||!o.hasTriggerModifier||!this._editor.hasModel()){e.clear();return}const{range:l,textElement:u}=s;if(!l.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=l,e.clear();else if(u.style.textDecoration==="underline")return;const c=new Er;e.add(bi(()=>c.dispose(!0)));let d;v_(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new Ot(l.startLineNumber,l.startColumn+1),!1,c.token).then(f=>{if(!c.token.isCancellationRequested)if(f.length!==0){this._candidateDefinitionsLength=f.length;const h=u;d!==h?(e.clear(),d=h,d.style.textDecoration="underline",e.add(bi(()=>{d.style.textDecoration="none"}))):d||(d=h,d.style.textDecoration="underline",e.add(bi(()=>{d.style.textDecoration="none"})))}else e.clear()})})),this._register(t.onCancel(()=>{e.clear()})),this._register(t.onExecute(async o=>{if(o.target.type!==12||o.target.detail!==this._stickyScrollWidget.getId())return;const a=this._stickyScrollWidget.getEditorPositionFromNode(o.target.element);a&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:a.lineNumber,column:1})),this._instaService.invokeFunction(hY,o,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))}))}_onContextMenu(e,t){const i=new zee(e,t);this._contextMenuService.showContextMenu({menuId:pt.StickyScrollContext,getAnchor:()=>i})}_toggleFoldingRegionForLine(e){if(!this._foldingModel||e===null)return;const t=this._stickyScrollWidget.getRenderedStickyLine(e),i=t==null?void 0:t.foldingIcon;if(!i)return;mA(this._foldingModel,Number.MAX_VALUE,[e]),i.isCollapsed=!i.isCollapsed;const r=(i.isCollapsed?this._editor.getTopForLineNumber(i.foldingEndLine):this._editor.getTopForLineNumber(i.foldingStartLine))-this._editor.getOption(67)*t.index+1;this._editor.setScrollTop(r),this._renderStickyScroll(e)}_readConfiguration(){const e=this._editor.getOption(116);if(e.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else e.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(i=>{i.scrollTopChanged&&(this._showEndForLine=void 0,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(i=>this._onTokensChange(i))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=void 0,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=void 0,this._renderStickyScroll(0)}))}_readConfigurationChange(e){(e.hasChanged(116)||e.hasChanged(73)||e.hasChanged(67)||e.hasChanged(111)||e.hasChanged(68))&&this._readConfiguration(),e.hasChanged(68)&&this._renderStickyScroll(0)}_needsUpdate(e){const t=this._stickyScrollWidget.getCurrentLines();for(const i of t)for(const r of e.ranges)if(i>=r.fromLineNumber&&i<=r.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._renderStickyScroll(0)}_onDidResize(){const t=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(t*.25)}async _renderStickyScroll(e){const t=this._editor.getModel();if(!t||t.isTooLargeForTokenization()){this._resetState();return}const i=this._updateAndGetMinRebuildFromLine(e),r=this._stickyLineCandidateProvider.getVersionId();if(r===void 0||r===t.getVersionId())if(!this._focused)await this._updateState(i);else if(this._focusedStickyElementIndex===-1)await this._updateState(i),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const a=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];await this._updateState(i),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(a)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}_updateAndGetMinRebuildFromLine(e){if(e!==void 0){const t=this._minRebuildFromLine!==void 0?this._minRebuildFromLine:1/0;this._minRebuildFromLine=Math.min(e,t)}return this._minRebuildFromLine}async _updateState(e){var i;this._minRebuildFromLine=void 0,this._foldingModel=await((i=fd.get(this._editor))==null?void 0:i.getFoldingModel())??void 0,this._widgetState=this.findScrollWidgetState();const t=this._widgetState.startLineNumbers.length>0;this._stickyScrollVisibleContextKey.set(t),this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,e)}async _resetState(){this._minRebuildFromLine=void 0,this._foldingModel=void 0,this._widgetState=db.Empty,this._stickyScrollVisibleContextKey.set(!1),this._stickyScrollWidget.setState(void 0,void 0)}findScrollWidgetState(){const e=this._editor.getOption(67),t=Math.min(this._maxStickyLines,this._editor.getOption(116).maxLineCount),i=this._editor.getScrollTop();let r=0;const o=[],a=[],s=this._editor.getVisibleRanges();if(s.length!==0){const l=new fb(s[0].startLineNumber,s[s.length-1].endLineNumber),u=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(l);for(const c of u){const d=c.startLineNumber,f=c.endLineNumber,h=c.nestingDepth;if(f-d>0){const v=(h-1)*e,g=h*e,p=this._editor.getBottomForLineNumber(d)-i,m=this._editor.getTopForLineNumber(f)-i,b=this._editor.getBottomForLineNumber(f)-i;if(v>m&&v<=b){o.push(d),a.push(f+1),r=b-g;break}else g>p&&g<=b&&(o.push(d),a.push(f+1));if(o.length===t)break}}}return this._endLineNumbers=a,new db(o,a,r,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}},gI=Xf,Xf.ID="store.contrib.stickyScrollController",Xf);ju=gI=xBe([bv(1,sp),bv(2,xt),bv(3,ln),bv(4,or),bv(5,xa),bv(6,Ln)],ju);class EBe extends lo{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...St("toggleEditorStickyScroll","Toggle Editor Sticky Scroll"),mnemonicTitle:G({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Editor Sticky Scroll")},metadata:{description:St("toggleEditorStickyScroll.description","Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:bBe.View,toggled:{condition:Ne.equals("config.editor.stickyScroll.enabled",!0),title:G("stickyScroll","Sticky Scroll"),mnemonicTitle:G({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:pt.CommandPalette},{id:pt.MenubarAppearanceMenu,group:"4_editor",order:3},{id:pt.StickyScrollContext}]})}async run(e){const t=e.get(vi),i=!t.getValue("editor.stickyScroll.enabled");return t.updateValue("editor.stickyScroll.enabled",i)}}const ax=100;class PBe extends Ms{constructor(){super({id:"editor.action.focusStickyScroll",title:{...St("focusStickyScroll","Focus on the editor sticky scroll"),mnemonicTitle:G({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll")},precondition:Ne.and(Ne.has("config.editor.stickyScroll.enabled"),ve.stickyScrollVisible),menu:[{id:pt.CommandPalette}]})}runEditorCommand(e,t){var i;(i=ju.get(t))==null||i.focus()}}class kBe extends Ms{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:St("selectNextStickyScrollLine.title","Select the next editor sticky scroll line"),precondition:ve.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ax,primary:18}})}runEditorCommand(e,t){var i;(i=ju.get(t))==null||i.focusNext()}}class DBe extends Ms{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:St("selectPreviousStickyScrollLine.title","Select the previous sticky scroll line"),precondition:ve.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ax,primary:16}})}runEditorCommand(e,t){var i;(i=ju.get(t))==null||i.focusPrevious()}}class TBe extends Ms{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:St("goToFocusedStickyScrollLine.title","Go to the focused sticky scroll line"),precondition:ve.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ax,primary:3}})}runEditorCommand(e,t){var i;(i=ju.get(t))==null||i.goToFocused()}}class IBe extends Ms{constructor(){super({id:"editor.action.selectEditor",title:St("selectEditor.title","Select Editor"),precondition:ve.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:ax,primary:9}})}runEditorCommand(e,t){var i;(i=ju.get(t))==null||i.selectEditor()}}gn(ju.ID,ju,1);Vn(EBe);Vn(PBe);Vn(DBe);Vn(kBe);Vn(TBe);Vn(IBe);var vZ=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Lm=function(n,e){return function(t,i){e(t,i,n)}};class LBe{constructor(e,t,i,r,o,a){this.range=e,this.insertText=t,this.filterText=i,this.additionalTextEdits=r,this.command=o,this.completion=a}}let pI=class extends Uee{constructor(e,t,i,r,o,a){super(o.disposable),this.model=e,this.line=t,this.word=i,this.completionModel=r,this._suggestMemoryService=a}canBeReused(e,t,i){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===i.startColumn&&this.word.endColumn<i.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){const e=[],{items:t}=this.completionModel,i=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},t),r=pu.slice(t,i),o=pu.slice(t,0,i);let a=5;for(const s of pu.concat(r,o)){if(s.score===xb.Default)continue;const l=new be(s.editStart.lineNumber,s.editStart.column,s.editInsertEnd.lineNumber,s.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),u=s.completion.insertTextRules&&s.completion.insertTextRules&4?{snippet:s.completion.insertText}:s.completion.insertText;e.push(new LBe(l,u,s.filterTextLow??s.labelLow,s.completion.additionalTextEdits,s.completion.command,s)),a-->=0&&s.resolve(an.None)}return e}};pI=vZ([Lm(5,tx)],pI);let mI=class extends dt{constructor(e,t,i,r){super(),this._languageFeatureService=e,this._clipboardService=t,this._suggestMemoryService=i,this._editorService=r,this._store.add(e.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(e,t,i,r){var h;if(i.selectedSuggestionInfo)return;let o;for(const v of this._editorService.listCodeEditors())if(v.getModel()===e){o=v;break}if(!o)return;const a=o.getOption(90);if(Wv.isAllOff(a))return;e.tokenization.tokenizeIfCheap(t.lineNumber);const s=e.tokenization.getLineTokens(t.lineNumber),l=s.getStandardTokenType(s.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(Wv.valueFor(a,l)!=="inline")return;let u=e.getWordAtPosition(t),c;if(u!=null&&u.word||(c=this._getTriggerCharacterInfo(e,t)),!(u!=null&&u.word)&&!c||(u||(u=e.getWordUntilPosition(t)),u.endColumn!==t.column))return;let d;const f=e.getValueInRange(new be(t.lineNumber,1,t.lineNumber,t.column));if(!c&&((h=this._lastResult)!=null&&h.canBeReused(e,t.lineNumber,u))){const v=new N3(f,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=v,this._lastResult.acquire(),d=this._lastResult}else{const v=await SA(this._languageFeatureService.completionProvider,e,t,new dy(void 0,dS.createSuggestFilter(o).itemKind,c==null?void 0:c.providers),c&&{triggerKind:1,triggerCharacter:c.ch},r);let g;v.needsClipboard&&(g=await this._clipboardService.readText());const p=new Dc(v.items,t.column,new N3(f,0),cS.None,o.getOption(119),o.getOption(113),{boostFullMatch:!1,firstMatchCanBeWeak:!1},g);d=new pI(e,t.lineNumber,u,p,v,this._suggestMemoryService)}return this._lastResult=d,d}handleItemDidShow(e,t){t.completion.resolve(an.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){var o;const i=e.getValueInRange(be.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),r=new Set;for(const a of this._languageFeatureService.completionProvider.all(e))(o=a.triggerCharacters)!=null&&o.includes(i)&&r.add(a);if(r.size!==0)return{providers:r,ch:i}}};mI=vZ([Lm(0,xt),Lm(1,lp),Lm(2,tx),Lm(3,ir)],mI);dp(mI);class MBe extends Qe{constructor(){super({id:"editor.action.forceRetokenize",label:G("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.tokenization.resetTokenization();const r=new ko;i.tokenization.forceTokenization(i.getLineCount()),r.stop(),console.log(`tokenization took ${r.elapsed()}`)}}Le(MBe);const l1=class l1 extends lo{constructor(){super({id:l1.ID,title:St({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},metadata:{description:St("tabMovesFocusDescriptions","Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){const t=!RR.getTabFocusMode();RR.setTabFocusMode(t),t?ts(G("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):ts(G("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}};l1.ID="editor.action.toggleTabFocusMode";let bI=l1;Vn(bI);var ABe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},J3=function(n,e){return function(t,i){e(t,i,n)}};let yI=class extends dt{get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}constructor(e,t,i={},r,o){super(),this._link=t,this._hoverService=r,this._enabled=!0,this.el=yt(e,Ut("a.monaco-link",{tabIndex:t.tabIndex??0,href:t.href},t.label)),this.hoverDelegate=i.hoverDelegate??S1("mouse"),this.setTooltip(t.title),this.el.setAttribute("role","button");const a=this._register(new wx(this.el,"click")),s=this._register(new wx(this.el,"keypress")),l=lr.chain(s.event,d=>d.map(f=>new iL(f)).filter(f=>f.keyCode===3)),u=this._register(new wx(this.el,Kee.Tap)).event;this._register(a2.addTarget(this.el));const c=lr.any(a.event,l,u);this._register(c(d=>{this.enabled&&(AC.stop(d,!0),i!=null&&i.opener?i.opener(this._link.href):o.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(e){this.hoverDelegate.showNativeHover?this.el.title=e??"":!this.hover&&e?this.hover=this._register(this._hoverService.setupManagedHover(this.hoverDelegate,this.el,e)):this.hover&&this.hover.update(e)}};yI=ABe([J3(3,Ay),J3(4,As)],yI);var gZ=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pZ=function(n,e){return function(t,i){e(t,i,n)}};const RBe=26;let _I=class extends dt{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(wI))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show({...e,onClose:()=>{var t;this.hide(),(t=e.onClose)==null||t.call(e)}}),this._editor.setBanner(this.banner.element,RBe)}};_I=gZ([pZ(1,ln)],_I);let wI=class extends dt{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(fp,{}),this.element=Ut("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=Ut("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){gl(this.element)}show(e){gl(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const i=yt(this.element,Ut("div.icon-container"));i.setAttribute("aria-hidden","true"),e.icon&&i.appendChild(Ut(`div${Hn.asCSSSelector(e.icon)}`));const r=yt(this.element,Ut("div.message-container"));if(r.setAttribute("aria-hidden","true"),r.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=yt(this.element,Ut("div.message-actions-container")),e.actions)for(const a of e.actions)this._register(this.instantiationService.createInstance(yI,this.messageActionsContainer,{...a,tabIndex:-1},{}));const o=yt(this.element,Ut("div.action-container"));this.actionBar=this._register(new yb(o)),this.actionBar.push(this._register(new Sg("banner.close","Close Banner",Hn.asClassName(T2),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};wI=gZ([pZ(0,ln)],wI);var FA=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sg=function(n,e){return function(t,i){e(t,i,n)}};const NBe=Ti("extensions-warning-message",Kt.warning,G("warningIcon","Icon shown with a warning message in the extensions editor."));var pg;let wy=(pg=class extends dt{constructor(e,t,i,r){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=i,this._highlighter=null,this._bannerClosed=!1,this._updateState=o=>{if(o&&o.hasMore){if(this._bannerClosed)return;const a=Math.max(o.ambiguousCharacterCount,o.nonBasicAsciiCharacterCount,o.invisibleCharacterCount);let s;if(o.nonBasicAsciiCharacterCount>=a)s={message:G("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Sy};else if(o.ambiguousCharacterCount>=a)s={message:G("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Oh};else if(o.invisibleCharacterCount>=a)s={message:G("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Cy};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:s.message,icon:NBe,actions:[{label:s.command.shortLabel,href:`command:${s.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(r.createInstance(_I,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(126),this._register(i.onDidChangeTrust(o=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(o=>{o.hasChanged(126)&&(this._options=e.getOption(126),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=FBe(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(i=>i===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(i=>i.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(i=>i==="_os"?new Intl.NumberFormat().resolvedOptions().locale:i==="_vscode"?qee:i)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new CI(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new jBe(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}},pg.ID="editor.contrib.unicodeHighlighter",pg);wy=FA([sg(1,Vu),sg(2,Gee),sg(3,ln)],wy);function FBe(n,e){return{nonBasicASCII:e.nonBasicASCII===Cx?!n:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===Cx?!n:e.includeComments,includeStrings:e.includeStrings===Cx?!n:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}let CI=class extends dt{constructor(e,t,i,r){super(),this._editor=e,this._options=t,this._updateState=i,this._editorWorkerService=r,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new Xi(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const i=[];if(!t.hasMore)for(const r of t.ranges)i.push({range:r,options:PS.instance.getDecorationFromOptions(this._options)});this._decorations.set(i)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel();if(!b6(t,e))return null;const i=t.getValueInRange(e.range);return{reason:bZ(i,this._options),inComment:_6(t,e),inString:y6(t,e)}}};CI=FA([sg(3,Vu)],CI);class jBe extends dt{constructor(e,t,i){super(),this._editor=e,this._options=t,this._updateState=i,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new Xi(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._editor.getVisibleRanges(),t=[],i={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const r of e){const o=w6.computeUnicodeHighlights(this._model,this._options,r);for(const a of o.ranges)i.ranges.push(a);i.ambiguousCharacterCount+=i.ambiguousCharacterCount,i.invisibleCharacterCount+=i.invisibleCharacterCount,i.nonBasicAsciiCharacterCount+=i.nonBasicAsciiCharacterCount,i.hasMore=i.hasMore||o.hasMore}if(!i.hasMore)for(const r of i.ranges)t.push({range:r,options:PS.instance.getDecorationFromOptions(this._options)});this._updateState(i),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel(),i=t.getValueInRange(e.range);return b6(t,e)?{reason:bZ(i,this._options),inComment:_6(t,e),inString:y6(t,e)}:null}}const mZ=G("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options");let SI=class{constructor(e,t,i){this._editor=e,this._languageService=t,this._openerService=i,this.hoverOrdinal=5}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const i=this._editor.getModel(),r=this._editor.getContribution(wy.ID);if(!r)return[];const o=[],a=new Set;let s=300;for(const l of t){const u=r.getDecorationInfo(l);if(!u)continue;const d=i.getValueInRange(l.range).codePointAt(0),f=dP(d);let h;switch(u.reason.kind){case 0:{z2(u.reason.confusableWith)?h=G("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",f,dP(u.reason.confusableWith.codePointAt(0))):h=G("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",f,dP(u.reason.confusableWith.codePointAt(0)));break}case 1:h=G("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",f);break;case 2:h=G("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",f);break}if(a.has(h))continue;a.add(h);const v={codePoint:d,reason:u.reason,inComment:u.inComment,inString:u.inString},g=G("unicodeHighlight.adjustSettings","Adjust settings"),p=`command:${kS.ID}?${encodeURIComponent(JSON.stringify(v))}`,m=new $r("",!0).appendMarkdown(h).appendText(" ").appendLink(p,g,mZ);o.push(new Ya(this,l.range,[m],!1,s++))}return o}renderHoverParts(e,t){return hMe(e,t,this._editor,this._languageService,this._openerService)}};SI=FA([sg(1,Ll),sg(2,As)],SI);function OI(n){return`U+${n.toString(16).padStart(4,"0")}`}function dP(n){let e=`\`${OI(n)}\``;return C6.isInvisibleCharacter(n)||(e+=` "${`${HBe(n)}`}"`),e}function HBe(n){return n===96?"`` ` ``":"`"+String.fromCodePoint(n)+"`"}function bZ(n,e){return w6.computeUnicodeHighlightReason(n,e)}const u1=class u1{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const i=`${e}${t}`;let r=this.map.get(i);return r||(r=mn.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(i,r)),r}};u1.instance=new u1;let PS=u1;class BBe extends Qe{constructor(){super({id:Oh.ID,label:G("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=G("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}async run(e,t,i){const r=e==null?void 0:e.get(vi);r&&this.runAction(r)}async runAction(e){await e.updateValue(ku.includeComments,!1,2)}}class $Be extends Qe{constructor(){super({id:Oh.ID,label:G("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=G("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}async run(e,t,i){const r=e==null?void 0:e.get(vi);r&&this.runAction(r)}async runAction(e){await e.updateValue(ku.includeStrings,!1,2)}}const c1=class c1 extends Qe{constructor(){super({id:c1.ID,label:G("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=G("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}async run(e,t,i){const r=e==null?void 0:e.get(vi);r&&this.runAction(r)}async runAction(e){await e.updateValue(ku.ambiguousCharacters,!1,2)}};c1.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";let Oh=c1;const d1=class d1 extends Qe{constructor(){super({id:d1.ID,label:G("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=G("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}async run(e,t,i){const r=e==null?void 0:e.get(vi);r&&this.runAction(r)}async runAction(e){await e.updateValue(ku.invisibleCharacters,!1,2)}};d1.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";let Cy=d1;const f1=class f1 extends Qe{constructor(){super({id:f1.ID,label:G("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=G("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}async run(e,t,i){const r=e==null?void 0:e.get(vi);r&&this.runAction(r)}async runAction(e){await e.updateValue(ku.nonBasicASCII,!1,2)}};f1.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";let Sy=f1;const h1=class h1 extends Qe{constructor(){super({id:h1.ID,label:G("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}async run(e,t,i){const{codePoint:r,reason:o,inString:a,inComment:s}=i,l=String.fromCodePoint(r),u=e.get(Py),c=e.get(vi);function d(v){return C6.isInvisibleCharacter(v)?G("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",OI(v)):G("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${OI(v)} "${l}"`)}const f=[];if(o.kind===0)for(const v of o.notAmbiguousInLocales)f.push({label:G("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',v),run:async()=>{WBe(c,[v])}});if(f.push({label:d(r),run:()=>VBe(c,[r])}),s){const v=new BBe;f.push({label:v.label,run:async()=>v.runAction(c)})}else if(a){const v=new $Be;f.push({label:v.label,run:async()=>v.runAction(c)})}if(o.kind===0){const v=new Oh;f.push({label:v.label,run:async()=>v.runAction(c)})}else if(o.kind===1){const v=new Cy;f.push({label:v.label,run:async()=>v.runAction(c)})}else if(o.kind===2){const v=new Sy;f.push({label:v.label,run:async()=>v.runAction(c)})}else zBe(o);const h=await u.pick(f,{title:mZ});h&&await h.run()}};h1.ID="editor.action.unicodeHighlight.showExcludeOptions";let kS=h1;async function VBe(n,e){const t=n.getValue(ku.allowedCharacters);let i;typeof t=="object"&&t?i=t:i={};for(const r of e)i[String.fromCodePoint(r)]=!0;await n.updateValue(ku.allowedCharacters,i,2)}async function WBe(n,e){var r;const t=(r=n.inspect(ku.allowedLocales).user)==null?void 0:r.value;let i;typeof t=="object"&&t?i=Object.assign({},t):i={};for(const o of e)i[o]=!0;await n.updateValue(ku.allowedLocales,i,2)}function zBe(n){throw new Error(`Unexpected value: ${n}`)}Le(Oh);Le(Cy);Le(Sy);Le(kS);gn(wy.ID,wy,1);Rh.register(SI);var UBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Q3=function(n,e){return function(t,i){e(t,i,n)}};const yZ="ignoreUnusualLineTerminators";function KBe(n,e,t){n.setModelProperty(e.uri,yZ,t)}function qBe(n,e){return n.getModelProperty(e.uri,yZ)}var mg;let DS=(mg=class extends dt{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(127),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(127)&&(this._config=this._editor.getOption(127),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(r=>{r.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||qBe(this._codeEditorService,e)===!0||this._editor.getOption(92))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let i;try{this._isPresentingDialog=!0,i=await this._dialogService.confirm({title:G("unusualLineTerminators.title","Unusual Line Terminators"),message:G("unusualLineTerminators.message","Detected unusual line terminators"),detail:G("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",xl(e.uri)),primaryButton:G({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:G("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}if(!i.confirmed){KBe(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())}},mg.ID="editor.contrib.unusualLineTerminatorsDetector",mg);DS=UBe([Q3(1,Yee),Q3(2,ir)],DS);gn(DS.ID,DS,1);var GBe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},YBe=function(n,e){return function(t,i){e(t,i,n)}};class e2{constructor(){this.selector={language:"*"}}provideDocumentHighlights(e,t,i){const r=[],o=e.getWordAtPosition({lineNumber:t.lineNumber,column:t.column});return o?e.isDisposed()?void 0:e.findMatches(o.word,!0,!1,!0,NR,!1).map(s=>({range:s.range,kind:BC.Text})):Promise.resolve(r)}provideMultiDocumentHighlights(e,t,i,r){const o=new nd,a=e.getWordAtPosition({lineNumber:t.lineNumber,column:t.column});if(!a)return Promise.resolve(o);for(const s of[e,...i]){if(s.isDisposed())continue;const u=s.findMatches(a.word,!0,!1,!0,NR,!1).map(c=>({range:c.range,kind:BC.Text}));u&&o.set(s.uri,u)}return o}}let xI=class extends dt{constructor(e){super(),this._register(e.documentHighlightProvider.register("*",new e2)),this._register(e.multiDocumentHighlightProvider.register("*",new e2))}};xI=GBe([YBe(0,xt)],xI);var _Z=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},TC=function(n,e){return function(t,i){e(t,i,n)}},Ei,EI;const jA=new yn("hasWordHighlights",!1);function wZ(n,e,t,i){const r=n.ordered(e);return QI(r.map(o=>()=>Promise.resolve(o.provideDocumentHighlights(e,t,i)).then(void 0,Fi)),o=>o!=null).then(o=>{if(o){const a=new nd;return a.set(e.uri,o),a}return new nd})}function ZBe(n,e,t,i,r,o){const a=n.ordered(e);return QI(a.map(s=>()=>{const l=o.filter(u=>Jee(u)).filter(u=>Qee(s.selector,u.uri,u.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(s.provideMultiDocumentHighlights(e,t,l,r)).then(void 0,Fi)}),s=>s!=null)}class CZ{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=cr(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new be(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const r=t.startLineNumber,o=t.startColumn,a=t.endColumn,s=this._getCurrentWordRange(e,t);let l=!!(this._wordRange&&this._wordRange.equalsRange(s));for(let u=0,c=i.length;!l&&u<c;u++){const d=i.getRange(u);d&&d.startLineNumber===r&&d.startColumn<=o&&d.endColumn>=a&&(l=!0)}return l}cancel(){this.result.cancel()}}class XBe extends CZ{constructor(e,t,i,r){super(e,t,i),this._providers=r}_compute(e,t,i,r){return wZ(this._providers,e,t.getPosition(),r).then(o=>o||new nd)}}class JBe extends CZ{constructor(e,t,i,r,o){super(e,t,i),this._providers=r,this._otherModels=o}_compute(e,t,i,r){return ZBe(this._providers,e,t.getPosition(),i,r,this._otherModels).then(o=>o||new nd)}}function QBe(n,e,t,i,r){return new XBe(e,t,r,n)}function e$e(n,e,t,i,r,o){return new JBe(e,t,r,n,o)}fo("_executeDocumentHighlights",async(n,e,t)=>{const i=n.get(xt),r=await wZ(i.documentHighlightProvider,e,t,an.None);return r==null?void 0:r.get(e.uri)});var td;let PI=(td=class{constructor(e,t,i,r,o){this.toUnhook=new st,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new nd,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.runDelayer=this.toUnhook.add(new id(50)),this.editor=e,this.providers=t,this.multiDocumentProviders=i,this.codeEditorService=o,this._hasWordHighlights=jA.bindTo(r),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(a=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this.runDelayer.trigger(()=>{this._onPositionChanged(a)})})),this.toUnhook.add(e.onDidFocusEditorText(a=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this.runDelayer.trigger(()=>{this._run()}))})),this.toUnhook.add(e.onDidChangeModelContent(a=>{Zee(this.model.uri,"output")||this._stopAll()})),this.toUnhook.add(e.onDidChangeModel(a=>{!a.newModelUrl&&a.oldModelUrl?this._stopSingular():Ei.query&&this._run()})),this.toUnhook.add(e.onDidChangeConfiguration(a=>{var l,u;const s=this.editor.getOption(81);if(this.occurrencesHighlight!==s)switch(this.occurrencesHighlight=s,s){case"off":this._stopAll();break;case"singleFile":this._stopAll((u=(l=Ei.query)==null?void 0:l.modelInfo)==null?void 0:u.model);break;case"multiFile":Ei.query&&this._run(!0);break;default:console.warn("Unknown occurrencesHighlight setting value:",s);break}})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,Ei.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&(this.runDelayer.cancel(),this._run())}_getSortedHighlights(){return this.decorations.getRanges().sort(be.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))+1)%e.length,r=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);const o=this._getWord();if(o){const a=this.editor.getModel().getLineContent(r.startLineNumber);ts(`${a}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),i=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,r=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(r.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(r);const o=this._getWord();if(o){const a=this.editor.getModel().getLineContent(r.startLineNumber);ts(`${a}, ${i+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const e=Ei.storedDecorationIDs.get(this.editor.getModel().uri);e&&(this.editor.removeDecorations(e),Ei.storedDecorationIDs.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(e){const t=this.codeEditorService.listCodeEditors(),i=[];for(const r of t){if(!r.hasModel()||LC(r.getModel().uri,e==null?void 0:e.uri))continue;const o=Ei.storedDecorationIDs.get(r.getModel().uri);if(!o)continue;r.removeDecorations(o),i.push(r.getModel().uri);const a=vd.get(r);a!=null&&a.wordHighlighter&&a.wordHighlighter.decorations.length>0&&(a.wordHighlighter.decorations.clear(),a.wordHighlighter.workerRequest=null,a.wordHighlighter._hasWordHighlights.set(!1))}for(const r of i)Ei.storedDecorationIDs.delete(r)}_stopSingular(){var e,t,i,r;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((e=this.editor.getModel())==null?void 0:e.uri.scheme)!==io.vscodeNotebookCell&&((i=(t=Ei.query)==null?void 0:t.modelInfo)==null?void 0:i.model.uri.scheme)!==io.vscodeNotebookCell?(Ei.query=null,this._run()):(r=Ei.query)!=null&&r.modelInfo&&(Ei.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(e){this._removeAllDecorations(e),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){var t;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(e.reason!==3&&((t=this.editor.getModel())==null?void 0:t.uri.scheme)!==io.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:t,column:i})}getOtherModelsToHighlight(e){if(!e)return[];if(e.uri.scheme===io.vscodeNotebookCell){const o=[],a=this.codeEditorService.listCodeEditors();for(const s of a){const l=s.getModel();l&&l!==e&&l.uri.scheme===io.vscodeNotebookCell&&o.push(l)}return o}const i=[],r=this.codeEditorService.listCodeEditors();for(const o of r){if(!Xee(o))continue;const a=o.getModel();a&&e===a.modified&&i.push(a.modified)}if(i.length)return i;if(this.occurrencesHighlight==="singleFile")return[];for(const o of r){const a=o.getModel();a&&a!==e&&i.push(a)}return i}_run(e){var r,o;let t;if(this.editor.hasTextFocus()){const a=this.editor.getSelection();if(!a||a.startLineNumber!==a.endLineNumber){Ei.query=null,this._stopAll();return}const s=a.startColumn,l=a.endColumn,u=this._getWord();if(!u||u.startColumn>s||u.endColumn<l){Ei.query=null,this._stopAll();return}t=this.workerRequest&&this.workerRequest.isValid(this.model,a,this.decorations),Ei.query={modelInfo:{model:this.model,selection:a},word:u}}else if(!Ei.query){this._stopAll();return}if(this.lastCursorPositionChangeTime=new Date().getTime(),t)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else if(LC(this.editor.getModel().uri,(r=Ei.query.modelInfo)==null?void 0:r.model.uri)){if(!e){const l=this.decorations.getRanges();for(const u of l)if(u.containsPosition(this.editor.getPosition()))return}this._stopAll(e?this.model:void 0);const a=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const s=this.getOtherModelsToHighlight(this.editor.getModel());if(!Ei.query||!Ei.query.modelInfo||Ei.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(Ei.query.modelInfo.model,Ei.query.modelInfo.selection,Ei.query.word,s),(o=this.workerRequest)==null||o.result.then(l=>{a===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=l||[],this._beginRenderDecorations())},Jn)}}computeWithModel(e,t,i,r){return r.length?e$e(this.multiDocumentProviders,e,t,i,this.editor.getOption(132),r):QBe(this.providers,e,t,i,this.editor.getOption(132))}_beginRenderDecorations(){const e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){var t,i,r;this.renderDecorationsTimer=-1;const e=this.codeEditorService.listCodeEditors();for(const o of e){const a=vd.get(o);if(!a)continue;const s=[],l=(t=o.getModel())==null?void 0:t.uri;if(l&&this.workerRequestValue.has(l)){const u=Ei.storedDecorationIDs.get(l),c=this.workerRequestValue.get(l);if(c)for(const f of c)f.range&&s.push({range:f.range,options:Vje(f.kind)});let d=[];o.changeDecorations(f=>{d=f.deltaDecorations(u??[],s)}),Ei.storedDecorationIDs=Ei.storedDecorationIDs.set(l,d),s.length>0&&((i=a.wordHighlighter)==null||i.decorations.set(s),(r=a.wordHighlighter)==null||r._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}},Ei=td,td.storedDecorationIDs=new nd,td.query=null,td);PI=Ei=_Z([TC(4,ir)],PI);var Jf;let vd=(Jf=class extends dt{static get(e){return e.getContribution(EI.ID)}constructor(e,t,i,r){super(),this._wordHighlighter=null;const o=()=>{e.hasModel()&&!e.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new PI(e,i.documentHighlightProvider,i.multiDocumentHighlightProvider,t,r))};this._register(e.onDidChangeModel(a=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),o()})),o()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var e;(e=this._wordHighlighter)==null||e.moveNext()}moveBack(){var e;(e=this._wordHighlighter)==null||e.moveBack()}restoreViewState(e){this._wordHighlighter&&e&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}},EI=Jf,Jf.ID="editor.contrib.wordHighlighter",Jf);vd=EI=_Z([TC(1,Ln),TC(2,xt),TC(3,ir)],vd);class SZ extends Qe{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=vd.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class t$e extends SZ{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:G("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:jA,kbOpts:{kbExpr:ve.editorTextFocus,primary:65,weight:100}})}}class n$e extends SZ{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:G("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:jA,kbOpts:{kbExpr:ve.editorTextFocus,primary:1089,weight:100}})}}class i$e extends Qe{constructor(){super({id:"editor.action.wordHighlight.trigger",label:G("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:void 0,kbOpts:{kbExpr:ve.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const r=vd.get(t);r&&r.restoreViewState(!0)}}gn(vd.ID,vd,0);Le(t$e);Le(n$e);Le(i$e);dp(xI);class sx extends uo{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const r=kh(t.getOption(132),t.getOption(131)),o=t.getModel(),a=t.getSelections(),s=a.length>1,l=a.map(u=>{const c=new Ot(u.positionLineNumber,u.positionColumn),d=this._move(r,o,c,this._wordNavigationType,s);return this._moveTo(u,d,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,l.map(u=>ete.fromModelSelection(u))),l.length===1){const u=new Ot(l[0].positionLineNumber,l[0].positionColumn);t.revealPosition(u,0)}}_moveTo(e,t,i){return i?new Nt(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new Nt(t.lineNumber,t.column,t.lineNumber,t.column)}}class Sd extends sx{_move(e,t,i,r,o){return Hy.moveWordLeft(e,t,i,r,o)}}class Od extends sx{_move(e,t,i,r,o){return Hy.moveWordRight(e,t,i,r)}}class r$e extends Sd{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class o$e extends Sd{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class a$e extends Sd{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:Ne.and(ve.textInputFocus,(e=Ne.and(E1,P1))==null?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class s$e extends Sd{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class l$e extends Sd{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class u$e extends Sd{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:Ne.and(ve.textInputFocus,(e=Ne.and(E1,P1))==null?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class c$e extends Sd{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,r,o){return super._move(kh(k1.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,r,o)}}class d$e extends Sd{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,r,o){return super._move(kh(k1.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,r,o)}}class f$e extends Od{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class h$e extends Od{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:Ne.and(ve.textInputFocus,(e=Ne.and(E1,P1))==null?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class v$e extends Od{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class g$e extends Od{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class p$e extends Od{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:Ne.and(ve.textInputFocus,(e=Ne.and(E1,P1))==null?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class m$e extends Od{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class b$e extends Od{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,r,o){return super._move(kh(k1.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,r,o)}}class y$e extends Od{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,r,o){return super._move(kh(k1.wordSeparators.defaultValue,e.intlSegmenterLocales),t,i,r,o)}}class lx extends uo{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const r=e.get(or);if(!t.hasModel())return;const o=kh(t.getOption(132),t.getOption(131)),a=t.getModel(),s=t.getSelections(),l=t.getOption(6),u=t.getOption(11),c=r.getLanguageConfiguration(a.getLanguageId()).getAutoClosingPairs(),d=t._getViewModel(),f=s.map(h=>{const v=this._delete({wordSeparators:o,model:a,selection:h,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(9),autoClosingBrackets:l,autoClosingQuotes:u,autoClosingPairs:c,autoClosedCharacters:d.getCursorAutoClosedCharacters()},this._wordNavigationType);return new xy(v,"")});t.pushUndoStop(),t.executeCommands(this.id,f),t.pushUndoStop()}}class HA extends lx{_delete(e,t){const i=Hy.deleteWordLeft(e,t);return i||new be(1,1,1,1)}}class BA extends lx{_delete(e,t){const i=Hy.deleteWordRight(e,t);if(i)return i;const r=e.model.getLineCount(),o=e.model.getLineMaxColumn(r);return new be(r,o,r,o)}}class _$e extends HA{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:ve.writable})}}class w$e extends HA{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:ve.writable})}}class C$e extends HA{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:ve.writable,kbOpts:{kbExpr:ve.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class S$e extends BA{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:ve.writable})}}class O$e extends BA{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:ve.writable})}}class x$e extends BA{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:ve.writable,kbOpts:{kbExpr:ve.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class E$e extends Qe{constructor(){super({id:"deleteInsideWord",precondition:ve.writable,label:G("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const r=kh(t.getOption(132),t.getOption(131)),o=t.getModel(),s=t.getSelections().map(l=>{const u=Hy.deleteInsideWord(r,o,l);return new xy(u,"")});t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}Et(new r$e);Et(new o$e);Et(new a$e);Et(new s$e);Et(new l$e);Et(new u$e);Et(new f$e);Et(new h$e);Et(new v$e);Et(new g$e);Et(new p$e);Et(new m$e);Et(new c$e);Et(new d$e);Et(new b$e);Et(new y$e);Et(new _$e);Et(new w$e);Et(new C$e);Et(new S$e);Et(new O$e);Et(new x$e);Le(E$e);class P$e extends lx{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:ve.writable,kbOpts:{kbExpr:ve.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){const i=D1.deleteWordPartLeft(e);return i||new be(1,1,1,1)}}class k$e extends lx{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:ve.writable,kbOpts:{kbExpr:ve.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const i=D1.deleteWordPartRight(e);if(i)return i;const r=e.model.getLineCount(),o=e.model.getLineMaxColumn(r);return new be(r,o,r,o)}}class OZ extends sx{_move(e,t,i,r,o){return D1.moveWordPartLeft(e,t,i,o)}}class D$e extends OZ{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:ve.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}ii.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class T$e extends OZ{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:ve.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}ii.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class xZ extends sx{_move(e,t,i,r,o){return D1.moveWordPartRight(e,t,i)}}class I$e extends xZ{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:ve.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class L$e extends xZ{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:ve.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}Et(new P$e);Et(new k$e);Et(new D$e);Et(new T$e);Et(new I$e);Et(new L$e);const zA=class zA extends dt{constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const e=xo.get(this.editor);if(e&&this.editor.hasModel()){let t=this.editor.getOptions().get(93);t||(this.editor.isSimpleWidget?t=new $r(G("editor.simple.readonly","Cannot edit in read-only input")):t=new $r(G("editor.readonly","Cannot edit in read-only editor"))),e.showMessage(t,this.editor.getPosition())}}};zA.ID="editor.contrib.readOnlyMessageController";let TS=zA;gn(TS.ID,TS,2);var M$e=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},t2=function(n,e){return function(t,i){e(t,i,n)}};let kI=class extends dt{constructor(e,t,i){super(),this._textModel=e,this._languageFeaturesService=t,this._outlineModelService=i,this._currentModel=zo(this,void 0);const r=af("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),o=af("_textModel.onDidChangeContent",lr.debounce(a=>this._textModel.onDidChangeContent(a),()=>{},100));this._register(Ly(async(a,s)=>{r.read(a),o.read(a);const l=s.add(new ite),u=await this._outlineModelService.getOrCreate(this._textModel,l.token);s.isDisposed||this._currentModel.set(u,void 0)}))}getBreadcrumbItems(e,t){const i=this._currentModel.read(t);if(!i)return[];const r=i.asListOfDocumentSymbols().filter(o=>e.contains(o.range.startLineNumber)&&!e.contains(o.range.endLineNumber));return r.sort(nte(Ry(o=>o.range.endLineNumber-o.range.startLineNumber,C1))),r.map(o=>({name:o.name,kind:o.kind,startLineNumber:o.range.startLineNumber}))}};kI=M$e([t2(1,xt),t2(2,CA)],kI);tte.setBreadcrumbsSourceFactory((n,e)=>e.createInstance(kI,n));/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.52.2(404545bded1df6ffa41ea0af4e8ddb219018c6c1)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/var A$e=Object.defineProperty,R$e=Object.getOwnPropertyDescriptor,N$e=Object.getOwnPropertyNames,F$e=Object.prototype.hasOwnProperty,j$e=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of N$e(e))!F$e.call(n,r)&&r!==t&&A$e(n,r,{get:()=>e[r],enumerable:!(i=R$e(e,r))||i.enumerable});return n},H$e=(n,e,t)=>(j$e(n,e,"default"),t),Mm={};H$e(Mm,rte);var EZ={},fP={},B$e=class PZ{static getOrCreate(e){return fP[e]||(fP[e]=new PZ(e)),fP[e]}constructor(e){this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,i)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=i})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,EZ[this._languageId].loader().then(e=>this._lazyLoadPromiseResolve(e),e=>this._lazyLoadPromiseReject(e))),this._lazyLoadPromise}};function ux(n){const e=n.id;EZ[e]=n,Mm.languages.register(n);const t=B$e.getOrCreate(e);Mm.languages.registerTokensProviderFactory(e,{create:async()=>(await t.load()).language}),Mm.languages.onLanguageEncountered(e,async()=>{const i=await t.load();Mm.languages.setLanguageConfiguration(e,i.conf)})}ux({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>T1(()=>import("./monaco-editor-languages-DO1XL67I.js").then(n=>n.c),__vite__mapDeps([0,1,2]))});ux({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>T1(()=>import("./monaco-editor-languages-DO1XL67I.js").then(n=>n.c),__vite__mapDeps([0,1,2]))});ux({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>T1(()=>import("./monaco-editor-languages-DO1XL67I.js").then(n=>n.p),__vite__mapDeps([0,1,2]))});ux({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>T1(()=>import("./monaco-editor-languages-DO1XL67I.js").then(n=>n.j),__vite__mapDeps([0,1,2]))});bC.registerLanguage("verilog",eIe);const kZ=Pie();kZ.use(Vie);const b_=gp(aTe);b_.use(kZ);b_.use(Ua);b_.use(MEe);b_.use(tIe);b_.mount("#app");ODe().then(()=>{console.log("Text cache reinitialized")}).catch(n=>{console.error("Text cache reinitialization failed",n)})});export default $$e();
